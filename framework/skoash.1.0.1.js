!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){e.exports=n(7)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),f=r(c),l=n(3),p=r(l),d=function(e){function t(){o(this,t);var e=i(this,Object.getPrototypeOf(t).call(this));return e.state={started:!1,ready:!1},e}return u(t,e),s(t,[{key:"callProp",value:function(e,t){"function"==typeof this.props[e]&&this.props[e].call(this,t)}},{key:"complete",value:function(){var e=this;setTimeout(function(){e.setState({complete:!0},function(){skoash.trigger("complete"),"function"==typeof e.props.onComplete&&e.props.onComplete.call(e,e)})},this.props.completeDelay)}},{key:"incomplete",value:function(){this.state.complete&&!this.props.complete&&this.setState({complete:!1},function(){skoash.trigger("incomplete")})}},{key:"completeRefs",value:function(){this.complete({silent:!0}),f["default"].forEach(this.refs,function(e){"function"==typeof e.completeRefs&&e.completeRefs()})}},{key:"incompleteRefs",value:function(){this.incomplete(),f["default"].forEach(this.refs,function(e){"function"==typeof e.incompleteRefs&&e.incompleteRefs()})}},{key:"ready",value:function(){this.setState({ready:!0})}},{key:"start",value:function(){var e=this;this.setState({started:!0},function(){e.checkComplete()}),f["default"].each(this.refs,function(e){"function"==typeof e.start&&e.start()}),this.props.completeOnStart&&this.complete()}},{key:"stop",value:function(){this.setState({started:!1}),f["default"].each(this.refs,function(e){e&&"function"==typeof e.stop&&e.stop()})}},{key:"pause",value:function(){"function"==typeof this.props.onPause&&this.props.onPause(this),f["default"].each(this.refs,function(e){"function"==typeof e.pause&&e.pause()})}},{key:"resume",value:function(){"function"==typeof this.props.onResume&&this.props.onResume(this),f["default"].each(this.refs,function(e){"function"==typeof e.resume&&e.resume()})}},{key:"open",value:function(){this.setState({open:!0})}},{key:"close",value:function(){this.setState({open:!1})}},{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"bootstrap",value:function(){var e=this;this.props.complete&&this.complete(),this.requireForReady=Object.keys(e.refs),this.requireForComplete=this.requireForReady.filter(function(t){return e.refs[t].checkComplete}),this.collectMedia(),this.checkReady()}},{key:"collectData",value:function(){return"function"==typeof this.props.collectData?this.props.collectData.call(this):void 0}},{key:"loadData",value:function(){this.metaData&&"function"==typeof this.props.loadData&&this.props.loadData.call(this,this.metaData)}},{key:"collectMedia",value:function(){var e=this;e.media={video:[],audio:{background:[],sfx:[],voiceOver:[]},sequence:[]},f["default"].each(e.refs,function(t,n){skoash.Video&&t instanceof skoash.Video&&e.collectVideo(n),skoash.Audio&&t instanceof skoash.Audio&&e.collectAudio(n),skoash.MediaSequence&&t instanceof skoash.MediaSequence&&e.collectMediaSequence(n)}),e.audio=e.media.audio,e.video=e.media.video}},{key:"collectVideo",value:function(e){this.media[e]||(this.media[e]=this.refs[e]),this.media.video.push(this.refs[e])}},{key:"collectAudio",value:function(e){this.media[e]||(this.media[e]=this.refs[e]),this.media.audio[e]||(this.media.audio[e]=this.refs[e]),this.refs[e].props.type&&this.media.audio[this.refs[e].props.type].push(this.refs[e])}},{key:"collectMediaSequence",value:function(e){this.media[e]||(this.media[e]=this.refs[e]),this.media.sequence.push(this.refs[e])}},{key:"checkReady",value:function(){var e,t=this;this.props.checkReady&&!this.state.ready&&(t.requireForReady.forEach(function(e){t.refs[e]&&t.refs[e].state&&!t.refs[e].state.ready&&t.refs[e].bootstrap()}),e=t.requireForReady.every(function(e){return t.refs[e]&&(!t.refs[e].state||t.refs[e].state&&t.refs[e].state.ready)}),e?t.ready():setTimeout(t.checkReady.bind(t),100))}},{key:"checkComplete",value:function(){var e,t=this;t.props.checkComplete&&t.state.ready&&t.requireForComplete&&(t.requireForComplete.forEach(function(e){t.refs[e]&&"function"==typeof t.refs[e].checkComplete&&t.refs[e].checkComplete()}),e=t.requireForComplete.every(function(e){return t.refs[e]instanceof Node?!0:t.refs[e]&&t.refs[e].state&&(!t.refs[e].state||t.refs[e].state.complete)}),e&&!t.state.complete?t.complete():t.state.started&&!e&&t.state.complete&&t.incomplete())}},{key:"updateGameState",value:function(e){skoash.trigger("updateState",e)}},{key:"getClassNames",value:function(){return(0,p["default"])({READY:this.state.ready,STARTED:this.state.started,COMPLETE:this.state.complete,OPEN:this.state.open},this.props.className)}},{key:"renderContentList",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"children":arguments[0],t=[].concat(this.props[e]);return t.map(function(t,n){if(t){var r=t.ref||t.props["data-ref"]||e+"-"+n;return React.createElement(t.type,a({},t.props,{ref:r,key:n}))}})}},{key:"render",value:function(){return this.props.shouldRender?React.createElement(this.props.type,a({},this.props,{className:this.getClassNames()}),this.renderContentList()):null}}]),t}(React.Component);d.defaultProps={bootstrap:!0,checkComplete:!0,checkReady:!0,completeDelay:0,completeOnStart:!1,shouldRender:!0,type:"div"},t["default"]=d},function(e,t,n){var r;(function(e,o){(function(){function i(e,t){return e.set(t[0],t[1]),e}function u(e,t){return e.add(t),e}function a(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function s(e,t,n,r){for(var o=-1,i=e.length;++o<i;){var u=e[o];t(r,u,n(u),e)}return r}function c(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function f(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function l(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function p(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n];t(u,n,e)&&(i[o++]=u)}return i}function d(e,t){return!!e.length&&k(e,t,0)>-1}function h(e,t,n){for(var r=-1,o=e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function _(e,t){for(var n=-1,r=e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function v(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function y(e,t,n,r){var o=-1,i=e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function g(e,t,n,r){var o=e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function m(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e,t,n,r){var o;return n(e,function(e,n,i){return t(e,n,i)?(o=r?n:e,!1):void 0}),o}function w(e,t,n){for(var r=e.length,o=n?r:-1;n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function k(e,t,n){if(t!==t)return G(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function O(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function x(e,t){var n=e?e.length:0;return n?j(e,t)/n:Se}function S(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function A(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function j(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==Q&&(n=n===Q?i:n+i)}return n}function P(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function I(e,t){return _(t,function(t){return[t,e[t]]})}function E(e){return function(t){return e(t)}}function M(e,t){return _(t,function(t){return e[t]})}function T(e,t){return e.has(t)}function C(e,t){for(var n=-1,r=e.length;++n<r&&k(t,e[n],0)>-1;);return n}function R(e,t){for(var n=e.length;n--&&k(t,e[n],0)>-1;);return n}function D(e){return e&&e.Object===Object?e:null}function B(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function F(e){return Pn[e]}function L(e){return In[e]}function q(e){return"\\"+Tn[e]}function G(e,t,n){for(var r=e.length,o=t+(n?0:-1);n?o--:++o<r;){var i=e[o];if(i!==i)return o}return-1}function N(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function W(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function V(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n];u!==t&&u!==ne||(e[n]=ne,i[o++]=n)}return i}function $(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function U(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function H(e){if(!e||!kn.test(e))return e.length;for(var t=bn.lastIndex=0;bn.test(e);)t++;return t}function K(e){return e.match(bn)}function X(e){return En[e]}function Z(e){function t(e){if(_a(e)&&!ul(e)&&!(e instanceof o)){if(e instanceof r)return e;if(mc.call(e,"__wrapped__"))return si(e)}return new r(e)}function n(){}function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Q}function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ae,this.__views__=[]}function D(){var e=new o(this.__wrapped__);return e.__actions__=eo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=eo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=eo(this.__views__),e}function Rt(){if(this.__filtered__){var e=new o(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Dt(){var e=this.__wrapped__.value(),t=this.__dir__,n=ul(e),r=0>t,o=n?e.length:0,i=Go(0,o,this.__views__),u=i.start,a=i.end,s=a-u,c=r?a:u-1,f=this.__iteratees__,l=f.length,p=0,d=Vc(s,this.__takeCount__);if(!n||J>o||o==s&&d==s)return Dr(e,this.__actions__);var h=[];e:for(;s--&&d>p;){c+=t;for(var _=-1,v=e[c];++_<l;){var y=f[_],g=y.iteratee,m=y.type,b=g(v);if(m==be)v=b;else if(!b){if(m==me)continue e;break e}}h[p++]=v}return h}function Bt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ft(){this.__data__=tf?tf(null):{}}function Lt(e){return this.has(e)&&delete this.__data__[e]}function qt(e){var t=this.__data__;if(tf){var n=t[e];return n===te?Q:n}return mc.call(t,e)?t[e]:Q}function Gt(e){var t=this.__data__;return tf?t[e]!==Q:mc.call(t,e)}function Nt(e,t){var n=this.__data__;return n[e]=tf&&t===Q?te:t,this}function Wt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zt(){this.__data__=[]}function Vt(e){var t=this.__data__,n=dn(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():Bc.call(t,n,1),!0}function $t(e){var t=this.__data__,n=dn(t,e);return 0>n?Q:t[n][1]}function Ut(e){return dn(this.__data__,e)>-1}function Ht(e,t){var n=this.__data__,r=dn(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function Kt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xt(){this.__data__={hash:new Bt,map:new(Qc||Wt),string:new Bt}}function Zt(e){return Ro(this,e)["delete"](e)}function Qt(e){return Ro(this,e).get(e)}function Yt(e){return Ro(this,e).has(e)}function Jt(e,t){return Ro(this,e).set(e,t),this}function en(e){var t=-1,n=e?e.length:0;for(this.__data__=new Kt;++t<n;)this.add(e[t])}function tn(e){return this.__data__.set(e,te),this}function nn(e){return this.__data__.has(e)}function rn(e){this.__data__=new Wt(e)}function on(){this.__data__=new Wt}function un(e){return this.__data__["delete"](e)}function an(e){return this.__data__.get(e)}function sn(e){return this.__data__.has(e)}function cn(e,t){var n=this.__data__;return n instanceof Wt&&n.__data__.length==J&&(n=this.__data__=new Kt(n.__data__)),n.set(e,t),this}function fn(e,t,n,r){return e===Q||Yu(e,vc[n])&&!mc.call(r,n)?t:e}function ln(e,t,n){(n===Q||Yu(e[t],n))&&("number"!=typeof t||n!==Q||t in e)||(e[t]=n)}function pn(e,t,n){var r=e[t];mc.call(e,t)&&Yu(r,n)&&(n!==Q||t in e)||(e[t]=n)}function dn(e,t){for(var n=e.length;n--;)if(Yu(e[n][0],t))return n;return-1}function hn(e,t,n,r){return hf(e,function(e,o,i){t(r,e,n(e),i)}),r}function _n(e,t){return e&&to(t,es(t),e)}function vn(e,t){for(var n=-1,r=null==e,o=t.length,i=Array(o);++n<o;)i[n]=r?Q:Qa(e,t[n]);return i}function yn(e,t,n){return e===e&&(n!==Q&&(e=n>=e?e:n),t!==Q&&(e=e>=t?e:t)),e}function bn(e,t,n,r,o,i,u){var a;if(r&&(a=i?r(e,o,i,u):r(e)),a!==Q)return a;if(!ha(e))return e;var s=ul(e);if(s){if(a=Wo(e),!t)return eo(e,a)}else{var f=qo(e),l=f==Re||f==De;if(al(e))return Wr(e,t);if(f==Le||f==Ie||l&&!i){if(N(e))return i?e:{};if(a=zo(l?{}:e),!t)return no(e,_n(a,e))}else{if(!jn[f])return i?e:{};a=Vo(e,f,bn,t)}}u||(u=new rn);var p=u.get(e);if(p)return p;if(u.set(e,a),!s)var d=n?Io(e):es(e);return c(d||e,function(o,i){d&&(i=o,o=e[i]),pn(a,i,bn(o,t,n,r,i,e,u))}),a}function Pn(e){var t=es(e),n=t.length;return function(r){if(null==r)return!n;for(var o=n;o--;){var i=t[o],u=e[i],a=r[i];if(a===Q&&!(i in Object(r))||!u(a))return!1}return!0}}function In(e){return ha(e)?Cc(e):{}}function En(e,t,n){if("function"!=typeof e)throw new hc(ee);return Dc(function(){e.apply(Q,n)},t)}function Mn(e,t,n,r){var o=-1,i=d,u=!0,a=e.length,s=[],c=t.length;if(!a)return s;n&&(t=_(t,E(n))),r?(i=h,u=!1):t.length>=J&&(i=T,u=!1,t=new en(t));e:for(;++o<a;){var f=e[o],l=n?n(f):f;if(f=r||0!==f?f:0,u&&l===l){for(var p=c;p--;)if(t[p]===l)continue e;s.push(f)}else i(t,l,r)||s.push(f)}return s}function Tn(e,t){var n=!0;return hf(e,function(e,r,o){return n=!!t(e,r,o)}),n}function Dn(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],u=t(i);if(null!=u&&(a===Q?u===u&&!Ia(u):n(u,a)))var a=u,s=i}return s}function Bn(e,t,n,r){var o=e.length;for(n=Ba(n),0>n&&(n=-n>o?0:o+n),r=r===Q||r>o?o:Ba(r),0>r&&(r+=o),r=n>r?0:Fa(r);r>n;)e[n++]=t;return e}function Ln(e,t){var n=[];return hf(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function qn(e,t,n,r,o){var i=-1,u=e.length;for(n||(n=Uo),o||(o=[]);++i<u;){var a=e[i];t>0&&n(a)?t>1?qn(a,t-1,n,r,o):v(o,a):r||(o[o.length]=a)}return o}function Gn(e,t){return e&&vf(e,t,es)}function Nn(e,t){return e&&yf(e,t,es)}function Vn(e,t){return p(t,function(t){return la(e[t])})}function $n(e,t){t=Zo(t,e)?[t]:Gr(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[ui(t[n++])];return n&&n==r?e:Q}function Un(e,t,n){var r=t(e);return ul(e)?r:v(r,n(e))}function Hn(e,t){return e>t}function Kn(e,t){return mc.call(e,t)||"object"==typeof e&&t in e&&null===Fo(e)}function Xn(e,t){return t in Object(e)}function Zn(e,t,n){return e>=Vc(t,n)&&e<zc(t,n)}function Qn(e,t,n){for(var r=n?h:d,o=e[0].length,i=e.length,u=i,a=Array(i),s=1/0,c=[];u--;){var f=e[u];u&&t&&(f=_(f,E(t))),s=Vc(f.length,s),a[u]=!n&&(t||o>=120&&f.length>=120)?new en(u&&f):Q}f=e[0];var l=-1,p=a[0];e:for(;++l<o&&c.length<s;){var v=f[l],y=t?t(v):v;if(v=n||0!==v?v:0,!(p?T(p,y):r(c,y,n))){for(u=i;--u;){var g=a[u];if(!(g?T(g,y):r(e[u],y,n)))continue e}p&&p.push(y),c.push(v)}}return c}function Yn(e,t,n,r){return Gn(e,function(e,o,i){t(r,n(e),o,i)}),r}function Jn(e,t,n){Zo(t,e)||(t=Gr(t),e=oi(e,t),t=ji(t));var r=null==e?e:e[ui(t)];return null==r?Q:a(r,e,n)}function er(e,t,n,r,o){return e===t?!0:null==e||null==t||!ha(e)&&!_a(t)?e!==e&&t!==t:tr(e,t,er,n,r,o)}function tr(e,t,n,r,o,i){var u=ul(e),a=ul(t),s=Ee,c=Ee;u||(s=qo(e),s=s==Ie?Le:s),a||(c=qo(t),c=c==Ie?Le:c);var f=s==Le&&!N(e),l=c==Le&&!N(t),p=s==c;if(p&&!f)return i||(i=new rn),u||Ea(e)?Ao(e,t,n,r,o,i):jo(e,t,s,n,r,o,i);if(!(o&he)){var d=f&&mc.call(e,"__wrapped__"),h=l&&mc.call(t,"__wrapped__");if(d||h){var _=d?e.value():e,v=h?t.value():t;return i||(i=new rn),n(_,v,r,o,i)}}return p?(i||(i=new rn),Po(e,t,n,r,o,i)):!1}function nr(e,t,n,r){var o=n.length,i=o,u=!r;if(null==e)return!i;for(e=Object(e);o--;){var a=n[o];if(u&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var s=a[0],c=e[s],f=a[1];if(u&&a[2]){if(c===Q&&!(s in e))return!1}else{var l=new rn;if(r)var p=r(c,f,s,e,t,l);if(!(p===Q?er(f,c,r,de|he,l):p))return!1}}return!0}function rr(e){return"function"==typeof e?e:null==e?zs:"object"==typeof e?ul(e)?cr(e[0],e[1]):sr(e):Qs(e)}function or(e){return Wc(Object(e))}function ir(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function ur(e,t){return t>e}function ar(e,t){var n=-1,r=ta(e)?Array(e.length):[];return hf(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function sr(e){var t=Do(e);return 1==t.length&&t[0][2]?ti(t[0][0],t[0][1]):function(n){return n===e||nr(n,e,t)}}function cr(e,t){return Zo(e)&&ei(t)?ti(ui(e),t):function(n){var r=Qa(n,e);return r===Q&&r===t?Ja(n,e):er(t,r,Q,de|he)}}function fr(e,t,n,r,o){if(e!==t){if(!ul(t)&&!Ea(t))var i=ts(t);c(i||t,function(u,a){if(i&&(a=u,u=t[a]),ha(u))o||(o=new rn),lr(e,t,a,n,fr,r,o);else{var s=r?r(e[a],u,a+"",e,t,o):Q;s===Q&&(s=u),ln(e,a,s)}})}}function lr(e,t,n,r,o,i,u){var a=e[n],s=t[n],c=u.get(s);if(c)return void ln(e,n,c);var f=i?i(a,s,n+"",e,t,u):Q,l=f===Q;l&&(f=s,ul(s)||Ea(s)?ul(a)?f=a:na(a)?f=eo(a):(l=!1,f=bn(s,!0)):xa(s)||Ju(s)?Ju(a)?f=qa(a):!ha(a)||r&&la(a)?(l=!1,f=bn(s,!0)):f=a:l=!1),u.set(s,f),l&&o(f,s,r,i,u),u["delete"](s),ln(e,n,f)}function pr(e,t){var n=e.length;if(n)return t+=0>t?n:0,Ko(t,n)?e[t]:Q}function dr(e,t,n){var r=-1;t=_(t.length?t:[zs],E(Co()));var o=ar(e,function(e,n,o){var i=_(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return A(o,function(e,t){return Qr(e,t,n)})}function hr(e,t){return e=Object(e),y(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function _r(e,t){for(var n=-1,r=Eo(e),o=r.length,i={};++n<o;){var u=r[n],a=e[u];t(a,u)&&(i[u]=a)}return i}function vr(e){return function(t){return null==t?Q:t[e]}}function yr(e){return function(t){return $n(t,e)}}function gr(e,t,n,r){var o=r?O:k,i=-1,u=t.length,a=e;for(n&&(a=_(e,E(n)));++i<u;)for(var s=0,c=t[i],f=n?n(c):c;(s=o(a,f,s,r))>-1;)a!==e&&Bc.call(a,s,1),Bc.call(e,s,1);return e}function mr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;if(Ko(o))Bc.call(e,o,1);else if(Zo(o,e))delete e[ui(o)];else{var u=Gr(o),a=oi(e,u);null!=a&&delete a[ui(ji(u))]}}}return e}function br(e,t){return e+Lc(Uc()*(t-e+1))}function wr(e,t,n,r){for(var o=-1,i=zc(Fc((t-e)/(n||1)),0),u=Array(i);i--;)u[r?i:++o]=e,e+=n;return u}function kr(e,t){var n="";if(!e||1>t||t>Oe)return n;do t%2&&(n+=e),t=Lc(t/2),t&&(e+=e);while(t);return n}function Or(e,t,n,r){t=Zo(t,e)?[t]:Gr(t);for(var o=-1,i=t.length,u=i-1,a=e;null!=a&&++o<i;){var s=ui(t[o]);if(ha(a)){var c=n;if(o!=u){var f=a[s];c=r?r(f,s,a):Q,c===Q&&(c=null==f?Ko(t[o+1])?[]:{}:f)}pn(a,s,c)}a=a[s]}return e}function xr(e,t,n){var r=-1,o=e.length;0>t&&(t=-t>o?0:o+t),n=n>o?o:n,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function Sr(e,t){var n;return hf(e,function(e,r,o){return n=t(e,r,o),!n}),!!n}function Ar(e,t,n){var r=0,o=e?e.length:r;if("number"==typeof t&&t===t&&Pe>=o){for(;o>r;){var i=r+o>>>1,u=e[i];null!==u&&!Ia(u)&&(n?t>=u:t>u)?r=i+1:o=i}return o}return jr(e,t,zs,n)}function jr(e,t,n,r){t=n(t);for(var o=0,i=e?e.length:0,u=t!==t,a=null===t,s=Ia(t),c=t===Q;i>o;){var f=Lc((o+i)/2),l=n(e[f]),p=l!==Q,d=null===l,h=l===l,_=Ia(l);if(u)var v=r||h;else v=c?h&&(r||p):a?h&&p&&(r||!d):s?h&&p&&!d&&(r||!_):d||_?!1:r?t>=l:t>l;v?o=f+1:i=f}return Vc(i,je)}function Pr(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n],a=t?t(u):u;if(!n||!Yu(a,s)){var s=a;i[o++]=0===u?0:u}}return i}function Ir(e){return"number"==typeof e?e:Ia(e)?Se:+e}function Er(e){if("string"==typeof e)return e;if(Ia(e))return df?df.call(e):"";var t=e+"";return"0"==t&&1/e==-ke?"-0":t}function Mr(e,t,n){var r=-1,o=d,i=e.length,u=!0,a=[],s=a;if(n)u=!1,o=h;else if(i>=J){var c=t?null:mf(e);if(c)return $(c);u=!1,o=T,s=new en}else s=t?[]:a;e:for(;++r<i;){var f=e[r],l=t?t(f):f;if(f=n||0!==f?f:0,u&&l===l){for(var p=s.length;p--;)if(s[p]===l)continue e;t&&s.push(l),a.push(f)}else o(s,l,n)||(s!==a&&s.push(l),a.push(f))}return a}function Tr(e,t){t=Zo(t,e)?[t]:Gr(t),e=oi(e,t);var n=ui(ji(t));return!(null!=e&&Kn(e,n))||delete e[n]}function Cr(e,t,n,r){return Or(e,t,n($n(e,t)),r)}function Rr(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?xr(e,r?0:i,r?i+1:o):xr(e,r?i+1:0,r?o:i)}function Dr(e,t){var n=e;return n instanceof o&&(n=n.value()),y(t,function(e,t){return t.func.apply(t.thisArg,v([e],t.args))},n)}function Br(e,t,n){for(var r=-1,o=e.length;++r<o;)var i=i?v(Mn(i,e[r],t,n),Mn(e[r],i,t,n)):e[r];return i&&i.length?Mr(i,t,n):[]}function Fr(e,t,n){for(var r=-1,o=e.length,i=t.length,u={};++r<o;){var a=i>r?t[r]:Q;n(u,e[r],a)}return u}function Lr(e){return na(e)?e:[]}function qr(e){return"function"==typeof e?e:zs}function Gr(e){return ul(e)?e:xf(e)}function Nr(e,t,n){var r=e.length;return n=n===Q?r:n,!t&&n>=r?e:xr(e,t,n)}function Wr(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function zr(e){var t=new e.constructor(e.byteLength);return new Pc(t).set(new Pc(e)),t}function Vr(e,t){var n=t?zr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function $r(e,t,n){var r=t?n(z(e),!0):z(e);return y(r,i,new e.constructor)}function Ur(e){var t=new e.constructor(e.source,xt.exec(e));return t.lastIndex=e.lastIndex,t}function Hr(e,t,n){var r=t?n($(e),!0):$(e);return y(r,u,new e.constructor)}function Kr(e){return pf?Object(pf.call(e)):{}}function Xr(e,t){var n=t?zr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Zr(e,t){if(e!==t){var n=e!==Q,r=null===e,o=e===e,i=Ia(e),u=t!==Q,a=null===t,s=t===t,c=Ia(t);if(!a&&!c&&!i&&e>t||i&&u&&s&&!a&&!c||r&&u&&s||!n&&s||!o)return 1;if(!r&&!i&&!c&&t>e||c&&n&&o&&!r&&!i||a&&n&&o||!u&&o||!s)return-1}return 0}function Qr(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,u=o.length,a=n.length;++r<u;){var s=Zr(o[r],i[r]);if(s){if(r>=a)return s;var c=n[r];return s*("desc"==c?-1:1)}}return e.index-t.index}function Yr(e,t,n,r){for(var o=-1,i=e.length,u=n.length,a=-1,s=t.length,c=zc(i-u,0),f=Array(s+c),l=!r;++a<s;)f[a]=t[a];for(;++o<u;)(l||i>o)&&(f[n[o]]=e[o]);for(;c--;)f[a++]=e[o++];return f}function Jr(e,t,n,r){for(var o=-1,i=e.length,u=-1,a=n.length,s=-1,c=t.length,f=zc(i-a,0),l=Array(f+c),p=!r;++o<f;)l[o]=e[o];for(var d=o;++s<c;)l[d+s]=t[s];for(;++u<a;)(p||i>o)&&(l[d+n[u]]=e[o++]);return l}function eo(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function to(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var u=t[o],a=r?r(n[u],e[u],u,n,e):e[u];pn(n,u,a)}return n}function no(e,t){return to(e,Lo(e),t)}function ro(e,t){return function(n,r){var o=ul(n)?s:hn,i=t?t():{};return o(n,e,Co(r),i)}}function oo(e){return Wu(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:Q,u=o>2?n[2]:Q;for(i=e.length>3&&"function"==typeof i?(o--,i):Q,u&&Xo(n[0],n[1],u)&&(i=3>o?Q:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}function io(e,t){return function(n,r){if(null==n)return n;if(!ta(n))return e(n,r);for(var o=n.length,i=t?o:-1,u=Object(n);(t?i--:++i<o)&&r(u[i],i,u)!==!1;);return n}}function uo(e){return function(t,n,r){for(var o=-1,i=Object(t),u=r(t),a=u.length;a--;){var s=u[e?a:++o];if(n(i[s],s,i)===!1)break}return t}}function ao(e,t,n){function r(){var t=this&&this!==Wn&&this instanceof r?i:e;return t.apply(o?n:this,arguments)}var o=t&re,i=fo(e);return r}function so(e){return function(t){t=Na(t);var n=kn.test(t)?K(t):Q,r=n?n[0]:t.charAt(0),o=n?Nr(n,1).join(""):t.slice(1);return r[e]()+o}}function co(e){return function(t){return y(qs(ms(t).replace(gn,"")),e,"")}}function fo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=In(e.prototype),r=e.apply(n,t);return ha(r)?r:n}}function lo(e,t,n){function r(){for(var i=arguments.length,u=Array(i),s=i,c=To(r);s--;)u[s]=arguments[s];var f=3>i&&u[0]!==c&&u[i-1]!==c?[]:V(u,c);if(i-=f.length,n>i)return ko(e,t,ho,r.placeholder,Q,u,f,Q,Q,n-i);var l=this&&this!==Wn&&this instanceof r?o:e;return a(l,this,u)}var o=fo(e);return r}function po(e){return Wu(function(t){t=qn(t,1);var n=t.length,o=n,i=r.prototype.thru;for(e&&t.reverse();o--;){var u=t[o];if("function"!=typeof u)throw new hc(ee);if(i&&!a&&"wrapper"==Mo(u))var a=new r([],!0)}for(o=a?o:n;++o<n;){u=t[o];var s=Mo(u),c="wrapper"==s?bf(u):Q;a=c&&Yo(c[0])&&c[1]==(fe|ue|se|le)&&!c[4].length&&1==c[9]?a[Mo(c[0])].apply(a,c[3]):1==u.length&&Yo(u)?a[s]():a.thru(u)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&ul(r)&&r.length>=J)return a.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function ho(e,t,n,r,o,i,u,a,s,c){function f(){for(var y=arguments.length,g=Array(y),m=y;m--;)g[m]=arguments[m];if(h)var b=To(f),w=B(g,b);if(r&&(g=Yr(g,r,o,h)),i&&(g=Jr(g,i,u,h)),y-=w,h&&c>y){var k=V(g,b);return ko(e,t,ho,f.placeholder,n,g,k,a,s,c-y)}var O=p?n:this,x=d?O[e]:e;return y=g.length,a?g=ii(g,a):_&&y>1&&g.reverse(),l&&y>s&&(g.length=s),this&&this!==Wn&&this instanceof f&&(x=v||fo(x)),x.apply(O,g)}var l=t&fe,p=t&re,d=t&oe,h=t&(ue|ae),_=t&pe,v=d?Q:fo(e);return f}function _o(e,t){return function(n,r){return Yn(n,e,t(r),{})}}function vo(e){return function(t,n){var r;if(t===Q&&n===Q)return 0;if(t!==Q&&(r=t),n!==Q){if(r===Q)return n;"string"==typeof t||"string"==typeof n?(t=Er(t),n=Er(n)):(t=Ir(t),n=Ir(n)),r=e(t,n)}return r}}function yo(e){return Wu(function(t){return t=1==t.length&&ul(t[0])?_(t[0],E(Co())):_(qn(t,1,Ho),E(Co())),Wu(function(n){var r=this;return e(t,function(e){return a(e,r,n)})})})}function go(e,t){t=t===Q?" ":Er(t);var n=t.length;if(2>n)return n?kr(t,e):t;var r=kr(t,Fc(e/H(t)));return kn.test(t)?Nr(K(r),0,e).join(""):r.slice(0,e)}function mo(e,t,n,r){function o(){for(var t=-1,s=arguments.length,c=-1,f=r.length,l=Array(f+s),p=this&&this!==Wn&&this instanceof o?u:e;++c<f;)l[c]=r[c];for(;s--;)l[c++]=arguments[++t];return a(p,i?n:this,l)}var i=t&re,u=fo(e);return o}function bo(e){return function(t,n,r){return r&&"number"!=typeof r&&Xo(t,n,r)&&(n=r=Q),t=La(t),t=t===t?t:0,n===Q?(n=t,t=0):n=La(n)||0,r=r===Q?n>t?1:-1:La(r)||0,wr(t,n,r,e)}}function wo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=La(t),n=La(n)),e(t,n)}}function ko(e,t,n,r,o,i,u,a,s,c){var f=t&ue,l=f?u:Q,p=f?Q:u,d=f?i:Q,h=f?Q:i;t|=f?se:ce,t&=~(f?ce:se),t&ie||(t&=~(re|oe));var _=[e,t,o,d,l,h,p,a,s,c],v=n.apply(Q,_);return Yo(e)&&Of(v,_),v.placeholder=r,v}function Oo(e){var t=pc[e];return function(e,n){if(e=La(e),n=Ba(n)){var r=(Na(e)+"e").split("e"),o=t(r[0]+"e"+(+r[1]+n));return r=(Na(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function xo(e){return function(t){var n=qo(t);return n==Be?z(t):n==Ne?U(t):I(t,e(t))}}function So(e,t,n,r,o,i,u,a){var s=t&oe;if(!s&&"function"!=typeof e)throw new hc(ee);var c=r?r.length:0;if(c||(t&=~(se|ce),r=o=Q),u=u===Q?u:zc(Ba(u),0),a=a===Q?a:Ba(a),c-=o?o.length:0,t&ce){var f=r,l=o;r=o=Q}var p=s?Q:bf(e),d=[e,t,n,r,o,f,l,i,u,a];if(p&&ni(d,p),e=d[0],t=d[1],n=d[2],r=d[3],o=d[4],a=d[9]=null==d[9]?s?0:e.length:zc(d[9]-c,0),!a&&t&(ue|ae)&&(t&=~(ue|ae)),t&&t!=re)h=t==ue||t==ae?lo(e,t,a):t!=se&&t!=(re|se)||o.length?ho.apply(Q,d):mo(e,t,n,r);else var h=ao(e,t,n);var _=p?gf:Of;return _(h,d)}function Ao(e,t,n,r,o,i){var u=o&he,a=e.length,s=t.length;if(a!=s&&!(u&&s>a))return!1;var c=i.get(e);if(c)return c==t;var f=-1,l=!0,p=o&de?new en:Q;for(i.set(e,t);++f<a;){var d=e[f],h=t[f];if(r)var _=u?r(h,d,f,t,e,i):r(d,h,f,e,t,i);if(_!==Q){if(_)continue;l=!1;break}if(p){if(!m(t,function(e,t){return p.has(t)||d!==e&&!n(d,e,r,o,i)?void 0:p.add(t)})){l=!1;break}}else if(d!==h&&!n(d,h,r,o,i)){l=!1;break}}return i["delete"](e),l}function jo(e,t,n,r,o,i,u){switch(n){case He:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ue:return!(e.byteLength!=t.byteLength||!r(new Pc(e),new Pc(t)));case Me:case Te:return+e==+t;case Ce:return e.name==t.name&&e.message==t.message;case Fe:return e!=+e?t!=+t:e==+t;case Ge:case We:return e==t+"";case Be:var a=z;case Ne:var s=i&he;if(a||(a=$),e.size!=t.size&&!s)return!1;var c=u.get(e);return c?c==t:(i|=de,u.set(e,t),Ao(a(e),a(t),r,o,i,u));case ze:if(pf)return pf.call(e)==pf.call(t)}return!1}function Po(e,t,n,r,o,i){var u=o&he,a=es(e),s=a.length,c=es(t),f=c.length;if(s!=f&&!u)return!1;for(var l=s;l--;){var p=a[l];if(!(u?p in t:Kn(t,p)))return!1}var d=i.get(e);if(d)return d==t;var h=!0;i.set(e,t);for(var _=u;++l<s;){p=a[l];var v=e[p],y=t[p];if(r)var g=u?r(y,v,p,t,e,i):r(v,y,p,e,t,i);if(!(g===Q?v===y||n(v,y,r,o,i):g)){h=!1;break}_||(_="constructor"==p)}if(h&&!_){var m=e.constructor,b=t.constructor;m!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b)&&(h=!1)}return i["delete"](e),h}function Io(e){return Un(e,es,Lo)}function Eo(e){return Un(e,ts,kf)}function Mo(e){for(var t=e.name+"",n=of[t],r=mc.call(of,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function To(e){var n=mc.call(t,"placeholder")?t:e;return n.placeholder}function Co(){var e=t.iteratee||Vs;return e=e===Vs?rr:e,arguments.length?e(arguments[0],arguments[1]):e}function Ro(e,t){var n=e.__data__;return Qo(t)?n["string"==typeof t?"string":"hash"]:n.map}function Do(e){for(var t=xl(e),n=t.length;n--;)t[n][2]=ei(t[n][1]);return t}function Bo(e,t){var n=e[t];return ba(n)?n:Q}function Fo(e){return qc(Object(e))}function Lo(e){return Mc(Object(e))}function qo(e){return kc.call(e)}function Go(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],u=i.size;switch(i.type){case"drop":e+=u;break;case"dropRight":t-=u;break;case"take":t=Vc(t,e+u);break;case"takeRight":e=zc(e,t-u)}}return{start:e,end:t}}function No(e,t,n){t=Zo(t,e)?[t]:Gr(t);for(var r,o=-1,i=t.length;++o<i;){var u=ui(t[o]);if(!(r=null!=e&&n(e,u)))break;e=e[u]}if(r)return r;var i=e?e.length:0;return!!i&&da(i)&&Ko(u,i)&&(ul(e)||Pa(e)||Ju(e))}function Wo(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&mc.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function zo(e){return"function"!=typeof e.constructor||Jo(e)?{}:In(Fo(e))}function Vo(e,t,n,r){var o=e.constructor;switch(t){case Ue:return zr(e);case Me:case Te:return new o(+e);case He:return Vr(e,r);case Ke:case Xe:case Ze:case Qe:case Ye:case Je:case et:case tt:case nt:return Xr(e,r);case Be:return $r(e,r,n);case Fe:case We:return new o(e);case Ge:return Ur(e);case Ne:return Hr(e,r,n);case ze:return Kr(e)}}function $o(e){var t=e?e.length:Q;return da(t)&&(ul(e)||Pa(e)||Ju(e))?P(t,String):null}function Uo(e){return ul(e)||Ju(e)}function Ho(e){return ul(e)&&!(2==e.length&&!la(e[0]))}function Ko(e,t){return t=null==t?Oe:t,!!t&&("number"==typeof e||Et.test(e))&&e>-1&&e%1==0&&t>e}function Xo(e,t,n){if(!ha(n))return!1;var r=typeof t;return("number"==r?ta(n)&&Ko(t,n.length):"string"==r&&t in n)?Yu(n[t],e):!1}function Zo(e,t){if(ul(e))return!1;var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||Ia(e)?!0:ht.test(e)||!dt.test(e)||null!=t&&e in Object(t)}function Qo(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e;
}function Yo(e){var n=Mo(e),r=t[n];if("function"!=typeof r||!(n in o.prototype))return!1;if(e===r)return!0;var i=bf(r);return!!i&&e===i[0]}function Jo(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||vc;return e===n}function ei(e){return e===e&&!ha(e)}function ti(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==Q||e in Object(n))}}function ni(e,t){var n=e[1],r=t[1],o=n|r,i=(re|oe|fe)>o,u=r==fe&&n==ue||r==fe&&n==le&&e[7].length<=t[8]||r==(fe|le)&&t[7].length<=t[8]&&n==ue;if(!i&&!u)return e;r&re&&(e[2]=t[2],o|=n&re?0:ie);var a=t[3];if(a){var s=e[3];e[3]=s?Yr(s,a,t[4]):a,e[4]=s?V(e[3],ne):t[4]}return a=t[5],a&&(s=e[5],e[5]=s?Jr(s,a,t[6]):a,e[6]=s?V(e[5],ne):t[6]),a=t[7],a&&(e[7]=a),r&fe&&(e[8]=null==e[8]?t[8]:Vc(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function ri(e,t,n,r,o,i){return ha(e)&&ha(t)&&fr(e,t,Q,ri,i.set(t,e)),e}function oi(e,t){return 1==t.length?e:$n(e,xr(t,0,-1))}function ii(e,t){for(var n=e.length,r=Vc(t.length,n),o=eo(e);r--;){var i=t[r];e[r]=Ko(i,n)?o[i]:Q}return e}function ui(e){if("string"==typeof e||Ia(e))return e;var t=e+"";return"0"==t&&1/e==-ke?"-0":t}function ai(e){if(null!=e){try{return gc.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function si(e){if(e instanceof o)return e.clone();var t=new r(e.__wrapped__,e.__chain__);return t.__actions__=eo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ci(e,t,n){t=(n?Xo(e,t,n):t===Q)?1:zc(Ba(t),0);var r=e?e.length:0;if(!r||1>t)return[];for(var o=0,i=0,u=Array(Fc(r/t));r>o;)u[i++]=xr(e,o,o+=t);return u}function fi(e){for(var t=-1,n=e?e.length:0,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}function li(){for(var e=arguments.length,t=Array(e?e-1:0),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return e?v(ul(n)?eo(n):[n],qn(t,1)):[]}function pi(e,t,n){var r=e?e.length:0;return r?(t=n||t===Q?1:Ba(t),xr(e,0>t?0:t,r)):[]}function di(e,t,n){var r=e?e.length:0;return r?(t=n||t===Q?1:Ba(t),t=r-t,xr(e,0,0>t?0:t)):[]}function hi(e,t){return e&&e.length?Rr(e,Co(t,3),!0,!0):[]}function _i(e,t){return e&&e.length?Rr(e,Co(t,3),!0):[]}function vi(e,t,n,r){var o=e?e.length:0;return o?(n&&"number"!=typeof n&&Xo(e,t,n)&&(n=0,r=o),Bn(e,t,n,r)):[]}function yi(e,t){return e&&e.length?w(e,Co(t,3)):-1}function gi(e,t){return e&&e.length?w(e,Co(t,3),!0):-1}function mi(e){var t=e?e.length:0;return t?qn(e,1):[]}function bi(e){var t=e?e.length:0;return t?qn(e,ke):[]}function wi(e,t){var n=e?e.length:0;return n?(t=t===Q?1:Ba(t),qn(e,t)):[]}function ki(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function Oi(e){return e&&e.length?e[0]:Q}function xi(e,t,n){var r=e?e.length:0;return r?(n=Ba(n),0>n&&(n=zc(r+n,0)),k(e,t,n)):-1}function Si(e){return di(e,1)}function Ai(e,t){return e?Nc.call(e,t):""}function ji(e){var t=e?e.length:0;return t?e[t-1]:Q}function Pi(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=r;if(n!==Q&&(o=Ba(n),o=(0>o?zc(r+o,0):Vc(o,r-1))+1),t!==t)return G(e,o,!0);for(;o--;)if(e[o]===t)return o;return-1}function Ii(e,t){return e&&e.length?pr(e,Ba(t)):Q}function Ei(e,t){return e&&e.length&&t&&t.length?gr(e,t):e}function Mi(e,t,n){return e&&e.length&&t&&t.length?gr(e,t,Co(n)):e}function Ti(e,t,n){return e&&e.length&&t&&t.length?gr(e,t,Q,n):e}function Ci(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=Co(t,3);++r<i;){var u=e[r];t(u,r,e)&&(n.push(u),o.push(r))}return mr(e,o),n}function Ri(e){return e?Kc.call(e):e}function Di(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Xo(e,t,n)?(t=0,n=r):(t=null==t?0:Ba(t),n=n===Q?r:Ba(n)),xr(e,t,n)):[]}function Bi(e,t){return Ar(e,t)}function Fi(e,t,n){return jr(e,t,Co(n))}function Li(e,t){var n=e?e.length:0;if(n){var r=Ar(e,t);if(n>r&&Yu(e[r],t))return r}return-1}function qi(e,t){return Ar(e,t,!0)}function Gi(e,t,n){return jr(e,t,Co(n),!0)}function Ni(e,t){var n=e?e.length:0;if(n){var r=Ar(e,t,!0)-1;if(Yu(e[r],t))return r}return-1}function Wi(e){return e&&e.length?Pr(e):[]}function zi(e,t){return e&&e.length?Pr(e,Co(t)):[]}function Vi(e){return pi(e,1)}function $i(e,t,n){return e&&e.length?(t=n||t===Q?1:Ba(t),xr(e,0,0>t?0:t)):[]}function Ui(e,t,n){var r=e?e.length:0;return r?(t=n||t===Q?1:Ba(t),t=r-t,xr(e,0>t?0:t,r)):[]}function Hi(e,t){return e&&e.length?Rr(e,Co(t,3),!1,!0):[]}function Ki(e,t){return e&&e.length?Rr(e,Co(t,3)):[]}function Xi(e){return e&&e.length?Mr(e):[]}function Zi(e,t){return e&&e.length?Mr(e,Co(t)):[]}function Qi(e,t){return e&&e.length?Mr(e,Q,t):[]}function Yi(e){if(!e||!e.length)return[];var t=0;return e=p(e,function(e){return na(e)?(t=zc(e.length,t),!0):void 0}),P(t,function(t){return _(e,vr(t))})}function Ji(e,t){if(!e||!e.length)return[];var n=Yi(e);return null==t?n:_(n,function(e){return a(t,Q,e)})}function eu(e,t){return Fr(e||[],t||[],pn)}function tu(e,t){return Fr(e||[],t||[],Or)}function nu(e){var n=t(e);return n.__chain__=!0,n}function ru(e,t){return t(e),e}function ou(e,t){return t(e)}function iu(){return nu(this)}function uu(){return new r(this.value(),this.__chain__)}function au(){this.__values__===Q&&(this.__values__=Ra(this.value()));var e=this.__index__>=this.__values__.length,t=e?Q:this.__values__[this.__index__++];return{done:e,value:t}}function su(){return this}function cu(e){for(var t,r=this;r instanceof n;){var o=si(r);o.__index__=0,o.__values__=Q,t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=e,t}function fu(){var e=this.__wrapped__;if(e instanceof o){var t=e;return this.__actions__.length&&(t=new o(this)),t=t.reverse(),t.__actions__.push({func:ou,args:[Ri],thisArg:Q}),new r(t,this.__chain__)}return this.thru(Ri)}function lu(){return Dr(this.__wrapped__,this.__actions__)}function pu(e,t,n){var r=ul(e)?l:Tn;return n&&Xo(e,t,n)&&(t=Q),r(e,Co(t,3))}function du(e,t){var n=ul(e)?p:Ln;return n(e,Co(t,3))}function hu(e,t){if(t=Co(t,3),ul(e)){var n=w(e,t);return n>-1?e[n]:Q}return b(e,t,hf)}function _u(e,t){if(t=Co(t,3),ul(e)){var n=w(e,t,!0);return n>-1?e[n]:Q}return b(e,t,_f)}function vu(e,t){return qn(ku(e,t),1)}function yu(e,t){return qn(ku(e,t),ke)}function gu(e,t,n){return n=n===Q?1:Ba(n),qn(ku(e,t),n)}function mu(e,t){var n=ul(e)?c:hf;return n(e,Co(t,3))}function bu(e,t){var n=ul(e)?f:_f;return n(e,Co(t,3))}function wu(e,t,n,r){e=ta(e)?e:ds(e),n=n&&!r?Ba(n):0;var o=e.length;return 0>n&&(n=zc(o+n,0)),Pa(e)?o>=n&&e.indexOf(t,n)>-1:!!o&&k(e,t,n)>-1}function ku(e,t){var n=ul(e)?_:ar;return n(e,Co(t,3))}function Ou(e,t,n,r){return null==e?[]:(ul(t)||(t=null==t?[]:[t]),n=r?Q:n,ul(n)||(n=null==n?[]:[n]),dr(e,t,n))}function xu(e,t,n){var r=ul(e)?y:S,o=arguments.length<3;return r(e,Co(t,4),n,o,hf)}function Su(e,t,n){var r=ul(e)?g:S,o=arguments.length<3;return r(e,Co(t,4),n,o,_f)}function Au(e,t){var n=ul(e)?p:Ln;return t=Co(t,3),n(e,function(e,n,r){return!t(e,n,r)})}function ju(e){var t=ta(e)?e:ds(e),n=t.length;return n>0?t[br(0,n-1)]:Q}function Pu(e,t,n){var r=-1,o=Ra(e),i=o.length,u=i-1;for(t=(n?Xo(e,t,n):t===Q)?1:yn(Ba(t),0,i);++r<t;){var a=br(r,u),s=o[a];o[a]=o[r],o[r]=s}return o.length=t,o}function Iu(e){return Pu(e,Ae)}function Eu(e){if(null==e)return 0;if(ta(e)){var t=e.length;return t&&Pa(e)?H(e):t}if(_a(e)){var n=qo(e);if(n==Be||n==Ne)return e.size}return es(e).length}function Mu(e,t,n){var r=ul(e)?m:Sr;return n&&Xo(e,t,n)&&(t=Q),r(e,Co(t,3))}function Tu(e,t){if("function"!=typeof t)throw new hc(ee);return e=Ba(e),function(){return--e<1?t.apply(this,arguments):void 0}}function Cu(e,t,n){return t=n?Q:t,t=e&&null==t?e.length:t,So(e,fe,Q,Q,Q,Q,t)}function Ru(e,t){var n;if("function"!=typeof t)throw new hc(ee);return e=Ba(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=Q),n}}function Du(e,t,n){t=n?Q:t;var r=So(e,ue,Q,Q,Q,Q,Q,t);return r.placeholder=Du.placeholder,r}function Bu(e,t,n){t=n?Q:t;var r=So(e,ae,Q,Q,Q,Q,Q,t);return r.placeholder=Bu.placeholder,r}function Fu(e,t,n){function r(t){var n=p,r=d;return p=d=Q,g=t,_=e.apply(r,n)}function o(e){return g=e,v=Dc(a,t),m?r(e):_}function i(e){var n=e-y,r=e-g,o=t-n;return b?Vc(o,h-r):o}function u(e){var n=e-y,r=e-g;return!y||n>=t||0>n||b&&r>=h}function a(){var e=Xf();return u(e)?s(e):void(v=Dc(a,i(e)))}function s(e){return Ic(v),v=Q,w&&p?r(e):(p=d=Q,_)}function c(){v!==Q&&Ic(v),y=g=0,p=d=v=Q}function f(){return v===Q?_:s(Xf())}function l(){var e=Xf(),n=u(e);if(p=arguments,d=this,y=e,n){if(v===Q)return o(y);if(b)return Ic(v),v=Dc(a,t),r(y)}return v===Q&&(v=Dc(a,t)),_}var p,d,h,_,v,y=0,g=0,m=!1,b=!1,w=!0;if("function"!=typeof e)throw new hc(ee);return t=La(t)||0,ha(n)&&(m=!!n.leading,b="maxWait"in n,h=b?zc(La(n.maxWait)||0,t):h,w="trailing"in n?!!n.trailing:w),l.cancel=c,l.flush=f,l}function Lu(e){return So(e,pe)}function qu(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new hc(ee);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=e.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(qu.Cache||Kt),n}function Gu(e){if("function"!=typeof e)throw new hc(ee);return function(){return!e.apply(this,arguments)}}function Nu(e){return Ru(2,e)}function Wu(e,t){if("function"!=typeof e)throw new hc(ee);return t=zc(t===Q?e.length-1:Ba(t),0),function(){for(var n=arguments,r=-1,o=zc(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,n[0],i);case 2:return e.call(this,n[0],n[1],i)}var u=Array(t+1);for(r=-1;++r<t;)u[r]=n[r];return u[t]=i,a(e,this,u)}}function zu(e,t){if("function"!=typeof e)throw new hc(ee);return t=t===Q?0:zc(Ba(t),0),Wu(function(n){var r=n[t],o=Nr(n,0,t);return r&&v(o,r),a(e,this,o)})}function Vu(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new hc(ee);return ha(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Fu(e,t,{leading:r,maxWait:t,trailing:o})}function $u(e){return Cu(e,1)}function Uu(e,t){return t=null==t?zs:t,tl(t,e)}function Hu(){if(!arguments.length)return[];var e=arguments[0];return ul(e)?e:[e]}function Ku(e){return bn(e,!1,!0)}function Xu(e,t){return bn(e,!1,!0,t)}function Zu(e){return bn(e,!0,!0)}function Qu(e,t){return bn(e,!0,!0,t)}function Yu(e,t){return e===t||e!==e&&t!==t}function Ju(e){return na(e)&&mc.call(e,"callee")&&(!Rc.call(e,"callee")||kc.call(e)==Ie)}function ea(e){return _a(e)&&kc.call(e)==Ue}function ta(e){return null!=e&&da(wf(e))&&!la(e)}function na(e){return _a(e)&&ta(e)}function ra(e){return e===!0||e===!1||_a(e)&&kc.call(e)==Me}function oa(e){return _a(e)&&kc.call(e)==Te}function ia(e){return!!e&&1===e.nodeType&&_a(e)&&!xa(e)}function ua(e){if(ta(e)&&(ul(e)||Pa(e)||la(e.splice)||Ju(e)||al(e)))return!e.length;if(_a(e)){var t=qo(e);if(t==Be||t==Ne)return!e.size}for(var n in e)if(mc.call(e,n))return!1;return!(rf&&es(e).length)}function aa(e,t){return er(e,t)}function sa(e,t,n){n="function"==typeof n?n:Q;var r=n?n(e,t):Q;return r===Q?er(e,t,n):!!r}function ca(e){return _a(e)?kc.call(e)==Ce||"string"==typeof e.message&&"string"==typeof e.name:!1}function fa(e){return"number"==typeof e&&Gc(e)}function la(e){var t=ha(e)?kc.call(e):"";return t==Re||t==De}function pa(e){return"number"==typeof e&&e==Ba(e)}function da(e){return"number"==typeof e&&e>-1&&e%1==0&&Oe>=e}function ha(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _a(e){return!!e&&"object"==typeof e}function va(e){return _a(e)&&qo(e)==Be}function ya(e,t){return e===t||nr(e,t,Do(t))}function ga(e,t,n){return n="function"==typeof n?n:Q,nr(e,t,Do(t),n)}function ma(e){return Oa(e)&&e!=+e}function ba(e){if(!ha(e))return!1;var t=la(e)||N(e)?xc:Pt;return t.test(ai(e))}function wa(e){return null===e}function ka(e){return null==e}function Oa(e){return"number"==typeof e||_a(e)&&kc.call(e)==Fe}function xa(e){if(!_a(e)||kc.call(e)!=Le||N(e))return!1;var t=Fo(e);if(null===t)return!0;var n=mc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&gc.call(n)==wc}function Sa(e){return ha(e)&&kc.call(e)==Ge}function Aa(e){return pa(e)&&e>=-Oe&&Oe>=e}function ja(e){return _a(e)&&qo(e)==Ne}function Pa(e){return"string"==typeof e||!ul(e)&&_a(e)&&kc.call(e)==We}function Ia(e){return"symbol"==typeof e||_a(e)&&kc.call(e)==ze}function Ea(e){return _a(e)&&da(e.length)&&!!An[kc.call(e)]}function Ma(e){return e===Q}function Ta(e){return _a(e)&&qo(e)==Ve}function Ca(e){return _a(e)&&kc.call(e)==$e}function Ra(e){if(!e)return[];if(ta(e))return Pa(e)?K(e):eo(e);if(Tc&&e[Tc])return W(e[Tc]());var t=qo(e),n=t==Be?z:t==Ne?$:ds;return n(e)}function Da(e){if(!e)return 0===e?e:0;if(e=La(e),e===ke||e===-ke){var t=0>e?-1:1;return t*xe}return e===e?e:0}function Ba(e){var t=Da(e),n=t%1;return t===t?n?t-n:t:0}function Fa(e){return e?yn(Ba(e),0,Ae):0}function La(e){if("number"==typeof e)return e;if(Ia(e))return Se;if(ha(e)){var t=la(e.valueOf)?e.valueOf():e;e=ha(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(gt,"");var n=jt.test(e);return n||It.test(e)?Rn(e.slice(2),n?2:8):At.test(e)?Se:+e}function qa(e){return to(e,ts(e))}function Ga(e){return yn(Ba(e),-Oe,Oe)}function Na(e){return null==e?"":Er(e)}function Wa(e,t){var n=In(e);return t?_n(n,t):n}function za(e,t){return b(e,Co(t,3),Gn,!0)}function Va(e,t){return b(e,Co(t,3),Nn,!0)}function $a(e,t){return null==e?e:vf(e,Co(t,3),ts)}function Ua(e,t){return null==e?e:yf(e,Co(t,3),ts)}function Ha(e,t){return e&&Gn(e,Co(t,3))}function Ka(e,t){return e&&Nn(e,Co(t,3))}function Xa(e){return null==e?[]:Vn(e,es(e))}function Za(e){return null==e?[]:Vn(e,ts(e))}function Qa(e,t,n){var r=null==e?Q:$n(e,t);return r===Q?n:r}function Ya(e,t){return null!=e&&No(e,t,Kn)}function Ja(e,t){return null!=e&&No(e,t,Xn)}function es(e){var t=Jo(e);if(!t&&!ta(e))return or(e);var n=$o(e),r=!!n,o=n||[],i=o.length;for(var u in e)!Kn(e,u)||r&&("length"==u||Ko(u,i))||t&&"constructor"==u||o.push(u);return o}function ts(e){for(var t=-1,n=Jo(e),r=ir(e),o=r.length,i=$o(e),u=!!i,a=i||[],s=a.length;++t<o;){var c=r[t];u&&("length"==c||Ko(c,s))||"constructor"==c&&(n||!mc.call(e,c))||a.push(c)}return a}function ns(e,t){var n={};return t=Co(t,3),Gn(e,function(e,r,o){n[t(e,r,o)]=e}),n}function rs(e,t){var n={};return t=Co(t,3),Gn(e,function(e,r,o){n[r]=t(e,r,o)}),n}function os(e,t){return t=Co(t),_r(e,function(e,n){return!t(e,n)})}function is(e,t){return null==e?{}:_r(e,Co(t))}function us(e,t,n){t=Zo(t,e)?[t]:Gr(t);var r=-1,o=t.length;for(o||(e=Q,o=1);++r<o;){var i=null==e?Q:e[ui(t[r])];i===Q&&(r=o,i=n),e=la(i)?i.call(e):i}return e}function as(e,t,n){return null==e?e:Or(e,t,n)}function ss(e,t,n,r){return r="function"==typeof r?r:Q,null==e?e:Or(e,t,n,r)}function cs(e,t,n){var r=ul(e)||Ea(e);if(t=Co(t,4),null==n)if(r||ha(e)){var o=e.constructor;n=r?ul(e)?new o:[]:la(o)?In(Fo(e)):{}}else n={};return(r?c:Gn)(e,function(e,r,o){return t(n,e,r,o)}),n}function fs(e,t){return null==e?!0:Tr(e,t)}function ls(e,t,n){return null==e?e:Cr(e,t,qr(n))}function ps(e,t,n,r){return r="function"==typeof r?r:Q,null==e?e:Cr(e,t,qr(n),r)}function ds(e){return e?M(e,es(e)):[]}function hs(e){return null==e?[]:M(e,ts(e))}function _s(e,t,n){return n===Q&&(n=t,t=Q),n!==Q&&(n=La(n),n=n===n?n:0),t!==Q&&(t=La(t),t=t===t?t:0),yn(La(e),t,n)}function vs(e,t,n){return t=La(t)||0,n===Q?(n=t,t=0):n=La(n)||0,e=La(e),Zn(e,t,n)}function ys(e,t,n){if(n&&"boolean"!=typeof n&&Xo(e,t,n)&&(t=n=Q),n===Q&&("boolean"==typeof t?(n=t,t=Q):"boolean"==typeof e&&(n=e,e=Q)),e===Q&&t===Q?(e=0,t=1):(e=La(e)||0,t===Q?(t=e,e=0):t=La(t)||0),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Uc();return Vc(e+o*(t-e+Cn("1e-"+((o+"").length-1))),t)}return br(e,t)}function gs(e){return Cl(Na(e).toLowerCase())}function ms(e){return e=Na(e),e&&e.replace(Mt,F).replace(mn,"")}function bs(e,t,n){e=Na(e),t=Er(t);var r=e.length;return n=n===Q?r:yn(Ba(n),0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function ws(e){return e=Na(e),e&&ct.test(e)?e.replace(at,L):e}function ks(e){return e=Na(e),e&&yt.test(e)?e.replace(vt,"\\$&"):e}function Os(e,t,n){e=Na(e),t=Ba(t);var r=t?H(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return go(Lc(o),n)+e+go(Fc(o),n)}function xs(e,t,n){e=Na(e),t=Ba(t);var r=t?H(e):0;return t&&t>r?e+go(t-r,n):e}function Ss(e,t,n){e=Na(e),t=Ba(t);var r=t?H(e):0;return t&&t>r?go(t-r,n)+e:e}function As(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Na(e).replace(gt,""),$c(e,t||(St.test(e)?16:10))}function js(e,t,n){return t=(n?Xo(e,t,n):t===Q)?1:Ba(t),kr(Na(e),t)}function Ps(){var e=arguments,t=Na(e[0]);return e.length<3?t:Hc.call(t,e[1],e[2])}function Is(e,t,n){return n&&"number"!=typeof n&&Xo(e,t,n)&&(t=n=Q),(n=n===Q?Ae:n>>>0)?(e=Na(e),e&&("string"==typeof t||null!=t&&!Sa(t))&&(t=Er(t),""==t&&kn.test(e))?Nr(K(e),0,n):Xc.call(e,t,n)):[]}function Es(e,t,n){return e=Na(e),n=yn(Ba(n),0,e.length),e.lastIndexOf(Er(t),n)==n}function Ms(e,n,r){var o=t.templateSettings;r&&Xo(e,n,r)&&(n=Q),e=Na(e),n=pl({},n,o,fn);var i,u,a=pl({},n.imports,o.imports,fn),s=es(a),c=M(a,s),f=0,l=n.interpolate||Tt,p="__p += '",d=dc((n.escape||Tt).source+"|"+l.source+"|"+(l===pt?Ot:Tt).source+"|"+(n.evaluate||Tt).source+"|$","g"),h="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Sn+"]")+"\n";e.replace(d,function(t,n,r,o,a,s){return r||(r=o),p+=e.slice(f,s).replace(Ct,q),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),a&&(u=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=s+t.length,t}),p+="';\n";var _=n.variable;_||(p="with (obj) {\n"+p+"\n}\n"),p=(u?p.replace(rt,""):p).replace(ot,"$1").replace(it,"$1;"),p="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Rl(function(){return Function(s,h+"return "+p).apply(Q,c)});if(v.source=p,ca(v))throw v;return v}function Ts(e){return Na(e).toLowerCase()}function Cs(e){return Na(e).toUpperCase()}function Rs(e,t,n){if(e=Na(e),e&&(n||t===Q))return e.replace(gt,"");if(!e||!(t=Er(t)))return e;var r=K(e),o=K(t),i=C(r,o),u=R(r,o)+1;return Nr(r,i,u).join("")}function Ds(e,t,n){if(e=Na(e),e&&(n||t===Q))return e.replace(bt,"");if(!e||!(t=Er(t)))return e;var r=K(e),o=R(r,K(t))+1;return Nr(r,0,o).join("")}function Bs(e,t,n){if(e=Na(e),e&&(n||t===Q))return e.replace(mt,"");if(!e||!(t=Er(t)))return e;var r=K(e),o=C(r,K(t));return Nr(r,o).join("")}function Fs(e,t){var n=_e,r=ve;if(ha(t)){var o="separator"in t?t.separator:o;n="length"in t?Ba(t.length):n,r="omission"in t?Er(t.omission):r}e=Na(e);var i=e.length;if(kn.test(e)){var u=K(e);i=u.length}if(n>=i)return e;var a=n-H(r);if(1>a)return r;var s=u?Nr(u,0,a).join(""):e.slice(0,a);if(o===Q)return s+r;if(u&&(a+=s.length-a),Sa(o)){if(e.slice(a).search(o)){var c,f=s;for(o.global||(o=dc(o.source,Na(xt.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var l=c.index;s=s.slice(0,l===Q?a:l)}}else if(e.indexOf(Er(o),a)!=a){var p=s.lastIndexOf(o);p>-1&&(s=s.slice(0,p))}return s+r}function Ls(e){return e=Na(e),e&&st.test(e)?e.replace(ut,X):e}function qs(e,t,n){return e=Na(e),t=n?Q:t,t===Q&&(t=On.test(e)?wn:wt),e.match(t)||[]}function Gs(e){var t=e?e.length:0,n=Co();return e=t?_(e,function(e){if("function"!=typeof e[1])throw new hc(ee);return[n(e[0]),e[1]]}):[],Wu(function(n){for(var r=-1;++r<t;){var o=e[r];if(a(o[0],this,n))return a(o[1],this,n)}})}function Ns(e){return Pn(bn(e,!0))}function Ws(e){return function(){return e}}function zs(e){return e}function Vs(e){return rr("function"==typeof e?e:bn(e,!0))}function $s(e){return sr(bn(e,!0))}function Us(e,t){return cr(e,bn(t,!0))}function Hs(e,t,n){var r=es(t),o=Vn(t,r);null!=n||ha(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Vn(t,es(t)));var i=!(ha(n)&&"chain"in n&&!n.chain),u=la(e);return c(o,function(n){var r=t[n];e[n]=r,u&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=eo(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,v([this.value()],arguments))})}),e}function Ks(){return Wn._===this&&(Wn._=Oc),this}function Xs(){}function Zs(e){return e=Ba(e),Wu(function(t){return pr(t,e)})}function Qs(e){return Zo(e)?vr(ui(e)):yr(e)}function Ys(e){return function(t){return null==e?Q:$n(e,t)}}function Js(e,t){if(e=Ba(e),1>e||e>Oe)return[];var n=Ae,r=Vc(e,Ae);t=Co(t),e-=Ae;for(var o=P(r,t);++n<e;)t(n);return o}function ec(e){return ul(e)?_(e,ui):Ia(e)?[e]:eo(xf(e))}function tc(e){var t=++bc;return Na(e)+t}function nc(e){return e&&e.length?Dn(e,zs,Hn):Q}function rc(e,t){return e&&e.length?Dn(e,Co(t),Hn):Q}function oc(e){return x(e,zs)}function ic(e,t){return x(e,Co(t))}function uc(e){return e&&e.length?Dn(e,zs,ur):Q}function ac(e,t){return e&&e.length?Dn(e,Co(t),ur):Q}function sc(e){return e&&e.length?j(e,zs):0}function cc(e,t){return e&&e.length?j(e,Co(t)):0}e=e?zn.defaults({},e,zn.pick(Wn,xn)):Wn;var fc=e.Date,lc=e.Error,pc=e.Math,dc=e.RegExp,hc=e.TypeError,_c=e.Array.prototype,vc=e.Object.prototype,yc=e.String.prototype,gc=e.Function.prototype.toString,mc=vc.hasOwnProperty,bc=0,wc=gc.call(Object),kc=vc.toString,Oc=Wn._,xc=dc("^"+gc.call(mc).replace(vt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sc=Fn?e.Buffer:Q,Ac=e.Reflect,jc=e.Symbol,Pc=e.Uint8Array,Ic=e.clearTimeout,Ec=Ac?Ac.enumerate:Q,Mc=Object.getOwnPropertySymbols,Tc="symbol"==typeof(Tc=jc&&jc.iterator)?Tc:Q,Cc=Object.create,Rc=vc.propertyIsEnumerable,Dc=e.setTimeout,Bc=_c.splice,Fc=pc.ceil,Lc=pc.floor,qc=Object.getPrototypeOf,Gc=e.isFinite,Nc=_c.join,Wc=Object.keys,zc=pc.max,Vc=pc.min,$c=e.parseInt,Uc=pc.random,Hc=yc.replace,Kc=_c.reverse,Xc=yc.split,Zc=Bo(e,"DataView"),Qc=Bo(e,"Map"),Yc=Bo(e,"Promise"),Jc=Bo(e,"Set"),ef=Bo(e,"WeakMap"),tf=Bo(Object,"create"),nf=ef&&new ef,rf=!Rc.call({valueOf:1},"valueOf"),of={},uf=ai(Zc),af=ai(Qc),sf=ai(Yc),cf=ai(Jc),ff=ai(ef),lf=jc?jc.prototype:Q,pf=lf?lf.valueOf:Q,df=lf?lf.toString:Q;t.templateSettings={escape:ft,evaluate:lt,interpolate:pt,variable:"",imports:{_:t}},t.prototype=n.prototype,t.prototype.constructor=t,r.prototype=In(n.prototype),r.prototype.constructor=r,o.prototype=In(n.prototype),o.prototype.constructor=o,Bt.prototype.clear=Ft,Bt.prototype["delete"]=Lt,Bt.prototype.get=qt,Bt.prototype.has=Gt,Bt.prototype.set=Nt,Wt.prototype.clear=zt,Wt.prototype["delete"]=Vt,Wt.prototype.get=$t,Wt.prototype.has=Ut,Wt.prototype.set=Ht,Kt.prototype.clear=Xt,Kt.prototype["delete"]=Zt,Kt.prototype.get=Qt,Kt.prototype.has=Yt,Kt.prototype.set=Jt,en.prototype.add=en.prototype.push=tn,en.prototype.has=nn,rn.prototype.clear=on,rn.prototype["delete"]=un,rn.prototype.get=an,rn.prototype.has=sn,rn.prototype.set=cn;var hf=io(Gn),_f=io(Nn,!0),vf=uo(),yf=uo(!0);Ec&&!Rc.call({valueOf:1},"valueOf")&&(ir=function(e){return W(Ec(e))});var gf=nf?function(e,t){return nf.set(e,t),e}:zs,mf=Jc&&1/$(new Jc([,-0]))[1]==ke?function(e){return new Jc(e)}:Xs,bf=nf?function(e){return nf.get(e)}:Xs,wf=vr("length");Mc||(Lo=function(){return[]});var kf=Mc?function(e){for(var t=[];e;)v(t,Lo(e)),e=Fo(e);return t}:Lo;(Zc&&qo(new Zc(new ArrayBuffer(1)))!=He||Qc&&qo(new Qc)!=Be||Yc&&qo(Yc.resolve())!=qe||Jc&&qo(new Jc)!=Ne||ef&&qo(new ef)!=Ve)&&(qo=function(e){var t=kc.call(e),n=t==Le?e.constructor:Q,r=n?ai(n):Q;if(r)switch(r){case uf:return He;case af:return Be;case sf:return qe;case cf:return Ne;case ff:return Ve}return t});var Of=function(){var e=0,t=0;return function(n,r){var o=Xf(),i=ge-(o-t);if(t=o,i>0){if(++e>=ye)return n}else e=0;return gf(n,r)}}(),xf=qu(function(e){var t=[];return Na(e).replace(_t,function(e,n,r,o){t.push(r?o.replace(kt,"$1"):n||e)}),t}),Sf=Wu(function(e,t){return na(e)?Mn(e,qn(t,1,na,!0)):[]}),Af=Wu(function(e,t){var n=ji(t);return na(n)&&(n=Q),na(e)?Mn(e,qn(t,1,na,!0),Co(n)):[]}),jf=Wu(function(e,t){var n=ji(t);return na(n)&&(n=Q),na(e)?Mn(e,qn(t,1,na,!0),Q,n):[]}),Pf=Wu(function(e){var t=_(e,Lr);return t.length&&t[0]===e[0]?Qn(t):[]}),If=Wu(function(e){var t=ji(e),n=_(e,Lr);return t===ji(n)?t=Q:n.pop(),n.length&&n[0]===e[0]?Qn(n,Co(t)):[]}),Ef=Wu(function(e){var t=ji(e),n=_(e,Lr);return t===ji(n)?t=Q:n.pop(),n.length&&n[0]===e[0]?Qn(n,Q,t):[]}),Mf=Wu(Ei),Tf=Wu(function(e,t){t=qn(t,1);var n=e?e.length:0,r=vn(e,t);return mr(e,_(t,function(e){return Ko(e,n)?+e:e}).sort(Zr)),r}),Cf=Wu(function(e){return Mr(qn(e,1,na,!0))}),Rf=Wu(function(e){var t=ji(e);return na(t)&&(t=Q),Mr(qn(e,1,na,!0),Co(t))}),Df=Wu(function(e){var t=ji(e);return na(t)&&(t=Q),Mr(qn(e,1,na,!0),Q,t)}),Bf=Wu(function(e,t){return na(e)?Mn(e,t):[]}),Ff=Wu(function(e){return Br(p(e,na))}),Lf=Wu(function(e){var t=ji(e);return na(t)&&(t=Q),Br(p(e,na),Co(t))}),qf=Wu(function(e){var t=ji(e);return na(t)&&(t=Q),Br(p(e,na),Q,t)}),Gf=Wu(Yi),Nf=Wu(function(e){var t=e.length,n=t>1?e[t-1]:Q;return n="function"==typeof n?(e.pop(),n):Q,Ji(e,n)}),Wf=Wu(function(e){e=qn(e,1);var t=e.length,n=t?e[0]:0,i=this.__wrapped__,u=function(t){return vn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof o&&Ko(n)?(i=i.slice(n,+n+(t?1:0)),i.__actions__.push({func:ou,args:[u],thisArg:Q}),new r(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(Q),e})):this.thru(u)}),zf=ro(function(e,t,n){mc.call(e,n)?++e[n]:e[n]=1}),Vf=ro(function(e,t,n){mc.call(e,n)?e[n].push(t):e[n]=[t]}),$f=Wu(function(e,t,n){var r=-1,o="function"==typeof t,i=Zo(t),u=ta(e)?Array(e.length):[];return hf(e,function(e){var s=o?t:i&&null!=e?e[t]:Q;u[++r]=s?a(s,e,n):Jn(e,t,n)}),u}),Uf=ro(function(e,t,n){e[n]=t}),Hf=ro(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Kf=Wu(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Xo(e,t[0],t[1])?t=[]:n>2&&Xo(t[0],t[1],t[2])&&(t=[t[0]]),t=1==t.length&&ul(t[0])?t[0]:qn(t,1,Ho),dr(e,t,[])}),Xf=fc.now,Zf=Wu(function(e,t,n){var r=re;if(n.length){var o=V(n,To(Zf));r|=se}return So(e,r,t,n,o)}),Qf=Wu(function(e,t,n){var r=re|oe;if(n.length){var o=V(n,To(Qf));r|=se}return So(t,r,e,n,o)}),Yf=Wu(function(e,t){return En(e,1,t)}),Jf=Wu(function(e,t,n){return En(e,La(t)||0,n)});qu.Cache=Kt;var el=Wu(function(e,t){t=1==t.length&&ul(t[0])?_(t[0],E(Co())):_(qn(t,1,Ho),E(Co()));var n=t.length;return Wu(function(r){for(var o=-1,i=Vc(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return a(e,this,r)})}),tl=Wu(function(e,t){var n=V(t,To(tl));return So(e,se,Q,t,n)}),nl=Wu(function(e,t){var n=V(t,To(nl));return So(e,ce,Q,t,n)}),rl=Wu(function(e,t){return So(e,le,Q,Q,Q,qn(t,1))}),ol=wo(Hn),il=wo(function(e,t){return e>=t}),ul=Array.isArray,al=Sc?function(e){return e instanceof Sc}:Ws(!1),sl=wo(ur),cl=wo(function(e,t){return t>=e}),fl=oo(function(e,t){if(rf||Jo(t)||ta(t))return void to(t,es(t),e);for(var n in t)mc.call(t,n)&&pn(e,n,t[n])}),ll=oo(function(e,t){if(rf||Jo(t)||ta(t))return void to(t,ts(t),e);for(var n in t)pn(e,n,t[n])}),pl=oo(function(e,t,n,r){to(t,ts(t),e,r)}),dl=oo(function(e,t,n,r){to(t,es(t),e,r)}),hl=Wu(function(e,t){return vn(e,qn(t,1))}),_l=Wu(function(e){return e.push(Q,fn),a(pl,Q,e)}),vl=Wu(function(e){return e.push(Q,ri),a(wl,Q,e)}),yl=_o(function(e,t,n){e[t]=n},Ws(zs)),gl=_o(function(e,t,n){mc.call(e,t)?e[t].push(n):e[t]=[n]},Co),ml=Wu(Jn),bl=oo(function(e,t,n){fr(e,t,n)}),wl=oo(function(e,t,n,r){fr(e,t,n,r)}),kl=Wu(function(e,t){return null==e?{}:(t=_(qn(t,1),ui),hr(e,Mn(Eo(e),t)))}),Ol=Wu(function(e,t){return null==e?{}:hr(e,_(qn(t,1),ui))}),xl=xo(es),Sl=xo(ts),Al=co(function(e,t,n){return t=t.toLowerCase(),e+(n?gs(t):t)}),jl=co(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Pl=co(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Il=so("toLowerCase"),El=co(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ml=co(function(e,t,n){return e+(n?" ":"")+Cl(t)}),Tl=co(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Cl=so("toUpperCase"),Rl=Wu(function(e,t){try{return a(e,Q,t)}catch(n){return ca(n)?n:new lc(n)}}),Dl=Wu(function(e,t){return c(qn(t,1),function(t){t=ui(t),e[t]=Zf(e[t],e)}),e}),Bl=po(),Fl=po(!0),Ll=Wu(function(e,t){return function(n){return Jn(n,e,t)}}),ql=Wu(function(e,t){return function(n){return Jn(e,n,t)}}),Gl=yo(_),Nl=yo(l),Wl=yo(m),zl=bo(),Vl=bo(!0),$l=vo(function(e,t){return e+t}),Ul=Oo("ceil"),Hl=vo(function(e,t){return e/t}),Kl=Oo("floor"),Xl=vo(function(e,t){return e*t}),Zl=Oo("round"),Ql=vo(function(e,t){return e-t});return t.after=Tu,t.ary=Cu,t.assign=fl,t.assignIn=ll,t.assignInWith=pl,t.assignWith=dl,t.at=hl,t.before=Ru,t.bind=Zf,t.bindAll=Dl,t.bindKey=Qf,t.castArray=Hu,t.chain=nu,t.chunk=ci,t.compact=fi,t.concat=li,t.cond=Gs,t.conforms=Ns,t.constant=Ws,t.countBy=zf,t.create=Wa,t.curry=Du,t.curryRight=Bu,t.debounce=Fu,t.defaults=_l,t.defaultsDeep=vl,t.defer=Yf,t.delay=Jf,t.difference=Sf,t.differenceBy=Af,t.differenceWith=jf,t.drop=pi,t.dropRight=di,t.dropRightWhile=hi,t.dropWhile=_i,t.fill=vi,t.filter=du,t.flatMap=vu,t.flatMapDeep=yu,t.flatMapDepth=gu,t.flatten=mi,t.flattenDeep=bi,t.flattenDepth=wi,t.flip=Lu,t.flow=Bl,t.flowRight=Fl,t.fromPairs=ki,t.functions=Xa,t.functionsIn=Za,t.groupBy=Vf,t.initial=Si,t.intersection=Pf,t.intersectionBy=If,t.intersectionWith=Ef,t.invert=yl,t.invertBy=gl,t.invokeMap=$f,t.iteratee=Vs,t.keyBy=Uf,t.keys=es,t.keysIn=ts,t.map=ku,t.mapKeys=ns,t.mapValues=rs,t.matches=$s,t.matchesProperty=Us,t.memoize=qu,t.merge=bl,t.mergeWith=wl,t.method=Ll,t.methodOf=ql,t.mixin=Hs,t.negate=Gu,t.nthArg=Zs,t.omit=kl,t.omitBy=os,t.once=Nu,t.orderBy=Ou,t.over=Gl,t.overArgs=el,t.overEvery=Nl,t.overSome=Wl,t.partial=tl,t.partialRight=nl,t.partition=Hf,t.pick=Ol,t.pickBy=is,t.property=Qs,t.propertyOf=Ys,t.pull=Mf,t.pullAll=Ei,t.pullAllBy=Mi,t.pullAllWith=Ti,t.pullAt=Tf,t.range=zl,t.rangeRight=Vl,t.rearg=rl,t.reject=Au,t.remove=Ci,t.rest=Wu,t.reverse=Ri,t.sampleSize=Pu,t.set=as,t.setWith=ss,t.shuffle=Iu,t.slice=Di,t.sortBy=Kf,t.sortedUniq=Wi,t.sortedUniqBy=zi,t.split=Is,t.spread=zu,t.tail=Vi,t.take=$i,t.takeRight=Ui,t.takeRightWhile=Hi,t.takeWhile=Ki,t.tap=ru,t.throttle=Vu,t.thru=ou,t.toArray=Ra,t.toPairs=xl,t.toPairsIn=Sl,t.toPath=ec,t.toPlainObject=qa,t.transform=cs,t.unary=$u,t.union=Cf,t.unionBy=Rf,t.unionWith=Df,t.uniq=Xi,t.uniqBy=Zi,t.uniqWith=Qi,t.unset=fs,t.unzip=Yi,t.unzipWith=Ji,t.update=ls,t.updateWith=ps,t.values=ds,t.valuesIn=hs,t.without=Bf,t.words=qs,t.wrap=Uu,t.xor=Ff,t.xorBy=Lf,t.xorWith=qf,t.zip=Gf,t.zipObject=eu,t.zipObjectDeep=tu,t.zipWith=Nf,t.entries=xl,t.entriesIn=Sl,t.extend=ll,t.extendWith=pl,Hs(t,t),t.add=$l,t.attempt=Rl,t.camelCase=Al,t.capitalize=gs,t.ceil=Ul,t.clamp=_s,t.clone=Ku,t.cloneDeep=Zu,t.cloneDeepWith=Qu,t.cloneWith=Xu,t.deburr=ms,t.divide=Hl,t.endsWith=bs,t.eq=Yu,t.escape=ws,t.escapeRegExp=ks,t.every=pu,t.find=hu,t.findIndex=yi,t.findKey=za,t.findLast=_u,t.findLastIndex=gi,t.findLastKey=Va,t.floor=Kl,t.forEach=mu,t.forEachRight=bu,t.forIn=$a,t.forInRight=Ua,t.forOwn=Ha,t.forOwnRight=Ka,t.get=Qa,t.gt=ol,t.gte=il,t.has=Ya,t.hasIn=Ja,t.head=Oi,t.identity=zs,t.includes=wu,t.indexOf=xi,t.inRange=vs,t.invoke=ml,t.isArguments=Ju,t.isArray=ul,t.isArrayBuffer=ea,t.isArrayLike=ta,t.isArrayLikeObject=na,t.isBoolean=ra,t.isBuffer=al,t.isDate=oa,t.isElement=ia,t.isEmpty=ua,t.isEqual=aa,t.isEqualWith=sa,t.isError=ca,t.isFinite=fa,t.isFunction=la,t.isInteger=pa,t.isLength=da,t.isMap=va,t.isMatch=ya,t.isMatchWith=ga,t.isNaN=ma,t.isNative=ba,t.isNil=ka,t.isNull=wa,t.isNumber=Oa,t.isObject=ha,t.isObjectLike=_a,t.isPlainObject=xa,t.isRegExp=Sa,t.isSafeInteger=Aa,t.isSet=ja,t.isString=Pa,t.isSymbol=Ia,t.isTypedArray=Ea,t.isUndefined=Ma,t.isWeakMap=Ta,t.isWeakSet=Ca,t.join=Ai,t.kebabCase=jl,t.last=ji,t.lastIndexOf=Pi,t.lowerCase=Pl,t.lowerFirst=Il,t.lt=sl,t.lte=cl,t.max=nc,t.maxBy=rc,t.mean=oc,t.meanBy=ic,t.min=uc,t.minBy=ac,t.multiply=Xl,t.nth=Ii,t.noConflict=Ks,t.noop=Xs,t.now=Xf,t.pad=Os,t.padEnd=xs,t.padStart=Ss,t.parseInt=As,t.random=ys,t.reduce=xu,t.reduceRight=Su,t.repeat=js,t.replace=Ps,t.result=us,t.round=Zl,t.runInContext=Z,t.sample=ju,t.size=Eu,t.snakeCase=El,t.some=Mu,t.sortedIndex=Bi,t.sortedIndexBy=Fi,t.sortedIndexOf=Li,t.sortedLastIndex=qi,t.sortedLastIndexBy=Gi,t.sortedLastIndexOf=Ni,t.startCase=Ml,t.startsWith=Es,t.subtract=Ql,t.sum=sc,t.sumBy=cc,t.template=Ms,t.times=Js,t.toFinite=Da,t.toInteger=Ba,t.toLength=Fa,t.toLower=Ts,t.toNumber=La,t.toSafeInteger=Ga,t.toString=Na,t.toUpper=Cs,t.trim=Rs,t.trimEnd=Ds,t.trimStart=Bs,t.truncate=Fs,t.unescape=Ls,t.uniqueId=tc,t.upperCase=Tl,t.upperFirst=Cl,t.each=mu,t.eachRight=bu,t.first=Oi,Hs(t,function(){var e={};return Gn(t,function(n,r){mc.call(t.prototype,r)||(e[r]=n);
}),e}(),{chain:!1}),t.VERSION=Y,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),c(["drop","take"],function(e,t){o.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new o(this);n=n===Q?1:zc(Ba(n),0);var i=this.clone();return r?i.__takeCount__=Vc(n,i.__takeCount__):i.__views__.push({size:Vc(n,Ae),type:e+(i.__dir__<0?"Right":"")}),i},o.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),c(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==me||n==we;o.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Co(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),c(["head","last"],function(e,t){var n="take"+(t?"Right":"");o.prototype[e]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");o.prototype[e]=function(){return this.__filtered__?new o(this):this[n](1)}}),o.prototype.compact=function(){return this.filter(zs)},o.prototype.find=function(e){return this.filter(e).head()},o.prototype.findLast=function(e){return this.reverse().find(e)},o.prototype.invokeMap=Wu(function(e,t){return"function"==typeof e?new o(this):this.map(function(n){return Jn(n,e,t)})}),o.prototype.reject=function(e){return e=Co(e,3),this.filter(function(t){return!e(t)})},o.prototype.slice=function(e,t){e=Ba(e);var n=this;return n.__filtered__&&(e>0||0>t)?new o(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Q&&(t=Ba(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},o.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},o.prototype.toArray=function(){return this.take(Ae)},Gn(o.prototype,function(e,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),u=/^(?:head|last)$/.test(n),a=t[u?"take"+("last"==n?"Right":""):n],s=u||/^find/.test(n);a&&(t.prototype[n]=function(){var n=this.__wrapped__,c=u?[1]:arguments,f=n instanceof o,l=c[0],p=f||ul(n),d=function(e){var n=a.apply(t,v([e],c));return u&&h?n[0]:n};p&&i&&"function"==typeof l&&1!=l.length&&(f=p=!1);var h=this.__chain__,_=!!this.__actions__.length,y=s&&!h,g=f&&!_;if(!s&&p){n=g?n:new o(this);var m=e.apply(n,c);return m.__actions__.push({func:ou,args:[d],thisArg:Q}),new r(m,h)}return y&&g?e.apply(this,c):(m=this.thru(d),y?u?m.value()[0]:m.value():m)})}),c(["pop","push","shift","sort","splice","unshift"],function(e){var n=_c[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var t=this.value();return n.apply(ul(t)?t:[],e)}return this[r](function(t){return n.apply(ul(t)?t:[],e)})}}),Gn(o.prototype,function(e,n){var r=t[n];if(r){var o=r.name+"",i=of[o]||(of[o]=[]);i.push({name:n,func:r})}}),of[ho(Q,oe).name]=[{name:"wrapper",func:Q}],o.prototype.clone=D,o.prototype.reverse=Rt,o.prototype.value=Dt,t.prototype.at=Wf,t.prototype.chain=iu,t.prototype.commit=uu,t.prototype.next=au,t.prototype.plant=cu,t.prototype.reverse=fu,t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=lu,Tc&&(t.prototype[Tc]=su),t}var Q,Y="4.12.0",J=200,ee="Expected a function",te="__lodash_hash_undefined__",ne="__lodash_placeholder__",re=1,oe=2,ie=4,ue=8,ae=16,se=32,ce=64,fe=128,le=256,pe=512,de=1,he=2,_e=30,ve="...",ye=150,ge=16,me=1,be=2,we=3,ke=1/0,Oe=9007199254740991,xe=1.7976931348623157e308,Se=NaN,Ae=4294967295,je=Ae-1,Pe=Ae>>>1,Ie="[object Arguments]",Ee="[object Array]",Me="[object Boolean]",Te="[object Date]",Ce="[object Error]",Re="[object Function]",De="[object GeneratorFunction]",Be="[object Map]",Fe="[object Number]",Le="[object Object]",qe="[object Promise]",Ge="[object RegExp]",Ne="[object Set]",We="[object String]",ze="[object Symbol]",Ve="[object WeakMap]",$e="[object WeakSet]",Ue="[object ArrayBuffer]",He="[object DataView]",Ke="[object Float32Array]",Xe="[object Float64Array]",Ze="[object Int8Array]",Qe="[object Int16Array]",Ye="[object Int32Array]",Je="[object Uint8Array]",et="[object Uint8ClampedArray]",tt="[object Uint16Array]",nt="[object Uint32Array]",rt=/\b__p \+= '';/g,ot=/\b(__p \+=) '' \+/g,it=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ut=/&(?:amp|lt|gt|quot|#39|#96);/g,at=/[&<>"'`]/g,st=RegExp(ut.source),ct=RegExp(at.source),ft=/<%-([\s\S]+?)%>/g,lt=/<%([\s\S]+?)%>/g,pt=/<%=([\s\S]+?)%>/g,dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ht=/^\w*$/,_t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,vt=/[\\^$.*+?()[\]{}|]/g,yt=RegExp(vt.source),gt=/^\s+|\s+$/g,mt=/^\s+/,bt=/\s+$/,wt=/[a-zA-Z0-9]+/g,kt=/\\(\\)?/g,Ot=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xt=/\w*$/,St=/^0x/i,At=/^[-+]0x[0-9a-f]+$/i,jt=/^0b[01]+$/i,Pt=/^\[object .+?Constructor\]$/,It=/^0o[0-7]+$/i,Et=/^(?:0|[1-9]\d*)$/,Mt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Tt=/($^)/,Ct=/['\n\r\u2028\u2029\\]/g,Rt="\\ud800-\\udfff",Dt="\\u0300-\\u036f\\ufe20-\\ufe23",Bt="\\u20d0-\\u20f0",Ft="\\u2700-\\u27bf",Lt="a-z\\xdf-\\xf6\\xf8-\\xff",qt="\\xac\\xb1\\xd7\\xf7",Gt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Nt="\\u2000-\\u206f",Wt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zt="A-Z\\xc0-\\xd6\\xd8-\\xde",Vt="\\ufe0e\\ufe0f",$t=qt+Gt+Nt+Wt,Ut="['’]",Ht="["+Rt+"]",Kt="["+$t+"]",Xt="["+Dt+Bt+"]",Zt="\\d+",Qt="["+Ft+"]",Yt="["+Lt+"]",Jt="[^"+Rt+$t+Zt+Ft+Lt+zt+"]",en="\\ud83c[\\udffb-\\udfff]",tn="(?:"+Xt+"|"+en+")",nn="[^"+Rt+"]",rn="(?:\\ud83c[\\udde6-\\uddff]){2}",on="[\\ud800-\\udbff][\\udc00-\\udfff]",un="["+zt+"]",an="\\u200d",sn="(?:"+Yt+"|"+Jt+")",cn="(?:"+un+"|"+Jt+")",fn="(?:"+Ut+"(?:d|ll|m|re|s|t|ve))?",ln="(?:"+Ut+"(?:D|LL|M|RE|S|T|VE))?",pn=tn+"?",dn="["+Vt+"]?",hn="(?:"+an+"(?:"+[nn,rn,on].join("|")+")"+dn+pn+")*",_n=dn+pn+hn,vn="(?:"+[Qt,rn,on].join("|")+")"+_n,yn="(?:"+[nn+Xt+"?",Xt,rn,on,Ht].join("|")+")",gn=RegExp(Ut,"g"),mn=RegExp(Xt,"g"),bn=RegExp(en+"(?="+en+")|"+yn+_n,"g"),wn=RegExp([un+"?"+Yt+"+"+fn+"(?="+[Kt,un,"$"].join("|")+")",cn+"+"+ln+"(?="+[Kt,un+sn,"$"].join("|")+")",un+"?"+sn+"+"+fn,un+"+"+ln,Zt,vn].join("|"),"g"),kn=RegExp("["+an+Rt+Dt+Bt+Vt+"]"),On=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sn=-1,An={};An[Ke]=An[Xe]=An[Ze]=An[Qe]=An[Ye]=An[Je]=An[et]=An[tt]=An[nt]=!0,An[Ie]=An[Ee]=An[Ue]=An[Me]=An[He]=An[Te]=An[Ce]=An[Re]=An[Be]=An[Fe]=An[Le]=An[Ge]=An[Ne]=An[We]=An[Ve]=!1;var jn={};jn[Ie]=jn[Ee]=jn[Ue]=jn[He]=jn[Me]=jn[Te]=jn[Ke]=jn[Xe]=jn[Ze]=jn[Qe]=jn[Ye]=jn[Be]=jn[Fe]=jn[Le]=jn[Ge]=jn[Ne]=jn[We]=jn[ze]=jn[Je]=jn[et]=jn[tt]=jn[nt]=!0,jn[Ce]=jn[Re]=jn[Ve]=!1;var Pn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},In={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},En={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Mn={"function":!0,object:!0},Tn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cn=parseFloat,Rn=parseInt,Dn=Mn[typeof t]&&t&&!t.nodeType?t:Q,Bn=Mn[typeof e]&&e&&!e.nodeType?e:Q,Fn=Bn&&Bn.exports===Dn?Dn:Q,Ln=D(Dn&&Bn&&"object"==typeof o&&o),qn=D(Mn[typeof self]&&self),Gn=D(Mn[typeof window]&&window),Nn=D(Mn[typeof this]&&this),Wn=Ln||Gn!==(Nn&&Nn.window)&&Gn||qn||Nn||Function("return this")(),zn=Z();(Gn||qn||{})._=zn,r=function(){return zn}.call(t,n,t,e),!(r!==Q&&(e.exports=r))}).call(this)}).call(t,n(19)(e),function(){return this}())},function(e,t,n){var r,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var u in r)i.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],o=function(){return n}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(2),f=r(c),l=n(1),p=r(l),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),a(t,[{key:"bootstrap",value:function(){this.props.bootstrap&&s(Object.getPrototypeOf(t.prototype),"bootstrap",this).call(this)}}]),t}(p["default"]);d.defaultProps=f["default"].defaults({bootstrap:!1,checkComplete:!1,checkReady:!1,shouldRender:!1},p["default"].defaultProps),t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),f=n(4),l=r(f),p=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),a(t,[{key:"start",value:function(){this.props.silentOnStart||this.play()}},{key:"play",value:function(){}}]),t}(l["default"]);p.defaultProps=c["default"].defaults({bootstrap:!1,checkComplete:!1,checkReady:!1,shouldRender:!1,completeDelay:0,completeOnStart:!1,silentOnStart:!0},l["default"].defaultProps),t["default"]=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function y(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:y(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},f=n(2),l=r(f),p=n(3),d=r(p),h=n(1),_=r(h),v=function(e){function t(){o(this,t);var e=i(this,Object.getPrototypeOf(t).call(this));return e.state={ready:!1,open:!1,leaving:!1,leave:!1,close:!0,complete:!1,load:!1},e}return u(t,e),s(t,[{key:"goto",value:function(e,t){"string"==typeof e||"number"==typeof e?skoash.trigger("goto",{index:e,buttonSound:t}):"object"===("undefined"==typeof e?"undefined":a(e))&&(e.buttonSound=e.buttonSound||t,skoash.trigger("goto",e))}},{key:"back",value:function(){skoash.trigger("goBack")}},{key:"next",value:function(){this.state.leaving||(this.setState({leaving:!0}),setTimeout(this["goto"].bind(this,this.props.nextIndex||this.props.index+1,this.audio.button),this.props.nextDelay||0))}},{key:"prev",value:function(){this["goto"](this.props.prevIndex||this.props.index-1)}},{key:"load",value:function(){var e=this;e.state.load||e.setState({load:!0,ready:!1},function(){e.bootstrap()})}},{key:"start",value:function(){var e=this;this.bootstrap(),Object.keys(this.refs).map(function(t){"function"==typeof e.refs[t].start&&e.refs[t].start()}),this.startMedia(),this.setState({started:!0}),this.checkComplete(),this.props.completeOnStart&&this.complete()}},{key:"startMedia",value:function(){this.video[0]?this.video[0].play():this.audio.voiceOver[0]&&this.audio.voiceOver[0].play(),this.audio.start&&this.audio.start.play(),this.props.playOnStart&&this.refs[this.props.playOnStart]&&this.refs[this.props.playOnStart].play()}},{key:"complete",value:function(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c(Object.getPrototypeOf(t.prototype),"complete",this).call(this,n),setTimeout(function(){skoash.trigger("screenComplete",{screenID:e.props.id,silent:n.silent||e.props.silentComplete}),e.audio["screen-complete"]&&e.audio["screen-complete"].play(),e.props.emitOnComplete&&skoash.trigger("emit",e.props.emitOnComplete)},this.props.completeDelay)}},{key:"open",value:function(e){var t=this;t.setState({load:!0,open:!0,opening:!0,leaving:!1,leave:!1,close:!1,replay:this.state.complete||this.state.replay,opts:e}),setTimeout(function(){t.state.started||(t.start(),t.setState({opening:!1}))},this.props.startDelay),"function"==typeof this.props.onOpen&&this.props.onOpen(this),this.loadData()}},{key:"leave",value:function(){this.setState({open:!1,leave:!0,close:!1}),this.stop()}},{key:"close",value:function(){this.setState({open:!1,leave:!1,close:!0}),this.stop()}},{key:"collectData",value:function(){var e=this,t={};return this.refs?(this.refs["selectable-reveal"]?(t=[],this.refs["selectable-reveal"].refs&&this.refs["selectable-reveal"].refs.selectable&&l["default"].forIn(this.refs["selectable-reveal"].refs.selectable.refs,function(e){(l["default"].includes(e.props.className,"SELECTED")||l["default"].includes(e.props.className,"HIGHLIGHTED"))&&t.push(e.props["data-ref"])})):this.refs["dropzone-reveal"]&&this.refs["dropzone-reveal"].refs&&this.refs["dropzone-reveal"].refs.dropzone&&l["default"].forIn(this.refs["dropzone-reveal"].refs.dropzone.refs,function(n,r){-1!==r.indexOf("dropzone-")&&n.state.content&&(e.props.multipleAnswers?(t[r]=[],l["default"].forIn(n.state.content,function(e){t[r].push(e.props.message)})):t[r]={ref:n.state.content.props.message,state:n.state.content.state})}),t):t}},{key:"loadData",value:function n(){var e=this,n={};this.refs&&this.metaData&&(this.refs["selectable-reveal"]&&this.refs["selectable-reveal"].refs&&this.refs["selectable-reveal"].refs.selectable&&l["default"].forEach(this.metaData,function(t){n[t]=e.refs["selectable-reveal"].props.selectableSelectClass||e.refs["selectable-reveal"].refs.selectable.state.selectClass,e.refs["selectable-reveal"].refs.selectable.loadData=n}),this.refs["dropzone-reveal"]&&this.refs["dropzone-reveal"].refs&&this.refs["dropzone-reveal"].refs.dropzone&&(this.refs["dropzone-reveal"].refs.dropzone.loadData=this.metaData),this.completeRefs())}},{key:"getClassNames",value:function(){return(0,d["default"])({LOAD:this.state.load,LEAVING:this.state.leaving,LEAVE:this.state.leave,CLOSE:this.state.close,REPLAY:this.state.replay},c(Object.getPrototypeOf(t.prototype),"getClassNames",this).call(this),"screen")}},{key:"renderContent",value:function(){return React.createElement("div",null,this.renderContentList())}},{key:"renderScreen",value:function(){return this.state.load?this.renderContent():null}},{key:"renderPrevButton",value:function(){return this.props.hidePrev?void 0:React.createElement("button",{className:"prev-screen",onClick:this.prev.bind(this)})}},{key:"renderNextButton",value:function(){return this.props.hideNext?void 0:React.createElement("button",{className:"next-screen",onClick:this.next.bind(this)})}},{key:"render",value:function(){return React.createElement("div",{id:this.props.id,className:this.getClassNames()},this.renderScreen(),this.renderPrevButton(),this.renderNextButton())}}]),t}(_["default"]);v.defaultProps=l["default"].defaults({resetOnClose:!0,startDelay:250},_["default"].defaultProps),t["default"]=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),u=n(6),a=r(u),s=n(9),c=r(s),f=n(10),l=r(f),p=n(8),d=r(p),h=n(13),_=r(h),v=n(12),y=r(v),g=n(11),m=r(g),b=n(16),w=r(b),k=n(17),O=r(k);window.play=window.skoash={Component:i["default"],Screen:a["default"],Game:c["default"],Image:l["default"],Audio:d["default"],MediaSequence:y["default"],Video:_["default"],ListItem:m["default"],start:w["default"],util:O["default"]},t["default"]=window.skoash},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function d(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:d(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(18),f=n(5),l=r(f),p=function(e){function t(){o(this,t);var e=i(this,Object.getPrototypeOf(t).call(this));return e.complete=e.complete.bind(e),e.ready=e.ready.bind(e),e}return u(t,e),a(t,[{key:"play",value:function(){var e=this,t=this.props.delay||0,n=skoash.trigger("getState");e.state.ready?(skoash.trigger("audioPlay",{audio:e}),n.paused||setTimeout(e.playAudio.bind(e),t)):(e.bootstrap(),setTimeout(e.skoash.bind(e),50))}},{key:"playAudio",value:function(){this.state.paused||(this.setState({playing:!0}),this.audio.play())}},{key:"pause",value:function(){this.state.playing&&(this.audio.pause(),this.setState({paused:!0}))}},{key:"resume",value:function(){this.state.paused&&this.setState({paused:!1},this.playAudio.bind(this))}},{key:"stop",value:function(){this.audio&&(skoash.trigger("audioStop",{audio:this}),this.setState({playing:!1}),this.audio.stop())}},{key:"setVolume",value:function(e){this.audio.volume(e)}},{key:"increaseVolume",value:function(e){this.audio.fadeIn(e)}},{key:"decreaseVolume",value:function(e){this.audio.fadeOut(e)}},{key:"complete",value:function(){this.props.loop||skoash.trigger("audioStop",{audio:this}),this.setState({playing:!1}),s(Object.getPrototypeOf(t.prototype),"complete",this).call(this)}},{key:"componentDidMount",value:function(){this.audio=new c.Howl({src:[this.props.src],loop:this.props.loop||!1,onend:this.complete,onload:this.ready}),this.props.complete&&this.complete()}}]),t}(l["default"]);t["default"]=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function k(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:k(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},d=n(2),h=r(d),_=n(3),v=r(_),y=n(1),g=r(y),m=n(6),b=r(m),w=function(e){function t(e){u(this,t);var n=a(this,Object.getPrototypeOf(t).call(this));return n.config=e,n.screens={0:React.createElement(b["default"],null)},n.menus={Screen:b["default"]},n.state={currentScreenIndex:0,highestScreenIndex:0,screenIndexArray:[],playingSFX:[],playingVO:[],playingBKG:[],playingVideo:null,openMenus:[],loading:!0,demo:!1,data:{},classes:[]},skoash.trigger=n.trigger.bind(n),n.attachEvents(),n}return s(t,e),l(t,[{key:"attachEvents",value:function(){var e=this;window.addEventListener("load",window.focus),window.addEventListener("focus",function(){e.resume()}),window.addEventListener("blur",function(){e.pause()}),window.addEventListener("resize",function(){e.scale()}),window.addEventListener("orientationchange",function(){window.onresize()}),window.addEventListener("keydown",function(t){e.onKeyUp(t)}),window.addEventListener("platform-event",function(t){e.trigger(t.name,t.gameData)})}},{key:"getState",value:function(){return this.state}},{key:"demo",value:function n(){var n=!this.state.demo;this.setState({demo:n})}},{key:"onKeyUp",value:function(e){39===e.keyCode?this["goto"]({index:this.state.currentScreenIndex+1}):37===e.keyCode?this["goto"]({index:this.state.currentScreenIndex-1}):e.altKey&&e.ctrlKey&&68===e.keyCode&&this.demo()}},{key:"componentWillMount",value:function(){this.emit({name:"init"}),this.detechDevice(),this.scale()}},{key:"bootstrap",value:function(){var e=this;e.state.iOS||(e.state.currentScreenIndex=1),e.requireForReady=Object.keys(e.refs),e.requireForComplete=e.requireForReady.filter(function(t){return!e.refs[t].state||!e.refs[t].state.complete}),e.collectMedia(),e.loadScreens()}},{key:"loadScreens",value:function(){var e,t,n=this;e=this.refs["screen-"+this.state.currentScreenIndex],t=this.refs["screen-"+this.state.currentScreenIndex+1],e&&e.load(),t&&t.load(),setTimeout(function(){n.checkReady()},0)}},{key:"ready",value:function(){this.state.ready||(this.emit({name:"ready",game:this.config.id}),this.setState({ready:!0}),this["goto"]({index:this.state.currentScreenIndex,silent:!0}))}},{key:"resume",value:function(){this.setPause(!1)}},{key:"pause",value:function(){this.setPause(!0)}},{key:"setPause",value:function(e){var t,n=e?"pause":"resume";return this.setState({paused:e}),this.state.playingVideo?void this.state.playingVideo[n]():(this.state.playingSFX.map(function(e){e[n]()}),this.state.playingVO.map(function(e){e[n]()}),this.state.playingBKG.map(function(e){e[n]()}),t=this.refs["screen-"+this.state.currentScreenIndex],void(t&&"function"==typeof t[n]&&t[n]()))}},{key:"detechDevice",value:function(){this.setState({iOS:this.iOS(),mobile:this.mobileOrTablet()})}},{key:"iOS",value:function(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;e.length;)if(navigator.platform===e.pop())return!0;return!1}},{key:"mobileOrTablet",value:function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}},{key:"goBack",value:function(){var e,t;e=this.state.screenIndexArray,e.pop(),t=e.pop(),this["goto"]({index:t})}},{key:"goto",value:function(e){var t,n,r,o,i,u,a,s;if(s=this.state.data,n=this.state.currentScreenIndex,t=this.refs["screen-"+n],!(t&&t.state&&t.state.opening)){if("number"==typeof e.index){if(e.index>this.screensLength-1)return this.quit();r=Math.min(this.screensLength-1,Math.max(0,e.index)),i=this.refs["screen-"+(r+1)],u=Math.max(this.state.highestScreenIndex,r)}else"string"==typeof e.index&&(r=e.index,u=this.state.highestScreenIndex);o=this.refs["screen-"+r],a=this.state.screenIndexArray,t.props.index<o.props.index&&!this.state.demo&&!t.state.complete&&!t.state.replay||t.props.index>o.props.index&&0===o.props.index||(o&&(o.state.load&&o.state.ready||this.loadScreens(),a.push(r),o.open(e)),t&&t!==o&&(t.props.index>o.props.index?t.close():t.leave(),t.props.resetOnClose&&(s=h["default"].cloneDeep(this.state.data),s.screens[n]={})),i&&i.load(),this.setState({loading:!1,currentScreenIndex:r,highestScreenIndex:u,screenIndexArray:a,classes:[],data:s}),this.emitSave(u,r),e.silent||(e.buttonSound&&"function"==typeof e.buttonSound.play?e.buttonSound.play():this.audio.button&&this.audio.button.play()),this.playBackground(r))}}},{key:"emitSave",value:function(e,t){this.emit({name:"save",game:this.config.id,version:this.config.version,highestScreenIndex:e,currentScreenIndex:t})}},{key:"openMenu",value:function(e){var t,n;t=this.refs["menu-"+e.id],t&&(t.open(),n=this.state.openMenus||[],n.push(e.id),this.setState({openMenus:n}))}},{key:"menuClose",value:function(e){var t;t=this.state.openMenus||[],t.splice(e.id,1),this.setState({openMenus:t})}},{key:"getBackgroundIndex",value:function(){return 0}},{key:"playBackground",value:function(e){var t,n,r=this;t=this.getBackgroundIndex(e),n=this.state.playingBKG,-1===n.indexOf(this.audio.background[t])&&(n=n.filter(function(e){return e.stop(),!1}),this.setState({playingBKG:n},function(){r.audio.background[t]&&r.audio.background[t].play()}))}},{key:"scale",value:function(){this.setState({scale:window.innerWidth/this.config.dimensions.width})}},{key:"trigger",value:function(e,t){var n,r;return n={"goto":this["goto"],goBack:this.goBack,audioPlay:this.audioPlay,audioStop:this.audioStop,videoPlay:this.videoPlay,videoStop:this.videoStop,demo:this.demo,"toggle-demo-mode":this.demo,getData:this.getData,"get-data":this.getData,passData:this.passData,"pass-data":this.passData,"update-data":this.updateData,updateState:this.updateState,screenComplete:this.screenComplete,openMenu:this.openMenu,menuClose:this.menuClose,getState:this.getState,emit:this.emit,quit:this.quit,save:this.load,complete:this.checkComplete,incomplete:this.checkComplete},r=n[e],"function"==typeof r?r.call(this,t):void 0}},{key:"emit",value:function(e){var t,n=this;return t=new Promise(function(t){var r;"object"===("undefined"==typeof e?"undefined":f(e))&&(e.game||(e.game=n.config.id),e.version||(e.version=n.config.version),r=new Event("game-event",{bubbles:!0,cancelable:!1}),r.name=e.name,r.gameData=e,r.respond=function(e){t(e)},window.frameElement&&window.frameElement.dispatchEvent(r))}),t.then(function(e){n.trigger(e.name,e)}),t}},{key:"getData",value:function(e){return e.name="getData",this.emit(e)}},{key:"passData",value:function(){"function"==typeof this.props.passData&&this.props.passData.apply(this,arguments)}},{key:"load",value:function(e){e.game===this.config.id&&e.highestScreenIndex&&this.setState({currentScreenIndex:e.highestScreenIndex})}},{key:"quit",value:function(){this.emit({name:"exit",game:this.config.id})}},{key:"updateState",value:function(e){"string"==typeof e.path?(e.data={screens:i({},this.state.currentScreenIndex,i({},e.path,e.data))},this.updateData(e)):h["default"].isArray(e.path)&&(e.data=h["default"].setWith({},e.path,e.data,Object),this.updateData(e))}},{key:"updateData",value:function(e){var t=h["default"].merge(e.data,this.state.data);this.setState({data:t},e.callback)}},{key:"audioPlay",value:function(e){var t,n,r,o;switch(t=this.state.playingSFX||[],n=this.state.playingVO||[],r=this.state.playingBKG||[],o=this.state.classes||[],e.audio.props.gameClass&&o.push(e.audio.props.gameClass),e.audio.props.type){case"sfx":t.push(e.audio);break;case"voiceOver":n.push(e.audio),this.fadeBackground();break;case"background":r.push(e.audio)}this.setState({playingSFX:t,playingVO:n,playingBKG:r,classes:o})}},{key:"audioStop",value:function(e){var t,n,r,o;switch(t=this.state.playingSFX||[],n=this.state.playingVO||[],r=this.state.playingBKG||[],e.audio.props.type){case"sfx":o=t.indexOf(e.audio),-1!==o&&t.splice(o,1);break;case"voiceOver":o=n.indexOf(e.audio),-1!==o&&n.splice(o,1),n.length||this.raiseBackground();break;case"background":o=r.indexOf(e.audio),-1!==o&&r.splice(o,1)}this.setState({playingSFX:t,playingVO:n,playingBKG:r})}},{key:"videoPlay",value:function(e){var t=this.state.playingVideo;t&&t.stop(),t=e.video,this.fadeBackground(0),this.setState({playingVideo:t})}},{key:"videoStop",value:function(){this.raiseBackground(1),this.setState({playingVideo:null})}},{key:"fadeBackground",value:function(e){"undefined"==typeof e&&(e=.25),this.state.playingBKG.map(function(t){t.setVolume(e)})}},{key:"raiseBackground",value:function(e){"undefined"==typeof e&&(e=1),0===this.state.playingVO.length&&this.state.playingBKG.map(function(t){t.setVolume(e)})}},{key:"checkComplete",value:function(){var e=this.refs["screen-"+this.state.currentScreenIndex];e&&"function"==typeof e.checkComplete&&e.checkComplete()}},{key:"screenComplete",value:function(e){e.silent||this.audio["screen-complete"]&&this.audio["screen-complete"].play()}},{key:"getClassNames",value:function(){var e;return v["default"].apply(void 0,["pl-game","skoash-game",(e={iOS:this.state.iOS,MOBILE:this.state.mobile,SFX:this.state.playingSFX.length,"VOICE-OVER":this.state.playingVO.length,PAUSED:this.state.paused,LOADING:this.state.loading,MENU:this.state.openMenus.length},i(e,"MENU-"+this.state.openMenus[0],this.state.openMenus[0]),i(e,"DEMO",this.state.demo),i(e,"SCREEN-"+this.state.currentScreenIndex,!0),e)].concat(o(this.state.classes),[p(Object.getPrototypeOf(t.prototype),"getClassNames",this).call(this)]))}},{key:"getStyles",value:function(){var e="50% 0px 0px";return this.state.scale<1&&(e="0px 0px 0px"),{transform:"scale3d("+this.state.scale+","+this.state.scale+",1)",transformOrigin:e}}},{key:"renderLoader",value:function(){return null}},{key:"renderAssets",value:function(){return null}},{key:"renderMenu",value:function(){return React.createElement("div",{className:"menu"},React.createElement("button",{className:"close",onClick:this.openMenu.bind(this,{id:"quit"})}))}},{key:"renderScreens",value:function(){var e,t,n=this;return e=n.props.screens||n.screens,t=Object.keys(e),n.screensLength=t.length,t.map(function(t,r){var o,i;return i=e[t].props||{},i.data=n.state.data.screens[t],i.index=r,(o=e[t])(i,"screen-"+t,t)})}},{key:"renderMenuScreens",value:function(){return h["default"].map(this.menus,function(e,t){return React.createElement(e.type,c({},e.props,{key:t,index:t,ref:"menu-"+t}))})}},{key:"render",value:function(){return React.createElement("div",{className:this.getClassNames(),style:this.getStyles()},this.renderLoader(),this.renderAssets(),this.renderMenu(),this.renderScreens(),this.renderMenuScreens())}}]),t}(g["default"]);t["default"]=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),f=r(c),l=n(4),p=r(l),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).call(this))}return u(t,e),s(t,[{key:"componentDidMount",value:function(){this.setState({complete:!0})}},{key:"ready",value:function(){this.state.error||this.setState({ready:!0,complete:!this.props.incomplete})}},{key:"error",value:function(){this.setState({error:!0,ready:!1})}},{key:"render",value:function(){return React.createElement("img",a({},this.props,{onLoad:this.ready.bind(this),onError:this.error.bind(this),draggable:!1}))}}]),t}(p["default"]);d.defaultProps=f["default"].assign(p["default"].defaultProps,{shouldRender:!0,bootstrap:!0,checkReady:!0}),t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),f=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).call(this))}return u(t,e),a(t,[{key:"componentWillMount",value:function(){this.props.correct||this.complete()}},{key:"checkComplete",value:function(){}},{key:"render",value:function(){return React.createElement("li",this.props)}}]),t}(c["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),l=function(e){function t(){o(this,t);var e=i(this,Object.getPrototypeOf(t).call(this));return e.playNext=e.playNext.bind(e),e}return u(t,e),s(t,[{key:"start",value:function(){this.props.silentOnStart||this.play()}},{key:"play",value:function(){this.setState({started:!0}),this.refs[0]&&(this.playingIndex=0,this.refs[0].play()),this.props.checkComplete!==!1&&this.checkComplete()}},{key:"playNext",value:function(){var e=this.refs[++this.playingIndex];e&&e.play()}},{key:"renderContentList",value:function(){var e=this,t=[].concat(this.props.children);
return t.map(function(t,n){return React.createElement(t.type,a({},t.props,{ref:n,key:n,onComplete:function(){e.playNext(),"function"==typeof t.props.onComplete&&t.props.onComplete.call(this,this)}}))})}}]),t}(f["default"]);l.defaultProps={type:"div",shouldRender:!0,bootstrap:!0,checkReady:!0,checkComplete:!0,silentOnStart:!1},t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function d(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:d(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},f=n(5),l=r(f),p=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).call(this))}return u(t,e),s(t,[{key:"play",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.state.playing||(this.el.play(),play.trigger("videoPlay",{video:this}),this.setState({playing:!0}))})},{key:"start",value:function(){this.play()}},{key:"stop",value:function(){this.el.pause(),play.trigger("videoStop",{video:this}),this.setState({playing:!1})}},{key:"pause",value:function(){this.el.pause(),this.setState({paused:!0})}},{key:"resume",value:function(){this.setState({paused:!1},this.play.bind(this))}},{key:"complete",value:function(){this.props.loop||play.trigger("videoStop",{video:this}),this.setState({playing:!1}),c(Object.getPrototypeOf(t.prototype),"complete",this).call(this)}},{key:"componentDidMount",value:function(){this.el=ReactDOM.findDOMNode(this)}},{key:"render",value:function(){return React.createElement("video",a({},this.props,{onCanPlay:this.ready.bind(this),onEnded:this.complete.bind(this),preload:"auto",controls:!0}))}}]),t}(l["default"]);t["default"]=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var n,r,o,i,u,a,s,c,f=[e,t];for(i=0;i<f.length;i++){var l=f[i];for(u=0;u<l.length;u++){var p=(u+1)%l.length,d=l[u],h=l[p],_={x:h.y-d.y,y:d.x-h.x};for(n=r=void 0,a=0;a<e.length;a++)o=_.x*e[a].x+_.y*e[a].y,("undefined"==typeof n||n>o)&&(n=o),("undefined"==typeof r||o>r)&&(r=o);for(s=c=void 0,a=0;a<t.length;a++)o=_.x*t[a].x+_.y*t[a].y,("undefined"==typeof s||s>o)&&(s=o),("undefined"==typeof c||o>c)&&(c=o);if(s>r||n>c)return!1}}return!0};t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var n=t?Math.pow(10,t):1;return Math.floor(e*n)/n};t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(e,t){var r;r=document.getElementById(t),r||(r=document.createElement("DIV"),r.id=t,document.body.appendChild(r)),e="object"===("undefined"==typeof e?"undefined":n(e))?e:React.createElement(e,null),ReactDOM.render(e,r)};t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=r(o),u=n(15),a=r(u),s={doIntersect:i["default"],floor:a["default"]};t["default"]=s},function(e,t,n){var r,o;(function(n){/*!
	 *  howler.js v2.0.0
	 *  howlerjs.com
	 *
	 *  (c) 2013-2016, James Simpson of GoldFire Studios
	 *  goldfirestudios.com
	 *
	 *  MIT License
	 */
!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var e=this||u;return e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var t=this||u;if(e=parseFloat(e),t.ctx||h(),"undefined"!=typeof e&&e>=0&&1>=e){if(t._volume=e,t._muted)return t;t.usingWebAudio&&(t.masterGain.gain.value=e);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=t._howls[n]._soundById(r[o]);i&&i._node&&(i._node.volume=i._volume*e)}return t}return t._volume},mute:function(e){var t=this||u;t.ctx||h(),t._muted=e,t.usingWebAudio&&(t.masterGain.gain.value=e?0:t._volume);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=t._howls[n]._soundById(r[o]);i&&i._node&&(i._node.muted=e?!0:i._muted)}return t},unload:function(){for(var e=this||u,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&"undefined"!=typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,h()),e},codecs:function(e){return(this||u)._codecs[e]},_setup:function(){var e=this||u;return e.state=e.ctx?e.ctx.state||"running":"running",e._autoSuspend(),e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||u,t="undefined"!=typeof Audio?new Audio:null;if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),o=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(o||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,"")},e},_enableMobileAudio:function(){var e=this||u,t=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator&&e._navigator.userAgent),n=!!("ontouchend"in window||e._navigator&&e._navigator.maxTouchPoints>0||e._navigator&&e._navigator.msMaxTouchPoints>0);if(!e._mobileEnabled&&e.ctx&&(t||n)){e._mobileEnabled=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var r=function(){var t=e.ctx.createBufferSource();t.buffer=e._scratchBuffer,t.connect(e.ctx.destination),"undefined"==typeof t.start?t.noteOn(0):t.start(0),t.onended=function(){t.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener("touchend",r,!0)}};return document.addEventListener("touchend",r,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!=typeof e.ctx.suspend&&u.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!=typeof e.ctx.resume&&u.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.state="resuming",e.ctx.resume().then(function(){e.state="running"}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var u=new i,a=function(e){var t=this;return e.src&&0!==e.src.length?void t.init(e):void console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return u.ctx||h(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"==typeof e.preload?e.preload:!0,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._webAudio=u.usingWebAudio&&!t._html5,"undefined"!=typeof u.ctx&&u.ctx&&u.mobileAutoEnable&&u._enableMobileAudio(),u._howls.push(t),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(u.noAudio)return void e._emit("loaderror",null,"No audio support.");"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,o;if(e._format&&e._format[n])r=e._format[n];else{if(o=e._src[n],"string"!=typeof o){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}r=/^data:audio\/([^;,]+);/i.exec(o),r||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(u.codecs(r)){t=e._src[n];break}}return t?(e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&f(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if("undefined"==typeof e){e="__default";for(var o=0,i=0;i<n._sounds.length;i++)n._sounds[i]._paused&&!n._sounds[i]._ended&&(o++,r=n._sounds[i]._id);1===o?e=null:r=null}}var a=r?n._soundById(r):n._inactiveSound();if(!a)return null;if(r&&!e&&(e=a._sprite||"__default"),"loaded"!==n._state&&!n._sprite[e])return n._queue.push({event:"play",action:function(){n.play(n._soundById(a._id)?a._id:void 0)}}),a._id;if(r&&!a._paused)return t||setTimeout(function(){n._emit("play",a._id)},0),a._id;n._webAudio&&u._autoResume();var s=a._seek>0?a._seek:n._sprite[e][0]/1e3,c=(n._sprite[e][0]+n._sprite[e][1])/1e3-s,f=1e3*c/Math.abs(a._rate);a._paused=!1,a._ended=!1,a._sprite=e,a._seek=s,a._start=n._sprite[e][0]/1e3,a._stop=(n._sprite[e][0]+n._sprite[e][1])/1e3,a._loop=!(!a._loop&&!n._sprite[e][2]);var l=a._node;if(n._webAudio){var p=function(){n._refreshBuffer(a);var e=a._muted||n._muted?0:a._volume;l.gain.setValueAtTime(e,u.ctx.currentTime),a._playStart=u.ctx.currentTime,"undefined"==typeof l.bufferSource.start?a._loop?l.bufferSource.noteGrainOn(0,s,86400):l.bufferSource.noteGrainOn(0,s,c):a._loop?l.bufferSource.start(0,s,86400):l.bufferSource.start(0,s,c),f!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),f)),t||setTimeout(function(){n._emit("play",a._id)},0)};"loaded"===n._state?p():(n.once("load",p,a._id),n._clearTimer(a._id))}else{var d=function(){l.currentTime=s,l.muted=a._muted||n._muted||u._muted||l.muted,l.volume=a._volume*u.volume(),l.playbackRate=a._rate,setTimeout(function(){l.play(),f!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),f)),t||n._emit("play",a._id)},0)},h="loaded"===n._state&&(window&&window.ejecta||!l.readyState&&u._navigator.isCocoonJS);if(4===l.readyState||h)d();else{var _=function(){d(),l.removeEventListener(u._canPlayEvent,_,!1)};l.addEventListener(u._canPlayEvent,_,!1),n._clearTimer(a._id)}}return a._id},pause:function(e){var t=this;if("loaded"!==t._state)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused){if(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node)if(t._webAudio){if(!o._node.bufferSource)return t;"undefined"==typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o._id)}}return t},stop:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);if(i&&!i._paused&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node))if(n._webAudio){if(!i._node.bufferSource)return n;"undefined"==typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause());i&&!t&&n._emit("stop",i._id)}return n},mute:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"==typeof t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var i=n._soundById(r[o]);i&&(i._muted=e,n._webAudio&&i._node?i._node.gain.setValueAtTime(e?0:i._volume,u.ctx.currentTime):i._node&&(i._node.muted=u._muted?!0:e),n._emit("mute",i._id))}return n},volume:function(){var e,t,n=this,r=arguments;if(0===r.length)return n._volume;if(1===r.length){var o=n._getSoundIds(),i=o.indexOf(r[0]);i>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else r.length>=2&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var a;if(!("undefined"!=typeof e&&e>=0&&1>=e))return a=t?n._soundById(t):n._sounds[0],a?a._volume:0;if("loaded"!==n._state)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,r)}}),n;"undefined"==typeof t&&(n._volume=e),t=n._getSoundIds(t);for(var s=0;s<t.length;s++)a=n._soundById(t[s]),a&&(a._volume=e,r[2]||n._stopFade(t[s]),n._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,u.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*u.volume()),n._emit("volume",a._id));return n},fade:function(e,t,n,r){var o=this,i=Math.abs(e-t),a=e>t?"out":"in",s=i/.01,c=n/s;if("loaded"!==o._state)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;o.volume(e,r);for(var f=o._getSoundIds(r),l=0;l<f.length;l++){var p=o._soundById(f[l]);if(p){if(r||o._stopFade(f[l]),o._webAudio&&!p._muted){var d=u.ctx.currentTime,h=d+n/1e3;p._volume=e,p._node.gain.setValueAtTime(e,d),p._node.gain.linearRampToValueAtTime(t,h)}var _=e;p._interval=setInterval(function(e,n){_+="in"===a?.01:-.01,_=Math.max(0,_),_=Math.min(1,_),_=Math.round(100*_)/100,o._webAudio?("undefined"==typeof r&&(o._volume=_),n._volume=_):o.volume(_,e,!0),_===t&&(clearInterval(n._interval),n._interval=null,o.volume(_,e),o._emit("fade",e))}.bind(o,f[l],p),c)}}return o},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(u.ctx.currentTime),clearInterval(n._interval),n._interval=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return n=r._soundById(parseInt(o[0],10)),n?n._loop:!1;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),u=0;u<i.length;u++)n=r._soundById(i[u]),n&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e));return r},rate:function(){var e,t,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){var o=n._getSoundIds(),i=o.indexOf(r[0]);i>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var a;if("number"!=typeof e)return a=n._soundById(t),a?a._rate:n._rate;if("loaded"!==n._state)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,r)}}),n;"undefined"==typeof t&&(n._rate=e),t=n._getSoundIds(t);for(var s=0;s<t.length;s++)if(a=n._soundById(t[s])){a._rateSeek=n.seek(t[s]),a._playStart=n._webAudio?u.ctx.currentTime:a._playStart,a._rate=e,n._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.value=e:a._node&&(a._node.playbackRate=e);var c=n.seek(t[s]),f=(n._sprite[a._sprite][0]+n._sprite[a._sprite][1])/1e3-c,l=1e3*f/Math.abs(a._rate);!n._endTimers[t[s]]&&a._paused||(n._clearTimer(t[s]),n._endTimers[t[s]]=setTimeout(n._ended.bind(n,a),l)),n._emit("rate",a._id)}return n},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){var o=n._getSoundIds(),i=o.indexOf(r[0]);i>=0?t=parseInt(r[0],10):(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("undefined"==typeof t)return n;if("loaded"!==n._state)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var a=n._soundById(t);if(a){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var s=n.playing(t)?u.ctx.currentTime-a._playStart:0,c=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(c+s*Math.abs(a._rate))}return a._node.currentTime}var f=n.playing(t);f&&n.pause(t,!0),a._seek=e,a._ended=!1,n._clearTimer(t),f&&n.play(t,!0),!n._webAudio&&a._node&&(a._node.currentTime=e),n._emit("seek",t)}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return n?!n._paused:!1}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++){t[n]._paused||(e.stop(t[n]._id),e._emit("end",t[n]._id)),e._webAudio||(t[n]._node.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(u._canPlayEvent,t[n]._loadFn,!1)),delete t[n]._node,e._clearTimer(t[n]._id);var r=u._howls.indexOf(e);r>=0&&u._howls.splice(r,1)}var o=!0;for(n=0;n<u._howls.length;n++)if(u._howls[n]._src===e._src){o=!1;break}return c&&o&&delete c[e._src],e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this,i=o["_on"+e];return"function"==typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),o},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if(t){for(i=0;i<o.length;i++)if(t===o[i].fn&&n===o[i].id){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var u=Object.keys(r);for(i=0;i<u.length;i++)0===u[i].indexOf("_on")&&Array.isArray(r[u[i]])&&(r[u[i]]=[])}return r},once:function(e,t,n){var r=this;return r.on(e,t,n,1),r},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r},_loadQueue:function(){var e=this;if(e._queue.length>0){var t=e._queue[0];e.once(t.event,function(){e._queue.shift(),e._loadQueue()}),t.action()}return e},_ended:function(e){var t=this,n=e._sprite,r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=u.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),u._autoSuspend()),t._webAudio||r||t.stop(e._id),t},_clearTimer:function(e){var t=this;return t._endTimers[e]&&(clearTimeout(t._endTimers[e]),delete t._endTimers[e]),t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(t>=n)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){var t=this;if("undefined"==typeof e){for(var n=[],r=0;r<t._sounds.length;r++)n.push(t._sounds[r]._id);return n}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=u.ctx.createBufferSource(),e._node.bufferSource.buffer=c[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.value=e._rate,t},_cleanBuffer:function(e){var t=this;if(t._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=t._scratchBuffer}catch(n){}}return e.bufferSource=null,t}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._muted=t._muted,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=Math.round(Date.now()*Math.random()),t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=u._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node="undefined"==typeof u.ctx.createGain?u.ctx.createGainNode():u.ctx.createGain(),e._node.gain.setValueAtTime(n,u.ctx.currentTime),e._node.paused=!0,e._node.connect(u.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(u._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload="auto",e._node.volume=n*u.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._muted=t._muted,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=Math.round(Date.now()*Math.random()),e},_errorListener:function(){var e=this;e._node.error&&4===e._node.error.code&&(u.noAudio=!0),e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorListener,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),t._autoplay&&t.play(),e._node.removeEventListener(u._canPlayEvent,e._loadFn,!1)}};var c={},f=function(e){var t=e._src;if(c[t])return e._duration=c[t].duration,void d(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);p(r.buffer,e)}else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){var t=(i.status+"")[0];return"0"!==t&&"2"!==t&&"3"!==t?void e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+"."):void p(i.response,e)},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},l(i)}},l=function(e){try{e.send()}catch(t){e.onerror()}},p=function(e,t){u.ctx.decodeAudioData(e,function(e){e&&t._sounds.length>0&&(c[t._src]=e,d(t,e))},function(){t._emit("loaderror",null,"Decoding audio data failed.")})},d=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),e._autoplay&&e.play()},h=function(){u.noAudio=!1;try{"undefined"!=typeof AudioContext?u.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?u.ctx=new webkitAudioContext:u.usingWebAudio=!1}catch(e){u.usingWebAudio=!1}if(!u.usingWebAudio)if("undefined"!=typeof Audio)try{var t=new Audio;"undefined"==typeof t.oncanplaythrough&&(u._canPlayEvent="canplay")}catch(e){u.noAudio=!0}else u.noAudio=!0;try{var t=new Audio;t.muted&&(u.noAudio=!0)}catch(e){}var n=/iP(hone|od|ad)/.test(u._navigator&&u._navigator.platform),r=u._navigator&&u._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),o=r?parseInt(r[1],10):null;if(n&&o&&9>o){var i=/safari/.test(u._navigator&&u._navigator.userAgent.toLowerCase());(u._navigator&&u._navigator.standalone&&!i||u._navigator&&!u._navigator.standalone&&!i)&&(u.usingWebAudio=!1)}u.usingWebAudio&&(u.masterGain="undefined"==typeof u.ctx.createGain?u.ctx.createGainNode():u.ctx.createGain(),u.masterGain.gain.value=1,u.masterGain.connect(u.ctx.destination)),u._setup()};r=[],o=function(){return{Howler:u,Howl:a}}.apply(t,r),!(void 0!==o&&(e.exports=o)),t.Howler=u,t.Howl=a,"undefined"!=typeof window?(window.HowlerGlobal=i,window.Howler=u,window.Howl=a,window.Sound=s):"undefined"!=typeof n&&(n.HowlerGlobal=i,n.Howler=u,n.Howl=a,n.Sound=s)}(),/*!
	 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
	 *  
	 *  howler.js v2.0.0
	 *  howlerjs.com
	 *
	 *  (c) 2013-2016, James Simpson of GoldFire Studios
	 *  goldfirestudios.com
	 *
	 *  MIT License
	 */
function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var u=this;if(!u.ctx||!u.ctx.listener)return u;var a=u._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,o="number"!=typeof o?a[4]:o,i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(u._orientation=[e,t,n,r,o,i],u.ctx.listener.setOrientation(e,t,n,r,o,i),u)},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!=typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var o="undefined"==typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"==typeof n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var i=r._getSoundIds(n),u=0;u<i.length;u++){var a=r._soundById(i[u]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||e(a,o),"spatial"===o?a._panner.setPosition(t,0,0):a._panner.pan.value=t),r._emit("stereo",a._id)}}return r},Howl.prototype.pos=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(t,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,"undefined"==typeof o){if("number"!=typeof t)return i._pos;i._pos=[t,n,r]}for(var u=i._getSoundIds(o),a=0;a<u.length;a++){var s=i._soundById(u[a]);if(s){if("number"!=typeof t)return s._pos;s._pos=[t,n,r],s._node&&(s._panner&&!s._panner.pan||e(s,"spatial"),s._panner.setPosition(t,n,r)),i._emit("pos",s._id)}}return i},Howl.prototype.orientation=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(t,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,"undefined"==typeof o){if("number"!=typeof t)return i._orientation;i._orientation=[t,n,r]}for(var u=i._getSoundIds(o),a=0;a<u.length;a++){var s=i._soundById(u[a]);if(s){if("number"!=typeof t)return s._orientation;s._orientation=[t,n,r],s._node&&(s._panner||(s._pos||(s._pos=i._pos||[0,0,-.5]),e(s,"spatial")),s._panner.setOrientation(t,n,r)),i._emit("orientation",s._id)}}return i},Howl.prototype.pannerAttr=function(){var t,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return r=o._soundById(parseInt(i[0],10)),r?r._pannerAttr:o._pannerAttr;t=i[0],"undefined"==typeof n&&(o._pannerAttr={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:o._coneOuterAngle,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:o._coneOuterGain,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:o._distanceModel,maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:o._maxDistance,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:o._panningModel,refDistance:"undefined"!=typeof t.refDistance?t.refDistance:o._refDistance,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:o._rolloffFactor})}else 2===i.length&&(t=i[0],n=parseInt(i[1],10));for(var u=o._getSoundIds(n),a=0;a<u.length;a++)if(r=o._soundById(u[a])){var s=r._pannerAttr;s={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:s.coneOuterAngle,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:s.coneOuterGain,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:s.distanceModel,maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:s.maxDistance,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:s.panningModel,refDistance:"undefined"!=typeof t.refDistance?t.refDistance:s.refDistance,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:s.rolloffFactor};var c=r._panner;c?(c.coneInnerAngle=s.coneInnerAngle,c.coneOuterAngle=s.coneOuterAngle,c.coneOuterGain=s.coneOuterGain,c.distanceModel=s.distanceModel,c.maxDistance=s.maxDistance,c.panningModel=s.panningModel,c.refDistance=s.refDistance,c.rolloffFactor=s.rolloffFactor):(r._pos||(r._pos=o._pos||[0,0,-.5]),e(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this)}}(Sound.prototype.reset);var e=function(e,t){t=t||"spatial","spatial"===t?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.panningModel=e._pannerAttr.panningModel,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.value=e._stereo),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id)}}()}).call(t,function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}]);
//# sourceMappingURL=skoash.1.0.1.js.map