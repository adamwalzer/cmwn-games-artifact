{"version":3,"sources":["webpack:///webpack/bootstrap 8548bc867582aad8d439","webpack:///./source/main.js","webpack:///./~/babel-runtime/helpers/interop-require-default.js","webpack:///./~/babel-runtime/helpers/interopRequireDefault.js","webpack:///./source/jQExtentions.js","webpack:///./~/babel-runtime/core-js/array/for-each.js","webpack:///./~/core-js/library/fn/array/for-each.js","webpack:///./~/core-js/library/modules/es6.array.for-each.js","webpack:///./~/core-js/library/modules/_export.js","webpack:///./~/core-js/library/modules/_global.js","webpack:///./~/core-js/library/modules/_core.js","webpack:///./~/core-js/library/modules/_ctx.js","webpack:///./~/core-js/library/modules/_a-function.js","webpack:///./~/core-js/library/modules/_hide.js","webpack:///./~/core-js/library/modules/_object-dp.js","webpack:///./~/core-js/library/modules/_an-object.js","webpack:///./~/core-js/library/modules/_is-object.js","webpack:///./~/core-js/library/modules/_ie8-dom-define.js","webpack:///./~/core-js/library/modules/_descriptors.js","webpack:///./~/core-js/library/modules/_fails.js","webpack:///./~/core-js/library/modules/_dom-create.js","webpack:///./~/core-js/library/modules/_to-primitive.js","webpack:///./~/core-js/library/modules/_property-desc.js","webpack:///./~/core-js/library/modules/_array-methods.js","webpack:///./~/core-js/library/modules/_iobject.js","webpack:///./~/core-js/library/modules/_cof.js","webpack:///./~/core-js/library/modules/_to-object.js","webpack:///./~/core-js/library/modules/_defined.js","webpack:///./~/core-js/library/modules/_to-length.js","webpack:///./~/core-js/library/modules/_to-integer.js","webpack:///./~/core-js/library/modules/_array-species-create.js","webpack:///./~/core-js/library/modules/_is-array.js","webpack:///./~/core-js/library/modules/_wks.js","webpack:///./~/core-js/library/modules/_shared.js","webpack:///./~/core-js/library/modules/_uid.js","webpack:///./~/core-js/library/modules/_strict-method.js","webpack:///./source/types/Dimensions.js","webpack:///./~/babel-runtime/core-js/object/define-properties.js","webpack:///./~/core-js/library/fn/object/define-properties.js","webpack:///./~/core-js/library/modules/es6.object.define-properties.js","webpack:///./~/core-js/library/modules/_object-dps.js","webpack:///./~/core-js/library/modules/_object-keys.js","webpack:///./~/core-js/library/modules/_object-keys-internal.js","webpack:///./~/core-js/library/modules/_has.js","webpack:///./~/core-js/library/modules/_to-iobject.js","webpack:///./~/core-js/library/modules/_array-includes.js","webpack:///./~/core-js/library/modules/_to-index.js","webpack:///./~/core-js/library/modules/_shared-key.js","webpack:///./~/core-js/library/modules/_enum-bug-keys.js","webpack:///./source/types/BasicArray.js","webpack:///./source/util.js","webpack:///./source/types/Basic.js","webpack:///./~/babel-runtime/core-js/object/create.js","webpack:///./~/core-js/library/fn/object/create.js","webpack:///./~/core-js/library/modules/es6.object.create.js","webpack:///./~/core-js/library/modules/_object-create.js","webpack:///./~/core-js/library/modules/_html.js","webpack:///./source/lib/matrix.js","webpack:///./source/play.js","webpack:///./source/play.game.js","webpack:///./source/play.game.component.js","webpack:///./source/types/Events.js","webpack:///./source/play.game.manager.js","webpack:///./source/play.game.manager.draggable.js","webpack:///./source/types/Collection.js","webpack:///./source/types/GlobalScope.js","webpack:///./source/types/Scope.js","webpack:///./source/types/jQProxy.js","webpack:///./~/babel-runtime/core-js/object/keys.js","webpack:///./~/core-js/library/fn/object/keys.js","webpack:///./~/core-js/library/modules/es6.object.keys.js","webpack:///./~/core-js/library/modules/_object-sap.js","webpack:///./source/types/Queue.js","webpack:///./source/evalAction.js","webpack:///./source/types/AudioManager.js","webpack:///./~/babel-runtime/core-js/promise.js","webpack:///./~/core-js/library/fn/promise.js","webpack:///./~/core-js/library/modules/es6.string.iterator.js","webpack:///./~/core-js/library/modules/_string-at.js","webpack:///./~/core-js/library/modules/_iter-define.js","webpack:///./~/core-js/library/modules/_library.js","webpack:///./~/core-js/library/modules/_redefine.js","webpack:///./~/core-js/library/modules/_iterators.js","webpack:///./~/core-js/library/modules/_iter-create.js","webpack:///./~/core-js/library/modules/_set-to-string-tag.js","webpack:///./~/core-js/library/modules/_object-gpo.js","webpack:///./~/core-js/library/modules/web.dom.iterable.js","webpack:///./~/core-js/library/modules/es6.array.iterator.js","webpack:///./~/core-js/library/modules/_add-to-unscopables.js","webpack:///./~/core-js/library/modules/_iter-step.js","webpack:///./~/core-js/library/modules/es6.promise.js","webpack:///./~/core-js/library/modules/_classof.js","webpack:///./~/core-js/library/modules/_an-instance.js","webpack:///./~/core-js/library/modules/_for-of.js","webpack:///./~/core-js/library/modules/_iter-call.js","webpack:///./~/core-js/library/modules/_is-array-iter.js","webpack:///./~/core-js/library/modules/core.get-iterator-method.js","webpack:///./~/core-js/library/modules/_set-proto.js","webpack:///./~/core-js/library/modules/_object-gopd.js","webpack:///./~/core-js/library/modules/_object-pie.js","webpack:///./~/core-js/library/modules/_species-constructor.js","webpack:///./~/core-js/library/modules/_task.js","webpack:///./~/core-js/library/modules/_invoke.js","webpack:///./~/core-js/library/modules/_microtask.js","webpack:///./~/core-js/library/modules/_redefine-all.js","webpack:///./~/core-js/library/modules/_set-species.js","webpack:///./~/core-js/library/modules/_iter-detect.js","webpack:///./source/types/type.js","webpack:///./~/babel-runtime/core-js/object/define-property.js","webpack:///./~/core-js/library/fn/object/define-property.js","webpack:///./~/core-js/library/modules/es6.object.define-property.js","webpack:///./source/types/Entity.js","webpack:///./source/types/Screen.js","webpack:///./source/types/Game.js","webpack:///./source/platform.js"],"names":[],"mappings":"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E;AACnE;AACA,sFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd,eAAc;AACd,eAAc;AACd,eAAc;AACd,gBAAe;AACf,gBAAe;AACf,gBAAe;AACf,iBAAgB;AAChB,0B;;;;;;AC5DA;AACA;AACA;AACA,wCAAuC,gC;;;;;;ACHvC,8BAA6B;AAC7B,sCAAqC,gC;;;;;;ACDrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACnBA;AACA;AACA;AACA,G;;;;;;ACHA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG,UAAU;AACb;AACA;AACA;AACA,G;;;;;;ACfA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA,G;;;;;;ACFA;AACA,sEAAsE,gBAAgB,UAAU,GAAG;AACnG,EAAC,E;;;;;;ACFD;AACA;AACA,kCAAiC,QAAQ,gBAAgB,UAAU,GAAG;AACtE,EAAC,E;;;;;;ACHD;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,eAAe;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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA,kCAAiC,2BAA2B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,G;;;;;;ACrEA,uB;;;;;;ACAA,0C;;;;;;ACAA,qB;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA,4FAAgF,aAAa,EAAE;;AAE/F;AACA,sDAAqD,0BAA0B;AAC/E;AACA,G;;;;;;ACZA;AACA;AACA;;AAEA;AACA,mEAAkE,+BAA+B;AACjG,G;;;;;;ACNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACZA;AACA;AACA;AACA;AACA;;AAEA,yGAAwG,OAAO;AAC/G;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACZA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC,eAAc;AACd,kBAAiB;AACjB;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,6B;;;;;;ACjCA,6BAA4B,e;;;;;;ACA5B;AACA,WAAU;AACV,G;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC;;AAEA;AACA;AACA;AACA;AACA,gDAA+C,uDAAiD,oBAAoB;AACpH;AACA;AACA,IAAG,UAAU;AACb,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,oBAAmB,gCAAgC;AACnD,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,gBAAe,qCAAqC;AACpD;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH,mBAAkB,uBAAuB,KAAK;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,kBAAiB;AACjB,yBAAwB;AACxB,iBAAgB;AAChB,qBAAoB;AACpB,yBAAwB;AACxB,iBAAgB;AAChB,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2DAA0D,kBAAkB;AAC5E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA,EAAC,E;;;;;;AC5SD;AACA;AACA;AACA;AACA,0BAAyB,kBAAkB,EAAE;;AAE7C;AACA;AACA;AACA;AACA,IAAG,UAAU;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACtBA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,iBAAiB,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA,iEAAgE,gBAAgB;AAChF;AACA,IAAG,2CAA2C,gCAAgC;AAC9E;AACA;AACA,G;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,G;;;;;;ACXA;AACA;AACA;AACA;;AAEA;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA,QAAO,UAAU,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,GAAG;AACR;AACA,G;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG,UAAU;AACb;AACA,G;;;;;;ACfA,eAAc,sB;;;;;;ACAd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,sCAAqC,oBAAoB,EAAE;AAC3D;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,aAAa;AACjC,IAAG;AACH,G;;;;;;ACbA;AACA;;AAEA;AACA;AACA,gCAA+B,qBAAqB;AACpD,gCAA+B,SAAS,EAAE;AAC1C,EAAC,UAAU;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS,mBAAmB;AACvD,gCAA+B,aAAa;AAC5C;AACA,IAAG,UAAU;AACb;AACA,G;;;;;;ACpBA,aAAY,CAAC;;;;;;;;;;;;;;;;;;;sBAmCW,IAAI;AAxB5B,UAAS,QAAQ,CAAC,KAAK,EAAE,GAAG,EAAE;AAC5B,OAAI,MAAM,CAAC;;;AAGX,QAAK,MAAM,IAAI,KAAK,EAAE;AACpB,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","file":"play.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8548bc867582aad8d439\n **/","/**\n * Boot file for the Play library.\n *\n * @module\n *\n * @author Micah Rolon <micah@ginasink.com>\n *\n * @requires jQExtentions\n * @requires play\n */\nimport 'jQExtentions';\nimport play from 'play';\n\n/**\n * Begin running the library\n */\nfunction run() {\n  play.game.run();\n}\n\n// export namespace to global object.\nwindow.play = window.pl = play;\n\n// Invoke 'run' when DOM has finished loading.\ndocument.addEventListener('DOMContentLoaded', run, false);\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/main.js\n **/","module.exports = require(\"./interopRequireDefault.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/interop-require-default.js\n ** module id = 2\n ** module chunks = 0\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/interopRequireDefault.js\n ** module id = 3\n ** module chunks = 0\n **/","/**\n * Extentions to jQuery used by the library.\n *\n * @module\n * @author Micah Rolon <micah@ginasink.com>\n *\n * @requires types/Dimensions\n * @requires Matrix\n */\nimport { Point, Size } from 'types/Dimensions';\nimport Matrix from 'lib/matrix';\n\n/**\n * jQuery's prototype\n * @external jQuery\n * @see {@link http://api.jquery.com/}\n */\n\n(function () {\n  var original;\n\n  original = {\n    position: this.position\n  };\n\n  /**\n   * Resolves the scope for each of the set of matched nodes.\n   * @function external:jQuery#scope\n   * @returns {Scope|array} Scope - for 1 result. array - for multiple.\n   */\n  this.scope = function () {\n    var result;\n\n    result = [];\n\n    this.each(function () {\n      var $node, scope;\n\n      $node = $(this);\n      scope = $node.data('pl-scope');\n\n      if (!scope) {\n        scope = $node.closest('.pl-scope').data('pl-scope');\n      }\n\n      if (scope) result.push(scope);\n    });\n\n    return (result.length > 1) ? result : result[0];\n  };\n\n  /**\n   * Resolves the id on the first node in the collection. The id can be sourced from a node's 'id', 'pl-id' or 'pl-component' arguments.\n   * @function external:jQuery#id\n   * @arg {string} [_set] Name to set as the node's id.\n   * @returns {string} The resolved id.\n   */\n  this.id = function (_set) {\n    if (_set !== undefined) {\n      // Remove attribute.\n      if (~['', null].indexOf(_set)) {\n        this.attr('id', null);\n      }\n\n      // If document already has the id defined then set as a unique library id.\n      if ($('#' + _set).length) {\n        this.attr('pl-id', _set);\n      } else {\n        this.attr('id', _set);\n      }\n\n      return this;\n    }\n\n    return this.attr('id') || this.attr('pl-id') || this.attr('pl-component');\n  };\n\n  /**\n   * Provides the 'relative' CSS selector for the first node in the collection.\n   * @function external:jQuery#address\n   * @returns {string}\n   *\n   * @example\n   * // HTML: <div id=\"sweater\" class=\"wide\"></div>\n   * $('#sweater').address() // div#sweater.wide\n   */\n  this.address = function () {\n    var tag, id, classes;\n\n    tag = this[0].nodeName.toLowerCase();\n    id = this.attr('id');\n    classes = this.attr('class') ? '.' + this.attr('class').split(' ').join('.') : '';\n\n    return tag + (id ? '#' + id : '') + classes;\n  };\n\n  /**\n   * Provides a node's UPPER CASE class names. Given '_test' it will check if the node has the class.\n   * @function external:jQuery#state\n   * @arg {string} [_test] The UPPER CASE class name to test on the first node in the collection.\n   * @returns {string|array|boolean} string - for one result. array - for multiple. boolean - for tests.\n   */\n  this.state = function (_test) {\n    var classes;\n\n    if (_test) return this.hasClass(_test.toUpperCase());\n\n    classes = (this.attr('class') || '').match(/[0-9A-Z]+(?:-[0-9A-Z]+)?/g);\n\n    return classes && (classes.length === 1 ? classes[0] : classes);\n  };\n\n  this.size = function () {\n    var size;\n\n    if (!arguments.length) {\n      size = Size.create().set(this.width(), this.height());\n    } else {\n      size = Size.create(arguments);\n      this.css(size);\n    }\n\n    return size;\n  };\n\n  this.position = function () {\n    var pos;\n\n    if (!arguments.length) {\n      pos = original.position.call(this);\n      pos = Point.create().set(pos.left, pos.top);\n    } else {\n      pos = Point.create(arguments);\n\n      this.css({\n        position: 'relative',\n        left: pos.x,\n        top: pos.y\n      });\n    }\n\n    return pos;\n  };\n\n  /**\n   * Provides the jQuery offset for the first node in the collection.\n   * Given a point, all nodes in the collection will get {position: absolute;} to the corrdinates.\n   * @function external:jQuery#absolutePosition\n   * @returns {Point}\n   */\n  this.absolutePosition = function () {\n    var offset;\n\n    if (!arguments.length) {\n      offset = this.offset();\n\n      return Point.create().set(offset.left, offset.top);\n    } else {\n      offset = Point.create(arguments);\n\n      this.css({\n        position: 'absolute',\n        top: offset.y,\n        left: offset.x\n      });\n\n      return offset;\n    }\n  };\n\n  /**\n   * Sets a CSS matrix transform on all nodes in the collection. (overloaded)\n   * @function external:jQuery#transform\n   * @arg {number} [_scaleX] - scale x\n   * @arg {number} [_shearY] - shear y\n   * @arg {number} [_shearX] - shear x\n   * @arg {number} [_scaleY] - scale y\n   * @arg {number} [_translateX] - translate x\n   * @arg {number} [_translateY] - translate y\n   * @returns {Matrix}\n   */\n\n  /**\n   * Provides the CSS matrix transform for the first node in the collection.\n   * @function external:jQuery#transform\n   * @returns {Matrix}\n   */\n  this.transform = function () {\n    var t, matrix, is3d;\n\n    matrix = new Matrix();\n\n    if (!arguments.length) {\n      t = this.css('transform');\n      is3d = !!~t.indexOf('matrix3d');\n\n      if (t !== 'none') {\n        t = ((t.match(/\\(([,\\d\\.\\s\\-]+)\\)/) || [])[1] || '').split(/\\s*,\\s*/);\n        if (is3d) {\n          t = (function (_matrix) {\n            var i, result;\n\n            result = [];\n\n            for (i = 0; i < _matrix.length; i += 4) {\n              result = result.concat(_matrix.slice(i, i + 2));\n            }\n            return result;\n          }(t));\n        }\n\n        t = t.map(parseFloat);\n\n        matrix.setTransform.apply(matrix, t);\n\n        return matrix;\n      }\n\n      return t;\n    }\n\n    matrix.setTransform.apply(matrix, arguments);\n\n    this.css('transform', matrix.toCSS());\n\n    return matrix;\n  };\n\n  /**\n   * Getter/Setter for the CSS transform translation. (overloaded)\n   * @function external:jQuery#transformPosition\n   * @arg {Point} _point - A point object {x,y}\n   * @returns {Point}\n   */\n\n  /**\n   * Getter/Setter for the CSS transform translation.\n   * @function external:jQuery#transformPosition\n   * @arg {number} _x - x coordinate\n   * @arg {number} _y - y coordinate\n   * @returns {Point}\n   */\n  this.transformPosition = function () {\n    var matrix, point;\n\n    matrix = this.transform();\n    point = Point.create().set(0, 0);\n\n    if (!arguments.length) {\n      if (matrix !== 'none') point.set(matrix.e, matrix.f);\n    } else {\n      if (matrix === 'none') matrix = new Matrix();\n\n      point.set.apply(point, arguments);\n      matrix.translate(point.x, point.y);\n      this.css('transform', matrix.toCSS());\n    }\n\n    return point;\n  };\n\n  /**\n   * Getter for the CSS transform scale. (overloaded)\n   * @function external:jQuery#transformPosition\n   * @returns {Point}\n   */\n\n  /**\n   * Setter for the CSS transform scale. (overloaded)\n   * @function external:jQuery#transformPosition\n   * @arg {Point} _point - A point object {x,y}\n   * @returns {Point}\n   */\n\n  /**\n   * Setter for the CSS transform scale.\n   * @function external:jQuery#transformPosition\n   * @arg {number} _x - x coordinate\n   * @arg {number} _y - y coordinate\n   * @returns {Point}\n   */\n  this.transformScale = function () {\n    var matrix, scale;\n\n    matrix = this.transform();\n    scale = Point.create().set(1, 1);\n\n    if (!arguments.length) {\n      if (matrix !== 'none') scale.set(matrix.a, matrix.d);\n    } else {\n      if (matrix === 'none') matrix = new Matrix();\n\n      scale.set.apply(scale, arguments);\n      matrix.scale(scale.x, scale.y);\n      this.css('transform', matrix.toCSS());\n    }\n\n    return scale;\n  };\n\n  /**\n   * Accessor method for `pl` attributes.\n   */\n  this.pl = function (_name, _value) {\n    var args, result;\n\n    if (!_name) {\n      result = {};\n      this.each(function () {\n        Array.forEach(this.attributes, function (_attr) {\n          if (_attr.name.indexOf('pl-') === 0) {\n            result[_attr.name.slice(3)] = _attr.value;\n          }\n        });\n      });\n      return result;\n    }\n\n\n    args = ['pl-' + _name];\n    if (typeof _value !== 'undefined') args.push(_value);\n\n    if (_value === null) {\n      this.removeAttr('pl-' + _name);\n      return this;\n    }\n\n    return this.attr.apply(this, args);\n  };\n\n  /**\n   * Invoke a method of each item in the set of matched elements.\n   */\n  this.exec = function (_method, _args) {\n    return this.map(function () {\n      if (typeof this[_method] === 'function') return this[_method].apply(this, _args);\n    }).toArray();\n  };\n\n}).call($.fn);\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/jQExtentions.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/array/for-each\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/array/for-each.js\n ** module id = 5\n ** module chunks = 0\n **/","require('../../modules/es6.array.for-each');\nmodule.exports = require('../../modules/_core').Array.forEach;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/array/for-each.js\n ** module id = 6\n ** module chunks = 0\n **/","'use strict';\r\nvar $export  = require('./_export')\r\n  , $forEach = require('./_array-methods')(0)\r\n  , STRICT   = require('./_strict-method')([].forEach, true);\r\n\r\n$export($export.P + $export.F * !STRICT, 'Array', {\r\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\r\n  forEach: function forEach(callbackfn /* , thisArg */){\r\n    return $forEach(this, callbackfn, arguments[1]);\r\n  }\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.array.for-each.js\n ** module id = 7\n ** module chunks = 0\n **/","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_export.js\n ** module id = 8\n ** module chunks = 0\n **/","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_global.js\n ** module id = 9\n ** module chunks = 0\n **/","var core = module.exports = {version: '2.2.2'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_core.js\n ** module id = 10\n ** module chunks = 0\n **/","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_ctx.js\n ** module id = 11\n ** module chunks = 0\n **/","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_a-function.js\n ** module id = 12\n ** module chunks = 0\n **/","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_hide.js\n ** module id = 13\n ** module chunks = 0\n **/","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-dp.js\n ** module id = 14\n ** module chunks = 0\n **/","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_an-object.js\n ** module id = 15\n ** module chunks = 0\n **/","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_is-object.js\n ** module id = 16\n ** module chunks = 0\n **/","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\r\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_ie8-dom-define.js\n ** module id = 17\n ** module chunks = 0\n **/","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_descriptors.js\n ** module id = 18\n ** module chunks = 0\n **/","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_fails.js\n ** module id = 19\n ** module chunks = 0\n **/","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_dom-create.js\n ** module id = 20\n ** module chunks = 0\n **/","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_to-primitive.js\n ** module id = 21\n ** module chunks = 0\n **/","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_property-desc.js\n ** module id = 22\n ** module chunks = 0\n **/","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx      = require('./_ctx')\n  , IObject  = require('./_iobject')\n  , toObject = require('./_to-object')\n  , toLength = require('./_to-length')\n  , asc      = require('./_array-species-create');\nmodule.exports = function(TYPE, $create){\n  var IS_MAP        = TYPE == 1\n    , IS_FILTER     = TYPE == 2\n    , IS_SOME       = TYPE == 3\n    , IS_EVERY      = TYPE == 4\n    , IS_FIND_INDEX = TYPE == 6\n    , NO_HOLES      = TYPE == 5 || IS_FIND_INDEX\n    , create        = $create || asc;\n  return function($this, callbackfn, that){\n    var O      = toObject($this)\n      , self   = IObject(O)\n      , f      = ctx(callbackfn, that, 3)\n      , length = toLength(self.length)\n      , index  = 0\n      , result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined\n      , val, res;\n    for(;length > index; index++)if(NO_HOLES || index in self){\n      val = self[index];\n      res = f(val, index, O);\n      if(TYPE){\n        if(IS_MAP)result[index] = res;            // map\n        else if(res)switch(TYPE){\n          case 3: return true;                    // some\n          case 5: return val;                     // find\n          case 6: return index;                   // findIndex\n          case 2: result.push(val);               // filter\n        } else if(IS_EVERY)return false;          // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_array-methods.js\n ** module id = 23\n ** module chunks = 0\n **/","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iobject.js\n ** module id = 24\n ** module chunks = 0\n **/","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_cof.js\n ** module id = 25\n ** module chunks = 0\n **/","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_to-object.js\n ** module id = 26\n ** module chunks = 0\n **/","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_defined.js\n ** module id = 27\n ** module chunks = 0\n **/","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_to-length.js\n ** module id = 28\n ** module chunks = 0\n **/","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_to-integer.js\n ** module id = 29\n ** module chunks = 0\n **/","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar isObject = require('./_is-object')\n  , isArray  = require('./_is-array')\n  , SPECIES  = require('./_wks')('species');\nmodule.exports = function(original, length){\n  var C;\n  if(isArray(original)){\n    C = original.constructor;\n    // cross-realm fallback\n    if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;\n    if(isObject(C)){\n      C = C[SPECIES];\n      if(C === null)C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_array-species-create.js\n ** module id = 30\n ** module chunks = 0\n **/","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_is-array.js\n ** module id = 31\n ** module chunks = 0\n **/","var store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_wks.js\n ** module id = 32\n ** module chunks = 0\n **/","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_shared.js\n ** module id = 33\n ** module chunks = 0\n **/","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_uid.js\n ** module id = 34\n ** module chunks = 0\n **/","var fails = require('./_fails');\r\n\r\nmodule.exports = function(method, arg){\r\n  return !!method && fails(function(){\r\n    arg ? method.call(null, function(){}, 1) : method.call(null);\r\n  });\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_strict-method.js\n ** module id = 35\n ** module chunks = 0\n **/","/**\n *\n * @module\n * @version 1.1\n * @author Micah Rolon <functionmicah@gmail.com>\n * @requires module:types/BasicArray~BasicArray\n *\n * @desc *Created: 11/12/14*\n *\n * This file contains objects for containing values about a plane. i.e. x or width.\n * Adds the convenience of keeping these values paired to passed around your application.\n * It also includes methods which you perform on the values and returns a new object\n * so the original values are maintained.\n *\n * #### Usage\n *\n * New instances can be created by calling the create method.\n * ```\n * cursorLocation = Point.create();\n * ```\n *\n * Then call `set()` to apply your values.\n * ```\n * cursorLocation.set(event.clientX, event.clientY);\n * ```\n *\n * Then you can use the calculation methods to perform transformations.\n * ```\n * relativeCursor = cursorLocation.scale(zoom);\n * ```\n *\n * #### Developer Notes\n *\n * When adding new methods make sure you are returning a new instance.\n * Dimensional objects are meant to be immutable.\n *\n * Follow this pattern:\n * ```\n * this.method = function () {\n *     // set with your calculated values.\n *     return this.create().set( ... )\n * }\n * ```\n *\n * #### Change Log\n * *v1.1 - 12/13/15*\n * - Defined setter/getter properties for unique planes keys. You can now do `point.width = 10`.\n */\n\n/*jslint browser: true, eqeq: true, nomen: true, sloppy: true, white: true */\n\nimport BasicArray from 'types/BasicArray';\n\nvar Dimension, Size, Point;\n\n/**\n * The native Array\n * @external Array\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array}\n */\n\n/**\n * Array prototype extension\n * Creates an instance of `_Thing` and passes the array to its set function as its arguments.\n * @function external:Array#to\n * @arg {Point|Size|string} _Thing - A Dimension object or one the strings 'point'/'size'\n * @example\n * somePoint = [10, 10].to(Point);\n * somePoint = [10, 10].to('point');\n */\nArray.prototype.to = function (_Thing) {\n  var map;\n\n  map = {\n    point: Point,\n    size: Size\n  };\n\n  if (typeof _Thing === 'string') {\n    return map[_Thing.toLowerCase()].create().set(this);\n  }\n\n  else if (typeof _Thing === 'object' && ~[Point.set, Size.set].indexOf(_Thing.set)) {\n    if (!_Thing.isPrototypeOf(this)) {\n      return _Thing.set.apply(_Thing.create(), this);\n    }\n  }\n\n  return this;\n};\n\n/**\n * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Dimension.create()` to get a new instance.\n * @class\n * @classdesc Base class for dimensional objects consisting of 2 planes.<br>\n * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n * @extends module:types/BasicArray~BasicArray\n */\nDimension = BasicArray.extend(function () {\n  var originalMap;\n\n  originalMap = this.map;\n\n  this[0] = this[1] = 0;\n  this.planeMap = null,\n  this.length = 2;\n\n  /**\n   * Provides a new instance.\n   * @arg {array} _argumentsArray - Create a new instace with an arguments array.\n   * @returns {Dimension}\n   */\n  this.create = function (_argumentsArray) {\n    var instance;\n\n    instance = this.proto();\n\n    if (_argumentsArray) instance.set.apply(instance, _argumentsArray);\n\n    return instance;\n  };\n\n  /**\n   * Incerement each plane by a value or specify each plane.\n   * @arg {number} _val - plane a of (a,b)\n   * @arg {number} [_plane2] - plane b of (a,b)\n   * @returns {Dimension}\n   */\n  this.inc = function (_val, _plane2) {\n    var a, b;\n\n    if (_val.length === 2) {\n      a = _val[0];\n      b = _val[1];\n    }\n\n    else if (_plane2 != null) {\n      a = _val;\n      b = _plane2;\n    }\n\n    else {\n      a = b = _val;\n    }\n\n    return this.create().set(\n      this[0] + a,\n      this[1] + b\n    );\n  };\n\n  /**\n   * Decerement each plane by a value or specify each plane.\n   * @arg {number} _val - plane a of (a,b)\n   * @arg {number} [_plane2] - plane b of (a,b)\n   * @returns {Dimension}\n   */\n  this.dec = function (_val, _plane2) {\n    var a, b;\n\n    if (_val.length === 2) {\n      a = _val[0];\n      b = _val[1];\n    }\n\n    else if (_plane2 != null) {\n      a = _val;\n      b = _plane2;\n    }\n\n    else {\n      a = b = _val;\n    }\n\n    return this.create().set(\n      this[0] - a,\n      this[1] - b\n    );\n  };\n\n  /**\n   * Multiply each plane by a value or specify each plane.\n   * @arg {number} _scale - plane a of (a,b)\n   * @arg {number} [_plane2] - plane b of (a,b)\n   * @returns {Dimension}\n   */\n  this.scale = function (_scale, _plane2) {\n    return this.create().set(\n      this[0] * _scale,\n      this[1] * (_plane2 != null ? _plane2 : _scale)\n    );\n  };\n\n  /**\n   * Perfom a Math function on each plane\n   * @arg {string} _fun - a string of the function name in the JS Math object,\n   * followed by the whatever arguments the function takes after its first\n   * since the first argument is the plane value.\n   * @returns {Dimension}\n   */\n  this.math = function (_fun) {\n    var args = [].slice.call(arguments, 1);\n\n    return this.create().set(\n      Math[_fun].apply(Math, [this[0]].concat(args)),\n      Math[_fun].apply(Math, [this[1]].concat(args))\n    );\n  };\n\n  /**\n   * Takes each plane value and passes it to parseInt().\n   * @returns {Dimension}\n   */\n  this.parseInt = function () {\n    return this.create().set(\n      parseInt(this[0]),\n      parseInt(this[1])\n    );\n  };\n\n  /**\n   * Takes each plane value and passes it to parseFloat().\n   * @returns {Dimension}\n   */\n  this.parseFloat = function () {\n    return this.create().set(\n      parseFloat(this[0]),\n      parseFloat(this[1])\n    );\n  };\n\n  /**\n   * Resolves the name of the plane at the given index.\n   * @arg {number} _index - The index of the plane.\n   * @returns {string}\n   */\n  this.planeOf = function (_index) {\n    if (isNaN(parseInt(_index))) return null;\n    return this.planeMap[_index];\n  };\n\n  /**\n   * Make a new array by iterating over each plane.<br>\n   * See [`Array.prototype.map()`]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map}\n   * @arg {function} _handler - handler for each index.\n   * @override\n   * @returns {Dimension}\n   */\n  this.map = function (_handler) {\n    return originalMap.call(this, _handler).to(Object.getPrototypeOf(this));\n  };\n\n  /**\n   * Multiplies the planes.\n   * @returns {number}\n   */\n  this.product = function () {\n    return this[0] * this[1];\n  };\n\n  /**\n   * Divides the planes.\n   * @returns {number}\n   */\n  this.ratio = function () {\n    return this[0] / this[1];\n  };\n\n  this.quotient = function () {\n    return Math.floor(this[0] / this[1]);\n  };\n\n  this.remainder = function () {\n    return this[0] % this[1];\n  };\n\n});\n\n/**\n * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Size.create()` to get a new instance.\n * @class\n * @extends module:types/Dimensions~Dimension\n * @classdesc 2 Dimensional object containing width and height.<br>\n * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n * @prop {number} width - The width.\n * @prop {number} height - The height.\n */\nSize = Dimension.extend(function () {\n  /**\n   * Maps the names of the indexes.<br>\n   * See [Dimension#planeOf]{@link module:types/Dimensions~Dimension#planeOf} for resolving plane name.\n   * @protected\n   * @default ['width', 'height']\n   */\n  this.planeMap = ['width', 'height'];\n\n  Object.defineProperties(this, {\n    width: {\n      get: function () {\n        return this[0];\n      },\n\n      set: function (_val) {\n        this[0] = Number(_val);\n      }\n    },\n\n    height: {\n      get: function () {\n        return this[1];\n      },\n\n      set: function (_val) {\n        this[1] = Number(_val);\n      }\n    }\n  });\n\n  /**\n   * Define the size with an object. (overloaded)\n   * @function module:types/Dimensions~Size#set\n   * @arg {object} _size - A size object {width, height}.\n   * @returns {Size}\n   */\n\n  /**\n   * Define the size with an array. (overloaded)\n   * @function module:types/Dimensions~Size#set\n   * @arg {array} _size - A size array [width, height].\n   * @returns {Size}\n   */\n\n  /**\n   * Define the size.\n   * @arg {number} _width - The width.\n   * @arg {number} _height - The height.\n   * @returns {Size}\n   */\n  this.set = function (_width, _height) {\n    if (arguments.length === 1) {\n      if (_width.width !== undefined && _width.height !== undefined) {\n        this[0] = Number(_width.width);\n        this[1] = Number(_width.height);\n      }\n\n      else if (_width.length === 2) {\n        this[0] = Number(_width[0]);\n        this[1] = Number(_width[1]);\n      }\n    }\n\n    else {\n      this[0] = Number(_width);\n      this[1] = Number(_height);\n    }\n\n    return this;\n  };\n\n  /**\n   * Calculates the hypotenuse.\n   * @see {@link https://en.wikipedia.org/wiki/Hypotenuse}\n   * @returns {number}\n   */\n  this.hypotenuse = function () {\n    return Math.sqrt(Math.pow(this.width, 2) + Math.pow(this.height, 2));\n  };\n\n  /**\n   * Sets width and height properties on the given object. If the object is an HTML node then it will be set on the nodes style object.\n   * @arg {object|HTMLElement} - The object or DOM node.\n   * @returns {this}\n   */\n  this.applyTo = function (_object) {\n    if (_object.nodeType === document.ELEMENT_NODE) {\n      if (!(_object.width !== undefined || _object.height !== undefined)) {\n        _object.style.width = this.width;\n        _object.style.height = this.height;\n\n        return this;\n      }\n    }\n\n    _object.width = this.width;\n    _object.height = this.height;\n\n    return this;\n  };\n\n});\n\n/**\n * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Point.create()` to get a new instance.\n * @class\n * @extends module:types/Dimensions~Dimension\n * @classdesc Object containing coordinates on a 2-dimensional cartesian plane.<br>\n * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n * @prop {number} x - The x coordinate.\n * @prop {number} y - The y coordinate.\n */\nPoint = Dimension.extend(function () {\n  /**\n   * Maps the names of the indexes.<br>\n   * See [Dimension#planeOf]{@link module:types/Dimensions~Dimension#planeOf} for resolving plane name.\n   * @protected\n   * @default ['x', 'y']\n   */\n  this.planeMap = ['x', 'y'];\n\n  Object.defineProperties(this, {\n    x: {\n      get: function () {\n        return this[0];\n      },\n\n      set: function (_val) {\n        this[0] = Number(_val);\n      }\n    },\n\n    y: {\n      get: function () {\n        return this[1];\n      },\n\n      set: function (_val) {\n        this[1] = Number(_val);\n      }\n    }\n  });\n\n  /**\n   * Define the point with an object. (overloaded)\n   * @function module:types/Dimensions~Point#set\n   * @arg {object} _point - A point object {x, y}.\n   * @returns {Point}\n   */\n\n  /**\n   * Define the point with an array. (overloaded)\n   * @function module:types/Dimensions~Point#set\n   * @arg {array} _point - A point array [x, y].\n   * @returns {Point}\n   */\n\n  /**\n   * Define the point.\n   * @arg {number} _x - The x.\n   * @arg {number} _y - The y.\n   * @returns {Point}\n   */\n  this.set = function (_x, _y) {\n    if (arguments.length === 1) {\n      if (_x.x !== undefined && _x.y !== undefined) {\n        this[0] = Number(_x.x);\n        this[1] = Number(_x.y);\n      }\n\n      else if (_x.length === 2) {\n        this[0] = Number(_x[0]);\n        this[1] = Number(_x[1]);\n      }\n    }\n\n    else {\n      this[0] = Number(_x);\n      this[1] = Number(_y);\n    }\n\n    return this;\n  };\n\n  /**\n   * Calculates the distance between the insatnce and a point object.\n   * @arg {Point} _point - A point object {x,y}.\n   * @returns {Size}\n   */\n  this.distance = function (_point) {\n    if (_point.x !== undefined && _point.y !== undefined) {\n      return Size.create().set(\n        _point.x - this.x,\n        _point.y - this.y\n      );\n    }\n\n    return null;\n  };\n\n  /**\n   * Sets x and y properties on the given object. If the object is an HTML node then the left and top properties will be set on the nodes style object.\n   * @arg {object|HTMLElement} - The object or DOM node.\n   * @returns {this}\n   */\n  this.applyTo = function (_object) {\n    if (_object.nodeType === document.ELEMENT_NODE) {\n      _object.style.left = this.x;\n      _object.style.top = this.y;\n    }\n\n    else {\n      _object.x = this.x;\n      _object.y = this.y;\n    }\n\n    return this;\n  };\n\n  /**\n   * Rotate the point based on an origin point and an angle in degrees.\n   * @arg {Point} _origin - A point object {x,y}.\n   * @arg {number} _angle - The angle of rotation in degrees.\n   * @returns {this}\n   */\n  this.rotate = function (_origin, _angle) {\n    var x, y, rad;\n\n    rad = _angle * (Math.PI / 180);\n\n    x = this.x - _origin.x;\n    y = this.y - _origin.y;\n\n    return this.create().set(\n      (Math.sin(rad) * x - Math.cos(rad) * y) + _origin.x,\n      (Math.cos(rad) * x + Math.sin(rad) * y) + _origin.y\n    );\n  };\n\n});\n\nexport default { Dimension, Size, Point };\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/Dimensions.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/define-properties\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/define-properties.js\n ** module id = 37\n ** module chunks = 0\n **/","require('../../modules/es6.object.define-properties');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperties(T, D){\n  return $Object.defineProperties(T, D);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/define-properties.js\n ** module id = 38\n ** module chunks = 0\n **/","var $export = require('./_export');\r\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\r\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperties: require('./_object-dps')});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.object.define-properties.js\n ** module id = 39\n ** module chunks = 0\n **/","var dP       = require('./_object-dp')\r\n  , anObject = require('./_an-object')\r\n  , getKeys  = require('./_object-keys');\r\n\r\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\r\n  anObject(O);\r\n  var keys   = getKeys(Properties)\r\n    , length = keys.length\r\n    , i = 0\r\n    , P;\r\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\r\n  return O;\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-dps.js\n ** module id = 40\n ** module chunks = 0\n **/","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\r\nvar $keys       = require('./_object-keys-internal')\r\n  , enumBugKeys = require('./_enum-bug-keys');\r\n\r\nmodule.exports = Object.keys || function keys(O){\r\n  return $keys(O, enumBugKeys);\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-keys.js\n ** module id = 41\n ** module chunks = 0\n **/","var has          = require('./_has')\r\n  , toIObject    = require('./_to-iobject')\r\n  , arrayIndexOf = require('./_array-includes')(false)\r\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\r\n\r\nmodule.exports = function(object, names){\r\n  var O      = toIObject(object)\r\n    , i      = 0\r\n    , result = []\r\n    , key;\r\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\r\n  // Don't enum bug & hidden keys\r\n  while(names.length > i)if(has(O, key = names[i++])){\r\n    ~arrayIndexOf(result, key) || result.push(key);\r\n  }\r\n  return result;\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-keys-internal.js\n ** module id = 42\n ** module chunks = 0\n **/","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_has.js\n ** module id = 43\n ** module chunks = 0\n **/","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_to-iobject.js\n ** module id = 44\n ** module chunks = 0\n **/","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_array-includes.js\n ** module id = 45\n ** module chunks = 0\n **/","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_to-index.js\n ** module id = 46\n ** module chunks = 0\n **/","var shared = require('./_shared')('keys')\r\n  , uid    = require('./_uid');\r\nmodule.exports = function(key){\r\n  return shared[key] || (shared[key] = uid(key));\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_shared-key.js\n ** module id = 47\n ** module chunks = 0\n **/","// IE 8- don't enum bug keys\r\nmodule.exports = (\r\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\r\n).split(',');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_enum-bug-keys.js\n ** module id = 48\n ** module chunks = 0\n **/","/**\n * Base object type for 'array like' objects.\n * @module\n * @requires module:util\n * @requires module:types/Basic\n */\nimport util from 'util';\nimport Basic from 'types/Basic';\n\n/**\n * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `BasicArray.create()` to get a new instance.\n * @classdesc A base object type for 'array like' object.\n * @class\n * @extends external:Array\n * @extends module:types/Basic~Basic\n * @mixes module:types/Basic~Basic\n */\nvar BasicArray = (function () {\n  /**\n   * Objects with this as an own property will be identified as the root object.\n   * @memberof module:types/BasicArray~BasicArray\n   * @readonly\n   * @default\n   */\n  this.baseType = 'TYPE_BASIC_ARRAY';\n\n  util.mixin(this, Basic);\n\n  return this;\n\n}).call([]);\n\nexport default BasicArray;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/BasicArray.js\n **/","/**\n * Utility functions.\n * @namespace\n * @author Micah Rolon <micah@ginasink.com>\n * @memberof module:play~pl\n */\nvar util = new (function () {\n\n  /**\n   * Accepts one or more objects to combine their own properties to single object.\n   * @arg {object} _target - The object that will recieve all members.\n   * @arg {object} _sources... - The object(s) to join with the '_target'.\n   * @returns {object} _target\n   */\n  this.mixin = function () {\n    var member, i, target, objs;\n\n    //@TODO MPR 4/28/16: This feels like its trying to invent named arguments...\n    //even if objs remains like this, target doesnt need to\n    target = arguments[0];\n    objs = [].slice.call(arguments, 1);\n\n    for (i = 0; i < objs.length; i += 1) {\n      for (member in objs[i]) {\n        if (!objs[i].hasOwnProperty(member)) continue;\n        target[member] = objs[i][member];\n      }\n    }\n\n    return target;\n  };\n\n  /**\n   * Matches the name of the key which references the given pointer inside an object. Like indexOf() for objects.\n   * @arg {object} _obj - Object to search in.\n   * @arg {*} _member - The reference which is expected to be in the object as a property.\n   * @returns {string} The name of the key in the object matching '_member'.\n   */\n  this.keyOf = function (_obj, _member) {\n    var member;\n\n    for (member in _obj) {\n      if (!_obj.hasOwnProperty(member)) continue;\n      if (_obj[member] === _member) return member;\n    }\n\n    return null;\n  };\n\n  /**\n   * Matches the object, deep in the prototype chain, which is the owner of the property referencing the given pointer.\n   * @arg {object} _obj - The object to search.\n   * @arg {*} _member - The reference which is expected to be a property in the prototype chain.\n   * @return {object} An object containing the name of the property and the owning object. {name, object}\n   */\n  this.getOwner = function (_obj, _member) {\n    var prototype, name;\n\n    prototype = Object.getPrototypeOf(_obj);\n\n    // keep searching until we go as deep as we can go.\n    while (prototype) {\n      // search for the key in the prototype\n      name = util.keyOf(prototype, _member);\n\n      // If we found the key in the prototype then we found\n      // our match and we can break out of the loop.\n      if (name) break;\n\n      // Otherwise go deeper (thats what she said ;p)\n      prototype = Object.getPrototypeOf(prototype);\n    }\n\n    return {\n      name: name,\n      object: prototype\n    };\n  };\n\n  /**\n   * Given a range; provides a random number in that range.\n   * @function play~pl.util.random\n   * @arg {number} _rangeA - A number for the low end of the range.\n   * @arg {number} _rangeB - The top end of the range.\n   * @returns {number|*} The resulting number in range or the member found at random.\n   */\n\n  /**\n   * Given an iterable; provides a random item.\n   * @arg {array} _collection - The iterable.\n   * @returns {number|*} The member found at random.\n   */\n  this.random = function (_collection_rangeA, _rangeB) {\n    var index, val;\n\n    index = Math.floor(Math.random() * _collection_rangeA.length);\n\n    if (arguments.length === 2) {\n      val = Math.round(Math.random() * _rangeB);\n\n      return val < _collection_rangeA ? _collection_rangeA : val;\n    }\n\n    if (index === _collection_rangeA.length) index = _collection_rangeA.length - 1;\n\n    return _collection_rangeA && _collection_rangeA[index];\n  };\n\n  /**\n   * Take string and makes it dot notation friendly.\n   * @arg {string} _id - The string to transform.\n   * @arg {boolean} _camelCase - Transform with camel case.\n   * @returns {string}\n   */\n  this.transformId = function (_id, _camelCase) {\n    if (_id && _camelCase) {\n      return _id.replace(/[-\\s]+([\\w\\d]?)/g, function (_match) {\n        return RegExp.$1.toUpperCase();\n      });\n    }\n\n    return _id && _id.replace(/[-\\s]+/g, '_');\n  };\n\n  /**\n   * Test all arguments for != null\n   * @return {boolean}\n   */\n  this.isSet = function () {\n    return [].every.call(arguments, function (_arg) {\n      return _arg != null;\n    });\n  };\n\n  /**\n   * Parses a formated string and calculates it in milliseconds.\n   * @arg {string} _source - The formated string for calculation in the pattern '1d 1h 1m 1s'.\n   * @return {number}\n   */\n  this.toMillisec = function (_source) {\n    var tokens, time, units;\n\n    if (typeof _source === 'number') return _source;\n    if (!_source) return;\n\n    tokens = _source.split(/\\s+/);\n    time = 0;\n    units = {\n      d: 24 * 60 * 60 * 1000,\n      h: 60 * 60 * 1000,\n      m: 60 * 1000,\n      s: 1000\n    };\n\n    tokens.forEach(function (_token) {\n      var unit, value;\n\n      unit = (_token.match(/[dhms]/) || [])[0];\n\n      if (unit) {\n        value = Number(_token.slice(0, -1));\n        time += value * units[unit];\n      } else {\n        time += Number(_token);\n      }\n    });\n\n    return time;\n  };\n\n  /**\n   * Needs no introduction\n   * @arg {iterable} _collection - iterable.\n   * @return {array}\n   */\n  this.toArray = function (_collection) {\n    return Array.prototype.map.call(_collection, function (i) {\n      return i;\n    });\n  };\n\n  /**\n   * Resolves the value in the object at the given path.\n   * @arg {object} _obj - The object to query.\n   * @arg {string} _path - The path to the desired reference.\n   * @returns {*} The resulting reference value.\n   * @example\n   * var user = {\n   *   name: 'John',\n   *   family: {\n   *     guardians: {David}, // property could be an array of multiple guardians.\n   *     siblings: [{Jane}, {Thomas}] // collection of user objects.\n   *   }\n   * };\n   *\n   * pl.util.resolvePath(user, 'family.sliblings[2].name');\n   * // Matches the `guardians` propery if `guardians[0]` is undefined when `?` is used.\n   * pl.util.resolvePath(user, 'family.guardians[0]?.name');\n   */\n  this.resolvePath = function (_obj, _path) {\n    var path, obj, i, name, index, testArray;\n\n    path = _path.split('.');\n    obj = _obj;\n    i = 0;\n\n    while (obj) {\n      testArray = (/\\?$/).test(path[i]);\n      index = (path[i].match(/\\[(\\d+)\\]/) || [])[1] || -1;\n      name = ~index ? path[i].slice(0, path[i].indexOf('[')) : path[i];\n      obj = obj[name];\n\n      if (~index && obj) {\n        obj = testArray ? (obj[index] || obj) : obj[index];\n      }\n\n      i += 1;\n\n      if (path.length === i) break;\n    }\n\n    return obj;\n  };\n\n  this.assignRef = function (_obj, _name, _ref) {\n    var name;\n\n    name = util.transformId(_name, true);\n\n    if (_obj[name] === _ref) return _ref;\n\n    if (_obj[name]) {\n      if (!_obj[name].__refCollction__) {\n        _obj[name] = [_obj[name]];\n\n        Object.defineProperty(_obj[name], '__refCollction__', {\n          value: true,\n          enumerable: false,\n          writeable: false,\n          configureable: false\n        });\n      }\n      _obj[name].push(_ref);\n    } else {\n      _obj[name] = _ref;\n    }\n\n    return _obj[name];\n  };\n\n  /**\n   * N0 OPeration.\n   */\n  this.noop = function () {};\n\n  /**\n   * Get the file name out of a simple file path.\n   * @arg {string} _path - The file path.\n   * @returns {string} The extracted name.\n   */\n  this.resolveFileName = function (_path) {\n    return _path.slice(_path.lastIndexOf('/') + 1);\n  };\n\n  /**\n   * Produces a string following the specied pattern. Which is a mix of x, y, z and - characters.\n   * - x; produces a letter a-f.\n   * - y; produces a digit 0-9.\n   * - z; produces a 4 character hex value derived from the now time stamp.\n   * @arg {string} _pattern - The xyz pattern.\n   * @returns {string} The generated ID.\n   */\n  this.createId = function (_pattern) {\n    return (_pattern || 'xy-z').replace(/[xyz]/g, function (_token) {\n      if (_token === 'x') return (Math.floor(Math.random() * 5) + 10).toString(16);\n      if (_token === 'y') return (Math.floor(Math.random() * 10)).toString(16);\n      return Math.floor(Math.random() * Date.now()).toString(16).slice(0, 4);\n    });\n  };\n\n});\n\nexport default util;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/util.js\n **/","/**\n * Base object type for 'classes' implementing methods for extention and super callbacks.\n * @module\n * @requires module:play~pl.util\n */\nimport util from 'util';\n\n/**\n * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Basic.create()` to get a new instance.\n * @classdesc The base type for all objects which will act as prototypes.\n * @class\n */\nvar Basic = {\n  /**\n   * Objects with this as an own property will be identified as the root object.\n   * @readonly\n   * @default\n   */\n  baseType: 'TYPE_BASIC',\n\n  /**\n   * Creates a new object with the current object as its prototype.\n   * @instance\n   * @returns {Basic} The new instance.\n   */\n  create: function () {\n    return Object.create(this);\n  },\n\n  /**\n   * Creates a new object using a constructor function or object with the current object as its prototype.\n   * @instance\n   * @arg {Function|Object} _implementation - The implementation of the new type as either a constructor function or object to mixin.\n   * @returns {Basic} The new instance.\n   *\n   * @todo define constructor property\n   */\n  extend: function (_implementation) {\n    var instance;\n\n    if (!_implementation) return null;\n\n    switch (typeof _implementation) {\n    case 'function':\n      _implementation.prototype = this;\n      instance = new _implementation();\n      break;\n\n    case 'object':\n      instance = this.create();\n      instance.mixin(_implementation);\n      break;\n\n    default:\n      console.error('TypeError: Invalid type given for object extention.', typeof _implementation);\n    }\n\n    return instance;\n  },\n\n  /**\n   * Accepts one or more objects to combine their own properties to the instance.\n   * @instance\n   * @arg {object} _sources... - The object(s) to join with the instance.\n   * @returns this\n   */\n  mixin: function () {\n    return util.mixin.apply(null, [this].concat([].slice.call(arguments, 0)));\n  },\n\n  /**\n   * Matches the name of the key which references the given pointer inside the instance. Like indexOf() for objects.\n   * @instance\n   * @arg {*} _member - The reference which is expected to be in the object as a property.\n   * @returns {string} The name of the key in the object matching '_member'.\n   */\n  keyOf: function (_member) {\n    return util.keyOf(this, _member);\n  },\n\n  /**\n   * Performs a super callback of the function which called it. Allowing you to still invoke a method which was overridden.\n   * @instance\n   * @arg {*} _args... - Whatever amount of arguments the caller takes.\n   * @returns {*} Whatever the caller returns.\n   */\n  proto: function () {\n    var method, name, owner, prototype;\n\n    // Get the function which invoked proto() in the call stack.\n    // If the caller is a behavior then we retrieve the method.\n    method = this.proto.caller.method || this.proto.caller;\n\n    // Check to see if 'this' owns the method.\n    // NOTE: We may want to move this logic into getOwner().\n    if (name = this.keyOf(method)) {\n      prototype = Object.getPrototypeOf(this);\n    } else {\n      // Otherwise find the object which owns the caller function.\n      owner = util.getOwner(this, method);\n      name = owner.name;\n      prototype = Object.getPrototypeOf(owner.object);\n    }\n\n    method = prototype[name];\n\n    if (!method) {\n      console.error('ReferenceError: Unable to locate prototype method.', this.proto.caller);\n      return null;\n    }\n\n    return method.apply(this, arguments);\n  },\n\n  /**\n   * Performs a super callback of the function which called it. Unlike `proto()` which looks for the overidden method, sup looks for the base class' implementation.\n   * @instance\n   * @arg {*} _args... - Whatever amount of arguments the caller takes.\n   * @returns {*} Whatever the caller returns.\n   */\n  sup: function () {\n    var method, name, owner, prototype;\n\n    // Get the function which invoked sup() in the call stack.\n    method = this.sup.caller;\n    owner = util.getOwner(this, this.baseType);\n    prototype = owner.object;\n    name = this.keyOf(method);\n\n    // Check to see if 'this' owns the method.\n    // NOTE: We may want to move this logic into getOwner().\n    //\n    if (!name) {\n      owner = util.getOwner(this, method);\n      name = owner.name;\n    }\n\n    method = prototype[name];\n\n    if (!method) {\n      console.error('ReferenceError: Unable to locate prototype method.', this.sup.caller);\n      return null;\n    }\n\n    return method.apply(this, arguments);\n  },\n\n  /**\n   * Provides the object type.\n   * @instance\n   */\n  toString: function () {\n    var type;\n\n    if (this.baseType) {\n      type = this.baseType.replace('TYPE_', '');\n      type = type.slice(0, 1) + type.slice(1).toLowerCase();\n    } else {\n      type = this.constructor.name || 'Object';\n    }\n\n    return '[object ' + type + ']';\n  }\n\n};\n\nexport default Basic;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/Basic.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/create.js\n ** module id = 52\n ** module chunks = 0\n **/","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D){\n  return $Object.create(P, D);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/create.js\n ** module id = 53\n ** module chunks = 0\n **/","var $export = require('./_export')\r\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\r\n$export($export.S, 'Object', {create: require('./_object-create')});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.object.create.js\n ** module id = 54\n ** module chunks = 0\n **/","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\r\nvar anObject    = require('./_an-object')\r\n  , dPs         = require('./_object-dps')\r\n  , enumBugKeys = require('./_enum-bug-keys')\r\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\r\n  , Empty       = function(){ /* empty */ }\r\n  , PROTOTYPE   = 'prototype';\r\n\r\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\r\nvar createDict = function(){\r\n  // Thrash, waste and sodomy: IE GC bug\r\n  var iframe = require('./_dom-create')('iframe')\r\n    , i      = enumBugKeys.length\r\n    , gt     = '>'\r\n    , iframeDocument;\r\n  iframe.style.display = 'none';\r\n  require('./_html').appendChild(iframe);\r\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\r\n  // createDict = iframe.contentWindow.Object;\r\n  // html.removeChild(iframe);\r\n  iframeDocument = iframe.contentWindow.document;\r\n  iframeDocument.open();\r\n  iframeDocument.write('<script>document.F=Object</script' + gt);\r\n  iframeDocument.close();\r\n  createDict = iframeDocument.F;\r\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\r\n  return createDict();\r\n};\r\n\r\nmodule.exports = Object.create || function create(O, Properties){\r\n  var result;\r\n  if(O !== null){\r\n    Empty[PROTOTYPE] = anObject(O);\r\n    result = new Empty;\r\n    Empty[PROTOTYPE] = null;\r\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\r\n    result[IE_PROTO] = O;\r\n  } else result = createDict();\r\n  return Properties === undefined ? result : dPs(result, Properties);\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-create.js\n ** module id = 55\n ** module chunks = 0\n **/","module.exports = require('./_global').document && document.documentElement;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_html.js\n ** module id = 56\n ** module chunks = 0\n **/","/**\r\n *\r\n * Copy of the deleted repository epistemex/transformation-matrix-js.\r\n * All rights are reserved to Epistemex.\r\n *\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\nfunction Matrix(context) {\r\n\r\n    var me = this;\r\n    me._t = me.transform;\r\n\r\n    me.a = me.d = 1;\r\n    me.b = me.c = me.e = me.f = 0;\r\n\r\n    me.context = context;\r\n\r\n    // reset canvas transformations (if any) to enable 100% sync.\r\n    if (context) context.setTransform(1, 0, 0, 1, 0, 0);\r\n}\r\n\r\nMatrix.prototype = {\r\n\r\n    /**\r\n     * Concatenates transforms of this matrix onto the given child matrix and\r\n     * returns a new matrix. This instance is used on left side.\r\n     *\r\n     * @param {Matrix} cm - child matrix to apply concatenation to\r\n     * @returns {Matrix}\r\n     */\r\n    concat: function (cm) {\r\n        return this.clone()._t(cm.a, cm.b, cm.c, cm.d, cm.e, cm.f);\r\n    },\r\n\r\n    /**\r\n     * Flips the horizontal values.\r\n     */\r\n    flipX: function () {\r\n        return this._t(-1, 0, 0, 1, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Flips the vertical values.\r\n     */\r\n    flipY: function () {\r\n        return this._t(1, 0, 0, -1, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Reflects incoming (velocity) vector on the normal which will be the\r\n     * current transformed x axis. Call when a trigger condition is met.\r\n     *\r\n     * NOTE: BETA, simple implementation\r\n     *\r\n     * @param {number} x - vector end point for x (start = 0)\r\n     * @param {number} y - vector end point for y (start = 0)\r\n     * @returns {{x: number, y: number}}\r\n     */\r\n    reflectVector: function (x, y) {\r\n\r\n        var v = this.applyToPoint(0, 1),\r\n            d = 2 * (v.x * x + v.y * y);\r\n\r\n        x -= d * v.x;\r\n        y -= d * v.y;\r\n\r\n        return {x: x, y: y};\r\n    },\r\n\r\n    /**\r\n     * Short-hand to reset current matrix to an identity matrix.\r\n     */\r\n    reset: function () {\r\n        return this.setTransform(1, 0, 0, 1, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Rotates current matrix accumulative by angle.\r\n     * @param {number} angle - angle in radians\r\n     */\r\n    rotate: function (angle) {\r\n        var cos = Math.cos(angle),\r\n            sin = Math.sin(angle);\r\n        return this._t(cos, sin, -sin, cos, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Converts a vector given as x and y to angle, and\r\n     * rotates (accumulative).\r\n     * @param x\r\n     * @param y\r\n     * @returns {*}\r\n     */\r\n    rotateFromVector: function (x, y) {\r\n        return this.rotate(Math.atan2(y, x));\r\n    },\r\n\r\n    /**\r\n     * Helper method to make a rotation based on an angle in degrees.\r\n     * @param {number} angle - angle in degrees\r\n     */\r\n    rotateDeg: function (angle) {\r\n        return this.rotate(angle * Math.PI / 180);\r\n    },\r\n\r\n    /**\r\n     * Scales current matrix uniformly and accumulative.\r\n     * @param {number} f - scale factor for both x and y (1 does nothing)\r\n     */\r\n    scaleU: function (f) {\r\n        return this._t(f, 0, 0, f, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Scales current matrix accumulative.\r\n     * @param {number} sx - scale factor x (1 does nothing)\r\n     * @param {number} sy - scale factor y (1 does nothing)\r\n     */\r\n    scale: function (sx, sy) {\r\n        return this._t(sx, 0, 0, sy, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Scales current matrix on x axis accumulative.\r\n     * @param {number} sx - scale factor x (1 does nothing)\r\n     */\r\n    scaleX: function (sx) {\r\n        return this._t(sx, 0, 0, 1, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Scales current matrix on y axis accumulative.\r\n     * @param {number} sy - scale factor y (1 does nothing)\r\n     */\r\n    scaleY: function (sy) {\r\n        return this._t(1, 0, 0, sy, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Apply shear to the current matrix accumulative.\r\n     * @param {number} sx - amount of shear for x\r\n     * @param {number} sy - amount of shear for y\r\n     */\r\n    shear: function (sx, sy) {\r\n        return this._t(1, sy, sx, 1, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Apply shear for x to the current matrix accumulative.\r\n     * @param {number} sx - amount of shear for x\r\n     */\r\n    shearX: function (sx) {\r\n        return this._t(1, 0, sx, 1, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Apply shear for y to the current matrix accumulative.\r\n     * @param {number} sy - amount of shear for y\r\n     */\r\n    shearY: function (sy) {\r\n        return this._t(1, sy, 0, 1, 0, 0);\r\n    },\r\n\r\n    /**\r\n     * Apply skew to the current matrix accumulative.\r\n     * @param {number} ax - angle of skew for x\r\n     * @param {number} ay - angle of skew for y\r\n     */\r\n    skew: function (ax, ay) {\r\n        return this.shear(Math.tan(ax), Math.tan(ay));\r\n    },\r\n\r\n    /**\r\n     * Apply skew for x to the current matrix accumulative.\r\n     * @param {number} ax - angle of skew for x\r\n     */\r\n    skewX: function (ax) {\r\n        return this.shearX(Math.tan(ax));\r\n    },\r\n\r\n    /**\r\n     * Apply skew for y to the current matrix accumulative.\r\n     * @param {number} ay - angle of skew for y\r\n     */\r\n    skewY: function (ay) {\r\n        return this.shearY(Math.tan(ay));\r\n    },\r\n\r\n    /**\r\n     * Set current matrix to new absolute matrix.\r\n     * @param {number} a - scale x\r\n     * @param {number} b - shear y\r\n     * @param {number} c - shear x\r\n     * @param {number} d - scale y\r\n     * @param {number} e - translate x\r\n     * @param {number} f - translate y\r\n     */\r\n    setTransform: function (a, b, c, d, e, f) {\r\n        var me = this;\r\n        me.a = a;\r\n        me.b = b;\r\n        me.c = c;\r\n        me.d = d;\r\n        me.e = e;\r\n        me.f = f;\r\n        return me._x();\r\n    },\r\n\r\n    /**\r\n     * Translate current matrix accumulative.\r\n     * @param {number} tx - translation for x\r\n     * @param {number} ty - translation for y\r\n     */\r\n    translate: function (tx, ty) {\r\n        return this._t(1, 0, 0, 1, tx, ty);\r\n    },\r\n\r\n    /**\r\n     * Translate current matrix on x axis accumulative.\r\n     * @param {number} tx - translation for x\r\n     */\r\n    translateX: function (tx) {\r\n        return this._t(1, 0, 0, 1, tx, 0);\r\n    },\r\n\r\n    /**\r\n     * Translate current matrix on y axis accumulative.\r\n     * @param {number} ty - translation for y\r\n     */\r\n    translateY: function (ty) {\r\n        return this._t(1, 0, 0, 1, 0, ty);\r\n    },\r\n\r\n    /**\r\n     * Multiplies current matrix with new matrix values.\r\n     * @param {number} a2 - scale x\r\n     * @param {number} b2 - shear y\r\n     * @param {number} c2 - shear x\r\n     * @param {number} d2 - scale y\r\n     * @param {number} e2 - translate x\r\n     * @param {number} f2 - translate y\r\n     */\r\n    transform: function (a2, b2, c2, d2, e2, f2) {\r\n\r\n        var me = this,\r\n            a1 = me.a,\r\n            b1 = me.b,\r\n            c1 = me.c,\r\n            d1 = me.d,\r\n            e1 = me.e,\r\n            f1 = me.f;\r\n\r\n        /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n        me.a = a1 * a2 + c1 * b2;\r\n        me.b = b1 * a2 + d1 * b2;\r\n        me.c = a1 * c2 + c1 * d2;\r\n        me.d = b1 * c2 + d1 * d2;\r\n        me.e = a1 * e2 + c1 * f2 + e1;\r\n        me.f = b1 * e2 + d1 * f2 + f1;\r\n\r\n        return me._x();\r\n    },\r\n\r\n    /**\r\n     * Divide this matrix on input matrix which must be invertible.\r\n     * @param {Matrix} m - matrix to divide on (divisor)\r\n     * @returns {Matrix}\r\n     */\r\n    divide: function (m) {\r\n\r\n        if (!m.isInvertible())\r\n            throw \"Input matrix is not invertible\";\r\n\r\n        var im = m.inverse();\r\n\r\n        return this._t(im.a, im.b, im.c, im.d, im.e, im.f);\r\n    },\r\n\r\n    /**\r\n     * Divide current matrix on scalar value != 0.\r\n     * @param {number} d - divisor (can not be 0)\r\n     * @returns {Matrix}\r\n     */\r\n    divideScalar: function (d) {\r\n\r\n        var me = this;\r\n        me.a /= d;\r\n        me.b /= d;\r\n        me.c /= d;\r\n        me.d /= d;\r\n        me.e /= d;\r\n        me.f /= d;\r\n\r\n        return me._x();\r\n    },\r\n\r\n    /**\r\n     * Get an inverse matrix of current matrix. The method returns a new\r\n     * matrix with values you need to use to get to an identity matrix.\r\n     * Context from parent matrix is not applied to the returned matrix.\r\n     * @returns {Matrix}\r\n     */\r\n    inverse: function () {\r\n\r\n        if (this.isIdentity()) {\r\n            return new Matrix();\r\n        }\r\n        else if (!this.isInvertible()) {\r\n            throw \"Matrix is not invertible.\";\r\n        }\r\n        else {\r\n            var me = this,\r\n                a = me.a,\r\n                b = me.b,\r\n                c = me.c,\r\n                d = me.d,\r\n                e = me.e,\r\n                f = me.f,\r\n\r\n                m = new Matrix(),\r\n                dt = a * d - b * c; // determinant(), skip DRY here...\r\n\r\n            m.a = d / dt;\r\n            m.b = -b / dt;\r\n            m.c = -c / dt;\r\n            m.d = a / dt;\r\n            m.e = (c * f - d * e) / dt;\r\n            m.f = -(a * f - b * e) / dt;\r\n\r\n            return m;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Interpolate this matrix with another and produce a new matrix.\r\n     * t is a value in the range [0.0, 1.0] where 0 is this instance and\r\n     * 1 is equal to the second matrix. The t value is not constrained.\r\n     *\r\n     * Context from parent matrix is not applied to the returned matrix.\r\n     *\r\n     * Note: this interpolation is naive. For animation use the\r\n     * intrpolateAnim() method instead.\r\n     *\r\n     * @param {Matrix} m2 - the matrix to interpolate with.\r\n     * @param {number} t - interpolation [0.0, 1.0]\r\n     * @param {CanvasRenderingContext2D} [context] - optional context to affect\r\n     * @returns {Matrix} - new instance with the interpolated result\r\n     */\r\n    interpolate: function (m2, t, context) {\r\n\r\n        var me = this,\r\n            m = context ? new Matrix(context) : new Matrix();\r\n\r\n        m.a = me.a + (m2.a - me.a) * t;\r\n        m.b = me.b + (m2.b - me.b) * t;\r\n        m.c = me.c + (m2.c - me.c) * t;\r\n        m.d = me.d + (m2.d - me.d) * t;\r\n        m.e = me.e + (m2.e - me.e) * t;\r\n        m.f = me.f + (m2.f - me.f) * t;\r\n\r\n        return m._x();\r\n    },\r\n\r\n    /**\r\n     * Interpolate this matrix with another and produce a new matrix.\r\n     * t is a value in the range [0.0, 1.0] where 0 is this instance and\r\n     * 1 is equal to the second matrix. The t value is not constrained.\r\n     *\r\n     * Context from parent matrix is not applied to the returned matrix.\r\n     *\r\n     * Note: this interpolation method uses decomposition which makes\r\n     * it suitable for animations (in particular where rotation takes\r\n     * places).\r\n     *\r\n     * @param {Matrix} m2 - the matrix to interpolate with.\r\n     * @param {number} t - interpolation [0.0, 1.0]\r\n     * @param {CanvasRenderingContext2D} [context] - optional context to affect\r\n     * @returns {Matrix} - new instance with the interpolated result\r\n     */\r\n    interpolateAnim: function (m2, t, context) {\r\n\r\n        var me = this,\r\n            m = context ? new Matrix(context) : new Matrix(),\r\n            d1 = me.decompose(),\r\n            d2 = m2.decompose(),\r\n            rotation = d1.rotation + (d2.rotation - d1.rotation) * t,\r\n            translateX = d1.translate.x + (d2.translate.x - d1.translate.x) * t,\r\n            translateY = d1.translate.y + (d2.translate.y - d1.translate.y) * t,\r\n            scaleX = d1.scale.x + (d2.scale.x - d1.scale.x) * t,\r\n            scaleY = d1.scale.y + (d2.scale.y - d1.scale.y) * t\r\n            ;\r\n\r\n        m.translate(translateX, translateY);\r\n        m.rotate(rotation);\r\n        m.scale(scaleX, scaleY);\r\n\r\n        return m._x();\r\n    },\r\n\r\n    /**\r\n     * Decompose the current matrix into simple transforms using either\r\n     * QR (default) or LU decomposition. Code adapted from\r\n     * http://www.maths-informatique-jeux.com/blog/frederic/?post/2013/12/01/Decomposition-of-2D-transform-matrices\r\n     *\r\n     * The result must be applied in the following order to reproduce the current matrix:\r\n     *\r\n     *     QR: translate -> rotate -> scale -> skewX\r\n     *     LU: translate -> skewY  -> scale -> skewX\r\n     *\r\n     * @param {boolean} [useLU=false] - set to true to use LU rather than QR algorithm\r\n     * @returns {*} - an object containing current decomposed values (rotate, skew, scale, translate)\r\n     */\r\n    decompose: function (useLU) {\r\n\r\n        var me = this,\r\n            a = me.a,\r\n            b = me.b,\r\n            c = me.c,\r\n            d = me.d,\r\n            acos = Math.acos,\r\n            atan = Math.atan,\r\n            sqrt = Math.sqrt,\r\n            pi = Math.PI,\r\n\r\n            translate = {x: me.e, y: me.f},\r\n            rotation = 0,\r\n            scale = {x: 1, y: 1},\r\n            skew = {x: 0, y: 0},\r\n\r\n            determ = a * d - b * c; // determinant(), skip DRY here...\r\n\r\n        if (useLU) {\r\n            if (a) {\r\n                skew = {x: atan(c / a), y: atan(b / a)};\r\n                scale = {x: a, y: determ / a};\r\n            }\r\n            else if (b) {\r\n                rotation = pi * 0.5;\r\n                scale = {x: b, y: determ / b};\r\n                skew.x = atan(d / b);\r\n            }\r\n            else { // a = b = 0\r\n                scale = {x: c, y: d};\r\n                skew.x = pi * 0.25;\r\n            }\r\n        }\r\n        else {\r\n            // Apply the QR-like decomposition.\r\n            if (a || b) {\r\n                var r = sqrt(a * a + b * b);\r\n                rotation = b > 0 ? acos(a / r) : -acos(a / r);\r\n                scale = {x: r, y: determ / r};\r\n                skew.x = atan((a * c + b * d) / (r * r));\r\n            }\r\n            else if (c || d) {\r\n                var s = sqrt(c * c + d * d);\r\n                rotation = pi * 0.5 - (d > 0 ? acos(-c / s) : -acos(c / s));\r\n                scale = {x: determ / s, y: s};\r\n                skew.y = atan((a * c + b * d) / (s * s));\r\n            }\r\n            else { // a = b = c = d = 0\r\n                scale = {x: 0, y: 0};   // = invalid matrix\r\n            }\r\n        }\r\n\r\n        return {\r\n            scale: scale,\r\n            translate: translate,\r\n            rotation: rotation,\r\n            skew: skew\r\n        };\r\n    },\r\n\r\n    /**\r\n     * Returns the determinant of the current matrix.\r\n     * @returns {number}\r\n     */\r\n    determinant: function () {\r\n        return this.a * this.d - this.b * this.c;\r\n    },\r\n\r\n    /**\r\n     * Apply current matrix to x and y point.\r\n     * Returns a point object.\r\n     *\r\n     * @param {number} x - value for x\r\n     * @param {number} y - value for y\r\n     * @returns {{x: number, y: number}} A new transformed point object\r\n     */\r\n    applyToPoint: function (x, y) {\r\n\r\n        var me = this;\r\n\r\n        return {\r\n            x: x * me.a + y * me.c + me.e,\r\n            y: x * me.b + y * me.d + me.f\r\n        };\r\n    },\r\n\r\n    /**\r\n     * Apply current matrix to array with point objects or point pairs.\r\n     * Returns a new array with points in the same format as the input array.\r\n     *\r\n     * A point object is an object literal:\r\n     *\r\n     * {x: x, y: y}\r\n     *\r\n     * so an array would contain either:\r\n     *\r\n     * [{x: x1, y: y1}, {x: x2, y: y2}, ... {x: xn, y: yn}]\r\n     *\r\n     * or\r\n     * [x1, y1, x2, y2, ... xn, yn]\r\n     *\r\n     * @param {Array} points - array with point objects or pairs\r\n     * @returns {Array} A new array with transformed points\r\n     */\r\n    applyToArray: function (points) {\r\n\r\n        var i = 0, p, l,\r\n            mxPoints = [];\r\n\r\n        if (typeof points[0] === 'number') {\r\n\r\n            l = points.length;\r\n\r\n            while (i < l) {\r\n                p = this.applyToPoint(points[i++], points[i++]);\r\n                mxPoints.push(p.x, p.y);\r\n            }\r\n        }\r\n        else {\r\n            for (; p = points[i]; i++) {\r\n                mxPoints.push(this.applyToPoint(p.x, p.y));\r\n            }\r\n        }\r\n\r\n        return mxPoints;\r\n    },\r\n\r\n    /**\r\n     * Apply current matrix to a typed array with point pairs. Although\r\n     * the input array may be an ordinary array, this method is intended\r\n     * for more performant use where typed arrays are used. The returned\r\n     * array is regardless always returned as a Float32Array.\r\n     *\r\n     * @param {*} points - (typed) array with point pairs\r\n     * @param {boolean} [use64=false] - use Float64Array instead of Float32Array\r\n     * @returns {*} A new typed array with transformed points\r\n     */\r\n    applyToTypedArray: function (points, use64) {\r\n\r\n        var i = 0, p,\r\n            l = points.length,\r\n            mxPoints = use64 ? new Float64Array(l) : new Float32Array(l);\r\n\r\n        while (i < l) {\r\n            p = this.applyToPoint(points[i], points[i + 1]);\r\n            mxPoints[i++] = p.x;\r\n            mxPoints[i++] = p.y;\r\n        }\r\n\r\n        return mxPoints;\r\n    },\r\n\r\n    /**\r\n     * Apply to any canvas 2D context object. This does not affect the\r\n     * context that optionally was referenced in constructor unless it is\r\n     * the same context.\r\n     * @param {CanvasRenderingContext2D} context\r\n     */\r\n    applyToContext: function (context) {\r\n        var me = this;\r\n        context.setTransform(me.a, me.b, me.c, me.d, me.e, me.f);\r\n        return me;\r\n    },\r\n\r\n    /**\r\n     * Returns true if matrix is an identity matrix (no transforms applied).\r\n     * @returns {boolean} True if identity (not transformed)\r\n     */\r\n    isIdentity: function () {\r\n        var me = this;\r\n        return (me._q(me.a, 1) &&\r\n        me._q(me.b, 0) &&\r\n        me._q(me.c, 0) &&\r\n        me._q(me.d, 1) &&\r\n        me._q(me.e, 0) &&\r\n        me._q(me.f, 0));\r\n    },\r\n\r\n    /**\r\n     * Returns true if matrix is invertible\r\n     * @returns {boolean}\r\n     */\r\n    isInvertible: function () {\r\n        return !this._q(this.determinant(), 0)\r\n    },\r\n\r\n    /**\r\n     * Test if matrix is valid.\r\n     */\r\n    isValid: function () {\r\n        return !this._q(this.a * this.d, 0);\r\n    },\r\n\r\n    /**\r\n     * Clones current instance and returning a new matrix.\r\n     * @param {boolean} [noContext=false] don't clone context reference if true\r\n     * @returns {Matrix}\r\n     */\r\n    clone: function (noContext) {\r\n        var me = this,\r\n            m = new Matrix();\r\n        m.a = me.a;\r\n        m.b = me.b;\r\n        m.c = me.c;\r\n        m.d = me.d;\r\n        m.e = me.e;\r\n        m.f = me.f;\r\n        if (!noContext) m.context = me.context;\r\n\r\n        return m;\r\n    },\r\n\r\n    /**\r\n     * Compares current matrix with another matrix. Returns true if equal\r\n     * (within epsilon tolerance).\r\n     * @param {Matrix} m - matrix to compare this matrix with\r\n     * @returns {boolean}\r\n     */\r\n    isEqual: function (m) {\r\n\r\n        var me = this,\r\n            q = me._q;\r\n\r\n        return (q(me.a, m.a) &&\r\n        q(me.b, m.b) &&\r\n        q(me.c, m.c) &&\r\n        q(me.d, m.d) &&\r\n        q(me.e, m.e) &&\r\n        q(me.f, m.f));\r\n    },\r\n\r\n    /**\r\n     * Returns an array with current matrix values.\r\n     * @returns {Array}\r\n     */\r\n    toArray: function () {\r\n        var me = this;\r\n        return [me.a, me.b, me.c, me.d, me.e, me.f];\r\n    },\r\n\r\n    /**\r\n     * Generates a matrix() string that can be used with CSS transform.\r\n     * @returns {string}\r\n     */\r\n    toCSS: function () {\r\n        return \"matrix(\" + this.toArray() + \")\";\r\n    },\r\n\r\n    /**\r\n     * Generates a matrix3d() string that can be used with CSS transform.\r\n     * @returns {string}\r\n     */\r\n    toCSS3D: function () {\r\n        var me = this;\r\n        return \"matrix3d(\" + me.a + \", \" + me.b + \", 0, 0, \" + me.c + \", \" + me.d + \", 0, 0, 0, 0, 1, 0, \" + me.e + \", \" + me.f + \", 0, 1)\";\r\n    },\r\n\r\n    /**\r\n     * Returns a JSON compatible string of current matrix.\r\n     * @returns {string}\r\n     */\r\n    toJSON: function () {\r\n        return JSON.stringify(this.toArray());\r\n    },\r\n\r\n    /**\r\n     * Returns a string with current matrix as comma-separated list.\r\n     * @returns {string}\r\n     */\r\n    toString: function () {\r\n        return \"\" + this.toArray();\r\n    },\r\n\r\n    /**\r\n     * Compares floating point values with some tolerance (epsilon)\r\n     * @param {number} f1 - float 1\r\n     * @param {number} f2 - float 2\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    _q: function (f1, f2) {\r\n        return Math.abs(f1 - f2) < 1e-14;\r\n    },\r\n\r\n    /**\r\n     * Apply current absolute matrix to context if defined, to sync it.\r\n     * @private\r\n     */\r\n    _x: function () {\r\n        var me = this;\r\n        if (me.context)\r\n            me.context.setTransform(me.a, me.b, me.c, me.d, me.e, me.f);\r\n        return me;\r\n    }\r\n};\r\n\r\nexport default Matrix;\n\n\n/** WEBPACK FOOTER **\n ** ./source/lib/matrix.js\n **/","/**\n * Defines the global root level namespace for the library.\n *\n * @module\n * @author Micah Rolon <micah@ginasink.com>\n *\n * @requires game\n * @requires module:play~pl.util\n * @requires types/Basic\n * @requires types/Dimensions\n */\nimport game from 'play.game';\nimport util from 'util';\nimport Basic from 'types/Basic';\nimport Queue from 'types/Queue';\nimport { Point, Size } from 'types/Dimensions';\n\nvar pl;\n/**\n * Resolves the event type for user interactions.\n */\nfunction resolveEventType() {\n  var resolution;\n\n  if (game.feature('touch')) {\n    resolution = {\n      ACTION: 'touchend',\n      ACTION_DOWN: 'touchstart',\n      ACTION_UP: 'touchend',\n      ACTION_MOVE: 'touchmove',\n      ACTION_OUT: 'touchcancel'\n    };\n  } else {\n    resolution = {\n      ACTION: 'click',\n      ACTION_DOWN: 'mousedown',\n      ACTION_UP: 'mouseup',\n      ACTION_MOVE: 'mousemove',\n      ACTION_OUT: 'mouseout'\n    };\n  }\n\n  return resolution;\n}\n\n/**\n * Globaly accesable, root level namespace for the library.\n * @namespace\n * @prop {object} EVENT - Namespace for noralized event name constants.\n * @prop {Basic} Basic - Base object type.\n * @prop {Point} Point - Object type which holds values on a 2D cartesian plane.\n * @prop {Size} Size - Object type which holds 2-dimentional values for size.\n * @prop {function} game - Registers a game view implementation. Also a namespace for other methods.\n * @prop {object} util - Namespace for utility functions.\n */\npl = {\n  Basic, Point, Size, Queue,\n  game,\n  util,\n\n  /**\n   * @namespace\n   * @prop {string} ACTION - The device normalized `click` event name.\n   * @prop {string} ACTION_DOWN - The device normalized `mousedown` event name.\n   * @prop {string} ACTION_UP - The device normalized `mouseup` event name.\n   * @prop {string} ACTION_MOVE - The device normalized `mousemove` event name.\n   * @prop {string} ACTION_OUT - The device normalized `mouseout` event name.\n   */\n  EVENT: resolveEventType()\n};\n\nexport default pl;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/play.js\n **/","/**\n * Defines the 'game' method for registration and initialization of game scopes. This method also acts as a namespace for game level functions (See: [pl.game]{@link module:play~pl.game}).\n *\n * @module game\n * @author Micah Rolon <micah@ginasink.com>\n *\n * @requires play.game.component\n * @requires play.game.manager\n * @requires util\n * @requires types/Events\n * @requires types/GlobalScope\n * @requires types/Entity\n * @requires types/Screen\n * @requires types/Game\n */\nimport component from 'play.game.component';\nimport manager from 'play.game.manager';\nimport util from 'util';\nimport Events from 'types/Events';\nimport { default as SCOPE } from 'types/GlobalScope';\nimport Entity from 'types/Entity';\nimport Screen from 'types/Screen';\nimport Game from 'types/Game';\nimport platform from 'platform';\n\nvar GAMES, CONFIG, READY_QUEUE;\n\n/**\n * Define a game scope for registration and/or initialization.\n * This method also acts as a namespace for game level functions (See: [pl.game]{@link module:play~pl.game}).\n *\n * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n */\nfunction game(_name, _implementation) {\n  if (game.isDOMReady) {\n    initialize(_name, _implementation);\n  } else {\n    register(_name, _implementation);\n  }\n}\n\nfunction ready(_eventName) {\n  if (READY_QUEUE.length) return false;\n  game.trigger(_eventName || 'ready');\n}\n\n/**\n * Registers an implementation of a game scope for initialization.\n * @protected\n * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n */\nfunction register(_name, _implementation) {\n  if (!~GAMES.indexOf(_name)) {\n    GAMES.push({\n      id: _name,\n      implementation: _implementation\n    });\n  }\n}\n\n/**\n * Initializes an implementation of a game scope. (overloaded)\n * @function initialize\n * @protected\n * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n */\n\n/**\n * Initializes an implementation of a game scope.\n * @protected\n * @arg {array} _collection - The collection of game scope records for initialization.\n * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n */\nfunction initialize(nameCollection, implementation) {\n  switch (typeof nameCollection) {\n  case 'string':\n    SCOPE[nameCollection] = Game\n        //MPR, ll-trace 8: Now, this is where things start to get interesting\n        //This \"Game\" object comes from types/Game, which itself is an alias for\n        // types/GlobalScope, which is an alias for types/Scope, which is a singleton\n        // instance of the jqProxy type. This type inverts a number of jQuery methods\n        // (notably 'extend') to operate on the invoked 'this' object, rather than\n        // taking that object as the first parameter. As such, this will add all of the\n        // properties from the current game's \"implementation\" function onto the global\n        // \"Game\" scope object. Note that these are different from the pl.game object\n        // which is being constructed by this module. That function is used to pass\n        // the implementation function in from the games themselves.\n        .extend(implementation)\n        //MPR, ll-trace 10: because this is an instance of types/scope, we get the initialize\n        //method from there.\n        .initialize('#' + nameCollection);\n    break;\n\n  case 'object':\n    //MPR, ll-trace 7: This case is soley for convienience. It simply reinvokes itself\n    //to match the string case.\n    nameCollection.forEach(function (_item) {\n      initialize(_item.id, _item.implementation);\n    });\n    break;\n  }\n}\n\nfunction initializeSingleScreen(node, componentType) {\n  //Game.initialize(node, componentType);\n}\n\n/** @protected */\nGAMES = [];\n/** @protected */\nCONFIG = {};\n/** @protected */\nREADY_QUEUE = [];\n\n/**\n * Interface for game level configuration.\n * @namespace game\n * @memberof module:play~pl\n * @mixes Events\n */\n(function () {\n\n  var audioContext;\n\n  this.component = component;\n  this.manager = manager;\n\n  util.mixin(game, Events);\n\n  this.on('platform-event', function (_event) {\n    console.log('play.game -', _event.name, _event.gameData); //eslint-disable-line no-console\n  });\n\n  /**\n   * Starts the dominos falling\n   * @function run\n   * @memberof module:play~pl.game\n   */\n  this.run = function () {\n    game.isDOMReady = true;\n    game.trigger('dom-ready');\n\n    game.component.loadAll(function () {\n      // console.log('** All component sources loaded.');\n      //MPR, ll-trace 6: does this really fire once for each component?\n      //yep.\n      //Note that this games array generally contains a dict containing a single registered game object\n      //Not sure why one would ever need more than one, but there we are.\n      initialize(GAMES);\n\n      GAMES = null;\n    });\n\n    platform.emit(platform.EVENT_INIT);\n  };\n\n  this.report = function (_name) {\n    platform.emit(_name);\n\n    return this.report;\n  };\n\n  this.report.exit = function (_gameScope) {\n    platform.saveGameState(_gameScope.progress());\n    platform.emit(platform.EVENT_EXIT);\n\n    return this;\n  };\n\n  this.report.flip = function (_gameScope, data = {}) {\n    platform.emit(platform.EVENT_FLIPPED, data);\n    platform.saveGameState(_gameScope.progress());\n\n    return this;\n  };\n\n\n  /**\n   * Getter/Setter for game level configuration.\n   * @function module:play~pl.game.config\n   * @arg {string} _key - The key to retrieve\n   * @returns {this}\n   */\n\n  /**\n   * Getter/Setter for game level configuration.\n   * @function config\n   * @memberof module:play~pl.game\n   * @arg {object} _mixin - Object to set properties on configuration.\n   * @returns {this}\n   */\n  this.config = function (keyMixin) {\n    switch (typeof keyMixin) {\n    case 'string': return util.resolvePath(CONFIG, keyMixin);\n    case 'object':\n      if (keyMixin) util.mixin(CONFIG, keyMixin);\n    }\n\n    return this;\n  };\n\n  /**\n   * @function provideEntityType\n   * @deprecated\n   * @memberof module:play~pl.game\n   */\n  this.provideEntityType = function () {\n    return Entity;\n  };\n\n  /**\n   * @function provideScreenType\n   * @deprecated\n   * @memberof module:play~pl.game\n   */\n  this.provideScreenType = function () {\n    return Screen;\n  };\n\n  /**\n   * Augments the global scope.\n   * @function scope\n   * @arg {function|object} _mixin - Object or constructor to define members.\n   * @returns {this}\n   *\n   * @memberof module:play~pl.game\n   */\n  this.scope = function (_mixin) {\n    if (typeof _mixin === 'function') {\n      _mixin.call(SCOPE);\n    } else if (_mixin) {\n      SCOPE.mixin(_mixin);\n    }\n\n    return this;\n  };\n\n  /**\n   * @function queue\n   * @deprecated\n   * @memberof module:play~pl.game\n   */\n  this.queue = function (_item) {\n    if (!~READY_QUEUE.indexOf(_item)) READY_QUEUE.push(_item);\n\n    return this;\n  };\n\n  this.queue.complete = function (_item, _eventName) {\n    var index;\n\n    index = READY_QUEUE.indexOf(_item);\n    READY_QUEUE.splice(index, 1);\n\n    ready(_eventName);\n\n    return this;\n  };\n\n  /**\n   * Accessor for the detected features supported by the browser.\n   *\n   * *Supported Feature Detectors*\n   * - touch\n   *\n   * @function feature;\n   * @arg {string} _name - The feature which to test for (i.e. `\"touch\"`)\n   * @returns {boolean} The support status for the specified feature.\n   */\n  this.feature = (function () {\n    var detect = {\n      touch: function () {\n        return window.hasOwnProperty('ontouchend');\n      }\n    };\n\n    return function (_name) {\n      var tester = detect[_name];\n      if (!tester && console) console.warn('No feature detection for \"' + _name + '\".'); //eslint-disable-line no-console\n      return tester && tester();\n    };\n  }());\n\n  this.getAudioContext = function () {\n    if (!audioContext) {\n      audioContext = new (window.AudioContext || window.webkitAudioContext);\n      window.onfocus = function () {\n        audioContext.resume();\n      };\n      window.onblur = function () {\n        audioContext.suspend();\n      };\n    }\n    return audioContext;\n  };\n\n  this.enableAudioContext = function () {\n    var ctx, silence;\n\n    ctx = this.getAudioContext();\n    silence = ctx.createBufferSource();\n\n    silence.buffer = ctx.createBuffer(2, 1, 44100);\n    silence.connect(ctx.destination);\n    silence.start();\n    silence.disconnect();\n\n    return silence;\n  };\n\n  this.initialize = initialize;\n  this.initializeScreen = initializeSingleScreen;\n}).call(game);\n\nexport default game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/play.game.js\n **/","/**\n * Defines the `component()` method for component behavior registration. This method is also a namesapce for methods to manage and load component behavior scripts.\n *\n * @module\n * @author Micah Rolon <micah@ginasink.com>\n *\n * @requires play~pl.util\n * @requires types/Events\n */\nimport util from 'util';\nimport Events from 'types/Events';\n\n/**\n * Collection of component behavior records\n * @const\n */\nvar COMPONENTS;\n\n/**\n * Registers a component behavior.\n * @arg {string} _name - The name for the component.\n * @arg {function|object} _implementation - Constructor function or object with the behavior's implementation.\n * @returns {@link module:play~pl.game}\n */\nfunction component(_name, _implementation) {\n  if (!component.get(_name)) {\n    COMPONENTS.push({\n      name: _name,\n      implementation: _implementation,\n      config: {}\n    });\n  }\n\n  return this;\n}\n\nCOMPONENTS = [];\n\n/**\n * Methods to manage and load component behavior scripts.\n * @namespace component\n * @memberof module:play~pl.game\n * @mixes Events\n */\n(function () {\n\n  util.mixin(this, Events);\n\n  /**\n   * Given a name; provides the component record. `{name, implementation}`\n   * @memberof module:play~pl.game.component\n   * @arg {string} _name - The name of the component.\n   * @returns {object} The record.\n   */\n  this.get = function (_name) {\n    var i, record;\n\n    for (i = 0; record = COMPONENTS[i]; i += 1) {\n      if (record.name === _name) return record;\n    }\n\n    return null;\n  };\n\n  /**\n   * Loads the script for the component. The HTML and CSS will be loaded when the component scope initalizes.<br>\n   * The path of the script file is resolved `{pl.game.config.componentDirectory}/{_name}/behavior.js`.\n   * @memberof module:play~pl.game.component\n   * @arg {string} _name - The name of the component.\n   * @arg {function} _callback - Callback for load success.\n   * @todo Implement Promises.\n   * @returns `this`\n   */\n  this.load = function (_name, _callback) {\n    var path;\n\n    //MPR, ll-trace 27: Back here. This is our recursive loop - Load all pulls the top level\n    // game components (including screens), which then in turn load their own. We _should_ now\n    // have loaded all of component templates and behaviors. Everything after this point\n    // should be unrelated to directly loading - hopefully events and audio attachment\n    if (component.get(_name)) {\n      if (_callback) _callback.call(component, _name);\n      return null;\n    }\n    //MPR, ll-trace 4: Here we load the behavior component from the game, not from the library\n    //It seems likely that the games will invoke the default library behavior either themselves,\n    //or it will somehow be done automatically for them.\n    path = pl.game.config('componentDirectory') + _name + '/behavior.js';\n\n    $.getScript(path, function () {\n      if (_callback) _callback.call(component, _name);\n      //MPR, ll-trace 5: Fires the loaded event. Does not appear to be listened to anywhere explicitly\n      //however there are a few dynamic bindings that may fire. These are:\n      //source/types/Game.js:427:      this.on(pl.EVENT.ACTION, function beginAudio(_event) {\n      //source/types/Scope.js:80:    this.on(pl.EVENT.ACTION, function (_event) {\n      //Checking those now.\n      //These do not seem to ever respond on 'loaded'\n      component.trigger('loaded', [_name]);\n    });\n\n    return this;\n  };\n\n  /**\n   * Loads all the component scripts for HTML elements with `pl-component` attributes.\n   * @memberof module:play~pl.game.component\n   * @arg {function} _callback - Callback for load success.\n   * @todo Implement Promises.\n   * @returns `this`\n   */\n  this.loadAll = function (_callback) {\n    var $components, queue;\n\n    $components = $('[pl-component]');\n    queue = [];\n\n    //MPR, ll-trace 1: here we are collecting all of the\n    //types of component. This will load the component\n    //type into memory, but not the page components\n    //themselves\n    $components.each(function (_index) {\n      var name;\n\n      name = $(this).attr('pl-component');\n\n      if (~queue.indexOf(name)) return;\n\n      queue.push(name);\n    });\n\n    queue.slice(0).forEach(function (_name) {\n      //MPR, ll-trace 2: next, get each of the scripts for the component types\n      //by name.\n      component.load(_name, function () {\n        var index;\n\n        index = queue.indexOf(_name);\n        queue.splice(index, 1);\n\n        //MPR, ll-trace 3: I wonder if this approach to firing this callback will encounter\n        //async problems under certain network conditions. On a timeout, it simply\n        //will never fire. @TODO this should become a promise.all.,\n        if (!queue.length && _callback) _callback.apply(component, arguments);\n      });\n    });\n\n    return this;\n  };\n\n  // Maybe?\n  // this.config = function () {};\n\n}).call(component);\n\nexport default component;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/play.game.component.js\n **/","/**\n*  Events\n*  @desc Contains methods for managing and dispatching events from objects.\n*  @proto Basic\n*/\n\nimport Basic from 'types/Basic';\n\nvar Events = Basic.extend(function () {\n  var i, method, methods;\n  /**\n  *  @desc Creates a function with a proxy to the jQuery method.\n  *  @param _name (String) The name of the method being proxied.\n  *  @return (jQuery|*) Either a jQuery object or whatever the original method returns.\n  *  @private\n  */\n  function createProxyFunction(_name) {\n    return function () {\n      var $jq = $();\n      // We must wrap our object in jQuery. If 'typeof this' is a function then we need\n      // to add it in this manner, otherwise jQuery treats it like a ready callback.\n      $jq.push(this);\n\n      return $.fn[_name].apply($jq, arguments);\n    };\n  }\n\n  methods = ['on', 'off', 'trigger'];\n\n  this.baseType = 'TYPE_EVENTS';\n\n  for (i = 0; method = methods[i]; i += 1) {\n    this[method] = createProxyFunction(method);\n  }\n});\n\nexport default Events;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/Events.js\n **/","import draggable from 'play.game.manager.draggable';\n\nexport { draggable };\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/play.game.manager.js\n **/","import util from 'util';\nimport Collection from 'types/Collection';\nimport { Point } from 'types/Dimensions';\n\nconst COLLECTION_DRAGABLES = Collection.create(); //eslint-ignore-line\n\nvar draggableStyleSheet;\n\nfunction boot() {\n  createHelperStyleSheet();\n  attachEvents();\n}\n\nfunction attachEvents() {\n  var state, E;\n\n  E = pl.EVENT;\n\n  // Disable scrolling on touchDevices (particularly for iOS elastic scroll).\n  if (E.ACTION_MOVE === 'touchmove') attachEvents.disableTouchScroll();\n\n  $(document)\n    .on(E.ACTION_DOWN, function (_event) {\n      var $draggable, scope, cursor, mode, game, point, transform, helperID, dragStartEvent;\n\n      $draggable = $(_event.target).closest('[pl-draggable]');\n\n      if ($draggable.length) {\n        scope = $draggable.scope();\n        cursor = resolveEventPoint(_event, 1 / scope.game.zoom);\n        mode = $draggable.pl('draggable');\n        game = {\n          position: scope.game.absolutePosition(),\n          scale: scope.game.transformScale().x\n        };\n        point = $draggable.absolutePosition().dec(game.position);\n        transform = $draggable.transform();\n        helperID = createID();\n        state = {\n          mode: mode,\n          $draggable: $draggable,\n          scope: scope,\n          $helper: null,\n\n          start: {\n            cursor: cursor,\n            point: point,\n            transform: transform\n          },\n\n          progress: {\n            distance: null,\n            point: null,\n            transform: null\n          }\n        };\n\n        // FireFox has a different scaling implementation than other browsers (transform:scale(); vs. zoom:;)\n        // so we need to account for the game transform scale.\n        //\n        if (game.scale !== 1) point = point.scale(1 / game.scale);\n\n        draggableStyleSheet.html( provideSource( helperID, createDraggableRule($draggable)));\n\n        switch (mode) {\n        case 'clone':\n          state.$helper = $draggable.clone();\n          state.$helper\n              .id(helperID)\n              .pl('draggable', null) // helpers are not to be captured as draggable\n              .addClass('draggable-helper')\n              .appendTo(document.body)\n              .absolutePosition(point);\n          break;\n\n        case 'pluck':\n          $draggable.addClass('PLUCKED');\n\n          state.$helper = $draggable.clone();\n          state.$helper\n              .id(helperID)\n              .pl('draggable', null) // helpers are not to be captured as draggable\n              .addClass('draggable-helper')\n              .appendTo(document.body)\n              .absolutePosition(point);\n          break;\n\n        default:\n          state.$helper = $draggable;\n          break;\n        }\n\n        state.$helper.removeClass('DRAG-ENDED')\n          .addClass('DRAG-START');\n\n        dragStartEvent = $.Event('drag-start', {\n          state: state,\n          targetScope: scope\n        });\n\n        scope.trigger(dragStartEvent);\n      }\n    })\n\n    .on(E.ACTION_MOVE, function (_event) {\n      var cursor, $draggable, distance, point, transform, dragMoveEvent;\n\n      if (state) {\n        cursor = resolveEventPoint(_event, 1 / state.scope.game.zoom);\n        distance = state.start.cursor.distance(cursor);\n        point = Point.create();\n        transform = null;\n\n        if (state.start.transform !== 'none') {\n          transform = state.start.transform.clone();\n          transform.translate(distance.width, distance.height);\n          point.set(transform.applyToPoint(0, 0));\n        } else {\n          point = distance.to('point');\n        }\n\n        if (state.$helper.hasClass('DRAG-START')) {\n          state.$helper\n            .removeClass('DRAG-START')\n            .addClass('DRAGGING');\n        }\n\n        dragMoveEvent = $.Event('drag-move', {\n          state: state,\n          targetScope: state.scope\n        });\n\n        state.progress.distance = distance;\n        state.progress.point = state.start.point.inc(point);\n        state.progress.transform = transform;\n\n        state.scope.translate(state.$helper, point);\n        state.scope.trigger(dragMoveEvent);\n      }\n    })\n\n    .on([E.ACTION_UP, E.ACTION_OUT].join(' '), function (_event) {\n      var $draggable, dragEndEvent;\n\n      if (state) {\n        // Do not end dragging if we dont mouse out of the document.\n        if (_event.type === 'mouseout' && !~[null, document.documentElement].indexOf(_event.toElement)) {\n          return;\n        }\n\n        $draggable = state.$draggable;\n\n        if (state.$helper.hasClass('draggable-helper')) {\n          state.$helper.on('transitionend', function () {\n            $draggable.removeClass('PLUCKED');\n            $(this).remove();\n          });\n        }\n\n        state.$helper\n          .removeClass('DRAG-START DRAGGING')\n          .addClass('DRAG-ENDED');\n\n        dragEndEvent = $.Event('drag-end', {\n          state: state,\n          targetScope: state.scope\n        });\n\n        state.scope.trigger(dragEndEvent);\n\n        state = null;\n      }\n    });\n}\n\nattachEvents.disableTouchScroll = function () {\n  document.addEventListener('touchmove', function (_event) {\n    _event.preventDefault();\n  }, false);\n};\n\nfunction resolveEventPoint(_event, _scale) {\n  var scale = _scale || 1;\n\n  if (_event.originalEvent && _event.originalEvent.changedTouches) {\n    /**\n     * For now, interactions should use the last touch if multiple fingers are captured.\n     * @todo Maybe invoke action for each touch.\n     */\n    _event.touch = _event.originalEvent.changedTouches[_event.originalEvent.changedTouches.length - 1];\n  }\n\n  return Point.create().set(new function () {\n    if (_event.touch) {\n      this.x = _event.touch.clientX * scale;\n      this.y = _event.touch.clientY * scale;\n    } else {\n      this.x = _event.clientX * scale;\n      this.y = _event.clientY * scale;\n    }\n  });\n}\n\nfunction createHelperStyleSheet() {\n  draggableStyleSheet = $('<style id=\"draggable-helper-css\" type=\"text/css\"></style>').appendTo(document.body);\n}\n\nfunction createDraggableRule(_$draggable) {\n  var i, style, blacklist, rule, prop;\n\n  style = window.getComputedStyle(_$draggable[0]);\n  rule = {};\n  blacklist = [\n    'zIndex',\n    'opacity',\n    'cursor',\n    'transition',\n    'transitionDelay',\n    'transitionDuration',\n    'transitionProperty',\n    'transitionTimingFunction'\n  ];\n\n  for (i = 0; i < style.length; i += 1) {\n    prop = util.transformId(style[i], true);\n    if (~blacklist.indexOf(prop)) continue;\n    if (prop.indexOf('Webkit') === 0) prop = prop.slice(0, 1).toLowerCase() + prop.slice(1);\n    if (style[prop]) rule[prop] = style[prop];\n  }\n\n  return rule;\n}\n\nfunction provideSource(_id, _rule) {\n  var source, prop, value;\n\n  source = '#' + _id + '.draggable-helper {';\n\n  for (prop in _rule) {\n    if (!_rule.hasOwnProperty(prop)) continue;\n    value = _rule[prop];\n    source += prop.replace(/([A-Z]+)/g, '-$1').toLowerCase() + ': ' + value + ';';\n  }\n\n  source += '}';\n\n  return source;\n}\n\nfunction createID() {\n  return 'xy-xyxy-y'.replace(/x|y/g, function (_token) {\n    if (_token === 'x') return (Math.floor(Math.random() * 5) + 10).toString(16);\n    return Math.floor(Math.random() * Date.now()).toString(16).slice(2);\n  });\n}\n\nvar draggableManager = {\n\n};\n\n$(boot);\n\nexport default draggableManager;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/play.game.manager.draggable.js\n **/","/**\n * Collections are iterables which hold a consistent interface throughout its indexes.\n *\n * @module\n * @requires module:types/BasicArray\n */\nimport BasicArray from 'types/BasicArray';\n\n/**\n * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Collection.create()` to get a new instance.\n * @classdesc Iterable holding record objects of the same interface.\n * @class\n * @extends module:types/BasicArray~BasicArray\n */\nvar Collection = BasicArray.extend(function () {\n  /**\n   * Gets the record object which has `_member` as a member.\n   * @instance\n   * @protected\n   * @memberof module:types/Collection~Collection\n   * @arg {*} _member - object reference to search for.\n   * @arg {string} _key - the target key to test the `_member` against.\n   * @arg {boolean} _shouldCollect - <span style=\"color: blue; font-weight: bold;\">`true`</span>: collect all matching elements.<br>\n   * <span style=\"color: blue; font-weight: bold;\">`false`</span>: return first result.\n   */\n  function getRecord(_member, _key, _shouldCollect) {\n    var i, record, member, result;\n\n    result = [];\n\n    for (i = 0; record = this[i]; i += 1) {\n      if (_key !== undefined) {\n        if (record[_key] === _member) {\n          if (_shouldCollect) {\n            result.push(record);\n          }\n\n          else {\n            return record;\n          }\n        }\n      }\n\n      else if (record instanceof Array) {\n        if (~record.indexOf(_member)) {\n          if (_shouldCollect) {\n            result.push(record);\n          }\n\n          else {\n            return record;\n          }\n        }\n      }\n\n      else {\n        for (member in record) {\n          if (!record.hasOwnProperty(member)) continue;\n          if (record[member] === _member) {\n            if (_shouldCollect) {\n              result.push(record);\n            }\n\n            else {\n              return record;\n            }\n          }\n        }\n      }\n    }\n\n    return result.length ? result : null;\n  }\n\n  /**\n   * Objects with this as an own property will be identified as the root object.\n   * @memberof module:types/Collection~Collection\n   * @readonly\n   * @default\n   */\n  this.baseType = 'TYPE_COLLECTION';\n\n  this.add = function (_record) {\n    if (~this.indexOf(_record)) return false;\n    this.push(_record);\n\n    return this;\n  };\n\n  this.remove = function (_record) {\n    var index;\n\n    index = this.indexOf(_record);\n    if (~index) this.splice(index, 1);\n\n    return this;\n  };\n\n  this.has = function (_record) {\n    return !!~this.indexOf(_record);\n  };\n\n  this.get = function (_member, _key) {\n    return getRecord.call(this, _member, _key);\n  };\n\n  this.filter = function (_member, _key) {\n    return getRecord.call(this, _member, _key, true);\n  };\n\n});\n\nexport default Collection;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/Collection.js\n **/","/**\n*  GlobalScope\n*/\n\nimport { Scope } from 'types/Scope';\n\nvar GlobalScope = Scope.extend(function () {\n\n  this.baseType = 'TYPE_GLOBAL_SCOPE';\n\n});\n\nexport default GlobalScope;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/GlobalScope.js\n **/","/**\n * Scopes are packages which contain a reference to a DOM element wrapped in a jQuery object.\n * This enables properties and methods to be in context of the DOM node and its descendants.\n *\n * @module\n * @requires types/jQProxy\n * @requires types/Basic\n * @requires types/Queue\n * @requires play.game\n * @requires util\n * @requires evalAction\n *\n * @exports createEntity\n */\nimport jQProxy from 'types/jQProxy';\nimport Basic from 'types/Basic';\nimport Queue from 'types/Queue';\nimport { Point } from 'types/Dimensions';\nimport game from 'play.game';\nimport util from 'util';\nimport evalAction from 'evalAction';\nimport { AudioManager } from 'types/AudioManager';\n\n/**\n * Creates a new Enitiy instance with a context node and implementation.\n * The instance is prototyped from the parent scope.\n *\n * @memberof module:types/Scope~Scope#createEntity\n * @protected\n * @arg {jQuery} _$node - jQuery object with a single node in the collection.\n * @arg {function|object} _implementation - Constructor function or object with the entity behavior.\n * @returns {module:types/Scope~Scope}\n */\nfunction createEntity(_$node, _implementation) {\n  var component, prototype, componentRecord, instance;\n\n    //MPR, ll-trace 43: So, it would appear that sometimes, entities are components. Entities\n    // also appear to always be scopes as well. From the types/entities description, it would\n    // seem that the purpose of entities is to have a scope with visual elements and the\n    // ability to respond to \"behaviors\". Responding to behaviors here is referred to as a\n    // \"responisbility\". If an entity is a component and the passed in implementation function\n    // does not match the components implementation, use the components. Otherwise use the\n    // passed in one, and add all of the component's implementation properties to the current\n    // scope.\n    // @TODO All of this scope extension from arbitrary implementation functions is extremelty\n    // unsafe, particularly if the extend function is producing new objects. In the one case,\n    // we are probably overriding properties blindly, and on the other we are creating many\n    // disparate scope objects for a single DOM scope..\n  component = _$node.attr('pl-component');\n  prototype = this;\n\n  if (component) {\n    componentRecord = game.component.get(component);\n\n    if (componentRecord) {\n      // If a scope is being defined as an extention of a component before the component scope\n      // has been allocated, we construct the component first then pass it as the proto.\n      // But we need to make sure we are not allocating the component it self.\n      if (componentRecord.implementation !== _implementation) {\n        prototype = this.extend(componentRecord.implementation);\n      }\n    } else {\n      throw new Error('No implementation record for the ' + component + 'component.');\n    }\n  }\n\n  instance = typeof _implementation === 'function' ? prototype.extend(_implementation) : prototype.create();\n\n    //MPR, ll-trace 44: This seems like an important step, as this will then trigger a cascading initialization\n    // inside of the component or entity that is being touched.\n  return instance.initialize(_$node, component);\n}\n\n/**\n * <span class=\"important\">NOTE:</span> This is NOT a constructor. Use `Scope.create()` to get a new instance.\n * @classdesc A package which contains a reference to a DOM node wrapped in a jQuery object. For more information on scopes read [this]{@link module:types/Scope}.\n * @class\n * @extends module:types/jQProxy~jQProxy\n */\nvar Scope = jQProxy.extend(function () {\n\n  /**\n   * Collection of records pairing a node with its action.\n   * @memberof module:types/Scope~Scope\n   * @static\n   * @protected\n   * @todo Convert to types/Collection\n   */\n  var Actionables;\n\n  function attachActionHandler() {\n    this.on(pl.EVENT.ACTION, function (_event) {\n      //MPR, ll-trace 5.5: Checking what events this responds to.\n      //Seems like just click events for the most part? I guess\n      //the purpose of this is to allow arbitrary events in the\n      //html templates as pl-action attributes\n      var target, record;\n\n      target = $(_event.target).closest('[pl-action]')[0];\n\n      if (_event.originalEvent && _event.originalEvent.changedTouches) {\n        /**\n         * For now, interactions should use the last touch if multiple fingers are captured.\n         * @todo Maybe invoke action for each touch.\n         */\n        _event.touch = _event.originalEvent.changedTouches[_event.originalEvent.changedTouches.length - 1];\n      }\n\n      _event.cursor = Point.create().set(new function () {\n        if (_event.touch) {\n          this.x = _event.touch.clientX;\n          this.y = _event.touch.clientY;\n        } else {\n          this.x = _event.clientX;\n          this.y = _event.clientY;\n        }\n      });\n\n      if (target) {\n        record = this.actionables.item(target);\n\n        if (record) {\n          _event.targetScope = this;\n          this.event = _event;\n          evalAction(record.action, this);\n          this.event = null;\n        }\n      }\n    });\n  }\n\n//  function getRecordBy(_key, _member, _collection) {\n//    var i, record;\n//\n//   if (_collection) {\n//     for (i = 0; record = _collection[i]; i += 1) {\n//       if (record[_key] === _member) return record;\n//     }\n//   }\n//\n//   return null;\n// }\n\n// function removeRecord(_record, _collection) {\n//   var index;\n//\n//   index = _collection.indexOf(_record);\n//   if (~index) _collection.splice(index, 1);\n// }\n\n  function captureDropables(_scope) {\n    var collection;\n\n    collection = [];\n    //MPR, ll-trace 19: find all \"pl-pluck\" elements that are a child of anything?\n    //ahh that are a child of the provided scope\n    _scope.find('> [pl-pluck]').each(function () {\n      var name;\n\n      name = $(this).attr('pl-pluck');\n\n      collection.push(this);\n      collection[name] = this;\n    });\n\n    return collection;\n  }\n\n  function pluckAndDrop(_dropables, _template) {\n    $(_template).find('[pl-drop]').each(function () {\n      var $node, name, dropable;\n\n      $node = $(this);\n      name = $node.attr('pl-drop');\n      dropable = _dropables[name];\n\n      if (dropable) {\n        $node.replaceWith(dropable.children);\n      }\n    });\n  }\n\n  // Protected\n  function loadComponentAssets(_name, _callback) {\n    var scope, path, totalRequests, transcludeMode, dropables;\n\n    function ready() {\n      ready.status += 1;\n\n      //MPR, ll-trace 18: More request counting. @TODO break into promises for failure cases\n      if (ready.status === totalRequests) {\n        if (_callback) {\n          _callback.call(scope, _name);\n        }\n      }\n    }\n\n    totalRequests = 0;\n    scope = this;\n    //MPR, ll-trace 23: Nope, this is just loading the template from the game\n    path = game.config('componentDirectory') + _name + '/';\n    //MPR, ll-trace 20: dump all of the \"pl-pluck\" attribute children of this scope into this dropables dict\n    dropables = captureDropables(this);\n    //MPR, ll-trace 21: evidently the inclusion of pluck elements indicates a lack of a transclude property\n    //lets keep a watch out for that, and @TODO on renaming pluck to something with meaning\n    // TRANSCLUDE_PLUCK is a string, also, so unless there are no droppables and no pl-transclude prop\n    // transcludeMode will be a string that gets switched on below\n    transcludeMode = dropables.length ? this.TRANSCLUDE_PLUCK : this.properties.transclude;\n    ready.status = 0;\n\n    //MPR, ll-trace 22: why to we want to do this if we have a transclude mode OR we have no\n    //children?\n    if (!this.children().length || transcludeMode) {\n      totalRequests += 1;\n        //MPR, ll-trace 24: Create a virtual div and then load into it, to allow us to\n        //manipulate the elements post-parse. Clever.\n      $('<div>').load(path + 'template.html', function () {\n        var memory;\n\n        memory = [];\n\n        switch (transcludeMode) {\n        //MPR, ll-trace 25: Just shove them in\n        case scope.TRANSCLUDE_APPEND:\n          scope.append(this.children);\n          break;\n\n        //MPR: On top. Why doesnt this require a container like the next one?\n        case scope.TRANSCLUDE_PREPEND:\n          scope.prepend(this.children);\n          break;\n\n        //MPR: Got it. The Pluck is essentially allowing a second level of templating\n        // within a component. Its like allowing separate Header, Body, and Footer elements\n        // to be popped out of a loading template and replaced. Something to note is that\n        // any child elements without a pl-pluck attribute matching a template section\n        // will be lost. This may not be a bad thing.\n        case scope.TRANSCLUDE_PLUCK:\n          pluckAndDrop(dropables, this);\n          scope.empty().append(this.children);\n          break;\n\n        //MPR: Replace em. Not sure why we would ever want to do this, though\n        case scope.TRANSCLUDE_REPLACE:\n          scope.empty().append(this.children);\n          break;\n\n        default:\n          //MPR: The else case here is extranneous. @TODO this default can also be refactored such that the other\n          // TRANSCLUDE_PLUCK can be removed.\n          if (transcludeMode) {\n              pluckAndDrop(new (function () {\n                this[transcludeMode] = scope.node();\n              }), this);\n              scope.empty().append(this.children);\n            } else {\n              scope.empty().append(this.children);\n            }\n\n        }\n\n        //MPR, ll-trace 26: Load every item in this scope labeled pl-component and then fire ready\n        // To up the ready count. We may have a problem lazy loading here if we defer firing ready\n        // until all screen components are loaded.\n        scope.findOwn('[pl-component]').each(function () {\n          var name;\n\n          name = $(this).attr('pl-component');\n\n          if (~memory.indexOf(name)) return;\n\n          memory.push(name);\n\n          totalRequests += 1;\n\n          //MPR, ll-trace 28: Recur!\n          game.component.load(name, function () {\n            //@TODO: MPR, 4/27/16: give this local ready a different name, this is confusing\n            ready();\n          });\n        });\n        ready();\n      });\n    }\n\n    if (!$('style[pl-for-component=\"' + _name + '\"]').length && game.config('shouldLoadComponentStyles') !== false) {\n      totalRequests += 1;\n      $('<style type=\"text/css\" pl-for-component=\"' + _name + '\">')\n        .load(path + 'style.css', ready)\n        .appendTo(document.body);\n    }\n\n    if (!totalRequests) _callback && _callback.call(this, _name);\n\n    return this;\n  }\n\n  function captureProperties() {\n    var i, attr, name, collection;\n\n    //MPR, ll-trace 13: Create an array with an extra \"has\" wrapper method for indexOf\n    collection = (function () {\n\n      this.has = function (_name) {\n        return !!~this.indexOf(_name);\n      };\n\n      return this;\n\n    }).call([]);\n\n    //MPR, ll-trace 15: attach all of the pl- prefixed properties on the game to... the game scope?\n    // Unclear use of this. Assuming that this method is bound?\n    for (i = 0; attr = this.$els[0].attributes[i]; i += 1) {\n      // I explicitly want it to be at the beginning.\n      if (attr.name.indexOf('pl-') === 0) {\n        name = attr.name.slice(3);\n        //MPR, ll-trace 14: transformId has the same functionality as _.toCamelCase, @TODO replace it.\n        collection[util.transformId(name, true)] = attr.value;\n\n        collection.push(name);\n      }\n    }\n\n    //MPR, ll-trace 15.5: this is where they actually get attached\n    if (collection.length) this.properties = collection;\n\n    return this;\n  }\n\n  function initializeEntities() {\n    //MPR, ll-trace 41: It is not clear to me what \"entities\" are, or how the entities property will ultimately\n    // be set. A simple grep indicates it is set frequently in this file. Let us see where.\n    // They are set in the \"ready\" event for the scope, and appear to be the general set of immediate child scopes\n    // to the current scope. It is not clear why one would set them using the scope.entity method rather than\n    // using a pl-scope attribute.\n    if (!this.hasOwnProperty('entities')) return this;\n\n    this.entities.forEach(this.bind(function (_record, _index) {\n      var $nodes, query, index;\n\n      $nodes = this.findOwn(_record.selector);\n      query = ['#' + _record.selector, '[pl-id=' + _record.selector + ']', '[pl-component=' + _record.selector + ']', '[pl-' + _record.selector + ']'];\n      index = 0;\n\n      while (!$nodes.length) {\n        if (index === query.length) {\n          throw new Error('Unable to locate entity with selector', _record.selector);\n        }\n        $nodes = this.findOwn(query[index]);\n        index += 1;\n      }\n\n      $nodes.each(this.bind(function (_index, _node) {\n        var $node, instance, id;\n\n        $node = $(_node);\n\n        //MPR, ll-trace 42: So, for each child of the given scope, get all of _that_ scope's children\n        // matching a provided selector and see if they prototypically inherit from the given scope\n        // if not, create a new instance of entity, binding the create entity to the given scope, and passing\n        // the child scope the entity belongs to, and the provided entity implementation, and queue it to load\n        // its assets if it is not already ready. Otherwise, the entity has already been initialized somehow,\n        // so just store its reference.\n        if (!Scope.isPrototypeOf(_record)) {\n          instance = createEntity.call(this, $node, _record.implementation);\n          if (!instance.isReady) this.assetQueue.add(instance);\n        } else {\n          instance = _record;\n        }\n\n        id = util.transformId(instance.id(), true);\n        //MPR, ll-trace 45: More scope property danger. Once we have created an instance, we\n        // then add a reference to that entity scope by name with no namespace on the parent scope\n        // I have to assume that these are never used, and this is being done for debugging\n        // convienience, because to get one back out one would need to first obtain its transformed\n        // name from within child scopes somehow, and then dynamically reference it.\n        if (id) util.assignRef(this, id, instance);\n      }));\n    }));\n\n    return this;\n  }\n\n  function handleProperties() {\n    var scope, property, handler;\n\n    scope = this;\n\n    //MPR, ll-trace 47: So, if we have any additional pl-properties set on our scope object\n    // check if we have a \"propertyHandler\" set for it, and call it.\n    // This seems sensible enough, except that these aren't \"handlers\", but fine\n    // The issue is that then, below, we go over each handler and check to see if there are\n    // any matching properties inside of our scope, and then we fire each handler again for\n    // each one. This seems extremely likely to fire each handler a whole bunch of times.\n    // Lastly, at this stage we haven't seen where these get set yet.\n    if (this.hasOwnProperty('properties')) {\n      this.properties.forEach(function (_name) {\n        handler = scope.propertyHandlers[_name];\n        if (handler) handler.call(scope, scope.$els[0], _name, scope.properties[_name]);\n      });\n    }\n\n    if (this.propertyHandlers) {\n      for (property in this.propertyHandlers) {\n        // Only exclide members on the base type.\n        if (Basic.hasOwnProperty(property)) continue;\n\n        handler = this.propertyHandlers[property];\n\n        this.findOwn('[pl-' + property + ']').each(function () {\n          var attr;\n\n          if (scope === $(this).scope()) {\n            attr = this.attributes.getNamedItem('pl-' + property);\n\n            //MPR: because of the default 'component' handler, this may be picking up the slack\n            // on initializing some child component entities. Something to watch for while \n            // attempting to lazt load.\n            if (handler) handler.call(scope, this, property, attr.value);\n          }\n        });\n      }\n    }\n\n    return this;\n  }\n\n  function invokeLocal(_name) {\n    var args, owner;\n\n    args = [].slice.call(arguments, 1);\n\n    if (this.isMemberSafe(_name)) {\n      return this[_name].apply(this, arguments);\n    }\n  }\n\n  function init() {\n    //MPR, ll-trace 29: Will fire once all pl-components are loaded. Watch out here for getting\n    // stuck after lazy loads, or for anything that might get missed were this to only run once\n    var willInitEvent, initEvent;\n\n    initEvent = $.Event('initialize', { targetScope: this });\n    willInitEvent = $.Event('will-initialize', { targetScope: this });\n\n    //MPR, ll-trace 31: Why aught we only invoke this if the method is local to this scope?\n    // That seems arbitrary to me.\n    invokeLocal.call(this, 'willInit');\n    //MPR: Moreso, if we are checking if our game has attached any such method to the scope,\n    // why bother firing the event. A quick grep indicates nothing is listening to willInit\n    // @TODO really should be one or the other. The event seems much more sensible.\n    this.trigger(willInitEvent);\n\n    //MPR: why hello there.\n    this.attachEvents();\n\n    //MPR, ll-trace 46: Finds all of the \"entities\" of the current scope and creates and initializes\n    // them, attaching them as properties to the current scope, based on the selector that was used\n    // to find their DOM nodes\n    initializeEntities.call(this);\n    //MPR, ll-trace 50: Goes through and calls the \"handlers\" for all of the entities of the given scope\n    // including those for all present children's properties for which there are matching named handlers\n    // on the scope's propertyHandler property dictionary\n    handleProperties.call(this);\n\n    //MPR, ll-trace 51: sets a loading event one each image in the current scope\n    this.watchAssets();\n    this.captureAudioAssets();\n    this.captureReferences();\n\n    this.__init();\n    invokeLocal.call(this, 'init');\n\n    this.trigger(initEvent);\n\n    if (!this.isReady) this.assetQueue.ready();\n\n    return this;\n  }\n\n  function ready() {\n    //MPR, ll-trace 35: this will fire once all assets are loaded, from inside the attachEvents method in this file\n    var readyEvent, entities;\n\n    readyEvent = $.Event('ready', { targetScope: this });\n    entities = this.findOwn('.pl-scope').scope();\n\n    if (entities) {\n      this.entities = [].concat(entities);\n    }\n\n    /**\n     * Sort audio into DOM order.\n     * @todo Consider including this into `AudioManager`. Micah: 2/23/2016.\n     */\n    // @TODO MPR 4/27/16: Look into why Micah wanted this in dom order. I am concerned\n    // that they are simply being invoked in order.\n    if (this.hasOwnProperty('audio')) {\n      (this.game || this).media.addShadow(this.audio);\n      this.audio.collections().forEach(function (_collection) {\n        var map = {\n          voiceOver: 'voice-over',\n          background: 'background',\n          sfx: 'sfx'\n        };\n\n        if (!_collection.length) return;\n\n        //MPR, ll-trace 37: This is almost certainly the reason that there are problems \n        // attaching audio during a lazy load. Because this only fires on ready, we miss\n        // attaching the events in the right order. Either this strategy needs to be re-\n        // thought, or this needs to be fully rebuilt and tracked each time a screen\n        // is loaded. Adam's idea to create a \"screen\" audio context instead of just\n        // a global one is a good idea and may also mitigate this issue.\n        // MPR: Note - the trace should continue here tomorrow. Once this ready is complete\n        // the attachEvents method should finish from whatever event fired it in trace\n        // step 34, and then control will return to this.init after that event is registered.\n        this.findOwn('audio.' + map[_collection.type]).each(function (_index, _node) {\n          var id, audio, collection, index;\n\n          id = $(_node).id();\n          audio = (_collection.find('#' + id) || [])[0];\n          index = _collection.indexOf(audio);\n\n          if (index !== _index) {\n            _collection[index] = _collection[_index];\n            _collection[_index] = audio;\n          }\n        });\n      }.bind(this));\n    }\n\n    this.isReady = true;\n    this.addClass('READY');\n\n    this.__ready();\n    //@TODO MPR: We really need to clean up this dual scope method / event invocation pattern\n    invokeLocal.call(this, 'ready');\n\n    //MPR, ll-trace 36: The ready event is consumed in many places. In the framework, it is consumed in\n    // components/carousel/behavior.js:82:      this.on('ready', this.beginShow);\n    // source/types/Scope.js:646:    this.on('ready', function (_event) {\n    // source/types/Scope.js:877:        $node.on('ready', this.bind(function (_event) { \n    // and is additionally triggered in\n    // source/play.game.js:45:  game.trigger(_eventName || 'ready');\n    // source/types/AudioManager.js:423:    readyEvent = $$.Event('ready', {targetScope: this});\n    // lastly, it is disabled later in this file at\n    // source/types/Scope.js:651:      if (!this.assetQueue.length && this.isReady) this.off('ready');\n    this.trigger(readyEvent);\n  }\n\n  Actionables = (function () {\n\n    util.mixin(this, Basic);\n\n    this.add = function (_node, _action) {\n      if (!this.has(_node)) {\n        this.push({\n          node: _node,\n          action: _action\n        });\n      }\n\n      return this;\n    };\n\n    this.remove = function (_node) {\n      var item, index;\n\n      item = this.item(_node);\n      index = this.indexOf(item);\n      if (~index) this.splice(index, 1);\n\n      return this;\n    };\n\n    this.item = function (_node) {\n      var i, item;\n\n      for (i = 0; item = this[i]; i += 1) {\n        if (item.node === _node) return item;\n      }\n    };\n\n    this.has = function (_node) {\n      return !!this.item(_node);\n    };\n\n    return this;\n\n  }).call([]);\n\n  this.TRANSCLUDE_REPLACE = 'replace';\n  this.TRANSCLUDE_PREPEND = 'prepend';\n  this.TRANSCLUDE_APPEND = 'append';\n  this.TRANSCLUDE_PLUCK = 'pluck';\n\n  this.baseType = 'TYPE_SCOPE';\n  this.actionables = null;\n  this.isReady = null;\n  this.isComponent = false;\n  this.entities = null;\n  this.audio = null;\n  this.properties = null;\n  this.propertyHandlers = null;\n  this.assetQueue = null;\n  this.event = null;\n  this.currentMedia = {};\n\n  this.initialize = function (_node_selector, _componentName) {\n    var doInitialize = function (_node_selector, _componentName) {\n        var scope;\n\n        scope = this;\n\n        this.isReady = false;\n        this.isComponent = !!_componentName;\n        this.event = null;\n        this.assetQueue = Queue.create();\n        //MPR, ll-trace 11: this will be a reference to the game wrapper,\n        this.$els = (_node_selector.jquery) ? _node_selector : $(_node_selector);\n\n        if (!this.$els.length) {\n          throw new ReferenceError('Unable to locate the element with selector ' + this.$els.selector + '.');\n        }\n\n        this.addClass('pl-scope ' + (_componentName ? _componentName + '-component' : ''));\n        //MPR, ll-trace 12: probably shouldnt be storing all this data in the DOM but here we are\n        this.data('pl-scope', this);\n        this.data('pl-isComponent', !!_componentName);\n\n        //MPR, ll-trace 16: after this point, all of the pl- attributes on the game will be located in\n        //the 'properties' property of the scope, which will be the Game global scope when this is called\n        //from \"run\"\n        captureProperties.call(this);\n\n        if (_componentName) {\n        //MPR, ll-trace 17: This is probably where we load up the library components\n          loadComponentAssets.call(this, _componentName, function () {\n            init.call(this);\n          });\n        } else {\n          init.call(this);\n        }\n\n        return this;\n    }.bind(this, _node_selector, _componentName);\n\n    if (_componentName === 'screen-basic') {\n      window.magic = window.magic || {};\n      window.magic[_node_selector.id()] = doInitialize;\n      window.magic._screenOrder = window.magic._screenOrder || [];\n      window.magic._screenOrder.push(doInitialize);\n      //if(window.magic._screenOrder.length < 2) {\n      //  return doInitialize();\n     // }\n    } else {\n      //  return doInitialize();\n    }\n    //return this;\n        return doInitialize();\n  };\n\n  // only for use in base types\n  this.__init = function () { return this; };\n  this.__ready = function () { return this; };\n\n  this.willInit = function () { return this; };\n  this.init = function () { return this; };\n  this.ready = function () { return this; };\n\n  this.watchAssets = function (_nodes) {\n    var createHandler, watch;\n\n    createHandler = this.bind(function (_node) {\n      return (function () {\n        var loadedEvent = $.Event('loaded', { targetScope: this });\n\n        this.assetQueue.ready(_node.src);\n        this.trigger(loadedEvent, [_node]);\n\n        _node.onload = null;\n      }).bind(this);\n    });\n\n    watch = this.bind(function (_index, _node) {\n      var node = typeof _index === 'number' ? _node : _index;\n\n      if (node.nodeName !== 'IMG' || node.complete) return;\n      if (this.assetQueue.add(node.src)) {\n        node.onload = createHandler(node);\n        node.onerror = function () {\n          console.error('Image failed to load', node.src);\n        };\n      }\n    });\n\n    if (_nodes) {\n      _nodes.forEach(watch);\n      return this;\n    }\n\n    //MPR: So evidently were watching each child but ignoring them if they arenet images\n    // then getting all of our children who are images and running over them again? I have\n    // to see if everything still works without this first line.\n    // oh we totally can.\n    this.each(watch);\n    this.findOwn('img').each(watch);\n\n    return this;\n  };\n\n  this.attachEvents = function () {\n\n    //MPR, ll-trace 32: Another area to be careful. I will make a note of which function this\n    // proto intends to invoke when using fn.caller so that we can do so correctly once it is\n    // removed.\n    // The correct method is the highest level parent:\n    // source/types/jQProxy.js:98:  this.attachEvents = function () {\n    this.proto();\n\n    //MPR, ll-trace 34: This is triggered in types/queue (currently on line 19) and is also listened several times in\n    // types/entity\n    this.assetQueue.on('complete', this.bind(function () {\n      this.assetQueue.off();\n      //MPR: that was a wild ride from start to finish.\n      // @TODO Clean up this event structure.\n      ready.call(this);\n    }));\n\n    //MPR, ll-trace 38: This is triggered by the ready call in the above assetQueue.on('complete')\n    this.on('ready', function (_event) {\n      //MPR: only fire assetQueue ready if this ready event was issued for both the current and asset scopes?\n      if (this.has(_event.targetScope) && this.assetQueue.has(_event.targetScope)) {\n        this.assetQueue.ready(_event.targetScope);\n      }\n\n      //MPR, ll-trace 40: Given that this event will only be triggered when all assets have loaded\n      // it is unclear to me what the purpose of this is. This event is fired very frequently however,\n      // and upon inspection this.isReady is generally false. It must be that many events trigger ready\n      // but only the trace leading here in code produces the final result. Additionally, this result\n      // seems totally independent of the above assetQueue contitional, which additionally does not\n      // seem to affect assetQueue.length\n      if (!this.assetQueue.length && this.isReady) this.off('ready');\n    });\n\n    return this;\n  };\n\n  this.captureReferences = function () {\n    this.findOwn('[id], [pl-id]').each(this.bind(function (_index, _node) {\n      var $node, id;\n\n      if (_node.nodeName === 'AUDIO') return;\n\n      $node = $(_node);\n      id = $node.attr('id') || $node.attr('pl-id');\n\n      if (!this[id]) {\n        util.assignRef(this, id, $node.data('pl-scope') || $node);\n      }\n    }));\n  };\n\n  this.captureAudioAssets = function () {\n    var deQ, $audio;\n\n    if (!($audio = this.findOwn('audio')).length) return false;\n\n    deQ = function (_item) {\n      [this, this.screen].forEach(function (_scope) {\n        if (_scope.requiredQueue && _scope.isMemberSafe('requiredQueue') && _scope.requiredQueue.has(_item)) {\n          _scope.requiredQueue.ready(_item);\n        }\n      });\n    }.bind(this);\n\n    this.audio = AudioManager.create(this.id());\n\n    $audio.each(function (_index, _node) {\n      this.assetQueue.add(_node.src);\n      this.audio.watch(_node).then(function (_audio) {\n        var loadedEvent = $.Event('loaded', { target: _node, targetScope: this });\n\n        if ($(_node).is('[pl-required]')) this.screen.require(_audio);\n\n        if (this.assetQueue.has(_node.src)) this.assetQueue.ready(_node.src);\n\n        this.trigger(loadedEvent);\n      }.bind(this));\n    }.bind(this));\n\n    // proxy events\n    this.audio.on('play pause ended stopped', this.bind(function (_event) {\n      var map = {\n        background: 'BACKGROUND',\n        voiceOver: 'VOICE-OVER',\n        sfx: 'SFX'\n      };\n\n      switch (_event.type) {\n      case 'play':\n        [this, this.screen].forEach(function (_scope, _index, _set) {\n            if (_index === 1 && _scope === _set[0]) return;\n            if (_scope.$els) {\n              _scope.addClass('PLAYING '+map[_event.target.type]);\n              _scope.currentMedia[map[_event.target.type]] = _event.target;\n            }\n          });\n\n        $(_event.targetNode).addClass('PLAYING');\n        break;\n\n      case 'pause':\n      case 'stopped':\n      case 'ended':\n        [this, this.screen].forEach(function (_scope, _index, _set) {\n            var state;\n\n            if (_index === 1 && _scope === _set[0]) return;\n\n            if (_scope.$els) {\n              _scope.removeClass(map[_event.target.type]);\n              state = _scope.attr('class');\n              if (!(/BACKGROUND|VOICE-OVER|SFX/).test(state)) _scope.removeClass('PLAYING');\n              if(_scope.currentMedia[map[_event.target.type]] === _event.target) _scope.currentMedia[map[_event.target.type]] = null;\n            }\n          });\n\n        $(_event.targetNode).removeClass('PLAYING');\n        if (_event.type === 'ended') deQ(_event.target);\n        break;\n      }\n\n      var audioEvent = $.Event('audio-' + _event.type, {\n        target: _event.target,\n        targetSource: _event.targetSource,\n        targetNode: _event.targetNode,\n        targetScope: this\n      });\n\n      this.trigger(audioEvent);\n    }));\n\n    return this;\n  };\n\n    //MPR, ll-trace 48: What the fuck\n  this.handleProperty = function (_implementation) {\n    if (this.propertyHandlers) {\n      if (this.hasOwnProperty('propertyHandlers')) {\n        switch (typeof _implementation) {\n        case 'function':\n          _implementation.call(this.propertyHandlers);\n          break;\n\n        case 'object':\n          this.propertyHandlers.mixin(_implementation);\n          break;\n        }\n      } else {\n        this.propertyHandlers = this.propertyHandlers.extend(_implementation);\n      }\n    } else {\n      this.propertyHandlers = Basic.extend(_implementation);\n    }\n\n    return this;\n  };\n\n  //MPR: only called from components. Seems to be used to attach \"entities\" to scopes. \n  // The entity itself is a jquery selector with a \"implementation\" function, similar to\n  // the way games and components are initialized. It is unclear why entities are distinct\n  // from these other types.\n  this.entity = function (_selector, _implementation) {\n    var Entity, prototype, id;\n\n    Entity = game.provideEntityType();\n\n    if (!this.hasOwnProperty('entities')) this.entities = [];\n\n    if (this.hasOwnProperty('$els')) {\n      throw new Error('Wait this hasn\\'t been tested.');\n      prototype = (Entity.isPrototypeOf(this)) ? this : Entity;\n      instance = prototype.extend(_implementation).initialize(this.find(_selector));\n      id = util.transformId(instance.id());\n\n      // this.entities.push(instance);\n      if (id) this[id] = instance;\n    } else {\n      this.entities.push({\n        selector: _selector,\n        implementation: _implementation\n      });\n    }\n\n    return this;\n  };\n\n  this.has = function (_child) {\n    var child;\n\n    child = Scope.isPrototypeOf(_child) ? _child.$els : _child;\n\n    return !!this.$els.has(child).length;\n  };\n\n  this.toString = function () {\n    var type;\n\n    type = this.baseType.replace('TYPE_', '');\n    type = type.slice(0, 1) + type.slice(1).toLowerCase();\n\n    return ['[', this.id() || this.address(), ' ', type, ']'].join('');\n  };\n\n  this.log = function () {\n    var args;\n\n    args = util.toArray(arguments);\n\n    console.log.apply(console, [this.id() || this.address(), '-'].concat(args));\n    return this;\n  };\n\n    //MPR, ll-trace 49: So each scope will attach either an object containing a demi-constructor\n    // or a flat object that accomplishes the same thing. All of this appears to be done to avoid\n    // needing to have a separate function to invoke the handlers from the one that sets them. In\n    // theory this could be used to avoid overriding methods, but this doesnt do that. It will\n    // simply overwrite any that happen to be there in a variety of ways.\n    // By default, the global scope will respond to the 4 properties defined here: component, action, required, and require\n    // component appears to try to recreate the component entity, which should also have happened in initializeEntities.\n  this.handleProperty(function () {\n\n    this.component = function (_node, _name, _value, _property) {\n      var $node, record, scope, id;\n\n      $node = $(_node);\n\n      if (!$node.data('pl-isComponent')) {\n        record = game.component.get(_value);\n\n        if (record) {\n          scope = createEntity.call(this, $node, record.implementation);\n          id = util.transformId(scope.id() || _value, true);\n          util.assignRef(this, id, scope);\n\n          if (!scope.isReady) this.assetQueue.add(scope);\n        } else {\n          throw new Error('Ahh!');\n        }\n      }\n    };\n\n    this.action = function (_node, _name, _value) {\n      if (!this.hasOwnProperty('actionables')) {\n        this.actionables = Actionables.create();\n        attachActionHandler.call(this);\n      }\n\n      this.actionables.add(_node, _value);\n    };\n\n    this.required = function (_node, _name, _value) {\n      if (this.is(_node)) {\n        this.screen.require(this);\n      }\n    };\n\n    this.require = function (_node, _name, _value) {\n      var query, $node;\n\n      // if the node with the attribute is the node for this scope\n      if (this.is(_node)) {\n        query = '#_value, [pl-id=_value], [pl-component=_value]'.replace(/_value/g, _value);\n        $node = this.find(query);\n\n        $node.on('ready', this.bind(function (_event) {\n          if ($node.is(_event.target)) {\n            this.require(_event.targetScope);\n          }\n        }));\n      }\n    };\n\n  });\n\n});\n\nexport default { Scope, createEntity };\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/Scope.js\n **/","/**\n*  jQProxy\n*  @desc Contains all the jQuery methods targeted towards a property which references a jQuery object.\n*  @proto Basic\n*\n*  NOTE: Custom events may trigger on scopes\n*  that also targets the same elments. Testing needed.\n*/\n\nimport util from 'util';\nimport Basic from 'types/Basic';\n\nvar jQProxy = Basic.extend(function () {\n  var method, exclude;\n\n  /**\n  *  @desc Creates a function with a proxy to the jQuery method.\n  *  @param _name (String) The name of the method being proxied.\n  *  @return (jQuery|*) Either a jQuery object or whatever the original method returns.\n  *  @private\n  */\n  function createProxyFunction(_name) {\n    return function () {\n      var response;\n\n      // This makes sure your not calling any jQuery methods before initialization.\n      if (!this.hasOwnProperty('$els')) {\n        if (_name === 'on') {\n          registerHandler.call(this, arguments);\n        } else {\n          throw new ReferenceError('Unable to invoke ' + _name + ' because the scope is not initialized.');\n        }\n        return;\n      }\n\n      response = $.fn[_name].apply(this.$els, resolveEventHandler(this, _name, arguments));\n\n      if (response === this.$els || (response && response.jquery && response.is(this.$els))) {\n        return this;\n      }\n\n      return response;\n    };\n  }\n\n  function resolveEventHandler(_scope, _method, _args) {\n    var i, arg, args;\n\n    args = [];\n\n    if (~(['on', 'load']).indexOf(_method)) {\n      for (i = 0; arg = _args[i]; i += 1) {\n        if (typeof arg === 'function') {\n          args.push((function (_handler) {\n            return function () { return _handler.apply(_scope, arguments); };\n          }(arg)));\n        } else {\n          args.push(arg);\n        }\n      }\n\n      return args;\n    }\n\n    return _args;\n  }\n\n  function registerHandler(_definition) {\n    if (!this.hasOwnProperty('eventRegistry')) {\n      if (this.eventRegistry && this.isMemberSafe('eventRegistry')) {\n        this.eventRegistry = this.eventRegistry.slice(0);\n      } else {\n        this.eventRegistry = [];\n      }\n    }\n\n    this.eventRegistry.push(_definition);\n\n    return true;\n  }\n\n  // We don't want jQuery methods overridding our base type's methods.\n  exclude = ['constructor'].concat(Object.keys(Basic));\n\n  this.baseType = 'TYPE_JQPROXY';\n  this.$els = null;\n  this.eventRegistry = null;\n\n  for (method in $.fn) {\n    if (!$.fn.hasOwnProperty(method) || ~exclude.indexOf(method)) continue;\n    this[method] = createProxyFunction(method);\n  }\n\n  this.node = function () {\n    return this.$els[0];\n  };\n\n  this.attachEvents = function () {\n    //MPR, ll-trace 33: This is the function that should be extended by scope's attachEvents\n    var self;\n\n    self = this;\n\n    if (this.eventRegistry && this.isMemberSafe('eventRegistry')) {\n      this.eventRegistry.forEach(function (_definition) {\n        self.on.apply(self, _definition);\n      });\n    }\n  };\n\n  this.listen = function (_name, _isCapure_handler, _handler) {\n    var _isCapture, node, handler;\n\n    _isCapture = false;\n\n    // resolve arguments\n    (typeof _isCapure_handler === 'boolean') ?\n      _isCapture = _isCapure_handler :\n      _handler = _isCapure_handler;\n\n    _handler.cb = _handler.bind(this);\n\n    if (this.$els) {\n      node = this.$els[0];\n      if (node) return node.addEventListener(_name, _handler.cb, _isCapture);\n    }\n\n    else {\n      return registerHandler([_name, _handler.cb, _isCapture]);\n    }\n\n    return false;\n  };\n\n  this.ignore = function (_name, _handler) {\n    var node = this.$els && this.$els[0];\n\n    if (node) return node.removeEventListener(_name, _handler.cb || _handler);\n\n    return false;\n  };\n\n  // Wraps you function 'this' to the scope.\n  //\n  // MPR: Oh for the love of god and all that is holy. @TODO change this functions name.\n  this.bind = function (_handler) {\n    var args;\n\n    args = [].map.call(arguments, function (m) { return m; }).slice(1);\n\n    //MPR: At the very least remove the extra bind in here. Or remove this function entirely and use\n    //fn.bind properly.\n    return _handler.bind.apply(_handler, [this].concat(args));\n  };\n\n  //MPR: The purpose of this function appears to be to get all items based on a selector\n  // and then filter them to only nodes that share a scope. I do not know how this functions\n  // with the filter bound to whatever \"this\" happens to be.\n  // Oh. Its not fn.bind. Its scope.bind. That name needs to change.\n  this.findOwn = function (_selector) {\n    return this.find(_selector).filter(this.bind(function (_index, _node) {\n      var $node;\n\n      $node = $(_node);\n\n      if ($node.hasClass('pl-scope')) {\n        return $node.parent().scope() === this;\n      }\n\n      return $node.scope() === this;\n    }));\n  };\n\n  this.isMemberSafe = function (_name) {\n    var owner, elOwner, prototype;\n\n    if (this.hasOwnProperty(_name)) {\n      return true;\n    } else {\n      prototype = Object.getPrototypeOf(this);\n      owner = util.getOwner(this, this[_name]);\n\n      if (owner.object.hasOwnProperty('$els') || prototype.hasOwnProperty('$els')) return false;\n\n      //MPR, ll-trace 30: so this method is basically checking if a property exists on an element\n      // or in a prototype chain. If it is in the chain or on the element return false, otherwise\n      // return true if it is unique to the current level\n      // As a side note, the existence of this method is evidence of why prototypes are not\n      // used in this fashion\n      if (prototype.$els) {\n        elOwner = util.getOwner(prototype, prototype.$els);\n\n        if (owner.object.isPrototypeOf(elOwner.object)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  };\n\n  this.is = function (_obj) {\n    if (!_obj) return false;\n    if (_obj.$els) return this.$els.is(_obj.$els);\n\n    return this.$els.is(_obj);\n  };\n});\n\nexport default jQProxy;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/jQProxy.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/keys.js\n ** module id = 68\n ** module chunks = 0\n **/","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/keys.js\n ** module id = 69\n ** module chunks = 0\n **/","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.object.keys.js\n ** module id = 70\n ** module chunks = 0\n **/","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-sap.js\n ** module id = 71\n ** module chunks = 0\n **/","/**\n*  Queue\n*  @desc Contains...\n*  @proto Array, Events, Basic\n*/\n\nimport util from 'util';\nimport Collection from 'types/Collection';\nimport Events from 'types/Events';\n\nvar Queue = Collection.extend(function () {\n\n  this.baseType = 'TYPE_QUEUE';\n\n  this.ready = function (_record) {\n    if (_record != null) this.remove(_record);\n\n    if (!this.length) {\n      //MPR, ll-trace 39: This may be a problematic loop. Complete fires ready, ready fires complete.\n      //Probably the only reason this works is because the only purpose of this function is to remove\n      //the last record and continue the cycle of audio events firing. Even with it working, it seems\n      //unlikely that this is a stable or predictable configuration.\n      this.trigger('complete');\n    }\n\n    return this;\n  };\n\n  util.mixin(this, Events);\n\n  return this;\n\n});\n\nexport default Queue;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/Queue.js\n **/","/**\n * @module evalAction\n */\n\n/**\n * Performs `eval()` on the value of an `action` attribute on an HTML element.\n * @arg {string} _source - JavaScript source code.\n * @arg {Scope} _scope - The context in which to run the source.\n * @returns {*} The result of the evaluated source.\n */\nfunction evalAction(_source, _scope) {\n  var error;\n\n  function target(_selector) {\n    if (_scope.event) {\n      return _selector ? $(_scope.event.target).closest(_selector) : $(_scope.event.target);\n    }\n  }\n\n  // expose members of the object as if they were local variables.\n  // NOTE: methods still retain their \"this\" binding to the object! :D\n  return eval('with (_scope) { try {' + _source + ';} catch (error) { console.error(\\'Error:\\', error.message, \\'evaluating action\\', _source, \\'in\\', _scope.id() || _scope.address()); } }');\n}\n\nexport default evalAction;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/evalAction.js\n **/","'use strict';\n/**\n * Contains classes for managing different media types.\n * Providing an API for referencing and control.\n * @module\n * @author Micah Rolon <micah@ginasink.com>\n */\nimport type from 'types/type';\nimport util from 'util';\nimport Collection from 'types/Collection';\n\n// Object type definitions are using  `$` as the augmentation method for Types.\nvar EventTargetInterface,\n  InspectorInterface,\n  PlayableInterface,\n  LegislatorInterface,\n  StateInterface,\n  $$ = window.jQuery;\n\n/**\n * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `MediaManager.create()`.</span>\n * Manages any playing media (Audio, Video).\n * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n * @classdesc Manages any playing media (Audio, Video).\n * <style>\n * .note {\n *   border: solid 1px;\n *   border-radius: 4px;\n *   padding: 1px 4px;\n *   color: #aaa;\n *   background-color: #eee;\n * }\n *\n * .note.important {\n *   color: #b55;\n *   background-color: #fee;\n * }\n * </style>\n *\n * @class\n */\nfunction MediaManager($, sup) {\n  /**\n   * Duck typed multiple inheritance.\n   */\n  util.mixin(this, EventTargetInterface, InspectorInterface, LegislatorInterface, StateInterface);\n  $(\n  'video',\n\n  function alloc(_id) {\n    sup(this, 'alloc', arguments);\n    this.video = Collection.create();\n    this.initialize(_id, 'media manager');\n  }\n);}\n\n/**\n * The Scopes entry for its audio management interface. This gives access to collections of Audio objects grouped into three types.\n *\n * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioManager.create()`.</span>\n * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n * @classdesc The Scopes entry for its audio management interface. This gives access to collections of Audio objects grouped into three types.\n * - Background\n * - Voice Over\n * - SFX (Sound Effects)\n * These collections are filled by the HTML Audio elements which have classes corresponding to these types.\n * @class\n * @prop {type} member - Text.\n * @extends EventTargetInterface\n * @extends PlayableInterface\n * @extends InspectorInterface\n */\nfunction AudioManager($) {\n  var AUDIO_TYPES, BUFFER_CACHE;\n\n  /**\n   * A record object for passing the MediaElement which got loaded as an `AudioBuffer`.\n   * @arg {HTMLAudioElement} _node - The loaded audio element.\n   * @arg {ArrayBuffer} _buffer - The array buffer loaded from XHR2.\n   */\n  function AudioBufferRecord(_node, _buffer) {\n    this.node = _node;\n    this.type = getAudioType(_node);\n    this.buffer = _buffer;\n  }\n  /**\n   * Provides the classification an audio element falls into.\n   * - Background (`background`)\n   * - Voice Over (`voiceOver`)\n   * - Sound Effects (`sfx`)\n   * @protected\n   * @arg {HTMLAudioElement} _audio - The audio element.\n   * @returns {string} - The type.\n   */\n  function getAudioType(_audio) {\n    return util.transformId((_audio.className.match(AUDIO_TYPES) || [])[0], true);\n  }\n  /**\n   * Given an HTMLAudioElement, load its source as an `ArrayBuffer` with XHR2.\n   * @protected\n   * @arg {HTMLAudioElement} _audio - The audio element.\n   * @returns {Promise}\n   */\n  function loadArrayBuffer(_audio) {\n    var xhr, manager, fileName;\n\n    xhr = new (XMLHttpRequest || util.noop);\n    manager = this;\n    fileName = util.resolveFileName(_audio.src);\n\n    if (!xhr.open) Promise.reject('This platfom does not support the XMLHttpRequest API.');\n\n    return new Promise(function (resolve, reject) {\n      var cache = BUFFER_CACHE[fileName];\n\n      // Decodes ArrayBuffer into an AudioBuffer.\n      function onLoad() {\n        var ctx, promise;\n\n        if (xhr.status >= 200 && xhr.status < 300) {\n          if (ctx = pl.game.getAudioContext()) {\n            promise = new Promise(function (resolveDecoding, rejectDecoding) {\n              try {\n                ctx.decodeAudioData(xhr.response, function (_buffer) {\n                  var audio = manager.collect( new AudioBufferRecord(_audio, _buffer));\n\n                  resolveDecoding(audio);\n                  // Cache the AudioBuffer to resolve duplicates.\n                  BUFFER_CACHE[fileName] = _buffer;\n                }, function () {\n                  rejectDecoding(\"Failed to decode ArrayBuffer for \" + fileName+'.');\n                });\n              } catch(e) {\n                rejectDecoding(e);\n              }\n            });\n\n            promise.then(resolve).catch(reject);\n\n            return promise;\n          }\n\n        } else {\n          reject(xhr.statusText);\n        }\n\n        xhr.removeEventListener('load', onLoad);\n        xhr = null;\n      }\n\n      function onError() {\n        reject(xhr.statusText);\n        xhr.removeEventListener('error', onError);\n        xhr = null;\n      }\n\n      if (cache && cache !== 'loading') return resolve( manager.collect( new AudioBufferRecord(_audio, cache)));\n\n      BUFFER_CACHE[fileName] = 'loading';\n\n      xhr.responseType = 'arraybuffer';\n\n      xhr.addEventListener('load', onLoad, false);\n      xhr.addEventListener('error', onError, false);\n      xhr.open('GET', _audio.src, true);\n      xhr.send();\n    });\n  }\n  /**\n   * The CSS class names reconized as audio types.\n   */\n  AUDIO_TYPES = /background|voice-over|sfx/i;\n  BUFFER_CACHE = {};\n  /**\n   * Duck typed multiple inheritance.\n   */\n  util.mixin(this, EventTargetInterface, PlayableInterface, InspectorInterface, LegislatorInterface, StateInterface);\n\n// A little ugg but define instance members.\n  $(\n  // Declare properties.\n  'background, voiceOver, sfx, scope',\n\n  /**\n   * Define instance properties.\n   */\n  function alloc(_id) {\n    this.initialize(_id, 'audio manager');\n\n    ['background', 'voiceOver', 'sfx'].forEach(function (_type) {\n      var collection = this[_type] = AudioCollection.create(_type);\n      this.addShadow(collection);\n    }.bind(this));\n  },\n\n  /**\n   * Given an audio element begin loading the asset.\n   * @arg {HTMLAudioElement} _audio - The HTML Audio element which to preload and add to the game audio context.\n   * @returns {Promise}\n   * @todo Support loading from node source or a string argument. - Micah:2/19/16\n   */\n  function load(_audio) {\n    var manager, type;\n\n    manager = this;\n    type = getAudioType(_audio);\n\n    if (!type) return Promise.reject('Audio is missing a type. Please classify as \\'background\\', \\'voiceOver\\' or \\'sfx\\'.');\n    // if (~['sfx', 'voiceOver'].indexOf(type))\n    return loadArrayBuffer.call(this, _audio);\n\n    // return new Promise(function (resolve, reject) {\n    //  _audio.onloadeddata = function () { resolve(manager.collect(this)); };\n    //  _audio.onerror = reject;\n    //  _audio.load();\n    // });\n  },\n\n  /**\n   * Begins loading an AudioElement waits for it to load.\n   * @arg {HTMLAudioElement} _audio - The HTML Audio element which to preload and add to the game audio context.\n   * @returns {Promise}\n   */\n  function watch(_audio) {\n    var promise;\n\n    if (_audio.nodeName !== 'AUDIO') return Promise.reject('Invalid type for audio node. ' + (typeof _audio) + ' [' + _audio.protoype.constructor.name + ' ' + _audio.nodeName + '].');\n\n    function reject(_error) {\n      var scope = $$(_audio).scope();\n      console.warn(scope.id(), '-', _error);\n    }\n\n    (promise = this.load(_audio)).catch(reject.bind(this));\n\n    return promise;\n  },\n\n  /**\n   * Adds a audio to the collection. You may also pass an itterable of items to add.\n   * @arg {Audio|HTMLAudioElement|AudioBufferRecord|Array} _audio - The HTML Audio element or `AudioBufferRecord` for addition to the collection.\n   * @returns {Promise}\n   */\n  function collect(_audio) {\n    var type;\n\n    if (!_audio) return false;\n\n    if (_audio.length) {\n      return _audio.map(collect.bind(this));\n    }\n\n    type = _audio.type || getAudioType(_audio);\n\n    if (type && this[type]) return this[type].add(_audio);\n\n    return false;\n  },\n  /**\n   * Provides a collection of `AudioCollection` objects.\n   * @returns {array}\n   */\n  function collections() {\n    var result, types;\n\n    result = [];\n    types = Object.keys(this);\n\n    types.forEach(function (_type) {\n      if (this[_type] instanceof AudioCollection) result.push(this[_type]);\n    }.bind(this));\n\n    return result;\n  },\n  /**\n   * Proveds a string representation of the object type.\n   */\n  function toString() {\n    return '[object ' + (this.constructor.name || 'Object') + ']';\n  }\n);}\n\n/**\n * An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n *\n * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioCollection.create()`.</span>\n * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n * @classdesc An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n * @extends Collection\n */\nfunction AudioCollection($, sup) {\n  /**\n   * Duck typed multiple inheritance.\n   */\n  util.mixin(this, EventTargetInterface, PlayableInterface, InspectorInterface, StateInterface);\n\n  $(\n  'type',\n\n  function alloc(_type) {\n    if (_type) this.type = _type;\n    this.initialize(_type, 'collection');\n  },\n  /**\n   * Adds an Audio object to the collection.\n   * @arg {HTMLAudioElement|Audio} _audio - Object to add.\n   * @override\n   * @returns {Audio}\n   */\n  function add(_audio) {\n    var audio;\n\n    if (!_audio) return false;\n\n    audio = (_audio instanceof Audio) ? _audio : Audio.create(_audio, this.type);\n\n    sup(this, 'add')(audio);\n    this.addShadow(audio);\n    if (audio.id()) util.assignRef(this, audio.id(), audio);\n\n    return audio;\n  },\n  /**\n   * Get the owning manager interface for an Audio object.\n   * @returns {AudioManager}\n   */\n  function manager() {\n    return this.$el.closest('#man').data('context');\n  },\n  /**\n   * Proveds a string representation of the object type.\n   */\n  function toString() {\n    return '[object ' + (this.constructor.name || 'Object') + ']';\n  }\n);}\n/**\n * Extend AudioCollection with Collection.\n */\nAudioCollection.prototype = Object.create(Collection, {\n  constructor: {\n    value: AudioCollection,\n    enumerable: false,\n    writeable: false,\n    configureable: false\n  }\n});\n/**\n * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `MediaCollection.create()`.</span>\n * Returned as the result of some collection process.\n * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n * @classdesc Returned as the result of some collection process.\n *\n * @class\n * @extends AudioCollection\n * @extends EventTargetInterface\n * @extends InspectorInterface\n * @extends LegislatorInterface\n * @extends StateInterface\n */\nfunction MediaCollection($, sup) { $(\n  /**\n   * @override\n   */\n  function add(_media) {\n    this.addShadow(_media);\n    if (_media.id()) util.assignRef(this, _media.id(), _media);\n    return Collection.add.call(this, _media);\n  },\n  /**\n   * @override\n   */\n  function addShadow(_media) {\n    var $clone;\n\n    $clone = _media.$el.clone();\n    $clone.data(_media.$el.data());\n\n    this.$el.append($clone);\n    return this;\n  }\n);}\n\n/**\n * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioCollection.create()`.</span>\n * An interface for controlling a MediaElement or AudioBuffer.\n * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n * @classdesc An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n */\nfunction Audio ($) {\n\n  function accessConfig (_augment, _val) {\n    if (_val) {\n      return this[_augment] = _val;\n    } else if (typeof _augment === 'string') {\n      return this[_augment];\n    } else {\n      util.mixin(this, _augment);\n    }\n\n    return _augment;\n  }\n\n  /**\n   * Duck typed multiple inheritance.\n   */\n  util.mixin(this, EventTargetInterface, PlayableInterface, StateInterface);\n\n$(\n  'type, media, activeSource, buffer, config, fileName, gain, delay, delayID',\n\n  /**\n   * Allocates instance props.\n   * @arg {HTMLAudioElement|AudioBufferRecord} _audio - The object being wrapped.\n   * @arg {string} _type - The collection type.\n   */\n  function alloc (_audio, _type) {\n    var $audio, config, ctx, readyEvent, id;\n\n    $audio = $$(_audio.node || _audio);\n    config = $audio.pl();\n    ctx = pl.game.getAudioContext();\n    readyEvent = $$.Event('ready', {targetScope: this});\n\n    if (!(id = $audio.id())) $audio.id(id = util.createId());\n\n    this.type = _type || null;\n    this.fileName = util.resolveFileName($audio.attr('src'));\n    this.media = $audio[0];\n    this.gain = ctx.createGain();\n\n    this.gain.connect(ctx.destination);\n\n    $audio.data('context', this);\n\n    if (_audio.buffer) this.buffer = _audio.buffer;\n\n    Object.defineProperty(this, 'config', {\n      value: accessConfig.bind(config),\n      writeable: false\n    });\n\n    this.initialize(id, 'audio '+this.type);\n\n    $$(this.media).trigger(readyEvent);\n  },\n  /**\n   * Provides an `AudioNode` for a particular audio source.\n   * @returns\n   *  - `MediaElementSouceNode` for audio elements.\n   *  - `AudioBufferSourceNode` for an ArrayBuffer.\n   */\n  function getSource () {\n    var ctx, src;\n\n    ctx = this.audioContext || pl.game.getAudioContext();\n\n    if (ctx) {\n      if (this.buffer) {\n        src = ctx.createBufferSource();\n        src.buffer = this.buffer;\n        src.loop = this.media.loop;\n\n        return src;\n      } else {\n        try {\n          return this.activeSource || ctx.createMediaElementSource(this.media);\n        } catch(e) {\n          console.warn(e.message, this);\n        }\n      }\n    }\n\n    return null;\n  },\n  /**\n   * Get the owning collection interface for an Audio object.\n   * @returns {AudioCollection}\n   */\n  function collection () {\n    return this.$el.closest('.collection').data('context');\n  },\n  /**\n   * Get the owning manager interface for an Audio object.\n   * @returns {AudioManager}\n   */\n  function manager () {\n    return this.$el.closest('#man').data('context');\n  },\n  /**\n   * Proveds a string representation of the object type.\n   */\n  function toString () {\n    return '[audio#'+this.id()+' '+this.fileName+']';\n  },\n  function setContext (ctx) {\n    this.gain = ctx.createGain();\n    this.gain.disconnect();\n    this.gain.connect(ctx.destination);\n    this.audioContext = ctx;\n  }\n)}\n\n/**\n * A virtual DOM to handle navigation and propagation of events through the API interfaces.\n * For example an Audio object that triggers an event it should bubble up to its collection and on through to the manager.\n * That way you can listen for an event at any level of the interface.\n */\nEventTargetInterface = {\n  /**\n   * The shadow node.\n   */\n  $el: null,\n  /**\n   * Define a node for the shadow DOM.\n   * @arg {string} _id - Idendifier for the node.\n   * @arg {string} _class - Classification of the node.\n   */\n  initialize: function (_id, _class) {\n    Object.defineProperty(this, '$el', {\n      value: $$('<div ' + (_id ? 'id=\"' + _id + '\"' : '') + ' ' + (_class ? 'class=\"' + _class + '\"' : '') + '>'),\n      writeable: false,\n      configureable: false,\n      enumerable: false\n    });\n\n    this.$el.data('context', this);\n  },\n  /**\n   * Get/set the id of the interface.\n   * @arg {string} _id - A valid CSS ID.\n   */\n  id: function (_id) {\n    return this.$el.id(_id);\n  },\n  /**\n   * Add an interface to the shadow DOM.\n   * @arg {Audio|AudioCollection} _obj - The object to add.\n   * @returns this\n   */\n  addShadow: function (_obj) {\n    this.$el.append(_obj.$el);\n    return this;\n  },\n  /**\n   * Provides the parent level interface.\n   * @returns {AudioManager|AudioCollection}\n   */\n  parent: function () {\n    return this.$el.parent().data('context');\n  },\n  /**\n   * Find an interface in the API tree.\n   * @arg {string} _selector - A CSS selector to match a node in the shadow DOM API tree.\n   */\n  find: function (_selector) {\n    var collection = MediaCollection.create();\n\n    this.$el.find(_selector).each(function () {\n      collection.add($$(this).data('context'));\n    });\n\n    return collection;\n  },\n  /**\n   *\n   */\n  filter: function (_selector) {\n    var collection;\n\n    if (!_selector) return this;\n\n    collection = MediaCollection.create();\n\n    this.$el.children().each(function () {\n      var $node = $$(this);\n      if ($node.is(_selector)) collection.add($node.data('context'));\n    });\n\n    return collection;\n  },\n  /**\n   * Attach events to a shadow node.\n   */\n  on: function () {\n    this.$el.on.apply(this.$el, arguments);\n    return this;\n  },\n  /**\n   * Remove events from a shadow node.\n   */\n  off: function () {\n    this.$el.off.apply(this.$el, arguments);\n    return this;\n  },\n  /**\n   * Dispatch a event from a shadow node.\n   */\n  trigger: function () {\n    this.$el.trigger.apply(this.$el, arguments);\n    return this;\n  }\n};\n/**\n * Interface for inspecting an API level (i.e. manager or collection).\n */\nInspectorInterface = {\n  playing: function (_filterSelector) {\n    var playing = this.find('.PLAYING').filter(_filterSelector);\n    return !!playing.length && playing;\n  },\n  /**\n   * Query a collection for ownership of an audio object.\n   * @arg {string|Audio|HTMLAudioElement} The validating reference.\n   * @returns {boolean}\n   */\n  has: function (_query) {\n    if (this.background) {\n      return ['background', 'voiceOver', 'sfx'].some(function (_name) {\n        return this[_name].has(_query);\n      }.bind(this));\n    }\n\n    if (this[_query]) return true;\n\n    return this.some(function (_audio) {\n      return _audio === _query || _audio.media === _query || _audio.fileName === _query || _audio.id() === _query;\n    });\n  },\n};\n\nLegislatorInterface = {\n  rule: function (_selector, _event, _handler) {\n    var handler, args;\n\n    handler = [typeof _event, typeof _handler].indexOf('function');\n    args = util.toArray(arguments).slice(1);\n\n    if (typeof _event === 'function') _event = 'play pause stopped ended';\n\n    this.on(_event, function (_e) {\n      if (_e.target.$el.is(_selector)) args[handler].apply(this, arguments);\n    }.bind(this));\n  }\n};\n\nStateInterface = {\n  state: function () {\n    return this.$el.state.apply(this.$el, arguments);\n  },\n\n  addState: function (_state) {\n    return this.$el.addClass(_state.toUpperCase());\n  },\n\n  removeState: function (_state) {\n    return this.$el.removeClass(_state.toUpperCase());\n  }\n};\n\n/**\n * Interface for methods involving audio control for any API level.\n */\nPlayableInterface = {\n  proxyEvent: function(_event) {\n    var theEvent = $$.Event(_event.type, { target: this, targetSource: _event.target, targetNode: this.media });\n    \n    // proxy event to shadow DOM only when it has an active source.\n    if (this.activeSource) {\n      if (_event.type === 'ended') {\n        this.removeState('PLAYING');\n        this.activeSource = null;\n      }\n\n      this.trigger(theEvent);\n    }\n\n    _event.target.removeEventListener(_event.type, this.handler.bind(this), false);\n  },\n  handler: function(_event) {\n    if (_event.type === 'ended' && _event.activeSource) {\n      _event.activeSource.disconnect();\n    }\n    this.proxyEvent.call(this,_event);\n  },\n  simEnd: function() {\n    if (this.activeSource) {\n      console.warn('Native `ended` failed to fire, simulating...');\n      this.handler({target: this.activeSource, type: 'ended'});\n    }\n  },\n  playSource: function() {\n    var time;\n    if (this.buffer) {\n      this.activeSource.start(0);\n      this.startTime = new Date();\n\n      if (!this.activeSource.loop) {\n        time = Math.ceil(this.buffer.duration * 1000) + 250;\n        this.timeout = setTimeout(this.simEnd.bind(this), time);\n      }\n    } else {\n      this.media.play();\n    }\n\n    this.delayID = null;\n  },\n  /**\n   * Play an audio object.\n   */\n  play: function (_selector) {\n    var ctx, src, dest, delay, shouldPlay;\n\n\n    function response (_val) {\n      shouldPlay = _val;\n    }\n\n    ctx = this.audioContext || pl.game.getAudioContext();\n    shouldPlay = true;\n\n    /*\n     * I'm commenting out this line because having it there\n     * prevents new audio from starting while the game is out of focus\n     * which makes certain screens impossible to complete.\n     * Giving the game the ability to pause will remove the need for\n     * this line of code, anyway.\n     */\n    // if (ctx.state === 'suspended') return false;\n\n    if (this.background) return this.background.play();\n    if (this.length != null) {\n      if (_selector) {\n        if (this[_selector]) return this[_selector].play();\n\n        return this.find(_selector).play();\n      }\n      return this[0] && this[0].play();\n    }\n\n    if (!(src = this.getSource())) return false;\n\n    src.connect(this.gain);\n    src.addEventListener('ended', this.handler.bind(this), false);\n\n    this.trigger($$.Event('shouldPlay', { target: this, targetSource: src, targetNode: this.media, response: response }));\n\n    if (shouldPlay) {\n      this.addState('PLAYING');\n      this.activeSource = src;\n\n      if (delay = this.config('delay')) {\n        this.delayID = setTimeout(this.playSource.bind(this), util.toMillisec(delay));\n      } else {\n        this.playSource.call(this);\n      }\n\n      this.handler({target: src, type: 'play'});\n    }\n\n    return this;\n  },\n  /**\n   * Pause an audio object.\n   */\n  pause: function () {\n    if (this.buffer) {\n      this.pauseTime = new Date();\n      clearTimeout(this.timeout);\n      this.timeout = null;\n    }\n\n    return this;\n  },\n  /**\n   * Resume an audio object.\n   */\n  resume: function () {\n    var time;\n    if (this.buffer) {\n      if (!this.activeSource.loop) {\n        time = Math.ceil(this.buffer.duration * 1000 - (this.pauseTime - this.startTime)) + 250;\n        this.timeout = setTimeout(this.simEnd.bind(this), time);\n      }\n    }\n\n    return this;\n  },\n  /**\n   * Stop an audio object.\n   */\n  stop: function (_filterSelector) {\n    var stopEvent = $$.Event('stopped', { target: this, targetSource: this.activeSource, targetNode: this.media });\n\n    if (this.background) return this.background.stop(_filterSelector);\n    if (this.length != null) {\n      if (_filterSelector === '@ALL') {\n        this.forEach(function (_audio) {\n          _audio.stop();\n        });\n      } else {\n        return this[0] && this[0].stop();\n      }\n    }\n\n    if (!this.activeSource) return false;\n\n    if (this.buffer) {\n      if (!this.delayID) this.activeSource.stop();\n    } else {\n      this.media.pause();\n      this.media.currentTime = 0;\n    }\n\n    if (this.delayID) {\n      clearTimeout(this.delayID);\n      this.delayID = null;\n    }\n    \n    this.activeSource = null;\n\n    this.removeState('PLAYING');\n    this.trigger(stopEvent);\n\n    return this;\n  },\n  /**\n   * @todo MGR, 2/9/2016: Pipe audio sources into gain nodes for each level of the API.\n   */\n  volume: function (_level, _filterSelector) {\n    if (this.background) return this.background.volume(_level);\n    if (this.length != null) {\n      if (_filterSelector === '@ALL') {\n        this.forEach(function (_audio) {\n          _audio.volume(_level);\n        });\n      } else {\n        return this[0] && this[0].volume(_level);\n      }\n    }\n\n    this.gain.gain.value = _level;\n  },\n  startTime: 0,\n  pauseTime: 0,\n};\n\nexport default type(MediaManager, AudioManager, AudioCollection, Audio);\n\nAudioCollection.extend(MediaCollection);\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/AudioManager.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/promise.js\n ** module id = 75\n ** module chunks = 0\n **/","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/_core').Promise;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/promise.js\n ** module id = 76\n ** module chunks = 0\n **/","'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.string.iterator.js\n ** module id = 78\n ** module chunks = 0\n **/","var toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_string-at.js\n ** module id = 79\n ** module chunks = 0\n **/","'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iter-define.js\n ** module id = 80\n ** module chunks = 0\n **/","module.exports = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_library.js\n ** module id = 81\n ** module chunks = 0\n **/","module.exports = require('./_hide');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_redefine.js\n ** module id = 82\n ** module chunks = 0\n **/","module.exports = {};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iterators.js\n ** module id = 83\n ** module chunks = 0\n **/","'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iter-create.js\n ** module id = 84\n ** module chunks = 0\n **/","var def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_set-to-string-tag.js\n ** module id = 85\n ** module chunks = 0\n **/","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\r\nvar has         = require('./_has')\r\n  , toObject    = require('./_to-object')\r\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\r\n  , ObjectProto = Object.prototype;\r\n\r\nmodule.exports = Object.getPrototypeOf || function(O){\r\n  O = toObject(O);\r\n  if(has(O, IE_PROTO))return O[IE_PROTO];\r\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\r\n    return O.constructor.prototype;\r\n  } return O instanceof Object ? ObjectProto : null;\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-gpo.js\n ** module id = 86\n ** module chunks = 0\n **/","require('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/web.dom.iterable.js\n ** module id = 87\n ** module chunks = 0\n **/","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.array.iterator.js\n ** module id = 88\n ** module chunks = 0\n **/","module.exports = function(){ /* empty */ };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_add-to-unscopables.js\n ** module id = 89\n ** module chunks = 0\n **/","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iter-step.js\n ** module id = 90\n ** module chunks = 0\n **/","'use strict';\nvar LIBRARY            = require('./_library')\n  , global             = require('./_global')\n  , ctx                = require('./_ctx')\n  , classof            = require('./_classof')\n  , $export            = require('./_export')\n  , isObject           = require('./_is-object')\n  , anObject           = require('./_an-object')\n  , aFunction          = require('./_a-function')\n  , anInstance         = require('./_an-instance')\n  , forOf              = require('./_for-of')\n  , setProto           = require('./_set-proto').set\n  , speciesConstructor = require('./_species-constructor')\n  , task               = require('./_task').set\n  , microtask          = require('./_microtask')\n  , PROMISE            = 'Promise'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == 'process'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit('rejectionHandled', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function(iter){\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.promise.js\n ** module id = 91\n ** module chunks = 0\n **/","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_classof.js\n ** module id = 92\n ** module chunks = 0\n **/","module.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_an-instance.js\n ** module id = 93\n ** module chunks = 0\n **/","var ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method');\nmodule.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    call(iterator, f, step.value, entries);\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_for-of.js\n ** module id = 94\n ** module chunks = 0\n **/","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iter-call.js\n ** module id = 95\n ** module chunks = 0\n **/","// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_is-array-iter.js\n ** module id = 96\n ** module chunks = 0\n **/","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/core.get-iterator-method.js\n ** module id = 97\n ** module chunks = 0\n **/","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_set-proto.js\n ** module id = 98\n ** module chunks = 0\n **/","var pIE            = require('./_object-pie')\r\n  , createDesc     = require('./_property-desc')\r\n  , toIObject      = require('./_to-iobject')\r\n  , toPrimitive    = require('./_to-primitive')\r\n  , has            = require('./_has')\r\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\r\n  , gOPD           = Object.getOwnPropertyDescriptor;\r\n\r\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\r\n  O = toIObject(O);\r\n  P = toPrimitive(P, true);\r\n  if(IE8_DOM_DEFINE)try {\r\n    return gOPD(O, P);\r\n  } catch(e){ /* empty */ }\r\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-gopd.js\n ** module id = 99\n ** module chunks = 0\n **/","exports.f = {}.propertyIsEnumerable;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_object-pie.js\n ** module id = 100\n ** module chunks = 0\n **/","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./_an-object')\n  , aFunction = require('./_a-function')\n  , SPECIES   = require('./_wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_species-constructor.js\n ** module id = 101\n ** module chunks = 0\n **/","var ctx                = require('./_ctx')\n  , invoke             = require('./_invoke')\n  , html               = require('./_html')\n  , cel                = require('./_dom-create')\n  , global             = require('./_global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./_cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_task.js\n ** module id = 102\n ** module chunks = 0\n **/","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_invoke.js\n ** module id = 103\n ** module chunks = 0\n **/","var global    = require('./_global')\n  , macrotask = require('./_task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./_cof')(process) == 'process'\n  , head, last, notify;\n\nvar flush = function(){\n  var parent, fn;\n  if(isNode && (parent = process.domain))parent.exit();\n  while(head){\n    fn = head.fn;\n    fn(); // <- currently we use it only for Promise - try / catch not required\n    head = head.next;\n  } last = undefined;\n  if(parent)parent.enter();\n};\n\n// Node.js\nif(isNode){\n  notify = function(){\n    process.nextTick(flush);\n  };\n// browsers with MutationObserver\n} else if(Observer){\n  var toggle = true\n    , node   = document.createTextNode('');\n  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n  notify = function(){\n    node.data = toggle = !toggle;\n  };\n// environments with maybe non-completely correct, but existent Promise\n} else if(Promise && Promise.resolve){\n  notify = function(){\n    Promise.resolve().then(flush);\n  };\n// for other environments - macrotask based on:\n// - setImmediate\n// - MessageChannel\n// - window.postMessag\n// - onreadystatechange\n// - setTimeout\n} else {\n  notify = function(){\n    // strange IE + webpack dev server bug - use .call(global)\n    macrotask.call(global, flush);\n  };\n}\n\nmodule.exports = function(fn){\n  var task = {fn: fn, next: undefined};\n  if(last)last.next = task;\n  if(!head){\n    head = task;\n    notify();\n  } last = task;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_microtask.js\n ** module id = 104\n ** module chunks = 0\n **/","var hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_redefine-all.js\n ** module id = 105\n ** module chunks = 0\n **/","'use strict';\nvar global      = require('./_global')\n  , core        = require('./_core')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_set-species.js\n ** module id = 106\n ** module chunks = 0\n **/","var ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/_iter-detect.js\n ** module id = 107\n ** module chunks = 0\n **/","'use strict';\n/**\n * Defines an Object type using a named constructor function.\n * @module\n */\n\n/**\n * Constructs an object with methods bound to a context.\n * @arg {object} _from - Object with methods to bind.\n * @arg {object} _to - Context which methtods should be bound to.\n */\nfunction Bindings(_from, _to) {\n  var method;\n\n  // pull all methods from the prototype chain.\n  for (method in _from) {\n    if (typeof _from[method] !== 'function') continue;\n    this[method] = _from[method].bind(_to);\n  }\n}\n\n/**\n * Takes an itterable object and convert it into an Array.\n * @arg {object} _itterable\n * @returns {array}\n */\nfunction toArray(_itterable) {\n  return [].map.call(_itterable, function (m) { return m; });\n}\n\n/**\n * Converts a constructor function into an object \"type\". Which addapts the constructor with and interface for creating instsances and extension.\n * @arg {function} _constructor... - any number of constructor functions.\n * @returns The constructor or an object containing all the defined types.\n */\nexport default function type() {\n  var defs, module;\n\n  /**\n   * Constructs an interface which is accesed through the constructors arguments.\n   * These arguments are parsed from the function string and collected into an array.\n   * @arg {function} _constructor\n   * @returns {array} The collection of API functions requested by the constructor.\n   */\n  function createApi(_constructor) {\n    var args, api;\n\n    // Matches the names of the arguments defined in the source of the function.\n    // [^\\(\\)\\.\\s,]+ captures one or more of any character which is NOT a parenthetical, period, white-space character, or comma.\n    // It then takes that rule and looks for multiple intances w/o spaces or commas around it, which would be encased in parenthensies.\n    // NOTE: since this regex is not matching globally, it will not match any argument clusters past the function definition.\n    args = (Function.prototype.toString.call(_constructor).match(/\\(((?:\\s*[^\\(\\)\\.\\s,]+\\s*,?)+)\\)/) || ['', ''])[1].split(/\\s*,\\s*/);\n    api = {\n      /**\n       * Invokes the specified method closest in the prototype chain. Allowing you to still invoke a method which was overridden.\n       *\n       * @arg {object} _obj - The context which to find the parent function.\n       * @arg {string} _name - The method name.\n       * @arg {array} _args - A collection of arguments to invoke the method with\n       * @returns {*} Whatever the caller returns.\n       *\n       * @example\n       * Car.extend(function Ford (proto) {\n       *     this.drive = function () {\n       *         proto(this, 'drive', arguments);\n       *         // do some opps.\n       *     };\n       * });\n       */\n      proto: function (_obj, _name, _args) {\n        var proto, method;\n\n        proto = Object.getPrototypeOf(this || _obj);\n        method = proto[_name];\n\n        if (typeof _obj[_name] !== 'function') {\n          throw new TypeError('Member ' + _name + ' is not a function.');\n        }\n\n        if (method) {\n          // Does _obj's prototype have the method and it's not the same reference as _obj.\n          if (proto.hasOwnProperty(_name) && _obj[_name] !== proto[_name]) {\n            return _args ? method.apply(_obj, _args) : method.bind(_obj);\n          }\n\n          // Otherwise, walk the prototype chain to find the prototype that has the parent method.\n          while (proto) {\n            if (proto.hasOwnProperty(_name) && _obj[_name] !== proto[_name]) {\n              return _args ? method.apply(_obj, _args) : method.bind(_obj);\n            }\n\n            proto = Object.getPrototypeOf(proto);\n          }\n        } else {\n          return new Bindings(proto, _obj);\n        }\n      },\n      /**\n       * Invokes the specified method which lives on the object type's prototype.\n       * If your instance overrides the object types method, or your many prototype\n       * levels away from the base prototype, this lets you track back to the original.\n       *\n       * @arg {object} _obj - The context which to find the parent function.\n       * @arg {string} _name - The method name.\n       * @arg {array} _args - A collection of arguments to invoke the method with\n       * @returns {*} Whatever the caller returns.\n       */\n      base: function (_obj, _name, _args) {\n        var proto, method;\n\n        proto = _constructor.prototype;\n        method = proto[_name];\n\n        if (typeof method !== 'function') {\n          throw new TypeError('Member ' + _name + ' is not a function.');\n        }\n\n        if (method) {\n          return _args ? method.apply(_obj, _args) : method.bind(_obj);\n        } else {\n          return new Bindings(proto, _obj);\n        }\n      },\n      /**\n       * Invokes the specified method on the object type's super type or parent type (i.e. Ford extending Car).\n       * @arg {object} _obj - The context which to find the parent function.\n       * @arg {string} _name - The method name.\n       * @arg {array} _args - A collection of arguments to invoke the method with\n       * @returns {*} Whatever the caller returns.\n       */\n      sup: function (_obj, _name, _args) {\n        return api.proto.apply(_constructor.prototype, arguments);\n      },\n      /**\n       * Defines a properpty which is configured `{configureable: false, writeable: false}`.\n       * @arg {object} _obj - The context which to define members.\n       * @arg {string} _name - The member name.\n       * @arg {*} _value - The value.\n       * @returns api\n       */\n      constant: function (_obj, _name, _value) {\n        Object.defineProperty(_obj, _name, {\n          value: _value,\n          configureable: false,\n          writeable: false\n        });\n\n        return api;\n      },\n      /**\n       * Defines members on the constructor.\n       * @function static\n       * @overload\n       * @arg {string} _name - The member name.\n       * @arg {*} _value - The value.\n       * @returns api\n       */\n\n      /**\n       * Defines members on the constructor.\n       * @arg {object} _def - An object with members to mixin.\n       * @returns api\n       */\n      static: function (_name_def, _value) {\n        var member, _name, _def;\n\n        _value ? _name = _name_def : _def = _name_def;\n\n        if (_def) {\n          for (member in _def) {\n            if (!_def.hasOwnProperty(member)) continue;\n            _constructor[member] = _def[member];\n          }\n        }\n\n        if (_name) {\n          _constructor[_name] = _value;\n        }\n\n        return api;\n      },\n      /**\n       * A pretty way of define the interface of your object type.\n       *\n       * You may pass any number of arguments as functions or strings.\n       *\n       * **Example**\n       * ```javascript\n       * function Car ($) {$(\n       *     // Defines a member assigned to `null`.\n       *     'name',\n       *     // Defines members with values as a string and number. Keep in mind these are put on the prototype.\n       *     'engineType = \"standard\", speed = 0',\n       *\n       *     // Define instance members.\n       *     function alloc (_name) {\n       *         this.name = _name;\n       *     },\n       *\n       *     function drive () {\n       *         this.speed += 1;\n       *     }\n       * )}\n       * ```\n       *\n       * One benefit to this interface is that all your methods are named so you have easy access for recursive programs.\n       * @arg {string|function} _def - A string of property definitions or a named function.\n       * @todo Support property assignment in alloc. Micah: 2/24/2016\n       */\n      $: function () {\n        var args = toArray(arguments);\n\n        args.forEach(function (_member) {\n          var memberType, props, key;\n\n          memberType = typeof _member;\n\n          switch (memberType) {\n          case 'string':\n            props = _member.split(/\\s*,\\s*/);\n\n            if (props) {\n                props.forEach(function (_def) {\n                  var prop, val;\n\n                  prop = _def.split(/\\s*[:=]\\s*/);\n                  try { val = JSON.parse(prop[1]); } catch(e) {}\n                  _constructor.prototype[prop[0]] = (typeof prop[1] !== 'undefined') ? val || prop[1] : null;\n                });\n              }\n            break;\n\n          case 'object':\n            for (key in _member) {\n                if (!_member.hasOwnProperty(key)) continue;\n                _constructor.prototype[key] = _member[key];\n              }\n            break;\n\n          case 'function':\n            if (!_member.name) throw TypeError('Member must be a named function.');\n            _constructor.prototype[_member.name] = _member;\n            break;\n          }\n        });\n\n        return api;\n      }\n    };\n\n    return args.map(function (_call) {\n      return api[_call] || module[_call];\n    });\n  }\n\n  defs = toArray(arguments);\n  module = (!this) ? {} : this;\n\n  defs.forEach(function (_constructor) {\n    var api;\n\n    if (typeof _constructor === 'object') {\n      var Super, keys = Object.keys(_constructor);\n\n      if (keys.length === 1 && module[keys[0]]) {\n        Super = module[keys[0]];\n        return Super.extend.call(module, _constructor[keys[0]]);\n      }\n    }\n\n    api = createApi(_constructor);\n\n    /**\n     * Creates a new instance of the constructor prototype.\n     * This also invokes the `alloc()` on the instance so you can define instance props.\n     * @arg {*} ... - Any number of arguments for `alloc()`.\n     * @returns instance\n     */\n    _constructor.create = function () {\n      var instance = Object.create(_constructor.prototype);\n      if (typeof instance.alloc === 'function') instance.alloc.apply(instance, arguments);\n      return instance;\n    };\n\n    /**\n     * Extends the provided constructor prototype.\n     * @arg {function} _definition - Constructor for the object type.\n     * @returns _constructor\n     */\n    _constructor.extend = function (_definition) {\n      _definition.prototype = Object.create(_constructor.prototype, {\n        constructor: {\n          value: _definition,\n          enumerable: false,\n          writeable: false,\n          configureable: false\n        }\n      });\n\n      return type.call(this === _constructor ? null : this, _definition);\n    };\n\n    _constructor.apply(_constructor.prototype, api);\n\n    module[_constructor.name] = _constructor;\n  });\n\n  return defs.length > 1 ? module : defs[0];\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/type.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/define-property.js\n ** module id = 109\n ** module chunks = 0\n **/","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/define-property.js\n ** module id = 110\n ** module chunks = 0\n **/","var $export = require('./_export');\r\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\r\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.object.define-property.js\n ** module id = 111\n ** module chunks = 0\n **/","/**\n * Base class for a scope acting as an \"entity\" with \"states\", \"behaviors\" and the ability to respond (responsibilities) to behaviors.\n *\n * @module\n */\nimport util from 'util';\nimport GlobalScope from 'types/GlobalScope';\nimport Collection from 'types/Collection';\nimport { Point, Size } from 'types/Dimensions';\nimport Queue from 'types/Queue';\n\nfunction invokeResponsibilities(_scope, _event) {\n  if (_scope && _scope.responsibilities && _scope.isMemberSafe('responsibilities')) {\n    _scope.responsibilities.forEach(function (_record) {\n      if (_record.name === _event.name) {\n\n        // console.log(_scope.id(), 'respond', _record.name, 'from', _event.targetScope.id());\n        _record.ability.call(_scope, _event);\n      }\n    });\n  }\n}\n\n/**\n * <span class=\"note important\">NOTE: This is NOT a constructor. Use `Entity.create()` to get a new instance.</span>\n * @classdesc Base class for a scope acting as an \"entity\" with \"states\", \"behaviors\" and the ability to respond (responsibilities) to behaviors. For more information on these terms read [this]{@link module:types/Entity}.\n * <style>\n * .tag {\n *   padding: 1px 4px;\n *   border-radius: 4px;\n *\n *   color: #fff;\n *   background-color: #aaa;\n * }\n *\n * .tag.behavior {\n *   background-color: #0ba;\n * }\n *\n * .tag.state {\n *   background-color: #ba0;\n * }\n *\n * .note {\n *   border: solid 1px;\n *   border-radius: 4px;\n *   padding: 1px 4px;\n *   color: #aaa;\n *   background-color: #eee;\n * }\n *\n * .note.important {\n *   color: #b55;\n *   background-color: #fee;\n * }\n * </style>\n *\n * @class\n * @prop {module:types/Collection~Collection} responsibilities - A collection of ResponsibilityRecords for the scope.\n * @prop {boolean} isComplete - Marks a scope as \"complete\" via the [`complete()`]{@link module:types/Entity~Entity#complete} behavior.\n * @extends GlobalScope\n */\nvar Entity = GlobalScope.extend(function () {\n  function resolveTarget(_target) {\n\n    switch (typeof _target) {\n    case 'string': return this.findOwn(_target);\n    case 'object':\n      if (_target.jquery) return _target;\n      if (Entity.isPrototypeOf(_target)) return _target;\n      if (_target.nodeType === document.ELEMENT_NODE) return $(_target);\n    }\n\n    return this;\n  }\n\n  function ResponsibilityRecord(_name, _ability) {\n    this.name = _name;\n    this.ability = _ability;\n  }\n\n  function dragGreeter(_event) {\n    switch (_event.type) {\n    case 'drag-start':\n      this.grab(_event.state);\n      break;\n\n    case 'drag-move':\n      this.dragging(_event.state);\n      break;\n\n    case 'drag-end':\n      this.release(_event.state);\n      break;\n    }\n  }\n\n  function attachDragEvents() {\n    if (this.draggables && this.isMemberSafe('draggables') && this.draggables.length) {\n      this.on('drag-start drag-move drag-end', dragGreeter);\n    }\n  }\n\n  this.baseType = 'TYPE_ENTITY';\n  this.STATE = {\n    PLAYING: 'PLAYING',\n    BACKGROUND: 'BACKGROUND',\n    VOICE_OVER: 'VOICE-OVER',\n    SFX: 'SFX'\n  };\n\n  this.timeoutID = null;\n  this.intervalID = null;\n  this.responsibilities = null;\n  this.isComplete = false;\n  this.shouldInheritAbilities = true;\n  this.frameHandlers = null;\n  this.frameRate = 60; // 60fps\n  this.draggables = null;\n  this.requiredQueue = null;\n  this.bgImageCollection = null;\n\n  this.handleProperty({\n    size: function (_node, _name, _value) {\n      var size;\n\n      if (this.is(_node)) {\n        size = _value.split(/\\s*[x,]\\s*/);\n        this.css({\n          width: size[0],\n          height: size[1] || size[0]\n        });\n      }\n    },\n\n    position: function (_node, _name, _value) {\n      var size;\n\n      if (this.is(_node)) {\n        size = _value.split(/\\s*[x,]\\s*/);\n        this.css({\n          top: size[1] || size[0],\n          left: size[0]\n        });\n      }\n    },\n\n    draggable: function (_node, _name, _value) {\n      if (!this.hasOwnProperty('draggables')) {\n        this.draggables = $();\n      }\n\n      this.draggables.push(_node);\n    },\n\n    bg: function (_node, _name, _value) {\n      var img = new Image();\n\n      if (!this.hasOwnProperty('bgImageCollection')) this.bgImageCollection = [];\n\n      if (this.isMemberSafe('bgImageCollection')) {\n        img.src = _value;\n        this.bgImageCollection.push(img);\n        $(_node).css('background-image', 'url(' + _value + ')');\n      }\n    }\n  });\n\n  this.__init = function (_event) {\n    if (this.bgImageCollection && this.isMemberSafe('bgImageCollection')) {\n      this.watchAssets(this.bgImageCollection);\n    }\n    attachDragEvents.call(this);\n\n    return this.proto();\n  };\n\n  this.size = function () {\n    var size;\n\n    if (arguments.length) {\n      size = Size.create(arguments);\n      this.css(size);\n      return size;\n    }\n\n    return Size.create().set(this.width(), this.height());\n  };\n\n  this.propagateBehavior = function (_event) {\n    var ids;\n\n    ids = [];\n\n    this.findOwn('.pl-scope').each(function (_index, _node) {\n      var $node = $(_node);\n      ids.push($node.id() || $node.address());\n    });\n\n    if (this.hasOwnProperty('entities') && this.entities.length) {\n      // console.log(this.id(), 'propagate', _event.name, 'to', this.entities.length, 'nodes', ids);\n\n      this.entities.forEach(function (_scope) {\n        invokeResponsibilities(_scope, _event);\n        _scope.propagateBehavior(_event);\n      });\n    }\n\n    return this;\n  };\n\n  this.require = function (_entity) {\n    if (!this.hasOwnProperty('requiredQueue')) {\n      this.requiredQueue = Queue.create();\n      this.requiredQueue.on('complete', this.bind(function () {\n        this.log('entity complete');\n        this.complete();\n      }));\n\n      this.respond('complete', function (_event) {\n        if (!this.has(_event.target)) return;\n        if (_event.targetScope === this) return;\n\n        this.requiredQueue.ready(_event.behaviorTarget);\n      });\n    }\n\n    this.requiredQueue.add(_entity);\n    this.gate();\n\n    return this;\n  };\n\n  this.behavior = function (_name, _behavior) {\n    _behavior.method = this[_name] = function () {\n      var behaviorEvent, result;\n\n      behaviorEvent = {\n        name: _name,\n        message: '',\n        targetScope: this,\n        behaviorTarget: this\n      };\n\n      result = _behavior.apply(this, arguments);\n\n      if (typeof result === 'object') {\n        behaviorEvent = util.mixin(behaviorEvent, result);\n      }\n\n      if (result !== false) {\n        this.trigger($.Event('behavior', behaviorEvent));\n      }\n\n      return this;\n    };\n\n    return this;\n  };\n\n  this.respond = function () {\n    var name, ability, parentScope, abilities, protoAbilities;\n\n    if (!this.hasOwnProperty('responsibilities')) {\n      abilities = Collection.create();\n      protoAbilities = this.provideAblilityPototype();\n\n      if (this.shouldInheritAbilities && (protoAbilities && protoAbilities.responsibilities)) {\n        abilities.push.apply(abilities, protoAbilities.responsibilities);\n      }\n\n      this.responsibilities = abilities;\n    }\n\n    if (arguments.length === 1) {\n      switch (typeof arguments[0]) {\n      case 'string': name = arguments[0]; break;\n\n      case 'function':\n      case 'object': ability = arguments[0]; break;\n      }\n    }\n\n    else {\n      name = arguments[0];\n      ability = arguments[1];\n    }\n\n    switch (typeof ability) {\n    case 'object':\n      for (name in ability) {\n          if (!ability.hasOwnProperty(name)) continue;\n\n          this.respond(name, ability[name]);\n        }\n      break;\n\n    case 'function':\n      this.responsibilities.add(new ResponsibilityRecord(name, ability));\n      break;\n    }\n\n    return this;\n  };\n\n  this.delay = function (_time, _cb) {\n    var time = util.toMillisec(_time);\n\n    util.assignRef(this, 'timeoutID', setTimeout(_cb.bind(this), time));\n\n    return this;\n  };\n\n  this.repeat = function (_time, _cb) {\n    var time = util.toMillisec(_time);\n\n    util.assignRef(this, 'intervalID', setInterval(_cb.bind(this), time));\n\n    return this;\n  };\n\n  this.kill = function (_timer) {\n    var id = _timer === 'repeat' ? this.intervalID : this.timeoutID;\n\n    if (typeof id === 'number') {\n      (_timer === 'repeat' ? clearInterval : clearTimeout)(id);\n      this[_timer === 'repeat' ? 'intervalID' : 'timeoutID'] = null;\n    }\n\n    else if (id) {\n      id.forEach(function (_id) {\n        (_timer === 'repeat' ? clearInterval : clearTimeout)(_id);\n      });\n\n      _timer === 'repeat' ? this.intervalID = null : this.timeoutID = null;\n    }\n\n    return this;\n  };\n\n  this.eachFrame = function (_handler, _on) {\n    var binder, frame, lastTime, rate, frames;\n\n    rate = this.frameRate || 1000;\n    frames = 0;\n    lastTime = 0;\n\n    if (!this.hasOwnProperty('frameHandlers') || this.frameHandlers.length === 0) {\n      frame = function (_time) {\n        var i, handler;\n\n        if (rate) {\n          if (_time - lastTime >= (1000 / rate)) {\n            for (i = 0; handler = this.frameHandlers[i]; i += 1) {\n              handler.call(this, _time, Math.round(1000 / (_time - lastTime)), rate);\n            }\n\n            if (frames === rate) frames = 0;\n\n            frames += 1;\n            lastTime = _time;\n          }\n        }\n\n        if (this.frameHandlers.length) {\n          window.requestAnimationFrame(binder);\n        }\n      };\n\n      binder = this.bind(frame);\n\n      // allows methods passed as _handler's to\n      // be able to trace back for proto() callbacks.\n      frame.method = this.eachFrame;\n\n      this.frameHandlers = Collection.create();\n      window.requestAnimationFrame(binder);\n    }\n\n    if (_on !== false) {\n      this.frameHandlers.add(_handler);\n    }\n\n    else {\n      this.frameHandlers.remove(_handler);\n    }\n\n    return this;\n  };\n\n  this.state = function (_flag, _definition, _imp) {\n    var flag, tester, setter, getter, STATE, def, opperations, names;\n\n    if (!_definition) {\n      return this.proto(_flag);\n    }\n\n    def = _definition.split(/\\s+/);\n    names = _flag.split(/\\s+/);\n    opperations = [];\n\n    def.forEach(this.bind(function (_opp) {\n      var method, flag;\n\n      method = (_opp.slice(0, 1) === '+') ? 'addClass' : 'removeClass';\n\n      opperations.push({\n        method: method,\n        flag: _opp.slice(1)\n      });\n\n      if (method === 'addClass') {\n        flag = _opp.slice(1);\n        STATE = util.transformId(flag);\n        this.STATE[STATE] = flag;\n      }\n    }));\n\n    setter = names[0];\n    tester = names[1];\n\n    this[setter] = function (_target) {\n      var target, uiStateEvent, oppsPerformed;\n\n      target = resolveTarget.call(this, _target);\n      uiStateEvent = $.Event('ui-' + setter, {\n        target: target.jquery ? target[0] : target,\n        targetScope: this\n      });\n      oppsPerformed = 0;\n\n      if (_imp && _imp.shouldSet && _imp.shouldSet.apply(this, arguments) === false) {\n        return !!(_imp && _imp.notSet) && _imp.notSet.apply(this, arguments);\n      }\n\n      if (_imp && _imp.willSet) _imp.willSet.apply(this, arguments);\n\n      opperations.forEach(function (_record) {\n        // If we are adding or removing a class, test if the target already has/removed it.\n        // If so, then bump \"oppsPerformed\".\n        oppsPerformed += Number(target.hasClass(_record.flag) === !~_record.method.indexOf('add'));\n        target[_record.method](_record.flag);\n      });\n\n      if (_imp && _imp.didSet) _imp.didSet.apply(this, arguments);\n\n\n      if (oppsPerformed) {\n        this.trigger(uiStateEvent);\n        return target;\n      }\n\n      return false;\n    };\n\n    if (tester) {\n      getter = 'get' + tester.slice(0, 1).toUpperCase() + tester.slice(1);\n\n      this[tester] = function (_target) {\n        var target;\n\n        target = resolveTarget.call(this, _target);\n\n        return target.hasClass(this.STATE[STATE]);\n      };\n\n      this[getter] = function () {\n        return this.findOwn('.' + this.STATE[STATE]);\n      };\n    }\n\n    return this;\n  };\n\n  this.provideBehaviorEventScope = function () {\n    return this;\n  };\n\n  this.provideAblilityPototype = function () {\n    var owner;\n\n    owner = util.getOwner(this, this.baseType);\n\n    return !!owner && owner.object;\n  };\n\n  this.completed = function () {\n    return this.game.demoMode || (this.hasOwnProperty('isComplete') && this.isComplete) || !this.requiredQueue || (this.hasOwnProperty('requiredQueue') && this.requiredQueue.length === 0);\n  };\n\n  /**\n   * <span class=\"tag behavior\">Behavior</span>\n   * Marks a scope \"complete\" by seting `isComplete` to `true` and add the `COMPLETE` state flag.\n   * @function module:types/Entity~Entity#complete\n   * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n   */\n  this.behavior('complete', function () {\n    if (this.hasOwnProperty('isComplete') && this.isComplete) return false;\n\n    this.isComplete = true;\n    this.addClass('COMPLETE');\n\n    return {\n      behaviorTarget: this\n    };\n  });\n\n  /**\n   * <span class=\"tag behavior\">Behavior</span>\n   * Reports a drggable has been grabbed for dragging.\n   * @function module:types/Entity~Entity#grab\n   * @arg {object} _state - An object containing the state of a draggable.\n   * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n   *\n   * @see module:play~pl.game.manager.draggable for more info on draggable state.\n   */\n  this.behavior('grab', function (_state) {\n    return {\n      state: _state,\n      behaviorTarget: _state.$draggable\n    };\n  });\n\n  /**\n   * <span class=\"tag behavior\">Behavior</span>\n   * Reports a draggable as being dragged.\n   * @function module:types/Entity~Entity#dragging\n   * @arg {object} _state - An object containing the state of a draggable.\n   * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n   *\n   * @see module:play~pl.game.manager.draggable for more info on draggable state.\n   */\n  this.behavior('dragging', function (_state) {\n    return {\n      state: _state,\n      behaviorTarget: _state.$draggable\n    };\n  });\n\n  /**\n   * <span class=\"tag behavior\">Behavior</span>\n   * Reports a drggable as released or droped.\n   * @function module:types/Entity~Entity#release\n   * @arg {object} _state - An object containing the state of a draggable.\n   * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n   *\n   * @see module:play~pl.game.manager.draggable for more info on draggable state.\n   */\n  this.behavior('release', function (_state) {\n    return {\n      state: _state,\n      behaviorTarget: _state.$draggable\n    };\n  });\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Adds `OPEN` and removes the `LEAVE` CSS class names from the scope or the given `_target`.\n   * @function module:types/Entity~Entity#open\n   * @fires Entity#ui-open\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns `this`\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Tests if the scope or given `_target` has the `OPEN` class name.\n   * @function module:types/Entity~Entity#opened\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns {Boolean} Open'ness.\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Provides the elements with the `OPEN` class name.\n   * @function module:types/Entity~Entity#getOpened\n   * @returns {jQuery} jQuery collection of matched nodes.\n   * @todo Return scope if available.\n   */\n  this.state('open opened', '+OPEN -LEAVE');\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Removes the `OPEN` CSS class name from the scope or the given `_target`.\n   * @function module:types/Entity~Entity#close\n   * @fires Entity#ui-close\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns `this`\n   */\n  this.state('close', '-OPEN');\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Adds the `LEAVE` CSS class name to the scope or the given `_target`.\n   * @function module:types/Entity~Entity#leave\n   * @fires Entity#ui-leave\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns `this`\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Tests if the scope or given `_target` has the `LEAVE` class name.\n   * @function module:types/Entity~Entity#left\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns {Boolean} Leave'ness.\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Provides the elements with the `LEAVE` class name.\n   * @function module:types/Entity~Entity#getLeft\n   * @returns {jQuery} jQuery collection of matched nodes.\n   * @todo Return scope if available.\n   */\n  this.state('leave left', '+LEAVE', {\n    willSet: function (_target) {\n      this.close(_target);\n    }\n  });\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Adds `ENABLED` and removes the `DISABLED` CSS class names from the scope or the given `_target`.\n   * @function module:types/Entity~Entity#enable\n   * @fires Entity#ui-enable\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns `this`\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Tests if the scope or given `_target` has the `ENABLED` class name.\n   * @function module:types/Entity~Entity#enabled\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns {Boolean} Enabled'ness.\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Provides the elements with the `ENABLED` class name.\n   * @function module:types/Entity~Entity#getEnabled\n   * @returns {jQuery} jQuery collection of matched nodes.\n   * @todo Return scope if available.\n   */\n  this.state('enable enabled', '+ENABLED -DISABLED');\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Adds `DISABLED` and removes the `ENABLED` CSS class names from the scope or the given `_target`.\n   * @function module:types/Entity~Entity#disable\n   * @fires Entity#ui-disable\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns `this`\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Tests if the scope or given `_target` has the `DISABLED` class name.\n   * @function module:types/Entity~Entity#disabled\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns {Boolean} Disabled'ness.\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Provides the elements with the `DISABLED` class name.\n   * @function module:types/Entity~Entity#getDisabled\n   * @returns {jQuery} jQuery collection of matched nodes.\n   * @todo Return scope if available.\n   */\n  this.state('disable disabled', '+DISABLED -ENABLED');\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Adds the `SELECTED` CSS class name to the scope or the given `_target`.\n   * @function module:types/Entity~Entity#select\n   * @fires Entity#ui-select\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns `this`\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Tests if the scope or given `_target` has the `SELECTED` class name.\n   * @function module:types/Entity~Entity#selected\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns {Boolean} Selected'ness.\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Provides the elements with the `SELECTED` class name.\n   * @function module:types/Entity~Entity#getDisabled\n   * @returns {jQuery} jQuery collection of matched nodes.\n   * @todo Return scope if available.\n   */\n  this.state('select selected', '+SELECTED', {\n    willSet: function (_target) {\n      var target, $parent;\n\n      target = resolveTarget.call(this, _target);\n      $parent = target.parent();\n\n      $parent.find('> .SELECTED').each(this.bind(function (_index, _node) {\n        this.deselect(_node);\n      }));\n      $parent.find('> .HIGHLIGHTED').each(this.bind(function (_index, _node) {\n        this.unhighlight(_node);\n      }));\n    }\n  });\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Removes the `SELECTED` CSS class name from the scope or the given `_target`.\n   * @function module:types/Entity~Entity#deselect\n   * @fires Entity#ui-deselect\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns `this`\n   */\n  this.state('deselect', '-SELECTED');\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Adds the `HIGHLIGHTED` CSS class name to the scope or the given `_target`.\n   * @function module:types/Entity~Entity#highlight\n   * @fires Entity#ui-highlight\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns `this`\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Tests if the scope or given `_target` has the `HIGHLIGHTED` class name.\n   * @function module:types/Entity~Entity#highlighted\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns {Boolean} Highlighted'ness.\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Provides the elements with the `HIGHLIGHTED` class name.\n   * @function module:types/Entity~Entity#getHighlighted\n   * @returns {jQuery} jQuery collection of matched nodes.\n   * @todo Return scope if available.\n   */\n  this.state('highlight highlighted', '+HIGHLIGHTED');\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Removes the `HIGHLIGHTED` CSS class name from the scope or the given `_target`.\n   * @function module:types/Entity~Entity#unhighlight\n   * @fires Entity#ui-unhighlight\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns `this`\n   */\n  this.state('unhighlight', '-HIGHLIGHTED');\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Adds the `DRAGGABLE` CSS class name to the scope or the given `_target`.\n   * @function module:types/Entity~Entity#draggable\n   * @fires Entity#ui-draggable\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns `this`\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Tests if the scope or given `_target` has the `DRAGGABLE` class name.\n   * @function module:types/Entity~Entity#dragEnabled\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns {Boolean} Draggable'ness.\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Provides the elements with the `DRAGGABLE` class name.\n   * @function module:types/Entity~Entity#getDragEnabled\n   * @returns {jQuery} jQuery collection of matched nodes.\n   * @todo Return scope if available.\n   */\n  this.state('draggable dragEnabled', '+DRAGGABLE', {\n    didSet: function (_target) {\n      this.translate( resolveTarget.call(this, _target) );\n    }\n  });\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Removes the `DRAGGABLE` CSS class name from the scope or the given `_target`.\n   * @function module:types/Entity~Entity#undraggable\n   * @fires Entity#ui-undraggable\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns `this`\n   */\n  this.state('undraggable', '-DRAGGABLE');\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Adds the `TRANSLATED` CSS class name to the scope or the given `_target`. The target also gets a 2d transform at the given `_point`.\n   * @function module:types/Entity~Entity#translate\n   * @fires Entity#ui-translate\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @arg {module:types/Dimensions~Point} _point - Point object with coordinates {x,y}.\n   * @returns `this`\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Adds the `TRANSLATED` CSS class name to the scope. The scope also gets a 2d transform at the given `_point`.\n   * @function module:types/Entity~Entity#translate\n   * @fires Entity#ui-translate\n   * @arg {module:types/Dimensions~Point} _point - Point object with coordinates {x,y}.\n   * @returns `this`\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Tests if the scope or given `_target` has the `TRANSLATED` class name.\n   * @function module:types/Entity~Entity#translated\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns {Boolean} Translate'ness.\n   */\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Provides the elements with the `TRANSLATED` class name.\n   * @function module:types/Entity~Entity#getTranslated\n   * @returns {jQuery} jQuery collection of matched nodes.\n   * @todo Return scope if available.\n   */\n  this.state('translate translated', '+TRANSLATED', {\n    willSet: function (_target_point, _point) {\n      var point, target;\n\n      target = resolveTarget.call(this, _target_point);\n      point = (!~[_target_point.x, _target_point.y].indexOf(undefined)) ? _target_point : _point;\n\n      if (point) {\n        target.css('transform', 'translateX(' + point.x + 'px) translateY(' + point.y + 'px)');\n      }\n    }\n  });\n\n  /**\n   * <span class=\"tag state\">State</span>\n   * Removes the `TRANSLATED` CSS class name and CSS transform from the scope or the given `_target`.\n   * @function module:types/Entity~Entity#untranslate\n   * @fires Entity#ui-untranslate\n   * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n   * @returns `this`\n   */\n  this.state('untranslate', '-TRANSLATED', {\n    willSet: function () {\n      this.css('transform', 'none');\n    }\n  });\n\n  this.state('gate gated', '+GATED');\n\n});\n\nexport default { Entity, invokeResponsibilities };\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/Entity.js\n **/","/**\n*  Screen\n*  @desc Contains...\n*  @proto Entity\n*/\n\nimport { Entity, invokeResponsibilities } from 'types/Entity';\n\nvar Screen = Entity.extend(function () {\n\n  function attachBehaviorEvent () {\n    this.on('behavior', function (_event) {\n      // console.log('SCREEN GOT', _event.targetScope.id(), _event.name);\n\n      if (this !== _event.targetScope) {\n        invokeResponsibilities(this,  _event);\n      }\n      \n      this.propagateBehavior(_event);\n    });\n  }\n  \n  this.baseType = 'TYPE_SCREEN';\n  this.game = null;\n  this.screen = null;\n\n  this.__init = function () {\n    this.proto();\n\n    if (this.is(pl.game.config('screenSelector'))) {\n      attachBehaviorEvent.call(this);\n    }\n  };\n\n  this.start = function () {\n    this.startAudio();\n    return this;\n  };\n\n  this.stop = function () {\n    this.stopAudio();\n    return this;\n  };\n\n  this.pause = function() {\n    this.pauseMedia();\n    if(this.hasOwnProperty('entities') && this.entities) {\n      this.entities.forEach(function(entity) {\n        if(typeof entity.pause === 'function') entity.pause();\n      });\n    }\n    return this;\n  };\n\n  this.resume = function() {\n    this.resumeMedia();\n    if(this.hasOwnProperty('entities') && this.entities) {\n      this.entities.forEach(function(entity) {\n        if(typeof entity.resume === 'function') entity.resume();\n      });\n    }\n    return this;\n  };\n\n  this.startAudio = function () {\n    if (!this.audio) return;\n    this.audio.background.play();\n    this.audio.voiceOver.play();\n  };\n\n  this.stopAudio = function () {\n    if (!this.audio) return;\n    this.audio.voiceOver.stop('@ALL');\n  };\n\n  this.pauseMedia = function() {\n    if(!this.currentMedia) return;\n    for(var media in this.currentMedia) { \n      if(this.currentMedia.hasOwnProperty(media)) {\n        if(this.currentMedia[media]) this.currentMedia[media].pause();\n      }\n    }\n  };\n\n  this.resumeMedia = function() {\n    if(!this.currentMedia) return;\n    for(var media in this.currentMedia) { \n      if(this.currentMedia.hasOwnProperty(media)) {\n        if(this.currentMedia[media]) this.currentMedia[media].resume();\n      }\n    }\n  };\n\n  this.index = function () {\n    if (this === this.screen) return this.game.screens.indexOf(this);\n    return this.$els.index();\n  };\n\n  this.next = function () {\n    var nextScreen = this.game.screens[this.screen.index() + 1];\n    var loadingScreen = this.game.screens[this.screen.index() + 2];\n\n    if (!nextScreen.$els.hasClass('preloading') && !nextScreen.$els.hasClass('preloaded')) {\n      nextScreen.$els.addClass('preloading');\n      $('#' + nextScreen.$els.context.id).load(`screens/${nextScreen.$els.context.id}.html`, function () {\n        nextScreen.$els.addClass('preloaded');\n        nextScreen.$els.removeClass('preloading');\n        //pl.game.component.loadAll(function () {\n        //  pl.game.initialize([{id: 'animal-id', implementation: _.noop}]);\n        //}, true);\n        //pl.game.initializeScreen(nextScreen.$els, 'screen-basic');\n        window.magic[nextScreen.id()]();\n      });\n    }\n\n    if (!this.completed() || !nextScreen.$els.hasClass('preloaded')) return false;\n\n    $('#' + loadingScreen.$els.context.id).load(`screens/${loadingScreen.$els.context.id}.html`, function () {\n      loadingScreen.$els.addClass('preloaded');\n      //pl.game.component.loadAll(function () {\n      //  pl.game.initialize([{id: 'animal-id', implementation: _.noop}]);\n      //}, true);\n      //pl.game.initializeScreen(loadingScreen.$els, 'screen-basic');\n      window.magic[loadingScreen.id()]();\n    });\n\n    return nextScreen;\n  };\n\n  this.prev = function () {\n    return this.game.screens[this.screen.index()-1];\n  };\n\n  this.quit = function () {\n    this.game.quit.open();\n  };\n\n  this.nextSib = function () {\n    return $.fn.next.apply(this.$els, arguments);\n  };\n\n  this.prevSib = function () {\n    return $.fn.prev.apply(this.$els, arguments);\n  };\n\n  this.isLast = function () {\n    return this.game.screens.indexOf(this.screen) === this.game.screens.length-1;\n  };\n\n});\n\nexport default Screen;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/Screen.js\n **/","/**\n * Node scope for the top level game node.\n */\nimport util from 'util';\nimport game from 'play.game';\nimport GlobalScope from 'types/GlobalScope';\nimport Screen from 'types/Screen';\nimport Collection from 'types/Collection';\nimport { createEntity } from 'types/Scope';\nimport { Size } from 'types/Dimensions';\nimport { MediaManager } from 'types/AudioManager';\n\nvar Game = GlobalScope.extend(function () {\n\n  var Viewport, screenPrototype, platformEventHandler;\n\n  /**\n   * Detects the device and adds the appropriate state classes.\n   */\n  function detechDevice() {\n    var deviceClasses = \"\";\n\n    if(iOS()) deviceClasses += \"iOS \";\n    if(mobileOrTablet()) deviceClasses += \"MOBILE \";\n\n    this.addClass(deviceClasses);\n  }\n\n  function iOS() {\n    var iDevices = [\n      'iPad Simulator',\n      'iPhone Simulator',\n      'iPod Simulator',\n      'iPad',\n      'iPhone',\n      'iPod'\n    ];\n\n    if (!!navigator.platform) {\n      while (iDevices.length) {\n        if (navigator.platform === iDevices.pop()){ return true; }\n      }\n    }\n\n    return false;\n  }\n\n  function mobileOrTablet() {\n    var check = false;\n    (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))check = true})(navigator.userAgent||navigator.vendor||window.opera);\n    return check;\n  }\n\n  /**\n   * Scales the game view to fill the browser window.\n   */\n  function scaleGame () {\n    var vpSize, gameDimensions, width, height, zoom;\n\n    vpSize = this.viewport.size();\n    gameDimensions = game.config('dimensions');\n    width = gameDimensions.width || this.width();\n    height = Math.round(gameDimensions.width / gameDimensions.ratio);\n    zoom = this.viewport.width / width;\n\n    if (Math.round(height * zoom) > this.viewport.height) {\n      zoom = (this.viewport.height / height).toPrecision(4);\n    }\n\n    util.mixin(this.node().style, {\n      width: width+'px',\n      zoom: zoom\n    });\n\n    if (!this.css('zoom')) {\n      this.css({\n        transform: 'scale('+zoom+')',\n        transformOrigin: (zoom < 1 ? '0px' : '50%')+' 0px 0px',\n        height: this.viewport.height / zoom\n      });\n    }\n\n    this.zoom = zoom;\n  }\n\n  function demoMode (_set) {\n    this.demoMode = _set != null ? _set : !this.demoMode;\n    this[this.demoMode ? 'addClass' : 'removeClass']('DEMO');\n\n    console.info(this.id(), 'is now '+(this.demoMode ? 'in' : 'out of')+' Demo Mode.');\n  }\n\n  function collectVideos () {\n    this.find('video').each(function (_index, _node) {\n      this.media.video.add(_node);\n      \n      _node.onplay = function () {\n        var playing = this.media.playing('.background, .voiceOver');\n        if (playing) playing.stop('@ALL');\n        this.log('video play', playing);\n      }.bind(this);\n    }.bind(this));\n  }\n\n  screenPrototype = Screen;\n  platformEventHandler = new (function () {\n    \n    this.invoke = function (_event, _ctx) {\n      if (typeof this[_event.name] === 'function') {\n        this[_event.name].call(_ctx, _event);\n      }\n    };\n\n    this['toggle-demo-mode'] = function (_set) {\n      demoMode.call(this);\n    };\n  });\n\n  this.baseType = 'TYPE_GAME';\n  this.screens = null;\n  this.zoom = 1;\n  this.keyCommands = null;\n  this.demoMode = false;\n  this.media = null;\n  this.viewport = new (function () {\n    var vp, $html, RESIZE_HANDLERS;\n\n    vp = this;\n    $html = $('html');\n    RESIZE_HANDLERS = [];\n\n    $(window).on('resize', function (_event) {\n      if (!$html.hasClass(vp.orientation)) {\n        $html\n          .removeClass('squareish landscape protrait')\n          .addClass(vp.orientation);\n      }\n\n      RESIZE_HANDLERS.forEach(function (_handler) {\n        _handler(_event);\n      });\n    });\n\n    this.LANDSCAPE = 'landscape';\n    this.PROTRAIT = 'protrait';\n    this.SQUAREISH = 'squareish';\n    \n    this.size = function () {\n      return Size.create().set(window.innerWidth, window.innerHeight);\n    };\n\n    Object.defineProperties(this, {\n      width: {\n        get: function () {\n          return window.innerWidth;\n        },\n\n        configurable: false\n      },\n\n      height: {\n        get: function () {\n          return window.innerHeight;\n        },\n\n        configurable: false\n      },\n\n      orientation: {\n        get: function () {\n          var ratio = this.size().ratio();\n\n          switch (true) {\n            case ratio > 0.9 && ratio < 1.1: return 'squareish';\n            case ratio > 1.1: return 'landscape';\n            case ratio < 0.9: return 'protrait';\n          }\n        }\n      }\n    });\n\n    this.onResize = function (_handler) {\n      RESIZE_HANDLERS.push(_handler);\n    };\n\n    this.offResize = function (_handler) {\n      var index = RESIZE_HANDLERS.indexOf(_handler);\n\n      if (~index) RESIZE_HANDLERS.splice(index, 1);\n    };\n\n    $html.addClass(this.orientation);\n\n  });;\n\n  this.willInit = function () {\n    this.addClass('pl-game');\n\n    detechDevice.call(this);\n    scaleGame.call(this);\n    this.watchAudio();\n    this.captureScreens();\n\n    this.viewport.onResize(this.bind(scaleGame));\n\n    pl.game.on('platform-event', this.bind(function (_event) {\n      platformEventHandler.invoke(_event, this);\n    }));\n\n    window.addEventListener('load', window.focus);\n    window.addEventListener('focus', function() {\n      this.resume();\n    }.bind(this));\n    window.addEventListener('blur', function() {\n      this.pause();\n    }.bind(this));\n\n    return this;\n  };\n\n  /**\n   * Watch for specific keys or combination of keys. NOTE: meta key commands DO NOT support chords (i.e. meta+K,B).\n   * ### Key Names\n   * - *meta*: Command (aka Apple  or win)\n   * - *alt*: Alt (aka Option )\n   * - *shift*: Shift \n   * - *ctrl*: Control ^\n   * - *enter*: Enter or Return\n   * - *esc*: Escape\n   * - *left*: Left arrow\n   * - *up*: Up arrow\n   * - *right*: Right arrow\n   * - *down*: Down arrow\n   *\n   * ### Example\n   * ```javascript\n   * // Overriding print.\n   * this.game.onKeys('cmd+P', printHandler);\n   *\n   * // Holding Control and pressing \"K\" then \"B\"\n   * this.game.onKeys('ctrl+K,B', handler);\n   * ```\n   * @arg {string} _commands - The key or sequence of keys.\n   * @arg {function} _handler - Your event handler for when you key pattern is matched.\n   * @returns `this`\n   */\n  this.onKeys = function (_commands, _handler) {\n    var sequence, chords, modifiers, map;\n\n    if (!this.keyCommands) {\n      this.keyCommands = {};\n\n      map = {\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        27: 'esc',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        91: 'meta',\n        enter: 13,\n        shift: 16,\n        ctrl : 17,\n        alt  : 18,\n        esc  : 27,\n        left : 37,\n        up   : 38,\n        right: 39,\n        down : 40,\n        meta : 91\n      };\n\n      modifiers = [16, 17, 18, 91];\n      sequence = [];\n      chords = [];\n\n      this.on('keydown', function (_event) {\n        var modifier, key, eventMods, currentMods, command, handler;\n\n        modifier = (!!~modifiers.indexOf(_event.keyCode)) && map[_event.keyCode];\n        key = (modifier) ? modifier : map[_event.keyCode] || String.fromCharCode(_event.keyCode);\n        eventMods = [_event.shiftKey, _event.ctrlKey, _event.altKey, _event.metaKey];\n        currentMods = [];\n\n        // Collect the modifiers the event says are still down.\n        eventMods.forEach(function (_modifierDown, _index) {\n          // use the modifier name\n          if (_modifierDown) currentMods.push(map[modifiers[_index]]);\n        });\n\n        // Don't add keys we already have during rapid-fire events\n        if (~chords.indexOf(key) || ~sequence.indexOf(key)) return;\n\n        // Construct the command\n        command = chords.length ?\n          (chords.push(key), chords.join(',')) :\n          (sequence.push(key), sequence.join('+'));\n\n        handler = this.keyCommands[command];\n\n        if (handler) {\n          handler.call(this, _event, command);\n          // Keep current modifiers.\n          sequence = currentMods.map(function (_key, _index) {\n            var key = sequence[_index];\n            return currentMods[currentMods.indexOf(key)];\n          });\n          chords = [];\n\n          // Override original key command (i.e. meta+Q).\n          _event.preventDefault();\n        }\n      });\n\n      this.on('keyup', function (_event) {\n        var key, index, modifier, eventMods, currentMods;\n\n        key = (modifier) ? modifier : map[_event.keyCode] || String.fromCharCode(_event.keyCode);\n        index = sequence.indexOf(key);\n        modifier = (!!~modifiers.indexOf(_event.keyCode)) && map[_event.keyCode];\n        // Follows the same index order as \"modifiers\" [16, 17, 18, 91]\n        eventMods = [_event.shiftKey, _event.ctrlKey, _event.altKey, _event.metaKey];\n        currentMods = [];\n\n        // Collect the modifiers the event says are still down.\n        eventMods.forEach(function (_modifierDown, _index) {\n          // use the modifier name\n          if (_modifierDown) currentMods.push(map[modifiers[_index]]);\n        });\n\n        // If the key released is a modifier...\n        if (key === modifier) {\n          // ...keep current modifiers...\n          sequence = currentMods.map(function (_key, _index) {\n            var key = sequence[_index];\n            return currentMods[currentMods.indexOf(key)];\n          });\n          // ...clear registered chords.\n          chords = [];\n        }\n\n        else {\n          // If we had pressed more than one key...\n          if (sequence.length > 1) {\n            // Check if the first is a modifier then switch to chord capturing\n            if (~modifiers.indexOf(map[sequence[0]])) {\n              chords.push(sequence.join('+'));\n            }\n          }\n          \n          if (~index) sequence.splice(index, 1);\n          if (!sequence.length) chords = [];\n        }\n      });\n    }\n\n    this.keyCommands[_commands] = _handler;\n\n    return this;\n  };\n\n  this.screen = function (_id, _implementation) {\n    var prototype, selector, screenSelector, instance;\n\n    if (arguments.length === 1 && typeof _id === 'function') {\n      screenPrototype = Screen.extend(_id);\n      return this;\n    }\n\n    if (!this.hasOwnProperty('screens')) this.screens = Collection.create();\n\n    if (this.hasOwnProperty('$els')) {\n      screenSelector = pl.game.config('screenSelector');\n      prototype = (screenPrototype.isPrototypeOf(this)) ? this : screenPrototype;\n      selector = (typeof _id === 'number') ? screenSelector+':nth-child('+(_id+1)+')' : '#'+_id;\n      instance = prototype.extend(_implementation).initialize(this.find(selector));\n\n      instance.screen = instance;\n      if (!instance.game) {\n        instance.game = instance.closest('.pl-game').scope();\n      }\n    } else {\n      this.screens.push({\n        index: (typeof _id === 'number') ? _id : null,\n        name: (typeof _id === 'string') ? _id : null,\n        implementation: _implementation\n      });\n    }\n\n    return this;\n  };\n\n  this.captureScreens = function () {\n    var screenSelector, prototype, collection, nextScreen;\n\n    screenSelector = pl.game.config('screenSelector');\n    prototype = (screenPrototype.isPrototypeOf(this)) ? this : screenPrototype;\n    collection = [];\n    \n    this.findOwn(screenSelector).each(this.bind(function (_index, _node) {\n      var $node, screen, record, key, id, index, component;\n\n      $node = $(_node);\n      id = $node.id();\n      key = (id) ? 'name' : (id = _index, 'index');\n      record = this.screens && this.screens.get(id, key);\n      component = $node.attr('pl-component');\n      screen = createEntity.call(prototype, $node, record && record.implementation);\n      screen.screen = screen;\n      screen.game = this;\n\n      if ($node.attr('pl-skip') == null) {\n          collection.push(screen);\n          if (_index === 1) {\n            nextScreen = screen;\n          }\n      }\n\n      if (key === 'name' || component) {\n        util.assignRef(this, util.transformId((key === 'name' && id) || component, true), screen);\n      }\n    }));\n\n    if (collection.length)  {\n        this.screens = collection;\n        //MPR, 4/26/16: Hmm. This doesnt _feel_ like the right time to be loading a screen, but it is the\n        // first time they will be available\n\n        //nextScreen.$els.addClass('preloading');\n        //$('#' + nextScreen.$els.context.id).load(`screens/${nextScreen.$els.context.id}.html`, function () {\n        //  nextScreen.$els.addClass('preloaded');\n        //  nextScreen.$els.removeClass('preloading');\n          //game.initializeScreen(nextScreen.$els, 'screen-basic');\n        //  window.magic[nextScreen.id()]();\n        //});\n    }\n\n    return this;\n  };\n\n  this.watchAudio = function () {\n    this.media = MediaManager.create(this.id());\n\n    /**\n     * Prevent duplicate playback of voiceOvers and backgrounds.\n     */\n    this.media.rule('.background, .voiceOver', 'shouldPlay', function (_event) {\n      var playing = this.playing() || [];\n      // shouldPlay = false if _event.target is already playing.\n      _event.response(!playing || !playing.length || (!~playing.indexOf(_event.target) && !playing.has(_event.target.fileName)));\n    });\n\n    /**\n     * \n     */\n    this.media.rule('.voiceOver', function (_event) {\n      var audio, playing;\n\n      audio = _event.target;\n      playing = audio && this.playing('.audio:not(#'+audio.id()+')');\n\n      switch (_event.type) {\n        case 'play':\n          if (playing) {\n            playing.filter('.voiceOver').stop('@ALL');\n            playing.filter('.background').volume(game.config('bgVolume.drop') || 0.2);\n          }\n          break;\n\n        case 'pause':\n        case 'stopped':\n        case 'ended':\n          if (playing) playing.filter('.background').volume(game.config('bgVolume.max') || 1);\n          break;\n      }\n    });\n\n    this.media.rule('.background', 'play', function (_event) {\n      var playing = this.playing('.background:not(#'+_event.target.id()+')');\n      if (playing) playing.stop('@ALL');\n    });\n\n    if (~pl.EVENT.ACTION.indexOf('touch')) {\n      this.on(pl.EVENT.ACTION, function beginAudio(_event) {\n        //MPR, ll-trace 5.5: Checking what events this responds to\n        //Evidently none? Is this how we are starting audio on devices\n        //that require user input? Hmm.\n        var ctx, screen;\n\n        ctx = game.getAudioContext();\n        screen = this.currentScreen();\n\n        if (screen && ctx && ctx.state === 'suspended') {\n          game.enableAudioContext();\n          this.log('awesome!');\n          screen.startAudio();\n          this.off(pl.EVENT.ACTION, beginAudio);\n        }\n      });\n    }\n\n    collectVideos.call(this);\n  };\n\n  this.progress = function () {\n    return {\n      currentScreen: this.currentScreen().index()\n    };\n  };\n\n  this.currentScreen = function () {\n    return this.findOwn(pl.game.config('screenSelector')+'.OPEN').not('#quit').scope();\n  };\n\n  this.flip = function () {\n    console.log('THATS A FLIP!');\n    game.report.flip(this);\n  };\n\n  this.pause = function(quitScreen) {\n    if(!quitScreen) this.addClass('PAUSED');\n    this.screens.forEach(function(screen) {\n      if(screen.state(screen.STATE.OPEN)) {\n        screen.pause();\n      }\n    });\n    game.getAudioContext().suspend();\n  }\n\n  this.resume = function() {\n    this.removeClass('PAUSED');\n    this.screens.forEach(function(screen) {\n      if(screen.state(screen.STATE.OPEN)) screen.resume();\n    });\n    if(!this.hasClass('QUIT-SCREEN')) game.getAudioContext().resume();\n  }\n\n  this.exit = function () {\n    console.log('GOODBYE!');\n    game.report.exit(this);\n  };\n\n  /**\n   * Demo mode key command\n   */\n  this.onKeys('ctrl+D,M', function () {\n    demoMode.call(this);\n  });\n\n  /**\n   * Keyboard screen navigation\n   */\n  this.onKeys('left', function () {\n    var current;\n\n    current = this.currentScreen();\n\n    if (current) current.prev();\n  });\n\n  this.onKeys('right', function () {\n    var current;\n\n    current = this.currentScreen();\n    \n    if (current) current.next();\n  });\n\n});\n\nexport default Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/types/Game.js\n **/","/**\n * API for communicaion between a game and the platform.\n *\n * @module\n */\nimport util from 'util';\n\nvar platform = new (function () {\n\n  function createEvent(_name, _props) {\n    var eventObject;\n\n    eventObject = util.mixin(new Event('game-event', {bubbles: true, cancelable: false}), {\n      name: _name,\n      respond: function (_data) {\n        var platformEvent;\n\n        platformEvent = $.Event('platform-event', {\n          name: _name,\n          gameData: _data\n        });\n\n        pl.game.trigger(platformEvent);\n      }\n    }, _props);\n\n    return eventObject;\n  }\n\n  this.EVENT_INIT = 'init';\n  this.EVENT_SAVE = 'save';\n  this.EVENT_EXIT = 'exit';\n  this.EVENT_FLIPPED = 'flipped';\n\n  this.emit = function (_name, data) {\n    if (window.frameElement) window.frameElement.dispatchEvent(createEvent(_name, data));\n  };\n\n  this.saveGameState = function (_data) {\n    if (window.frameElement) window.frameElement.dispatchEvent(createEvent(this.EVENT_SAVE, { gameData: _data }));\n  };\n\n  window.addEventListener('platform-event', function (_event) {\n    var platformEvent;\n\n    platformEvent = $.Event('platform-event', {\n      name: _event.name\n    });\n\n    pl.game.trigger(platformEvent);\n  });\n\n});\n\nexport default platform;\n\n\n\n/** WEBPACK FOOTER **\n ** ./source/platform.js\n **/"],"sourceRoot":""}