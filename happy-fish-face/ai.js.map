{"version":3,"sources":["webpack:///happy-fish-face/ai.js","webpack:///webpack/bootstrap f6a233699be76ffaed0b","webpack:///./happy-fish-face/source/js/components/audio-sequence/behavior.js","webpack:///./happy-fish-face/source/js/components/bubbles/behavior.js","webpack:///./happy-fish-face/source/js/components/modal/behavior.js","webpack:///./happy-fish-face/source/js/components/multiple-choice/behavior.js","webpack:///./happy-fish-face/source/js/components/reveal/behavior.js","webpack:///./happy-fish-face/source/js/components/score/behavior.js","webpack:///./happy-fish-face/source/js/components/screen-basic/behavior.js","webpack:///./happy-fish-face/source/js/components/screen-quit/behavior.js","webpack:///./happy-fish-face/source/js/components/selectable-reveal/behavior.js","webpack:///./happy-fish-face/source/js/components/selectable/behavior.js","webpack:///./happy-fish-face/source/js/components/timer/behavior.js","webpack:///./happy-fish-face/source/js/config.game.js","webpack:///./happy-fish-face/source/js/index.js","webpack:///./happy-fish-face/source/js/screens/multi-bubbles.js","webpack:///./happy-fish-face/source/js/screens/trash.js","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","pl","game","component","i","sounds","this","on","_event","is","target","find","map","$","data","toArray","audio","next","screen","state","STATE","OPEN","play","bind","start","item","_id","select","reveal","close","VOICE_OVER","demoMode","deselect","validateAnswer","answers","properties","correct","split","indexOf","String","getSelected","complete","answer","$li","event","closest","vo","index","eq","voiceOver","_this","value","entity","template","images","ready","counter","html","render","image","length","replace","board","up","_count","max","down","willSet","isComplete","rule","_e","response","config","allowAction","nextScreen","buttonSound","proto","util","resolvePath","leave","open","prev","prevScreen","entities","hasOwnProperty","startAudio","sfx","forEach","_entity","isMemberSafe","stop","stopAudio","kill","screenComplete","isReady","gameClass","addClass","removeClass","button","LEAVE","pause","resume","init","okay","exit","cancel","respond","stateMethod","message","select_state","behaviorTarget","shouldSelect","_$target","hasClass","HIGHLIGHTED","behavior","_target","$target","deselectAll","items","unhighlight","testTime","time","Date","now","stamp","timeout","timerComplete","toMillisec","set","eachFrame","restart","stopWatch","text","screenSelector","componentDirectory","dimensions","width","ratio","shouldLoadComponentStyles","_interopRequireDefault","obj","__esModule","default","_screensMultiBubbles","_screensMultiBubbles2","_screensTrash","_screensTrash2","garbage","iosSplash","READY","splash","selectState","delay","requiredQueue","require","incorrect","quit","eventCategory","join","ga","trigger","Event","name","gameData","findOwn","scope","multiBubbles","SELECTER","CORRECT","Queue","create","selectable","_index","_node","add","highlight","score","Object","defineProperty","trash","SELECTOR","$net","mousemove","e","css","left","clientX","zoom","top","clientY","$items","setup","modal","neverThrow","timer","reset","SELECTED","s","o","g","r","a","q","push","arguments","l","createElement","getElementsByTagName","async","src","parentNode","insertBefore","window","document","title","loader","ball","startGame","test","_env","parent","location","href","domain"],"mappings":"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","file":"happy-fish-face/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(13);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tpl.game.component('audio-sequence', function () {\n\t  var i, sounds;\n\t\n\t  this.on('ready', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t\n\t    sounds = this.find('audio').map(function () {\n\t      return $(this).data('context');\n\t    }).toArray();\n\t\n\t    this.audio.on('ended', (function () {\n\t      var next = sounds[i++];\n\t      if (next && this.screen.state(this.screen.STATE.OPEN)) next.play();\n\t    }).bind(this));\n\t  });\n\t\n\t  this.start = function () {\n\t    i = 1;\n\t    if (sounds[0]) sounds[0].play();\n\t  };\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('bubbles', function () {});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tpl.game.component('modal', function () {\n\t\n\t  this.item = function (_id) {\n\t    this.select(this);\n\t    this.reveal.item(_id);\n\t  };\n\t\n\t  this.close = function () {\n\t    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t      this.deselect(this);\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t  this.validateAnswer = function () {\n\t    var answers;\n\t\n\t    if (this.properties.correct) {\n\t      answers = this.properties.correct.split(/\\s*,\\s*/);\n\t\n\t      if (~answers.indexOf(String(this.getSelected().id()))) {\n\t        this.complete();\n\t      }\n\t    }\n\t\n\t    return false;\n\t  };\n\t\n\t  this.answer = function () {\n\t    var $li;\n\t\n\t    if (this.event) {\n\t      $li = $(this.event.target).closest('li');\n\t\n\t      if (this.select($li)) {\n\t        this.validateAnswer();\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t  this.item = function (_id) {\n\t    var vo, index;\n\t\n\t    if (typeof _id === 'number') {\n\t      this.select(this.find('li').eq(_id));\n\t      this.audio.voiceOver[_id].play();\n\t    } else if (typeof _id === 'string') {\n\t      if (this[_id]) {\n\t        this.select(this[_id]);\n\t\n\t        if (this.audio) {\n\t          index = this[_id].index();\n\t          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t          if (vo) vo.play();\n\t        }\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('score', function () {\n\t  var _this = this;\n\t\n\t  this.value = 0;\n\t\n\t  this.entity('board', function () {\n\t\n\t    this.template = null;\n\t    this.images = null;\n\t\n\t    this.ready = function () {\n\t      this.template = this.counter.html();\n\t      this.images = this.find('img');\n\t    };\n\t\n\t    this.render = function () {\n\t      var image;\n\t\n\t      if (this.images.length) {\n\t        image = this.images[this.value];\n\t        this.select(image);\n\t      }\n\t\n\t      this.counter.html(this.template.replace('{{score}}', this.value));\n\t\n\t      return this;\n\t    };\n\t  });\n\t\n\t  this.start = function () {\n\t    _this.value = 0;\n\t    _this.board.render();\n\t  };\n\t\n\t  this.ready = function () {\n\t    this.board.render();\n\t  };\n\t\n\t  this.up = function (_count) {\n\t    this.value += _count || 1;\n\t\n\t    this.board.render();\n\t\n\t    if (this.value >= this.properties.max) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.down = function (_count) {\n\t    this.value -= _count || 1;\n\t\n\t    this.board.render();\n\t\n\t    if (this.value >= this.properties.max) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.state('incomplete', '-COMPLETE', {\n\t    willSet: function willSet() {\n\t      this.isComplete = false;\n\t\n\t      if (this.value >= this.properties.max) {\n\t        this.value = this.properties.max - 1;\n\t      }\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\n\t  this.on('ready', function (_event) {\n\t    if (this.is(_event.target) && this.audio) {\n\t      this.audio.rule('.voiceOver', 'shouldPlay', function (_e) {\n\t        _e.response(!_e.target.config('dontautoplay'));\n\t      });\n\t    }\n\t  });\n\t\n\t  this.allowAction = function () {\n\t    return this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t  };\n\t\n\t  this.next = function () {\n\t    var nextScreen, buttonSound;\n\t\n\t    nextScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (nextScreen) {\n\t      this.leave();\n\t      nextScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t\n\t  this.prev = function () {\n\t    var prevScreen, buttonSound;\n\t\n\t    prevScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (prevScreen) {\n\t      this.screen.close();\n\t      prevScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return prevScreen;\n\t  };\n\t\n\t  this.start = function () {\n\t    var entities = this.hasOwnProperty('entities') && this.entities;\n\t\n\t    this.startAudio();\n\t    if (this.audio) this.audio.sfx.play('start');\n\t\n\t    if (entities) {\n\t      entities.forEach(function (_entity) {\n\t        if (_entity.isMemberSafe('start')) _entity.start();\n\t      });\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.stop = function () {\n\t    var entities = this.hasOwnProperty('entities') && this.entities;\n\t\n\t    this.stopAudio();\n\t    this.kill('delay');\n\t\n\t    if (entities) {\n\t      entities.forEach(function (_entity) {\n\t        if (_entity.isMemberSafe('start')) _entity.stop();\n\t      });\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.stopAudio = function () {\n\t    if (!this.audio) return;\n\t    this.audio.voiceOver.stop('@ALL');\n\t    this.audio.sfx.stop('@ALL');\n\t  };\n\t\n\t  this.complete = function () {\n\t    if (!this.isComplete) this.game.audio.sfx.screenComplete.play();\n\t    return this.proto();\n\t  };\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.is(_event.target)) {\n\t      if (this.isReady) this.start();\n\t\n\t      if (this.properties.gameClass) {\n\t        this.game.addClass(this.properties.gameClass);\n\t      }\n\t    }\n\t  });\n\t\n\t  this.on('ui-leave ui-close', function (_event) {\n\t    if (this.is(_event.target)) {\n\t      this.stop();\n\t\n\t      if (this.properties.gameClass) {\n\t        this.game.removeClass(this.properties.gameClass);\n\t      }\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t  this.buttonSound = function () {\n\t    if (this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n\t  };\n\t\n\t  // TODO: Make an automated way to handle this\n\t  this.on('transitionend', function () {\n\t    if (this.state(this.STATE.LEAVE)) {\n\t      this.addClass('LEAVE-END');\n\t    }\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    this.buttonSound();\n\t    this.game.addClass('QUIT-SCREEN');\n\t    this.removeClass('LEAVE-END');\n\t    this.game.pause(true);\n\t  });\n\t\n\t  this.on('ui-leave', function () {\n\t    this.game.removeClass('QUIT-SCREEN');\n\t    this.game.resume();\n\t  });\n\t\n\t  this.init = function () {\n\t    this.addClass('LEAVE LEAVE-END');\n\t  };\n\t\n\t  this.okay = function () {\n\t    this.buttonSound();\n\t    this.game.exit();\n\t  };\n\t\n\t  this.cancel = function () {\n\t    this.buttonSound();\n\t    this.leave();\n\t  };\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable-reveal', function () {\n\t\n\t  this.respond('select', function (_event) {\n\t    var index, stateMethod;\n\t\n\t    index = _event.message;\n\t    stateMethod = this.properties.select_state || 'select';\n\t\n\t    if (~index) {\n\t      this[stateMethod](_event.behaviorTarget);\n\t      this.reveal.item(index);\n\t    }\n\t  });\n\t\n\t  this.entity('selectable', function () {\n\t\n\t    this.shouldSelect = function (_$target) {\n\t      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n\t        return !this.screen.state(this.STATE.VOICE_OVER);\n\t      }\n\t\n\t      return false;\n\t    };\n\t  });\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t  this.behavior('select', function (_target) {\n\t    var $target, message;\n\t\n\t    if (this.event) {\n\t      $target = $(this.event.target).closest('li');\n\t      message = $target.id() || $target.index();\n\t\n\t      if (this.shouldSelect($target) !== false) {\n\t        return {\n\t          message: message,\n\t          behaviorTarget: $target\n\t        };\n\t      }\n\t    } else {\n\t      this.proto(_target);\n\t    }\n\t\n\t    return false;\n\t  });\n\t\n\t  this.shouldSelect = function (_$target) {\n\t    return this.screen.allowAction() && _$target.is('li');\n\t  };\n\t\n\t  this.deselectAll = function () {\n\t    var items = this.find('li');\n\t    this.deselect(items);\n\t    this.unhighlight(items);\n\t  };\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('timer', function () {\n\t\n\t  function testTime() {\n\t    var time;\n\t\n\t    time = Date.now();\n\t\n\t    if (time >= this.stamp) {\n\t      this.stamp = time + 1000;\n\t      this.time += 1;\n\t\n\t      this.render();\n\t\n\t      if (this.time * 1000 >= this.timeout) {\n\t        this.timerComplete();\n\t      }\n\t    }\n\t  }\n\t\n\t  this.timeout = 0;\n\t  this.time = 0;\n\t  this.stamp = 0;\n\t\n\t  this.timerComplete = function () {\n\t    this.stop().complete();\n\t  };\n\t\n\t  this.init = function () {\n\t    this.timeout = pl.util.toMillisec(this.properties.set);\n\t    return this;\n\t  };\n\t\n\t  this.ready = function () {\n\t    this.screen.on('ui-open', this.bind(function () {\n\t      this.start();\n\t    }));\n\t    return this;\n\t  };\n\t\n\t  this.start = function () {\n\t    this.eachFrame(testTime);\n\t    return this;\n\t  };\n\t\n\t  this.restart = function () {\n\t    this.time = 0;\n\t    this.stamp = 0;\n\t    this.start();\n\t    return this;\n\t  };\n\t\n\t  this.stop = function () {\n\t    this.eachFrame(testTime, false);\n\t    return this;\n\t  };\n\t\n\t  this.pause = this.stop;\n\t\n\t  this.resume = this.start;\n\t\n\t  this.render = function () {\n\t    this.stopWatch.text(this.time);\n\t    return this;\n\t  };\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t  screenSelector: '.screen',\n\t  componentDirectory: 'components/',\n\t  dimensions: {\n\t    width: 960,\n\t    ratio: 16 / 9\n\t  },\n\t  shouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t\n\t__webpack_require__(12);\n\t\n\t// SCREENS\n\t\n\tvar _screensMultiBubbles = __webpack_require__(14);\n\t\n\tvar _screensMultiBubbles2 = _interopRequireDefault(_screensMultiBubbles);\n\t\n\tvar _screensTrash = __webpack_require__(15);\n\t\n\tvar _screensTrash2 = _interopRequireDefault(_screensTrash);\n\t\n\t// COMPONENTS\n\t\n\t__webpack_require__(17);\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(18);\n\t\n\t__webpack_require__(16);\n\t\n\tpl.game('happy-fish-face', function () {\n\t\n\t  var garbage = function garbage() {\n\t    this.on('ui-open', function () {\n\t      this.game.addClass('garbage');\n\t    });\n\t\n\t    this.on('ui-close ui-leave', function () {\n\t      this.game.removeClass('garbage');\n\t    });\n\t  };\n\t\n\t  this.screen('title', function () {\n\t\n\t    this.on('ready', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t\n\t      if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t    });\n\t\n\t    this.entity('.fish', function () {\n\t      this.on('animationend', function (_event) {\n\t        if (!this.is(_event.target) || !this.screen.allowAction()) return;\n\t        this.complete();\n\t      });\n\t    });\n\t  });\n\t\n\t  this.screen('you-feel', function () {\n\t    garbage.call(this);\n\t\n\t    this.respond('select', function (_event) {\n\t      var id, stateMethod;\n\t\n\t      id = _event.message;\n\t      stateMethod = this.properties.selectState || 'select';\n\t\n\t      if (id != null) {\n\t        this.audio.sfx.stop('@ALL');\n\t        this.audio.sfx.play(id);\n\t        this[stateMethod](_event.behaviorTarget);\n\t        this.delay('2s', function () {\n\t          this.requiredQueue.ready('select');\n\t        });\n\t      }\n\t    });\n\t\n\t    this.on('ready', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t      this.require('select');\n\t    });\n\t\n\t    this.on('ui-open', function () {\n\t      this.deselect(this.find('.SELECTED'));\n\t    });\n\t  });\n\t\n\t  this.screen('water-pollution', garbage);\n\t\n\t  this.screen('healthy-water', function () {\n\t    garbage.call(this);\n\t\n\t    this.entity('multiple-choice', function () {\n\t      this.validateAnswer = function () {\n\t        var answers;\n\t\n\t        if (this.properties.correct) {\n\t          answers = this.properties.correct.split(/\\s*,\\s*/);\n\t\n\t          if (~answers.indexOf(String(this.getSelected().id()))) {\n\t            this.audio.sfx.correct.play();\n\t            this.complete();\n\t          } else {\n\t            this.audio.sfx.incorrect.play();\n\t          }\n\t        }\n\t\n\t        return false;\n\t      };\n\t    });\n\t\n\t    this.on('ui-open', function () {\n\t      this.deselect(this.find('.SELECTED'));\n\t    });\n\t  });\n\t\n\t  this.screen('clean-water', garbage);\n\t\n\t  this.screen('multi-bubbles', _screensMultiBubbles2['default']);\n\t\n\t  this.screen('trash', _screensTrash2['default']);\n\t\n\t  this.screen('flip', function () {\n\t    this.next = function () {\n\t      this.game.quit.okay();\n\t    };\n\t\n\t    this.complete = function () {\n\t      var eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t\n\t      ga('send', 'event', eventCategory, 'complete');\n\t\n\t      pl.game.trigger($.Event('platform-event', {\n\t        name: 'flip',\n\t        gameData: { id: this.game.id() }\n\t      }));\n\t\n\t      return this.proto();\n\t    };\n\t  });\n\t\n\t  this.exit = function () {\n\t    var screen, eventCategory;\n\t\n\t    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t    eventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t    ga('send', 'event', eventCategory, 'quit');\n\t\n\t    return this.proto();\n\t  };\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\texports['default'] = multiBubbles;\n\t/**\n\t * HFF - multiBubbles Screen\n\t */\n\t\n\tfunction multiBubbles() {\n\t  this.SELECTER = {\n\t    CORRECT: '[pl-correct]'\n\t  };\n\t\n\t  this.on('ready', function (_event) {\n\t    var correct;\n\t\n\t    if (!this.is(_event.target)) return;\n\t\n\t    correct = pl.Queue.create();\n\t\n\t    correct.on('complete', this.bind(function () {\n\t      this.game.audio.sfx.screenComplete.play();\n\t      this.complete();\n\t    }));\n\t\n\t    this.items = this.selectable.find(this.SELECTER.CORRECT).map(function (_index, _node) {\n\t      correct.add($(_node).id());\n\t      return _node;\n\t    }).toArray();\n\t\n\t    this.items.correct = correct;\n\t  });\n\t\n\t  this.respond('select', function (_event) {\n\t    if (~this.items.correct.indexOf(_event.message)) {\n\t      this.audio.voiceOver.play(_event.message);\n\t      this.highlight(_event.behaviorTarget);\n\t      this.score.up(10);\n\t      this.items.correct.ready(_event.message);\n\t    } else {\n\t      this.score.down(10);\n\t      this.audio.sfx.incorrect.play();\n\t    }\n\t  });\n\t\n\t  this.on('ui-open', function (_e) {\n\t    if (!this.is(_e.target)) return;\n\t\n\t    if (this.isComplete) {\n\t      this.unhighlight(this.find('.' + this.STATE.HIGHLIGHTED));\n\t      this.start();\n\t    }\n\t  });\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\texports['default'] = trash;\n\t/**\n\t * HFF - Trash Screen\n\t */\n\t\n\tfunction trash() {\n\t  this.SELECTOR = {\n\t    CORRECT: '[pl-correct]'\n\t  };\n\t\n\t  this.on('ready', function (_event) {\n\t    var $net;\n\t\n\t    if (!this.is(_event.target)) return;\n\t\n\t    $net = this.find('.net');\n\t\n\t    this.mousemove((function (e) {\n\t      $net.css({ left: e.clientX / this.game.zoom - 50, top: e.clientY / this.game.zoom - 65 });\n\t    }).bind(this));\n\t\n\t    this.on('touchstart', (function () {\n\t      this.addClass('TOUCH');\n\t    }).bind(this));\n\t\n\t    this.$items = this.selectable.find(this.SELECTOR.CORRECT);\n\t    this.setup();\n\t\n\t    this.modal.reveal.audio.voiceOver.on('ended', (function (_e) {\n\t      if (this.screen.state(this.STATE.OPEN)) {\n\t        if (_e.target.id() === 'goodJob') this.audio.voiceOver.neverThrow.play();\n\t      }\n\t    }).bind(this.modal.reveal));\n\t  });\n\t\n\t  this.setup = function () {\n\t    var correct = pl.Queue.create();\n\t\n\t    correct.on('complete', this.bind(function () {\n\t      this.timer.stop();\n\t      this.modal.item('goodJob');\n\t      this.addClass('GOOD-JOB');\n\t    }));\n\t\n\t    this.items = this.$items.map(function (_index, _node) {\n\t      correct.add($(_node).id());\n\t      return _node;\n\t    }).toArray();\n\t\n\t    this.unhighlight(this.$items);\n\t\n\t    this.items.correct = correct;\n\t\n\t    this.removeClass('TRY-AGAIN GOOD-JOB');\n\t  };\n\t\n\t  this.reset = function () {\n\t    this.setup();\n\t    this.deselect(this.modal);\n\t    this.timer.restart();\n\t  };\n\t\n\t  this.respond('select', function (_event) {\n\t    if (~this.items.correct.indexOf(_event.message)) {\n\t      this.audio.sfx.correct.play();\n\t      this.highlight(_event.behaviorTarget);\n\t      this.items.correct.ready(_event.message);\n\t    } else {\n\t      this.audio.sfx.incorrect.play();\n\t    }\n\t  });\n\t\n\t  this.entity('timer', function () {\n\t    this.render = function () {\n\t      this.stopWatch.text(this.timeout / 1000 - this.time);\n\t      return this;\n\t    };\n\t\n\t    this.timerComplete = function () {\n\t      this.stop();\n\t      this.screen.modal.item('tryAgain');\n\t      this.screen.addClass('TRY-AGAIN');\n\t    };\n\t  });\n\t\n\t  this.on('ui-open', function (_e) {\n\t    if (!this.is(_e.target)) return;\n\t\n\t    if (this.modal.state(this.STATE.SELECTED)) {\n\t      this.reset();\n\t    }\n\t  });\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\t\tthis.splash();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.splash = function () {\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tif (this.game.hasClass('iOS')) {\n\t\t\t\tthis.open();\n\t\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t\t} else {\n\t\t\t\tthis.game.title.open();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen = this.proto();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tthis.game.audio.sfx.button.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.play('screenComplete');\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.startGame = function () {\n\t\t\tif (!this.hasClass('FINISHED')) return;\n\t\t\tthis.game.addClass('STARTED');\n\t\t\tthis.delay('2.5s', function () {\n\t\t\t\tthis.next();\n\t\t\t});\n\t\t};\n\t\n\t\tthis.on('animationend', function (_e) {\n\t\t\tif (!this.ball.is(_e.target)) return;\n\t\t\tthis.addClass('FINISHED');\n\t\t});\n\t});\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t(function test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t})();\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** happy-fish-face/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f6a233699be76ffaed0b\n **/","pl.game.component('audio-sequence', function () {\n  var i, sounds;\n\n  this.on('ready', function (_event) {\n    if (!this.is(_event.target)) return;\n\n    sounds = this.find('audio').map(function () {\n      return $(this).data('context');\n    }).toArray();\n\n    this.audio.on('ended', function () {\n      var next = sounds[i++];\n      if (next && this.screen.state(this.screen.STATE.OPEN)) next.play();\n    }.bind(this));\n  });\n\n  this.start = function () {\n    i = 1;\n    if (sounds[0]) sounds[0].play();\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/audio-sequence/behavior.js\n **/","pl.game.component('bubbles', function () {});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/bubbles/behavior.js\n **/","pl.game.component('modal', function () {\n\n  this.item = function (_id) {\n    this.select(this);\n    this.reveal.item(_id);\n  };\n\n  this.close = function () {\n    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n      this.deselect(this);\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/modal/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n  this.validateAnswer = function () {\n    var answers;\n\n    if (this.properties.correct) {\n      answers = this.properties.correct.split(/\\s*,\\s*/);\n\n      if (~answers.indexOf(String(this.getSelected().id()))) {\n        this.complete();\n      }\n    }\n\n    return false;\n  };\n\n  this.answer = function () {\n    var $li;\n\n    if (this.event) {\n      $li = $(this.event.target).closest('li');\n\n      if (this.select($li)) {\n        this.validateAnswer();\n      }\n    }\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n  this.item = function (_id) {\n    var vo, index;\n\n    if (typeof _id === 'number') {\n      this.select(this.find('li').eq(_id));\n      this.audio.voiceOver[_id].play();\n    } else if (typeof _id === 'string') {\n      if (this[_id]) {\n        this.select(this[_id]);\n\n        if (this.audio) {\n          index = this[_id].index();\n          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\n          if (vo) vo.play();\n        }\n      }\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/reveal/behavior.js\n **/","pl.game.component('score', function () {\n\n  this.value = 0;\n\n  this.entity('board', function () {\n\n    this.template = null;\n    this.images = null;\n\n    this.ready = function () {\n      this.template = this.counter.html();\n      this.images = this.find('img');\n    };\n\n    this.render = function () {\n      var image;\n\n      if (this.images.length) {\n        image = this.images[this.value];\n        this.select(image);\n      }\n\n      this.counter.html(this.template.replace('{{score}}', this.value));\n\n      return this;\n    };\n\n  });\n\n  this.start = () => {\n    this.value = 0;\n    this.board.render();\n  };\n\n  this.ready = function () {\n    this.board.render();\n  };\n\n  this.up = function (_count) {\n    this.value += _count || 1;\n\n    this.board.render();\n\n    if (this.value >= this.properties.max) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n  this.down = function (_count) {\n    this.value -= _count || 1;\n\n    this.board.render();\n\n    if (this.value >= this.properties.max) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n  this.state('incomplete', '-COMPLETE', {\n    willSet: function () {\n      this.isComplete = false;\n\n      if (this.value >= this.properties.max) {\n        this.value = this.properties.max - 1;\n      }\n    }\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/score/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\n  this.on('ready', function (_event) {\n    if (this.is(_event.target) && this.audio) {\n      this.audio.rule('.voiceOver', 'shouldPlay', function (_e) {\n        _e.response(!_e.target.config('dontautoplay'));\n      });\n    }\n  });\n\n  this.allowAction = function () {\n    return (this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER)) || this.game.demoMode;\n  };\n\n  this.next = function () {\n    var nextScreen, buttonSound;\n\n    nextScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (nextScreen) {\n      this.leave();\n      nextScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return nextScreen;\n  };\n\n  this.prev = function () {\n    var prevScreen, buttonSound;\n\n    prevScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (prevScreen) {\n      this.screen.close();\n      prevScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return prevScreen;\n  };\n\n  this.start = function () {\n    var entities = this.hasOwnProperty('entities') && this.entities;\n\n    this.startAudio();\n    if (this.audio) this.audio.sfx.play('start');\n\n    if (entities) {\n      entities.forEach(function (_entity) {\n        if (_entity.isMemberSafe('start')) _entity.start();\n      });\n    }\n\n    return this;\n  };\n\n  this.stop = function () {\n    var entities = this.hasOwnProperty('entities') && this.entities;\n\n    this.stopAudio();\n    this.kill('delay');\n\n    if (entities) {\n      entities.forEach(function (_entity) {\n        if (_entity.isMemberSafe('start')) _entity.stop();\n      });\n    }\n\n    return this;\n  };\n\n  this.stopAudio = function () {\n    if (!this.audio) return;\n    this.audio.voiceOver.stop('@ALL');\n    this.audio.sfx.stop('@ALL');\n  };\n\n  this.complete = function () {\n    if (!this.isComplete) this.game.audio.sfx.screenComplete.play();\n    return this.proto();\n  };\n\n  this.on('ui-open', function (_event) {\n    if (this.is(_event.target)) {\n      if (this.isReady) this.start();\n\n      if (this.properties.gameClass) {\n        this.game.addClass(this.properties.gameClass);\n      }\n    }\n  });\n\n  this.on('ui-leave ui-close', function (_event) {\n    if (this.is(_event.target)) {\n      this.stop();\n\n      if (this.properties.gameClass) {\n        this.game.removeClass(this.properties.gameClass);\n      }\n    }\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n  this.buttonSound = function () {\n    if (this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n  };\n\n  // TODO: Make an automated way to handle this\n  this.on('transitionend', function () {\n    if (this.state(this.STATE.LEAVE)) {\n      this.addClass('LEAVE-END');\n    }\n  });\n\n  this.on('ui-open', function (_event) {\n    if (!this.is(_event.target)) return;\n    this.buttonSound();\n    this.game.addClass('QUIT-SCREEN');\n    this.removeClass('LEAVE-END');\n    this.game.pause(true);\n  });\n\n  this.on('ui-leave', function () {\n    this.game.removeClass('QUIT-SCREEN');\n    this.game.resume();\n  });\n\n  this.init = function () {\n    this.addClass('LEAVE LEAVE-END');\n  };\n\n  this.okay = function () {\n    this.buttonSound();\n    this.game.exit();\n  };\n\n  this.cancel = function () {\n    this.buttonSound();\n    this.leave();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('selectable-reveal', function () {\n\n  this.respond('select', function (_event) {\n    var index, stateMethod;\n\n    index = _event.message;\n    stateMethod = this.properties.select_state || 'select';\n\n    if (~index) {\n      this[stateMethod](_event.behaviorTarget);\n      this.reveal.item(index);\n    }\n  });\n\n  this.entity('selectable', function () {\n\n    this.shouldSelect = function (_$target) {\n      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n        return !this.screen.state(this.STATE.VOICE_OVER);\n      }\n\n      return false;\n    };\n\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/selectable-reveal/behavior.js\n **/","pl.game.component('selectable', function () {\n\n  this.behavior('select', function (_target) {\n    var $target, message;\n\n    if (this.event) {\n      $target = $(this.event.target).closest('li');\n      message = $target.id() || $target.index();\n\n      if (this.shouldSelect($target) !== false) {\n        return {\n          message,\n          behaviorTarget: $target\n        };\n      }\n    } else {\n      this.proto(_target);\n    }\n\n    return false;\n  });\n\n  this.shouldSelect = function (_$target) {\n    return this.screen.allowAction() && _$target.is('li');\n  };\n\n  this.deselectAll = function () {\n    var items = this.find('li');\n    this.deselect(items);\n    this.unhighlight(items);\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/selectable/behavior.js\n **/","pl.game.component('timer', function () {\n\n  function testTime() {\n    var time;\n\n    time = Date.now();\n\n    if (time >= this.stamp) {\n      this.stamp = time + 1000;\n      this.time += 1;\n\n      this.render();\n\n      if (this.time * 1000 >= this.timeout) {\n        this.timerComplete();\n      }\n    }\n  }\n\n  this.timeout = 0;\n  this.time = 0;\n  this.stamp = 0;\n\n  this.timerComplete = function () {\n    this\n      .stop()\n      .complete();\n  };\n\n  this.init = function () {\n    this.timeout = pl.util.toMillisec(this.properties.set);\n    return this;\n  };\n\n  this.ready = function () {\n    this.screen.on('ui-open', this.bind(function () {\n      this.start();\n    }));\n    return this;\n  };\n\n  this.start = function () {\n    this.eachFrame(testTime);\n    return this;\n  };\n\n  this.restart = function () {\n    this.time = 0;\n    this.stamp = 0;\n    this.start();\n    return this;\n  };\n\n  this.stop = function () {\n    this.eachFrame(testTime, false);\n    return this;\n  };\n\n  this.pause = this.stop;\n\n  this.resume = this.start;\n\n  this.render = function () {\n    this.stopWatch.text(this.time);\n    return this;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/timer/behavior.js\n **/","pl.game.config({\n  screenSelector: '.screen',\n  componentDirectory: 'components/',\n  dimensions: {\n    width: 960,\n    ratio: 16 / 9\n  },\n  shouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\nimport './config.game';\n\n// SCREENS\nimport multiBubbles from './screens/multi-bubbles';\nimport trash from './screens/trash';\n\n// COMPONENTS\nimport '../../../shared/js/screen-ios-splash';\nimport './components/audio-sequence/behavior';\nimport './components/bubbles/behavior';\nimport './components/modal/behavior';\nimport './components/multiple-choice/behavior';\nimport './components/reveal/behavior';\nimport './components/score/behavior';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/selectable-reveal/behavior';\nimport './components/selectable/behavior';\nimport './components/timer/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\npl.game('happy-fish-face', function () {\n\n  var garbage = function () {\n    this.on('ui-open', function () {\n      this.game.addClass('garbage');\n    });\n\n    this.on('ui-close ui-leave', function () {\n      this.game.removeClass('garbage');\n    });\n  };\n\n  this.screen('title', function () {\n\n    this.on('ready', function (_event) {\n      if (!this.is(_event.target)) return;\n\n      if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n    });\n\n    this.entity('.fish', function () {\n      this.on('animationend', function (_event) {\n        if (!this.is(_event.target) || !this.screen.allowAction()) return;\n        this.complete();\n      });\n    });\n  });\n\n  this.screen('you-feel', function () {\n    garbage.call(this);\n\n    this.respond('select', function (_event) {\n      var id, stateMethod;\n\n      id = _event.message;\n      stateMethod = this.properties.selectState || 'select';\n\n      if (id != null) {\n        this.audio.sfx.stop('@ALL');\n        this.audio.sfx.play(id);\n        this[stateMethod](_event.behaviorTarget);\n        this.delay('2s', function () {\n          this.requiredQueue.ready('select');\n        });\n      }\n    });\n\n    this.on('ready', function (_event) {\n      if (!this.is(_event.target)) return;\n      this.require('select');\n    });\n\n    this.on('ui-open', function () {\n      this.deselect(this.find('.SELECTED'));\n    });\n  });\n\n  this.screen('water-pollution', garbage);\n\n  this.screen('healthy-water', function () {\n    garbage.call(this);\n\n    this.entity('multiple-choice', function () {\n      this.validateAnswer = function () {\n        var answers;\n\n        if (this.properties.correct) {\n          answers = this.properties.correct.split(/\\s*,\\s*/);\n\n          if (~answers.indexOf(String(this.getSelected().id()))) {\n            this.audio.sfx.correct.play();\n            this.complete();\n          } else {\n            this.audio.sfx.incorrect.play();\n          }\n        }\n\n        return false;\n      };\n    });\n\n    this.on('ui-open', function () {\n      this.deselect(this.find('.SELECTED'));\n    });\n  });\n\n  this.screen('clean-water', garbage);\n\n  this.screen('multi-bubbles', multiBubbles);\n\n  this.screen('trash', trash);\n\n  this.screen('flip', function () {\n    this.next = function () {\n      this.game.quit.okay();\n    };\n\n    this.complete = function () {\n      var eventCategory = (['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')']).join(' ');\n\n      ga('send', 'event', eventCategory, 'complete');\n\n      pl.game.trigger($.Event('platform-event', {\n        name: 'flip',\n        gameData: {id: this.game.id()}\n      }));\n\n      return this.proto();\n    };\n  });\n\n  this.exit = function () {\n    var screen, eventCategory;\n\n    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n    eventCategory = (['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')']).join(' ');\n\n    ga('send', 'event', eventCategory, 'quit');\n\n    return this.proto();\n  };\n\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/index.js\n **/","/**\n * HFF - multiBubbles Screen\n */\nexport default function multiBubbles() {\n  this.SELECTER = {\n    CORRECT: '[pl-correct]'\n  };\n\n  this.on('ready', function (_event) {\n    var correct;\n\n    if (!this.is(_event.target)) return;\n\n    correct = pl.Queue.create();\n\n    correct.on('complete', this.bind(function () {\n      this.game.audio.sfx.screenComplete.play();\n      this.complete();\n    }));\n\n    this.items = this\n      .selectable\n      .find(this.SELECTER.CORRECT)\n      .map(function (_index, _node) {\n        correct.add($(_node).id());\n        return _node;\n      })\n      .toArray();\n\n    this.items.correct = correct;\n  });\n\n  this.respond('select', function (_event) {\n    if (~this.items.correct.indexOf(_event.message)) {\n      this.audio.voiceOver.play(_event.message);\n      this.highlight(_event.behaviorTarget);\n      this.score.up(10);\n      this.items.correct.ready(_event.message);\n    } else {\n      this.score.down(10);\n      this.audio.sfx.incorrect.play();\n    }\n  });\n\n  this.on('ui-open', function (_e) {\n    if (!this.is(_e.target)) return;\n\n    if (this.isComplete) {\n      this.unhighlight(this.find('.' + this.STATE.HIGHLIGHTED));\n      this.start();\n    }\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/screens/multi-bubbles.js\n **/","/**\n * HFF - Trash Screen\n */\nexport default function trash() {\n  this.SELECTOR = {\n    CORRECT: '[pl-correct]'\n  };\n\n  this.on('ready', function (_event) {\n    var $net;\n\n    if (!this.is(_event.target)) return;\n\n    $net = this.find('.net');\n\n    this.mousemove(function (e){\n      $net.css({left: e.clientX / this.game.zoom - 50, top: e.clientY / this.game.zoom - 65});\n    }.bind(this));\n\n    this.on('touchstart', function () {\n      this.addClass('TOUCH');\n    }.bind(this));\n\n    this.$items = this\n      .selectable\n      .find(this.SELECTOR.CORRECT);\n    this.setup();\n\n    this.modal.reveal.audio.voiceOver.on('ended', function (_e) {\n      if (this.screen.state(this.STATE.OPEN)) {\n        if (_e.target.id() === 'goodJob') this.audio.voiceOver.neverThrow.play();\n      }\n    }.bind(this.modal.reveal));\n  });\n\n  this.setup = function () {\n    var correct = pl.Queue.create();\n\n    correct.on('complete', this.bind(function () {\n      this.timer.stop();\n      this.modal.item('goodJob');\n      this.addClass('GOOD-JOB');\n    }));\n\n    this.items = this\n      .$items\n      .map(function (_index, _node) {\n        correct.add($(_node).id());\n        return _node;\n      })\n      .toArray();\n\n    this.unhighlight(this.$items);\n\n    this.items.correct = correct;\n\n    this.removeClass('TRY-AGAIN GOOD-JOB');\n  };\n\n  this.reset = function () {\n    this.setup();\n    this.deselect(this.modal);\n    this.timer.restart();\n  };\n\n  this.respond('select', function (_event) {\n    if (~this.items.correct.indexOf(_event.message)) {\n      this.audio.sfx.correct.play();\n      this.highlight(_event.behaviorTarget);\n      this.items.correct.ready(_event.message);\n    } else {\n      this.audio.sfx.incorrect.play();\n    }\n  });\n\n  this.entity('timer', function () {\n    this.render = function () {\n      this.stopWatch.text(this.timeout / 1000 - this.time);\n      return this;\n    };\n\n    this.timerComplete = function () {\n      this.stop();\n      this.screen.modal.item('tryAgain');\n      this.screen.addClass('TRY-AGAIN');\n    };\n  });\n\n  this.on('ui-open', function (_e) {\n    if (!this.is(_e.target)) return;\n\n    if (this.modal.state(this.STATE.SELECTED)) {\n      this.reset();\n    }\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/screens/trash.js\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n\tthis.on('ready', function (_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\tthis.splash();\n\t\t}\n\t});\n\n\tthis.splash = function() {\n\t\tthis.close(this.game.loader);\n\n\t\tif(this.game.hasClass('iOS')) {\n\t\t\tthis.open();\n\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t} else {\n\t\t\tthis.game.title.open();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen = this.proto();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tthis.game.audio.sfx.button.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.play('screenComplete');\n\t\treturn this.proto();\n\t};\n\n\tthis.startGame = function() {\n\t\tif(!this.hasClass('FINISHED')) return;\n\t\tthis.game.addClass('STARTED');\n\t\tthis.delay('2.5s', function() {\n\t\t\tthis.next();\n\t\t});\n\t};\n\n\tthis.on('animationend', function(_e) {\n\t\tif(!this.ball.is(_e.target)) return;\n\t\tthis.addClass('FINISHED');\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","(function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/"],"sourceRoot":""}