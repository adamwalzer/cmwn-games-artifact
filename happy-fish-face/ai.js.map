{"version":3,"sources":["webpack:///happy-fish-face/ai.js","webpack:///webpack/bootstrap bd8cf7f03d7af094c57e","webpack:///./happy-fish-face/source/js/components/audio-sequence/behavior.js","webpack:///./happy-fish-face/source/js/components/bubbles/behavior.js","webpack:///./happy-fish-face/source/js/components/modal/behavior.js","webpack:///./happy-fish-face/source/js/components/multiple-choice/behavior.js","webpack:///./happy-fish-face/source/js/components/reveal/behavior.js","webpack:///./happy-fish-face/source/js/components/score/behavior.js","webpack:///./happy-fish-face/source/js/components/screen-basic/behavior.js","webpack:///./happy-fish-face/source/js/components/screen-quit/behavior.js","webpack:///./happy-fish-face/source/js/components/selectable-reveal/behavior.js","webpack:///./happy-fish-face/source/js/components/selectable/behavior.js","webpack:///./happy-fish-face/source/js/components/timer/behavior.js","webpack:///./happy-fish-face/source/js/config.game.js","webpack:///./happy-fish-face/source/js/index.js","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","pl","game","component","i","sounds","this","on","_event","is","target","find","map","$","data","toArray","audio","next","screen","state","STATE","OPEN","play","bind","start","item","_id","select","reveal","close","VOICE_OVER","demoMode","deselect","validateAnswer","answers","properties","correct","split","indexOf","String","getSelected","sfx","complete","answer","$li","event","closest","vo","index","eq","voiceOver","_this","value","entity","template","images","ready","counter","html","render","image","length","replace","board","up","_count","max","down","willSet","isComplete","rule","_e","response","config","allowAction","nextScreen","buttonSound","proto","util","resolvePath","leave","open","prev","prevScreen","entities","hasOwnProperty","startAudio","forEach","_entity","isMemberSafe","stop","stopAudio","kill","screenComplete","isReady","gameClass","addClass","removeClass","button","LEAVE","pause","resume","init","okay","exit","cancel","respond","stateMethod","message","select_state","behaviorTarget","shouldSelect","_$target","hasClass","HIGHLIGHTED","behavior","_target","$target","deselectAll","items","unhighlight","testTime","time","Date","now","stamp","timeout","timerComplete","countDown","toMillisec","set","eachFrame","restart","stopWatch","text","handleProperty","countdown","_node","_name","_value","screenSelector","componentDirectory","dimensions","width","ratio","shouldLoadComponentStyles","self","attachScreen","cb","garbage","iosSplash","READY","splash","selectState","delay","requiredQueue","require","SELECTER","CORRECT","highlight","score","incorrect","Queue","create","_index","add","SELECTOR","setup","timer","modal","$items","reset","SELECTED","$net","mousemove","e","css","left","clientX","zoom","top","clientY","_ev","neverThrow","off","quit","eventCategory","theEvent","Event","bubbles","cancelable","name","gameData","window","frameElement","dispatchEvent","join","ga","findOwn","scope","s","o","g","r","a","q","push","arguments","l","createElement","getElementsByTagName","async","src","parentNode","insertBefore","document","title","loader","ball","startGame","test","_env","parent","location","href","domain"],"mappings":"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","file":"happy-fish-face/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(13);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tpl.game.component('audio-sequence', function () {\n\t  var i, sounds;\n\t\n\t  this.on('ready', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t\n\t    sounds = this.find('audio').map(function () {\n\t      return $(this).data('context');\n\t    }).toArray();\n\t\n\t    this.audio.on('ended', (function () {\n\t      var next = sounds[i++];\n\t      if (next && this.screen.state(this.screen.STATE.OPEN)) next.play();\n\t    }).bind(this));\n\t  });\n\t\n\t  this.start = function () {\n\t    i = 1;\n\t    if (sounds[0]) sounds[0].play();\n\t  };\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('bubbles', function () {});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tpl.game.component('modal', function () {\n\t\n\t  this.item = function (_id) {\n\t    this.select(this);\n\t    this.reveal.item(_id);\n\t  };\n\t\n\t  this.close = function () {\n\t    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t      this.deselect(this);\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t  this.validateAnswer = function () {\n\t    var answers;\n\t\n\t    if (this.properties.correct) {\n\t      answers = this.properties.correct.split(/\\s*,\\s*/);\n\t\n\t      if (~answers.indexOf(String(this.getSelected().id()))) {\n\t        this.audio.sfx.play('correct');\n\t        this.complete();\n\t      } else {\n\t        this.audio.sfx.play('incorrect');\n\t      }\n\t    }\n\t\n\t    return false;\n\t  };\n\t\n\t  this.answer = function () {\n\t    var $li;\n\t\n\t    if (this.event) {\n\t      $li = $(this.event.target).closest('li');\n\t\n\t      if (this.select($li)) {\n\t        this.validateAnswer();\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t  this.item = function (_id) {\n\t    var vo, index;\n\t\n\t    if (typeof _id === 'number') {\n\t      this.select(this.find('li').eq(_id));\n\t      this.audio.voiceOver[_id].play();\n\t    } else if (typeof _id === 'string') {\n\t      if (this[_id]) {\n\t        this.select(this[_id]);\n\t\n\t        if (this.audio) {\n\t          index = this[_id].index();\n\t          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t          if (vo) vo.play();\n\t        }\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('score', function () {\n\t  var _this = this;\n\t\n\t  this.value = 0;\n\t\n\t  this.entity('board', function () {\n\t\n\t    this.template = null;\n\t    this.images = null;\n\t\n\t    this.ready = function () {\n\t      this.template = this.counter.html();\n\t      this.images = this.find('img');\n\t    };\n\t\n\t    this.render = function () {\n\t      var image;\n\t\n\t      if (this.images.length) {\n\t        image = this.images[this.value];\n\t        this.select(image);\n\t      }\n\t\n\t      this.counter.html(this.template.replace('{{score}}', this.value));\n\t\n\t      return this;\n\t    };\n\t  });\n\t\n\t  this.start = function () {\n\t    _this.value = 0;\n\t    _this.board.render();\n\t  };\n\t\n\t  this.ready = function () {\n\t    this.board.render();\n\t  };\n\t\n\t  this.up = function (_count) {\n\t    this.value += _count || 1;\n\t\n\t    this.board.render();\n\t\n\t    if (this.value >= this.properties.max) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.down = function (_count) {\n\t    this.value -= _count || 1;\n\t\n\t    this.board.render();\n\t\n\t    if (this.value >= this.properties.max) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.state('incomplete', '-COMPLETE', {\n\t    willSet: function willSet() {\n\t      this.isComplete = false;\n\t\n\t      if (this.value >= this.properties.max) {\n\t        this.value = this.properties.max - 1;\n\t      }\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\n\t  this.on('ready', function (_event) {\n\t    if (this.is(_event.target) && this.audio) {\n\t      this.audio.rule('.voiceOver', 'shouldPlay', function (_e) {\n\t        _e.response(!_e.target.config('dontautoplay'));\n\t      });\n\t    }\n\t  });\n\t\n\t  this.allowAction = function () {\n\t    return this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t  };\n\t\n\t  this.next = function () {\n\t    var nextScreen, buttonSound;\n\t\n\t    nextScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (nextScreen) {\n\t      this.leave();\n\t      nextScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t\n\t  this.prev = function () {\n\t    var prevScreen, buttonSound;\n\t\n\t    prevScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (prevScreen) {\n\t      this.screen.close();\n\t      prevScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return prevScreen;\n\t  };\n\t\n\t  this.start = function () {\n\t    var entities = this.hasOwnProperty('entities') && this.entities;\n\t\n\t    this.startAudio();\n\t    if (this.audio) this.audio.sfx.play('start');\n\t\n\t    if (entities) {\n\t      entities.forEach(function (_entity) {\n\t        if (_entity.isMemberSafe('start')) _entity.start();\n\t      });\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.stop = function () {\n\t    var entities = this.hasOwnProperty('entities') && this.entities;\n\t\n\t    this.stopAudio();\n\t    this.kill('delay');\n\t\n\t    if (entities) {\n\t      entities.forEach(function (_entity) {\n\t        if (_entity.isMemberSafe('start')) _entity.stop();\n\t      });\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.stopAudio = function () {\n\t    if (!this.audio) return;\n\t    this.audio.voiceOver.stop('@ALL');\n\t    this.audio.sfx.stop('@ALL');\n\t  };\n\t\n\t  this.complete = function () {\n\t    if (!this.isComplete) this.game.audio.sfx.screenComplete.play();\n\t    return this.proto();\n\t  };\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.is(_event.target)) {\n\t      if (this.isReady) this.start();\n\t\n\t      if (this.properties.gameClass) {\n\t        this.game.addClass(this.properties.gameClass);\n\t      }\n\t    }\n\t  });\n\t\n\t  this.on('ui-leave ui-close', function (_event) {\n\t    if (this.is(_event.target)) {\n\t      this.stop();\n\t\n\t      if (this.properties.gameClass) {\n\t        this.game.removeClass(this.properties.gameClass);\n\t      }\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t  this.buttonSound = function () {\n\t    if (this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n\t  };\n\t\n\t  // TODO: Make an automated way to handle this\n\t  this.on('transitionend', function () {\n\t    if (this.state(this.STATE.LEAVE)) {\n\t      this.addClass('LEAVE-END');\n\t    }\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    this.buttonSound();\n\t    this.game.addClass('QUIT-SCREEN');\n\t    this.removeClass('LEAVE-END');\n\t    this.game.pause(true);\n\t  });\n\t\n\t  this.on('ui-leave', function () {\n\t    this.game.removeClass('QUIT-SCREEN');\n\t    this.game.resume();\n\t  });\n\t\n\t  this.init = function () {\n\t    this.addClass('LEAVE LEAVE-END');\n\t  };\n\t\n\t  this.okay = function () {\n\t    this.buttonSound();\n\t    this.game.exit();\n\t  };\n\t\n\t  this.cancel = function () {\n\t    this.buttonSound();\n\t    this.leave();\n\t  };\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable-reveal', function () {\n\t\n\t  this.respond('select', function (_event) {\n\t    var index, stateMethod;\n\t\n\t    index = _event.message;\n\t    stateMethod = this.properties.select_state || 'select';\n\t\n\t    if (~index) {\n\t      this[stateMethod](_event.behaviorTarget);\n\t      this.reveal.item(index);\n\t    }\n\t  });\n\t\n\t  this.entity('selectable', function () {\n\t\n\t    this.shouldSelect = function (_$target) {\n\t      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n\t        return !this.screen.state(this.STATE.VOICE_OVER);\n\t      }\n\t\n\t      return false;\n\t    };\n\t  });\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t  this.behavior('select', function (_target) {\n\t    var $target, message;\n\t\n\t    if (this.event) {\n\t      $target = $(this.event.target).closest('li');\n\t      message = $target.id() || $target.index();\n\t\n\t      if (this.shouldSelect($target) !== false) {\n\t        return {\n\t          message: message,\n\t          behaviorTarget: $target\n\t        };\n\t      }\n\t    } else {\n\t      this.proto(_target);\n\t    }\n\t\n\t    return false;\n\t  });\n\t\n\t  this.shouldSelect = function (_$target) {\n\t    return this.screen.allowAction() && _$target.is('li');\n\t  };\n\t\n\t  this.deselectAll = function () {\n\t    var items = this.find('li');\n\t    this.deselect(items);\n\t    this.unhighlight(items);\n\t  };\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('timer', function () {\n\t\n\t  function testTime() {\n\t    var time;\n\t\n\t    time = Date.now();\n\t\n\t    if (time >= this.stamp) {\n\t      this.stamp = time + 1000;\n\t      this.time += 1;\n\t\n\t      this.render();\n\t\n\t      if (this.time * 1000 >= this.timeout) {\n\t        this.timerComplete();\n\t      }\n\t    }\n\t  }\n\t\n\t  this.timeout = 0;\n\t  this.time = 0;\n\t  this.stamp = 0;\n\t  this.countDown = false;\n\t\n\t  this.behavior('timerComplete', function () {\n\t    this.stop().complete();\n\t  });\n\t\n\t  this.init = function () {\n\t    this.timeout = pl.util.toMillisec(this.properties.set);\n\t    return this;\n\t  };\n\t\n\t  this.ready = function () {\n\t    this.screen.on('ui-open', this.bind(function () {\n\t      this.start();\n\t    }));\n\t    return this;\n\t  };\n\t\n\t  this.start = function () {\n\t    this.eachFrame(testTime);\n\t    return this;\n\t  };\n\t\n\t  this.restart = function () {\n\t    this.time = 0;\n\t    this.stamp = 0;\n\t    this.start();\n\t    return this;\n\t  };\n\t\n\t  this.stop = function () {\n\t    this.eachFrame(testTime, false);\n\t    return this;\n\t  };\n\t\n\t  this.pause = this.stop;\n\t\n\t  this.resume = this.start;\n\t\n\t  this.render = function () {\n\t    this.stopWatch.text(this.countDown ? this.timeout / 1000 - this.time : this.time);\n\t    return this;\n\t  };\n\t\n\t  this.handleProperty({\n\t    'countdown': function countdown(_node, _name, _value) {\n\t      if (this.is(_node)) {\n\t        this.countDown = _value === 'true' ? true : false;\n\t      }\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t  screenSelector: '.screen',\n\t  componentDirectory: 'components/',\n\t  dimensions: {\n\t    width: 960,\n\t    ratio: 16 / 9\n\t  },\n\t  shouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t\n\t__webpack_require__(12);\n\t\n\t// COMPONENTS\n\t\n\t__webpack_require__(15);\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(16);\n\t\n\t__webpack_require__(14);\n\t\n\tpl.game('happy-fish-face', function () {\n\t\n\t  var self = this;\n\t\n\t  pl.game.attachScreen = function (cb) {\n\t    cb.call(self);\n\t  };\n\t\n\t  var garbage = function garbage() {\n\t    this.on('ui-open', function () {\n\t      this.game.addClass('garbage');\n\t    });\n\t\n\t    this.on('ui-close ui-leave', function () {\n\t      this.game.removeClass('garbage');\n\t    });\n\t  };\n\t\n\t  this.screen('title', function () {\n\t\n\t    this.on('ready', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t\n\t      if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t    });\n\t\n\t    this.on('animationend', function (_event) {\n\t      if (!this.find('.fish')[0] === _event.target || !this.screen.allowAction()) return;\n\t      this.complete();\n\t    });\n\t  });\n\t\n\t  this.screen('you-feel', function () {\n\t    garbage.call(this);\n\t\n\t    this.respond('select', function (_event) {\n\t      var id, stateMethod;\n\t\n\t      id = _event.message;\n\t      stateMethod = this.properties.selectState || 'select';\n\t\n\t      if (id != null) {\n\t        this.audio.sfx.stop('@ALL');\n\t        this.audio.sfx.play(id);\n\t        this[stateMethod](_event.behaviorTarget);\n\t        this.delay('2s', function () {\n\t          this.requiredQueue.ready('select');\n\t        });\n\t      }\n\t    });\n\t\n\t    this.on('ready', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t      this.require('select');\n\t    });\n\t\n\t    this.on('ui-open', function () {\n\t      this.deselect(this.find('.SELECTED'));\n\t    });\n\t  });\n\t\n\t  this.screen('water-pollution', garbage);\n\t\n\t  this.screen('healthy-water', function () {\n\t    this.on('ui-open', function () {\n\t      this.game.addClass('garbage');\n\t    });\n\t\n\t    this.on('ui-close ui-leave', function () {\n\t      this.game.removeClass('garbage');\n\t    });\n\t\n\t    this.on('ui-open', function () {\n\t      this.deselect(this.find('.SELECTED'));\n\t    });\n\t  });\n\t\n\t  this.screen('clean-water', garbage);\n\t\n\t  this.screen('multi-bubbles', function () {\n\t    this.SELECTER = {\n\t      CORRECT: '[pl-correct]'\n\t    };\n\t\n\t    this.respond('select', function (_event) {\n\t      if (_event.behaviorTarget.hasClass('HIGHLIGHTED')) return;\n\t      if (~this.items.correct.indexOf(_event.message)) {\n\t        this.audio.voiceOver.play(_event.message);\n\t        this.highlight(_event.behaviorTarget);\n\t        this.score.up(10);\n\t        this.items.correct.ready(_event.message);\n\t      } else {\n\t        this.score.down(10);\n\t        this.audio.sfx.incorrect.play();\n\t      }\n\t    });\n\t\n\t    this.on('ui-open', function (_e) {\n\t      var correct;\n\t\n\t      if (!this.is(_e.target)) return;\n\t\n\t      if (this.isComplete) {\n\t        this.unhighlight(this.find('.' + this.STATE.HIGHLIGHTED));\n\t        this.start();\n\t      }\n\t\n\t      if (!this.items) {\n\t        correct = pl.Queue.create();\n\t\n\t        correct.on('complete', this.bind(function () {\n\t          this.game.audio.sfx.screenComplete.play();\n\t          this.complete();\n\t        }));\n\t\n\t        this.items = this.find(this.SELECTER.CORRECT).map(function (_index, _node) {\n\t          correct.add($(_node).id());\n\t          return _node;\n\t        }).toArray();\n\t\n\t        this.items.correct = correct;\n\t      }\n\t    });\n\t  });\n\t\n\t  this.screen('trash', function () {\n\t    this.SELECTOR = {\n\t      CORRECT: '[pl-correct]'\n\t    };\n\t\n\t    this.on('ready', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t\n\t      this.on('touchstart', (function () {\n\t        this.addClass('TOUCH');\n\t      }).bind(this));\n\t    });\n\t\n\t    this.setup = function () {\n\t      var correct = pl.Queue.create();\n\t\n\t      correct.on('complete', this.bind(function () {\n\t        this.timer.stop();\n\t        this.modal.item('goodJob');\n\t        this.addClass('GOOD-JOB');\n\t      }));\n\t\n\t      this.items = this.$items.map(function (_index, _node) {\n\t        correct.add($(_node).id());\n\t        return _node;\n\t      }).toArray();\n\t\n\t      this.unhighlight(this.$items);\n\t\n\t      this.items.correct = correct;\n\t\n\t      this.removeClass('TRY-AGAIN GOOD-JOB');\n\t    };\n\t\n\t    this.reset = function () {\n\t      this.setup();\n\t      this.deselect(this.modal);\n\t      this.timer.restart();\n\t    };\n\t\n\t    this.respond('select', function (_event) {\n\t      if (~this.items.correct.indexOf(_event.message)) {\n\t        this.audio.sfx.correct.play();\n\t        this.highlight(_event.behaviorTarget);\n\t        this.items.correct.ready(_event.message);\n\t      } else {\n\t        this.audio.sfx.incorrect.play();\n\t      }\n\t    });\n\t\n\t    this.respond('timerComplete', function () {\n\t      this.addClass('TRY-AGAIN').modal.item('tryAgain');\n\t    });\n\t\n\t    this.on('ui-open', function (_e) {\n\t      if (!this.is(_e.target)) return;\n\t\n\t      if (this.modal.state(this.STATE.SELECTED)) {\n\t        this.reset();\n\t      }\n\t\n\t      if (!this.$net) {\n\t        this.$net = this.find('.net');\n\t\n\t        this.mousemove((function (e) {\n\t          this.$net.css({ left: e.clientX / this.game.zoom - 50, top: e.clientY / this.game.zoom - 65 });\n\t        }).bind(this));\n\t      }\n\t\n\t      if (!this.$items) {\n\t        this.$items = this.find(this.SELECTOR.CORRECT);\n\t        this.setup();\n\t      }\n\t\n\t      this.modal.reveal.audio.voiceOver.on('ended', (function (_ev) {\n\t        if (this.screen.state(this.STATE.OPEN)) {\n\t          if (_ev.target.id() === 'goodJob') this.audio.voiceOver.neverThrow.play();\n\t        }\n\t      }).bind(this.modal.reveal));\n\t    });\n\t\n\t    this.on('ui-leave ui-close', function () {\n\t      this.modal.reveal.audio.voiceOver.off('ended');\n\t    });\n\t  });\n\t\n\t  this.screen('flip', function () {\n\t    this.next = function () {\n\t      this.game.quit.okay();\n\t    };\n\t\n\t    this.complete = function () {\n\t      var eventCategory;\n\t      var theEvent = new Event('game-event', { bubbles: true, cancelable: false });\n\t      theEvent.name = 'flip';\n\t      theEvent.gameData = { id: this.game.id() };\n\t      if (window.frameElement) window.frameElement.dispatchEvent(theEvent);\n\t      eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t      ga('send', 'event', eventCategory, 'complete');\n\t      return this.proto();\n\t    };\n\t  });\n\t\n\t  this.exit = function () {\n\t    var screen, eventCategory;\n\t\n\t    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t    eventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t    ga('send', 'event', eventCategory, 'quit');\n\t\n\t    return this.proto();\n\t  };\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\t\tthis.splash();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.splash = function () {\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tif (this.game.hasClass('iOS')) {\n\t\t\t\tthis.open();\n\t\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t\t} else {\n\t\t\t\tthis.game.title.open();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen = this.proto();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tthis.game.audio.sfx.button.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.play('screenComplete');\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.startGame = function () {\n\t\t\tif (!this.hasClass('FINISHED')) return;\n\t\t\tthis.game.addClass('STARTED');\n\t\t\tthis.delay('2.5s', function () {\n\t\t\t\tthis.next();\n\t\t\t});\n\t\t};\n\t\n\t\tthis.on('animationend', function (_e) {\n\t\t\tif (!this.ball.is(_e.target)) return;\n\t\t\tthis.addClass('FINISHED');\n\t\t});\n\t});\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t(function test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t})();\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** happy-fish-face/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap bd8cf7f03d7af094c57e\n **/","pl.game.component('audio-sequence', function () {\n  var i, sounds;\n\n  this.on('ready', function (_event) {\n    if (!this.is(_event.target)) return;\n\n    sounds = this.find('audio').map(function () {\n      return $(this).data('context');\n    }).toArray();\n\n    this.audio.on('ended', function () {\n      var next = sounds[i++];\n      if (next && this.screen.state(this.screen.STATE.OPEN)) next.play();\n    }.bind(this));\n  });\n\n  this.start = function () {\n    i = 1;\n    if (sounds[0]) sounds[0].play();\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/audio-sequence/behavior.js\n **/","pl.game.component('bubbles', function () {});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/bubbles/behavior.js\n **/","pl.game.component('modal', function () {\n\n  this.item = function (_id) {\n    this.select(this);\n    this.reveal.item(_id);\n  };\n\n  this.close = function () {\n    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n      this.deselect(this);\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/modal/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n  this.validateAnswer = function () {\n    var answers;\n\n    if (this.properties.correct) {\n      answers = this.properties.correct.split(/\\s*,\\s*/);\n\n      if (~answers.indexOf(String(this.getSelected().id()))) {\n        this.audio.sfx.play('correct');\n        this.complete();\n      } else {\n        this.audio.sfx.play('incorrect');\n      }\n    }\n\n    return false;\n  };\n\n  this.answer = function () {\n    var $li;\n\n    if (this.event) {\n      $li = $(this.event.target).closest('li');\n\n      if (this.select($li)) {\n        this.validateAnswer();\n      }\n    }\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n  this.item = function (_id) {\n    var vo, index;\n\n    if (typeof _id === 'number') {\n      this.select(this.find('li').eq(_id));\n      this.audio.voiceOver[_id].play();\n    } else if (typeof _id === 'string') {\n      if (this[_id]) {\n        this.select(this[_id]);\n\n        if (this.audio) {\n          index = this[_id].index();\n          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\n          if (vo) vo.play();\n        }\n      }\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/reveal/behavior.js\n **/","pl.game.component('score', function () {\n\n  this.value = 0;\n\n  this.entity('board', function () {\n\n    this.template = null;\n    this.images = null;\n\n    this.ready = function () {\n      this.template = this.counter.html();\n      this.images = this.find('img');\n    };\n\n    this.render = function () {\n      var image;\n\n      if (this.images.length) {\n        image = this.images[this.value];\n        this.select(image);\n      }\n\n      this.counter.html(this.template.replace('{{score}}', this.value));\n\n      return this;\n    };\n\n  });\n\n  this.start = () => {\n    this.value = 0;\n    this.board.render();\n  };\n\n  this.ready = function () {\n    this.board.render();\n  };\n\n  this.up = function (_count) {\n    this.value += _count || 1;\n\n    this.board.render();\n\n    if (this.value >= this.properties.max) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n  this.down = function (_count) {\n    this.value -= _count || 1;\n\n    this.board.render();\n\n    if (this.value >= this.properties.max) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n  this.state('incomplete', '-COMPLETE', {\n    willSet: function () {\n      this.isComplete = false;\n\n      if (this.value >= this.properties.max) {\n        this.value = this.properties.max - 1;\n      }\n    }\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/score/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\n  this.on('ready', function (_event) {\n    if (this.is(_event.target) && this.audio) {\n      this.audio.rule('.voiceOver', 'shouldPlay', function (_e) {\n        _e.response(!_e.target.config('dontautoplay'));\n      });\n    }\n  });\n\n  this.allowAction = function () {\n    return (this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER)) || this.game.demoMode;\n  };\n\n  this.next = function () {\n    var nextScreen, buttonSound;\n\n    nextScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (nextScreen) {\n      this.leave();\n      nextScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return nextScreen;\n  };\n\n  this.prev = function () {\n    var prevScreen, buttonSound;\n\n    prevScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (prevScreen) {\n      this.screen.close();\n      prevScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return prevScreen;\n  };\n\n  this.start = function () {\n    var entities = this.hasOwnProperty('entities') && this.entities;\n\n    this.startAudio();\n    if (this.audio) this.audio.sfx.play('start');\n\n    if (entities) {\n      entities.forEach(function (_entity) {\n        if (_entity.isMemberSafe('start')) _entity.start();\n      });\n    }\n\n    return this;\n  };\n\n  this.stop = function () {\n    var entities = this.hasOwnProperty('entities') && this.entities;\n\n    this.stopAudio();\n    this.kill('delay');\n\n    if (entities) {\n      entities.forEach(function (_entity) {\n        if (_entity.isMemberSafe('start')) _entity.stop();\n      });\n    }\n\n    return this;\n  };\n\n  this.stopAudio = function () {\n    if (!this.audio) return;\n    this.audio.voiceOver.stop('@ALL');\n    this.audio.sfx.stop('@ALL');\n  };\n\n  this.complete = function () {\n    if (!this.isComplete) this.game.audio.sfx.screenComplete.play();\n    return this.proto();\n  };\n\n  this.on('ui-open', function (_event) {\n    if (this.is(_event.target)) {\n      if (this.isReady) this.start();\n\n      if (this.properties.gameClass) {\n        this.game.addClass(this.properties.gameClass);\n      }\n    }\n  });\n\n  this.on('ui-leave ui-close', function (_event) {\n    if (this.is(_event.target)) {\n      this.stop();\n\n      if (this.properties.gameClass) {\n        this.game.removeClass(this.properties.gameClass);\n      }\n    }\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n  this.buttonSound = function () {\n    if (this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n  };\n\n  // TODO: Make an automated way to handle this\n  this.on('transitionend', function () {\n    if (this.state(this.STATE.LEAVE)) {\n      this.addClass('LEAVE-END');\n    }\n  });\n\n  this.on('ui-open', function (_event) {\n    if (!this.is(_event.target)) return;\n    this.buttonSound();\n    this.game.addClass('QUIT-SCREEN');\n    this.removeClass('LEAVE-END');\n    this.game.pause(true);\n  });\n\n  this.on('ui-leave', function () {\n    this.game.removeClass('QUIT-SCREEN');\n    this.game.resume();\n  });\n\n  this.init = function () {\n    this.addClass('LEAVE LEAVE-END');\n  };\n\n  this.okay = function () {\n    this.buttonSound();\n    this.game.exit();\n  };\n\n  this.cancel = function () {\n    this.buttonSound();\n    this.leave();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('selectable-reveal', function () {\n\n  this.respond('select', function (_event) {\n    var index, stateMethod;\n\n    index = _event.message;\n    stateMethod = this.properties.select_state || 'select';\n\n    if (~index) {\n      this[stateMethod](_event.behaviorTarget);\n      this.reveal.item(index);\n    }\n  });\n\n  this.entity('selectable', function () {\n\n    this.shouldSelect = function (_$target) {\n      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n        return !this.screen.state(this.STATE.VOICE_OVER);\n      }\n\n      return false;\n    };\n\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/selectable-reveal/behavior.js\n **/","pl.game.component('selectable', function () {\n\n  this.behavior('select', function (_target) {\n    var $target, message;\n\n    if (this.event) {\n      $target = $(this.event.target).closest('li');\n      message = $target.id() || $target.index();\n\n      if (this.shouldSelect($target) !== false) {\n        return {\n          message,\n          behaviorTarget: $target\n        };\n      }\n    } else {\n      this.proto(_target);\n    }\n\n    return false;\n  });\n\n  this.shouldSelect = function (_$target) {\n    return this.screen.allowAction() && _$target.is('li');\n  };\n\n  this.deselectAll = function () {\n    var items = this.find('li');\n    this.deselect(items);\n    this.unhighlight(items);\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/selectable/behavior.js\n **/","pl.game.component('timer', function () {\n\n  function testTime() {\n    var time;\n\n    time = Date.now();\n\n    if (time >= this.stamp) {\n      this.stamp = time + 1000;\n      this.time += 1;\n\n      this.render();\n\n      if (this.time * 1000 >= this.timeout) {\n        this.timerComplete();\n      }\n    }\n  }\n\n  this.timeout = 0;\n  this.time = 0;\n  this.stamp = 0;\n  this.countDown = false;\n\n  this.behavior('timerComplete', function () {\n    this\n      .stop()\n      .complete();\n  });\n\n  this.init = function () {\n    this.timeout = pl.util.toMillisec(this.properties.set);\n    return this;\n  };\n\n  this.ready = function () {\n    this.screen.on('ui-open', this.bind(function () {\n      this.start();\n    }));\n    return this;\n  };\n\n  this.start = function () {\n    this.eachFrame(testTime);\n    return this;\n  };\n\n  this.restart = function () {\n    this.time = 0;\n    this.stamp = 0;\n    this.start();\n    return this;\n  };\n\n  this.stop = function () {\n    this.eachFrame(testTime, false);\n    return this;\n  };\n\n  this.pause = this.stop;\n\n  this.resume = this.start;\n\n  this.render = function () {\n    this.stopWatch.text(this.countDown ? this.timeout / 1000 - this.time : this.time);\n    return this;\n  };\n\n  this.handleProperty({\n    'countdown': function (_node, _name, _value) {\n      if (this.is(_node)) {\n        this.countDown = _value === 'true' ? true : false;\n      }\n    }\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/timer/behavior.js\n **/","pl.game.config({\n  screenSelector: '.screen',\n  componentDirectory: 'components/',\n  dimensions: {\n    width: 960,\n    ratio: 16 / 9\n  },\n  shouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\nimport './config.game';\n\n// COMPONENTS\nimport '../../../shared/js/screen-ios-splash';\nimport './components/audio-sequence/behavior';\nimport './components/bubbles/behavior';\nimport './components/modal/behavior';\nimport './components/multiple-choice/behavior';\nimport './components/reveal/behavior';\nimport './components/score/behavior';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/selectable-reveal/behavior';\nimport './components/selectable/behavior';\nimport './components/timer/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\npl.game('happy-fish-face', function () {\n\n  var self = this;\n\n  pl.game.attachScreen = function (cb) {\n    cb.call(self);\n  };\n\n  var garbage = function () {\n    this.on('ui-open', function () {\n      this.game.addClass('garbage');\n    });\n\n    this.on('ui-close ui-leave', function () {\n      this.game.removeClass('garbage');\n    });\n  };\n\n  this.screen('title', function () {\n\n    this.on('ready', function (_event) {\n      if (!this.is(_event.target)) return;\n\n      if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n    });\n\n    this.on('animationend', function (_event) {\n      if (!this.find('.fish')[0] === _event.target || !this.screen.allowAction()) return;\n      this.complete();\n    });\n  });\n\n  this.screen('you-feel', function () {\n    garbage.call(this);\n\n    this.respond('select', function (_event) {\n      var id, stateMethod;\n\n      id = _event.message;\n      stateMethod = this.properties.selectState || 'select';\n\n      if (id != null) {\n        this.audio.sfx.stop('@ALL');\n        this.audio.sfx.play(id);\n        this[stateMethod](_event.behaviorTarget);\n        this.delay('2s', function () {\n          this.requiredQueue.ready('select');\n        });\n      }\n    });\n\n    this.on('ready', function (_event) {\n      if (!this.is(_event.target)) return;\n      this.require('select');\n    });\n\n    this.on('ui-open', function () {\n      this.deselect(this.find('.SELECTED'));\n    });\n  });\n\n  this.screen('water-pollution', garbage);\n\n  this.screen('healthy-water', function () {\n    this.on('ui-open', function () {\n      this.game.addClass('garbage');\n    });\n\n    this.on('ui-close ui-leave', function () {\n      this.game.removeClass('garbage');\n    });\n\n    this.on('ui-open', function () {\n      this.deselect(this.find('.SELECTED'));\n    });\n  });\n\n  this.screen('clean-water', garbage);\n\n  this.screen('multi-bubbles', function () {\n    this.SELECTER = {\n      CORRECT: '[pl-correct]'\n    };\n\n    this.respond('select', function (_event) {\n      if (_event.behaviorTarget.hasClass('HIGHLIGHTED')) return;\n      if (~this.items.correct.indexOf(_event.message)) {\n        this.audio.voiceOver.play(_event.message);\n        this.highlight(_event.behaviorTarget);\n        this.score.up(10);\n        this.items.correct.ready(_event.message);\n      } else {\n        this.score.down(10);\n        this.audio.sfx.incorrect.play();\n      }\n    });\n\n    this.on('ui-open', function (_e) {\n      var correct;\n\n      if (!this.is(_e.target)) return;\n\n      if (this.isComplete) {\n        this.unhighlight(this.find('.' + this.STATE.HIGHLIGHTED));\n        this.start();\n      }\n\n      if (!this.items) {\n        correct = pl.Queue.create();\n\n        correct.on('complete', this.bind(function () {\n          this.game.audio.sfx.screenComplete.play();\n          this.complete();\n        }));\n\n        this.items = this\n          .find(this.SELECTER.CORRECT)\n          .map(function (_index, _node) {\n            correct.add($(_node).id());\n            return _node;\n          })\n          .toArray();\n\n        this.items.correct = correct;\n      }\n    });\n  });\n\n  this.screen('trash', function () {\n    this.SELECTOR = {\n      CORRECT: '[pl-correct]'\n    };\n\n    this.on('ready', function (_event) {\n      if (!this.is(_event.target)) return;\n\n      this.on('touchstart', function () {\n        this.addClass('TOUCH');\n      }.bind(this));\n    });\n\n    this.setup = function () {\n      var correct = pl.Queue.create();\n\n      correct.on('complete', this.bind(function () {\n        this.timer.stop();\n        this.modal.item('goodJob');\n        this.addClass('GOOD-JOB');\n      }));\n\n      this.items = this\n        .$items\n        .map(function (_index, _node) {\n          correct.add($(_node).id());\n          return _node;\n        })\n        .toArray();\n\n      this.unhighlight(this.$items);\n\n      this.items.correct = correct;\n\n      this.removeClass('TRY-AGAIN GOOD-JOB');\n    };\n\n    this.reset = function () {\n      this.setup();\n      this.deselect(this.modal);\n      this.timer.restart();\n    };\n\n    this.respond('select', function (_event) {\n      if (~this.items.correct.indexOf(_event.message)) {\n        this.audio.sfx.correct.play();\n        this.highlight(_event.behaviorTarget);\n        this.items.correct.ready(_event.message);\n      } else {\n        this.audio.sfx.incorrect.play();\n      }\n    });\n\n    this.respond('timerComplete', function () {\n      this.addClass('TRY-AGAIN').modal.item('tryAgain');\n    });\n\n    this.on('ui-open', function (_e) {\n      if (!this.is(_e.target)) return;\n\n      if (this.modal.state(this.STATE.SELECTED)) {\n        this.reset();\n      }\n\n      if (!this.$net) {\n        this.$net = this.find('.net');\n\n        this.mousemove(function (e){\n          this.$net.css({left: e.clientX / this.game.zoom - 50, top: e.clientY / this.game.zoom - 65});\n        }.bind(this));\n      }\n\n      if (!this.$items) {\n        this.$items = this\n          .find(this.SELECTOR.CORRECT);\n        this.setup();\n\n      }\n\n      this.modal.reveal.audio.voiceOver.on('ended', function (_ev) {\n        if (this.screen.state(this.STATE.OPEN)) {\n          if (_ev.target.id() === 'goodJob') this.audio.voiceOver.neverThrow.play();\n        }\n      }.bind(this.modal.reveal));\n    });\n\n    this.on('ui-leave ui-close', function () {\n      this.modal.reveal.audio.voiceOver.off('ended');\n    });\n  });\n\n  this.screen('flip', function () {\n    this.next = function () {\n      this.game.quit.okay();\n    };\n\n    this.complete = function () {\n      var eventCategory;\n      var theEvent = new Event('game-event', {bubbles: true, cancelable: false});\n      theEvent.name = 'flip';\n      theEvent.gameData = {id: this.game.id()};\n      if (window.frameElement) window.frameElement.dispatchEvent(theEvent);\n      eventCategory = (['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')']).join(' ');\n      ga('send', 'event', eventCategory, 'complete');\n      return this.proto();\n    };\n  });\n\n  this.exit = function () {\n    var screen, eventCategory;\n\n    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n    eventCategory = (['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')']).join(' ');\n\n    ga('send', 'event', eventCategory, 'quit');\n\n    return this.proto();\n  };\n\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/index.js\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n\tthis.on('ready', function (_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\tthis.splash();\n\t\t}\n\t});\n\n\tthis.splash = function() {\n\t\tthis.close(this.game.loader);\n\n\t\tif(this.game.hasClass('iOS')) {\n\t\t\tthis.open();\n\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t} else {\n\t\t\tthis.game.title.open();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen = this.proto();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tthis.game.audio.sfx.button.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.play('screenComplete');\n\t\treturn this.proto();\n\t};\n\n\tthis.startGame = function() {\n\t\tif(!this.hasClass('FINISHED')) return;\n\t\tthis.game.addClass('STARTED');\n\t\tthis.delay('2.5s', function() {\n\t\t\tthis.next();\n\t\t});\n\t};\n\n\tthis.on('animationend', function(_e) {\n\t\tif(!this.ball.is(_e.target)) return;\n\t\tthis.addClass('FINISHED');\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","(function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n}());\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/"],"sourceRoot":""}