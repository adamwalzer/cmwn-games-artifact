{"version":3,"sources":["webpack:///happy-fish-face/ai.js","webpack:///webpack/bootstrap 54b3b7ada27afcaab0ae","webpack:///./happy-fish-face/source/js/components/audio-sequence/behavior.js","webpack:///./happy-fish-face/source/js/components/bubbles/behavior.js","webpack:///./happy-fish-face/source/js/components/modal/behavior.js","webpack:///./happy-fish-face/source/js/components/multiple-choice/behavior.js","webpack:///./happy-fish-face/source/js/components/reveal/behavior.js","webpack:///./happy-fish-face/source/js/components/score/behavior.js","webpack:///./happy-fish-face/source/js/components/screen-basic/behavior.js","webpack:///./happy-fish-face/source/js/components/screen-quit/behavior.js","webpack:///./happy-fish-face/source/js/components/selectable-reveal/behavior.js","webpack:///./happy-fish-face/source/js/components/selectable/behavior.js","webpack:///./happy-fish-face/source/js/components/timer/behavior.js","webpack:///./happy-fish-face/source/js/config.game.js","webpack:///./happy-fish-face/source/js/index.js","webpack:///./happy-fish-face/source/js/screens/multi-bubbles.js","webpack:///./happy-fish-face/source/js/screens/trash.js","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","pl","game","component","i","sounds","this","on","_event","is","target","find","map","$","data","toArray","audio","next","screen","state","STATE","OPEN","play","bind","start","item","_id","select","reveal","close","VOICE_OVER","demoMode","deselect","validateAnswer","answers","properties","correct","split","indexOf","String","getSelected","complete","answer","event","$li","closest","vo","index","eq","voiceOver","_this","value","entity","template","images","ready","counter","html","render","image","length","replace","board","up","_count","console","log","max","down","willSet","_target","isComplete","rule","response","config","allowAction","nextScreen","buttonSound","proto","util","resolvePath","leave","open","prev","prevScreen","entities","hasOwnProperty","startAudio","sfx","forEach","_entity","isMemberSafe","stop","stopAudio","kill","screenComplete","isReady","gameClass","addClass","removeClass","button","LEAVE","pause","resume","init","okay","exit","cancel","respond","stateMethod","message","select_state","behaviorTarget","shouldSelect","_$target","hasClass","HIGHLIGHTED","behavior","$target","deselectAll","items","unhighlight","testTime","time","Date","now","stamp","timeout","timerComplete","toMillisec","set","eachFrame","restart","stopWatch","text","screenSelector","componentDirectory","dimensions","width","ratio","shouldLoadComponentStyles","_interopRequireDefault","obj","__esModule","default","_screensMultiBubbles","_screensMultiBubbles2","_screensTrash","_screensTrash2","garbage","iosSplash","READY","splash","selectState","delay","requiredQueue","require","incorrect","quit","eventCategory","findOwn","scope","join","ga","multiBubbles","SELECTER","CORRECT","Queue","create","selectable","_index","_node","add","highlight","score","_e","Object","defineProperty","trash","SELECTOR","$net","mousemove","e","css","left","clientX","zoom","top","clientY","$items","setup","modal","neverThrow","timer","reset","SELECTED","s","o","g","r","a","q","push","arguments","l","createElement","getElementsByTagName","async","src","parentNode","insertBefore","window","document","title","loader","ball","startGame","test","_env","parent","location","href","domain"],"mappings":"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","file":"happy-fish-face/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(13);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tpl.game.component('audio-sequence', function () {\n\t\tvar i, sounds;\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\tsounds = this.find('audio').map(function () {\n\t\t\t\treturn $(this).data('context');\n\t\t\t}).toArray();\n\t\n\t\t\tthis.audio.on('ended', (function (_event) {\n\t\t\t\tvar next = sounds[i++];\n\t\t\t\tif (next && this.screen.state(this.screen.STATE.OPEN)) next.play();\n\t\t\t}).bind(this));\n\t\t});\n\t\n\t\tthis.start = function () {\n\t\t\ti = 1;\n\t\t\tif (sounds[0]) sounds[0].play();\n\t\t};\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('bubbles', function () {});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tpl.game.component('modal', function () {\n\t\n\t\tthis.item = function (_id) {\n\t\t\tthis.select(this);\n\t\t\tthis.reveal.item(_id);\n\t\t};\n\t\n\t\tthis.close = function () {\n\t\t\tif (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t\t\t\tthis.deselect(this);\n\t\t\t}\n\t\t};\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t\tthis.validateAnswer = function () {\n\t\t\tvar answers;\n\t\n\t\t\tif (this.properties.correct) {\n\t\t\t\tanswers = this.properties.correct.split(/\\s*,\\s*/);\n\t\n\t\t\t\tif (~answers.indexOf(String(this.getSelected().id()))) {\n\t\t\t\t\tthis.complete();\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t};\n\t\n\t\tthis.answer = function () {\n\t\t\tif (this.event) {\n\t\t\t\t$li = $(this.event.target).closest('li');\n\t\n\t\t\t\tif (this.select($li)) {\n\t\t\t\t\tthis.validateAnswer();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t\tthis.item = function (_id) {\n\t\t\tvar vo, index;\n\t\n\t\t\tif (typeof _id === 'number') {\n\t\t\t\tthis.select(this.find('li').eq(_id));\n\t\t\t\tthis.audio.voiceOver[_id].play();\n\t\t\t} else if (typeof _id === 'string') {\n\t\t\t\tif (this[_id]) {\n\t\t\t\t\tthis.select(this[_id]);\n\t\n\t\t\t\t\tif (this.audio) {\n\t\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t\t\t\t\t\tif (vo) vo.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('score', function () {\n\t\tvar _this = this;\n\t\n\t\tthis.value = 0;\n\t\n\t\tthis.entity('board', function () {\n\t\n\t\t\tthis.template = null;\n\t\t\tthis.images = null;\n\t\n\t\t\tthis.ready = function () {\n\t\t\t\tthis.template = this.counter.html();\n\t\t\t\tthis.images = this.find('img');\n\t\t\t};\n\t\n\t\t\tthis.render = function () {\n\t\t\t\tvar image;\n\t\n\t\t\t\tif (this.images.length) {\n\t\t\t\t\timage = this.images[this.value];\n\t\t\t\t\tthis.select(image);\n\t\t\t\t}\n\t\n\t\t\t\tthis.counter.html(this.template.replace('{{score}}', this.value));\n\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t});\n\t\n\t\tthis.start = function () {\n\t\t\t_this.value = 0;\n\t\t\t_this.board.render();\n\t\t};\n\t\n\t\tthis.ready = function () {\n\t\t\tthis.board.render();\n\t\t};\n\t\n\t\tthis.up = function (_count) {\n\t\t\tthis.value += _count || 1;\n\t\n\t\t\tthis.board.render();\n\t\n\t\t\tconsole.log('score', this.value, this.properties.max);\n\t\n\t\t\tif (this.value >= this.properties.max) {\n\t\t\t\tconsole.log('oh word');\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.down = function (_count) {\n\t\t\tthis.value -= _count || 1;\n\t\n\t\t\tthis.board.render();\n\t\n\t\t\tif (this.value >= this.properties.max) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.state('incomplete', '-COMPLETE', {\n\t\t\twillSet: function willSet(_target) {\n\t\t\t\tthis.isComplete = false;\n\t\n\t\t\t\tif (this.value >= this.properties.max) {\n\t\t\t\t\tthis.value = this.properties.max - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tif (this.is(_event.target) && this.audio) {\n\t\t\t\tthis.audio.rule('.voiceOver', 'shouldPlay', function (_event) {\n\t\t\t\t\t_event.response(!_event.target.config(\"dontautoplay\"));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\n\t\tthis.allowAction = function () {\n\t\t\treturn this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen, buttonSound;\n\t\n\t\t\tnextScreen = this.proto();\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.prev = function () {\n\t\t\tvar prevScreen, buttonSound;\n\t\n\t\t\tprevScreen = this.proto();\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\tif (prevScreen) {\n\t\t\t\tthis.screen.close();\n\t\t\t\tprevScreen.open();\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\t\t}\n\t\n\t\t\treturn prevScreen;\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tvar entities = this.hasOwnProperty('entities') && this.entities;\n\t\n\t\t\tthis.startAudio();\n\t\t\tif (this.audio) this.audio.sfx.play('start');\n\t\n\t\t\tif (entities) {\n\t\t\t\tentities.forEach(function (_entity) {\n\t\t\t\t\tif (_entity.isMemberSafe('start')) _entity.start();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tvar entities = this.hasOwnProperty('entities') && this.entities;\n\t\n\t\t\tthis.stopAudio();\n\t\t\tthis.kill('delay');\n\t\n\t\t\tif (entities) {\n\t\t\t\tentities.forEach(function (_entity) {\n\t\t\t\t\tif (_entity.isMemberSafe('start')) _entity.stop();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.stopAudio = function () {\n\t\t\tif (!this.audio) return;\n\t\t\tthis.audio.voiceOver.stop('@ALL');\n\t\t\tthis.audio.sfx.stop('@ALL');\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tif (!this.isComplete) this.game.audio.sfx.screenComplete.play();\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (this.is(_event.target)) {\n\t\t\t\tif (this.isReady) this.start();\n\t\n\t\t\t\tif (this.properties.gameClass) {\n\t\t\t\t\tthis.game.addClass(this.properties.gameClass);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-leave ui-close', function (_event) {\n\t\t\tif (this.is(_event.target)) {\n\t\t\t\tthis.stop();\n\t\n\t\t\t\tif (this.properties.gameClass) {\n\t\t\t\t\tthis.game.removeClass(this.properties.gameClass);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t\tthis.buttonSound = function () {\n\t\t\tif (this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n\t\t};\n\t\n\t\t// TODO: Make an automated way to handle this\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\t\tthis.addClass('LEAVE-END');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tthis.buttonSound();\n\t\t\tthis.game.addClass('QUIT-SCREEN');\n\t\t\tthis.removeClass('LEAVE-END');\n\t\t\tthis.game.pause(true);\n\t\t});\n\t\n\t\tthis.on('ui-leave', function () {\n\t\t\tthis.game.removeClass('QUIT-SCREEN');\n\t\t\tthis.game.resume();\n\t\t});\n\t\n\t\tthis.init = function () {\n\t\t\tthis.addClass('LEAVE LEAVE-END');\n\t\t};\n\t\n\t\tthis.okay = function () {\n\t\t\tthis.buttonSound();\n\t\t\tthis.game.exit();\n\t\t};\n\t\n\t\tthis.cancel = function () {\n\t\t\tthis.buttonSound();\n\t\t\tthis.leave();\n\t\t};\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable-reveal', function () {\n\t\n\t\tthis.respond('select', function (_event) {\n\t\t\tvar index, stateMethod;\n\t\n\t\t\tindex = _event.message;\n\t\t\tstateMethod = this.properties.select_state || 'select';\n\t\n\t\t\tif (~index) {\n\t\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\t\tthis.reveal.item(index);\n\t\t\t}\n\t\t});\n\t\n\t\tthis.entity('selectable', function () {\n\t\n\t\t\tthis.shouldSelect = function (_$target) {\n\t\t\t\tif (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n\t\t\t\t\treturn !this.screen.state(this.STATE.VOICE_OVER);\n\t\t\t\t}\n\t\n\t\t\t\treturn false;\n\t\t\t};\n\t\t});\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t\tthis.behavior('select', function (_target) {\n\t\t\tvar $target, message;\n\t\n\t\t\tif (this.event) {\n\t\t\t\t$target = $(this.event.target).closest('li');\n\t\t\t\tmessage = $target.id() || $target.index();\n\t\n\t\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.proto(_target);\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t});\n\t\n\t\tthis.shouldSelect = function (_$target) {\n\t\t\treturn this.screen.allowAction() && _$target.is('li');\n\t\t};\n\t\n\t\tthis.deselectAll = function () {\n\t\t\tvar items = this.find('li');\n\t\t\tthis.deselect(items);\n\t\t\tthis.unhighlight(items);\n\t\t};\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('timer', function () {\n\t\n\t\tfunction testTime() {\n\t\t\tvar time;\n\t\n\t\t\ttime = Date.now();\n\t\n\t\t\tif (time >= this.stamp) {\n\t\t\t\tthis.stamp = time + 1000;\n\t\t\t\tthis.time += 1;\n\t\n\t\t\t\tthis.render();\n\t\n\t\t\t\tif (this.time * 1000 >= this.timeout) {\n\t\t\t\t\tthis.timerComplete();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tthis.timeout = 0;\n\t\tthis.time = 0;\n\t\tthis.stamp = 0;\n\t\n\t\tthis.timerComplete = function () {\n\t\t\tthis.stop().complete();\n\t\t};\n\t\n\t\tthis.init = function () {\n\t\t\tthis.timeout = pl.util.toMillisec(this.properties.set);\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.ready = function () {\n\t\t\tthis.screen.on('ui-open', this.bind(function () {\n\t\t\t\tthis.start();\n\t\t\t}));\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tthis.eachFrame(testTime);\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.restart = function () {\n\t\t\tthis.time = 0;\n\t\t\tthis.stamp = 0;\n\t\t\tthis.start();\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tthis.eachFrame(testTime, false);\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.pause = this.stop;\n\t\n\t\tthis.resume = this.start;\n\t\n\t\tthis.render = function () {\n\t\t\tthis.stopWatch.text(this.time);\n\t\t\treturn this;\n\t\t};\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t\tscreenSelector: '.screen',\n\t\tcomponentDirectory: 'components/',\n\t\tdimensions: {\n\t\t\twidth: 960,\n\t\t\tratio: 16 / 9\n\t\t},\n\t\tshouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t\n\t__webpack_require__(12);\n\t\n\t// SCREENS\n\t\n\tvar _screensMultiBubbles = __webpack_require__(14);\n\t\n\tvar _screensMultiBubbles2 = _interopRequireDefault(_screensMultiBubbles);\n\t\n\tvar _screensTrash = __webpack_require__(15);\n\t\n\tvar _screensTrash2 = _interopRequireDefault(_screensTrash);\n\t\n\t// COMPONENTS\n\t\n\t__webpack_require__(17);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(18);\n\t\n\t__webpack_require__(16);\n\t\n\tpl.game('happy-fish-face', function () {\n\t\n\t\tvar garbage = function garbage() {\n\t\t\tthis.on('ui-open', function () {\n\t\t\t\tthis.game.addClass('garbage');\n\t\t\t});\n\t\n\t\t\tthis.on('ui-close ui-leave', function () {\n\t\t\t\tthis.game.removeClass('garbage');\n\t\t\t});\n\t\t};\n\t\n\t\tthis.screen('title', function () {\n\t\n\t\t\tthis.on('ready', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\t\tif (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t\t\t});\n\t\n\t\t\tthis.entity('.fish', function () {\n\t\t\t\tthis.on('animationend', function (_event) {\n\t\t\t\t\tif (!this.is(_event.target) || !this.screen.allowAction()) return;\n\t\t\t\t\tthis.complete();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('you-feel', function () {\n\t\t\tgarbage.call(this);\n\t\n\t\t\tthis.respond('select', function (_event) {\n\t\t\t\tvar id, stateMethod;\n\t\n\t\t\t\tid = _event.message;\n\t\t\t\tstateMethod = this.properties.selectState || 'select';\n\t\n\t\t\t\tif (id != null) {\n\t\t\t\t\tthis.audio.sfx.stop('@ALL');\n\t\t\t\t\tthis.audio.sfx.play(id);\n\t\t\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\t\t\tthis.delay('2s', function () {\n\t\t\t\t\t\tthis.requiredQueue.ready('select');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.on('ready', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\t\t\tthis.require('select');\n\t\t\t});\n\t\n\t\t\tthis.on('ui-open', function () {\n\t\t\t\tthis.deselect(this.find('.SELECTED'));\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('water-pollution', garbage);\n\t\n\t\tthis.screen('healthy-water', function () {\n\t\t\tgarbage.call(this);\n\t\n\t\t\tthis.entity('multiple-choice', function () {\n\t\t\t\tthis.validateAnswer = function () {\n\t\t\t\t\tvar answers;\n\t\n\t\t\t\t\tif (this.properties.correct) {\n\t\t\t\t\t\tanswers = this.properties.correct.split(/\\s*,\\s*/);\n\t\n\t\t\t\t\t\tif (~answers.indexOf(String(this.getSelected().id()))) {\n\t\t\t\t\t\t\tthis.audio.sfx.correct.play();\n\t\t\t\t\t\t\tthis.complete();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.audio.sfx.incorrect.play();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t});\n\t\n\t\t\tthis.on('ui-open', function () {\n\t\t\t\tthis.deselect(this.find('.SELECTED'));\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('clean-water', garbage);\n\t\n\t\tthis.screen('multi-bubbles', _screensMultiBubbles2['default']);\n\t\n\t\tthis.screen('trash', _screensTrash2['default']);\n\t\n\t\tthis.screen('flip', function () {\n\t\t\tthis.next = function () {\n\t\t\t\tthis.game.quit.okay();\n\t\t\t};\n\t\t});\n\t\n\t\tthis.exit = function () {\n\t\t\tvar screen, eventCategory;\n\t\n\t\t\tscreen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t\t\teventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t\t\tga('send', 'event', eventCategory, 'quit');\n\t\n\t\t\treturn this.proto();\n\t\t};\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\texports['default'] = multiBubbles;\n\t/**\n\t * HFF - multiBubbles Screen\n\t */\n\t\n\tfunction multiBubbles() {\n\t\tthis.SELECTER = {\n\t\t\tCORRECT: '[pl-correct]'\n\t\t};\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tvar correct;\n\t\n\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\tcorrect = pl.Queue.create();\n\t\n\t\t\tcorrect.on('complete', this.bind(function () {\n\t\t\t\tthis.game.audio.sfx.screenComplete.play();\n\t\t\t\tthis.complete();\n\t\t\t}));\n\t\n\t\t\tthis.items = this.selectable.find(this.SELECTER.CORRECT).map(function (_index, _node) {\n\t\t\t\tcorrect.add($(_node).id());\n\t\t\t\treturn _node;\n\t\t\t}).toArray();\n\t\n\t\t\tthis.items.correct = correct;\n\t\t});\n\t\n\t\tthis.respond('select', function (_event) {\n\t\t\tif (~this.items.correct.indexOf(_event.message)) {\n\t\t\t\tthis.audio.voiceOver.play(_event.message);\n\t\t\t\tthis.highlight(_event.behaviorTarget);\n\t\t\t\tthis.score.up(10);\n\t\t\t\tthis.items.correct.ready(_event.message);\n\t\t\t} else {\n\t\t\t\tthis.score.down(10);\n\t\t\t\tthis.audio.sfx.incorrect.play();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-open', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.isComplete) {\n\t\t\t\tthis.unhighlight(this.find('.' + this.STATE.HIGHLIGHTED));\n\t\t\t\tthis.start();\n\t\t\t}\n\t\t});\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\texports['default'] = trash;\n\t/**\n\t * HFF - Trash Screen\n\t */\n\t\n\tfunction trash() {\n\t\tthis.SELECTOR = {\n\t\t\tCORRECT: '[pl-correct]'\n\t\t};\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tvar $net;\n\t\n\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\t$net = this.find('.net');\n\t\n\t\t\tthis.mousemove((function (e) {\n\t\t\t\t$net.css({ left: e.clientX / this.game.zoom - 50, top: e.clientY / this.game.zoom - 65 });\n\t\t\t}).bind(this));\n\t\n\t\t\tthis.on('touchstart', (function () {\n\t\t\t\tthis.addClass('TOUCH');\n\t\t\t}).bind(this));\n\t\n\t\t\tthis.$items = this.selectable.find(this.SELECTOR.CORRECT);\n\t\t\tthis.setup();\n\t\n\t\t\tthis.modal.reveal.audio.voiceOver.on('ended', (function (_event) {\n\t\t\t\tif (this.screen.state(this.STATE.OPEN)) {\n\t\t\t\t\tif (_event.target.id() === 'goodJob') this.audio.voiceOver.neverThrow.play();\n\t\t\t\t}\n\t\t\t}).bind(this.modal.reveal));\n\t\t});\n\t\n\t\tthis.setup = function () {\n\t\t\tvar correct = pl.Queue.create();\n\t\n\t\t\tcorrect.on('complete', this.bind(function () {\n\t\t\t\tthis.timer.stop();\n\t\t\t\tthis.modal.item('goodJob');\n\t\t\t\tthis.addClass('GOOD-JOB');\n\t\t\t}));\n\t\n\t\t\tthis.items = this.$items.map(function (_index, _node) {\n\t\t\t\tcorrect.add($(_node).id());\n\t\t\t\treturn _node;\n\t\t\t}).toArray();\n\t\n\t\t\tthis.unhighlight(this.$items);\n\t\n\t\t\tthis.items.correct = correct;\n\t\n\t\t\tthis.removeClass('TRY-AGAIN GOOD-JOB');\n\t\t};\n\t\n\t\tthis.reset = function () {\n\t\t\tthis.setup();\n\t\t\tthis.deselect(this.modal);\n\t\t\tthis.timer.restart();\n\t\t};\n\t\n\t\tthis.respond('select', function (_event) {\n\t\t\tif (~this.items.correct.indexOf(_event.message)) {\n\t\t\t\tthis.audio.sfx.correct.play();\n\t\t\t\tthis.highlight(_event.behaviorTarget);\n\t\t\t\tthis.items.correct.ready(_event.message);\n\t\t\t} else {\n\t\t\t\tthis.audio.sfx.incorrect.play();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.entity('timer', function () {\n\t\t\tthis.render = function () {\n\t\t\t\tthis.stopWatch.text(this.timeout / 1000 - this.time);\n\t\t\t\treturn this;\n\t\t\t};\n\t\n\t\t\tthis.timerComplete = function () {\n\t\t\t\tthis.stop();\n\t\t\t\tthis.screen.modal.item('tryAgain');\n\t\t\t\tthis.screen.addClass('TRY-AGAIN');\n\t\t\t};\n\t\t});\n\t\n\t\tthis.on('ui-open', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.modal.state(this.STATE.SELECTED)) {\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t});\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\t\tthis.splash();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.splash = function () {\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tif (this.game.hasClass('iOS')) {\n\t\t\t\tthis.open();\n\t\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t\t} else {\n\t\t\t\tthis.game.title.open();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen = this.proto();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tthis.game.audio.sfx.button.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.play('screenComplete');\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.startGame = function () {\n\t\t\tif (!this.hasClass('FINISHED')) return;\n\t\t\tthis.game.addClass('STARTED');\n\t\t\tthis.delay('2.5s', function () {\n\t\t\t\tthis.next();\n\t\t\t});\n\t\t};\n\t\n\t\tthis.on('animationend', function (_e) {\n\t\t\tif (!this.ball.is(_e.target)) return;\n\t\t\tthis.addClass('FINISHED');\n\t\t});\n\t});\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tfunction test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t}\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** happy-fish-face/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 54b3b7ada27afcaab0ae\n **/","pl.game.component('audio-sequence', function () {\n\tvar i, sounds;\n\n\tthis.on('ready', function (_event) {\n\t\tif (!this.is(_event.target)) return;\n\n\t\tsounds = this.find('audio').map(function () {\n\t\t\treturn $(this).data('context');\n\t\t}).toArray();\n\n\t\tthis.audio.on('ended', function (_event) {\n\t\t\tvar next = sounds[i++];\n\t\t\tif (next && this.screen.state(this.screen.STATE.OPEN)) next.play();\n\t\t}.bind(this));\n\t});\n\n\tthis.start = function() {\n\t\ti = 1;\n\t\tif(sounds[0]) sounds[0].play();\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/audio-sequence/behavior.js\n **/","pl.game.component('bubbles', function () {});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/bubbles/behavior.js\n **/","pl.game.component('modal', function () {\n\n\tthis.item = function(_id) {\n\t\tthis.select(this);\n\t\tthis.reveal.item(_id);\n\t};\n\t\n\tthis.close = function() {\n\t\tif(!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t\t\tthis.deselect(this);\n\t\t}\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/modal/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n\tthis.validateAnswer = function () {\n\t\tvar answers;\n\n\t\tif (this.properties.correct) {\n\t\t\tanswers = this.properties.correct.split(/\\s*,\\s*/);\n\n\t\t\tif (~answers.indexOf(String(this.getSelected().id()))) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tthis.answer = function () {\n\t\tif (this.event) {\n\t\t\t$li = $(this.event.target).closest('li');\n\n\t\t\tif (this.select($li)) {\n\t\t\t\tthis.validateAnswer();\n\t\t\t}\n\t\t}\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n\tthis.item = function (_id) {\n\t\tvar vo, index;\n\n\t\tif (typeof _id === 'number') {\n\t\t\tthis.select(this.find('li').eq(_id));\n\t\t\tthis.audio.voiceOver[_id].play();\n\t\t}\n\t\t\t\n\t\telse if (typeof _id === 'string') {\n\t\t\tif (this[_id]) {\n\t\t\t\tthis.select(this[_id]);\n\n\t\t\t\tif (this.audio) {\n\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\t\t\t\t\n\t\t\t\t\tif (vo) vo.play();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/reveal/behavior.js\n **/","pl.game.component('score', function () {\n\n\tthis.value = 0;\n\n\tthis.entity('board', function () {\n\t\t\n\t\tthis.template = null;\n\t\tthis.images = null;\n\n\t\tthis.ready = function () {\n\t\t\tthis.template = this.counter.html();\n\t\t\tthis.images = this.find('img');\n\t\t};\n\n\t\tthis.render = function () {\n\t\t\tvar image;\n\n\t\t\tif (this.images.length) {\n\t\t\t\timage = this.images[this.value];\n\t\t\t\tthis.select(image);\n\t\t\t}\n\t\t\t\n\t\t\tthis.counter.html(this.template.replace('{{score}}', this.value));\n\n\t\t\treturn this;\n\t\t};\n\n\t});\n\n\tthis.start = () => {\n\t\tthis.value = 0;\n\t\tthis.board.render();\n\t};\n\n\tthis.ready = function () {\n\t\tthis.board.render();\n\t};\n\n\tthis.up = function (_count) {\n\t\tthis.value+= _count || 1;\n\n\t\tthis.board.render();\n\n\t\tconsole.log('score', this.value, this.properties.max)\n\n\t\tif (this.value >= this.properties.max) {\n\t\t\tconsole.log('oh word');\n\t\t\tthis.complete();\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.down = function (_count) {\n\t\tthis.value-= _count || 1;\n\n\t\tthis.board.render();\n\t\t\n\t\tif (this.value >= this.properties.max) {\n\t\t\tthis.complete();\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.state('incomplete','-COMPLETE', {\n\t\twillSet: function (_target) {\n\t\t\tthis.isComplete = false;\n\n\t\t\tif(this.value >= this.properties.max) {\n\t\t\t\tthis.value = this.properties.max - 1;\n\t\t\t}\n\t\t}\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/score/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\n\tthis.on('ready', function (_event) {\n\t\tif (this.is(_event.target) && this.audio) {\n\t\t\tthis.audio.rule('.voiceOver', 'shouldPlay', function (_event) {\n\t\t\t\t_event.response(!_event.target.config(\"dontautoplay\"));\n\t\t\t});\n\t\t}\n\t});\n\n\tthis.allowAction = function() {\n\t\treturn (this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER)) || this.game.demoMode;\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen, buttonSound;\n\n\t\tnextScreen = this.proto();\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\tif (nextScreen) {\n\t\t\tthis.leave();\n\t\t\tnextScreen.open();\n\t\t\tif (buttonSound) buttonSound.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.prev = function () {\n\t\tvar prevScreen, buttonSound;\n\n\t\tprevScreen = this.proto();\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\tif (prevScreen) {\n\t\t\tthis.screen.close();\n\t\t\tprevScreen.open();\n\t\t\tif (buttonSound) buttonSound.play();\n\t\t}\n\n\t\treturn prevScreen;\n\t};\n\n\tthis.start = function () {\n\t\tvar entities = this.hasOwnProperty('entities') && this.entities;\n\n\t\tthis.startAudio();\n\t\tif (this.audio) this.audio.sfx.play('start');\n\n\t\tif (entities) {\n\t\t\tentities.forEach(function (_entity) {\n\t\t\t\tif (_entity.isMemberSafe('start')) _entity.start();\n\t\t\t});\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.stop = function () {\n\t\tvar entities = this.hasOwnProperty('entities') && this.entities;\n\n\t\tthis.stopAudio();\n\t\tthis.kill('delay');\n\n\t\tif (entities) {\n\t\t\tentities.forEach(function (_entity) {\n\t\t\t\tif (_entity.isMemberSafe('start')) _entity.stop();\n\t\t\t});\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.stopAudio = function () {\n\t\tif (!this.audio) return;\n\t\tthis.audio.voiceOver.stop('@ALL');\n\t\tthis.audio.sfx.stop('@ALL');\n\t};\n\n\tthis.complete = function () {\n\t\tif(!this.isComplete) this.game.audio.sfx.screenComplete.play();\n\t\treturn this.proto();\n\t};\n\n\tthis.on('ui-open', function (_event) {\n\t\tif (this.is(_event.target)) {\n\t\t\tif (this.isReady) this.start();\n\n\t\t\tif (this.properties.gameClass) {\n\t\t\t\tthis.game.addClass(this.properties.gameClass);\n\t\t\t}\n\t\t}\n\t});\n\n\tthis.on('ui-leave ui-close', function (_event) {\n\t\tif (this.is(_event.target)) {\n\t\t\tthis.stop();\n\n\t\t\tif (this.properties.gameClass) {\n\t\t\t\tthis.game.removeClass(this.properties.gameClass);\n\t\t\t}\n\t\t}\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n\tthis.buttonSound = function() {\n\t\tif(this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n\t}\n\n\t// TODO: Make an automated way to handle this\n\tthis.on('transitionend', function (_event) {\n\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\tthis.addClass('LEAVE-END');\t\n\t\t}\n\t});\n\n\tthis.on('ui-open', function (_event) {\n\t\tthis.buttonSound();\n\t\tthis.game.addClass('QUIT-SCREEN');\n\t\tthis.removeClass('LEAVE-END');\n\t\tthis.game.pause(true);\n\t});\n\n\tthis.on('ui-leave', function () {\n\t\tthis.game.removeClass('QUIT-SCREEN');\n\t\tthis.game.resume();\n\t});\n\n\tthis.init = function () {\n\t\tthis.addClass('LEAVE LEAVE-END');\n\t};\n\t\n\tthis.okay = function () {\n\t\tthis.buttonSound();\n\t\tthis.game.exit();\n\t};\n\n\tthis.cancel = function () {\n\t\tthis.buttonSound();\n\t\tthis.leave();\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('selectable-reveal', function () {\n\t\n\tthis.respond('select', function (_event) {\n\t\tvar index, stateMethod;\n\n\t\tindex = _event.message;\n\t\tstateMethod = this.properties.select_state || 'select';\n\n\t\tif (~index) {\n\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\tthis.reveal.item(index);\n\t\t}\n\t});\n\n\tthis.entity('selectable', function () {\n\t\t\n\t\tthis.shouldSelect = function (_$target) {\n\t\t\tif (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n\t\t\t\treturn !this.screen.state(this.STATE.VOICE_OVER);\n\t\t\t}\n\n\t\t\treturn false; \n\t\t};\n\n\t});\n\n});\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/selectable-reveal/behavior.js\n **/","pl.game.component('selectable', function () {\n\n\tthis.behavior('select', function (_target) {\n\t\tvar $target, message;\n\n\t\tif (this.event) {\n\t\t\t$target = $(this.event.target).closest('li');\n\t\t\tmessage = $target.id() || $target.index();\n\n\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage,\n\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t};\n\t\t\t}\t\n\t\t}\n\n\t\telse {\n\t\t\tthis.proto(_target);\n\t\t}\n\n\t\treturn false;\n\t});\n\n\tthis.shouldSelect = function (_$target) {\n\t\treturn this.screen.allowAction() && _$target.is('li');\n\t};\n\n\tthis.deselectAll = function() {\n\t\tvar items = this.find('li');\n\t\tthis.deselect(items);\n\t\tthis.unhighlight(items);\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/selectable/behavior.js\n **/","pl.game.component('timer', function () {\n\n\tfunction testTime () {\n\t\tvar time;\n\n\t\ttime = Date.now();\n\n\t\tif (time >= this.stamp) {\n\t\t\tthis.stamp = time+1000;\n\t\t\tthis.time += 1;\n\t\t\t\n\t\t\tthis.render();\n\n\t\t\tif (this.time*1000 >= this.timeout) {\n\t\t\t\tthis.timerComplete();\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.timeout = 0;\n\tthis.time = 0;\n\tthis.stamp = 0;\n\n\tthis.timerComplete = function() {\n\t\tthis\n\t\t\t.stop()\n\t\t\t.complete();\n\t};\n\n\tthis.init = function () {\n\t\tthis.timeout = pl.util.toMillisec(this.properties.set);\n\t\treturn this;\n\t};\n\n\tthis.ready = function () {\n\t\tthis.screen.on('ui-open', this.bind(function () {\n\t\t\tthis.start();\n\t\t}));\n\t\treturn this;\n\t};\n\n\tthis.start = function () {\n\t\tthis.eachFrame(testTime);\n\t\treturn this;\n\t};\n\n\tthis.restart = function() {\n\t\tthis.time = 0;\n\t\tthis.stamp = 0;\n\t\tthis.start();\n\t\treturn this;\n\t};\n\n\tthis.stop = function () {\n\t\tthis.eachFrame(testTime, false);\n\t\treturn this;\n\t};\n\n\tthis.pause = this.stop;\n\n\tthis.resume = this.start;\n\n\tthis.render = function () {\n\t\tthis.stopWatch.text(this.time);\n\t\treturn this;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/components/timer/behavior.js\n **/","pl.game.config({\n\tscreenSelector: '.screen',\n\tcomponentDirectory: 'components/',\n\tdimensions: {\n\t\twidth: 960,\n\t\tratio: 16/9\n\t},\n\tshouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\nimport './config.game';\n\n// SCREENS\nimport multiBubbles from './screens/multi-bubbles';\nimport trash from './screens/trash';\n\n// COMPONENTS\nimport '../../../shared/js/screen-ios-splash';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/bubbles/behavior';\nimport './components/score/behavior';\nimport './components/timer/behavior';\nimport './components/reveal/behavior';\nimport './components/multiple-choice/behavior';\nimport './components/selectable/behavior';\nimport './components/selectable-reveal/behavior';\nimport './components/audio-sequence/behavior';\nimport './components/modal/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\npl.game('happy-fish-face', function () {\n\n\tvar garbage = function() {\n\t\tthis.on('ui-open', function() {\n\t\t\tthis.game.addClass('garbage');\n\t\t});\n\n\t\tthis.on('ui-close ui-leave', function() {\n\t\t\tthis.game.removeClass('garbage');\n\t\t});\n\t};\n\n\tthis.screen('title', function () {\n\n\t\tthis.on('ready', function(_event) {\n\t\t\tif(!this.is(_event.target)) return;\n\n\t\t\tif(this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t\t});\n\n\t\tthis.entity('.fish', function() {\n\t\t\tthis.on('animationend', function(_event) {\n\t\t\t\tif(!this.is(_event.target) || !this.screen.allowAction()) return;\n\t\t\t\tthis.complete();\n\t\t\t});\n\t\t});\n\t});\n\n\tthis.screen('you-feel', function() {\n\t\tgarbage.call(this);\n\n\t\tthis.respond('select', function (_event) {\n\t\t\tvar id, stateMethod;\n\n\t\t\tid = _event.message;\n\t\t\tstateMethod = this.properties.selectState || 'select';\n\n\t\t\tif(id != null) {\n\t\t\t\tthis.audio.sfx.stop('@ALL');\n\t\t\t\tthis.audio.sfx.play(id);\n\t\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\t\tthis.delay('2s', function() {\n\t\t\t\t\tthis.requiredQueue.ready('select');\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tthis.on('ready', function(_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\t\t\tthis.require('select');\n\t\t});\n\n\t\tthis.on('ui-open', function() {\n\t\t\tthis.deselect(this.find('.SELECTED'));\n\t\t});\n\t});\n\n\tthis.screen('water-pollution', garbage);\n\n\tthis.screen('healthy-water', function() {\n\t\tgarbage.call(this);\n\n\t\tthis.entity('multiple-choice', function() {\n\t\t\tthis.validateAnswer = function() {\n\t\t\t\tvar answers;\n\n\t\t\t\tif (this.properties.correct) {\n\t\t\t\t\tanswers = this.properties.correct.split(/\\s*,\\s*/);\n\n\t\t\t\t\tif (~answers.indexOf(String(this.getSelected().id()))) {\n\t\t\t\t\t\tthis.audio.sfx.correct.play();\n\t\t\t\t\t\tthis.complete();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.audio.sfx.incorrect.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\t\t});\n\n\t\tthis.on('ui-open', function() {\n\t\t\tthis.deselect(this.find('.SELECTED'));\n\t\t});\n\t});\n\n\tthis.screen('clean-water', garbage);\n\n\tthis.screen('multi-bubbles', multiBubbles);\n\n\tthis.screen('trash', trash);\n\n\tthis.screen('flip', function () {\n\t\tthis.next = function () {\n\t\t\tthis.game.quit.okay();\n\t\t};\n\t});\n\n\tthis.exit = function () {\n\t\tvar screen, eventCategory;\n\n\t\tscreen = this.findOwn(pl.game.config('screenSelector')+'.OPEN:not(#quit)').scope();\n\t\teventCategory = (['game', this.id(), screen.id()+'('+(screen.index()+1)+')']).join(' ');\n\n\t\tga('send', 'event', eventCategory, 'quit');\n\n\t\treturn this.proto();\n\t};\n\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/index.js\n **/","/**\n * HFF - multiBubbles Screen\n */\nexport default function multiBubbles () {\n\tthis.SELECTER = {\n\t\tCORRECT: '[pl-correct]'\n\t};\n\n\tthis.on('ready', function(_event) {\n\t\tvar correct;\n\n\t\tif (!this.is(_event.target)) return;\n\n\t\tcorrect = pl.Queue.create();\n\n\t\tcorrect.on('complete', this.bind(function () {\n\t\t\tthis.game.audio.sfx.screenComplete.play();\n\t\t\tthis.complete();\n\t\t}));\n\n\t\tthis.items = this\n\t\t\t.selectable\n\t\t\t.find(this.SELECTER.CORRECT)\n\t\t\t.map(function (_index, _node) {\n\t\t\t\tcorrect.add($(_node).id());\n\t\t\t\treturn _node;\n\t\t\t})\n\t\t\t.toArray();\n\n\t\tthis.items.correct = correct;\n\t});\n\n\tthis.respond('select', function(_event) {\n\t\tif(~this.items.correct.indexOf(_event.message)) {\n\t\t\tthis.audio.voiceOver.play(_event.message);\n\t\t\tthis.highlight(_event.behaviorTarget);\n\t\t\tthis.score.up(10);\n\t\t\tthis.items.correct.ready(_event.message);\n\t\t} else {\n\t\t\tthis.score.down(10);\n\t\t\tthis.audio.sfx.incorrect.play();\n\t\t}\n\t});\n\n\tthis.on('ui-open', function(_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.isComplete) {\n\t\t\tthis.unhighlight(this.find('.'+this.STATE.HIGHLIGHTED));\n\t\t\tthis.start();\n\t\t}\n\t});\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/screens/multi-bubbles.js\n **/","/**\n * HFF - Trash Screen\n */\nexport default function trash () {\n\tthis.SELECTOR = {\n\t\tCORRECT: '[pl-correct]'\n\t};\n\n\tthis.on('ready', function(_event) {\n\t\tvar $net;\n\n\t\tif (!this.is(_event.target)) return;\n\n\t\t$net = this.find('.net');\n\n\t\tthis.mousemove(function(e){\n\t\t\t$net.css({left: e.clientX / this.game.zoom - 50, top: e.clientY / this.game.zoom - 65});\n\t\t}.bind(this));\n\n\t\tthis.on('touchstart', function() {\n\t\t\tthis.addClass('TOUCH');\n\t\t}.bind(this));\n\t\t\n\t\tthis.$items = this\n\t\t\t.selectable\n\t\t\t.find(this.SELECTOR.CORRECT);\n\t\tthis.setup();\n\n\t\tthis.modal.reveal.audio.voiceOver.on('ended', function (_event) {\n\t\t\tif (this.screen.state(this.STATE.OPEN)) {\n\t\t\t\tif(_event.target.id() === 'goodJob') this.audio.voiceOver.neverThrow.play();\n\t\t\t}\n\t\t}.bind(this.modal.reveal));\n\t});\n\n\tthis.setup = function () {\n\t\tvar correct = pl.Queue.create();\n\n\t\tcorrect.on('complete', this.bind(function () {\n\t\t\tthis.timer.stop();\n\t\t\tthis.modal.item('goodJob');\n\t\t\tthis.addClass('GOOD-JOB');\n\t\t}));\n\n\t\tthis.items = this\n\t\t\t.$items\n\t\t\t.map(function (_index, _node) {\n\t\t\t\tcorrect.add($(_node).id());\n\t\t\t\treturn _node;\n\t\t\t})\n\t\t\t.toArray();\n\n\t\tthis.unhighlight(this.$items);\n\n\t\tthis.items.correct = correct;\n\n\t\tthis.removeClass('TRY-AGAIN GOOD-JOB');\n\t};\n\n\tthis.reset = function() {\n\t\tthis.setup();\n\t\tthis.deselect(this.modal);\n\t\tthis.timer.restart();\n\t};\n\n\tthis.respond('select', function(_event) {\n\t\tif(~this.items.correct.indexOf(_event.message)) {\n\t\t\tthis.audio.sfx.correct.play();\n\t\t\tthis.highlight(_event.behaviorTarget);\n\t\t\tthis.items.correct.ready(_event.message);\n\t\t} else {\n\t\t\tthis.audio.sfx.incorrect.play();\n\t\t}\n\t});\n\n\tthis.entity('timer', function() {\n\t\tthis.render = function() {\n\t\t\tthis.stopWatch.text(this.timeout/1000 - this.time);\n\t\t\treturn this;\n\t\t};\n\n\t\tthis.timerComplete = function() {\n\t\t\tthis.stop();\n\t\t\tthis.screen.modal.item('tryAgain');\n\t\t\tthis.screen.addClass('TRY-AGAIN');\n\t\t};\n\t});\n\n\tthis.on('ui-open', function(_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.modal.state(this.STATE.SELECTED)) {\n\t\t\tthis.reset();\n\t\t}\n\t});\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./happy-fish-face/source/js/screens/trash.js\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n\tthis.on('ready', function (_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\tthis.splash();\n\t\t}\n\t});\n\n\tthis.splash = function() {\n\t\tthis.close(this.game.loader);\n\n\t\tif(this.game.hasClass('iOS')) {\n\t\t\tthis.open();\n\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t} else {\n\t\t\tthis.game.title.open();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen = this.proto();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tthis.game.audio.sfx.button.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.play('screenComplete');\n\t\treturn this.proto();\n\t};\n\n\tthis.startGame = function() {\n\t\tif(!this.hasClass('FINISHED')) return;\n\t\tthis.game.addClass('STARTED');\n\t\tthis.delay('2.5s', function() {\n\t\t\tthis.next();\n\t\t});\n\t};\n\n\tthis.on('animationend', function(_e) {\n\t\tif(!this.ball.is(_e.target)) return;\n\t\tthis.addClass('FINISHED');\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/"],"sourceRoot":""}