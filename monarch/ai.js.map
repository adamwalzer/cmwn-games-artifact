{"version":3,"sources":["webpack:///monarch/ai.js","webpack:///webpack/bootstrap 14b4c7ee0f2bd5af7a00","webpack:///./monarch/source/js/components/audio-sequence/behavior.js","webpack:///./monarch/source/js/components/catch/behavior.js","webpack:///./monarch/source/js/components/frame/behavior.js","webpack:///./monarch/source/js/components/modal/behavior.js","webpack:///./monarch/source/js/components/multiple-choice/behavior.js","webpack:///./monarch/source/js/components/reveal/behavior.js","webpack:///./monarch/source/js/components/runner/behavior.js","webpack:///./monarch/source/js/components/score/behavior.js","webpack:///./monarch/source/js/components/screen-basic/behavior.js","webpack:///./monarch/source/js/components/screen-quit/behavior.js","webpack:///./monarch/source/js/components/screen-title/behavior.js","webpack:///./monarch/source/js/components/selectable-reveal/behavior.js","webpack:///./monarch/source/js/components/selectable/behavior.js","webpack:///./monarch/source/js/components/video/behavior.js","webpack:///./monarch/source/js/config.game.js","webpack:///./monarch/source/js/index.js","webpack:///./monarch/source/js/screens/fly-across.js","webpack:////Users/adamwalzer/Sites/js-interactive-library/build/play.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","pl","game","component","sounds","this","on","_event","screen","is","target","find","each","i","audio","onended","state","STATE","OPEN","playSound","properties","loop","length","start","bind","behavior","_target","$target","$","index","shouldSelect","addClass","delay","removeClass","message","behaviorTarget","_$target","hasClass","deselectAll","items","deselect","unhighlight","eachFrame","onEachFrame","stop","opening","getOpening","$items","item","rect","getItemRect","top","bottom","left","right","select","$bucket","getBoundingClientRect","_e","e","preventDefault","css","originalEvent","pageX","zoom","bgSound","voSound","util","resolvePath","play","hasAttribute","hasOwnProperty","entities","handleProperty","title","_node","_name","_value","defineRule","backgroundImage","isReady","targetScope","isComplete","requiredQueue","complete","_id","reveal","VOICE_OVER","demoMode","sfx","button","validateAnswer","_scope","answers","correct","split","indexOf","String","getSelected","answer","event","$li","closest","vo","eq","voiceOver","canvas","Flower","gameLoop","FLOWER","scale","boundPulse","ORANGE","RED","YELLOW","lastRecycledFlower","frame","flowers","forEach","_flower","x","width","position","margin","size","recycle","image","random","bin","pulsePoint","pulse","y","height","Basic","extend","init","_image","$image","Point","create","naturalWidth","naturalHeight","to","some","_plane","toLowerCase","math","render","drawImage","_type","ctx","node","content","_canvas","_size","_scale","getContext","resize","clear","clearRect","draw","_obj","commands","cmd","apply","player","conveyor","isConveyorRunning","canvasSize","findOwn","toArray","shouldAppend","flower","push","log","Size","set","viewport","onResize","testFlower","attr","restart","pos","absolutePosition","inc","hitArea","padding","inBoundsX","inBoundsY","x1","y1","x2","y2","landed","transformPosition","dec","value","entity","template","ready","html","replace","require","board","up","_count","console","max","down","currentVO","allowAction","_sound","type","next","nextScreen","buttonSound","proto","leave","open","prev","prevScreen","close","fxSound","timeoutID","clearTimeout","intervalID","kill","gameClass","isMemberSafe","LEAVE","okay","exit","cancel","so","loader","logo","animOut","off","animate","respond","stateMethod","selectState","HIGHLIGHTED","self","video","pause","config","screenSelector","componentDirectory","dimensions","ratio","shouldLoadComponentStyles","_interopRequireDefault","obj","__esModule","default","_screensFlyAcross","_screensFlyAcross2","repeat","pupa","count","interval","shouldCatch","modal","selectableReveal","lifespan","quit","shake","eventCategory","scope","join","ga","flyAcross","incorrect","runner","Object","defineProperty","run","_play2","_play","window","document","addEventListener","_Array$forEach","_typesDimensions","_libMatrix","_libMatrix2","original","result","$node","data","_set","undefined","address","tag","classes","nodeName","_test","toUpperCase","match","arguments","offset","transform","t","matrix","is3d","setTransform","toCSS","_matrix","concat","slice","map","parseFloat","point","translate","f","transformScale","a","d","args","removeAttr","attributes","_attr","name","exec","_method","_args","fn","Array","$export","$ctx","$Array","statics","setStatics","keys","key","Function","S","$Object","getProto","getPrototypeOf","isEnum","propertyIsEnumerable","getDesc","getOwnPropertyDescriptor","setDesc","setDescs","defineProperties","getKeys","getNames","getOwnPropertyNames","getSymbols","getOwnPropertySymbols","global","core","PROTOTYPE","source","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","own","out","C","param","Math","__g","version","__e","aFunction","that","b","it","TypeError","_Object$defineProperties","_typesBasicArray","_typesBasicArray2","Dimension","prototype","_Thing","isPrototypeOf","originalMap","planeMap","_argumentsArray","instance","_val","_plane2","_fun","parseInt","planeOf","_index","isNaN","_handler","product","quotient","floor","remainder","get","Number","_width","_height","hypotenuse","sqrt","pow","applyTo","_object","nodeType","ELEMENT_NODE","style","_x","_y","distance","_point","rotate","_origin","_angle","rad","PI","sin","cos","T","D","_util","_util2","_typesBasic","_typesBasic2","BasicArray","baseType","mixin","member","objs","keyOf","_member","getOwner","object","_collection_rangeA","_rangeB","val","round","transformId","_camelCase","_match","RegExp","$1","isSet","every","_arg","toMillisec","_source","tokens","time","units","h","s","_token","unit","_collection","_path","path","testArray","test","assignRef","_ref","__refCollction__","enumerable","writeable","configureable","noop","resolveFileName","lastIndexOf","createId","_pattern","toString","Date","now","_Object$create","_implementation","error","method","owner","caller","sup","constructor","Matrix","context","me","_t","cm","clone","flipX","flipY","reflectVector","v","applyToPoint","reset","angle","rotateFromVector","atan2","rotateDeg","scaleU","sx","sy","scaleX","scaleY","shear","shearX","shearY","skew","ax","ay","tan","skewX","skewY","tx","ty","translateX","translateY","a2","b2","c2","d2","e2","f2","a1","b1","c1","d1","e1","f1","divide","isInvertible","im","inverse","divideScalar","isIdentity","dt","interpolate","m2","interpolateAnim","decompose","rotation","useLU","acos","atan","pi","determ","r","determinant","applyToArray","points","l","mxPoints","applyToTypedArray","use64","Float64Array","Float32Array","applyToContext","_q","isValid","noContext","isEqual","q","toCSS3D","toJSON","JSON","stringify","abs","resolveEventType","resolution","_playGame2","feature","ACTION","ACTION_DOWN","ACTION_UP","ACTION_MOVE","ACTION_OUT","_playGame","_typesQueue","_typesQueue2","Queue","EVENT","isDOMReady","initialize","register","_eventName","READY_QUEUE","trigger","GAMES","implementation","_name_collection","_typesGlobalScope2","_typesGame2","_item","_playGameComponent","_playGameComponent2","_playGameManager","_playGameManager2","_typesEvents","_typesEvents2","_typesGlobalScope","_typesEntity","_typesEntity2","_typesScreen","_typesScreen2","_typesGame","_platform","_platform2","CONFIG","audioContext","manager","gameData","loadAll","emit","EVENT_INIT","report","_gameScope","saveGameState","progress","EVENT_EXIT","flip","EVENT_FLIPPED","_key_mixin","provideEntityType","provideScreenType","_mixin","queue","splice","detect","touch","tester","warn","getAudioContext","AudioContext","webkitAudioContext","enableAudioContext","silence","createBufferSource","buffer","createBuffer","connect","destination","disconnect","COMPONENTS","record","load","_callback","getScript","$components","Events","createProxyFunction","$jq","methods","_playGameManagerDraggable","_playGameManagerDraggable2","draggable","boot","createHelperStyleSheet","attachEvents","E","disableTouchScroll","$draggable","cursor","mode","helperID","dragStartEvent","resolveEventPoint","createID","$helper","draggableStyleSheet","provideSource","createDraggableRule","appendTo","body","Event","dragMoveEvent","dragEndEvent","documentElement","toElement","remove","changedTouches","clientX","clientY","_$draggable","blacklist","rule","prop","getComputedStyle","_rule","_typesCollection","_typesCollection2","COLLECTION_DRAGABLES","draggableManager","Collection","getRecord","_key","_shouldCollect","add","_record","has","filter","_typesScope","GlobalScope","Scope","createEntity","_$node","componentRecord","Error","_typesJQProxy","_typesJQProxy2","_evalAction","_evalAction2","_typesAudioManager","attachActionHandler","actionables","action","getRecordBy","removeRecord","captureDropables","collection","pluckAndDrop","_dropables","_template","dropable","replaceWith","children","loadComponentAssets","status","totalRequests","transcludeMode","dropables","TRANSCLUDE_PLUCK","transclude","memory","TRANSCLUDE_APPEND","append","TRANSCLUDE_PREPEND","prepend","empty","TRANSCLUDE_REPLACE","captureProperties","$els","initializeEntities","$nodes","query","selector","assetQueue","handleProperties","property","handler","propertyHandlers","getNamedItem","invokeLocal","willInitEvent","initEvent","watchAssets","captureAudioAssets","captureReferences","__init","readyEvent","media","addShadow","collections","background","__ready","Actionables","_action","isComponent","currentMedia","_node_selector","_componentName","jquery","ReferenceError","willInit","_nodes","createHandler","watch","loadedEvent","src","onload","onerror","deQ","$audio","AudioManager","then","_audio","targetNode","audioEvent","targetSource","_selector","Entity","_child","child","_property","required","_Object$keys","jQProxy","response","registerHandler","resolveEventHandler","arg","_definition","eventRegistry","exclude","listen","_isCapure_handler","_isCapture","cb","ignore","removeEventListener","parent","elOwner","toObject","$keys","defined","fails","KEY","exp","evalAction","eval","MediaManager","EventTargetInterface","InspectorInterface","LegislatorInterface","StateInterface","alloc","AudioBufferRecord","_buffer","getAudioType","className","AUDIO_TYPES","loadArrayBuffer","xhr","fileName","XMLHttpRequest","_Promise","reject","resolve","onLoad","promise","resolveDecoding","rejectDecoding","decodeAudioData","collect","BUFFER_CACHE","statusText","onError","cache","responseType","send","PlayableInterface","AudioCollection","_error","$$","protoype","types","Audio","$el","MediaCollection","_media","$clone","accessConfig","_augment","gain","createGain","getSource","activeSource","createMediaElementSource","setContext","_typesType","_typesType2","jQuery","_class","playing","_filterSelector","_query","addState","_state","removeState","proxyEvent","theEvent","simEnd","playSource","startTime","ceil","duration","timeout","setTimeout","delayID","shouldPlay","dest","pauseTime","resume","stopEvent","currentTime","volume","_level","Promise","$at","iterated","_i","O","done","toInteger","TO_STRING","charCodeAt","charAt","LIBRARY","redefine","hide","Iterators","$iterCreate","setToStringTag","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","NAME","Constructor","DEFAULT","IS_SET","FORCED","getMethod","kind","values","entries","TAG","DEF_VALUES","VALUES_BUG","$native","$default","IteratorPrototype","createDesc","bitmap","configurable","writable","descriptor","def","stat","store","uid","Symbol","SHARED","px","NodeList","HTMLCollection","addToUnscopables","step","toIObject","_k","Arguments","IObject","cof","classof","isObject","anObject","strictNew","forOf","setProto","same","SPECIES","speciesConstructor","asap","PROMISE","process","isNode","Wrapper","testResolve","sub","USE_NATIVE","P2","works","thenableThenGotten","sameConstructor","getConstructor","isThenable","PromiseCapability","$$resolve","$$reject","perform","notify","isReject","n","chain","ok","reaction","fail","isUnhandled","onunhandledrejection","reason","_d","$reject","$resolve","wrapper","executor","err","onFulfilled","onRejected","catch","capability","iter","all","iterable","abrupt","remaining","results","alreadyCalled","race","ARG","callee","isArrayIter","toLength","getIterFn","iterFn","iterator","ret","ArrayProto","min","getIteratorMethod","check","setPrototypeOf","buggy","__proto__","macrotask","Observer","MutationObserver","WebKitMutationObserver","head","last","flush","domain","enter","nextTick","toggle","createTextNode","observe","characterData","task","invoke","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","ONREADYSTATECHANGE","defer","channel","port","listner","port2","port1","onmessage","postMessage","importScripts","appendChild","removeChild","un","createElement","DESCRIPTORS","SAFE_CLOSING","riter","from","skipClosing","safe","arr","Bindings","_from","_to","_itterable","createApi","_constructor","api","base","constant","_Object$defineProperty","static","_static","_name_def","_def","memberType","props","parse","_call","defs","Super","desc","invokeResponsibilities","responsibilities","ability","resolveTarget","ResponsibilityRecord","_ability","dragGreeter","grab","dragging","release","attachDragEvents","draggables","PLAYING","BACKGROUND","SFX","shouldInheritAbilities","frameHandlers","frameRate","bgImageCollection","bg","img","Image","propagateBehavior","ids","_entity","gate","_behavior","behaviorEvent","parentScope","abilities","protoAbilities","provideAblilityPototype","_time","_cb","setInterval","_timer","clearInterval","_on","binder","lastTime","rate","frames","requestAnimationFrame","_flag","_imp","flag","setter","getter","opperations","names","_opp","uiStateEvent","oppsPerformed","shouldSet","notSet","willSet","didSet","provideBehaviorEventScope","completed","$parent","_target_point","Screen","attachBehaviorEvent","startAudio","stopAudio","pauseMedia","resumeMedia","screens","nextSib","prevSib","isLast","Game","detechDevice","deviceClasses","iOS","mobileOrTablet","iDevices","navigator","platform","pop","substr","userAgent","vendor","opera","scaleGame","vpSize","gameDimensions","toPrecision","transformOrigin","info","collectVideos","onplay","Viewport","screenPrototype","platformEventHandler","_ctx","keyCommands","vp","$html","RESIZE_HANDLERS","orientation","LANDSCAPE","PROTRAIT","SQUAREISH","innerWidth","innerHeight","offResize","watchAudio","captureScreens","focus","onKeys","_commands","sequence","chords","modifiers",13,16,17,18,27,37,38,39,40,91,"shift","ctrl","alt","esc","meta","modifier","eventMods","currentMods","command","keyCode","fromCharCode","shiftKey","ctrlKey","altKey","metaKey","_modifierDown","beginAudio","currentScreen","not","quitScreen","suspend","current","createEvent","_props","eventObject","bubbles","cancelable","_data","platformEvent","EVENT_SAVE","frameElement","dispatchEvent"],"mappings":"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","file":"monarch/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(16);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tpl.game.component('audio-sequence', function () {\n\t\n\t\tvar sounds = null;\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tvar screen = this.screen;\n\t\n\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\tsounds = this.find(\"> audio\");\n\t\t\tsounds.each(function (i, audio) {\n\t\t\t\taudio.onended = function () {\n\t\t\t\t\tif (sounds[i + 1] && screen.state(screen.STATE.OPEN)) screen.playSound(sounds[i + 1]);\n\t\t\t\t};\n\t\t\t});\n\t\t\tif (typeof this.properties.loop !== 'undefined') {\n\t\t\t\tsounds[sounds.length - 1].onended = this.start.bind(this);\n\t\t\t}\n\t\t});\n\t\n\t\tthis.start = function () {\n\t\t\tif (sounds[0] && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound(sounds[0]);\n\t\t};\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('catch', function () {\n\t\n\t\tthis.behavior('select', function (_target) {\n\t\t\tvar $target, id;\n\t\n\t\t\t$target = $(_target);\n\t\t\tid = $target.id() || $target.index();\n\t\n\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\t$target.addClass('CAUGHT');\n\t\t\t\tthis.delay('4s', function () {\n\t\t\t\t\t$target.removeClass('CAUGHT');\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\tmessage: id,\n\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t});\n\t\n\t\tthis.shouldSelect = function (_$target) {\n\t\t\treturn !_$target.hasClass('CAUGHT');\n\t\t};\n\t\n\t\tthis.deselectAll = function () {\n\t\t\tvar items = this.find('li');\n\t\t\tthis.deselect(items);\n\t\t\tthis.unhighlight(items);\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tthis.eachFrame(this.onEachFrame);\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tthis.eachFrame(this.onEachFrame, false);\n\t\t};\n\t\n\t\tthis.onEachFrame = function () {\n\t\t\tvar opening = this.getOpening();\n\t\n\t\t\tthis.$items.each((function (i, item) {\n\t\t\t\tvar rect = this.getItemRect(item);\n\t\n\t\t\t\tif (opening.top < rect.bottom && opening.top > rect.top) {\n\t\t\t\t\tif (rect.left > opening.left && rect.left < opening.right || rect.right > opening.left && rect.right < opening.right) {\n\t\t\t\t\t\tthis.select(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).bind(this));\n\t\t};\n\t\n\t\tthis.getOpening = function () {\n\t\t\treturn this.$bucket[0].getBoundingClientRect();\n\t\t};\n\t\n\t\tthis.getItemRect = function (item) {\n\t\t\tvar rect = item.getBoundingClientRect();\n\t\n\t\t\treturn {\n\t\t\t\ttop: rect.top + (rect.bottom - rect.top) / 4,\n\t\t\t\tbottom: rect.bottom - (rect.bottom - rect.top) / 4,\n\t\t\t\tleft: rect.left + (rect.right - rect.left) / 4,\n\t\t\t\tright: rect.right - (rect.right - rect.left) / 4\n\t\t\t};\n\t\t};\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tvar $bucket;\n\t\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tthis.$items = this.find('.items li');\n\t\t\tthis.$bucket = this.find('[pl-id=bucket]');\n\t\t\tthis['catch'] = false;\n\t\n\t\t\t$('.catch-component').on('mousemove touchstart touchmove', (function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.$bucket.css({ left: e.originalEvent.pageX / this.game.zoom - 72 });\n\t\t\t}).bind(this));\n\t\t});\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tpl.game.component('frame', function () {\n\t\n\t\tthis.start = function () {\n\t\t\tvar bgSound, voSound;\n\t\n\t\t\tbgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t\t\tvoSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t\n\t\t\tif (bgSound) bgSound.play();\n\t\t\tif (voSound && !voSound.hasAttribute(\"pl-dontautoplay\")) voSound.play();\n\t\n\t\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.handleProperty({\n\t\t\ttitle: function title(_node, _name, _value) {\n\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\tthis.find('.frame').addClass('title');\n\t\t\t\t\tthis.game.defineRule('.experiment:nth-of-type(' + (this.screen.index() + 1) + ') .frame-component .frame.title::before', {\n\t\t\t\t\t\tbackgroundImage: 'url(' + _value + ')'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (this.isReady) {\n\t\t\t\tthis.start();\n\t\t\t}\n\t\n\t\t\tif (this === _event.targetScope) {\n\t\t\t\tif (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && this.requiredQueue && this.requiredQueue.length)) {\n\t\t\t\t\tthis.complete();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('modal', function () {\n\t\n\t\tthis.item = function (_id) {\n\t\t\tthis.select(this);\n\t\t\tthis.reveal.item(_id);\n\t\t};\n\t\n\t\tthis.behavior('close', function () {\n\t\t\tif (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t\t\t\tif (this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n\t\t\t\tthis.deselect();\n\t\t\t}\n\t\t});\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t\tfunction validateAnswer(_scope) {\n\t\t\tvar answers;\n\t\n\t\t\tif (_scope.properties.correct) {\n\t\t\t\tanswers = _scope.properties.correct.split(/\\s*,\\s*/);\n\t\n\t\t\t\tif (~answers.indexOf(String(_scope.getSelected().index()))) {\n\t\t\t\t\t_scope.complete();\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t}\n\t\n\t\tthis.answer = function () {\n\t\t\tif (this.event) {\n\t\t\t\t$li = $(this.event.target).closest('li');\n\t\n\t\t\t\tif (!this.isComplete && this.select($li)) {\n\t\t\t\t\tvalidateAnswer(this);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t\tthis.item = function (_id) {\n\t\t\tvar vo, index, vo;\n\t\n\t\t\tif (typeof _id === 'number') {\n\t\t\t\tthis.select(this.find('li').eq(_id));\n\t\t\t\tvo = this.audio.voiceOver && this.audio.voiceOver[_id];\n\t\t\t\tif (vo) vo.play();\n\t\t\t} else if (typeof _id === 'string') {\n\t\t\t\tif (this[_id]) {\n\t\t\t\t\tthis.select(this[_id]);\n\t\n\t\t\t\t\tif (this.audio) {\n\t\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t\t\t\t\t\tif (vo) vo.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('runner', function () {\n\t\tvar canvas, Flower, gameLoop, FLOWER, scale, boundPulse;\n\t\n\t\tFLOWER = {\n\t\t\tORANGE: \"[pl-id=orange]\",\n\t\t\tRED: \"[pl-id=red]\",\n\t\t\tYELLOW: \"[pl-id=yellow]\"\n\t\t};\n\t\n\t\tgameLoop = {\n\t\n\t\t\tlastRecycledFlower: null,\n\t\n\t\t\t// main game loop\n\t\t\tframe: function frame(_scope) {\n\t\t\t\t// tranision flowers one px on each frame\n\t\t\t\t_scope.flowers.forEach((function (_flower) {\n\t\t\t\t\tvar x, width;\n\t\t\t\t\t_flower.position.x -= 1;\n\t\n\t\t\t\t\tx = _flower.position.x + _flower.margin;\n\t\t\t\t\twidth = _flower.size.width;\n\t\n\t\t\t\t\tif (x + width < 0) this.recycle(_scope, _flower);\n\t\t\t\t}).bind(this));\n\t\t\t},\n\t\n\t\t\trecycle: function recycle(_scope, _flower) {\n\t\t\t\t_flower.image = pl.util.random(_scope.bin);\n\t\t\t\t_flower.margin = pl.util.random(2, 10) * 10;\n\t\t\t\t_flower.position.x = _scope.width() + _flower.margin;\n\t\n\t\t\t\tif (this.lastRecycledFlower) {\n\t\t\t\t\t_flower.position.x = this.lastRecycledFlower.margin + this.lastRecycledFlower.position.x + this.lastRecycledFlower.size.width;\n\t\t\t\t}\n\t\n\t\t\t\tthis.lastRecycledFlower = _flower;\n\t\t\t},\n\t\n\t\t\tpulsePoint: 0,\n\t\n\t\t\tpulse: function pulse(_scope, _flower) {\n\t\t\t\t// pulse flower\n\t\t\t\tgameLoop.pulsePoint++;\n\t\t\t\t_flower.position.x += gameLoop.pulsePoint % 40 > 20 ? 1 : -1;\n\t\t\t\t_flower.position.y += gameLoop.pulsePoint % 40 > 20 ? 1 : -1;\n\t\t\t\t_flower.size.width += gameLoop.pulsePoint % 40 > 20 ? -2 : 2;\n\t\t\t\t_flower.size.height += gameLoop.pulsePoint % 40 > 20 ? -2 : 2;\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tFlower = pl.Basic.extend(function () {\n\t\n\t\t\tthis.position = null;\n\t\t\tthis.size = null;\n\t\t\tthis.margin = 0;\n\t\t\tthis.image = null;\n\t\n\t\t\tthis.init = function (_image) {\n\t\t\t\tvar $image = $(_image);\n\t\n\t\t\t\tthis.image = _image;\n\t\n\t\t\t\tthis.position = pl.Point.create();\n\t\t\t\tthis.size = [_image.naturalWidth, _image.naturalHeight].to('size');\n\t\t\t\tthis.margin = pl.util.random(2, 10) * 10;\n\t\n\t\t\t\t['Width', 'Height'].some(function (_plane) {\n\t\t\t\t\tif (_image[_plane.toLowerCase()] !== _image['natural' + _plane]) {\n\t\t\t\t\t\tscale = _image[_plane.toLowerCase()] / _image['natural' + _plane];\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tif (scale) this.size = this.size.scale(scale).math('floor');\n\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\n\t\t\tthis.render = function () {\n\t\t\t\treturn {\n\t\t\t\t\tdrawImage: [this.image, this.position.x + this.margin, this.position.y + 25, this.size.width, this.size.height]\n\t\t\t\t};\n\t\t\t};\n\t\n\t\t\tthis.is = function (_type) {\n\t\t\t\treturn $(this.image).is(_type);\n\t\t\t};\n\t\n\t\t\tthis.id = function () {\n\t\t\t\treturn $(this.image).id();\n\t\t\t};\n\t\t});\n\t\n\t\tcanvas = {\n\t\n\t\t\tctx: null,\n\t\t\tnode: null,\n\t\t\tcontent: null,\n\t\t\tscale: 1,\n\t\n\t\t\tinit: function init(_canvas, _size, _scale) {\n\t\t\t\tvar size;\n\t\n\t\t\t\tsize = _scale ? _size.scale(_scale) : _size;\n\t\n\t\t\t\tthis.node = _canvas;\n\t\t\t\tthis.ctx = _canvas.getContext('2d');\n\t\t\t\tthis.scale = _scale || 1;\n\t\n\t\t\t\tif (! ~size.indexOf(void 0)) {\n\t\t\t\t\t_canvas.width = size.width;\n\t\t\t\t\t_canvas.height = size.height;\n\t\t\t\t}\n\t\n\t\t\t\tthis.ctx.scale(_scale, _scale);\n\t\n\t\t\t\treturn this;\n\t\t\t},\n\t\n\t\t\tresize: function resize(_size, _scale) {\n\t\t\t\tvar size;\n\t\n\t\t\t\tsize = _scale ? _size.scale(_scale) : _size;\n\t\n\t\t\t\tthis.node.width = size.width;\n\t\t\t\tthis.node.height = size.height;\n\t\t\t\tthis.scale = _scale || 1;\n\t\n\t\t\t\tthis.ctx.scale(_scale, _scale);\n\t\t\t},\n\t\n\t\t\tclear: function clear() {\n\t\t\t\tthis.ctx.clearRect(0, 0, this.node.width / this.scale, this.node.height / this.scale);\n\t\t\t},\n\t\n\t\t\tdraw: function draw(_obj) {\n\t\t\t\tvar commands, cmd;\n\t\n\t\t\t\tcommands = _obj.render();\n\t\n\t\t\t\tfor (cmd in commands) {\n\t\t\t\t\tif (typeof this.ctx[cmd] !== 'function') continue;\n\t\t\t\t\tthis.ctx[cmd].apply(this.ctx, commands[cmd]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tthis.bin = null;\n\t\tthis.flowers = null;\n\t\tthis.player = null;\n\t\tthis.conveyor = null;\n\t\tthis.isConveyorRunning = false;\n\t\n\t\t// Handle when the component scope is ready.\n\t\tthis.on('ready', function (_event) {\n\t\t\tvar canvasSize, width;\n\t\n\t\t\t// Do not handle child scopes becomming ready.\n\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\twidth = this.width();\n\t\n\t\t\tthis.bin = this.findOwn('.bin img.flower').toArray();\n\t\t\tthis.flowers = (function (_scope) {\n\t\t\t\tvar shouldAppend, image, flower, x;\n\t\n\t\t\t\tshouldAppend = true;\n\t\t\t\tx = 0;\n\t\n\t\t\t\twhile (shouldAppend) {\n\t\t\t\t\timage = pl.util.random(_scope.bin);\n\t\t\t\t\tflower = Flower.create().init(image);\n\t\n\t\t\t\t\tflower.position.x = x;\n\t\t\t\t\tx += flower.size.width + flower.margin;\n\t\n\t\t\t\t\tthis.push(flower);\n\t\n\t\t\t\t\tshouldAppend = flower.position.x < width;\n\t\n\t\t\t\t\t_scope.log(flower.position.x, width);\n\t\t\t\t}\n\t\n\t\t\t\treturn this;\n\t\t\t}).call([], this);\n\t\n\t\t\tcanvasSize = pl.Size.create().set(width, 125);\n\t\n\t\t\tcanvas.init(this.conveyor[0], canvasSize, this.game.zoom);\n\t\n\t\t\tthis.game.viewport.onResize(this.game.bind(function () {\n\t\t\t\tcanvas.resize(canvasSize, this.zoom);\n\t\t\t}));\n\t\t});\n\t\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (!this.player.is(_event.target)) return;\n\t\n\t\t\tif (this.player.state('GRAVITY')) {\n\t\t\t\tthis.isConveyorRunning = !this.testFlower();\n\t\n\t\t\t\tif (this.isConveyorRunning) this.player.removeClass('GRAVITY');\n\t\t\t} else if (this.player.state('JUMPING')) {\n\t\t\t\tthis.player.removeClass('JUMPING').addClass('GRAVITY').attr('style', null);\n\t\t\t}\n\t\t});\n\t\n\t\tthis.start = function () {\n\t\t\tthis.log('started');\n\t\t\tthis.isConveyorRunning = true;\n\t\t\tthis.eachFrame(this.onEachFrame);\n\t\t};\n\t\n\t\tthis.restart = function () {\n\t\t\tthis.isConveyorRunning = true;\n\t\t\tthis.player.removeClass('GRAVITY');\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tthis.eachFrame(this.onEachFrame, false);\n\t\t};\n\t\n\t\tthis.onEachFrame = function () {\n\t\t\tif (!this.isConveyorRunning) return;\n\t\n\t\t\tcanvas.clear();\n\t\n\t\t\tgameLoop.frame(this);\n\t\n\t\t\tthis.flowers.forEach(function (_flower) {\n\t\t\t\tcanvas.draw(_flower);\n\t\t\t});\n\t\t};\n\t\n\t\tthis.pulse = function (_flower) {\n\t\t\tif (gameLoop.pulsePoint >= 80) {\n\t\t\t\tgameLoop.pulsePoint = 0;\n\t\t\t\tthis.eachFrame(boundPulse, false);\n\t\t\t}\n\t\n\t\t\tcanvas.clear();\n\t\n\t\t\tgameLoop.pulse(this, _flower);\n\t\n\t\t\tthis.flowers.forEach(function (_flower) {\n\t\t\t\tcanvas.draw(_flower);\n\t\t\t});\n\t\t};\n\t\n\t\tthis.testFlower = function () {\n\t\t\tvar target, flower, player;\n\t\n\t\t\tplayer = {\n\t\t\t\tpos: this.player.absolutePosition(),\n\t\t\t\tsize: pl.Size.create().set(this.player.width(), this.player.height())\n\t\t\t};\n\t\n\t\t\ttarget = pl.Point.create().set(player.pos.x + player.size.width / 2, 40).inc(20, 0);\n\t\n\t\t\t// canvas.ctx.fillStyle = '#000';\n\t\n\t\t\tthis.flowers.some(this.bind(function (_flower) {\n\t\t\t\tvar hitArea, padding, inBoundsX, inBoundsY;\n\t\n\t\t\t\tpadding = 25;\n\t\t\t\thitArea = {\n\t\t\t\t\tx1: _flower.position.x + _flower.margin + padding,\n\t\t\t\t\ty1: _flower.position.y + padding,\n\t\t\t\t\tx2: _flower.position.x + _flower.margin + _flower.size.width - padding * 1,\n\t\t\t\t\ty2: _flower.position.y + _flower.size.height - padding * 1\n\t\t\t\t};\n\t\n\t\t\t\t// canvas.ctx.fillRect(hitArea.x1, hitArea.y1, hitArea.x2 - hitArea.x1, hitArea.y2 - hitArea.y1);\n\t\n\t\t\t\tinBoundsX = target.x > hitArea.x1 && target.x < hitArea.x2;\n\t\t\t\tinBoundsY = target.y > hitArea.y1 && target.y < hitArea.y2;\n\t\n\t\t\t\tif (inBoundsX && inBoundsY && _flower.is(FLOWER.RED)) {\n\t\t\t\t\tflower = _flower;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}));\n\t\n\t\t\tthis.landed(flower);\n\t\n\t\t\t// canvas.ctx.fillStyle = '#00f';\n\t\t\t// canvas.ctx.fillRect(target.x, target.y, 10,10);\n\t\n\t\t\treturn flower;\n\t\t};\n\t\n\t\tthis.behavior('jump', function () {\n\t\t\tvar position;\n\t\n\t\t\tif (!this.isConveyorRunning) return;\n\t\n\t\t\tposition = this.player.transformPosition();\n\t\n\t\t\tthis.player.removeClass('GRAVITY').addClass('JUMPING').transformPosition(position.dec(0, 60));\n\t\n\t\t\tthis.log('behavior:jump');\n\t\n\t\t\treturn {\n\t\t\t\tbehaviorTarget: this.player\n\t\t\t};\n\t\t});\n\t\n\t\tthis.behavior('landed', function (_flower) {\n\t\t\tvar id;\n\t\n\t\t\tif (_flower) {\n\t\t\t\tid = _flower.id();\n\t\t\t\tboundPulse = this.pulse.bind(this, _flower);\n\t\t\t\tthis.eachFrame(boundPulse);\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tmessage: id,\n\t\t\t\tbehaviorTarget: this.player\n\t\t\t};\n\t\t});\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('score', function () {\n\t\n\t\tthis.value = 0;\n\t\n\t\tthis.entity('.board', function () {\n\t\n\t\t\tthis.template = null;\n\t\n\t\t\tthis.ready = function () {\n\t\t\t\tthis.template = this.html();\n\t\t\t};\n\t\n\t\t\tthis.render = function () {\n\t\t\t\tthis.html(this.template.replace('{{score}}', this.value));\n\t\t\t\treturn this;\n\t\t\t};\n\t\t});\n\t\n\t\tthis.init = function () {\n\t\t\tthis.screen.require(this);\n\t\t};\n\t\n\t\tthis.ready = function () {\n\t\t\tthis.board.render();\n\t\t};\n\t\n\t\tthis.up = function (_count) {\n\t\t\tthis.value += _count || 1;\n\t\n\t\t\tthis.board.render();\n\t\n\t\t\tconsole.log('score', this.value, this.properties.max);\n\t\n\t\t\tif (this.value == this.properties.max) {\n\t\t\t\tconsole.log('oh word');\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.down = function (_count) {\n\t\t\tthis.value -= _count || 1;\n\t\n\t\t\tthis.board.render();\n\t\n\t\t\tif (this.value == this.properties.max) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\tthis.currentVO = null;\n\t\n\t\tthis.allowAction = function () {\n\t\t\treturn this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t\t};\n\t\n\t\tthis.playSound = function (_sound) {\n\t\t\tvar delay;\n\t\n\t\t\tdelay = $(_sound).attr('pl-delay');\n\t\n\t\t\tif (_sound.type === 'voiceOver') {\n\t\t\t\tthis.currentVO = _sound;\n\t\t\t}\n\t\n\t\t\tif (delay) {\n\t\t\t\treturn this.delay(delay, _sound.play.bind(_sound));\n\t\t\t} else {\n\t\t\t\treturn _sound.play();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen, buttonSound;\n\t\n\t\t\tnextScreen = this.proto();\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.prev = function () {\n\t\t\tvar prevScreen, buttonSound;\n\t\n\t\t\tprevScreen = this.proto();\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\tif (prevScreen) {\n\t\t\t\tthis.screen.close();\n\t\t\t\tprevScreen.open();\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\t\t}\n\t\n\t\t\treturn prevScreen;\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tvar bgSound, voSound;\n\t\n\t\t\tbgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t\t\tvoSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t\t\tfxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\t\n\t\t\tif (bgSound) {\n\t\t\t\tthis.game.bgSound = bgSound;\n\t\t\t\tbgSound.play();\n\t\t\t}\n\t\t\tif (fxSound) fxSound.play();\n\t\t\tif (voSound) this.playSound(voSound);\n\t\n\t\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tif (this.timeoutID) {\n\t\t\t\tclearTimeout(this.timeoutID);\n\t\t\t}\n\t\n\t\t\tif (this.intervalID) {\n\t\t\t\tthis.kill(\"repeat\");\n\t\t\t}\n\t\n\t\t\tif (this.currentVO) {\n\t\t\t\tthis.currentVO.stop();\n\t\t\t}\n\t\n\t\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].stop();\n\t\t};\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\t\tthis.start();\n\t\t\t}\n\t\n\t\t\tif (this.properties.gameClass) {\n\t\t\t\tthis.game.addClass(this.properties.gameClass);\n\t\t\t}\n\t\n\t\t\tif (!this.requiredQueue || this.hasOwnProperty('requiredQueue') && !this.requiredQueue.length) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-leave', function (_event) {\n\t\t\tif (this.properties.gameClass) {\n\t\t\t\tthis.game.removeClass(this.properties.gameClass);\n\t\t\t}\n\t\n\t\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\t\tthis.stop();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-close', function (_event) {\n\t\t\tif (this.properties.gameClass) {\n\t\t\t\tthis.game.removeClass(this.properties.gameClass);\n\t\t\t}\n\t\n\t\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\t\tthis.stop();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ready', function () {\n\t\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\t\tvar sfx;\n\t\n\t\t\t\t\tsfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t\t\t\t\tif (sfx) this.playSound(sfx);\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t\tthis.buttonSound = function () {\n\t\t\tif (this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n\t\t};\n\t\n\t\t// TODO: Make an automated way to handle this\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\t\tthis.addClass('LEAVE-END');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tthis.buttonSound();\n\t\t\tthis.game.addClass('QUIT-SCREEN');\n\t\t\tthis.removeClass('LEAVE-END');\n\t\t});\n\t\n\t\tthis.on('ui-leave', function () {\n\t\t\tthis.game.removeClass('QUIT-SCREEN');\n\t\t});\n\t\n\t\tthis.init = function () {\n\t\t\tthis.addClass('LEAVE LEAVE-END');\n\t\t};\n\t\n\t\tthis.okay = function () {\n\t\t\tthis.buttonSound();\n\t\t\tthis.game.exit();\n\t\t};\n\t\n\t\tthis.cancel = function () {\n\t\t\tthis.buttonSound();\n\t\t\tthis.leave();\n\t\t};\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-title', function () {\n\t\n\t\tthis.playSound = function (_sound) {\n\t\t\tvar delay;\n\t\n\t\t\tdelay = $(_sound).attr('pl-delay');\n\t\n\t\t\tif ($(_sound).hasClass('voice-over')) {\n\t\t\t\tthis.currentVO = _sound;\n\t\t\t}\n\t\n\t\t\tif (delay) {\n\t\t\t\treturn this.delay(delay, _sound.play.bind(_sound));\n\t\t\t} else {\n\t\t\t\treturn _sound.play();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\tthis.delay(0, this.open);\n\t\n\t\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\t\tvar sfx;\n\t\n\t\t\t\t\tsfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t\t\t\t\tif (sfx) this.playSound(sfx);\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * Start the title screen logo animation when the screen opens.\n\t  */\n\t\tthis.on('ui-open', function () {\n\t\t\tvar so,\n\t\t\t    delay = this.properties.delay;\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tso = pl.util.resolvePath(this, 'audio.background[0]?');\n\t\n\t\t\tif (so) so.play();\n\t\n\t\t\treturn this;\n\t\t});\n\t\n\t\tthis.on('ui-close', function (_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\t\t\tthis.on('transitionend', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\t\t\tthis.logo.removeClass(this.properties.animOut).off('animationend');\n\t\t\t\tthis.off('transitionend');\n\t\t\t});\n\t\t});\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen, so, animate;\n\t\n\t\t\tfunction leave() {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t}\n\t\n\t\t\tnextScreen = this.proto();\n\t\t\tso = pl.util.resolvePath(this, 'audio.sfx.nextScreen');\n\t\t\tanimate = this.properties.animOut || '';\n\t\n\t\t\tif (!so) {\n\t\t\t\tso = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\t\t}\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tif (animate) {\n\t\t\t\t\tthis.logo.on('animationend', leave.bind(this)).addClass(animate);\n\t\t\t\t} else {\n\t\t\t\t\tleave.call(this);\n\t\t\t\t}\n\t\n\t\t\t\tif (so) so.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable-reveal', function () {\n\t\n\t\tthis.respond('select', function (_event) {\n\t\t\tvar index, stateMethod;\n\t\n\t\t\tindex = _event.message;\n\t\t\tstateMethod = this.properties.selectState || 'select';\n\t\n\t\t\tif (~index) {\n\t\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\t\tthis.reveal.item(index);\n\t\t\t}\n\t\t});\n\t\n\t\tthis.entity('selectable', function () {\n\t\n\t\t\tthis.shouldSelect = function (_$target) {\n\t\t\t\tif (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n\t\t\t\t\treturn !this.screen.state(this.STATE.VOICE_OVER);\n\t\t\t\t}\n\t\n\t\t\t\treturn false;\n\t\t\t};\n\t\t});\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t\tthis.behavior('select', function (_target) {\n\t\t\tvar $target, id;\n\t\n\t\t\tif (this.event) {\n\t\t\t\t$target = $(this.event.target).closest('li');\n\t\t\t\tid = $target.id() || $target.index();\n\t\n\t\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: id,\n\t\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.proto(_target);\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t});\n\t\n\t\tthis.shouldSelect = function (_target) {\n\t\t\treturn true;\n\t\t};\n\t\n\t\tthis.deselectAll = function () {\n\t\t\tvar items = this.find('li');\n\t\t\tthis.deselect(items);\n\t\t\tthis.unhighlight(items);\n\t\t};\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tpl.game.component('video', function () {\n\t\n\t\tthis.start = function () {\n\t\t\tvar self = this;\n\t\t\tthis.video.on('ended', function () {\n\t\t\t\tself.complete();\n\t\t\t});\n\t\t\tif (this.game.bgSound) this.game.bgSound.pause();\n\t\t\tthis.video[0].play();\n\t\t};\n\t\n\t\tthis.pause = function () {\n\t\t\tthis.video[0].pause();\n\t\t};\n\t\n\t\tthis.screen.on('ui-close', this.pause.bind(this));\n\t});\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t\tscreenSelector: '.screen',\n\t\tcomponentDirectory: 'components/',\n\t\tdimensions: {\n\t\t\twidth: 960,\n\t\t\tratio: 16 / 9\n\t\t},\n\t\tshouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t// import 'js-interactive-library';\n\t\n\t__webpack_require__(18);\n\t\n\t__webpack_require__(15);\n\t\n\t// SCREENS\n\t\n\tvar _screensFlyAcross = __webpack_require__(17);\n\t\n\tvar _screensFlyAcross2 = _interopRequireDefault(_screensFlyAcross);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(13);\n\t\n\t__webpack_require__(12);\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(14);\n\t\n\t__webpack_require__(7);\n\t\n\tpl.game('monarch', function () {\n\t\n\t\tthis.screen('title', function () {\n\t\t\tthis.on('ui-open', function () {\n\t\t\t\tthis.repeat('4s', function () {\n\t\t\t\t\tthis.audio.sfx.play();\n\t\t\t\t});\n\t\t\t});\n\t\n\t\t\tthis.on('ready', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\t\t\tthis.audio.sfx.on('play', (function () {\n\t\t\t\t\tthis.pupa.addClass('SHAKE');\n\t\t\t\t}).bind(this));\n\t\t\t\tthis.audio.sfx.on('ended', (function () {\n\t\t\t\t\tthis.pupa.removeClass('SHAKE');\n\t\t\t\t}).bind(this));\n\t\t\t});\n\t\n\t\t\tthis.on('ui-close', function () {\n\t\t\t\tthis.kill('repeat');\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('fly-across', _screensFlyAcross2['default']);\n\t\n\t\tthis.screen('floating-weed', function () {\n\t\t\tvar count = 0,\n\t\t\t    interval = 1;\n\t\n\t\t\tthis.on('ready', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\t\t\tthis.shouldCatch = true;\n\t\t\t\tthis.length = this.modal.reveal.find('li').length;\n\t\t\t});\n\t\n\t\t\tthis.respond('select', function (_event) {\n\t\t\t\tvar index;\n\t\n\t\t\t\tif (!this.shouldCatch) return;\n\t\t\t\tif (!_event.behaviorTarget.is('li')) return;\n\t\t\t\tthis.audio.sfx.correct.play();\n\t\t\t\tcount++;\n\t\t\t\tif (count % interval === 0) {\n\t\t\t\t\tindex = count / interval - 1;\n\t\t\t\t\tthis.modal.item(index);\n\t\t\t\t\tthis['catch'].$bucket.addClass('CATCH');\n\t\t\t\t\tthis.shouldCatch = false;\n\t\t\t\t\tif (index >= this.length - 1) count = 0;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.respond('close', function (_e) {\n\t\t\t\tif (this.modal.is(_e.target)) {\n\t\t\t\t\tthis.shouldCatch = true;\n\t\t\t\t\tthis['catch'].$bucket.removeClass('CATCH');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('four-generations', function () {\n\t\t\tthis.on('ui-open', function () {\n\t\t\t\tthis.deselect(this.selectableReveal.reveal.find('li'));\n\t\t\t});\n\t\n\t\t\tthis.on('audio-ended', function (_event) {\n\t\t\t\tif (this.audio.voiceOver.lifespan === _event.target) {\n\t\t\t\t\tthis.selectableReveal.reveal.item(4);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.entity('selectable-reveal', function () {\n\t\t\t\tthis.start = function () {};\n\t\n\t\t\t\tthis.respond('select', function (_event) {\n\t\t\t\t\tvar index, stateMethod;\n\t\n\t\t\t\t\tindex = _event.message;\n\t\t\t\t\tstateMethod = this.properties.selectState || 'select';\n\t\n\t\t\t\t\tif (~index) {\n\t\t\t\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\t\t\t\tif (this.audio.sfx.button) this.audio.sfx.button.play();\n\t\t\t\t\t\tthis.reveal.item(index);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tthis.entity('selectable', function () {\n\t\n\t\t\t\t\tthis.shouldSelect = function (_$target) {\n\t\t\t\t\t\tif (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n\t\t\t\t\t\t\treturn !this.screen.state(this.STATE.VOICE_OVER);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('flip', function () {\n\t\t\tthis.next = function () {\n\t\t\t\tthis.game.quit.okay();\n\t\t\t};\n\t\n\t\t\tthis.entity('.flip-container', function () {\n\t\t\t\tthis.on('animationend', function (_event) {\n\t\t\t\t\tif (!this.is(_event.target)) return;\n\t\t\t\t\tthis.find('.pupa').addClass('SHAKE');\n\t\t\t\t\tthis.screen.audio.sfx.shake.play();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\n\t\tthis.exit = function () {\n\t\t\tvar screen, eventCategory;\n\t\n\t\t\tscreen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t\t\teventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t\t\tga('send', 'event', eventCategory, 'quit');\n\t\n\t\t\treturn this.proto();\n\t\t};\n\t});\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\texports['default'] = flyAcross;\n\t/**\n\t * Monarch - Fly-Across Screen\n\t */\n\t\n\tfunction flyAcross() {\n\t\tvar count = 0;\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\t\t\tthis.length = this.modal.reveal.find('li').length;\n\t\t});\n\t\n\t\tthis.respond('landed', function (_event) {\n\t\t\tif (_event.message === \"red\") {\n\t\t\t\tthis.audio.sfx.correct.play();\n\t\t\t\tthis.modal.item(count++);\n\t\t\t\tif (count >= this.length) count = 0;\n\t\t\t} else {\n\t\t\t\tthis.audio.sfx.incorrect.play();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.entity('modal', function () {\n\t\t\tthis.close = function () {\n\t\t\t\tif (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t\t\t\t\tif (this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n\t\t\t\t\tthis.deselect();\n\t\t\t\t\tthis.screen.runner.restart();\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t}\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t/******/ (function(modules) { // webpackBootstrap\n\t/******/ \t// The module cache\n\t/******/ \tvar installedModules = {};\n\t/******/\n\t/******/ \t// The require function\n\t/******/ \tfunction __webpack_require__(moduleId) {\n\t/******/\n\t/******/ \t\t// Check if module is in cache\n\t/******/ \t\tif(installedModules[moduleId])\n\t/******/ \t\t\treturn installedModules[moduleId].exports;\n\t/******/\n\t/******/ \t\t// Create a new module (and put it into the cache)\n\t/******/ \t\tvar module = installedModules[moduleId] = {\n\t/******/ \t\t\texports: {},\n\t/******/ \t\t\tid: moduleId,\n\t/******/ \t\t\tloaded: false\n\t/******/ \t\t};\n\t/******/\n\t/******/ \t\t// Execute the module function\n\t/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\t/******/\n\t/******/ \t\t// Flag the module as loaded\n\t/******/ \t\tmodule.loaded = true;\n\t/******/\n\t/******/ \t\t// Return the exports of the module\n\t/******/ \t\treturn module.exports;\n\t/******/ \t}\n\t/******/\n\t/******/\n\t/******/ \t// expose the modules object (__webpack_modules__)\n\t/******/ \t__webpack_require__.m = modules;\n\t/******/\n\t/******/ \t// expose the module cache\n\t/******/ \t__webpack_require__.c = installedModules;\n\t/******/\n\t/******/ \t// __webpack_public_path__\n\t/******/ \t__webpack_require__.p = \"/build/\";\n\t/******/\n\t/******/ \t// Load entry module and return exports\n\t/******/ \treturn __webpack_require__(0);\n\t/******/ })\n\t/************************************************************************/\n\t/******/ ([\n\t/* 0 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(1);\n\t\n\t\n\t/***/ },\n\t/* 1 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\t/**\n\t\t * Boot file for the Play library.\n\t\t *\n\t\t * @module\n\t\t *\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t *\n\t\t * @requires jQExtentions\n\t\t * @requires play\n\t\t */\n\t\t\n\t\t__webpack_require__(4);\n\t\t\n\t\tvar _play = __webpack_require__(23);\n\t\t\n\t\tvar _play2 = _interopRequireDefault(_play);\n\t\t\n\t\t/**\n\t\t * Begin running the library\n\t\t */\n\t\tfunction run() {\n\t\t  _play2['default'].game.run();\n\t\t}\n\t\t\n\t\t// export namespace to global object.\n\t\twindow.play = window.pl = _play2['default'];\n\t\t\n\t\t// Invoke 'run' when DOM has finished loading.\n\t\tdocument.addEventListener('DOMContentLoaded', run, false);\n\t\n\t/***/ },\n\t/* 2 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(3);\n\t\n\t/***/ },\n\t/* 3 */\n\t/***/ function(module, exports) {\n\t\n\t\t\"use strict\";\n\t\t\n\t\texports.__esModule = true;\n\t\t\n\t\texports.default = function (obj) {\n\t\t  return obj && obj.__esModule ? obj : {\n\t\t    default: obj\n\t\t  };\n\t\t};\n\t\n\t/***/ },\n\t/* 4 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _Array$forEach = __webpack_require__(5)['default'];\n\t\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\t/**\n\t\t * Extentions to jQuery used by the library.\n\t\t * \n\t\t * @module\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t *\n\t\t * @requires types/Dimensions\n\t\t * @requires Matrix\n\t\t */\n\t\t\n\t\tvar _typesDimensions = __webpack_require__(14);\n\t\t\n\t\tvar _libMatrix = __webpack_require__(22);\n\t\t\n\t\tvar _libMatrix2 = _interopRequireDefault(_libMatrix);\n\t\t\n\t\t/**\n\t\t * jQuery's prototype\n\t\t * @external jQuery\n\t\t * @see {@link http://api.jquery.com/}\n\t\t */\n\t\t\n\t\t(function () {\n\t\t\tvar original;\n\t\t\n\t\t\toriginal = {\n\t\t\t\tposition: this.position\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Resolves the scope for each of the set of matched nodes.\n\t\t  * @function external:jQuery#scope\n\t\t  * @returns {Scope|array} Scope - for 1 result. array - for multiple.\n\t\t  */\n\t\t\tthis.scope = function () {\n\t\t\t\tvar result;\n\t\t\n\t\t\t\tresult = [];\n\t\t\n\t\t\t\tthis.each(function () {\n\t\t\t\t\tvar $node, scope;\n\t\t\n\t\t\t\t\t$node = $(this);\n\t\t\t\t\tscope = $node.data('pl-scope');\n\t\t\n\t\t\t\t\tif (!scope) {\n\t\t\t\t\t\tscope = $node.closest('.pl-scope').data('pl-scope');\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (scope) result.push(scope);\n\t\t\t\t});\n\t\t\n\t\t\t\treturn result.length > 1 ? result : result[0];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Resolves the id on the first node in the collection. The id can be sourced from a node's 'id', 'pl-id' or 'pl-component' arguments.\n\t\t  * @function external:jQuery#id\n\t\t  * @arg {string} [_set] Name to set as the node's id.\n\t\t  * @returns {string} The resolved id.\n\t\t  */\n\t\t\tthis.id = function (_set) {\n\t\t\t\tif (_set !== undefined) {\n\t\t\t\t\t// Remove attribute.\n\t\t\t\t\tif (~['', null].indexOf(_set)) {\n\t\t\t\t\t\tthis.attr('id', null);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t// If document already has the id defined then set as a unique library id.\n\t\t\t\t\tif ($('#' + _set).length) {\n\t\t\t\t\t\tthis.attr('pl-id', _set);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.attr('id', _set);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this.attr('id') || this.attr('pl-id') || this.attr('pl-component');\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Provides the 'relative' CSS selector for the first node in the collection.\n\t\t  * @function external:jQuery#address\n\t\t  * @returns {string}\n\t\t  *\n\t\t  * @example\n\t\t  * // HTML: <div id=\"sweater\" class=\"wide\"></div>\n\t\t  * $('#sweater').address() // div#sweater.wide\n\t\t  */\n\t\t\tthis.address = function () {\n\t\t\t\tvar tag, id, classes;\n\t\t\n\t\t\t\ttag = this[0].nodeName.toLowerCase();\n\t\t\t\tid = this.attr('id');\n\t\t\t\tclasses = this.attr('class') ? '.' + this.attr('class').split(' ').join('.') : '';\n\t\t\n\t\t\t\treturn tag + (id ? '#' + id : '') + classes;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Provides a node's UPPER CASE class names. Given '_test' it will check if the node has the class.\n\t\t  * @function external:jQuery#state\n\t\t  * @arg {string} [_test] The UPPER CASE class name to test on the first node in the collection.\n\t\t  * @returns {string|array|boolean} string - for one result. array - for multiple. boolean - for tests.\n\t\t  */\n\t\t\tthis.state = function (_test) {\n\t\t\t\tvar classes;\n\t\t\n\t\t\t\tif (_test) return this.hasClass(_test.toUpperCase());\n\t\t\n\t\t\t\tclasses = (this.attr('class') || '').match(/[0-9A-Z]+(?:-[0-9A-Z]+)?/g);\n\t\t\n\t\t\t\treturn classes && (classes.length === 1 ? classes[0] : classes);\n\t\t\t};\n\t\t\n\t\t\tthis.size = function () {\n\t\t\t\tvar size;\n\t\t\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\tsize = _typesDimensions.Size.create().set(this.width(), this.height());\n\t\t\t\t} else {\n\t\t\t\t\tsize = _typesDimensions.Size.create(arguments);\n\t\t\t\t\tthis.css(size);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn size;\n\t\t\t};\n\t\t\n\t\t\tthis.position = function () {\n\t\t\t\tvar pos;\n\t\t\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\tpos = original.position.call(this);\n\t\t\t\t\tpos = _typesDimensions.Point.create().set(pos.left, pos.top);\n\t\t\t\t} else {\n\t\t\t\t\tpos = _typesDimensions.Point.create(arguments);\n\t\t\n\t\t\t\t\tthis.css({\n\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\tleft: pos.x,\n\t\t\t\t\t\ttop: pos.y\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\treturn pos;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Provides the jQuery offset for the first node in the collection.\n\t\t  * Given a point, all nodes in the collection will get {position: absolute;} to the corrdinates.\n\t\t  * @function external:jQuery#absolutePosition\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\tthis.absolutePosition = function () {\n\t\t\t\tvar offset;\n\t\t\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\toffset = this.offset();\n\t\t\n\t\t\t\t\treturn _typesDimensions.Point.create().set(offset.left, offset.top);\n\t\t\t\t} else {\n\t\t\t\t\toffset = _typesDimensions.Point.create(arguments);\n\t\t\n\t\t\t\t\tthis.css({\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: offset.y,\n\t\t\t\t\t\tleft: offset.x\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\treturn offset;\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Sets a CSS matrix transform on all nodes in the collection. (overloaded)\n\t\t  * @function external:jQuery#transform\n\t\t  * @arg {number} [_scaleX] - scale x\n\t\t  * @arg {number} [_shearY] - shear y\n\t\t  * @arg {number} [_shearX] - shear x\n\t\t  * @arg {number} [_scaleY] - scale y\n\t\t  * @arg {number} [_translateX] - translate x\n\t\t  * @arg {number} [_translateY] - translate y\n\t\t  * @returns {Matrix}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Provides the CSS matrix transform for the first node in the collection.\n\t\t  * @function external:jQuery#transform\n\t\t  * @returns {Matrix}\n\t\t  */\n\t\t\tthis.transform = function () {\n\t\t\t\tvar t, matrix, is3d;\n\t\t\n\t\t\t\tmatrix = new _libMatrix2['default']();\n\t\t\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\tt = this.css('transform');\n\t\t\t\t\tis3d = !! ~t.indexOf('matrix3d');\n\t\t\n\t\t\t\t\tif (t !== 'none') {\n\t\t\t\t\t\tt = ((t.match(/\\(([,\\d\\.\\s\\-]+)\\)/) || [])[1] || '').split(/\\s*,\\s*/);\n\t\t\t\t\t\tif (is3d) {\n\t\t\t\t\t\t\tt = (function (_matrix) {\n\t\t\t\t\t\t\t\tvar i, result;\n\t\t\n\t\t\t\t\t\t\t\tresult = [];\n\t\t\n\t\t\t\t\t\t\t\tfor (i = 0; i < _matrix.length; i += 4) {\n\t\t\t\t\t\t\t\t\tresult = result.concat(_matrix.slice(i, i + 2));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t})(t);\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tt = t.map(parseFloat);\n\t\t\n\t\t\t\t\t\tmatrix.setTransform.apply(matrix, t);\n\t\t\n\t\t\t\t\t\treturn matrix;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn t;\n\t\t\t\t}\n\t\t\n\t\t\t\tmatrix.setTransform.apply(matrix, arguments);\n\t\t\n\t\t\t\tthis.css('transform', matrix.toCSS());\n\t\t\n\t\t\t\treturn matrix;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Getter/Setter for the CSS transform translation. (overloaded)\n\t\t  * @function external:jQuery#transformPosition\n\t\t  * @arg {Point} _point - A point object {x,y}\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Getter/Setter for the CSS transform translation.\n\t\t  * @function external:jQuery#transformPosition\n\t\t  * @arg {number} _x - x coordinate\n\t\t  * @arg {number} _y - y coordinate\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\tthis.transformPosition = function () {\n\t\t\t\tvar matrix, point;\n\t\t\n\t\t\t\tmatrix = this.transform();\n\t\t\t\tpoint = _typesDimensions.Point.create().set(0, 0);\n\t\t\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\tif (matrix !== 'none') point.set(matrix.e, matrix.f);\n\t\t\t\t} else {\n\t\t\t\t\tif (matrix === 'none') matrix = new _libMatrix2['default']();\n\t\t\n\t\t\t\t\tpoint.set.apply(point, arguments);\n\t\t\t\t\tmatrix.translate(point.x, point.y);\n\t\t\t\t\tthis.css('transform', matrix.toCSS());\n\t\t\t\t}\n\t\t\n\t\t\t\treturn point;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Getter for the CSS transform scale. (overloaded)\n\t\t  * @function external:jQuery#transformPosition\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Setter for the CSS transform scale. (overloaded)\n\t\t  * @function external:jQuery#transformPosition\n\t\t  * @arg {Point} _point - A point object {x,y}\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Setter for the CSS transform scale.\n\t\t  * @function external:jQuery#transformPosition\n\t\t  * @arg {number} _x - x coordinate\n\t\t  * @arg {number} _y - y coordinate\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\tthis.transformScale = function () {\n\t\t\t\tvar matrix, scale;\n\t\t\n\t\t\t\tmatrix = this.transform();\n\t\t\t\tscale = _typesDimensions.Point.create().set(1, 1);\n\t\t\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\tif (matrix !== 'none') scale.set(matrix.a, matrix.d);\n\t\t\t\t} else {\n\t\t\t\t\tif (matrix === 'none') matrix = new _libMatrix2['default']();\n\t\t\n\t\t\t\t\tscale.set.apply(scale, arguments);\n\t\t\t\t\tmatrix.scale(scale.x, scale.y);\n\t\t\t\t\tthis.css('transform', matrix.toCSS());\n\t\t\t\t}\n\t\t\n\t\t\t\treturn scale;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Accessor method for `pl` attributes.\n\t\t  */\n\t\t\tthis.pl = function (_name, _value) {\n\t\t\t\tvar args, result;\n\t\t\n\t\t\t\tif (!_name) {\n\t\t\t\t\tresult = {};\n\t\t\t\t\tthis.each(function () {\n\t\t\t\t\t\t_Array$forEach(this.attributes, function (_attr) {\n\t\t\t\t\t\t\tif (_attr.name.indexOf('pl-') === 0) {\n\t\t\t\t\t\t\t\tresult[_attr.name.slice(3)] = _attr.value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\n\t\t\t\targs = ['pl-' + _name];\n\t\t\t\tif (typeof _value !== 'undefined') args.push(_value);\n\t\t\n\t\t\t\tif (_value === null) {\n\t\t\t\t\tthis.removeAttr('pl-' + _name);\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this.attr.apply(this, args);\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Invoke a method of each item in the set of matched elements.\n\t\t  */\n\t\t\tthis.exec = function (_method, _args) {\n\t\t\t\treturn this.map(function () {\n\t\t\t\t\tif (typeof this[_method] === 'function') return this[_method].apply(this, _args);\n\t\t\t\t}).toArray();\n\t\t\t};\n\t\t}).call($.fn);\n\t\n\t/***/ },\n\t/* 5 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = { \"default\": __webpack_require__(6), __esModule: true };\n\t\n\t/***/ },\n\t/* 6 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t__webpack_require__(7);\n\t\tmodule.exports = __webpack_require__(11).Array.forEach;\n\t\n\t/***/ },\n\t/* 7 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// JavaScript 1.6 / Strawman array statics shim\n\t\tvar $       = __webpack_require__(8)\n\t\t  , $export = __webpack_require__(9)\n\t\t  , $ctx    = __webpack_require__(12)\n\t\t  , $Array  = __webpack_require__(11).Array || Array\n\t\t  , statics = {};\n\t\tvar setStatics = function(keys, length){\n\t\t  $.each.call(keys.split(','), function(key){\n\t\t    if(length == undefined && key in $Array)statics[key] = $Array[key];\n\t\t    else if(key in [])statics[key] = $ctx(Function.call, [][key], length);\n\t\t  });\n\t\t};\n\t\tsetStatics('pop,reverse,shift,keys,values,entries', 1);\n\t\tsetStatics('indexOf,every,some,forEach,map,filter,find,findIndex,includes', 3);\n\t\tsetStatics('join,slice,concat,push,splice,unshift,sort,lastIndexOf,' +\n\t\t           'reduce,reduceRight,copyWithin,fill');\n\t\t$export($export.S, 'Array', statics);\n\t\n\t/***/ },\n\t/* 8 */\n\t/***/ function(module, exports) {\n\t\n\t\tvar $Object = Object;\n\t\tmodule.exports = {\n\t\t  create:     $Object.create,\n\t\t  getProto:   $Object.getPrototypeOf,\n\t\t  isEnum:     {}.propertyIsEnumerable,\n\t\t  getDesc:    $Object.getOwnPropertyDescriptor,\n\t\t  setDesc:    $Object.defineProperty,\n\t\t  setDescs:   $Object.defineProperties,\n\t\t  getKeys:    $Object.keys,\n\t\t  getNames:   $Object.getOwnPropertyNames,\n\t\t  getSymbols: $Object.getOwnPropertySymbols,\n\t\t  each:       [].forEach\n\t\t};\n\t\n\t/***/ },\n\t/* 9 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar global    = __webpack_require__(10)\n\t\t  , core      = __webpack_require__(11)\n\t\t  , ctx       = __webpack_require__(12)\n\t\t  , PROTOTYPE = 'prototype';\n\t\t\n\t\tvar $export = function(type, name, source){\n\t\t  var IS_FORCED = type & $export.F\n\t\t    , IS_GLOBAL = type & $export.G\n\t\t    , IS_STATIC = type & $export.S\n\t\t    , IS_PROTO  = type & $export.P\n\t\t    , IS_BIND   = type & $export.B\n\t\t    , IS_WRAP   = type & $export.W\n\t\t    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n\t\t    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n\t\t    , key, own, out;\n\t\t  if(IS_GLOBAL)source = name;\n\t\t  for(key in source){\n\t\t    // contains in native\n\t\t    own = !IS_FORCED && target && key in target;\n\t\t    if(own && key in exports)continue;\n\t\t    // export native or passed\n\t\t    out = own ? target[key] : source[key];\n\t\t    // prevent global pollution for namespaces\n\t\t    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n\t\t    // bind timers to global for call from export context\n\t\t    : IS_BIND && own ? ctx(out, global)\n\t\t    // wrap global constructors for prevent change them in library\n\t\t    : IS_WRAP && target[key] == out ? (function(C){\n\t\t      var F = function(param){\n\t\t        return this instanceof C ? new C(param) : C(param);\n\t\t      };\n\t\t      F[PROTOTYPE] = C[PROTOTYPE];\n\t\t      return F;\n\t\t    // make static versions for prototype methods\n\t\t    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n\t\t    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n\t\t  }\n\t\t};\n\t\t// type bitmap\n\t\t$export.F = 1;  // forced\n\t\t$export.G = 2;  // global\n\t\t$export.S = 4;  // static\n\t\t$export.P = 8;  // proto\n\t\t$export.B = 16; // bind\n\t\t$export.W = 32; // wrap\n\t\tmodule.exports = $export;\n\t\n\t/***/ },\n\t/* 10 */\n\t/***/ function(module, exports) {\n\t\n\t\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\t\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n\t\t  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\t\tif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\t\n\t/***/ },\n\t/* 11 */\n\t/***/ function(module, exports) {\n\t\n\t\tvar core = module.exports = {version: '1.2.6'};\n\t\tif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\t\n\t/***/ },\n\t/* 12 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// optional / simple context binding\n\t\tvar aFunction = __webpack_require__(13);\n\t\tmodule.exports = function(fn, that, length){\n\t\t  aFunction(fn);\n\t\t  if(that === undefined)return fn;\n\t\t  switch(length){\n\t\t    case 1: return function(a){\n\t\t      return fn.call(that, a);\n\t\t    };\n\t\t    case 2: return function(a, b){\n\t\t      return fn.call(that, a, b);\n\t\t    };\n\t\t    case 3: return function(a, b, c){\n\t\t      return fn.call(that, a, b, c);\n\t\t    };\n\t\t  }\n\t\t  return function(/* ...args */){\n\t\t    return fn.apply(that, arguments);\n\t\t  };\n\t\t};\n\t\n\t/***/ },\n\t/* 13 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(it){\n\t\t  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n\t\t  return it;\n\t\t};\n\t\n\t/***/ },\n\t/* 14 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _Object$defineProperties = __webpack_require__(15)['default'];\n\t\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * \n\t\t * @module\n\t\t * @version 1.1\n\t\t * @author Micah Rolon <functionmicah@gmail.com>\n\t\t * @requires module:types/BasicArray~BasicArray\n\t\t *\n\t\t * @desc *Created: 11/12/14*\n\t\t *\n\t\t * This file contains objects for containing values about a plane. i.e. x or width.\n\t\t * Adds the convenience of keeping these values paired to passed around your application.\n\t\t * It also includes methods which you perform on the values and returns a new object\n\t\t * so the original values are maintained.\n\t\t *\n\t\t * #### Usage\n\t\t *\n\t\t * New instances can be created by calling the create method.\n\t\t * ```\n\t\t * cursorLocation = Point.create();\n\t\t * ```\n\t\t *\n\t\t * Then call `set()` to apply your values.\n\t\t * ```\n\t\t * cursorLocation.set(event.clientX, event.clientY);\n\t\t * ```\n\t\t *\n\t\t * Then you can use the calculation methods to perform transformations.\n\t\t * ```\n\t\t * relativeCursor = cursorLocation.scale(zoom);\n\t\t * ```\n\t\t *\n\t\t * #### Developer Notes\n\t\t *\n\t\t * When adding new methods make sure you are returning a new instance.\n\t\t * Dimensional objects are meant to be immutable.\n\t\t *\n\t\t * Follow this pattern:\n\t\t * ```\n\t\t * this.method = function () {\n\t\t *     // set with your calculated values.\n\t\t *     return this.create().set( ... )\n\t\t * }\n\t\t * ```\n\t\t *\n\t\t * #### Change Log\n\t\t * *v1.1 - 12/13/15*\n\t\t * - Defined setter/getter properties for unique planes keys. You can now do `point.width = 10`.\n\t\t */\n\t\t\n\t\t/*jslint browser: true, eqeq: true, nomen: true, sloppy: true, white: true */\n\t\t\n\t\tvar _typesBasicArray = __webpack_require__(17);\n\t\t\n\t\tvar _typesBasicArray2 = _interopRequireDefault(_typesBasicArray);\n\t\t\n\t\tvar Dimension, Size, Point;\n\t\t\n\t\t/**\n\t\t * The native Array\n\t\t * @external Array\n\t\t * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array}\n\t\t */\n\t\t\n\t\t/**\n\t\t * Array prototype extension\n\t\t * Creates an instance of `_Thing` and passes the array to its set function as its arguments.\n\t\t * @function external:Array#to\n\t\t * @arg {Point|Size|string} _Thing - A Dimension object or one the strings 'point'/'size'\n\t\t * @example\n\t\t * somePoint = [10, 10].to(Point);\n\t\t * somePoint = [10, 10].to('point');\n\t\t */\n\t\tArray.prototype.to = function (_Thing) {\n\t\t\tvar map;\n\t\t\n\t\t\tmap = {\n\t\t\t\tpoint: Point,\n\t\t\t\tsize: Size\n\t\t\t};\n\t\t\n\t\t\tif (typeof _Thing === 'string') {\n\t\t\t\treturn map[_Thing.toLowerCase()].create().set(this);\n\t\t\t} else if (typeof _Thing === 'object' && ~[Point.set, Size.set].indexOf(_Thing.set)) {\n\t\t\t\tif (!_Thing.isPrototypeOf(this)) {\n\t\t\t\t\treturn _Thing.set.apply(_Thing.create(), this);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\treturn this;\n\t\t};\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Dimension.create()` to get a new instance.\n\t\t * @class\n\t\t * @classdesc Base class for dimensional objects consisting of 2 planes.<br>\n\t\t * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n\t\t * @extends module:types/BasicArray~BasicArray\n\t\t */\n\t\tDimension = _typesBasicArray2['default'].extend(function () {\n\t\t\tvar originalMap;\n\t\t\n\t\t\toriginalMap = this.map;\n\t\t\n\t\t\tthis[0] = this[1] = 0;\n\t\t\tthis.planeMap = null, this.length = 2;\n\t\t\n\t\t\t/**\n\t\t  * Provides a new instance.\n\t\t  * @arg {array} _argumentsArray - Create a new instace with an arguments array.\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.create = function (_argumentsArray) {\n\t\t\t\tvar instance;\n\t\t\n\t\t\t\tinstance = this.proto();\n\t\t\n\t\t\t\tif (_argumentsArray) instance.set.apply(instance, _argumentsArray);\n\t\t\n\t\t\t\treturn instance;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Incerement each plane by a value or specify each plane.\n\t\t  * @arg {number} _val - plane a of (a,b)\n\t\t  * @arg {number} [_plane2] - plane b of (a,b)\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.inc = function (_val, _plane2) {\n\t\t\t\tvar a, b;\n\t\t\n\t\t\t\tif (_val.length === 2) {\n\t\t\t\t\ta = _val[0];\n\t\t\t\t\tb = _val[1];\n\t\t\t\t} else if (_plane2 != null) {\n\t\t\t\t\ta = _val;\n\t\t\t\t\tb = _plane2;\n\t\t\t\t} else {\n\t\t\t\t\ta = b = _val;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this.create().set(this[0] + a, this[1] + b);\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Decerement each plane by a value or specify each plane.\n\t\t  * @arg {number} _val - plane a of (a,b)\n\t\t  * @arg {number} [_plane2] - plane b of (a,b)\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.dec = function (_val, _plane2) {\n\t\t\t\tvar a, b;\n\t\t\n\t\t\t\tif (_val.length === 2) {\n\t\t\t\t\ta = _val[0];\n\t\t\t\t\tb = _val[1];\n\t\t\t\t} else if (_plane2 != null) {\n\t\t\t\t\ta = _val;\n\t\t\t\t\tb = _plane2;\n\t\t\t\t} else {\n\t\t\t\t\ta = b = _val;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this.create().set(this[0] - a, this[1] - b);\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Multiply each plane by a value or specify each plane.\n\t\t  * @arg {number} _scale - plane a of (a,b)\n\t\t  * @arg {number} [_plane2] - plane b of (a,b)\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.scale = function (_scale, _plane2) {\n\t\t\t\treturn this.create().set(this[0] * _scale, this[1] * (_plane2 != null ? _plane2 : _scale));\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Perfom a Math function on each plane\n\t\t  * @arg {string} _fun - a string of the function name in the JS Math object,\n\t\t  * followed by the whatever arguments the function takes after its first\n\t\t  * since the first argument is the plane value.\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.math = function (_fun) {\n\t\t\t\tvar args = [].slice.call(arguments, 1);\n\t\t\n\t\t\t\treturn this.create().set(Math[_fun].apply(Math, [this[0]].concat(args)), Math[_fun].apply(Math, [this[1]].concat(args)));\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Takes each plane value and passes it to parseInt().\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.parseInt = function () {\n\t\t\t\treturn this.create().set(parseInt(this[0]), parseInt(this[1]));\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Takes each plane value and passes it to parseFloat().\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.parseFloat = function () {\n\t\t\t\treturn this.create().set(parseFloat(this[0]), parseFloat(this[1]));\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Resolves the name of the plane at the given index.\n\t\t  * @arg {number} _index - The index of the plane.\n\t\t  * @returns {string}\n\t\t  */\n\t\t\tthis.planeOf = function (_index) {\n\t\t\t\tif (isNaN(parseInt(_index))) return null;\n\t\t\t\treturn this.planeMap[_index];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Make a new array by iterating over each plane.<br>\n\t\t  * See [`Array.prototype.map()`]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map}\n\t\t  * @arg {function} _handler - handler for each index.\n\t\t  * @override\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.map = function (_handler) {\n\t\t\t\treturn originalMap.call(this, _handler).to(Object.getPrototypeOf(this));\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Multiplies the planes.\n\t\t  * @returns {number}\n\t\t  */\n\t\t\tthis.product = function () {\n\t\t\t\treturn this[0] * this[1];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Divides the planes.\n\t\t  * @returns {number}\n\t\t  */\n\t\t\tthis.ratio = function () {\n\t\t\t\treturn this[0] / this[1];\n\t\t\t};\n\t\t\n\t\t\tthis.quotient = function () {\n\t\t\t\treturn Math.floor(this[0] / this[1]);\n\t\t\t};\n\t\t\n\t\t\tthis.remainder = function () {\n\t\t\t\treturn this[0] % this[1];\n\t\t\t};\n\t\t});\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Size.create()` to get a new instance.\n\t\t * @class\n\t\t * @extends module:types/Dimensions~Dimension\n\t\t * @classdesc 2 Dimensional object containing width and height.<br>\n\t\t * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n\t\t * @prop {number} width - The width.\n\t\t * @prop {number} height - The height.\n\t\t */\n\t\tSize = Dimension.extend(function () {\n\t\t\t/**\n\t\t  * Maps the names of the indexes.<br>\n\t\t  * See [Dimension#planeOf]{@link module:types/Dimensions~Dimension#planeOf} for resolving plane name.\n\t\t  * @protected\n\t\t  * @default ['width', 'height']\n\t\t  */\n\t\t\tthis.planeMap = ['width', 'height'];\n\t\t\n\t\t\t_Object$defineProperties(this, {\n\t\t\t\twidth: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\treturn this[0];\n\t\t\t\t\t},\n\t\t\n\t\t\t\t\tset: function set(_val) {\n\t\t\t\t\t\tthis[0] = Number(_val);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\n\t\t\t\theight: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\treturn this[1];\n\t\t\t\t\t},\n\t\t\n\t\t\t\t\tset: function set(_val) {\n\t\t\t\t\t\tthis[1] = Number(_val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * Define the size with an object. (overloaded)\n\t\t  * @function module:types/Dimensions~Size#set\n\t\t  * @arg {object} _size - A size object {width, height}.\n\t\t  * @returns {Size}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Define the size with an array. (overloaded)\n\t\t  * @function module:types/Dimensions~Size#set\n\t\t  * @arg {array} _size - A size array [width, height].\n\t\t  * @returns {Size}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Define the size.\n\t\t  * @arg {number} _width - The width.\n\t\t  * @arg {number} _height - The height.\n\t\t  * @returns {Size}\n\t\t  */\n\t\t\tthis.set = function (_width, _height) {\n\t\t\t\tif (arguments.length === 1) {\n\t\t\t\t\tif (_width.width !== undefined && _width.height !== undefined) {\n\t\t\t\t\t\tthis[0] = Number(_width.width);\n\t\t\t\t\t\tthis[1] = Number(_width.height);\n\t\t\t\t\t} else if (_width.length === 2) {\n\t\t\t\t\t\tthis[0] = Number(_width[0]);\n\t\t\t\t\t\tthis[1] = Number(_width[1]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis[0] = Number(_width);\n\t\t\t\t\tthis[1] = Number(_height);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Calculates the hypotenuse.\n\t\t  * @see {@link https://en.wikipedia.org/wiki/Hypotenuse}\n\t\t  * @returns {number}\n\t\t  */\n\t\t\tthis.hypotenuse = function () {\n\t\t\t\treturn Math.sqrt(Math.pow(this.width, 2) + Math.pow(this.height, 2));\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Sets width and height properties on the given object. If the object is an HTML node then it will be set on the nodes style object.\n\t\t  * @arg {object|HTMLElement} - The object or DOM node.\n\t\t  * @returns {this}\n\t\t  */\n\t\t\tthis.applyTo = function (_object) {\n\t\t\t\tif (_object.nodeType === document.ELEMENT_NODE) {\n\t\t\t\t\tif (!(_object.width !== undefined || _object.height !== undefined)) {\n\t\t\t\t\t\t_object.style.width = this.width;\n\t\t\t\t\t\t_object.style.height = this.height;\n\t\t\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t_object.width = this.width;\n\t\t\t\t_object.height = this.height;\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t});\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Point.create()` to get a new instance.\n\t\t * @class\n\t\t * @extends module:types/Dimensions~Dimension\n\t\t * @classdesc Object containing coordinates on a 2-dimensional cartesian plane.<br>\n\t\t * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n\t\t * @prop {number} x - The x coordinate.\n\t\t * @prop {number} y - The y coordinate.\n\t\t */\n\t\tPoint = Dimension.extend(function () {\n\t\t\t/**\n\t\t  * Maps the names of the indexes.<br>\n\t\t  * See [Dimension#planeOf]{@link module:types/Dimensions~Dimension#planeOf} for resolving plane name.\n\t\t  * @protected\n\t\t  * @default ['x', 'y']\n\t\t  */\n\t\t\tthis.planeMap = ['x', 'y'];\n\t\t\n\t\t\t_Object$defineProperties(this, {\n\t\t\t\tx: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\treturn this[0];\n\t\t\t\t\t},\n\t\t\n\t\t\t\t\tset: function set(_val) {\n\t\t\t\t\t\tthis[0] = Number(_val);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\n\t\t\t\ty: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\treturn this[1];\n\t\t\t\t\t},\n\t\t\n\t\t\t\t\tset: function set(_val) {\n\t\t\t\t\t\tthis[1] = Number(_val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * Define the point with an object. (overloaded)\n\t\t  * @function module:types/Dimensions~Point#set\n\t\t  * @arg {object} _point - A point object {x, y}.\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Define the point with an array. (overloaded)\n\t\t  * @function module:types/Dimensions~Point#set\n\t\t  * @arg {array} _point - A point array [x, y].\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Define the point.\n\t\t  * @arg {number} _x - The x.\n\t\t  * @arg {number} _y - The y.\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\tthis.set = function (_x, _y) {\n\t\t\t\tif (arguments.length === 1) {\n\t\t\t\t\tif (_x.x !== undefined && _x.y !== undefined) {\n\t\t\t\t\t\tthis[0] = Number(_x.x);\n\t\t\t\t\t\tthis[1] = Number(_x.y);\n\t\t\t\t\t} else if (_x.length === 2) {\n\t\t\t\t\t\tthis[0] = Number(_x[0]);\n\t\t\t\t\t\tthis[1] = Number(_x[1]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis[0] = Number(_x);\n\t\t\t\t\tthis[1] = Number(_y);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Calculates the distance between the insatnce and a point object.\n\t\t  * @arg {Point} _point - A point object {x,y}.\n\t\t  * @returns {Size}\n\t\t  */\n\t\t\tthis.distance = function (_point) {\n\t\t\t\tif (_point.x !== undefined && _point.y !== undefined) {\n\t\t\t\t\treturn Size.create().set(_point.x - this.x, _point.y - this.y);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn null;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Sets x and y properties on the given object. If the object is an HTML node then the left and top properties will be set on the nodes style object.\n\t\t  * @arg {object|HTMLElement} - The object or DOM node.\n\t\t  * @returns {this}\n\t\t  */\n\t\t\tthis.applyTo = function (_object) {\n\t\t\t\tif (_object.nodeType === document.ELEMENT_NODE) {\n\t\t\t\t\t_object.style.left = this.x;\n\t\t\t\t\t_object.style.top = this.y;\n\t\t\t\t} else {\n\t\t\t\t\t_object.x = this.x;\n\t\t\t\t\t_object.y = this.y;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Rotate the point based on an origin point and an angle in degrees.\n\t\t  * @arg {Point} _origin - A point object {x,y}.\n\t\t  * @arg {number} _angle - The angle of rotation in degrees.\n\t\t  * @returns {this}\n\t\t  */\n\t\t\tthis.rotate = function (_origin, _angle) {\n\t\t\t\tvar x, y, rad;\n\t\t\n\t\t\t\trad = _angle * (Math.PI / 180);\n\t\t\n\t\t\t\tx = this.x - _origin.x;\n\t\t\t\ty = this.y - _origin.y;\n\t\t\n\t\t\t\treturn this.create().set(Math.sin(rad) * x - Math.cos(rad) * y + _origin.x, Math.cos(rad) * x + Math.sin(rad) * y + _origin.y);\n\t\t\t};\n\t\t});\n\t\t\n\t\texports['default'] = { Dimension: Dimension, Size: Size, Point: Point };\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 15 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = { \"default\": __webpack_require__(16), __esModule: true };\n\t\n\t/***/ },\n\t/* 16 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar $ = __webpack_require__(8);\n\t\tmodule.exports = function defineProperties(T, D){\n\t\t  return $.setDescs(T, D);\n\t\t};\n\t\n\t/***/ },\n\t/* 17 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Base object type for 'array like' objects.\n\t\t * @module\n\t\t * @requires module:util\n\t\t * @requires module:types/Basic\n\t\t */\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesBasic = __webpack_require__(19);\n\t\t\n\t\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `BasicArray.create()` to get a new instance.\n\t\t * @classdesc A base object type for 'array like' object.\n\t\t * @class\n\t\t * @extends external:Array\n\t\t * @extends module:types/Basic~Basic\n\t\t * @mixes module:types/Basic~Basic\n\t\t */\n\t\tvar BasicArray = (function () {\n\t\t  /**\n\t\t   * Objects with this as an own property will be identified as the root object.\n\t\t   * @memberof module:types/BasicArray~BasicArray\n\t\t   * @readonly\n\t\t   * @default\n\t\t   */\n\t\t  this.baseType = 'TYPE_BASIC_ARRAY';\n\t\t\n\t\t  _util2['default'].mixin(this, _typesBasic2['default']);\n\t\t\n\t\t  return this;\n\t\t}).call([]);\n\t\t\n\t\texports['default'] = BasicArray;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 18 */\n\t/***/ function(module, exports) {\n\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Utility functions.\n\t\t * @namespace\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t * @memberof module:play~pl\n\t\t */\n\t\tvar util = new function () {\n\t\t\n\t\t\t/**\n\t\t  * Accepts one or more objects to combine their own properties to single object.\n\t\t  * @arg {object} _target - The object that will recieve all members.\n\t\t  * @arg {object} _sources... - The object(s) to join with the '_target'.\n\t\t  * @returns {object} _target\n\t\t  */\n\t\t\tthis.mixin = function () {\n\t\t\t\tvar member, i, target, objs;\n\t\t\n\t\t\t\ttarget = arguments[0];\n\t\t\t\tobjs = [].slice.call(arguments, 1);\n\t\t\n\t\t\t\tfor (i = 0; i < objs.length; i += 1) {\n\t\t\t\t\tfor (member in objs[i]) {\n\t\t\t\t\t\tif (!objs[i].hasOwnProperty(member)) continue;\n\t\t\t\t\t\ttarget[member] = objs[i][member];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn target;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Matches the name of the key which references the given pointer inside an object. Like indexOf() for objects.\n\t\t  * @arg {object} _obj - Object to search in.\n\t\t  * @arg {*} _member - The reference which is expected to be in the object as a property.\n\t\t  * @returns {string} The name of the key in the object matching '_member'.\n\t\t  */\n\t\t\tthis.keyOf = function (_obj, _member) {\n\t\t\t\tvar member;\n\t\t\n\t\t\t\tfor (member in _obj) {\n\t\t\t\t\tif (!_obj.hasOwnProperty(member)) continue;\n\t\t\t\t\tif (_obj[member] === _member) return member;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn null;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Matches the object, deep in the prototype chain, which is the owner of the property referencing the given pointer.\n\t\t  * @arg {object} _obj - The object to search.\n\t\t  * @arg {*} _member - The reference which is expected to be a property in the prototype chain.\n\t\t  * @return {object} An object containing the name of the property and the owning object. {name, object}\n\t\t  */\n\t\t\tthis.getOwner = function (_obj, _member) {\n\t\t\t\tvar prototype, name;\n\t\t\n\t\t\t\tprototype = Object.getPrototypeOf(_obj);\n\t\t\n\t\t\t\t// keep searching until we go as deep as we can go.\n\t\t\t\twhile (prototype) {\n\t\t\t\t\t// search for the key in the prototype\n\t\t\t\t\tname = util.keyOf(prototype, _member);\n\t\t\n\t\t\t\t\t// If we found the key in the prototype then we found\n\t\t\t\t\t// our match and we can break out of the loop.\n\t\t\t\t\tif (name) break;\n\t\t\n\t\t\t\t\t// Otherwise go deeper (thats what she said ;p)\n\t\t\t\t\tprototype = Object.getPrototypeOf(prototype);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn {\n\t\t\t\t\tname: name,\n\t\t\t\t\tobject: prototype\n\t\t\t\t};\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Given a range; provides a random number in that range.\n\t\t  * @function play~pl.util.random\n\t\t  * @arg {number} _rangeA - A number for the low end of the range.\n\t\t  * @arg {number} _rangeB - The top end of the range.\n\t\t  * @returns {number|*} The resulting number in range or the member found at random.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Given an iterable; provides a random item.\n\t\t  * @arg {array} _collection - The iterable.\n\t\t  * @returns {number|*} The member found at random.\n\t\t  */\n\t\t\tthis.random = function (_collection_rangeA, _rangeB) {\n\t\t\t\tvar index, val;\n\t\t\n\t\t\t\tindex = Math.floor(Math.random() * _collection_rangeA.length);\n\t\t\n\t\t\t\tif (arguments.length === 2) {\n\t\t\t\t\tval = Math.round(Math.random() * _rangeB);\n\t\t\n\t\t\t\t\treturn val < _collection_rangeA ? _collection_rangeA : val;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (index === _collection_rangeA.length) index = _collection_rangeA.length - 1;\n\t\t\n\t\t\t\treturn _collection_rangeA && _collection_rangeA[index];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Take string and makes it dot notation friendly.\n\t\t  * @arg {string} _id - The string to transform.\n\t\t  * @arg {boolean} _camelCase - Transform with camel case.\n\t\t  * @returns {string}\n\t\t  */\n\t\t\tthis.transformId = function (_id, _camelCase) {\n\t\t\t\tif (_id && _camelCase) {\n\t\t\t\t\treturn _id.replace(/[-\\s]+([\\w\\d]?)/g, function (_match) {\n\t\t\t\t\t\treturn RegExp.$1.toUpperCase();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\treturn _id && _id.replace(/[-\\s]+/g, '_');\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Test all arguments for != null\n\t\t  * @return {boolean}\n\t\t  */\n\t\t\tthis.isSet = function () {\n\t\t\t\treturn [].every.call(arguments, function (_arg) {\n\t\t\t\t\treturn _arg != null;\n\t\t\t\t});\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Parses a formated string and calculates it in milliseconds.\n\t\t  * @arg {string} _source - The formated string for calculation in the pattern '1d 1h 1m 1s'.\n\t\t  * @return {number}\n\t\t  */\n\t\t\tthis.toMillisec = function (_source) {\n\t\t\t\tvar tokens, time, units;\n\t\t\n\t\t\t\tif (typeof _source === 'number') return _source;\n\t\t\t\tif (!_source) return;\n\t\t\n\t\t\t\ttokens = _source.split(/\\s+/);\n\t\t\t\ttime = 0;\n\t\t\t\tunits = {\n\t\t\t\t\td: 24 * 60 * 60 * 1000,\n\t\t\t\t\th: 60 * 60 * 1000,\n\t\t\t\t\tm: 60 * 1000,\n\t\t\t\t\ts: 1000\n\t\t\t\t};\n\t\t\n\t\t\t\ttokens.forEach(function (_token) {\n\t\t\t\t\tvar unit, value;\n\t\t\n\t\t\t\t\tunit = (_token.match(/[dhms]/) || [])[0];\n\t\t\n\t\t\t\t\tif (unit) {\n\t\t\t\t\t\tvalue = Number(_token.slice(0, -1));\n\t\t\t\t\t\ttime += value * units[unit];\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttime += Number(_token);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\treturn time;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Needs no introduction\n\t\t  * @arg {iterable} _collection - iterable.\n\t\t  * @return {array}\n\t\t  */\n\t\t\tthis.toArray = function (_collection) {\n\t\t\t\treturn Array.prototype.map.call(_collection, function (i) {\n\t\t\t\t\treturn i;\n\t\t\t\t});\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Resolves the value in the object at the given path.\n\t\t  * @arg {object} _obj - The object to query.\n\t\t  * @arg {string} _path - The path to the desired reference.\n\t\t  * @returns {*} The resulting reference value.\n\t\t  * @example\n\t\t  * var user = {\n\t\t  *   name: 'John',\n\t\t  *   family: {\n\t\t  *\t   guardians: {David}, // property could be an array of multiple guardians.\n\t\t  *     siblings: [{Jane}, {Thomas}] // collection of user objects.\n\t\t  *   }\n\t\t  * };\n\t\t  *\n\t\t  * pl.util.resolvePath(user, 'family.sliblings[2].name');\n\t\t  * // Matches the `guardians` propery if `guardians[0]` is undefined when `?` is used.\n\t\t  * pl.util.resolvePath(user, 'family.guardians[0]?.name'); \n\t\t  */\n\t\t\tthis.resolvePath = function (_obj, _path) {\n\t\t\t\tvar path, obj, i, name, index, testArray;\n\t\t\n\t\t\t\tpath = _path.split('.');\n\t\t\t\tobj = _obj;\n\t\t\t\ti = 0;\n\t\t\n\t\t\t\twhile (obj) {\n\t\t\t\t\ttestArray = /\\?$/.test(path[i]);\n\t\t\t\t\tindex = (path[i].match(/\\[(\\d+)\\]/) || [])[1] || -1;\n\t\t\t\t\tname = ~index ? path[i].slice(0, path[i].indexOf('[')) : path[i];\n\t\t\t\t\tobj = obj[name];\n\t\t\n\t\t\t\t\tif (~index && obj) {\n\t\t\t\t\t\tobj = testArray ? obj[index] || obj : obj[index];\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\ti += 1;\n\t\t\n\t\t\t\t\tif (path.length === i) break;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn obj;\n\t\t\t};\n\t\t\n\t\t\tthis.assignRef = function (_obj, _name, _ref) {\n\t\t\t\tvar name;\n\t\t\n\t\t\t\tname = util.transformId(_name, true);\n\t\t\n\t\t\t\tif (_obj[name] === _ref) return _ref;\n\t\t\n\t\t\t\tif (_obj[name]) {\n\t\t\t\t\tif (!_obj[name].__refCollction__) {\n\t\t\t\t\t\t_obj[name] = [_obj[name]];\n\t\t\n\t\t\t\t\t\tObject.defineProperty(_obj[name], '__refCollction__', {\n\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\tenumerable: false,\n\t\t\t\t\t\t\twriteable: false,\n\t\t\t\t\t\t\tconfigureable: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t_obj[name].push(_ref);\n\t\t\t\t} else {\n\t\t\t\t\t_obj[name] = _ref;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn _obj[name];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * N0 OPeration.\n\t\t  */\n\t\t\tthis.noop = function () {};\n\t\t\n\t\t\t/**\n\t\t  * Get the file name out of a simple file path.\n\t\t  * @arg {string} _path - The file path. \n\t\t  * @returns {string} The extracted name.\n\t\t  */\n\t\t\tthis.resolveFileName = function (_path) {\n\t\t\t\treturn _path.slice(_path.lastIndexOf('/') + 1);\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Produces a string following the specied pattern. Which is a mix of x, y, z and - characters.\n\t\t  * - x; produces a letter a-f.\n\t\t  * - y; produces a digit 0-9.\n\t\t  * - z; produces a 4 character hex value derived from the now time stamp.\n\t\t  * @arg {string} _pattern - The xyz pattern.\n\t\t  * @returns {string} The generated ID.\n\t\t  */\n\t\t\tthis.createId = function (_pattern) {\n\t\t\t\treturn (_pattern || 'xy-z').replace(/[xyz]/g, function (_token) {\n\t\t\t\t\tif (_token === 'x') return (Math.floor(Math.random() * 5) + 10).toString(16);\n\t\t\t\t\tif (_token === 'y') return Math.floor(Math.random() * 10).toString(16);\n\t\t\t\t\treturn Math.floor(Math.random() * Date.now()).toString(16).slice(0, 4);\n\t\t\t\t});\n\t\t\t};\n\t\t}();\n\t\t\n\t\texports['default'] = util;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 19 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _Object$create = __webpack_require__(20)['default'];\n\t\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Base object type for 'classes' implementing methods for extention and super callbacks.\n\t\t * @module\n\t\t * @requires module:play~pl.util\n\t\t */\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Basic.create()` to get a new instance.\n\t\t * @classdesc The base type for all objects which will act as prototypes.\n\t\t * @class\n\t\t */\n\t\tvar Basic = {\n\t\t\t/**\n\t\t  * Objects with this as an own property will be identified as the root object.\n\t\t  * @readonly\n\t\t  * @default\n\t\t  */\n\t\t\tbaseType: 'TYPE_BASIC',\n\t\t\n\t\t\t/**\n\t\t  * Creates a new object with the current object as its prototype.\n\t\t  * @instance\n\t\t  * @returns {Basic} The new instance.\n\t\t  */\n\t\t\tcreate: function create() {\n\t\t\t\treturn _Object$create(this);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Creates a new object using a constructor function or object with the current object as its prototype.\n\t\t  * @instance\n\t\t  * @arg {Function|Object} _implementation - The implementation of the new type as either a constructor function or object to mixin.\n\t\t  * @returns {Basic} The new instance.\n\t\t  *\n\t\t  * @todo define constructor property\n\t\t  */\n\t\t\textend: function extend(_implementation) {\n\t\t\t\tvar instance;\n\t\t\n\t\t\t\tif (!_implementation) return null;\n\t\t\n\t\t\t\tswitch (typeof _implementation) {\n\t\t\t\t\tcase 'function':\n\t\t\t\t\t\t_implementation.prototype = this;\n\t\t\t\t\t\tinstance = new _implementation();\n\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tinstance = this.create();\n\t\t\t\t\t\tinstance.mixin(_implementation);\n\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error('TypeError: Invalid type given for object extention.', typeof _implementation);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn instance;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Accepts one or more objects to combine their own properties to the instance.\n\t\t  * @instance\n\t\t  * @arg {object} _sources... - The object(s) to join with the instance.\n\t\t  * @returns this\n\t\t  */\n\t\t\tmixin: function mixin() {\n\t\t\t\treturn _util2['default'].mixin.apply(null, [this].concat([].slice.call(arguments, 0)));\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Matches the name of the key which references the given pointer inside the instance. Like indexOf() for objects.\n\t\t  * @instance\n\t\t  * @arg {*} _member - The reference which is expected to be in the object as a property.\n\t\t  * @returns {string} The name of the key in the object matching '_member'.\n\t\t  */\n\t\t\tkeyOf: function keyOf(_member) {\n\t\t\t\treturn _util2['default'].keyOf(this, _member);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Performs a super callback of the function which called it. Allowing you to still invoke a method which was overridden.\n\t\t  * @instance\n\t\t  * @arg {*} _args... - Whatever amount of arguments the caller takes.\n\t\t  * @returns {*} Whatever the caller returns.\n\t\t  */\n\t\t\tproto: function proto() {\n\t\t\t\tvar method, name, owner, prototype;\n\t\t\n\t\t\t\t// Get the function which invoked proto() in the call stack.\n\t\t\t\t// If the caller is a behavior then we retrieve the method.\n\t\t\t\tmethod = this.proto.caller.method || this.proto.caller;\n\t\t\n\t\t\t\t// Check to see if 'this' owns the method.\n\t\t\t\t// NOTE: We may want to move this logic into getOwner().\n\t\t\t\tif (name = this.keyOf(method)) {\n\t\t\t\t\tprototype = Object.getPrototypeOf(this);\n\t\t\t\t}\n\t\t\n\t\t\t\t// Otherwise find the object which owns the caller function.\n\t\t\t\telse {\n\t\t\t\t\t\towner = _util2['default'].getOwner(this, method);\n\t\t\t\t\t\tname = owner.name;\n\t\t\t\t\t\tprototype = Object.getPrototypeOf(owner.object);\n\t\t\t\t\t}\n\t\t\n\t\t\t\tmethod = prototype[name];\n\t\t\n\t\t\t\tif (!method) {\n\t\t\t\t\tconsole.error('ReferenceError: Unable to locate prototype method.', this.proto.caller);\n\t\t\t\t\tdebugger;\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn method.apply(this, arguments);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Performs a super callback of the function which called it. Unlike `proto()` which looks for the overidden method, sup looks for the base class' implementation.\n\t\t  * @instance\n\t\t  * @arg {*} _args... - Whatever amount of arguments the caller takes.\n\t\t  * @returns {*} Whatever the caller returns.\n\t\t  */\n\t\t\tsup: function sup() {\n\t\t\t\tvar method, name, owner, prototype;\n\t\t\n\t\t\t\t// Get the function which invoked sup() in the call stack.\n\t\t\t\tmethod = this.sup.caller;\n\t\t\t\towner = _util2['default'].getOwner(this, this.baseType);\n\t\t\t\tprototype = owner.object;\n\t\t\t\tname = this.keyOf(method);\n\t\t\n\t\t\t\t// Check to see if 'this' owns the method.\n\t\t\t\t// NOTE: We may want to move this logic into getOwner().\n\t\t\t\t//\n\t\t\t\tif (!name) {\n\t\t\t\t\towner = _util2['default'].getOwner(this, method);\n\t\t\t\t\tname = owner.name;\n\t\t\t\t}\n\t\t\n\t\t\t\tmethod = prototype[name];\n\t\t\n\t\t\t\tif (!method) {\n\t\t\t\t\tconsole.error('ReferenceError: Unable to locate prototype method.', this.sup.caller);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn method.apply(this, arguments);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Provides the object type.\n\t\t  * @instance\n\t\t  */\n\t\t\ttoString: function toString() {\n\t\t\t\tvar type;\n\t\t\n\t\t\t\tif (this.baseType) {\n\t\t\t\t\ttype = this.baseType.replace('TYPE_', '');\n\t\t\t\t\ttype = type.slice(0, 1) + type.slice(1).toLowerCase();\n\t\t\t\t} else {\n\t\t\t\t\ttype = this.constructor.name || 'Object';\n\t\t\t\t}\n\t\t\n\t\t\t\treturn '[object ' + type + ']';\n\t\t\t}\n\t\t\n\t\t};\n\t\t\n\t\texports['default'] = Basic;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 20 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = { \"default\": __webpack_require__(21), __esModule: true };\n\t\n\t/***/ },\n\t/* 21 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar $ = __webpack_require__(8);\n\t\tmodule.exports = function create(P, D){\n\t\t  return $.create(P, D);\n\t\t};\n\t\n\t/***/ },\n\t/* 22 */\n\t/***/ function(module, exports) {\n\t\n\t\texports.__esModule = true;\n\t\t/**\r\n\t\t *\r\n\t\t * Copy of the deleted repository epistemex/transformation-matrix-js.\r\n\t\t * All rights are reserved to Epistemex.\r\n\t\t *\r\n\t\t * 2D transformation matrix object initialized with identity matrix.\r\n\t\t *\r\n\t\t * The matrix can synchronize a canvas context by supplying the context\r\n\t\t * as an argument, or later apply current absolute transform to an\r\n\t\t * existing context.\r\n\t\t *\r\n\t\t * All values are handled as floating point values.\r\n\t\t *\r\n\t\t * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n\t\t * @prop {number} a - scale x\r\n\t\t * @prop {number} b - shear y\r\n\t\t * @prop {number} c - shear x\r\n\t\t * @prop {number} d - scale y\r\n\t\t * @prop {number} e - translate x\r\n\t\t * @prop {number} f - translate y\r\n\t\t * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n\t\t * @constructor\r\n\t\t */\n\t\tfunction Matrix(context) {\n\t\t\n\t\t    var me = this;\n\t\t    me._t = me.transform;\n\t\t\n\t\t    me.a = me.d = 1;\n\t\t    me.b = me.c = me.e = me.f = 0;\n\t\t\n\t\t    me.context = context;\n\t\t\n\t\t    // reset canvas transformations (if any) to enable 100% sync.\n\t\t    if (context) context.setTransform(1, 0, 0, 1, 0, 0);\n\t\t}\n\t\t\n\t\tMatrix.prototype = {\n\t\t\n\t\t    /**\r\n\t\t     * Concatenates transforms of this matrix onto the given child matrix and\r\n\t\t     * returns a new matrix. This instance is used on left side.\r\n\t\t     *\r\n\t\t     * @param {Matrix} cm - child matrix to apply concatenation to\r\n\t\t     * @returns {Matrix}\r\n\t\t     */\n\t\t    concat: function concat(cm) {\n\t\t        return this.clone()._t(cm.a, cm.b, cm.c, cm.d, cm.e, cm.f);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Flips the horizontal values.\r\n\t\t     */\n\t\t    flipX: function flipX() {\n\t\t        return this._t(-1, 0, 0, 1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Flips the vertical values.\r\n\t\t     */\n\t\t    flipY: function flipY() {\n\t\t        return this._t(1, 0, 0, -1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Reflects incoming (velocity) vector on the normal which will be the\r\n\t\t     * current transformed x axis. Call when a trigger condition is met.\r\n\t\t     *\r\n\t\t     * NOTE: BETA, simple implementation\r\n\t\t     *\r\n\t\t     * @param {number} x - vector end point for x (start = 0)\r\n\t\t     * @param {number} y - vector end point for y (start = 0)\r\n\t\t     * @returns {{x: number, y: number}}\r\n\t\t     */\n\t\t    reflectVector: function reflectVector(x, y) {\n\t\t\n\t\t        var v = this.applyToPoint(0, 1),\n\t\t            d = 2 * (v.x * x + v.y * y);\n\t\t\n\t\t        x -= d * v.x;\n\t\t        y -= d * v.y;\n\t\t\n\t\t        return { x: x, y: y };\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Short-hand to reset current matrix to an identity matrix.\r\n\t\t     */\n\t\t    reset: function reset() {\n\t\t        return this.setTransform(1, 0, 0, 1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Rotates current matrix accumulative by angle.\r\n\t\t     * @param {number} angle - angle in radians\r\n\t\t     */\n\t\t    rotate: function rotate(angle) {\n\t\t        var cos = Math.cos(angle),\n\t\t            sin = Math.sin(angle);\n\t\t        return this._t(cos, sin, -sin, cos, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Converts a vector given as x and y to angle, and\r\n\t\t     * rotates (accumulative).\r\n\t\t     * @param x\r\n\t\t     * @param y\r\n\t\t     * @returns {*}\r\n\t\t     */\n\t\t    rotateFromVector: function rotateFromVector(x, y) {\n\t\t        return this.rotate(Math.atan2(y, x));\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Helper method to make a rotation based on an angle in degrees.\r\n\t\t     * @param {number} angle - angle in degrees\r\n\t\t     */\n\t\t    rotateDeg: function rotateDeg(angle) {\n\t\t        return this.rotate(angle * Math.PI / 180);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Scales current matrix uniformly and accumulative.\r\n\t\t     * @param {number} f - scale factor for both x and y (1 does nothing)\r\n\t\t     */\n\t\t    scaleU: function scaleU(f) {\n\t\t        return this._t(f, 0, 0, f, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Scales current matrix accumulative.\r\n\t\t     * @param {number} sx - scale factor x (1 does nothing)\r\n\t\t     * @param {number} sy - scale factor y (1 does nothing)\r\n\t\t     */\n\t\t    scale: function scale(sx, sy) {\n\t\t        return this._t(sx, 0, 0, sy, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Scales current matrix on x axis accumulative.\r\n\t\t     * @param {number} sx - scale factor x (1 does nothing)\r\n\t\t     */\n\t\t    scaleX: function scaleX(sx) {\n\t\t        return this._t(sx, 0, 0, 1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Scales current matrix on y axis accumulative.\r\n\t\t     * @param {number} sy - scale factor y (1 does nothing)\r\n\t\t     */\n\t\t    scaleY: function scaleY(sy) {\n\t\t        return this._t(1, 0, 0, sy, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply shear to the current matrix accumulative.\r\n\t\t     * @param {number} sx - amount of shear for x\r\n\t\t     * @param {number} sy - amount of shear for y\r\n\t\t     */\n\t\t    shear: function shear(sx, sy) {\n\t\t        return this._t(1, sy, sx, 1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply shear for x to the current matrix accumulative.\r\n\t\t     * @param {number} sx - amount of shear for x\r\n\t\t     */\n\t\t    shearX: function shearX(sx) {\n\t\t        return this._t(1, 0, sx, 1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply shear for y to the current matrix accumulative.\r\n\t\t     * @param {number} sy - amount of shear for y\r\n\t\t     */\n\t\t    shearY: function shearY(sy) {\n\t\t        return this._t(1, sy, 0, 1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply skew to the current matrix accumulative.\r\n\t\t     * @param {number} ax - angle of skew for x\r\n\t\t     * @param {number} ay - angle of skew for y\r\n\t\t     */\n\t\t    skew: function skew(ax, ay) {\n\t\t        return this.shear(Math.tan(ax), Math.tan(ay));\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply skew for x to the current matrix accumulative.\r\n\t\t     * @param {number} ax - angle of skew for x\r\n\t\t     */\n\t\t    skewX: function skewX(ax) {\n\t\t        return this.shearX(Math.tan(ax));\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply skew for y to the current matrix accumulative.\r\n\t\t     * @param {number} ay - angle of skew for y\r\n\t\t     */\n\t\t    skewY: function skewY(ay) {\n\t\t        return this.shearY(Math.tan(ay));\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Set current matrix to new absolute matrix.\r\n\t\t     * @param {number} a - scale x\r\n\t\t     * @param {number} b - shear y\r\n\t\t     * @param {number} c - shear x\r\n\t\t     * @param {number} d - scale y\r\n\t\t     * @param {number} e - translate x\r\n\t\t     * @param {number} f - translate y\r\n\t\t     */\n\t\t    setTransform: function setTransform(a, b, c, d, e, f) {\n\t\t        var me = this;\n\t\t        me.a = a;\n\t\t        me.b = b;\n\t\t        me.c = c;\n\t\t        me.d = d;\n\t\t        me.e = e;\n\t\t        me.f = f;\n\t\t        return me._x();\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Translate current matrix accumulative.\r\n\t\t     * @param {number} tx - translation for x\r\n\t\t     * @param {number} ty - translation for y\r\n\t\t     */\n\t\t    translate: function translate(tx, ty) {\n\t\t        return this._t(1, 0, 0, 1, tx, ty);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Translate current matrix on x axis accumulative.\r\n\t\t     * @param {number} tx - translation for x\r\n\t\t     */\n\t\t    translateX: function translateX(tx) {\n\t\t        return this._t(1, 0, 0, 1, tx, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Translate current matrix on y axis accumulative.\r\n\t\t     * @param {number} ty - translation for y\r\n\t\t     */\n\t\t    translateY: function translateY(ty) {\n\t\t        return this._t(1, 0, 0, 1, 0, ty);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Multiplies current matrix with new matrix values.\r\n\t\t     * @param {number} a2 - scale x\r\n\t\t     * @param {number} b2 - shear y\r\n\t\t     * @param {number} c2 - shear x\r\n\t\t     * @param {number} d2 - scale y\r\n\t\t     * @param {number} e2 - translate x\r\n\t\t     * @param {number} f2 - translate y\r\n\t\t     */\n\t\t    transform: function transform(a2, b2, c2, d2, e2, f2) {\n\t\t\n\t\t        var me = this,\n\t\t            a1 = me.a,\n\t\t            b1 = me.b,\n\t\t            c1 = me.c,\n\t\t            d1 = me.d,\n\t\t            e1 = me.e,\n\t\t            f1 = me.f;\n\t\t\n\t\t        /* matrix order (canvas compatible):\r\n\t\t         * ace\r\n\t\t         * bdf\r\n\t\t         * 001\r\n\t\t         */\n\t\t        me.a = a1 * a2 + c1 * b2;\n\t\t        me.b = b1 * a2 + d1 * b2;\n\t\t        me.c = a1 * c2 + c1 * d2;\n\t\t        me.d = b1 * c2 + d1 * d2;\n\t\t        me.e = a1 * e2 + c1 * f2 + e1;\n\t\t        me.f = b1 * e2 + d1 * f2 + f1;\n\t\t\n\t\t        return me._x();\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Divide this matrix on input matrix which must be invertible.\r\n\t\t     * @param {Matrix} m - matrix to divide on (divisor)\r\n\t\t     * @returns {Matrix}\r\n\t\t     */\n\t\t    divide: function divide(m) {\n\t\t\n\t\t        if (!m.isInvertible()) throw \"Input matrix is not invertible\";\n\t\t\n\t\t        var im = m.inverse();\n\t\t\n\t\t        return this._t(im.a, im.b, im.c, im.d, im.e, im.f);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Divide current matrix on scalar value != 0.\r\n\t\t     * @param {number} d - divisor (can not be 0)\r\n\t\t     * @returns {Matrix}\r\n\t\t     */\n\t\t    divideScalar: function divideScalar(d) {\n\t\t\n\t\t        var me = this;\n\t\t        me.a /= d;\n\t\t        me.b /= d;\n\t\t        me.c /= d;\n\t\t        me.d /= d;\n\t\t        me.e /= d;\n\t\t        me.f /= d;\n\t\t\n\t\t        return me._x();\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Get an inverse matrix of current matrix. The method returns a new\r\n\t\t     * matrix with values you need to use to get to an identity matrix.\r\n\t\t     * Context from parent matrix is not applied to the returned matrix.\r\n\t\t     * @returns {Matrix}\r\n\t\t     */\n\t\t    inverse: function inverse() {\n\t\t\n\t\t        if (this.isIdentity()) {\n\t\t            return new Matrix();\n\t\t        } else if (!this.isInvertible()) {\n\t\t            throw \"Matrix is not invertible.\";\n\t\t        } else {\n\t\t            var me = this,\n\t\t                a = me.a,\n\t\t                b = me.b,\n\t\t                c = me.c,\n\t\t                d = me.d,\n\t\t                e = me.e,\n\t\t                f = me.f,\n\t\t                m = new Matrix(),\n\t\t                dt = a * d - b * c; // determinant(), skip DRY here...\n\t\t\n\t\t            m.a = d / dt;\n\t\t            m.b = -b / dt;\n\t\t            m.c = -c / dt;\n\t\t            m.d = a / dt;\n\t\t            m.e = (c * f - d * e) / dt;\n\t\t            m.f = -(a * f - b * e) / dt;\n\t\t\n\t\t            return m;\n\t\t        }\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Interpolate this matrix with another and produce a new matrix.\r\n\t\t     * t is a value in the range [0.0, 1.0] where 0 is this instance and\r\n\t\t     * 1 is equal to the second matrix. The t value is not constrained.\r\n\t\t     *\r\n\t\t     * Context from parent matrix is not applied to the returned matrix.\r\n\t\t     *\r\n\t\t     * Note: this interpolation is naive. For animation use the\r\n\t\t     * intrpolateAnim() method instead.\r\n\t\t     *\r\n\t\t     * @param {Matrix} m2 - the matrix to interpolate with.\r\n\t\t     * @param {number} t - interpolation [0.0, 1.0]\r\n\t\t     * @param {CanvasRenderingContext2D} [context] - optional context to affect\r\n\t\t     * @returns {Matrix} - new instance with the interpolated result\r\n\t\t     */\n\t\t    interpolate: function interpolate(m2, t, context) {\n\t\t\n\t\t        var me = this,\n\t\t            m = context ? new Matrix(context) : new Matrix();\n\t\t\n\t\t        m.a = me.a + (m2.a - me.a) * t;\n\t\t        m.b = me.b + (m2.b - me.b) * t;\n\t\t        m.c = me.c + (m2.c - me.c) * t;\n\t\t        m.d = me.d + (m2.d - me.d) * t;\n\t\t        m.e = me.e + (m2.e - me.e) * t;\n\t\t        m.f = me.f + (m2.f - me.f) * t;\n\t\t\n\t\t        return m._x();\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Interpolate this matrix with another and produce a new matrix.\r\n\t\t     * t is a value in the range [0.0, 1.0] where 0 is this instance and\r\n\t\t     * 1 is equal to the second matrix. The t value is not constrained.\r\n\t\t     *\r\n\t\t     * Context from parent matrix is not applied to the returned matrix.\r\n\t\t     *\r\n\t\t     * Note: this interpolation method uses decomposition which makes\r\n\t\t     * it suitable for animations (in particular where rotation takes\r\n\t\t     * places).\r\n\t\t     *\r\n\t\t     * @param {Matrix} m2 - the matrix to interpolate with.\r\n\t\t     * @param {number} t - interpolation [0.0, 1.0]\r\n\t\t     * @param {CanvasRenderingContext2D} [context] - optional context to affect\r\n\t\t     * @returns {Matrix} - new instance with the interpolated result\r\n\t\t     */\n\t\t    interpolateAnim: function interpolateAnim(m2, t, context) {\n\t\t\n\t\t        var me = this,\n\t\t            m = context ? new Matrix(context) : new Matrix(),\n\t\t            d1 = me.decompose(),\n\t\t            d2 = m2.decompose(),\n\t\t            rotation = d1.rotation + (d2.rotation - d1.rotation) * t,\n\t\t            translateX = d1.translate.x + (d2.translate.x - d1.translate.x) * t,\n\t\t            translateY = d1.translate.y + (d2.translate.y - d1.translate.y) * t,\n\t\t            scaleX = d1.scale.x + (d2.scale.x - d1.scale.x) * t,\n\t\t            scaleY = d1.scale.y + (d2.scale.y - d1.scale.y) * t;\n\t\t\n\t\t        m.translate(translateX, translateY);\n\t\t        m.rotate(rotation);\n\t\t        m.scale(scaleX, scaleY);\n\t\t\n\t\t        return m._x();\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Decompose the current matrix into simple transforms using either\r\n\t\t     * QR (default) or LU decomposition. Code adapted from\r\n\t\t     * http://www.maths-informatique-jeux.com/blog/frederic/?post/2013/12/01/Decomposition-of-2D-transform-matrices\r\n\t\t     *\r\n\t\t     * The result must be applied in the following order to reproduce the current matrix:\r\n\t\t     *\r\n\t\t     *     QR: translate -> rotate -> scale -> skewX\r\n\t\t     *     LU: translate -> skewY  -> scale -> skewX\r\n\t\t     *\r\n\t\t     * @param {boolean} [useLU=false] - set to true to use LU rather than QR algorithm\r\n\t\t     * @returns {*} - an object containing current decomposed values (rotate, skew, scale, translate)\r\n\t\t     */\n\t\t    decompose: function decompose(useLU) {\n\t\t\n\t\t        var me = this,\n\t\t            a = me.a,\n\t\t            b = me.b,\n\t\t            c = me.c,\n\t\t            d = me.d,\n\t\t            acos = Math.acos,\n\t\t            atan = Math.atan,\n\t\t            sqrt = Math.sqrt,\n\t\t            pi = Math.PI,\n\t\t            translate = { x: me.e, y: me.f },\n\t\t            rotation = 0,\n\t\t            scale = { x: 1, y: 1 },\n\t\t            skew = { x: 0, y: 0 },\n\t\t            determ = a * d - b * c; // determinant(), skip DRY here...\n\t\t\n\t\t        if (useLU) {\n\t\t            if (a) {\n\t\t                skew = { x: atan(c / a), y: atan(b / a) };\n\t\t                scale = { x: a, y: determ / a };\n\t\t            } else if (b) {\n\t\t                rotation = pi * 0.5;\n\t\t                scale = { x: b, y: determ / b };\n\t\t                skew.x = atan(d / b);\n\t\t            } else {\n\t\t                // a = b = 0\n\t\t                scale = { x: c, y: d };\n\t\t                skew.x = pi * 0.25;\n\t\t            }\n\t\t        } else {\n\t\t            // Apply the QR-like decomposition.\n\t\t            if (a || b) {\n\t\t                var r = sqrt(a * a + b * b);\n\t\t                rotation = b > 0 ? acos(a / r) : -acos(a / r);\n\t\t                scale = { x: r, y: determ / r };\n\t\t                skew.x = atan((a * c + b * d) / (r * r));\n\t\t            } else if (c || d) {\n\t\t                var s = sqrt(c * c + d * d);\n\t\t                rotation = pi * 0.5 - (d > 0 ? acos(-c / s) : -acos(c / s));\n\t\t                scale = { x: determ / s, y: s };\n\t\t                skew.y = atan((a * c + b * d) / (s * s));\n\t\t            } else {\n\t\t                // a = b = c = d = 0\n\t\t                scale = { x: 0, y: 0 }; // = invalid matrix\n\t\t            }\n\t\t        }\n\t\t\n\t\t        return {\n\t\t            scale: scale,\n\t\t            translate: translate,\n\t\t            rotation: rotation,\n\t\t            skew: skew\n\t\t        };\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Returns the determinant of the current matrix.\r\n\t\t     * @returns {number}\r\n\t\t     */\n\t\t    determinant: function determinant() {\n\t\t        return this.a * this.d - this.b * this.c;\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply current matrix to x and y point.\r\n\t\t     * Returns a point object.\r\n\t\t     *\r\n\t\t     * @param {number} x - value for x\r\n\t\t     * @param {number} y - value for y\r\n\t\t     * @returns {{x: number, y: number}} A new transformed point object\r\n\t\t     */\n\t\t    applyToPoint: function applyToPoint(x, y) {\n\t\t\n\t\t        var me = this;\n\t\t\n\t\t        return {\n\t\t            x: x * me.a + y * me.c + me.e,\n\t\t            y: x * me.b + y * me.d + me.f\n\t\t        };\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply current matrix to array with point objects or point pairs.\r\n\t\t     * Returns a new array with points in the same format as the input array.\r\n\t\t     *\r\n\t\t     * A point object is an object literal:\r\n\t\t     *\r\n\t\t     * {x: x, y: y}\r\n\t\t     *\r\n\t\t     * so an array would contain either:\r\n\t\t     *\r\n\t\t     * [{x: x1, y: y1}, {x: x2, y: y2}, ... {x: xn, y: yn}]\r\n\t\t     *\r\n\t\t     * or\r\n\t\t     * [x1, y1, x2, y2, ... xn, yn]\r\n\t\t     *\r\n\t\t     * @param {Array} points - array with point objects or pairs\r\n\t\t     * @returns {Array} A new array with transformed points\r\n\t\t     */\n\t\t    applyToArray: function applyToArray(points) {\n\t\t\n\t\t        var i = 0,\n\t\t            p,\n\t\t            l,\n\t\t            mxPoints = [];\n\t\t\n\t\t        if (typeof points[0] === 'number') {\n\t\t\n\t\t            l = points.length;\n\t\t\n\t\t            while (i < l) {\n\t\t                p = this.applyToPoint(points[i++], points[i++]);\n\t\t                mxPoints.push(p.x, p.y);\n\t\t            }\n\t\t        } else {\n\t\t            for (; p = points[i]; i++) {\n\t\t                mxPoints.push(this.applyToPoint(p.x, p.y));\n\t\t            }\n\t\t        }\n\t\t\n\t\t        return mxPoints;\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply current matrix to a typed array with point pairs. Although\r\n\t\t     * the input array may be an ordinary array, this method is intended\r\n\t\t     * for more performant use where typed arrays are used. The returned\r\n\t\t     * array is regardless always returned as a Float32Array.\r\n\t\t     *\r\n\t\t     * @param {*} points - (typed) array with point pairs\r\n\t\t     * @param {boolean} [use64=false] - use Float64Array instead of Float32Array\r\n\t\t     * @returns {*} A new typed array with transformed points\r\n\t\t     */\n\t\t    applyToTypedArray: function applyToTypedArray(points, use64) {\n\t\t\n\t\t        var i = 0,\n\t\t            p,\n\t\t            l = points.length,\n\t\t            mxPoints = use64 ? new Float64Array(l) : new Float32Array(l);\n\t\t\n\t\t        while (i < l) {\n\t\t            p = this.applyToPoint(points[i], points[i + 1]);\n\t\t            mxPoints[i++] = p.x;\n\t\t            mxPoints[i++] = p.y;\n\t\t        }\n\t\t\n\t\t        return mxPoints;\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply to any canvas 2D context object. This does not affect the\r\n\t\t     * context that optionally was referenced in constructor unless it is\r\n\t\t     * the same context.\r\n\t\t     * @param {CanvasRenderingContext2D} context\r\n\t\t     */\n\t\t    applyToContext: function applyToContext(context) {\n\t\t        var me = this;\n\t\t        context.setTransform(me.a, me.b, me.c, me.d, me.e, me.f);\n\t\t        return me;\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Returns true if matrix is an identity matrix (no transforms applied).\r\n\t\t     * @returns {boolean} True if identity (not transformed)\r\n\t\t     */\n\t\t    isIdentity: function isIdentity() {\n\t\t        var me = this;\n\t\t        return me._q(me.a, 1) && me._q(me.b, 0) && me._q(me.c, 0) && me._q(me.d, 1) && me._q(me.e, 0) && me._q(me.f, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Returns true if matrix is invertible\r\n\t\t     * @returns {boolean}\r\n\t\t     */\n\t\t    isInvertible: function isInvertible() {\n\t\t        return !this._q(this.determinant(), 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Test if matrix is valid.\r\n\t\t     */\n\t\t    isValid: function isValid() {\n\t\t        return !this._q(this.a * this.d, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Clones current instance and returning a new matrix.\r\n\t\t     * @param {boolean} [noContext=false] don't clone context reference if true\r\n\t\t     * @returns {Matrix}\r\n\t\t     */\n\t\t    clone: function clone(noContext) {\n\t\t        var me = this,\n\t\t            m = new Matrix();\n\t\t        m.a = me.a;\n\t\t        m.b = me.b;\n\t\t        m.c = me.c;\n\t\t        m.d = me.d;\n\t\t        m.e = me.e;\n\t\t        m.f = me.f;\n\t\t        if (!noContext) m.context = me.context;\n\t\t\n\t\t        return m;\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Compares current matrix with another matrix. Returns true if equal\r\n\t\t     * (within epsilon tolerance).\r\n\t\t     * @param {Matrix} m - matrix to compare this matrix with\r\n\t\t     * @returns {boolean}\r\n\t\t     */\n\t\t    isEqual: function isEqual(m) {\n\t\t\n\t\t        var me = this,\n\t\t            q = me._q;\n\t\t\n\t\t        return q(me.a, m.a) && q(me.b, m.b) && q(me.c, m.c) && q(me.d, m.d) && q(me.e, m.e) && q(me.f, m.f);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Returns an array with current matrix values.\r\n\t\t     * @returns {Array}\r\n\t\t     */\n\t\t    toArray: function toArray() {\n\t\t        var me = this;\n\t\t        return [me.a, me.b, me.c, me.d, me.e, me.f];\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Generates a matrix() string that can be used with CSS transform.\r\n\t\t     * @returns {string}\r\n\t\t     */\n\t\t    toCSS: function toCSS() {\n\t\t        return \"matrix(\" + this.toArray() + \")\";\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Generates a matrix3d() string that can be used with CSS transform.\r\n\t\t     * @returns {string}\r\n\t\t     */\n\t\t    toCSS3D: function toCSS3D() {\n\t\t        var me = this;\n\t\t        return \"matrix3d(\" + me.a + \", \" + me.b + \", 0, 0, \" + me.c + \", \" + me.d + \", 0, 0, 0, 0, 1, 0, \" + me.e + \", \" + me.f + \", 0, 1)\";\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Returns a JSON compatible string of current matrix.\r\n\t\t     * @returns {string}\r\n\t\t     */\n\t\t    toJSON: function toJSON() {\n\t\t        return JSON.stringify(this.toArray());\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Returns a string with current matrix as comma-separated list.\r\n\t\t     * @returns {string}\r\n\t\t     */\n\t\t    toString: function toString() {\n\t\t        return \"\" + this.toArray();\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Compares floating point values with some tolerance (epsilon)\r\n\t\t     * @param {number} f1 - float 1\r\n\t\t     * @param {number} f2 - float 2\r\n\t\t     * @returns {boolean}\r\n\t\t     * @private\r\n\t\t     */\n\t\t    _q: function _q(f1, f2) {\n\t\t        return Math.abs(f1 - f2) < 1e-14;\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply current absolute matrix to context if defined, to sync it.\r\n\t\t     * @private\r\n\t\t     */\n\t\t    _x: function _x() {\n\t\t        var me = this;\n\t\t        if (me.context) me.context.setTransform(me.a, me.b, me.c, me.d, me.e, me.f);\n\t\t        return me;\n\t\t    }\n\t\t};\n\t\t\n\t\texports[\"default\"] = Matrix;\n\t\tmodule.exports = exports[\"default\"];\n\t\n\t/***/ },\n\t/* 23 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Defines the global root level namespace for the library.\n\t\t *\n\t\t * @module\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t *\n\t\t * @requires game\n\t\t * @requires module:play~pl.util\n\t\t * @requires types/Basic\n\t\t * @requires types/Dimensions\n\t\t */\n\t\t\n\t\tvar _playGame = __webpack_require__(24);\n\t\t\n\t\tvar _playGame2 = _interopRequireDefault(_playGame);\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesBasic = __webpack_require__(19);\n\t\t\n\t\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\t\n\t\tvar _typesQueue = __webpack_require__(40);\n\t\t\n\t\tvar _typesQueue2 = _interopRequireDefault(_typesQueue);\n\t\t\n\t\tvar _typesDimensions = __webpack_require__(14);\n\t\t\n\t\tvar pl;\n\t\t/**\n\t\t * Resolves the event type for user interactions.\n\t\t */\n\t\tfunction resolveEventType() {\n\t\t\tvar resolution;\n\t\t\n\t\t\tif (_playGame2['default'].feature('touch')) {\n\t\t\t\tresolution = {\n\t\t\t\t\tACTION: 'touchend',\n\t\t\t\t\tACTION_DOWN: 'touchstart',\n\t\t\t\t\tACTION_UP: 'touchend',\n\t\t\t\t\tACTION_MOVE: 'touchmove',\n\t\t\t\t\tACTION_OUT: 'touchcancel'\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tresolution = {\n\t\t\t\t\tACTION: 'click',\n\t\t\t\t\tACTION_DOWN: 'mousedown',\n\t\t\t\t\tACTION_UP: 'mouseup',\n\t\t\t\t\tACTION_MOVE: 'mousemove',\n\t\t\t\t\tACTION_OUT: 'mouseout'\n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\treturn resolution;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Globaly accesable, root level namespace for the library.\n\t\t * @namespace\n\t\t * @prop {object} EVENT - Namespace for noralized event name constants.\n\t\t * @prop {Basic} Basic - Base object type.\n\t\t * @prop {Point} Point - Object type which holds values on a 2D cartesian plane.\n\t\t * @prop {Size} Size - Object type which holds 2-dimentional values for size.\n\t\t * @prop {function} game - Registers a game view implementation. Also a namespace for other methods.\n\t\t * @prop {object} util - Namespace for utility functions.\n\t\t */\n\t\tpl = {\n\t\t\tBasic: _typesBasic2['default'], Point: _typesDimensions.Point, Size: _typesDimensions.Size, Queue: _typesQueue2['default'],\n\t\t\tgame: _playGame2['default'],\n\t\t\tutil: _util2['default'],\n\t\t\n\t\t\t/**\n\t\t  * @namespace\n\t\t  * @prop {string} ACTION - The device normalized `click` event name.\n\t\t  * @prop {string} ACTION_DOWN - The device normalized `mousedown` event name.\n\t\t  * @prop {string} ACTION_UP - The device normalized `mouseup` event name.\n\t\t  * @prop {string} ACTION_MOVE - The device normalized `mousemove` event name.\n\t\t  * @prop {string} ACTION_OUT - The device normalized `mouseout` event name.\n\t\t  */\n\t\t\tEVENT: resolveEventType()\n\t\t};\n\t\t\n\t\texports['default'] = pl;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 24 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Defines the 'game' method for registration and initialization of game scopes. This method also acts as a namespace for game level functions (See: [pl.game]{@link module:play~pl.game}).\n\t\t *\n\t\t * @module game\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t *\n\t\t * @requires play.game.component\n\t\t * @requires play.game.manager\n\t\t * @requires util\n\t\t * @requires types/Events\n\t\t * @requires types/GlobalScope\n\t\t * @requires types/Entity\n\t\t * @requires types/Screen\n\t\t * @requires types/Game\n\t\t */\n\t\t\n\t\tvar _playGameComponent = __webpack_require__(25);\n\t\t\n\t\tvar _playGameComponent2 = _interopRequireDefault(_playGameComponent);\n\t\t\n\t\tvar _playGameManager = __webpack_require__(27);\n\t\t\n\t\tvar _playGameManager2 = _interopRequireDefault(_playGameManager);\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesEvents = __webpack_require__(26);\n\t\t\n\t\tvar _typesEvents2 = _interopRequireDefault(_typesEvents);\n\t\t\n\t\tvar _typesGlobalScope = __webpack_require__(30);\n\t\t\n\t\tvar _typesGlobalScope2 = _interopRequireDefault(_typesGlobalScope);\n\t\t\n\t\tvar _typesEntity = __webpack_require__(93);\n\t\t\n\t\tvar _typesEntity2 = _interopRequireDefault(_typesEntity);\n\t\t\n\t\tvar _typesScreen = __webpack_require__(94);\n\t\t\n\t\tvar _typesScreen2 = _interopRequireDefault(_typesScreen);\n\t\t\n\t\tvar _typesGame = __webpack_require__(95);\n\t\t\n\t\tvar _typesGame2 = _interopRequireDefault(_typesGame);\n\t\t\n\t\tvar _platform = __webpack_require__(96);\n\t\t\n\t\tvar _platform2 = _interopRequireDefault(_platform);\n\t\t\n\t\tvar GAMES, CONFIG, READY_QUEUE;\n\t\t\n\t\t/**\n\t\t * Define a game scope for registration and/or initialization.\n\t\t * This method also acts as a namespace for game level functions (See: [pl.game]{@link module:play~pl.game}).\n\t\t *\n\t\t * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n\t\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t\t */\n\t\tfunction game(_name, _implementation) {\n\t\t\tif (game.isDOMReady) {\n\t\t\t\tinitialize(_name, _implementation);\n\t\t\t} else {\n\t\t\t\tregister(_name, _implementation);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction ready(_eventName) {\n\t\t\tif (READY_QUEUE.length) return false;\n\t\t\tgame.trigger(_eventName || 'ready');\n\t\t}\n\t\t\n\t\t/**\n\t\t * Registers an implementation of a game scope for initialization.\n\t\t * @protected\n\t\t * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n\t\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t\t */\n\t\tfunction register(_name, _implementation) {\n\t\t\tif (! ~GAMES.indexOf(_name)) {\n\t\t\t\tGAMES.push({\n\t\t\t\t\tid: _name,\n\t\t\t\t\timplementation: _implementation\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\t * Initializes an implementation of a game scope. (overloaded)\n\t\t * @function initialize\n\t\t * @protected\n\t\t * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n\t\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t\t */\n\t\t\n\t\t/**\n\t\t * Initializes an implementation of a game scope.\n\t\t * @protected\n\t\t * @arg {array} _collection - The collection of game scope records for initialization.\n\t\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t\t */\n\t\tfunction initialize(_name_collection, _implementation) {\n\t\t\tswitch (typeof _name_collection) {\n\t\t\t\tcase 'string':\n\t\t\t\t\t_typesGlobalScope2['default'][_name_collection] = _typesGame2['default'].extend(_implementation).initialize('#' + _name_collection);\n\t\t\t\t\tbreak;\n\t\t\n\t\t\t\tcase 'object':\n\t\t\t\t\t_name_collection.forEach(function (_item, _index) {\n\t\t\t\t\t\tinitialize(_item.id, _item.implementation);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\t/** @protected */\n\t\tGAMES = [];\n\t\t/** @protected */\n\t\tCONFIG = {};\n\t\t/** @protected */\n\t\tREADY_QUEUE = [];\n\t\t\n\t\t/**\n\t\t * Interface for game level configuration.\n\t\t * @namespace game\n\t\t * @memberof module:play~pl\n\t\t * @mixes Events\n\t\t */\n\t\t(function () {\n\t\t\n\t\t\tvar audioContext;\n\t\t\n\t\t\tthis.component = _playGameComponent2['default'];\n\t\t\tthis.manager = _playGameManager2['default'];\n\t\t\n\t\t\t_util2['default'].mixin(game, _typesEvents2['default']);\n\t\t\n\t\t\tthis.on('platform-event', function (_event) {\n\t\t\t\tconsole.log('play.game -', _event.name, _event.gameData);\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * Starts the dominos falling\n\t\t  * @function run\n\t\t  * @memberof module:play~pl.game\n\t\t  */\n\t\t\tthis.run = function () {\n\t\t\t\tgame.isDOMReady = true;\n\t\t\t\tgame.trigger('dom-ready');\n\t\t\n\t\t\t\tgame.component.loadAll(function () {\n\t\t\t\t\t// console.log('** All component sources loaded.');\n\t\t\t\t\tinitialize(GAMES);\n\t\t\n\t\t\t\t\tGAMES = null;\n\t\t\t\t});\n\t\t\n\t\t\t\t_platform2['default'].emit(_platform2['default'].EVENT_INIT);\n\t\t\t};\n\t\t\n\t\t\tthis.report = function (_name) {\n\t\t\t\t_platform2['default'].emit(_name);\n\t\t\n\t\t\t\treturn this.report;\n\t\t\t};\n\t\t\n\t\t\tthis.report.exit = function (_gameScope) {\n\t\t\t\t_platform2['default'].saveGameState(_gameScope.progress());\n\t\t\t\t_platform2['default'].emit(_platform2['default'].EVENT_EXIT);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.report.flip = function (_gameScope) {\n\t\t\t\t_platform2['default'].saveGameState(_gameScope.progress());\n\t\t\t\t_platform2['default'].emit(_platform2['default'].EVENT_FLIPPED);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Getter/Setter for game level configuration.\n\t\t  * @function module:play~pl.game.config\n\t\t  * @arg {string} _key - The key to retrieve\n\t\t  * @returns {this}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Getter/Setter for game level configuration.\n\t\t  * @function config\n\t\t  * @memberof module:play~pl.game\n\t\t  * @arg {object} _mixin - Object to set properties on configuration.\n\t\t  * @returns {this}\n\t\t  */\n\t\t\tthis.config = function (_key_mixin) {\n\t\t\t\tswitch (typeof _key_mixin) {\n\t\t\t\t\tcase 'string':\n\t\t\t\t\t\treturn _util2['default'].resolvePath(CONFIG, _key_mixin);\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tif (_key_mixin) _util2['default'].mixin(CONFIG, _key_mixin);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * @function provideEntityType\n\t\t  * @deprecated\n\t\t  * @memberof module:play~pl.game\n\t\t  */\n\t\t\tthis.provideEntityType = function () {\n\t\t\t\treturn _typesEntity2['default'];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * @function provideScreenType\n\t\t  * @deprecated\n\t\t  * @memberof module:play~pl.game\n\t\t  */\n\t\t\tthis.provideScreenType = function () {\n\t\t\t\treturn _typesScreen2['default'];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Augments the global scope.\n\t\t  * @function scope\n\t\t  * @arg {function|object} _mixin - Object or constructor to define members.\n\t\t  * @returns {this}\n\t\t  *\n\t\t  * @memberof module:play~pl.game\n\t\t  */\n\t\t\tthis.scope = function (_mixin) {\n\t\t\t\tif (typeof _mixin === 'function') {\n\t\t\t\t\t_mixin.call(_typesGlobalScope2['default']);\n\t\t\t\t} else if (_mixin) {\n\t\t\t\t\t_typesGlobalScope2['default'].mixin(_mixin);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * @function queue\n\t\t  * @deprecated\n\t\t  * @memberof module:play~pl.game\n\t\t  */\n\t\t\tthis.queue = function (_item) {\n\t\t\t\tif (! ~READY_QUEUE.indexOf(_item)) READY_QUEUE.push(_item);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.queue.complete = function (_item, _eventName) {\n\t\t\t\tvar index;\n\t\t\n\t\t\t\tindex = READY_QUEUE.indexOf(_item);\n\t\t\t\tREADY_QUEUE.splice(index, 1);\n\t\t\n\t\t\t\tready(_eventName);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Accessor for the detected features supported by the browser.\n\t\t  *\n\t\t  * *Supported Feature Detectors*\n\t\t  * - touch\n\t\t  *\n\t\t  * @function feature;\n\t\t  * @arg {string} _name - The feature which to test for (i.e. `\"touch\"`)\n\t\t  * @returns {boolean} The support status for the specified feature.\n\t\t  */\n\t\t\tthis.feature = (function () {\n\t\t\t\tvar detect = {\n\t\t\t\t\ttouch: function touch() {\n\t\t\t\t\t\treturn window.hasOwnProperty('ontouchend');\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\treturn function (_name) {\n\t\t\t\t\tvar tester = detect[_name];\n\t\t\t\t\tif (!tester && console) console.warn('No feature detection for \"' + _name + '\".');\n\t\t\t\t\treturn tester && tester();\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tthis.getAudioContext = function () {\n\t\t\t\tif (!audioContext) {\n\t\t\t\t\taudioContext = new (window.AudioContext || window.webkitAudioContext)();\n\t\t\t\t\t// window.onfocus = function() { audioContext.resume(); };\n\t\t\t\t\t// window.onblur = function() { audioContext.suspend(); };\n\t\t\t\t}\n\t\t\t\treturn audioContext;\n\t\t\t};\n\t\t\n\t\t\tthis.enableAudioContext = function () {\n\t\t\t\tvar ctx, silence;\n\t\t\n\t\t\t\tctx = this.getAudioContext();\n\t\t\t\tsilence = ctx.createBufferSource();\n\t\t\n\t\t\t\tsilence.buffer = ctx.createBuffer(2, 1, 44100);\n\t\t\t\tsilence.connect(ctx.destination);\n\t\t\t\tsilence.start();\n\t\t\t\tsilence.disconnect();\n\t\t\n\t\t\t\treturn silence;\n\t\t\t};\n\t\t}).call(game);\n\t\t\n\t\texports['default'] = game;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 25 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Defines the `component()` method for component behavior registration. This method is also a namesapce for methods to manage and load component behavior scripts.\n\t\t *\n\t\t * @module\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t *\n\t\t * @requires play~pl.util\n\t\t * @requires types/Events\n\t\t */\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesEvents = __webpack_require__(26);\n\t\t\n\t\tvar _typesEvents2 = _interopRequireDefault(_typesEvents);\n\t\t\n\t\t/**\n\t\t * Collection of component behavior records\n\t\t * @const\n\t\t */\n\t\tvar COMPONENTS;\n\t\t\n\t\t/**\n\t\t * Registers a component behavior.\n\t\t * @arg {string} _name - The name for the component.\n\t\t * @arg {function|object} _implementation - Constructor function or object with the behavior's implementation.\n\t\t * @returns {@link module:play~pl.game}\n\t\t */\n\t\tfunction component(_name, _implementation) {\n\t\t\tif (!component.get(_name)) {\n\t\t\t\tCOMPONENTS.push({\n\t\t\t\t\tname: _name,\n\t\t\t\t\timplementation: _implementation,\n\t\t\t\t\tconfig: {}\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tCOMPONENTS = [];\n\t\t\n\t\t/**\n\t\t * Methods to manage and load component behavior scripts.\n\t\t * @namespace component\n\t\t * @memberof module:play~pl.game\n\t\t * @mixes Events\n\t\t */\n\t\t(function () {\n\t\t\n\t\t\t_util2['default'].mixin(this, _typesEvents2['default']);\n\t\t\n\t\t\t/**\n\t\t  * Given a name; provides the component record. `{name, implementation}`\n\t\t  * @memberof module:play~pl.game.component\n\t\t  * @arg {string} _name - The name of the component.\n\t\t  * @returns {object} The record.\n\t\t  */\n\t\t\tthis.get = function (_name) {\n\t\t\t\tvar i, record;\n\t\t\n\t\t\t\tfor (i = 0; record = COMPONENTS[i]; i += 1) {\n\t\t\t\t\tif (record.name === _name) return record;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn null;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Loads the script for the component. The HTML and CSS will be loaded when the component scope initalizes.<br>\n\t\t  * The path of the script file is resolved `{pl.game.config.componentDirectory}/{_name}/behavior.js`.\n\t\t  * @memberof module:play~pl.game.component\n\t\t  * @arg {string} _name - The name of the component.\n\t\t  * @arg {function} _callback - Callback for load success.\n\t\t  * @todo Implement Promises.\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.load = function (_name, _callback) {\n\t\t\t\tvar path;\n\t\t\n\t\t\t\tif (component.get(_name)) {\n\t\t\t\t\tif (_callback) _callback.call(component, _name);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\n\t\t\t\tpath = pl.game.config('componentDirectory') + _name + '/behavior.js';\n\t\t\n\t\t\t\t$.getScript(path, function () {\n\t\t\t\t\tif (_callback) _callback.call(component, _name);\n\t\t\t\t\tcomponent.trigger('loaded', [_name]);\n\t\t\t\t});\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Loads all the component scripts for HTML elements with `pl-component` attributes.\n\t\t  * @memberof module:play~pl.game.component\n\t\t  * @arg {function} _callback - Callback for load success.\n\t\t  * @todo Implement Promises.\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.loadAll = function (_callback) {\n\t\t\t\tvar $components, queue;\n\t\t\n\t\t\t\t$components = $('[pl-component]');\n\t\t\t\tqueue = [];\n\t\t\n\t\t\t\t$components.each(function (_index) {\n\t\t\t\t\tvar name;\n\t\t\n\t\t\t\t\tname = $(this).attr('pl-component');\n\t\t\n\t\t\t\t\tif (~queue.indexOf(name)) return;\n\t\t\n\t\t\t\t\tqueue.push(name);\n\t\t\t\t});\n\t\t\n\t\t\t\tqueue.slice(0).forEach(function (_name) {\n\t\t\t\t\tcomponent.load(_name, function () {\n\t\t\t\t\t\tvar index;\n\t\t\n\t\t\t\t\t\tindex = queue.indexOf(_name);\n\t\t\t\t\t\tqueue.splice(index, 1);\n\t\t\n\t\t\t\t\t\tif (!queue.length && _callback) _callback.apply(component, arguments);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t// Maybe?\n\t\t\t// this.config = function () {};\n\t\t}).call(component);\n\t\t\n\t\texports['default'] = component;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 26 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t*  Events\n\t\t*  @desc Contains methods for managing and dispatching events from objects.\n\t\t*  @proto Basic\n\t\t*/\n\t\t\n\t\tvar _typesBasic = __webpack_require__(19);\n\t\t\n\t\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\t\n\t\tvar Events = _typesBasic2['default'].extend(function () {\n\t\t\tvar i, method, methods;\n\t\t\t/**\n\t\t *  @desc Creates a function with a proxy to the jQuery method.\n\t\t *  @param _name (String) The name of the method being proxied.\n\t\t *  @return (jQuery|*) Either a jQuery object or whatever the original method returns.\n\t\t *  @private\n\t\t */\n\t\t\tfunction createProxyFunction(_name) {\n\t\t\t\treturn function () {\n\t\t\t\t\tvar $jq = $();\n\t\t\t\t\t// We must wrap our object in jQuery. If 'typeof this' is a function then we need\n\t\t\t\t\t// to add it in this manner, otherwise jQuery treats it like a ready callback.\n\t\t\t\t\t$jq.push(this);\n\t\t\n\t\t\t\t\treturn $.fn[_name].apply($jq, arguments);\n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\tmethods = ['on', 'off', 'trigger'];\n\t\t\n\t\t\tthis.baseType = 'TYPE_EVENTS';\n\t\t\n\t\t\tfor (i = 0; method = methods[i]; i += 1) {\n\t\t\t\tthis[method] = createProxyFunction(method);\n\t\t\t}\n\t\t});\n\t\t\n\t\texports['default'] = Events;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 27 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t\n\t\tvar _playGameManagerDraggable = __webpack_require__(28);\n\t\t\n\t\tvar _playGameManagerDraggable2 = _interopRequireDefault(_playGameManagerDraggable);\n\t\t\n\t\texports.draggable = _playGameManagerDraggable2['default'];\n\t\n\t/***/ },\n\t/* 28 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesCollection = __webpack_require__(29);\n\t\t\n\t\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\t\n\t\tvar _typesDimensions = __webpack_require__(14);\n\t\t\n\t\tvar COLLECTION_DRAGABLES = _typesCollection2['default'].create();\n\t\t\n\t\tvar draggableStyleSheet;\n\t\t\n\t\tfunction boot() {\n\t\t\tcreateHelperStyleSheet();\n\t\t\tattachEvents();\n\t\t}\n\t\t\n\t\tfunction attachEvents() {\n\t\t\tvar state, E;\n\t\t\n\t\t\tE = pl.EVENT;\n\t\t\n\t\t\t// Disable scrolling on touchDevices (particularly for iOS elastic scroll).\n\t\t\tif (E.ACTION_MOVE === 'touchmove') attachEvents.disableTouchScroll();\n\t\t\n\t\t\t$(document).on(E.ACTION_DOWN, function (_event) {\n\t\t\t\tvar $draggable, scope, cursor, mode, game, point, transform, helperID, dragStartEvent;\n\t\t\n\t\t\t\t$draggable = $(_event.target).closest('[pl-draggable]');\n\t\t\n\t\t\t\tif ($draggable.length) {\n\t\t\t\t\tscope = $draggable.scope();\n\t\t\t\t\tcursor = resolveEventPoint(_event, 1 / scope.game.zoom);\n\t\t\t\t\tmode = $draggable.pl('draggable');\n\t\t\t\t\tgame = {\n\t\t\t\t\t\tposition: scope.game.absolutePosition(),\n\t\t\t\t\t\tscale: scope.game.transformScale().x\n\t\t\t\t\t};\n\t\t\t\t\tpoint = $draggable.absolutePosition().dec(game.position);\n\t\t\t\t\ttransform = $draggable.transform();\n\t\t\t\t\thelperID = createID();\n\t\t\t\t\tstate = {\n\t\t\t\t\t\tmode: mode,\n\t\t\t\t\t\t$draggable: $draggable,\n\t\t\t\t\t\tscope: scope,\n\t\t\t\t\t\t$helper: null,\n\t\t\n\t\t\t\t\t\tstart: {\n\t\t\t\t\t\t\tcursor: cursor,\n\t\t\t\t\t\t\tpoint: point,\n\t\t\t\t\t\t\ttransform: transform\n\t\t\t\t\t\t},\n\t\t\n\t\t\t\t\t\tprogress: {\n\t\t\t\t\t\t\tdistance: null,\n\t\t\t\t\t\t\tpoint: null,\n\t\t\t\t\t\t\ttransform: null\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\t// FireFox has a different scaling implementation than other browsers (transform:scale(); vs. zoom:;)\n\t\t\t\t\t// so we need to account for the game transform scale.\n\t\t\t\t\t//\n\t\t\t\t\tif (game.scale !== 1) point = point.scale(1 / game.scale);\n\t\t\n\t\t\t\t\tdraggableStyleSheet.html(provideSource(helperID, createDraggableRule($draggable)));\n\t\t\n\t\t\t\t\tswitch (mode) {\n\t\t\t\t\t\tcase 'clone':\n\t\t\t\t\t\t\tstate.$helper = $draggable.clone();\n\t\t\t\t\t\t\tstate.$helper.id(helperID).pl('draggable', null) // helpers are not to be captured as draggable\n\t\t\t\t\t\t\t.addClass('draggable-helper').appendTo(document.body).absolutePosition(point);\n\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\tcase 'pluck':\n\t\t\t\t\t\t\t$draggable.addClass('PLUCKED');\n\t\t\n\t\t\t\t\t\t\tstate.$helper = $draggable.clone();\n\t\t\t\t\t\t\tstate.$helper.id(helperID).pl('draggable', null) // helpers are not to be captured as draggable\n\t\t\t\t\t\t\t.addClass('draggable-helper').appendTo(document.body).absolutePosition(point);\n\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tstate.$helper = $draggable;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tstate.$helper.removeClass('DRAG-ENDED').addClass('DRAG-START');\n\t\t\n\t\t\t\t\tdragStartEvent = $.Event('drag-start', {\n\t\t\t\t\t\tstate: state,\n\t\t\t\t\t\ttargetScope: scope\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tscope.trigger(dragStartEvent);\n\t\t\t\t}\n\t\t\t}).on(E.ACTION_MOVE, function (_event) {\n\t\t\t\tvar cursor, $draggable, distance, point, transform, dragMoveEvent;\n\t\t\n\t\t\t\tif (state) {\n\t\t\t\t\tcursor = resolveEventPoint(_event, 1 / state.scope.game.zoom);\n\t\t\t\t\tdistance = state.start.cursor.distance(cursor);\n\t\t\t\t\tpoint = _typesDimensions.Point.create();\n\t\t\t\t\ttransform = null;\n\t\t\n\t\t\t\t\tif (state.start.transform !== 'none') {\n\t\t\t\t\t\ttransform = state.start.transform.clone();\n\t\t\t\t\t\ttransform.translate(distance.width, distance.height);\n\t\t\t\t\t\tpoint.set(transform.applyToPoint(0, 0));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpoint = distance.to('point');\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (state.$helper.hasClass('DRAG-START')) {\n\t\t\t\t\t\tstate.$helper.removeClass('DRAG-START').addClass('DRAGGING');\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tdragMoveEvent = $.Event('drag-move', {\n\t\t\t\t\t\tstate: state,\n\t\t\t\t\t\ttargetScope: state.scope\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tstate.progress.distance = distance;\n\t\t\t\t\tstate.progress.point = state.start.point.inc(point);\n\t\t\t\t\tstate.progress.transform = transform;\n\t\t\n\t\t\t\t\tstate.scope.translate(state.$helper, point);\n\t\t\t\t\tstate.scope.trigger(dragMoveEvent);\n\t\t\t\t}\n\t\t\t}).on([E.ACTION_UP, E.ACTION_OUT].join(' '), function (_event) {\n\t\t\t\tvar $draggable, dragEndEvent;\n\t\t\n\t\t\t\tif (state) {\n\t\t\t\t\t// Do not end dragging if we dont mouse out of the document.\n\t\t\t\t\tif (_event.type === 'mouseout' && ! ~[null, document.documentElement].indexOf(_event.toElement)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t$draggable = state.$draggable;\n\t\t\n\t\t\t\t\tif (state.$helper.hasClass('draggable-helper')) {\n\t\t\t\t\t\tstate.$helper.on('transitionend', function () {\n\t\t\t\t\t\t\t$draggable.removeClass('PLUCKED');\n\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tstate.$helper.removeClass('DRAG-START DRAGGING').addClass('DRAG-ENDED');\n\t\t\n\t\t\t\t\tdragEndEvent = $.Event('drag-end', {\n\t\t\t\t\t\tstate: state,\n\t\t\t\t\t\ttargetScope: state.scope\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tstate.scope.trigger(dragEndEvent);\n\t\t\n\t\t\t\t\tstate = null;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tattachEvents.disableTouchScroll = function () {\n\t\t\tdocument.addEventListener(\"touchmove\", function (_event) {\n\t\t\t\t_event.preventDefault();\n\t\t\t}, false);\n\t\t};\n\t\t\n\t\tfunction resolveEventPoint(_event, _scale) {\n\t\t\tvar scale = _scale || 1;\n\t\t\n\t\t\tif (_event.originalEvent && _event.originalEvent.changedTouches) {\n\t\t\t\t/**\n\t\t   * For now, interactions should use the last touch if multiple fingers are captured.\n\t\t   * @todo Maybe invoke action for each touch.\n\t\t   */\n\t\t\t\t_event.touch = _event.originalEvent.changedTouches[_event.originalEvent.changedTouches.length - 1];\n\t\t\t}\n\t\t\n\t\t\treturn _typesDimensions.Point.create().set(new function () {\n\t\t\t\tif (_event.touch) {\n\t\t\t\t\tthis.x = _event.touch.clientX * scale;\n\t\t\t\t\tthis.y = _event.touch.clientY * scale;\n\t\t\t\t} else {\n\t\t\t\t\tthis.x = _event.clientX * scale;\n\t\t\t\t\tthis.y = _event.clientY * scale;\n\t\t\t\t}\n\t\t\t}());\n\t\t}\n\t\t\n\t\tfunction createHelperStyleSheet() {\n\t\t\tdraggableStyleSheet = $('<style id=\"draggable-helper-css\" type=\"text/css\"></style>').appendTo(document.body);\n\t\t}\n\t\t\n\t\tfunction createDraggableRule(_$draggable) {\n\t\t\tvar i, style, blacklist, rule, prop;\n\t\t\n\t\t\tstyle = window.getComputedStyle(_$draggable[0]);\n\t\t\trule = {};\n\t\t\tblacklist = [\"zIndex\", \"opacity\", \"cursor\", \"transition\", \"transitionDelay\", \"transitionDuration\", \"transitionProperty\", \"transitionTimingFunction\"];\n\t\t\n\t\t\tfor (i = 0; i < style.length; i += 1) {\n\t\t\t\tprop = _util2['default'].transformId(style[i], true);\n\t\t\t\tif (~blacklist.indexOf(prop)) continue;\n\t\t\t\tif (prop.indexOf('Webkit') === 0) prop = prop.slice(0, 1).toLowerCase() + prop.slice(1);\n\t\t\t\tif (style[prop]) rule[prop] = style[prop];\n\t\t\t}\n\t\t\n\t\t\treturn rule;\n\t\t}\n\t\t\n\t\tfunction provideSource(_id, _rule) {\n\t\t\tvar source, prop, value;\n\t\t\n\t\t\tsource = '#' + _id + '.draggable-helper {';\n\t\t\n\t\t\tfor (prop in _rule) {\n\t\t\t\tif (!_rule.hasOwnProperty(prop)) continue;\n\t\t\t\tvalue = _rule[prop];\n\t\t\t\tsource += prop.replace(/([A-Z]+)/g, '-$1').toLowerCase() + ': ' + value + ';';\n\t\t\t}\n\t\t\n\t\t\tsource += '}';\n\t\t\n\t\t\treturn source;\n\t\t};\n\t\t\n\t\tfunction createID() {\n\t\t\treturn 'xy-xyxy-y'.replace(/x|y/g, function (_token) {\n\t\t\t\tif (_token === 'x') return (Math.floor(Math.random() * 5) + 10).toString(16);\n\t\t\t\treturn Math.floor(Math.random() * Date.now()).toString(16).slice(2);\n\t\t\t});\n\t\t}\n\t\t\n\t\tvar draggableManager = {};\n\t\t\n\t\t$(boot);\n\t\t\n\t\texports['default'] = draggableManager;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 29 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Collections are iterables which hold a consistent interface throughout its indexes.\n\t\t *\n\t\t * @module\n\t\t * @requires module:types/BasicArray\n\t\t */\n\t\t\n\t\tvar _typesBasicArray = __webpack_require__(17);\n\t\t\n\t\tvar _typesBasicArray2 = _interopRequireDefault(_typesBasicArray);\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Collection.create()` to get a new instance.\n\t\t * @classdesc Iterable holding record objects of the same interface.\n\t\t * @class\n\t\t * @extends module:types/BasicArray~BasicArray\n\t\t */\n\t\tvar Collection = _typesBasicArray2['default'].extend(function () {\n\t\t\t/**\n\t\t  * Gets the record object which has `_member` as a member.\n\t\t  * @instance\n\t\t  * @protected\n\t\t  * @memberof module:types/Collection~Collection\n\t\t  * @arg {*} _member - object reference to search for.\n\t\t  * @arg {string} _key - the target key to test the `_member` against.\n\t\t  * @arg {boolean} _shouldCollect - <span style=\"color: blue; font-weight: bold;\">`true`</span>: collect all matching elements.<br>\n\t\t  * <span style=\"color: blue; font-weight: bold;\">`false`</span>: return first result.\n\t\t  */\n\t\t\tfunction getRecord(_member, _key, _shouldCollect) {\n\t\t\t\tvar i, record, member, result;\n\t\t\n\t\t\t\tresult = [];\n\t\t\n\t\t\t\tfor (i = 0; record = this[i]; i += 1) {\n\t\t\t\t\tif (_key !== undefined) {\n\t\t\t\t\t\tif (record[_key] === _member) {\n\t\t\t\t\t\t\tif (_shouldCollect) {\n\t\t\t\t\t\t\t\tresult.push(record);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn record;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (record instanceof Array) {\n\t\t\t\t\t\tif (~record.indexOf(_member)) {\n\t\t\t\t\t\t\tif (_shouldCollect) {\n\t\t\t\t\t\t\t\tresult.push(record);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn record;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (member in record) {\n\t\t\t\t\t\t\tif (!record.hasOwnProperty(member)) continue;\n\t\t\t\t\t\t\tif (record[member] === _member) {\n\t\t\t\t\t\t\t\tif (_shouldCollect) {\n\t\t\t\t\t\t\t\t\tresult.push(record);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn record;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn result.length ? result : null;\n\t\t\t}\n\t\t\n\t\t\t/**\n\t\t  * Objects with this as an own property will be identified as the root object.\n\t\t  * @memberof module:types/Collection~Collection\n\t\t  * @readonly\n\t\t  * @default\n\t\t  */\n\t\t\tthis.baseType = 'TYPE_COLLECTION';\n\t\t\n\t\t\tthis.add = function (_record) {\n\t\t\t\tif (~this.indexOf(_record)) return false;\n\t\t\t\tthis.push(_record);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.remove = function (_record) {\n\t\t\t\tvar index;\n\t\t\n\t\t\t\tindex = this.indexOf(_record);\n\t\t\t\tif (~index) this.splice(index, 1);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.has = function (_record) {\n\t\t\t\treturn !! ~this.indexOf(_record);\n\t\t\t};\n\t\t\n\t\t\tthis.get = function (_member, _key) {\n\t\t\t\treturn getRecord.call(this, _member, _key);\n\t\t\t};\n\t\t\n\t\t\tthis.filter = function (_member, _key) {\n\t\t\t\treturn getRecord.call(this, _member, _key, true);\n\t\t\t};\n\t\t});\n\t\t\n\t\texports['default'] = Collection;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 30 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t*  GlobalScope\n\t\t*/\n\t\t\n\t\tvar _typesScope = __webpack_require__(31);\n\t\t\n\t\tvar GlobalScope = _typesScope.Scope.extend(function () {\n\t\t\n\t\t\tthis.baseType = 'TYPE_GLOBAL_SCOPE';\n\t\t});\n\t\t\n\t\texports['default'] = GlobalScope;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 31 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Scopes are packages which contain a reference to a DOM element wrapped in a jQuery object.\n\t\t * This enables properties and methods to be in context of the DOM node and its descendants.\n\t\t *\n\t\t * @module\n\t\t * @requires types/jQProxy\n\t\t * @requires types/Basic\n\t\t * @requires types/Queue\n\t\t * @requires play.game\n\t\t * @requires util\n\t\t * @requires evalAction\n\t\t *\n\t\t * @exports createEntity\n\t\t */\n\t\t\n\t\tvar _typesJQProxy = __webpack_require__(32);\n\t\t\n\t\tvar _typesJQProxy2 = _interopRequireDefault(_typesJQProxy);\n\t\t\n\t\tvar _typesBasic = __webpack_require__(19);\n\t\t\n\t\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\t\n\t\tvar _typesQueue = __webpack_require__(40);\n\t\t\n\t\tvar _typesQueue2 = _interopRequireDefault(_typesQueue);\n\t\t\n\t\tvar _typesDimensions = __webpack_require__(14);\n\t\t\n\t\tvar _playGame = __webpack_require__(24);\n\t\t\n\t\tvar _playGame2 = _interopRequireDefault(_playGame);\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _evalAction = __webpack_require__(41);\n\t\t\n\t\tvar _evalAction2 = _interopRequireDefault(_evalAction);\n\t\t\n\t\tvar _typesAudioManager = __webpack_require__(42);\n\t\t\n\t\t/**\n\t\t * Creates a new Enitiy instance with a context node and implementation.\n\t\t * The instance is prototyped from the parent scope.\n\t\t *\n\t\t * @memberof module:types/Scope~Scope#createEntity\n\t\t * @protected\n\t\t * @arg {jQuery} _$node - jQuery object with a single node in the collection.\n\t\t * @arg {function|object} _implementation - Constructor function or object with the entity behavior.\n\t\t * @returns {module:types/Scope~Scope}\n\t\t */\n\t\tfunction createEntity(_$node, _implementation) {\n\t\t\tvar component, prototype, componentRecord, instance;\n\t\t\n\t\t\tcomponent = _$node.attr('pl-component');\n\t\t\tprototype = this;\n\t\t\n\t\t\tif (component) {\n\t\t\t\tcomponentRecord = _playGame2['default'].component.get(component);\n\t\t\n\t\t\t\tif (componentRecord) {\n\t\t\t\t\t// If a scope is being defined as an extention of a component before the component scope\n\t\t\t\t\t// has been allocated, we construct the component first then pass it as the proto.\n\t\t\t\t\t// But we need to make sure we are not allocating the component it self.\n\t\t\t\t\tif (componentRecord.implementation !== _implementation) {\n\t\t\t\t\t\tprototype = this.extend(componentRecord.implementation);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('No implementation record for the ' + component + 'component.');\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tinstance = typeof _implementation === 'function' ? prototype.extend(_implementation) : prototype.create();\n\t\t\n\t\t\treturn instance.initialize(_$node, component);\n\t\t}\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. Use `Scope.create()` to get a new instance.\n\t\t * @classdesc A package which contains a reference to a DOM node wrapped in a jQuery object. For more information on scopes read [this]{@link module:types/Scope}.\n\t\t * @class\n\t\t * @extends module:types/jQProxy~jQProxy\n\t\t */\n\t\tvar Scope = _typesJQProxy2['default'].extend(function () {\n\t\t\n\t\t\t/**\n\t\t  * Collection of records pairing a node with its action.\n\t\t  * @memberof module:types/Scope~Scope\n\t\t  * @static\n\t\t  * @protected\n\t\t  * @todo Convert to types/Collection\n\t\t  */\n\t\t\tvar Actionables;\n\t\t\n\t\t\tfunction attachActionHandler() {\n\t\t\t\tthis.on(pl.EVENT.ACTION, function (_event) {\n\t\t\t\t\tvar target, record;\n\t\t\n\t\t\t\t\ttarget = $(_event.target).closest('[pl-action]')[0];\n\t\t\n\t\t\t\t\tif (_event.originalEvent && _event.originalEvent.changedTouches) {\n\t\t\t\t\t\t/**\n\t\t     * For now, interactions should use the last touch if multiple fingers are captured.\n\t\t     * @todo Maybe invoke action for each touch.\n\t\t     */\n\t\t\t\t\t\t_event.touch = _event.originalEvent.changedTouches[_event.originalEvent.changedTouches.length - 1];\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t_event.cursor = _typesDimensions.Point.create().set(new function () {\n\t\t\t\t\t\tif (_event.touch) {\n\t\t\t\t\t\t\tthis.x = _event.touch.clientX;\n\t\t\t\t\t\t\tthis.y = _event.touch.clientY;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.x = _event.clientX;\n\t\t\t\t\t\t\tthis.y = _event.clientY;\n\t\t\t\t\t\t}\n\t\t\t\t\t}());\n\t\t\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\trecord = this.actionables.item(target);\n\t\t\n\t\t\t\t\t\tif (record) {\n\t\t\t\t\t\t\t_event.targetScope = this;\n\t\t\t\t\t\t\tthis.event = _event;\n\t\t\t\t\t\t\t_evalAction2['default'](record.action, this);\n\t\t\t\t\t\t\tthis.event = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tfunction getRecordBy(_key, _member, _collection) {\n\t\t\t\tvar i, record;\n\t\t\n\t\t\t\tif (_collection) {\n\t\t\t\t\tfor (i = 0; record = _collection[i]; i += 1) {\n\t\t\t\t\t\tif (record[_key] === _member) return record;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\n\t\t\tfunction removeRecord(_record, _collection) {\n\t\t\t\tvar index;\n\t\t\n\t\t\t\tindex = _collection.indexOf(_record);\n\t\t\t\tif (~index) _collection.splice(index, 1);\n\t\t\t}\n\t\t\n\t\t\tfunction captureDropables(_scope) {\n\t\t\t\tvar collection;\n\t\t\n\t\t\t\tcollection = [];\n\t\t\n\t\t\t\t_scope.find('> [pl-pluck]').each(function () {\n\t\t\t\t\tvar name;\n\t\t\n\t\t\t\t\tname = $(this).attr('pl-pluck');\n\t\t\n\t\t\t\t\tcollection.push(this);\n\t\t\t\t\tcollection[name] = this;\n\t\t\t\t});\n\t\t\n\t\t\t\treturn collection;\n\t\t\t}\n\t\t\n\t\t\tfunction pluckAndDrop(_dropables, _template) {\n\t\t\t\t$(_template).find('[pl-drop]').each(function () {\n\t\t\t\t\tvar $node, name, dropable;\n\t\t\n\t\t\t\t\t$node = $(this);\n\t\t\t\t\tname = $node.attr('pl-drop');\n\t\t\t\t\tdropable = _dropables[name];\n\t\t\n\t\t\t\t\tif (dropable) {\n\t\t\t\t\t\t$node.replaceWith(dropable.children);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\t// Protected\n\t\t\tfunction loadComponentAssets(_name, _callback) {\n\t\t\t\tvar scope, path, totalRequests, transcludeMode, dropables;\n\t\t\n\t\t\t\tfunction ready() {\n\t\t\t\t\tready.status += 1;\n\t\t\n\t\t\t\t\tif (ready.status === totalRequests) {\n\t\t\t\t\t\tif (_callback) {\n\t\t\t\t\t\t\t_callback.call(scope, _name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\ttotalRequests = 0;\n\t\t\t\tscope = this;\n\t\t\t\tpath = _playGame2['default'].config('componentDirectory') + _name + '/';\n\t\t\t\tdropables = captureDropables(this);\n\t\t\t\ttranscludeMode = dropables.length ? this.TRANSCLUDE_PLUCK : this.properties.transclude;\n\t\t\t\tready.status = 0;\n\t\t\n\t\t\t\tif (!this.children().length || transcludeMode) {\n\t\t\t\t\ttotalRequests += 1;\n\t\t\t\t\t$('<div>').load(path + 'template.html', function () {\n\t\t\t\t\t\tvar memory;\n\t\t\n\t\t\t\t\t\tmemory = [];\n\t\t\n\t\t\t\t\t\tswitch (transcludeMode) {\n\t\t\t\t\t\t\tcase scope.TRANSCLUDE_APPEND:\n\t\t\t\t\t\t\t\tscope.append(this.children);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\tcase scope.TRANSCLUDE_PREPEND:\n\t\t\t\t\t\t\t\tscope.prepend(this.children);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\tcase scope.TRANSCLUDE_PLUCK:\n\t\t\t\t\t\t\t\tpluckAndDrop(dropables, this);\n\t\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\tcase scope.TRANSCLUDE_REPLACE:\n\t\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tif (transcludeMode) {\n\t\t\t\t\t\t\t\t\tpluckAndDrop(new function () {\n\t\t\t\t\t\t\t\t\t\tthis[transcludeMode] = scope.node();\n\t\t\t\t\t\t\t\t\t}(), this);\n\t\t\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tscope.findOwn('[pl-component]').each(function () {\n\t\t\t\t\t\t\tvar name;\n\t\t\n\t\t\t\t\t\t\tname = $(this).attr('pl-component');\n\t\t\n\t\t\t\t\t\t\tif (~memory.indexOf(name)) return;\n\t\t\n\t\t\t\t\t\t\tmemory.push(name);\n\t\t\n\t\t\t\t\t\t\ttotalRequests += 1;\n\t\t\n\t\t\t\t\t\t\t_playGame2['default'].component.load(name, function () {\n\t\t\t\t\t\t\t\tready();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tready();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!$('style[pl-for-component=\"' + _name + '\"]').length && _playGame2['default'].config('shouldLoadComponentStyles') !== false) {\n\t\t\t\t\ttotalRequests += 1;\n\t\t\t\t\t$('<style type=\"text/css\" pl-for-component=\"' + _name + '\">').load(path + 'style.css', ready).appendTo(document.body);\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!totalRequests) _callback && _callback.call(this, _name);\n\t\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\n\t\t\tfunction captureProperties() {\n\t\t\t\tvar i, attr, name, collection;\n\t\t\n\t\t\t\tcollection = (function () {\n\t\t\n\t\t\t\t\tthis.has = function (_name) {\n\t\t\t\t\t\treturn !! ~this.indexOf(_name);\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t}).call([]);\n\t\t\n\t\t\t\tfor (i = 0; attr = this.$els[0].attributes[i]; i += 1) {\n\t\t\t\t\t// I explicitly want it to be at the beginning.\n\t\t\t\t\tif (attr.name.indexOf('pl-') === 0) {\n\t\t\t\t\t\tname = attr.name.slice(3);\n\t\t\t\t\t\tcollection[_util2['default'].transformId(name, true)] = attr.value;\n\t\t\n\t\t\t\t\t\tcollection.push(name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tif (collection.length) this.properties = collection;\n\t\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\n\t\t\tfunction initializeEntities() {\n\t\t\t\tif (!this.hasOwnProperty('entities')) return this;\n\t\t\n\t\t\t\tthis.entities.forEach(this.bind(function (_record, _index) {\n\t\t\t\t\tvar $nodes, query, index;\n\t\t\n\t\t\t\t\t$nodes = this.findOwn(_record.selector);\n\t\t\t\t\tquery = ['#' + _record.selector, '[pl-id=' + _record.selector + ']', '[pl-component=' + _record.selector + ']', '[pl-' + _record.selector + ']'];\n\t\t\t\t\tindex = 0;\n\t\t\n\t\t\t\t\twhile (!$nodes.length) {\n\t\t\t\t\t\tif (index === query.length) {\n\t\t\t\t\t\t\tthrow new Error(\"Unable to locate entity with selector\", _record.selector);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$nodes = this.findOwn(query[index]);\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t$nodes.each(this.bind(function (_index, _node) {\n\t\t\t\t\t\tvar $node, instance, id;\n\t\t\n\t\t\t\t\t\t$node = $(_node);\n\t\t\n\t\t\t\t\t\tif (!Scope.isPrototypeOf(_record)) {\n\t\t\t\t\t\t\tinstance = createEntity.call(this, $node, _record.implementation);\n\t\t\t\t\t\t\tif (!instance.isReady) this.assetQueue.add(instance);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinstance = _record;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tid = _util2['default'].transformId(instance.id(), true);\n\t\t\t\t\t\tif (id) _util2['default'].assignRef(this, id, instance);\n\t\t\t\t\t}));\n\t\t\t\t}));\n\t\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\n\t\t\tfunction handleProperties() {\n\t\t\t\tvar scope, property, handler;\n\t\t\n\t\t\t\tscope = this;\n\t\t\n\t\t\t\tif (this.hasOwnProperty('properties')) {\n\t\t\t\t\tthis.properties.forEach(function (_name) {\n\t\t\t\t\t\thandler = scope.propertyHandlers[_name];\n\t\t\t\t\t\tif (handler) handler.call(scope, scope.$els[0], _name, scope.properties[_name]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tif (this.propertyHandlers) {\n\t\t\t\t\tfor (property in this.propertyHandlers) {\n\t\t\t\t\t\t// Only exclide members on the base type.\n\t\t\t\t\t\tif (_typesBasic2['default'].hasOwnProperty(property)) continue;\n\t\t\n\t\t\t\t\t\thandler = this.propertyHandlers[property];\n\t\t\n\t\t\t\t\t\tthis.findOwn('[pl-' + property + ']').each(function () {\n\t\t\t\t\t\t\tvar attr;\n\t\t\n\t\t\t\t\t\t\tif (scope === $(this).scope()) {\n\t\t\t\t\t\t\t\tattr = this.attributes.getNamedItem('pl-' + property);\n\t\t\n\t\t\t\t\t\t\t\tif (handler) handler.call(scope, this, property, attr.value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\n\t\t\tfunction invokeLocal(_name) {\n\t\t\t\tvar args, owner;\n\t\t\n\t\t\t\targs = [].slice.call(arguments, 1);\n\t\t\n\t\t\t\tif (this.isMemberSafe(_name)) {\n\t\t\t\t\treturn this[_name].apply(this, arguments);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction init() {\n\t\t\t\tvar willInitEvent, initEvent;\n\t\t\n\t\t\t\tinitEvent = $.Event('initialize', { targetScope: this });\n\t\t\t\twillInitEvent = $.Event('will-initialize', { targetScope: this });\n\t\t\n\t\t\t\tinvokeLocal.call(this, 'willInit');\n\t\t\t\tthis.trigger(willInitEvent);\n\t\t\n\t\t\t\tthis.attachEvents();\n\t\t\n\t\t\t\tinitializeEntities.call(this);\n\t\t\t\thandleProperties.call(this);\n\t\t\n\t\t\t\tthis.watchAssets();\n\t\t\t\tthis.captureAudioAssets();\n\t\t\t\tthis.captureReferences();\n\t\t\n\t\t\t\tthis.__init();\n\t\t\t\tinvokeLocal.call(this, 'init');\n\t\t\n\t\t\t\tthis.trigger(initEvent);\n\t\t\n\t\t\t\tif (!this.isReady) this.assetQueue.ready();\n\t\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\n\t\t\tfunction ready() {\n\t\t\t\tvar readyEvent, entities;\n\t\t\n\t\t\t\treadyEvent = $.Event('ready', { targetScope: this });\n\t\t\t\tentities = this.findOwn('.pl-scope').scope();\n\t\t\n\t\t\t\tif (entities) {\n\t\t\t\t\tif (entities.length > 0) {\n\t\t\t\t\t\tthis.entities = entities;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.entities = [entities];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t/**\n\t\t   * Sort audio into DOM order.\n\t\t   * @todo Consider including this into `AudioManager`. Micah: 2/23/2016.\n\t\t   */\n\t\t\t\tif (this.hasOwnProperty('audio')) {\n\t\t\t\t\t(this.game || this).media.addShadow(this.audio);\n\t\t\t\t\tthis.audio.collections().forEach((function (_collection) {\n\t\t\t\t\t\tvar map = {\n\t\t\t\t\t\t\tvoiceOver: 'voice-over',\n\t\t\t\t\t\t\tbackground: 'background',\n\t\t\t\t\t\t\tsfx: 'sfx'\n\t\t\t\t\t\t};\n\t\t\n\t\t\t\t\t\tif (!_collection.length) return;\n\t\t\n\t\t\t\t\t\tthis.findOwn('audio.' + map[_collection.type]).each(function (_index, _node) {\n\t\t\t\t\t\t\tvar id, audio, collection, index;\n\t\t\n\t\t\t\t\t\t\tid = $(_node).id();\n\t\t\t\t\t\t\taudio = (_collection.find('#' + id) || [])[0];\n\t\t\t\t\t\t\tindex = _collection.indexOf(audio);\n\t\t\n\t\t\t\t\t\t\tif (index !== _index) {\n\t\t\t\t\t\t\t\t_collection[index] = _collection[_index];\n\t\t\t\t\t\t\t\t_collection[_index] = audio;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}).bind(this));\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.isReady = true;\n\t\t\t\tthis.addClass('READY');\n\t\t\n\t\t\t\tthis.__ready();\n\t\t\t\tinvokeLocal.call(this, 'ready');\n\t\t\n\t\t\t\tthis.trigger(readyEvent);\n\t\t\t}\n\t\t\n\t\t\tActionables = (function () {\n\t\t\n\t\t\t\t_util2['default'].mixin(this, _typesBasic2['default']);\n\t\t\n\t\t\t\tthis.add = function (_node, _action) {\n\t\t\t\t\tif (!this.has(_node)) {\n\t\t\t\t\t\tthis.push({\n\t\t\t\t\t\t\tnode: _node,\n\t\t\t\t\t\t\taction: _action\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.remove = function (_node) {\n\t\t\t\t\tvar item, index;\n\t\t\n\t\t\t\t\titem = this.item(_node);\n\t\t\t\t\tindex = this.indexOf(item);\n\t\t\t\t\tif (~index) this.splice(index, 1);\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.item = function (_node) {\n\t\t\t\t\tvar i, item;\n\t\t\n\t\t\t\t\tfor (i = 0; item = this[i]; i += 1) {\n\t\t\t\t\t\tif (item.node === _node) return item;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.has = function (_node) {\n\t\t\t\t\treturn !!this.item(_node);\n\t\t\t\t};\n\t\t\n\t\t\t\treturn this;\n\t\t\t}).call([]);\n\t\t\n\t\t\tthis.TRANSCLUDE_REPLACE = 'replace';\n\t\t\tthis.TRANSCLUDE_PREPEND = 'prepend';\n\t\t\tthis.TRANSCLUDE_APPEND = 'append';\n\t\t\tthis.TRANSCLUDE_PLUCK = 'pluck';\n\t\t\n\t\t\tthis.baseType = 'TYPE_SCOPE';\n\t\t\tthis.actionables = null;\n\t\t\tthis.isReady = null;\n\t\t\tthis.isComponent = false;\n\t\t\tthis.entities = null;\n\t\t\tthis.audio = null;\n\t\t\tthis.properties = null;\n\t\t\tthis.propertyHandlers = null;\n\t\t\tthis.assetQueue = null;\n\t\t\tthis.event = null;\n\t\t\tthis.currentMedia = {};\n\t\t\n\t\t\tthis.initialize = function (_node_selector, _componentName) {\n\t\t\t\tvar scope;\n\t\t\n\t\t\t\tscope = this;\n\t\t\n\t\t\t\tthis.isReady = false;\n\t\t\t\tthis.isComponent = !!_componentName;\n\t\t\t\tthis.event = null;\n\t\t\t\tthis.assetQueue = _typesQueue2['default'].create();\n\t\t\t\tthis.$els = _node_selector.jquery ? _node_selector : $(_node_selector);\n\t\t\n\t\t\t\tif (!this.$els.length) {\n\t\t\t\t\tthrow new ReferenceError('Unable to locate the element with selector ' + this.$els.selector + '.');\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.addClass('pl-scope ' + (_componentName ? _componentName + '-component' : ''));\n\t\t\t\tthis.data('pl-scope', this);\n\t\t\t\tthis.data('pl-isComponent', !!_componentName);\n\t\t\n\t\t\t\tcaptureProperties.call(this);\n\t\t\n\t\t\t\tif (_componentName) {\n\t\t\t\t\tloadComponentAssets.call(this, _componentName, function () {\n\t\t\t\t\t\tinit.call(this);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tinit.call(this);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t// only for use in base types\n\t\t\tthis.__init = function () {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tthis.__ready = function () {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.willInit = function () {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tthis.init = function () {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tthis.ready = function () {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.watchAssets = function (_nodes) {\n\t\t\t\tvar createHandler, watch;\n\t\t\n\t\t\t\tcreateHandler = this.bind(function (_node) {\n\t\t\t\t\treturn (function () {\n\t\t\t\t\t\tvar loadedEvent = $.Event('loaded', { targetScope: this });\n\t\t\n\t\t\t\t\t\tthis.assetQueue.ready(_node.src);\n\t\t\t\t\t\tthis.trigger(loadedEvent, [_node]);\n\t\t\n\t\t\t\t\t\t_node.onload = null;\n\t\t\t\t\t}).bind(this);\n\t\t\t\t});\n\t\t\n\t\t\t\twatch = this.bind(function (_index, _node) {\n\t\t\t\t\tvar node = typeof _index === 'number' ? _node : _index;\n\t\t\n\t\t\t\t\tif (node.nodeName !== 'IMG' || node.complete) return;\n\t\t\t\t\tif (this.assetQueue.add(node.src)) {\n\t\t\t\t\t\tnode.onload = createHandler(node);\n\t\t\t\t\t\tnode.onerror = function () {\n\t\t\t\t\t\t\tconsole.error('Image failed to load', node.src);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\tif (_nodes) {\n\t\t\t\t\t_nodes.forEach(watch);\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.each(watch);\n\t\t\t\tthis.findOwn('img').each(watch);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.attachEvents = function () {\n\t\t\n\t\t\t\tthis.proto();\n\t\t\n\t\t\t\tthis.assetQueue.on('complete', this.bind(function () {\n\t\t\t\t\tthis.assetQueue.off();\n\t\t\t\t\tready.call(this);\n\t\t\t\t}));\n\t\t\n\t\t\t\tthis.on('ready', function (_event) {\n\t\t\t\t\tif (this.has(_event.targetScope) && this.assetQueue.has(_event.targetScope)) {\n\t\t\t\t\t\tthis.assetQueue.ready(_event.targetScope);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (!this.assetQueue.length && this.isReady) this.off('ready');\n\t\t\t\t});\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.captureReferences = function () {\n\t\t\t\tthis.findOwn('[id], [pl-id]').each(this.bind(function (_index, _node) {\n\t\t\t\t\tvar $node, id;\n\t\t\n\t\t\t\t\tif (_node.nodeName === 'AUDIO') return;\n\t\t\n\t\t\t\t\t$node = $(_node);\n\t\t\t\t\tid = $node.attr('id') || $node.attr('pl-id');\n\t\t\n\t\t\t\t\tif (!this[id]) {\n\t\t\t\t\t\t_util2['default'].assignRef(this, id, $node.data('pl-scope') || $node);\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t};\n\t\t\n\t\t\tthis.captureAudioAssets = function () {\n\t\t\t\tvar deQ, $audio;\n\t\t\n\t\t\t\tif (!($audio = this.findOwn('audio')).length) return false;\n\t\t\n\t\t\t\tdeQ = (function (_item) {\n\t\t\t\t\t[this, this.screen].forEach(function (_scope) {\n\t\t\t\t\t\tif (_scope.requiredQueue && _scope.isMemberSafe('requiredQueue') && _scope.requiredQueue.has(_item)) {\n\t\t\t\t\t\t\t_scope.requiredQueue.ready(_item);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}).bind(this);\n\t\t\n\t\t\t\tthis.audio = _typesAudioManager.AudioManager.create(this.id());\n\t\t\n\t\t\t\t$audio.each((function (_index, _node) {\n\t\t\t\t\tthis.assetQueue.add(_node.src);\n\t\t\t\t\tthis.audio.watch(_node).then((function (_audio) {\n\t\t\t\t\t\tvar loadedEvent = $.Event('loaded', { target: _node, targetScope: this });\n\t\t\n\t\t\t\t\t\tif ($(_node).is('[pl-required]')) this.screen.require(_audio);\n\t\t\n\t\t\t\t\t\tif (this.assetQueue.has(_node.src)) this.assetQueue.ready(_node.src);\n\t\t\n\t\t\t\t\t\tthis.trigger(loadedEvent);\n\t\t\t\t\t}).bind(this));\n\t\t\t\t}).bind(this));\n\t\t\n\t\t\t\t// proxy events\n\t\t\t\tthis.audio.on('play pause ended stopped', this.bind(function (_event) {\n\t\t\t\t\tvar map = {\n\t\t\t\t\t\tbackground: 'BACKGROUND',\n\t\t\t\t\t\tvoiceOver: 'VOICE-OVER',\n\t\t\t\t\t\tsfx: 'SFX'\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tswitch (_event.type) {\n\t\t\t\t\t\tcase 'play':\n\t\t\t\t\t\t\t[this, this.screen].forEach(function (_scope, _index, _set) {\n\t\t\t\t\t\t\t\tif (_index === 1 && _scope === _set[0]) return;\n\t\t\t\t\t\t\t\tif (_scope.$els) {\n\t\t\t\t\t\t\t\t\t_scope.addClass('PLAYING ' + map[_event.target.type]);\n\t\t\t\t\t\t\t\t\t_scope.currentMedia[map[_event.target.type]] = _event.target;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t\t$(_event.targetNode).addClass('PLAYING');\n\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\tcase 'pause':\n\t\t\t\t\t\tcase 'stopped':\n\t\t\t\t\t\tcase 'ended':\n\t\t\t\t\t\t\t[this, this.screen].forEach(function (_scope, _index, _set) {\n\t\t\t\t\t\t\t\tvar state;\n\t\t\n\t\t\t\t\t\t\t\tif (_index === 1 && _scope === _set[0]) return;\n\t\t\n\t\t\t\t\t\t\t\tif (_scope.$els) {\n\t\t\t\t\t\t\t\t\t_scope.removeClass(map[_event.target.type]);\n\t\t\t\t\t\t\t\t\tstate = _scope.attr('class');\n\t\t\t\t\t\t\t\t\tif (!/BACKGROUND|VOICE-OVER|SFX/.test(state)) _scope.removeClass('PLAYING');\n\t\t\t\t\t\t\t\t\tif (_scope.currentMedia[map[_event.target.type]] === _event.target) _scope.currentMedia[map[_event.target.type]] = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t\t$(_event.targetNode).removeClass('PLAYING');\n\t\t\t\t\t\t\tif (_event.type === 'ended') deQ(_event.target);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tvar audioEvent = $.Event('audio-' + _event.type, {\n\t\t\t\t\t\ttarget: _event.target,\n\t\t\t\t\t\ttargetSource: _event.targetSource,\n\t\t\t\t\t\ttargetNode: _event.targetNode,\n\t\t\t\t\t\ttargetScope: this\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tthis.trigger(audioEvent);\n\t\t\t\t}));\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.handleProperty = function (_implementation) {\n\t\t\t\tif (this.propertyHandlers) {\n\t\t\t\t\tif (this.hasOwnProperty('propertyHandlers')) {\n\t\t\t\t\t\tswitch (typeof _implementation) {\n\t\t\t\t\t\t\tcase 'function':\n\t\t\t\t\t\t\t\t_implementation.call(this.propertyHandlers);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\t\t\tthis.propertyHandlers.mixin(_implementation);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.propertyHandlers = this.propertyHandlers.extend(_implementation);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.propertyHandlers = _typesBasic2['default'].extend(_implementation);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.entity = function (_selector, _implementation) {\n\t\t\t\tvar Entity, prototype, id;\n\t\t\n\t\t\t\tEntity = _playGame2['default'].provideEntityType();\n\t\t\n\t\t\t\tif (!this.hasOwnProperty('entities')) this.entities = [];\n\t\t\n\t\t\t\tif (this.hasOwnProperty('$els')) {\n\t\t\t\t\tthrow new Error('Wait this hasn\\'t been tested.');\n\t\t\t\t\tprototype = Entity.isPrototypeOf(this) ? this : Entity;\n\t\t\t\t\tinstance = prototype.extend(_implementation).initialize(this.find(_selector));\n\t\t\t\t\tid = _util2['default'].transformId(instance.id());\n\t\t\n\t\t\t\t\t// this.entities.push(instance);\n\t\t\t\t\tif (id) this[id] = instance;\n\t\t\t\t} else {\n\t\t\t\t\tthis.entities.push({\n\t\t\t\t\t\tselector: _selector,\n\t\t\t\t\t\timplementation: _implementation\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.has = function (_child) {\n\t\t\t\tvar child;\n\t\t\n\t\t\t\tchild = Scope.isPrototypeOf(_child) ? _child.$els : _child;\n\t\t\n\t\t\t\treturn !!this.$els.has(child).length;\n\t\t\t};\n\t\t\n\t\t\tthis.toString = function () {\n\t\t\t\tvar type;\n\t\t\n\t\t\t\ttype = this.baseType.replace('TYPE_', '');\n\t\t\t\ttype = type.slice(0, 1) + type.slice(1).toLowerCase();\n\t\t\n\t\t\t\treturn ['[', this.id() || this.address(), ' ', type, ']'].join('');\n\t\t\t};\n\t\t\n\t\t\tthis.log = function () {\n\t\t\t\tvar args;\n\t\t\n\t\t\t\targs = _util2['default'].toArray(arguments);\n\t\t\n\t\t\t\tconsole.log.apply(console, [this.id() || this.address(), '-'].concat(args));\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.handleProperty(function () {\n\t\t\n\t\t\t\tthis.component = function (_node, _name, _value, _property) {\n\t\t\t\t\tvar $node, record, scope, id;\n\t\t\n\t\t\t\t\t$node = $(_node);\n\t\t\n\t\t\t\t\tif (!$node.data('pl-isComponent')) {\n\t\t\t\t\t\trecord = _playGame2['default'].component.get(_value);\n\t\t\n\t\t\t\t\t\tif (record) {\n\t\t\t\t\t\t\tscope = createEntity.call(this, $node, record.implementation);\n\t\t\t\t\t\t\tid = _util2['default'].transformId(scope.id() || _value, true);\n\t\t\t\t\t\t\t_util2['default'].assignRef(this, id, scope);\n\t\t\n\t\t\t\t\t\t\tif (!scope.isReady) this.assetQueue.add(scope);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new Error('Ahh!');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.action = function (_node, _name, _value) {\n\t\t\t\t\tif (!this.hasOwnProperty('actionables')) {\n\t\t\t\t\t\tthis.actionables = Actionables.create();\n\t\t\t\t\t\tattachActionHandler.call(this);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tthis.actionables.add(_node, _value);\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.required = function (_node, _name, _value) {\n\t\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\t\tthis.screen.require(this);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.require = function (_node, _name, _value) {\n\t\t\t\t\tvar query, $node;\n\t\t\n\t\t\t\t\t// if the node with the attribute is the node for this scope\n\t\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\t\tquery = '#_value, [pl-id=_value], [pl-component=_value]'.replace(/_value/g, _value);\n\t\t\t\t\t\t$node = this.find(query);\n\t\t\n\t\t\t\t\t\t$node.on('ready', this.bind(function (_event) {\n\t\t\t\t\t\t\tif ($node.is(_event.target)) {\n\t\t\t\t\t\t\t\tthis.require(_event.targetScope);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t});\n\t\t\n\t\texports['default'] = { Scope: Scope, createEntity: createEntity };\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 32 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _Object$keys = __webpack_require__(33)['default'];\n\t\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t*  jQProxy\n\t\t*  @desc Contains all the jQuery methods targeted towards a property which references a jQuery object.\n\t\t*  @proto Basic\n\t\t*  \n\t\t*  NOTE: Custom events may trigger on scopes\n\t\t*  that also targets the same elments. Testing needed.\n\t\t*/\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesBasic = __webpack_require__(19);\n\t\t\n\t\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\t\n\t\tvar jQProxy = _typesBasic2['default'].extend(function () {\n\t\t\tvar method, exclude;\n\t\t\n\t\t\t/**\n\t\t *  @desc Creates a function with a proxy to the jQuery method.\n\t\t *  @param _name (String) The name of the method being proxied.\n\t\t *  @return (jQuery|*) Either a jQuery object or whatever the original method returns.\n\t\t *  @private\n\t\t */\n\t\t\tfunction createProxyFunction(_name) {\n\t\t\t\treturn function () {\n\t\t\t\t\tvar response;\n\t\t\n\t\t\t\t\t// This makes sure your not calling any jQuery methods before initialization.\n\t\t\t\t\tif (!this.hasOwnProperty('$els')) {\n\t\t\t\t\t\tif (_name === 'on') {\n\t\t\t\t\t\t\tregisterHandler.call(this, arguments);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new ReferenceError('Unable to invoke ' + _name + ' because the scope is not initialized.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tresponse = $.fn[_name].apply(this.$els, resolveEventHandler(this, _name, arguments));\n\t\t\n\t\t\t\t\tif (response === this.$els || response && response.jquery && response.is(this.$els)) {\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn response;\n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\tfunction resolveEventHandler(_scope, _method, _args) {\n\t\t\t\tvar i, arg, args;\n\t\t\n\t\t\t\targs = [];\n\t\t\n\t\t\t\tif (~['on', 'load'].indexOf(_method)) {\n\t\t\t\t\tfor (i = 0; arg = _args[i]; i += 1) {\n\t\t\t\t\t\tif (typeof arg === 'function') {\n\t\t\t\t\t\t\targs.push((function (_handler) {\n\t\t\t\t\t\t\t\treturn function () {\n\t\t\t\t\t\t\t\t\treturn _handler.apply(_scope, arguments);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t})(arg));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\targs.push(arg);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn args;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn _args;\n\t\t\t}\n\t\t\n\t\t\tfunction registerHandler(_definition) {\n\t\t\t\tif (!this.hasOwnProperty('eventRegistry')) {\n\t\t\t\t\tif (this.eventRegistry && this.isMemberSafe('eventRegistry')) {\n\t\t\t\t\t\tthis.eventRegistry = this.eventRegistry.slice(0);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.eventRegistry = [];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.eventRegistry.push(_definition);\n\t\t\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\n\t\t\t// We don't want jQuery methods overridding our base type's methods.\n\t\t\texclude = ['constructor'].concat(_Object$keys(_typesBasic2['default']));\n\t\t\n\t\t\tthis.baseType = 'TYPE_JQPROXY';\n\t\t\tthis.$els = null;\n\t\t\tthis.eventRegistry = null;\n\t\t\n\t\t\tfor (method in $.fn) {\n\t\t\t\tif (!$.fn.hasOwnProperty(method) || ~exclude.indexOf(method)) continue;\n\t\t\t\tthis[method] = createProxyFunction(method);\n\t\t\t}\n\t\t\n\t\t\tthis.node = function () {\n\t\t\t\treturn this.$els[0];\n\t\t\t};\n\t\t\n\t\t\tthis.attachEvents = function () {\n\t\t\t\tvar self;\n\t\t\n\t\t\t\tself = this;\n\t\t\n\t\t\t\tif (this.eventRegistry && this.isMemberSafe('eventRegistry')) {\n\t\t\t\t\tthis.eventRegistry.forEach(function (_definition) {\n\t\t\t\t\t\tself.on.apply(self, _definition);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\tthis.listen = function (_name, _isCapure_handler, _handler) {\n\t\t\t\tvar _isCapture, node, handler;\n\t\t\n\t\t\t\t_isCapture = false;\n\t\t\n\t\t\t\t// resolve arguments\n\t\t\t\ttypeof _isCapure_handler === 'boolean' ? _isCapture = _isCapure_handler : _handler = _isCapure_handler;\n\t\t\n\t\t\t\t_handler.cb = _handler.bind(this);\n\t\t\n\t\t\t\tif (this.$els) {\n\t\t\t\t\tnode = this.$els[0];\n\t\t\t\t\tif (node) return node.addEventListener(_name, _handler.cb, _isCapture);\n\t\t\t\t} else {\n\t\t\t\t\treturn registerHandler([_name, _handler.cb, _isCapture]);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\n\t\t\tthis.ignore = function (_name, _handler) {\n\t\t\t\tvar node = this.$els && this.$els[0];\n\t\t\n\t\t\t\tif (node) return node.removeEventListener(_name, _handler.cb || _handler);\n\t\t\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\n\t\t\t// Wraps you function 'this' to the scope.\n\t\t\t//\n\t\t\tthis.bind = function (_handler) {\n\t\t\t\tvar args;\n\t\t\n\t\t\t\targs = [].map.call(arguments, function (m) {\n\t\t\t\t\treturn m;\n\t\t\t\t}).slice(1);\n\t\t\n\t\t\t\treturn _handler.bind.apply(_handler, [this].concat(args));\n\t\t\t};\n\t\t\n\t\t\tthis.findOwn = function (_selector) {\n\t\t\t\treturn this.find(_selector).filter(this.bind(function (_index, _node) {\n\t\t\t\t\tvar $node;\n\t\t\n\t\t\t\t\t$node = $(_node);\n\t\t\n\t\t\t\t\tif ($node.hasClass('pl-scope')) {\n\t\t\t\t\t\treturn $node.parent().scope() === this;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn $node.scope() === this;\n\t\t\t\t}));\n\t\t\t};\n\t\t\n\t\t\tthis.isMemberSafe = function (_name) {\n\t\t\t\tvar owner, elOwner, prototype;\n\t\t\n\t\t\t\tif (this.hasOwnProperty(_name)) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tprototype = Object.getPrototypeOf(this);\n\t\t\t\t\towner = _util2['default'].getOwner(this, this[_name]);\n\t\t\n\t\t\t\t\tif (owner.object.hasOwnProperty('$els') || prototype.hasOwnProperty('$els')) return false;\n\t\t\n\t\t\t\t\tif (prototype.$els) {\n\t\t\t\t\t\telOwner = _util2['default'].getOwner(prototype, prototype.$els);\n\t\t\n\t\t\t\t\t\tif (owner.object.isPrototypeOf(elOwner.object)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\n\t\t\tthis.is = function (_obj) {\n\t\t\t\tif (!_obj) return false;\n\t\t\t\tif (_obj.$els) return this.$els.is(_obj.$els);\n\t\t\n\t\t\t\treturn this.$els.is(_obj);\n\t\t\t};\n\t\t});\n\t\t\n\t\texports['default'] = jQProxy;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 33 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = { \"default\": __webpack_require__(34), __esModule: true };\n\t\n\t/***/ },\n\t/* 34 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t__webpack_require__(35);\n\t\tmodule.exports = __webpack_require__(11).Object.keys;\n\t\n\t/***/ },\n\t/* 35 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// 19.1.2.14 Object.keys(O)\n\t\tvar toObject = __webpack_require__(36);\n\t\t\n\t\t__webpack_require__(38)('keys', function($keys){\n\t\t  return function keys(it){\n\t\t    return $keys(toObject(it));\n\t\t  };\n\t\t});\n\t\n\t/***/ },\n\t/* 36 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// 7.1.13 ToObject(argument)\n\t\tvar defined = __webpack_require__(37);\n\t\tmodule.exports = function(it){\n\t\t  return Object(defined(it));\n\t\t};\n\t\n\t/***/ },\n\t/* 37 */\n\t/***/ function(module, exports) {\n\t\n\t\t// 7.2.1 RequireObjectCoercible(argument)\n\t\tmodule.exports = function(it){\n\t\t  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n\t\t  return it;\n\t\t};\n\t\n\t/***/ },\n\t/* 38 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// most Object methods by ES6 should accept primitives\n\t\tvar $export = __webpack_require__(9)\n\t\t  , core    = __webpack_require__(11)\n\t\t  , fails   = __webpack_require__(39);\n\t\tmodule.exports = function(KEY, exec){\n\t\t  var fn  = (core.Object || {})[KEY] || Object[KEY]\n\t\t    , exp = {};\n\t\t  exp[KEY] = exec(fn);\n\t\t  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n\t\t};\n\t\n\t/***/ },\n\t/* 39 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(exec){\n\t\t  try {\n\t\t    return !!exec();\n\t\t  } catch(e){\n\t\t    return true;\n\t\t  }\n\t\t};\n\t\n\t/***/ },\n\t/* 40 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t*  Queue\n\t\t*  @desc Contains...\n\t\t*  @proto Array, Events, Basic\n\t\t*/\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesCollection = __webpack_require__(29);\n\t\t\n\t\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\t\n\t\tvar _typesEvents = __webpack_require__(26);\n\t\t\n\t\tvar _typesEvents2 = _interopRequireDefault(_typesEvents);\n\t\t\n\t\tvar Queue = _typesCollection2['default'].extend(function () {\n\t\t\n\t\t\tthis.baseType = 'TYPE_QUEUE';\n\t\t\n\t\t\tthis.ready = function (_record) {\n\t\t\t\tif (_record != null) this.remove(_record);\n\t\t\n\t\t\t\tif (!this.length) {\n\t\t\t\t\tthis.trigger('complete');\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t_util2['default'].mixin(this, _typesEvents2['default']);\n\t\t\n\t\t\treturn this;\n\t\t});\n\t\t\n\t\texports['default'] = Queue;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 41 */\n\t/***/ function(module, exports) {\n\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * @module evalAction\n\t\t */\n\t\t\n\t\t/**\n\t\t * Performs `eval()` on the value of an `action` attribute on an HTML element.\n\t\t * @arg {string} _source - JavaScript source code.\n\t\t * @arg {Scope} _scope - The context in which to run the source.\n\t\t * @returns {*} The result of the evaluated source.\n\t\t */\n\t\tfunction evalAction(_source, _scope) {\n\t\t\tvar error;\n\t\t\n\t\t\tfunction target(_selector) {\n\t\t\t\tif (_scope.event) {\n\t\t\t\t\treturn _selector ? $(_scope.event.target).closest(_selector) : $(_scope.event.target);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t// expose members of the object as if they were local variables.\n\t\t\t// NOTE: methods still retain their \"this\" binding to the object! :D\n\t\t\treturn eval(\"with (_scope) { try {\" + _source + \";} catch (error) { console.error('Error:', error.message, 'evaluating action', _source, 'in', _scope.id() || _scope.address()); } }\");\n\t\t}\n\t\t\n\t\texports[\"default\"] = evalAction;\n\t\tmodule.exports = exports[\"default\"];\n\t\n\t/***/ },\n\t/* 42 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _Promise = __webpack_require__(43)['default'];\n\t\t\n\t\tvar _Object$keys = __webpack_require__(33)['default'];\n\t\t\n\t\tvar _Object$create = __webpack_require__(20)['default'];\n\t\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t\n\t\t/**\n\t\t * Contains classes for managing different media types.\n\t\t * Providing an API for referencing and control.\n\t\t * @module\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t */\n\t\t\n\t\tvar _typesType = __webpack_require__(90);\n\t\t\n\t\tvar _typesType2 = _interopRequireDefault(_typesType);\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesCollection = __webpack_require__(29);\n\t\t\n\t\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\t\n\t\t// Object type definitions are using  `$` as the augmentation method for Types.\n\t\t\"use strict\";var EventTargetInterface,\n\t\t    InspectorInterface,\n\t\t    PlayableInterface,\n\t\t    LegislatorInterface,\n\t\t    StateInterface,\n\t\t    $$ = window.jQuery;\n\t\t\n\t\t/**\n\t\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `MediaManager.create()`.</span>\n\t\t * Manages any playing media (Audio, Video).\n\t\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t\t * @classdesc Manages any playing media (Audio, Video).\n\t\t * <style>\n\t\t * .note {\n\t\t *   border: solid 1px;\n\t\t *   border-radius: 4px;\n\t\t *   padding: 1px 4px;\n\t\t *   color: #aaa;\n\t\t *   background-color: #eee;\n\t\t * }\n\t\t * \n\t\t * .note.important {\n\t\t *   color: #b55;\n\t\t *   background-color: #fee;\n\t\t * }\n\t\t * </style>\n\t\t *\n\t\t * @class\n\t\t */\n\t\tfunction MediaManager($, sup) {\n\t\t\t/**\n\t\t  * Duck typed multiple inheritance.\n\t\t  */\n\t\t\t_util2['default'].mixin(this, EventTargetInterface, InspectorInterface, LegislatorInterface, StateInterface);\n\t\t\t$('video', function alloc(_id) {\n\t\t\t\tsup(this, 'alloc', arguments);\n\t\t\t\tthis.video = _typesCollection2['default'].create();\n\t\t\t\tthis.initialize(_id, 'media manager');\n\t\t\t});\n\t\t}\n\t\t\n\t\t/**\n\t\t * The Scopes entry for its audio management interface. This gives access to collections of Audio objects grouped into three types.\n\t\t *\n\t\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioManager.create()`.</span>\n\t\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t\t * @classdesc The Scopes entry for its audio management interface. This gives access to collections of Audio objects grouped into three types.\n\t\t * - Background\n\t\t * - Voice Over\n\t\t * - SFX (Sound Effects)\n\t\t * These collections are filled by the HTML Audio elements which have classes corresponding to these types.\n\t\t * @class\n\t\t * @prop {type} member - Text.\n\t\t * @extends EventTargetInterface\n\t\t * @extends PlayableInterface\n\t\t * @extends InspectorInterface\n\t\t */\n\t\tfunction AudioManager($) {\n\t\t\tvar AUDIO_TYPES, BUFFER_CACHE;\n\t\t\n\t\t\t/**\n\t\t  * A record object for passing the MediaElement which got loaded as an `AudioBuffer`.\n\t\t  * @arg {HTMLAudioElement} _node - The loaded audio element.\n\t\t  * @arg {ArrayBuffer} _buffer - The array buffer loaded from XHR2.\n\t\t  */\n\t\t\tfunction AudioBufferRecord(_node, _buffer) {\n\t\t\t\tthis.node = _node;\n\t\t\t\tthis.type = getAudioType(_node);\n\t\t\t\tthis.buffer = _buffer;\n\t\t\t}\n\t\t\t/**\n\t\t  * Provides the classification an audio element falls into.\n\t\t  * - Background (`background`)\n\t\t  * - Voice Over (`voiceOver`)\n\t\t  * - Sound Effects (`sfx`)\n\t\t  * @protected\n\t\t  * @arg {HTMLAudioElement} _audio - The audio element.\n\t\t  * @returns {string} - The type.\n\t\t  */\n\t\t\tfunction getAudioType(_audio) {\n\t\t\t\treturn _util2['default'].transformId((_audio.className.match(AUDIO_TYPES) || [])[0], true);\n\t\t\t}\n\t\t\t/**\n\t\t  * Given an HTMLAudioElement, load its source as an `ArrayBuffer` with XHR2.\n\t\t  * @protected\n\t\t  * @arg {HTMLAudioElement} _audio - The audio element.\n\t\t  * @returns {Promise}\n\t\t  */\n\t\t\tfunction loadArrayBuffer(_audio) {\n\t\t\t\tvar xhr, manager, fileName;\n\t\t\n\t\t\t\txhr = new (XMLHttpRequest || _util2['default'].noop)();\n\t\t\t\tmanager = this;\n\t\t\t\tfileName = _util2['default'].resolveFileName(_audio.src);\n\t\t\n\t\t\t\tif (!xhr.open) _Promise.reject('This platfom does not support the XMLHttpRequest API.');\n\t\t\n\t\t\t\treturn new _Promise(function (resolve, reject) {\n\t\t\t\t\tvar cache = BUFFER_CACHE[fileName];\n\t\t\n\t\t\t\t\t// Decodes ArrayBuffer into an AudioBuffer.\n\t\t\t\t\tfunction onLoad() {\n\t\t\t\t\t\tvar ctx, promise;\n\t\t\n\t\t\t\t\t\tif (xhr.status >= 200 && xhr.status < 300) {\n\t\t\t\t\t\t\tif (ctx = pl.game.getAudioContext()) {\n\t\t\t\t\t\t\t\tpromise = new _Promise(function (resolveDecoding, rejectDecoding) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tctx.decodeAudioData(xhr.response, function (_buffer) {\n\t\t\t\t\t\t\t\t\t\t\tvar audio = manager.collect(new AudioBufferRecord(_audio, _buffer));\n\t\t\n\t\t\t\t\t\t\t\t\t\t\tresolveDecoding(audio);\n\t\t\t\t\t\t\t\t\t\t\t// Cache the AudioBuffer to resolve duplicates.\n\t\t\t\t\t\t\t\t\t\t\tBUFFER_CACHE[fileName] = _buffer;\n\t\t\t\t\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\t\t\t\t\trejectDecoding(\"Failed to decode ArrayBuffer for \" + fileName + \".\");\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\trejectDecoding(e);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t\t\tpromise.then(resolve)['catch'](reject);\n\t\t\n\t\t\t\t\t\t\t\treturn promise;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\txhr.removeEventListener('load', onLoad);\n\t\t\t\t\t\txhr = null;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tfunction onError() {\n\t\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t\t\txhr.removeEventListener('error', onError);\n\t\t\t\t\t\txhr = null;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (cache && cache !== 'loading') return resolve(manager.collect(new AudioBufferRecord(_audio, cache)));\n\t\t\n\t\t\t\t\tBUFFER_CACHE[fileName] = 'loading';\n\t\t\n\t\t\t\t\txhr.responseType = 'arraybuffer';\n\t\t\n\t\t\t\t\txhr.addEventListener('load', onLoad, false);\n\t\t\t\t\txhr.addEventListener('error', onError, false);\n\t\t\t\t\txhr.open('GET', _audio.src, true);\n\t\t\t\t\txhr.send();\n\t\t\t\t});\n\t\t\t}\n\t\t\t/**\n\t\t  * The CSS class names reconized as audio types.\n\t\t  */\n\t\t\tAUDIO_TYPES = /background|voice-over|sfx/i;\n\t\t\tBUFFER_CACHE = {};\n\t\t\t/**\n\t\t  * Duck typed multiple inheritance.\n\t\t  */\n\t\t\t_util2['default'].mixin(this, EventTargetInterface, PlayableInterface, InspectorInterface, LegislatorInterface, StateInterface);\n\t\t\n\t\t\t// A little ugg but define instance members.\n\t\t\t$(\n\t\t\t// Declare properties.\n\t\t\t'background, voiceOver, sfx, scope',\n\t\t\n\t\t\t/**\n\t\t  * Define instance properties.\n\t\t  */\n\t\t\tfunction alloc(_id) {\n\t\t\t\tthis.initialize(_id, 'audio manager');\n\t\t\n\t\t\t\t['background', 'voiceOver', 'sfx'].forEach((function (_type) {\n\t\t\t\t\tvar collection = this[_type] = AudioCollection.create(_type);\n\t\t\t\t\tthis.addShadow(collection);\n\t\t\t\t}).bind(this));\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Given an audio element begin loading the asset.\n\t\t  * @arg {HTMLAudioElement} _audio - The HTML Audio element which to preload and add to the game audio context.\n\t\t  * @returns {Promise}\n\t\t  * @todo Support loading from node source or a string argument. - Micah:2/19/16\n\t\t  */\n\t\t\tfunction load(_audio) {\n\t\t\t\tvar manager, type;\n\t\t\n\t\t\t\tmanager = this;\n\t\t\t\ttype = getAudioType(_audio);\n\t\t\n\t\t\t\tif (!type) return _Promise.reject(\"Audio is missing a type. Please classify as 'background', 'voiceOver' or 'sfx'.\");\n\t\t\t\t// if (~['sfx', 'voiceOver'].indexOf(type))\n\t\t\t\treturn loadArrayBuffer.call(this, _audio);\n\t\t\n\t\t\t\t// return new Promise(function (resolve, reject) {\n\t\t\t\t// \t_audio.onloadeddata = function () { resolve(manager.collect(this)); };\n\t\t\t\t// \t_audio.onerror = reject;\n\t\t\t\t// \t_audio.load();\n\t\t\t\t// });\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Begins loading an AudioElement waits for it to load.\n\t\t  * @arg {HTMLAudioElement} _audio - The HTML Audio element which to preload and add to the game audio context.\n\t\t  * @returns {Promise}\n\t\t  */\n\t\t\tfunction watch(_audio) {\n\t\t\t\tvar promise;\n\t\t\n\t\t\t\tif (_audio.nodeName !== 'AUDIO') return _Promise.reject('Invalid type for audio node. ' + typeof _audio + ' [' + _audio.protoype.constructor.name + ' ' + _audio.nodeName + '].');\n\t\t\n\t\t\t\tfunction reject(_error) {\n\t\t\t\t\tvar scope = $$(_audio).scope();\n\t\t\t\t\tconsole.warn(scope.id(), '-', _error);\n\t\t\t\t}\n\t\t\n\t\t\t\t(promise = this.load(_audio))['catch'](reject.bind(this));\n\t\t\n\t\t\t\treturn promise;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Adds a audio to the collection. You may also pass an itterable of items to add.\n\t\t  * @arg {Audio|HTMLAudioElement|AudioBufferRecord|Array} _audio - The HTML Audio element or `AudioBufferRecord` for addition to the collection.\n\t\t  * @returns {Promise}\n\t\t  */\n\t\t\tfunction collect(_audio) {\n\t\t\t\tvar type;\n\t\t\n\t\t\t\tif (!_audio) return false;\n\t\t\n\t\t\t\tif (_audio.length) {\n\t\t\t\t\treturn _audio.map(collect.bind(this));\n\t\t\t\t}\n\t\t\n\t\t\t\ttype = _audio.type || getAudioType(_audio);\n\t\t\n\t\t\t\tif (type && this[type]) return this[type].add(_audio);\n\t\t\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t/**\n\t\t  * Provides a collection of `AudioCollection` objects.\n\t\t  * @returns {array}\n\t\t  */\n\t\t\tfunction collections() {\n\t\t\t\tvar result, types;\n\t\t\n\t\t\t\tresult = [];\n\t\t\t\ttypes = _Object$keys(this);\n\t\t\n\t\t\t\ttypes.forEach((function (_type) {\n\t\t\t\t\tif (this[_type] instanceof AudioCollection) result.push(this[_type]);\n\t\t\t\t}).bind(this));\n\t\t\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t/**\n\t\t  * Proveds a string representation of the object type.\n\t\t  */\n\t\t\tfunction toString() {\n\t\t\t\treturn '[object ' + (this.constructor.name || 'Object') + ']';\n\t\t\t});\n\t\t}\n\t\t\n\t\t/**\n\t\t * An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n\t\t *\n\t\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioCollection.create()`.</span>\n\t\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t\t * @classdesc An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n\t\t * @extends Collection\n\t\t */\n\t\tfunction AudioCollection($, sup) {\n\t\t\t/**\n\t\t  * Duck typed multiple inheritance.\n\t\t  */\n\t\t\t_util2['default'].mixin(this, EventTargetInterface, PlayableInterface, InspectorInterface, StateInterface);\n\t\t\n\t\t\t$('type', function alloc(_type) {\n\t\t\t\tif (_type) this.type = _type;\n\t\t\t\tthis.initialize(_type, 'collection');\n\t\t\t},\n\t\t\t/**\n\t\t  * Adds an Audio object to the collection.\n\t\t  * @arg {HTMLAudioElement|Audio} _audio - Object to add.\n\t\t  * @override\n\t\t  * @returns {Audio}\n\t\t  */\n\t\t\tfunction add(_audio) {\n\t\t\t\tvar audio;\n\t\t\n\t\t\t\tif (!_audio) return false;\n\t\t\n\t\t\t\taudio = _audio instanceof Audio ? _audio : Audio.create(_audio, this.type);\n\t\t\n\t\t\t\tsup(this, 'add')(audio);\n\t\t\t\tthis.addShadow(audio);\n\t\t\t\tif (audio.id()) _util2['default'].assignRef(this, audio.id(), audio);\n\t\t\n\t\t\t\treturn audio;\n\t\t\t},\n\t\t\t/**\n\t\t  * Get the owning manager interface for an Audio object.\n\t\t  * @returns {AudioManager}\n\t\t  */\n\t\t\tfunction manager() {\n\t\t\t\treturn this.$el.closest('#man').data('context');\n\t\t\t},\n\t\t\t/**\n\t\t  * Proveds a string representation of the object type.\n\t\t  */\n\t\t\tfunction toString() {\n\t\t\t\treturn '[object ' + (this.constructor.name || 'Object') + ']';\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Extend AudioCollection with Collection.\n\t\t */\n\t\tAudioCollection.prototype = _Object$create(_typesCollection2['default'], {\n\t\t\tconstructor: {\n\t\t\t\tvalue: AudioCollection,\n\t\t\t\tenumerable: false,\n\t\t\t\twriteable: false,\n\t\t\t\tconfigureable: false\n\t\t\t}\n\t\t});\n\t\t/**\n\t\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `MediaCollection.create()`.</span>\n\t\t * Returned as the result of some collection process.\n\t\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t\t * @classdesc Returned as the result of some collection process.\n\t\t *\n\t\t * @class\n\t\t * @extends AudioCollection\n\t\t * @extends EventTargetInterface\n\t\t * @extends InspectorInterface\n\t\t * @extends LegislatorInterface\n\t\t * @extends StateInterface\n\t\t */\n\t\tfunction MediaCollection($, sup) {\n\t\t\t$(\n\t\t\t/**\n\t\t  * @override\n\t\t  */\n\t\t\tfunction add(_media) {\n\t\t\t\tthis.addShadow(_media);\n\t\t\t\tif (_media.id()) _util2['default'].assignRef(this, _media.id(), _media);\n\t\t\t\treturn _typesCollection2['default'].add.call(this, _media);\n\t\t\t},\n\t\t\t/**\n\t\t  * @override\n\t\t  */\n\t\t\tfunction addShadow(_media) {\n\t\t\t\tvar $clone;\n\t\t\n\t\t\t\t$clone = _media.$el.clone();\n\t\t\t\t$clone.data(_media.$el.data());\n\t\t\n\t\t\t\tthis.$el.append($clone);\n\t\t\t\treturn this;\n\t\t\t});\n\t\t}\n\t\t\n\t\t/**\n\t\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioCollection.create()`.</span>\n\t\t * An interface for controlling a MediaElement or AudioBuffer.\n\t\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t\t * @classdesc An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n\t\t */\n\t\tfunction Audio($) {\n\t\t\n\t\t\tfunction accessConfig(_augment, _val) {\n\t\t\t\tif (_val) {\n\t\t\t\t\treturn this[_augment] = _val;\n\t\t\t\t} else if (typeof _augment === 'string') {\n\t\t\t\t\treturn this[_augment];\n\t\t\t\t} else {\n\t\t\t\t\t_util2['default'].mixin(this, _augment);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn _augment;\n\t\t\t}\n\t\t\n\t\t\t/**\n\t\t  * Duck typed multiple inheritance.\n\t\t  */\n\t\t\t_util2['default'].mixin(this, EventTargetInterface, PlayableInterface, StateInterface);\n\t\t\n\t\t\t$('type, media, activeSource, buffer, config, fileName, gain, delay, delayID',\n\t\t\n\t\t\t/**\n\t\t  * Allocates instance props.\n\t\t  * @arg {HTMLAudioElement|AudioBufferRecord} _audio - The object being wrapped.\n\t\t  * @arg {string} _type - The collection type.\n\t\t  */\n\t\t\tfunction alloc(_audio, _type) {\n\t\t\t\tvar $audio, config, ctx, readyEvent, id;\n\t\t\n\t\t\t\t$audio = $$(_audio.node || _audio);\n\t\t\t\tconfig = $audio.pl();\n\t\t\t\tctx = pl.game.getAudioContext();\n\t\t\t\treadyEvent = $$.Event('ready', { targetScope: this });\n\t\t\n\t\t\t\tif (!(id = $audio.id())) $audio.id(id = _util2['default'].createId());\n\t\t\n\t\t\t\tthis.type = _type || null;\n\t\t\t\tthis.fileName = _util2['default'].resolveFileName($audio.attr('src'));\n\t\t\t\tthis.media = $audio[0];\n\t\t\t\tthis.gain = ctx.createGain();\n\t\t\n\t\t\t\tthis.gain.connect(ctx.destination);\n\t\t\n\t\t\t\t$audio.data('context', this);\n\t\t\n\t\t\t\tif (_audio.buffer) this.buffer = _audio.buffer;\n\t\t\n\t\t\t\tObject.defineProperty(this, 'config', {\n\t\t\t\t\tvalue: accessConfig.bind(config),\n\t\t\t\t\twriteable: false\n\t\t\t\t});\n\t\t\n\t\t\t\tthis.initialize(id, 'audio ' + this.type);\n\t\t\n\t\t\t\t$$(this.media).trigger(readyEvent);\n\t\t\t},\n\t\t\t/**\n\t\t  * Provides an `AudioNode` for a particular audio source.\n\t\t  * @returns\n\t\t  *  - `MediaElementSouceNode` for audio elements.\n\t\t  *  - `AudioBufferSourceNode` for an ArrayBuffer.\n\t\t  */\n\t\t\tfunction getSource() {\n\t\t\t\tvar ctx, src;\n\t\t\n\t\t\t\tctx = this.audioContext || pl.game.getAudioContext();\n\t\t\n\t\t\t\tif (ctx) {\n\t\t\t\t\tif (this.buffer) {\n\t\t\t\t\t\tsrc = ctx.createBufferSource();\n\t\t\t\t\t\tsrc.buffer = this.buffer;\n\t\t\t\t\t\tsrc.loop = this.media.loop;\n\t\t\n\t\t\t\t\t\treturn src;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn this.activeSource || ctx.createMediaElementSource(this.media);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.warn(e.message, this);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t/**\n\t\t  * Get the owning collection interface for an Audio object.\n\t\t  * @returns {AudioCollection}\n\t\t  */\n\t\t\tfunction collection() {\n\t\t\t\treturn this.$el.closest('.collection').data('context');\n\t\t\t},\n\t\t\t/**\n\t\t  * Get the owning manager interface for an Audio object.\n\t\t  * @returns {AudioManager}\n\t\t  */\n\t\t\tfunction manager() {\n\t\t\t\treturn this.$el.closest('#man').data('context');\n\t\t\t},\n\t\t\t/**\n\t\t  * Proveds a string representation of the object type.\n\t\t  */\n\t\t\tfunction toString() {\n\t\t\t\treturn '[audio#' + this.id() + ' ' + this.fileName + ']';\n\t\t\t}, function setContext(ctx) {\n\t\t\t\tthis.gain = ctx.createGain();\n\t\t\t\tthis.gain.disconnect();\n\t\t\t\tthis.gain.connect(ctx.destination);\n\t\t\t\tthis.audioContext = ctx;\n\t\t\t});\n\t\t}\n\t\t\n\t\t/**\n\t\t * A virtual DOM to handle navigation and propagation of events through the API interfaces.\n\t\t * For example an Audio object that triggers an event it should bubble up to its collection and on through to the manager.\n\t\t * That way you can listen for an event at any level of the interface.\n\t\t */\n\t\tEventTargetInterface = {\n\t\t\t/**\n\t\t  * The shadow node.\n\t\t  */\n\t\t\t$el: null,\n\t\t\t/**\n\t\t  * Define a node for the shadow DOM.\n\t\t  * @arg {string} _id - Idendifier for the node.\n\t\t  * @arg {string} _class - Classification of the node.\n\t\t  */\n\t\t\tinitialize: function initialize(_id, _class) {\n\t\t\t\tObject.defineProperty(this, '$el', {\n\t\t\t\t\tvalue: $$('<div ' + (_id ? 'id=\"' + _id + '\"' : '') + ' ' + (_class ? 'class=\"' + _class + '\"' : '') + '>'),\n\t\t\t\t\twriteable: false,\n\t\t\t\t\tconfigureable: false,\n\t\t\t\t\tenumerable: false\n\t\t\t\t});\n\t\t\n\t\t\t\tthis.$el.data('context', this);\n\t\t\t},\n\t\t\t/**\n\t\t  * Get/set the id of the interface.\n\t\t  * @arg {string} _id - A valid CSS ID.\n\t\t  */\n\t\t\tid: function id(_id) {\n\t\t\t\treturn this.$el.id(_id);\n\t\t\t},\n\t\t\t/**\n\t\t  * Add an interface to the shadow DOM.\n\t\t  * @arg {Audio|AudioCollection} _obj - The object to add.\n\t\t  * @returns this\n\t\t  */\n\t\t\taddShadow: function addShadow(_obj) {\n\t\t\t\tthis.$el.append(_obj.$el);\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * Provides the parent level interface.\n\t\t  * @returns {AudioManager|AudioCollection}\n\t\t  */\n\t\t\tparent: function parent() {\n\t\t\t\treturn this.$el.parent().data('context');\n\t\t\t},\n\t\t\t/**\n\t\t  * Find an interface in the API tree.\n\t\t  * @arg {string} _selector - A CSS selector to match a node in the shadow DOM API tree.\n\t\t  */\n\t\t\tfind: function find(_selector) {\n\t\t\t\tvar collection = MediaCollection.create();\n\t\t\n\t\t\t\tthis.$el.find(_selector).each(function () {\n\t\t\t\t\tcollection.add($$(this).data('context'));\n\t\t\t\t});\n\t\t\n\t\t\t\treturn collection;\n\t\t\t},\n\t\t\t/**\n\t\t  * \n\t\t  */\n\t\t\tfilter: function filter(_selector) {\n\t\t\t\tvar collection;\n\t\t\n\t\t\t\tif (!_selector) return this;\n\t\t\n\t\t\t\tcollection = MediaCollection.create();\n\t\t\n\t\t\t\tthis.$el.children().each(function () {\n\t\t\t\t\tvar $node = $$(this);\n\t\t\t\t\tif ($node.is(_selector)) collection.add($node.data('context'));\n\t\t\t\t});\n\t\t\n\t\t\t\treturn collection;\n\t\t\t},\n\t\t\t/**\n\t\t  * Attach events to a shadow node.\n\t\t  */\n\t\t\ton: function on() {\n\t\t\t\tthis.$el.on.apply(this.$el, arguments);\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * Remove events from a shadow node.\n\t\t  */\n\t\t\toff: function off() {\n\t\t\t\tthis.$el.off.apply(this.$el, arguments);\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * Dispatch a event from a shadow node.\n\t\t  */\n\t\t\ttrigger: function trigger() {\n\t\t\t\tthis.$el.trigger.apply(this.$el, arguments);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t};\n\t\t/**\n\t\t * Interface for inspecting an API level (i.e. manager or collection).\n\t\t */\n\t\tInspectorInterface = {\n\t\t\tplaying: function playing(_filterSelector) {\n\t\t\t\tvar playing = this.find('.PLAYING').filter(_filterSelector);\n\t\t\t\treturn !!playing.length && playing;\n\t\t\t},\n\t\t\t/**\n\t\t  * Query a collection for ownership of an audio object.\n\t\t  * @arg {string|Audio|HTMLAudioElement} The validating reference.\n\t\t  * @returns {boolean}\n\t\t  */\n\t\t\thas: function has(_query) {\n\t\t\t\tif (this.background) {\n\t\t\t\t\treturn ['background', 'voiceOver', 'sfx'].some((function (_name) {\n\t\t\t\t\t\treturn this[_name].has(_query);\n\t\t\t\t\t}).bind(this));\n\t\t\t\t}\n\t\t\n\t\t\t\tif (this[_query]) return true;\n\t\t\n\t\t\t\treturn this.some(function (_audio) {\n\t\t\t\t\treturn _audio === _query || _audio.media === _query || _audio.fileName === _query || _audio.id() === _query;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\t\n\t\tLegislatorInterface = {\n\t\t\trule: function rule(_selector, _event, _handler) {\n\t\t\t\tvar handler, args;\n\t\t\n\t\t\t\thandler = [typeof _event, typeof _handler].indexOf('function');\n\t\t\t\targs = _util2['default'].toArray(arguments).slice(1);\n\t\t\n\t\t\t\tif (typeof _event === 'function') _event = 'play pause stopped ended';\n\t\t\n\t\t\t\tthis.on(_event, (function (_e) {\n\t\t\t\t\tif (_e.target.$el.is(_selector)) args[handler].apply(this, arguments);\n\t\t\t\t}).bind(this));\n\t\t\t}\n\t\t};\n\t\t\n\t\tStateInterface = {\n\t\t\tstate: function state() {\n\t\t\t\treturn this.$el.state.apply(this.$el, arguments);\n\t\t\t},\n\t\t\n\t\t\taddState: function addState(_state) {\n\t\t\t\treturn this.$el.addClass(_state.toUpperCase());\n\t\t\t},\n\t\t\n\t\t\tremoveState: function removeState(_state) {\n\t\t\t\treturn this.$el.removeClass(_state.toUpperCase());\n\t\t\t}\n\t\t};\n\t\t\n\t\t/**\n\t\t * Interface for methods involving audio control for any API level.\n\t\t */\n\t\tPlayableInterface = {\n\t\t\tproxyEvent: function proxyEvent(_event) {\n\t\t\t\tvar theEvent = $$.Event(_event.type, { target: this, targetSource: _event.target, targetNode: this.media });\n\t\t\n\t\t\t\t// proxy event to shadow DOM only when it has an active source.\n\t\t\t\tif (this.activeSource) {\n\t\t\t\t\tif (_event.type === 'ended') {\n\t\t\t\t\t\tthis.removeState('PLAYING');\n\t\t\t\t\t\tthis.activeSource = null;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tthis.trigger(theEvent);\n\t\t\t\t}\n\t\t\n\t\t\t\t_event.target.removeEventListener(_event.type, this.handler.bind(this), false);\n\t\t\t},\n\t\t\thandler: function handler(_event) {\n\t\t\t\tif (_event.type === 'ended' && _event.activeSource) {\n\t\t\t\t\t_event.activeSource.disconnect();\n\t\t\t\t}\n\t\t\t\tthis.proxyEvent.call(this, _event);\n\t\t\t},\n\t\t\tsimEnd: function simEnd() {\n\t\t\t\tif (this.activeSource) {\n\t\t\t\t\tconsole.warn('Native `ended` failed to fire, simulating...');\n\t\t\t\t\tthis.handler({ target: this.activeSource, type: 'ended' });\n\t\t\t\t}\n\t\t\t},\n\t\t\tplaySource: function playSource() {\n\t\t\t\tvar time;\n\t\t\t\tif (this.buffer) {\n\t\t\t\t\tthis.activeSource.start(0);\n\t\t\t\t\tthis.startTime = new Date();\n\t\t\n\t\t\t\t\tif (!this.activeSource.loop) {\n\t\t\t\t\t\ttime = Math.ceil(this.buffer.duration * 1000) + 250;\n\t\t\t\t\t\tthis.timeout = setTimeout(this.simEnd.bind(this), time);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.media.play();\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.delayID = null;\n\t\t\t},\n\t\t\t/**\n\t\t  * Play an audio object.\n\t\t  */\n\t\t\tplay: function play(_selector) {\n\t\t\t\tvar ctx, src, dest, delay, shouldPlay;\n\t\t\n\t\t\t\tfunction response(_val) {\n\t\t\t\t\tshouldPlay = _val;\n\t\t\t\t}\n\t\t\n\t\t\t\tctx = this.audioContext || pl.game.getAudioContext();\n\t\t\t\tshouldPlay = true;\n\t\t\n\t\t\t\t/*\n\t\t   * I'm commenting out this line because having it there\n\t\t   * prevents new audio from starting while the game is out of focus\n\t\t   * which makes certain screens impossible to complete.\n\t\t   * Giving the game the ability to pause will remove the need for\n\t\t   * this line of code, anyway.\n\t\t   */\n\t\t\t\t// if (ctx.state === 'suspended') return false;\n\t\t\n\t\t\t\tif (this.background) return this.background.play();\n\t\t\t\tif (this.length != null) {\n\t\t\t\t\tif (_selector) {\n\t\t\t\t\t\tif (this[_selector]) return this[_selector].play();\n\t\t\n\t\t\t\t\t\treturn this.find(_selector).play();\n\t\t\t\t\t}\n\t\t\t\t\treturn this[0] && this[0].play();\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!(src = this.getSource())) return false;\n\t\t\n\t\t\t\tsrc.connect(this.gain);\n\t\t\t\tsrc.addEventListener('ended', this.handler.bind(this), false);\n\t\t\n\t\t\t\tthis.trigger($$.Event('shouldPlay', { target: this, targetSource: src, targetNode: this.media, response: response }));\n\t\t\n\t\t\t\tif (shouldPlay) {\n\t\t\t\t\tthis.addState('PLAYING');\n\t\t\t\t\tthis.activeSource = src;\n\t\t\n\t\t\t\t\tif (delay = this.config('delay')) {\n\t\t\t\t\t\tthis.delayID = setTimeout(this.playSource.bind(this), _util2['default'].toMillisec(delay));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.playSource.call(this);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tthis.handler({ target: src, type: 'play' });\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * Pause an audio object.\n\t\t  */\n\t\t\tpause: function pause() {\n\t\t\t\tif (this.buffer) {\n\t\t\t\t\tthis.pauseTime = new Date();\n\t\t\t\t\tclearTimeout(this.timeout);\n\t\t\t\t\tthis.timeout = null;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * Resume an audio object.\n\t\t  */\n\t\t\tresume: function resume() {\n\t\t\t\tvar time;\n\t\t\t\tif (this.buffer) {\n\t\t\t\t\tif (!this.activeSource.loop) {\n\t\t\t\t\t\ttime = Math.ceil(this.buffer.duration * 1000 - (this.pauseTime - this.startTime)) + 250;\n\t\t\t\t\t\tthis.timeout = setTimeout(this.simEnd.bind(this), time);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * Stop an audio object.\n\t\t  */\n\t\t\tstop: function stop(_filterSelector) {\n\t\t\t\tvar stopEvent = $$.Event('stopped', { target: this, targetSource: this.activeSource, targetNode: this.media });\n\t\t\n\t\t\t\tif (this.background) return this.background.stop(_filterSelector);\n\t\t\t\tif (this.length != null) {\n\t\t\t\t\tif (_filterSelector === '@ALL') {\n\t\t\t\t\t\tthis.forEach(function (_audio) {\n\t\t\t\t\t\t\t_audio.stop();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn this[0] && this[0].stop();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!this.activeSource) return false;\n\t\t\n\t\t\t\tif (this.buffer) {\n\t\t\t\t\tif (!this.delayID) this.activeSource.stop();\n\t\t\t\t} else {\n\t\t\t\t\tthis.media.pause();\n\t\t\t\t\tthis.media.currentTime = 0;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (this.delayID) {\n\t\t\t\t\tclearTimeout(this.delayID);\n\t\t\t\t\tthis.delayID = null;\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.activeSource = null;\n\t\t\n\t\t\t\tthis.removeState('PLAYING');\n\t\t\t\tthis.trigger(stopEvent);\n\t\t\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * @todo MGR, 2/9/2016: Pipe audio sources into gain nodes for each level of the API.\n\t\t  */\n\t\t\tvolume: function volume(_level, _filterSelector) {\n\t\t\t\tif (this.background) return this.background.volume(_level);\n\t\t\t\tif (this.length != null) {\n\t\t\t\t\tif (_filterSelector === '@ALL') {\n\t\t\t\t\t\tthis.forEach(function (_audio) {\n\t\t\t\t\t\t\t_audio.volume(_level);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn this[0] && this[0].volume(_level);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.gain.gain.value = _level;\n\t\t\t},\n\t\t\tstartTime: 0,\n\t\t\tpauseTime: 0\n\t\t};\n\t\t\n\t\texports['default'] = _typesType2['default'](MediaManager, AudioManager, AudioCollection, Audio);\n\t\t\n\t\tAudioCollection.extend(MediaCollection);\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 43 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = { \"default\": __webpack_require__(44), __esModule: true };\n\t\n\t/***/ },\n\t/* 44 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t__webpack_require__(45);\n\t\t__webpack_require__(46);\n\t\t__webpack_require__(62);\n\t\t__webpack_require__(69);\n\t\tmodule.exports = __webpack_require__(11).Promise;\n\t\n\t/***/ },\n\t/* 45 */\n\t/***/ function(module, exports) {\n\t\n\t\n\t\n\t/***/ },\n\t/* 46 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\tvar $at  = __webpack_require__(47)(true);\n\t\t\n\t\t// 21.1.3.27 String.prototype[@@iterator]()\n\t\t__webpack_require__(49)(String, 'String', function(iterated){\n\t\t  this._t = String(iterated); // target\n\t\t  this._i = 0;                // next index\n\t\t// 21.1.5.2.1 %StringIteratorPrototype%.next()\n\t\t}, function(){\n\t\t  var O     = this._t\n\t\t    , index = this._i\n\t\t    , point;\n\t\t  if(index >= O.length)return {value: undefined, done: true};\n\t\t  point = $at(O, index);\n\t\t  this._i += point.length;\n\t\t  return {value: point, done: false};\n\t\t});\n\t\n\t/***/ },\n\t/* 47 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar toInteger = __webpack_require__(48)\n\t\t  , defined   = __webpack_require__(37);\n\t\t// true  -> String#at\n\t\t// false -> String#codePointAt\n\t\tmodule.exports = function(TO_STRING){\n\t\t  return function(that, pos){\n\t\t    var s = String(defined(that))\n\t\t      , i = toInteger(pos)\n\t\t      , l = s.length\n\t\t      , a, b;\n\t\t    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n\t\t    a = s.charCodeAt(i);\n\t\t    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n\t\t      ? TO_STRING ? s.charAt(i) : a\n\t\t      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n\t\t  };\n\t\t};\n\t\n\t/***/ },\n\t/* 48 */\n\t/***/ function(module, exports) {\n\t\n\t\t// 7.1.4 ToInteger\n\t\tvar ceil  = Math.ceil\n\t\t  , floor = Math.floor;\n\t\tmodule.exports = function(it){\n\t\t  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n\t\t};\n\t\n\t/***/ },\n\t/* 49 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\tvar LIBRARY        = __webpack_require__(50)\n\t\t  , $export        = __webpack_require__(9)\n\t\t  , redefine       = __webpack_require__(51)\n\t\t  , hide           = __webpack_require__(52)\n\t\t  , has            = __webpack_require__(55)\n\t\t  , Iterators      = __webpack_require__(56)\n\t\t  , $iterCreate    = __webpack_require__(57)\n\t\t  , setToStringTag = __webpack_require__(58)\n\t\t  , getProto       = __webpack_require__(8).getProto\n\t\t  , ITERATOR       = __webpack_require__(59)('iterator')\n\t\t  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n\t\t  , FF_ITERATOR    = '@@iterator'\n\t\t  , KEYS           = 'keys'\n\t\t  , VALUES         = 'values';\n\t\t\n\t\tvar returnThis = function(){ return this; };\n\t\t\n\t\tmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n\t\t  $iterCreate(Constructor, NAME, next);\n\t\t  var getMethod = function(kind){\n\t\t    if(!BUGGY && kind in proto)return proto[kind];\n\t\t    switch(kind){\n\t\t      case KEYS: return function keys(){ return new Constructor(this, kind); };\n\t\t      case VALUES: return function values(){ return new Constructor(this, kind); };\n\t\t    } return function entries(){ return new Constructor(this, kind); };\n\t\t  };\n\t\t  var TAG        = NAME + ' Iterator'\n\t\t    , DEF_VALUES = DEFAULT == VALUES\n\t\t    , VALUES_BUG = false\n\t\t    , proto      = Base.prototype\n\t\t    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n\t\t    , $default   = $native || getMethod(DEFAULT)\n\t\t    , methods, key;\n\t\t  // Fix native\n\t\t  if($native){\n\t\t    var IteratorPrototype = getProto($default.call(new Base));\n\t\t    // Set @@toStringTag to native iterators\n\t\t    setToStringTag(IteratorPrototype, TAG, true);\n\t\t    // FF fix\n\t\t    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n\t\t    // fix Array#{values, @@iterator}.name in V8 / FF\n\t\t    if(DEF_VALUES && $native.name !== VALUES){\n\t\t      VALUES_BUG = true;\n\t\t      $default = function values(){ return $native.call(this); };\n\t\t    }\n\t\t  }\n\t\t  // Define iterator\n\t\t  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n\t\t    hide(proto, ITERATOR, $default);\n\t\t  }\n\t\t  // Plug for library\n\t\t  Iterators[NAME] = $default;\n\t\t  Iterators[TAG]  = returnThis;\n\t\t  if(DEFAULT){\n\t\t    methods = {\n\t\t      values:  DEF_VALUES  ? $default : getMethod(VALUES),\n\t\t      keys:    IS_SET      ? $default : getMethod(KEYS),\n\t\t      entries: !DEF_VALUES ? $default : getMethod('entries')\n\t\t    };\n\t\t    if(FORCED)for(key in methods){\n\t\t      if(!(key in proto))redefine(proto, key, methods[key]);\n\t\t    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n\t\t  }\n\t\t  return methods;\n\t\t};\n\t\n\t/***/ },\n\t/* 50 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = true;\n\t\n\t/***/ },\n\t/* 51 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(52);\n\t\n\t/***/ },\n\t/* 52 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar $          = __webpack_require__(8)\n\t\t  , createDesc = __webpack_require__(53);\n\t\tmodule.exports = __webpack_require__(54) ? function(object, key, value){\n\t\t  return $.setDesc(object, key, createDesc(1, value));\n\t\t} : function(object, key, value){\n\t\t  object[key] = value;\n\t\t  return object;\n\t\t};\n\t\n\t/***/ },\n\t/* 53 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(bitmap, value){\n\t\t  return {\n\t\t    enumerable  : !(bitmap & 1),\n\t\t    configurable: !(bitmap & 2),\n\t\t    writable    : !(bitmap & 4),\n\t\t    value       : value\n\t\t  };\n\t\t};\n\t\n\t/***/ },\n\t/* 54 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// Thank's IE8 for his funny defineProperty\n\t\tmodule.exports = !__webpack_require__(39)(function(){\n\t\t  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n\t\t});\n\t\n\t/***/ },\n\t/* 55 */\n\t/***/ function(module, exports) {\n\t\n\t\tvar hasOwnProperty = {}.hasOwnProperty;\n\t\tmodule.exports = function(it, key){\n\t\t  return hasOwnProperty.call(it, key);\n\t\t};\n\t\n\t/***/ },\n\t/* 56 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = {};\n\t\n\t/***/ },\n\t/* 57 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\tvar $              = __webpack_require__(8)\n\t\t  , descriptor     = __webpack_require__(53)\n\t\t  , setToStringTag = __webpack_require__(58)\n\t\t  , IteratorPrototype = {};\n\t\t\n\t\t// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n\t\t__webpack_require__(52)(IteratorPrototype, __webpack_require__(59)('iterator'), function(){ return this; });\n\t\t\n\t\tmodule.exports = function(Constructor, NAME, next){\n\t\t  Constructor.prototype = $.create(IteratorPrototype, {next: descriptor(1, next)});\n\t\t  setToStringTag(Constructor, NAME + ' Iterator');\n\t\t};\n\t\n\t/***/ },\n\t/* 58 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar def = __webpack_require__(8).setDesc\n\t\t  , has = __webpack_require__(55)\n\t\t  , TAG = __webpack_require__(59)('toStringTag');\n\t\t\n\t\tmodule.exports = function(it, tag, stat){\n\t\t  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n\t\t};\n\t\n\t/***/ },\n\t/* 59 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar store  = __webpack_require__(60)('wks')\n\t\t  , uid    = __webpack_require__(61)\n\t\t  , Symbol = __webpack_require__(10).Symbol;\n\t\tmodule.exports = function(name){\n\t\t  return store[name] || (store[name] =\n\t\t    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n\t\t};\n\t\n\t/***/ },\n\t/* 60 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar global = __webpack_require__(10)\n\t\t  , SHARED = '__core-js_shared__'\n\t\t  , store  = global[SHARED] || (global[SHARED] = {});\n\t\tmodule.exports = function(key){\n\t\t  return store[key] || (store[key] = {});\n\t\t};\n\t\n\t/***/ },\n\t/* 61 */\n\t/***/ function(module, exports) {\n\t\n\t\tvar id = 0\n\t\t  , px = Math.random();\n\t\tmodule.exports = function(key){\n\t\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t\t};\n\t\n\t/***/ },\n\t/* 62 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t__webpack_require__(63);\n\t\tvar Iterators = __webpack_require__(56);\n\t\tIterators.NodeList = Iterators.HTMLCollection = Iterators.Array;\n\t\n\t/***/ },\n\t/* 63 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\tvar addToUnscopables = __webpack_require__(64)\n\t\t  , step             = __webpack_require__(65)\n\t\t  , Iterators        = __webpack_require__(56)\n\t\t  , toIObject        = __webpack_require__(66);\n\t\t\n\t\t// 22.1.3.4 Array.prototype.entries()\n\t\t// 22.1.3.13 Array.prototype.keys()\n\t\t// 22.1.3.29 Array.prototype.values()\n\t\t// 22.1.3.30 Array.prototype[@@iterator]()\n\t\tmodule.exports = __webpack_require__(49)(Array, 'Array', function(iterated, kind){\n\t\t  this._t = toIObject(iterated); // target\n\t\t  this._i = 0;                   // next index\n\t\t  this._k = kind;                // kind\n\t\t// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n\t\t}, function(){\n\t\t  var O     = this._t\n\t\t    , kind  = this._k\n\t\t    , index = this._i++;\n\t\t  if(!O || index >= O.length){\n\t\t    this._t = undefined;\n\t\t    return step(1);\n\t\t  }\n\t\t  if(kind == 'keys'  )return step(0, index);\n\t\t  if(kind == 'values')return step(0, O[index]);\n\t\t  return step(0, [index, O[index]]);\n\t\t}, 'values');\n\t\t\n\t\t// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n\t\tIterators.Arguments = Iterators.Array;\n\t\t\n\t\taddToUnscopables('keys');\n\t\taddToUnscopables('values');\n\t\taddToUnscopables('entries');\n\t\n\t/***/ },\n\t/* 64 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(){ /* empty */ };\n\t\n\t/***/ },\n\t/* 65 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(done, value){\n\t\t  return {value: value, done: !!done};\n\t\t};\n\t\n\t/***/ },\n\t/* 66 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// to indexed object, toObject with fallback for non-array-like ES3 strings\n\t\tvar IObject = __webpack_require__(67)\n\t\t  , defined = __webpack_require__(37);\n\t\tmodule.exports = function(it){\n\t\t  return IObject(defined(it));\n\t\t};\n\t\n\t/***/ },\n\t/* 67 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// fallback for non-array-like ES3 and non-enumerable old V8 strings\n\t\tvar cof = __webpack_require__(68);\n\t\tmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n\t\t  return cof(it) == 'String' ? it.split('') : Object(it);\n\t\t};\n\t\n\t/***/ },\n\t/* 68 */\n\t/***/ function(module, exports) {\n\t\n\t\tvar toString = {}.toString;\n\t\t\n\t\tmodule.exports = function(it){\n\t\t  return toString.call(it).slice(8, -1);\n\t\t};\n\t\n\t/***/ },\n\t/* 69 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\tvar $          = __webpack_require__(8)\n\t\t  , LIBRARY    = __webpack_require__(50)\n\t\t  , global     = __webpack_require__(10)\n\t\t  , ctx        = __webpack_require__(12)\n\t\t  , classof    = __webpack_require__(70)\n\t\t  , $export    = __webpack_require__(9)\n\t\t  , isObject   = __webpack_require__(71)\n\t\t  , anObject   = __webpack_require__(72)\n\t\t  , aFunction  = __webpack_require__(13)\n\t\t  , strictNew  = __webpack_require__(73)\n\t\t  , forOf      = __webpack_require__(74)\n\t\t  , setProto   = __webpack_require__(79).set\n\t\t  , same       = __webpack_require__(80)\n\t\t  , SPECIES    = __webpack_require__(59)('species')\n\t\t  , speciesConstructor = __webpack_require__(81)\n\t\t  , asap       = __webpack_require__(82)\n\t\t  , PROMISE    = 'Promise'\n\t\t  , process    = global.process\n\t\t  , isNode     = classof(process) == 'process'\n\t\t  , P          = global[PROMISE]\n\t\t  , Wrapper;\n\t\t\n\t\tvar testResolve = function(sub){\n\t\t  var test = new P(function(){});\n\t\t  if(sub)test.constructor = Object;\n\t\t  return P.resolve(test) === test;\n\t\t};\n\t\t\n\t\tvar USE_NATIVE = function(){\n\t\t  var works = false;\n\t\t  function P2(x){\n\t\t    var self = new P(x);\n\t\t    setProto(self, P2.prototype);\n\t\t    return self;\n\t\t  }\n\t\t  try {\n\t\t    works = P && P.resolve && testResolve();\n\t\t    setProto(P2, P);\n\t\t    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});\n\t\t    // actual Firefox has broken subclass support, test that\n\t\t    if(!(P2.resolve(5).then(function(){}) instanceof P2)){\n\t\t      works = false;\n\t\t    }\n\t\t    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162\n\t\t    if(works && __webpack_require__(54)){\n\t\t      var thenableThenGotten = false;\n\t\t      P.resolve($.setDesc({}, 'then', {\n\t\t        get: function(){ thenableThenGotten = true; }\n\t\t      }));\n\t\t      works = thenableThenGotten;\n\t\t    }\n\t\t  } catch(e){ works = false; }\n\t\t  return works;\n\t\t}();\n\t\t\n\t\t// helpers\n\t\tvar sameConstructor = function(a, b){\n\t\t  // library wrapper special case\n\t\t  if(LIBRARY && a === P && b === Wrapper)return true;\n\t\t  return same(a, b);\n\t\t};\n\t\tvar getConstructor = function(C){\n\t\t  var S = anObject(C)[SPECIES];\n\t\t  return S != undefined ? S : C;\n\t\t};\n\t\tvar isThenable = function(it){\n\t\t  var then;\n\t\t  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n\t\t};\n\t\tvar PromiseCapability = function(C){\n\t\t  var resolve, reject;\n\t\t  this.promise = new C(function($$resolve, $$reject){\n\t\t    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n\t\t    resolve = $$resolve;\n\t\t    reject  = $$reject;\n\t\t  });\n\t\t  this.resolve = aFunction(resolve),\n\t\t  this.reject  = aFunction(reject)\n\t\t};\n\t\tvar perform = function(exec){\n\t\t  try {\n\t\t    exec();\n\t\t  } catch(e){\n\t\t    return {error: e};\n\t\t  }\n\t\t};\n\t\tvar notify = function(record, isReject){\n\t\t  if(record.n)return;\n\t\t  record.n = true;\n\t\t  var chain = record.c;\n\t\t  asap(function(){\n\t\t    var value = record.v\n\t\t      , ok    = record.s == 1\n\t\t      , i     = 0;\n\t\t    var run = function(reaction){\n\t\t      var handler = ok ? reaction.ok : reaction.fail\n\t\t        , resolve = reaction.resolve\n\t\t        , reject  = reaction.reject\n\t\t        , result, then;\n\t\t      try {\n\t\t        if(handler){\n\t\t          if(!ok)record.h = true;\n\t\t          result = handler === true ? value : handler(value);\n\t\t          if(result === reaction.promise){\n\t\t            reject(TypeError('Promise-chain cycle'));\n\t\t          } else if(then = isThenable(result)){\n\t\t            then.call(result, resolve, reject);\n\t\t          } else resolve(result);\n\t\t        } else reject(value);\n\t\t      } catch(e){\n\t\t        reject(e);\n\t\t      }\n\t\t    };\n\t\t    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n\t\t    chain.length = 0;\n\t\t    record.n = false;\n\t\t    if(isReject)setTimeout(function(){\n\t\t      var promise = record.p\n\t\t        , handler, console;\n\t\t      if(isUnhandled(promise)){\n\t\t        if(isNode){\n\t\t          process.emit('unhandledRejection', value, promise);\n\t\t        } else if(handler = global.onunhandledrejection){\n\t\t          handler({promise: promise, reason: value});\n\t\t        } else if((console = global.console) && console.error){\n\t\t          console.error('Unhandled promise rejection', value);\n\t\t        }\n\t\t      } record.a = undefined;\n\t\t    }, 1);\n\t\t  });\n\t\t};\n\t\tvar isUnhandled = function(promise){\n\t\t  var record = promise._d\n\t\t    , chain  = record.a || record.c\n\t\t    , i      = 0\n\t\t    , reaction;\n\t\t  if(record.h)return false;\n\t\t  while(chain.length > i){\n\t\t    reaction = chain[i++];\n\t\t    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n\t\t  } return true;\n\t\t};\n\t\tvar $reject = function(value){\n\t\t  var record = this;\n\t\t  if(record.d)return;\n\t\t  record.d = true;\n\t\t  record = record.r || record; // unwrap\n\t\t  record.v = value;\n\t\t  record.s = 2;\n\t\t  record.a = record.c.slice();\n\t\t  notify(record, true);\n\t\t};\n\t\tvar $resolve = function(value){\n\t\t  var record = this\n\t\t    , then;\n\t\t  if(record.d)return;\n\t\t  record.d = true;\n\t\t  record = record.r || record; // unwrap\n\t\t  try {\n\t\t    if(record.p === value)throw TypeError(\"Promise can't be resolved itself\");\n\t\t    if(then = isThenable(value)){\n\t\t      asap(function(){\n\t\t        var wrapper = {r: record, d: false}; // wrap\n\t\t        try {\n\t\t          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n\t\t        } catch(e){\n\t\t          $reject.call(wrapper, e);\n\t\t        }\n\t\t      });\n\t\t    } else {\n\t\t      record.v = value;\n\t\t      record.s = 1;\n\t\t      notify(record, false);\n\t\t    }\n\t\t  } catch(e){\n\t\t    $reject.call({r: record, d: false}, e); // wrap\n\t\t  }\n\t\t};\n\t\t\n\t\t// constructor polyfill\n\t\tif(!USE_NATIVE){\n\t\t  // 25.4.3.1 Promise(executor)\n\t\t  P = function Promise(executor){\n\t\t    aFunction(executor);\n\t\t    var record = this._d = {\n\t\t      p: strictNew(this, P, PROMISE),         // <- promise\n\t\t      c: [],                                  // <- awaiting reactions\n\t\t      a: undefined,                           // <- checked in isUnhandled reactions\n\t\t      s: 0,                                   // <- state\n\t\t      d: false,                               // <- done\n\t\t      v: undefined,                           // <- value\n\t\t      h: false,                               // <- handled rejection\n\t\t      n: false                                // <- notify\n\t\t    };\n\t\t    try {\n\t\t      executor(ctx($resolve, record, 1), ctx($reject, record, 1));\n\t\t    } catch(err){\n\t\t      $reject.call(record, err);\n\t\t    }\n\t\t  };\n\t\t  __webpack_require__(87)(P.prototype, {\n\t\t    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n\t\t    then: function then(onFulfilled, onRejected){\n\t\t      var reaction = new PromiseCapability(speciesConstructor(this, P))\n\t\t        , promise  = reaction.promise\n\t\t        , record   = this._d;\n\t\t      reaction.ok   = typeof onFulfilled == 'function' ? onFulfilled : true;\n\t\t      reaction.fail = typeof onRejected == 'function' && onRejected;\n\t\t      record.c.push(reaction);\n\t\t      if(record.a)record.a.push(reaction);\n\t\t      if(record.s)notify(record, false);\n\t\t      return promise;\n\t\t    },\n\t\t    // 25.4.5.1 Promise.prototype.catch(onRejected)\n\t\t    'catch': function(onRejected){\n\t\t      return this.then(undefined, onRejected);\n\t\t    }\n\t\t  });\n\t\t}\n\t\t\n\t\t$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: P});\n\t\t__webpack_require__(58)(P, PROMISE);\n\t\t__webpack_require__(88)(PROMISE);\n\t\tWrapper = __webpack_require__(11)[PROMISE];\n\t\t\n\t\t// statics\n\t\t$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n\t\t  // 25.4.4.5 Promise.reject(r)\n\t\t  reject: function reject(r){\n\t\t    var capability = new PromiseCapability(this)\n\t\t      , $$reject   = capability.reject;\n\t\t    $$reject(r);\n\t\t    return capability.promise;\n\t\t  }\n\t\t});\n\t\t$export($export.S + $export.F * (!USE_NATIVE || testResolve(true)), PROMISE, {\n\t\t  // 25.4.4.6 Promise.resolve(x)\n\t\t  resolve: function resolve(x){\n\t\t    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n\t\t    if(x instanceof P && sameConstructor(x.constructor, this))return x;\n\t\t    var capability = new PromiseCapability(this)\n\t\t      , $$resolve  = capability.resolve;\n\t\t    $$resolve(x);\n\t\t    return capability.promise;\n\t\t  }\n\t\t});\n\t\t$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(89)(function(iter){\n\t\t  P.all(iter)['catch'](function(){});\n\t\t})), PROMISE, {\n\t\t  // 25.4.4.1 Promise.all(iterable)\n\t\t  all: function all(iterable){\n\t\t    var C          = getConstructor(this)\n\t\t      , capability = new PromiseCapability(C)\n\t\t      , resolve    = capability.resolve\n\t\t      , reject     = capability.reject\n\t\t      , values     = [];\n\t\t    var abrupt = perform(function(){\n\t\t      forOf(iterable, false, values.push, values);\n\t\t      var remaining = values.length\n\t\t        , results   = Array(remaining);\n\t\t      if(remaining)$.each.call(values, function(promise, index){\n\t\t        var alreadyCalled = false;\n\t\t        C.resolve(promise).then(function(value){\n\t\t          if(alreadyCalled)return;\n\t\t          alreadyCalled = true;\n\t\t          results[index] = value;\n\t\t          --remaining || resolve(results);\n\t\t        }, reject);\n\t\t      });\n\t\t      else resolve(results);\n\t\t    });\n\t\t    if(abrupt)reject(abrupt.error);\n\t\t    return capability.promise;\n\t\t  },\n\t\t  // 25.4.4.4 Promise.race(iterable)\n\t\t  race: function race(iterable){\n\t\t    var C          = getConstructor(this)\n\t\t      , capability = new PromiseCapability(C)\n\t\t      , reject     = capability.reject;\n\t\t    var abrupt = perform(function(){\n\t\t      forOf(iterable, false, function(promise){\n\t\t        C.resolve(promise).then(capability.resolve, reject);\n\t\t      });\n\t\t    });\n\t\t    if(abrupt)reject(abrupt.error);\n\t\t    return capability.promise;\n\t\t  }\n\t\t});\n\t\n\t/***/ },\n\t/* 70 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// getting tag from 19.1.3.6 Object.prototype.toString()\n\t\tvar cof = __webpack_require__(68)\n\t\t  , TAG = __webpack_require__(59)('toStringTag')\n\t\t  // ES3 wrong here\n\t\t  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\t\t\n\t\tmodule.exports = function(it){\n\t\t  var O, T, B;\n\t\t  return it === undefined ? 'Undefined' : it === null ? 'Null'\n\t\t    // @@toStringTag case\n\t\t    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n\t\t    // builtinTag case\n\t\t    : ARG ? cof(O)\n\t\t    // ES3 arguments fallback\n\t\t    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n\t\t};\n\t\n\t/***/ },\n\t/* 71 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(it){\n\t\t  return typeof it === 'object' ? it !== null : typeof it === 'function';\n\t\t};\n\t\n\t/***/ },\n\t/* 72 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar isObject = __webpack_require__(71);\n\t\tmodule.exports = function(it){\n\t\t  if(!isObject(it))throw TypeError(it + ' is not an object!');\n\t\t  return it;\n\t\t};\n\t\n\t/***/ },\n\t/* 73 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(it, Constructor, name){\n\t\t  if(!(it instanceof Constructor))throw TypeError(name + \": use the 'new' operator!\");\n\t\t  return it;\n\t\t};\n\t\n\t/***/ },\n\t/* 74 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar ctx         = __webpack_require__(12)\n\t\t  , call        = __webpack_require__(75)\n\t\t  , isArrayIter = __webpack_require__(76)\n\t\t  , anObject    = __webpack_require__(72)\n\t\t  , toLength    = __webpack_require__(77)\n\t\t  , getIterFn   = __webpack_require__(78);\n\t\tmodule.exports = function(iterable, entries, fn, that){\n\t\t  var iterFn = getIterFn(iterable)\n\t\t    , f      = ctx(fn, that, entries ? 2 : 1)\n\t\t    , index  = 0\n\t\t    , length, step, iterator;\n\t\t  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n\t\t  // fast case for arrays with default iterator\n\t\t  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n\t\t    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n\t\t  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n\t\t    call(iterator, f, step.value, entries);\n\t\t  }\n\t\t};\n\t\n\t/***/ },\n\t/* 75 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// call something on iterator step with safe closing on error\n\t\tvar anObject = __webpack_require__(72);\n\t\tmodule.exports = function(iterator, fn, value, entries){\n\t\t  try {\n\t\t    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n\t\t  // 7.4.6 IteratorClose(iterator, completion)\n\t\t  } catch(e){\n\t\t    var ret = iterator['return'];\n\t\t    if(ret !== undefined)anObject(ret.call(iterator));\n\t\t    throw e;\n\t\t  }\n\t\t};\n\t\n\t/***/ },\n\t/* 76 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// check on default Array iterator\n\t\tvar Iterators  = __webpack_require__(56)\n\t\t  , ITERATOR   = __webpack_require__(59)('iterator')\n\t\t  , ArrayProto = Array.prototype;\n\t\t\n\t\tmodule.exports = function(it){\n\t\t  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n\t\t};\n\t\n\t/***/ },\n\t/* 77 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// 7.1.15 ToLength\n\t\tvar toInteger = __webpack_require__(48)\n\t\t  , min       = Math.min;\n\t\tmodule.exports = function(it){\n\t\t  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n\t\t};\n\t\n\t/***/ },\n\t/* 78 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar classof   = __webpack_require__(70)\n\t\t  , ITERATOR  = __webpack_require__(59)('iterator')\n\t\t  , Iterators = __webpack_require__(56);\n\t\tmodule.exports = __webpack_require__(11).getIteratorMethod = function(it){\n\t\t  if(it != undefined)return it[ITERATOR]\n\t\t    || it['@@iterator']\n\t\t    || Iterators[classof(it)];\n\t\t};\n\t\n\t/***/ },\n\t/* 79 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// Works with __proto__ only. Old v8 can't work with null proto objects.\n\t\t/* eslint-disable no-proto */\n\t\tvar getDesc  = __webpack_require__(8).getDesc\n\t\t  , isObject = __webpack_require__(71)\n\t\t  , anObject = __webpack_require__(72);\n\t\tvar check = function(O, proto){\n\t\t  anObject(O);\n\t\t  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n\t\t};\n\t\tmodule.exports = {\n\t\t  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n\t\t    function(test, buggy, set){\n\t\t      try {\n\t\t        set = __webpack_require__(12)(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n\t\t        set(test, []);\n\t\t        buggy = !(test instanceof Array);\n\t\t      } catch(e){ buggy = true; }\n\t\t      return function setPrototypeOf(O, proto){\n\t\t        check(O, proto);\n\t\t        if(buggy)O.__proto__ = proto;\n\t\t        else set(O, proto);\n\t\t        return O;\n\t\t      };\n\t\t    }({}, false) : undefined),\n\t\t  check: check\n\t\t};\n\t\n\t/***/ },\n\t/* 80 */\n\t/***/ function(module, exports) {\n\t\n\t\t// 7.2.9 SameValue(x, y)\n\t\tmodule.exports = Object.is || function is(x, y){\n\t\t  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n\t\t};\n\t\n\t/***/ },\n\t/* 81 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// 7.3.20 SpeciesConstructor(O, defaultConstructor)\n\t\tvar anObject  = __webpack_require__(72)\n\t\t  , aFunction = __webpack_require__(13)\n\t\t  , SPECIES   = __webpack_require__(59)('species');\n\t\tmodule.exports = function(O, D){\n\t\t  var C = anObject(O).constructor, S;\n\t\t  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n\t\t};\n\t\n\t/***/ },\n\t/* 82 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar global    = __webpack_require__(10)\n\t\t  , macrotask = __webpack_require__(83).set\n\t\t  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n\t\t  , process   = global.process\n\t\t  , Promise   = global.Promise\n\t\t  , isNode    = __webpack_require__(68)(process) == 'process'\n\t\t  , head, last, notify;\n\t\t\n\t\tvar flush = function(){\n\t\t  var parent, domain, fn;\n\t\t  if(isNode && (parent = process.domain)){\n\t\t    process.domain = null;\n\t\t    parent.exit();\n\t\t  }\n\t\t  while(head){\n\t\t    domain = head.domain;\n\t\t    fn     = head.fn;\n\t\t    if(domain)domain.enter();\n\t\t    fn(); // <- currently we use it only for Promise - try / catch not required\n\t\t    if(domain)domain.exit();\n\t\t    head = head.next;\n\t\t  } last = undefined;\n\t\t  if(parent)parent.enter();\n\t\t};\n\t\t\n\t\t// Node.js\n\t\tif(isNode){\n\t\t  notify = function(){\n\t\t    process.nextTick(flush);\n\t\t  };\n\t\t// browsers with MutationObserver\n\t\t} else if(Observer){\n\t\t  var toggle = 1\n\t\t    , node   = document.createTextNode('');\n\t\t  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n\t\t  notify = function(){\n\t\t    node.data = toggle = -toggle;\n\t\t  };\n\t\t// environments with maybe non-completely correct, but existent Promise\n\t\t} else if(Promise && Promise.resolve){\n\t\t  notify = function(){\n\t\t    Promise.resolve().then(flush);\n\t\t  };\n\t\t// for other environments - macrotask based on:\n\t\t// - setImmediate\n\t\t// - MessageChannel\n\t\t// - window.postMessag\n\t\t// - onreadystatechange\n\t\t// - setTimeout\n\t\t} else {\n\t\t  notify = function(){\n\t\t    // strange IE + webpack dev server bug - use .call(global)\n\t\t    macrotask.call(global, flush);\n\t\t  };\n\t\t}\n\t\t\n\t\tmodule.exports = function asap(fn){\n\t\t  var task = {fn: fn, next: undefined, domain: isNode && process.domain};\n\t\t  if(last)last.next = task;\n\t\t  if(!head){\n\t\t    head = task;\n\t\t    notify();\n\t\t  } last = task;\n\t\t};\n\t\n\t/***/ },\n\t/* 83 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar ctx                = __webpack_require__(12)\n\t\t  , invoke             = __webpack_require__(84)\n\t\t  , html               = __webpack_require__(85)\n\t\t  , cel                = __webpack_require__(86)\n\t\t  , global             = __webpack_require__(10)\n\t\t  , process            = global.process\n\t\t  , setTask            = global.setImmediate\n\t\t  , clearTask          = global.clearImmediate\n\t\t  , MessageChannel     = global.MessageChannel\n\t\t  , counter            = 0\n\t\t  , queue              = {}\n\t\t  , ONREADYSTATECHANGE = 'onreadystatechange'\n\t\t  , defer, channel, port;\n\t\tvar run = function(){\n\t\t  var id = +this;\n\t\t  if(queue.hasOwnProperty(id)){\n\t\t    var fn = queue[id];\n\t\t    delete queue[id];\n\t\t    fn();\n\t\t  }\n\t\t};\n\t\tvar listner = function(event){\n\t\t  run.call(event.data);\n\t\t};\n\t\t// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n\t\tif(!setTask || !clearTask){\n\t\t  setTask = function setImmediate(fn){\n\t\t    var args = [], i = 1;\n\t\t    while(arguments.length > i)args.push(arguments[i++]);\n\t\t    queue[++counter] = function(){\n\t\t      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n\t\t    };\n\t\t    defer(counter);\n\t\t    return counter;\n\t\t  };\n\t\t  clearTask = function clearImmediate(id){\n\t\t    delete queue[id];\n\t\t  };\n\t\t  // Node.js 0.8-\n\t\t  if(__webpack_require__(68)(process) == 'process'){\n\t\t    defer = function(id){\n\t\t      process.nextTick(ctx(run, id, 1));\n\t\t    };\n\t\t  // Browsers with MessageChannel, includes WebWorkers\n\t\t  } else if(MessageChannel){\n\t\t    channel = new MessageChannel;\n\t\t    port    = channel.port2;\n\t\t    channel.port1.onmessage = listner;\n\t\t    defer = ctx(port.postMessage, port, 1);\n\t\t  // Browsers with postMessage, skip WebWorkers\n\t\t  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n\t\t  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n\t\t    defer = function(id){\n\t\t      global.postMessage(id + '', '*');\n\t\t    };\n\t\t    global.addEventListener('message', listner, false);\n\t\t  // IE8-\n\t\t  } else if(ONREADYSTATECHANGE in cel('script')){\n\t\t    defer = function(id){\n\t\t      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n\t\t        html.removeChild(this);\n\t\t        run.call(id);\n\t\t      };\n\t\t    };\n\t\t  // Rest old browsers\n\t\t  } else {\n\t\t    defer = function(id){\n\t\t      setTimeout(ctx(run, id, 1), 0);\n\t\t    };\n\t\t  }\n\t\t}\n\t\tmodule.exports = {\n\t\t  set:   setTask,\n\t\t  clear: clearTask\n\t\t};\n\t\n\t/***/ },\n\t/* 84 */\n\t/***/ function(module, exports) {\n\t\n\t\t// fast apply, http://jsperf.lnkit.com/fast-apply/5\n\t\tmodule.exports = function(fn, args, that){\n\t\t  var un = that === undefined;\n\t\t  switch(args.length){\n\t\t    case 0: return un ? fn()\n\t\t                      : fn.call(that);\n\t\t    case 1: return un ? fn(args[0])\n\t\t                      : fn.call(that, args[0]);\n\t\t    case 2: return un ? fn(args[0], args[1])\n\t\t                      : fn.call(that, args[0], args[1]);\n\t\t    case 3: return un ? fn(args[0], args[1], args[2])\n\t\t                      : fn.call(that, args[0], args[1], args[2]);\n\t\t    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n\t\t                      : fn.call(that, args[0], args[1], args[2], args[3]);\n\t\t  } return              fn.apply(that, args);\n\t\t};\n\t\n\t/***/ },\n\t/* 85 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(10).document && document.documentElement;\n\t\n\t/***/ },\n\t/* 86 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar isObject = __webpack_require__(71)\n\t\t  , document = __webpack_require__(10).document\n\t\t  // in old IE typeof document.createElement is 'object'\n\t\t  , is = isObject(document) && isObject(document.createElement);\n\t\tmodule.exports = function(it){\n\t\t  return is ? document.createElement(it) : {};\n\t\t};\n\t\n\t/***/ },\n\t/* 87 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar redefine = __webpack_require__(51);\n\t\tmodule.exports = function(target, src){\n\t\t  for(var key in src)redefine(target, key, src[key]);\n\t\t  return target;\n\t\t};\n\t\n\t/***/ },\n\t/* 88 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\tvar core        = __webpack_require__(11)\n\t\t  , $           = __webpack_require__(8)\n\t\t  , DESCRIPTORS = __webpack_require__(54)\n\t\t  , SPECIES     = __webpack_require__(59)('species');\n\t\t\n\t\tmodule.exports = function(KEY){\n\t\t  var C = core[KEY];\n\t\t  if(DESCRIPTORS && C && !C[SPECIES])$.setDesc(C, SPECIES, {\n\t\t    configurable: true,\n\t\t    get: function(){ return this; }\n\t\t  });\n\t\t};\n\t\n\t/***/ },\n\t/* 89 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar ITERATOR     = __webpack_require__(59)('iterator')\n\t\t  , SAFE_CLOSING = false;\n\t\t\n\t\ttry {\n\t\t  var riter = [7][ITERATOR]();\n\t\t  riter['return'] = function(){ SAFE_CLOSING = true; };\n\t\t  Array.from(riter, function(){ throw 2; });\n\t\t} catch(e){ /* empty */ }\n\t\t\n\t\tmodule.exports = function(exec, skipClosing){\n\t\t  if(!skipClosing && !SAFE_CLOSING)return false;\n\t\t  var safe = false;\n\t\t  try {\n\t\t    var arr  = [7]\n\t\t      , iter = arr[ITERATOR]();\n\t\t    iter.next = function(){ safe = true; };\n\t\t    arr[ITERATOR] = function(){ return iter; };\n\t\t    exec(arr);\n\t\t  } catch(e){ /* empty */ }\n\t\t  return safe;\n\t\t};\n\t\n\t/***/ },\n\t/* 90 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t\"use strict\";\n\t\t/**\n\t\t * Defines an Object type using a named constructor function.\n\t\t * @module\n\t\t */\n\t\t\n\t\t/**\n\t\t * Constructs an object with methods bound to a context.\n\t\t * @arg {object} _from - Object with methods to bind.\n\t\t * @arg {object} _to - Context which methtods should be bound to.\n\t\t */\n\t\t\n\t\tvar _Object$defineProperty = __webpack_require__(91)['default'];\n\t\t\n\t\tvar _Object$keys = __webpack_require__(33)['default'];\n\t\t\n\t\tvar _Object$create = __webpack_require__(20)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\texports['default'] = type;\n\t\tfunction Bindings(_from, _to) {\n\t\t\tvar method;\n\t\t\n\t\t\t// pull all methods from the prototype chain.\n\t\t\tfor (method in _from) {\n\t\t\t\tif (typeof _from[method] !== 'function') continue;\n\t\t\t\tthis[method] = _from[method].bind(_to);\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\t * Takes an itterable object and convert it into an Array.\n\t\t * @arg {object} _itterable\n\t\t * @returns {array}\n\t\t */\n\t\tfunction toArray(_itterable) {\n\t\t\treturn [].map.call(_itterable, function (m) {\n\t\t\t\treturn m;\n\t\t\t});\n\t\t}\n\t\t\n\t\t/**\n\t\t * Converts a constructor function into an object \"type\". Which addapts the constructor with and interface for creating instsances and extension.\n\t\t * @arg {function} _constructor... - any number of constructor functions.\n\t\t * @returns The constructor or an object containing all the defined types.\n\t\t */\n\t\t\n\t\tfunction type() {\n\t\t\tvar defs, module;\n\t\t\n\t\t\t/**\n\t\t  * Constructs an interface which is accesed through the constructors arguments.\n\t\t  * These arguments are parsed from the function string and collected into an array.\n\t\t  * @arg {function} _constructor\n\t\t  * @returns {array} The collection of API functions requested by the constructor.\n\t\t  */\n\t\t\tfunction createApi(_constructor) {\n\t\t\t\tvar args, api;\n\t\t\n\t\t\t\t// Matches the names of the arguments defined in the source of the function.\n\t\t\t\t// [^\\(\\)\\.\\s,]+ captures one or more of any character which is NOT a parenthetical, period, white-space character, or comma.\n\t\t\t\t// It then takes that rule and looks for multiple intances w/o spaces or commas around it, which would be encased in parenthensies.\n\t\t\t\t// NOTE: since this regex is not matching globally, it will not match any argument clusters past the function definition.\n\t\t\t\targs = (Function.prototype.toString.call(_constructor).match(/\\(((?:\\s*[^\\(\\)\\.\\s,]+\\s*,?)+)\\)/) || ['', ''])[1].split(/\\s*,\\s*/);\n\t\t\t\tapi = {\n\t\t\t\t\t/**\n\t\t    * Invokes the specified method closest in the prototype chain. Allowing you to still invoke a method which was overridden.\n\t\t    *\n\t\t    * @arg {object} _obj - The context which to find the parent function.\n\t\t    * @arg {string} _name - The method name.\n\t\t    * @arg {array} _args - A collection of arguments to invoke the method with\n\t\t    * @returns {*} Whatever the caller returns.\n\t\t    *\n\t\t    * @example \n\t\t    * Car.extend(function Ford (proto) {\n\t\t    *     this.drive = function () {\n\t\t    *         proto(this, 'drive', arguments);\n\t\t    *         // do some opps.\n\t\t    *     };\n\t\t    * });\n\t\t    */\n\t\t\t\t\tproto: function proto(_obj, _name, _args) {\n\t\t\t\t\t\tvar proto, method;\n\t\t\n\t\t\t\t\t\tproto = Object.getPrototypeOf(this || _obj);\n\t\t\t\t\t\tmethod = proto[_name];\n\t\t\n\t\t\t\t\t\tif (typeof _obj[_name] !== 'function') {\n\t\t\t\t\t\t\tthrow new TypeError('Member ' + _name + ' is not a function.');\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tif (method) {\n\t\t\t\t\t\t\t// Does _obj's prototype have the method and it's not the same reference as _obj.\n\t\t\t\t\t\t\tif (proto.hasOwnProperty(_name) && _obj[_name] !== proto[_name]) {\n\t\t\t\t\t\t\t\treturn _args ? method.apply(_obj, _args) : method.bind(_obj);\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t// Otherwise, walk the prototype chain to find the prototype that has the parent method.\n\t\t\t\t\t\t\twhile (proto) {\n\t\t\t\t\t\t\t\tif (proto.hasOwnProperty(_name) && _obj[_name] !== proto[_name]) {\n\t\t\t\t\t\t\t\t\treturn _args ? method.apply(_obj, _args) : method.bind(_obj);\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\tproto = Object.getPrototypeOf(proto);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn new Bindings(proto, _obj);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t/**\n\t\t    * Invokes the specified method which lives on the object type's prototype.\n\t\t    * If your instance overrides the object types method, or your many prototype\n\t\t    * levels away from the base prototype, this lets you track back to the original.\n\t\t    *\n\t\t    * @arg {object} _obj - The context which to find the parent function.\n\t\t    * @arg {string} _name - The method name.\n\t\t    * @arg {array} _args - A collection of arguments to invoke the method with\n\t\t    * @returns {*} Whatever the caller returns.\n\t\t    */\n\t\t\t\t\tbase: function base(_obj, _name, _args) {\n\t\t\t\t\t\tvar proto, method;\n\t\t\n\t\t\t\t\t\tproto = _constructor.prototype;\n\t\t\t\t\t\tmethod = proto[_name];\n\t\t\n\t\t\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\t\t\tthrow new TypeError('Member ' + _name + ' is not a function.');\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tif (method) {\n\t\t\t\t\t\t\treturn _args ? method.apply(_obj, _args) : method.bind(_obj);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn new Bindings(proto, _obj);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t/**\n\t\t    * Invokes the specified method on the object type's super type or parent type (i.e. Ford extending Car).\n\t\t    * @arg {object} _obj - The context which to find the parent function.\n\t\t    * @arg {string} _name - The method name.\n\t\t    * @arg {array} _args - A collection of arguments to invoke the method with\n\t\t    * @returns {*} Whatever the caller returns.\n\t\t    */\n\t\t\t\t\tsup: function sup(_obj, _name, _args) {\n\t\t\t\t\t\treturn api.proto.apply(_constructor.prototype, arguments);\n\t\t\t\t\t},\n\t\t\t\t\t/**\n\t\t    * Defines a properpty which is configured `{configureable: false, writeable: false}`.\n\t\t    * @arg {object} _obj - The context which to define members.\n\t\t    * @arg {string} _name - The member name.\n\t\t    * @arg {*} _value - The value.\n\t\t    * @returns api\n\t\t    */\n\t\t\t\t\tconstant: function constant(_obj, _name, _value) {\n\t\t\t\t\t\t_Object$defineProperty(_obj, _name, {\n\t\t\t\t\t\t\tvalue: _value,\n\t\t\t\t\t\t\tconfigureable: false,\n\t\t\t\t\t\t\twriteable: false\n\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\treturn api;\n\t\t\t\t\t},\n\t\t\t\t\t/**\n\t\t    * Defines members on the constructor.\n\t\t    * @function static\n\t\t    * @overload\n\t\t    * @arg {string} _name - The member name.\n\t\t    * @arg {*} _value - The value.\n\t\t    * @returns api\n\t\t    */\n\t\t\n\t\t\t\t\t/**\n\t\t    * Defines members on the constructor.\n\t\t    * @arg {object} _def - An object with members to mixin.\n\t\t    * @returns api\n\t\t    */\n\t\t\t\t\t'static': function _static(_name_def, _value) {\n\t\t\t\t\t\tvar member, _name, _def;\n\t\t\n\t\t\t\t\t\t_value ? _name = _name_def : _def = _name_def;\n\t\t\n\t\t\t\t\t\tif (_def) {\n\t\t\t\t\t\t\tfor (member in _def) {\n\t\t\t\t\t\t\t\tif (!_def.hasOwnProperty(member)) continue;\n\t\t\t\t\t\t\t\t_constructor[member] = _def[member];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tif (_name) {\n\t\t\t\t\t\t\t_constructor[_name] = _value;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\treturn api;\n\t\t\t\t\t},\n\t\t\t\t\t/**\n\t\t    * A pretty way of define the interface of your object type.\n\t\t    *\n\t\t    * You may pass any number of arguments as functions or strings.\n\t\t    * \n\t\t    * **Example**\n\t\t    * ```javascript\n\t\t    * function Car ($) {$(\n\t\t    *     // Defines a member assigned to `null`.\n\t\t    *     'name',\n\t\t    *     // Defines members with values as a string and number. Keep in mind these are put on the prototype.\n\t\t    *     'engineType = \"standard\", speed = 0',\n\t\t    *\n\t\t    *     // Define instance members.\n\t\t    *     function alloc (_name) {\n\t\t    *         this.name = _name;\n\t\t    *     },\n\t\t    *\n\t\t    *     function drive () {\n\t\t    *         this.speed += 1;\n\t\t    *     }\n\t\t    * )}\n\t\t    * ```\n\t\t    *\n\t\t    * One benefit to this interface is that all your methods are named so you have easy access for recursive programs.\n\t\t    * @arg {string|function} _def - A string of property definitions or a named function.\n\t\t    * @todo Support property assignment in alloc. Micah: 2/24/2016\n\t\t    */\n\t\t\t\t\t$: function $() {\n\t\t\t\t\t\tvar args = toArray(arguments);\n\t\t\n\t\t\t\t\t\targs.forEach(function (_member) {\n\t\t\t\t\t\t\tvar memberType, props, key;\n\t\t\n\t\t\t\t\t\t\tmemberType = typeof _member;\n\t\t\n\t\t\t\t\t\t\tswitch (memberType) {\n\t\t\t\t\t\t\t\tcase 'string':\n\t\t\t\t\t\t\t\t\tprops = _member.split(/\\s*,\\s*/);\n\t\t\n\t\t\t\t\t\t\t\t\tif (props) {\n\t\t\t\t\t\t\t\t\t\tprops.forEach(function (_def) {\n\t\t\t\t\t\t\t\t\t\t\tvar prop, val;\n\t\t\n\t\t\t\t\t\t\t\t\t\t\tprop = _def.split(/\\s*[:=]\\s*/);\n\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\tval = JSON.parse(prop[1]);\n\t\t\t\t\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t\t\t\t\t\t_constructor.prototype[prop[0]] = typeof prop[1] !== 'undefined' ? val || prop[1] : null;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\t\t\t\tfor (key in _member) {\n\t\t\t\t\t\t\t\t\t\tif (!_member.hasOwnProperty(key)) continue;\n\t\t\t\t\t\t\t\t\t\t_constructor.prototype[key] = _member[key];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\t\tcase 'function':\n\t\t\t\t\t\t\t\t\tif (!_member.name) throw TypeError('Member must be a named function.');\n\t\t\t\t\t\t\t\t\t_constructor.prototype[_member.name] = _member;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\treturn api;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\treturn args.map(function (_call) {\n\t\t\t\t\treturn api[_call] || module[_call];\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tdefs = toArray(arguments);\n\t\t\tmodule = !this ? {} : this;\n\t\t\n\t\t\tdefs.forEach(function (_constructor) {\n\t\t\t\tvar api;\n\t\t\n\t\t\t\tif (typeof _constructor === 'object') {\n\t\t\t\t\tvar Super,\n\t\t\t\t\t    keys = _Object$keys(_constructor);\n\t\t\n\t\t\t\t\tif (keys.length === 1 && module[keys[0]]) {\n\t\t\t\t\t\tSuper = module[keys[0]];\n\t\t\t\t\t\treturn Super.extend.call(module, _constructor[keys[0]]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tapi = createApi(_constructor);\n\t\t\n\t\t\t\t/**\n\t\t   * Creates a new instance of the constructor prototype.\n\t\t   * This also invokes the `alloc()` on the instance so you can define instance props.\n\t\t   * @arg {*} ... - Any number of arguments for `alloc()`.\n\t\t   * @returns instance\n\t\t   */\n\t\t\t\t_constructor.create = function () {\n\t\t\t\t\tvar instance = _Object$create(_constructor.prototype);\n\t\t\t\t\tif (typeof instance.alloc === 'function') instance.alloc.apply(instance, arguments);\n\t\t\t\t\treturn instance;\n\t\t\t\t};\n\t\t\n\t\t\t\t/**\n\t\t   * Extends the provided constructor prototype.\n\t\t   * @arg {function} _definition - Constructor for the object type.\n\t\t   * @returns _constructor\n\t\t   */\n\t\t\t\t_constructor.extend = function (_definition) {\n\t\t\t\t\t_definition.prototype = _Object$create(_constructor.prototype, {\n\t\t\t\t\t\tconstructor: {\n\t\t\t\t\t\t\tvalue: _definition,\n\t\t\t\t\t\t\tenumerable: false,\n\t\t\t\t\t\t\twriteable: false,\n\t\t\t\t\t\t\tconfigureable: false\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\treturn type.call(this === _constructor ? null : this, _definition);\n\t\t\t\t};\n\t\t\n\t\t\t\t_constructor.apply(_constructor.prototype, api);\n\t\t\n\t\t\t\tmodule[_constructor.name] = _constructor;\n\t\t\t});\n\t\t\n\t\t\treturn defs.length > 1 ? module : defs[0];\n\t\t}\n\t\t\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 91 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = { \"default\": __webpack_require__(92), __esModule: true };\n\t\n\t/***/ },\n\t/* 92 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar $ = __webpack_require__(8);\n\t\tmodule.exports = function defineProperty(it, key, desc){\n\t\t  return $.setDesc(it, key, desc);\n\t\t};\n\t\n\t/***/ },\n\t/* 93 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Base class for a scope acting as an \"entity\" with \"states\", \"behaviors\" and the ability to respond (responsibilities) to behaviors.\n\t\t *\n\t\t * @module\n\t\t */\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesGlobalScope = __webpack_require__(30);\n\t\t\n\t\tvar _typesGlobalScope2 = _interopRequireDefault(_typesGlobalScope);\n\t\t\n\t\tvar _typesCollection = __webpack_require__(29);\n\t\t\n\t\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\t\n\t\tvar _typesDimensions = __webpack_require__(14);\n\t\t\n\t\tvar _typesQueue = __webpack_require__(40);\n\t\t\n\t\tvar _typesQueue2 = _interopRequireDefault(_typesQueue);\n\t\t\n\t\tfunction invokeResponsibilities(_scope, _event) {\n\t\t\tif (_scope && _scope.responsibilities && _scope.isMemberSafe('responsibilities')) {\n\t\t\t\t_scope.responsibilities.forEach(function (_record) {\n\t\t\t\t\tif (_record.name === _event.name) {\n\t\t\n\t\t\t\t\t\t// console.log(_scope.id(), 'respond', _record.name, 'from', _event.targetScope.id());\n\t\t\t\t\t\t_record.ability.call(_scope, _event);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\t * <span class=\"note important\">NOTE: This is NOT a constructor. Use `Entity.create()` to get a new instance.</span>\n\t\t * @classdesc Base class for a scope acting as an \"entity\" with \"states\", \"behaviors\" and the ability to respond (responsibilities) to behaviors. For more information on these terms read [this]{@link module:types/Entity}.\n\t\t * <style>\n\t\t * .tag {\n\t\t *   padding: 1px 4px;\n\t\t *   border-radius: 4px;\n\t\t *\n\t\t *   color: #fff;\n\t\t *   background-color: #aaa;\n\t\t * }\n\t\t *\n\t\t * .tag.behavior {\n\t\t *\t background-color: #0ba;\n\t\t * }\n\t\t *\n\t\t * .tag.state {\n\t\t *\t background-color: #ba0;\n\t\t * }\n\t\t *\n\t\t * .note {\n\t\t *   border: solid 1px;\n\t\t *   border-radius: 4px;\n\t\t *   padding: 1px 4px;\n\t\t *   color: #aaa;\n\t\t *   background-color: #eee;\n\t\t * }\n\t\t * \n\t\t * .note.important {\n\t\t *   color: #b55;\n\t\t *   background-color: #fee;\n\t\t * }\n\t\t * </style>\n\t\t *\n\t\t * @class\n\t\t * @prop {module:types/Collection~Collection} responsibilities - A collection of ResponsibilityRecords for the scope.\n\t\t * @prop {boolean} isComplete - Marks a scope as \"complete\" via the [`complete()`]{@link module:types/Entity~Entity#complete} behavior.\n\t\t * @extends GlobalScope\n\t\t */\n\t\tvar Entity = _typesGlobalScope2['default'].extend(function () {\n\t\t\n\t\t\tfunction resolveTarget(_target) {\n\t\t\n\t\t\t\tswitch (typeof _target) {\n\t\t\t\t\tcase 'string':\n\t\t\t\t\t\treturn this.findOwn(_target);\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tif (_target.jquery) return _target;\n\t\t\t\t\t\tif (Entity.isPrototypeOf(_target)) return _target;\n\t\t\t\t\t\tif (_target.nodeType === document.ELEMENT_NODE) return $(_target);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\n\t\t\tfunction ResponsibilityRecord(_name, _ability) {\n\t\t\t\tthis.name = _name;\n\t\t\t\tthis.ability = _ability;\n\t\t\t}\n\t\t\n\t\t\tfunction dragGreeter(_event) {\n\t\t\t\tswitch (_event.type) {\n\t\t\t\t\tcase 'drag-start':\n\t\t\t\t\t\tthis.grab(_event.state);\n\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\tcase 'drag-move':\n\t\t\t\t\t\tthis.dragging(_event.state);\n\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\tcase 'drag-end':\n\t\t\t\t\t\tthis.release(_event.state);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction attachDragEvents() {\n\t\t\t\tif (this.draggables && this.isMemberSafe('draggables') && this.draggables.length) {\n\t\t\t\t\tthis.on('drag-start drag-move drag-end', dragGreeter);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tthis.baseType = 'TYPE_ENTITY';\n\t\t\tthis.STATE = {\n\t\t\t\tPLAYING: 'PLAYING',\n\t\t\t\tBACKGROUND: 'BACKGROUND',\n\t\t\t\tVOICE_OVER: 'VOICE-OVER',\n\t\t\t\tSFX: 'SFX'\n\t\t\t};\n\t\t\n\t\t\tthis.timeoutID = null;\n\t\t\tthis.intervalID = null;\n\t\t\tthis.responsibilities = null;\n\t\t\tthis.isComplete = false;\n\t\t\tthis.shouldInheritAbilities = true;\n\t\t\tthis.frameHandlers = null;\n\t\t\tthis.frameRate = 60; // 60fps\n\t\t\tthis.draggables = null;\n\t\t\tthis.requiredQueue = null;\n\t\t\tthis.bgImageCollection = null;\n\t\t\n\t\t\tthis.handleProperty({\n\t\t\t\tsize: function size(_node, _name, _value) {\n\t\t\t\t\tvar size;\n\t\t\n\t\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\t\tsize = _value.split(/\\s*[x,]\\s*/);\n\t\t\t\t\t\tthis.css({\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\theight: size[1] || size[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\n\t\t\t\tposition: function position(_node, _name, _value) {\n\t\t\t\t\tvar size;\n\t\t\n\t\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\t\tsize = _value.split(/\\s*[x,]\\s*/);\n\t\t\t\t\t\tthis.css({\n\t\t\t\t\t\t\ttop: size[1] || size[0],\n\t\t\t\t\t\t\tleft: size[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\n\t\t\t\tdraggable: function draggable(_node, _name, _value) {\n\t\t\t\t\tif (!this.hasOwnProperty('draggables')) {\n\t\t\t\t\t\tthis.draggables = $();\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tthis.draggables.push(_node);\n\t\t\t\t},\n\t\t\n\t\t\t\tbg: function bg(_node, _name, _value) {\n\t\t\t\t\tvar img = new Image();\n\t\t\n\t\t\t\t\tif (!this.hasOwnProperty('bgImageCollection')) this.bgImageCollection = [];\n\t\t\n\t\t\t\t\tif (this.isMemberSafe('bgImageCollection')) {\n\t\t\t\t\t\timg.src = _value;\n\t\t\t\t\t\tthis.bgImageCollection.push(img);\n\t\t\t\t\t\t$(_node).css('background-image', 'url(' + _value + ')');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\tthis.__init = function (_event) {\n\t\t\t\tif (this.bgImageCollection && this.isMemberSafe('bgImageCollection')) {\n\t\t\t\t\tthis.watchAssets(this.bgImageCollection);\n\t\t\t\t}\n\t\t\t\tattachDragEvents.call(this);\n\t\t\n\t\t\t\treturn this.proto();\n\t\t\t};\n\t\t\n\t\t\tthis.size = function () {\n\t\t\t\tvar size;\n\t\t\n\t\t\t\tif (arguments.length) {\n\t\t\t\t\tsize = _typesDimensions.Size.create(arguments);\n\t\t\t\t\tthis.css(size);\n\t\t\t\t\treturn size;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn _typesDimensions.Size.create().set(this.width(), this.height());\n\t\t\t};\n\t\t\n\t\t\tthis.propagateBehavior = function (_event) {\n\t\t\t\tvar ids;\n\t\t\n\t\t\t\tids = [];\n\t\t\n\t\t\t\tthis.findOwn('.pl-scope').each(function (_index, _node) {\n\t\t\t\t\tvar $node = $(_node);\n\t\t\t\t\tids.push($node.id() || $node.address());\n\t\t\t\t});\n\t\t\n\t\t\t\tif (this.hasOwnProperty('entities') && this.entities.length) {\n\t\t\t\t\t// console.log(this.id(), 'propagate', _event.name, 'to', this.entities.length, 'nodes', ids);\n\t\t\n\t\t\t\t\tthis.entities.forEach(function (_scope) {\n\t\t\t\t\t\tinvokeResponsibilities(_scope, _event);\n\t\t\t\t\t\t_scope.propagateBehavior(_event);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.require = function (_entity) {\n\t\t\t\tif (!this.hasOwnProperty('requiredQueue')) {\n\t\t\t\t\tthis.requiredQueue = _typesQueue2['default'].create();\n\t\t\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\t\t\tthis.log('entity complete');\n\t\t\t\t\t\tthis.complete();\n\t\t\t\t\t}));\n\t\t\n\t\t\t\t\tthis.respond('complete', function (_event) {\n\t\t\t\t\t\tif (!this.has(_event.target)) return;\n\t\t\t\t\t\tif (_event.targetScope === this) return;\n\t\t\n\t\t\t\t\t\tthis.requiredQueue.ready(_event.behaviorTarget);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.requiredQueue.add(_entity);\n\t\t\t\tthis.gate();\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.behavior = function (_name, _behavior) {\n\t\t\t\t_behavior.method = this[_name] = function () {\n\t\t\t\t\tvar behaviorEvent, result;\n\t\t\n\t\t\t\t\tbehaviorEvent = {\n\t\t\t\t\t\tname: _name,\n\t\t\t\t\t\tmessage: '',\n\t\t\t\t\t\ttargetScope: this,\n\t\t\t\t\t\tbehaviorTarget: this\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tresult = _behavior.apply(this, arguments);\n\t\t\n\t\t\t\t\tif (typeof result === 'object') {\n\t\t\t\t\t\tbehaviorEvent = _util2['default'].mixin(behaviorEvent, result);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (result !== false) {\n\t\t\t\t\t\tthis.trigger($.Event('behavior', behaviorEvent));\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.respond = function () {\n\t\t\t\tvar name, ability, parentScope, abilities, protoAbilities;\n\t\t\n\t\t\t\tif (!this.hasOwnProperty('responsibilities')) {\n\t\t\t\t\tabilities = _typesCollection2['default'].create();\n\t\t\t\t\tprotoAbilities = this.provideAblilityPototype();\n\t\t\n\t\t\t\t\tif (this.shouldInheritAbilities && protoAbilities && protoAbilities.responsibilities) {\n\t\t\t\t\t\tabilities.push.apply(abilities, protoAbilities.responsibilities);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tthis.responsibilities = abilities;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (arguments.length === 1) {\n\t\t\t\t\tswitch (typeof arguments[0]) {\n\t\t\t\t\t\tcase 'string':\n\t\t\t\t\t\t\tname = arguments[0];break;\n\t\t\n\t\t\t\t\t\tcase 'function':\n\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\t\tability = arguments[0];break;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tname = arguments[0];\n\t\t\t\t\tability = arguments[1];\n\t\t\t\t}\n\t\t\n\t\t\t\tswitch (typeof ability) {\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tfor (name in ability) {\n\t\t\t\t\t\t\tif (!ability.hasOwnProperty(name)) continue;\n\t\t\n\t\t\t\t\t\t\tthis.respond(name, ability[name]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\tcase 'function':\n\t\t\t\t\t\tthis.responsibilities.add(new ResponsibilityRecord(name, ability));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.delay = function (_time, _cb) {\n\t\t\t\tvar time = _util2['default'].toMillisec(_time);\n\t\t\n\t\t\t\t_util2['default'].assignRef(this, 'timeoutID', setTimeout(_cb.bind(this), time));\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.repeat = function (_time, _cb) {\n\t\t\t\tvar time = _util2['default'].toMillisec(_time);\n\t\t\n\t\t\t\t_util2['default'].assignRef(this, 'intervalID', setInterval(_cb.bind(this), time));\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.kill = function (_timer) {\n\t\t\t\tvar id = _timer === 'repeat' ? this.intervalID : this.timeoutID;\n\t\t\n\t\t\t\tif (typeof id === 'number') {\n\t\t\t\t\t(_timer === 'repeat' ? clearInterval : clearTimeout)(id);\n\t\t\t\t\tthis[_timer === 'repeat' ? 'intervalID' : 'timeoutID'] = null;\n\t\t\t\t} else if (id) {\n\t\t\t\t\tid.forEach(function (_id) {\n\t\t\t\t\t\t(_timer === 'repeat' ? clearInterval : clearTimeout)(_id);\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\t_timer === 'repeat' ? this.intervalID = null : this.timeoutID = null;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.eachFrame = function (_handler, _on) {\n\t\t\t\tvar binder, frame, lastTime, rate, frames;\n\t\t\n\t\t\t\trate = this.frameRate || 1000;\n\t\t\t\tframes = 0;\n\t\t\t\tlastTime = 0;\n\t\t\n\t\t\t\tif (!this.hasOwnProperty('frameHandlers') || this.frameHandlers.length === 0) {\n\t\t\t\t\tframe = function (_time) {\n\t\t\t\t\t\tvar i, handler;\n\t\t\n\t\t\t\t\t\tif (rate) {\n\t\t\t\t\t\t\tif (_time - lastTime >= 1000 / rate) {\n\t\t\t\t\t\t\t\tfor (i = 0; handler = this.frameHandlers[i]; i += 1) {\n\t\t\t\t\t\t\t\t\thandler.call(this, _time, Math.round(1000 / (_time - lastTime)), rate);\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\tif (frames === rate) frames = 0;\n\t\t\n\t\t\t\t\t\t\t\tframes += 1;\n\t\t\t\t\t\t\t\tlastTime = _time;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tif (this.frameHandlers.length) {\n\t\t\t\t\t\t\twindow.requestAnimationFrame(binder);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tbinder = this.bind(frame);\n\t\t\n\t\t\t\t\t// allows methods passed as _handler's to\n\t\t\t\t\t// be able to trace back for proto() callbacks.\n\t\t\t\t\tframe.method = this.eachFrame;\n\t\t\n\t\t\t\t\tthis.frameHandlers = _typesCollection2['default'].create();\n\t\t\t\t\twindow.requestAnimationFrame(binder);\n\t\t\t\t}\n\t\t\n\t\t\t\tif (_on !== false) {\n\t\t\t\t\tthis.frameHandlers.add(_handler);\n\t\t\t\t} else {\n\t\t\t\t\tthis.frameHandlers.remove(_handler);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.state = function (_flag, _definition, _imp) {\n\t\t\t\tvar flag, tester, setter, getter, STATE, def, opperations, names;\n\t\t\n\t\t\t\tif (!_definition) {\n\t\t\t\t\treturn this.proto(_flag);\n\t\t\t\t}\n\t\t\n\t\t\t\tdef = _definition.split(/\\s+/);\n\t\t\t\tnames = _flag.split(/\\s+/);\n\t\t\t\topperations = [];\n\t\t\n\t\t\t\tdef.forEach(this.bind(function (_opp) {\n\t\t\t\t\tvar method, flag;\n\t\t\n\t\t\t\t\tmethod = _opp.slice(0, 1) === '+' ? 'addClass' : 'removeClass';\n\t\t\n\t\t\t\t\topperations.push({\n\t\t\t\t\t\tmethod: method,\n\t\t\t\t\t\tflag: _opp.slice(1)\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tif (method === 'addClass') {\n\t\t\t\t\t\tflag = _opp.slice(1);\n\t\t\t\t\t\tSTATE = _util2['default'].transformId(flag);\n\t\t\t\t\t\tthis.STATE[STATE] = flag;\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\n\t\t\t\tsetter = names[0];\n\t\t\t\ttester = names[1];\n\t\t\n\t\t\t\tthis[setter] = function (_target) {\n\t\t\t\t\tvar target, uiStateEvent, oppsPerformed;\n\t\t\n\t\t\t\t\ttarget = resolveTarget.call(this, _target);\n\t\t\t\t\tuiStateEvent = $.Event('ui-' + setter, {\n\t\t\t\t\t\ttarget: target.jquery ? target[0] : target,\n\t\t\t\t\t\ttargetScope: this\n\t\t\t\t\t});\n\t\t\t\t\toppsPerformed = 0;\n\t\t\n\t\t\t\t\tif (_imp && _imp.shouldSet && _imp.shouldSet.apply(this, arguments) === false) {\n\t\t\t\t\t\treturn !!(_imp && _imp.notSet) && _imp.notSet.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (_imp && _imp.willSet) _imp.willSet.apply(this, arguments);\n\t\t\n\t\t\t\t\topperations.forEach(function (_record) {\n\t\t\t\t\t\t// If we are adding or removing a class, test if the target already has/removed it.\n\t\t\t\t\t\t// If so, then bump \"oppsPerformed\".\n\t\t\t\t\t\toppsPerformed += Number(target.hasClass(_record.flag) === ! ~_record.method.indexOf('add'));\n\t\t\t\t\t\ttarget[_record.method](_record.flag);\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tif (_imp && _imp.didSet) _imp.didSet.apply(this, arguments);\n\t\t\n\t\t\t\t\tif (oppsPerformed) {\n\t\t\t\t\t\tthis.trigger(uiStateEvent);\n\t\t\t\t\t\treturn target;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\n\t\t\t\tif (tester) {\n\t\t\t\t\tgetter = 'get' + tester.slice(0, 1).toUpperCase() + tester.slice(1);\n\t\t\n\t\t\t\t\tthis[tester] = function (_target) {\n\t\t\t\t\t\tvar target;\n\t\t\n\t\t\t\t\t\ttarget = resolveTarget.call(this, _target);\n\t\t\n\t\t\t\t\t\treturn target.hasClass(this.STATE[STATE]);\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tthis[getter] = function () {\n\t\t\t\t\t\treturn this.findOwn('.' + this.STATE[STATE]);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.provideBehaviorEventScope = function () {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.provideAblilityPototype = function () {\n\t\t\t\tvar owner;\n\t\t\n\t\t\t\towner = _util2['default'].getOwner(this, this.baseType);\n\t\t\n\t\t\t\treturn !!owner && owner.object;\n\t\t\t};\n\t\t\n\t\t\tthis.completed = function () {\n\t\t\t\treturn this.game.demoMode || this.hasOwnProperty('isComplete') && this.isComplete || !this.requiredQueue || this.hasOwnProperty('requiredQueue') && this.requiredQueue.length === 0;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag behavior\">Behavior</span>\n\t\t  * Marks a scope \"complete\" by seting `isComplete` to `true` and add the `COMPLETE` state flag.\n\t\t  * @function module:types/Entity~Entity#complete\n\t\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t\t  */\n\t\t\tthis.behavior('complete', function () {\n\t\t\t\tif (this.hasOwnProperty('isComplete') && this.isComplete) return false;\n\t\t\n\t\t\t\tthis.isComplete = true;\n\t\t\t\tthis.addClass('COMPLETE');\n\t\t\n\t\t\t\treturn {\n\t\t\t\t\tbehaviorTarget: this\n\t\t\t\t};\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag behavior\">Behavior</span>\n\t\t  * Reports a drggable has been grabbed for dragging.\n\t\t  * @function module:types/Entity~Entity#grab\n\t\t  * @arg {object} _state - An object containing the state of a draggable.\n\t\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t\t  *\n\t\t  * @see module:play~pl.game.manager.draggable for more info on draggable state.\n\t\t  */\n\t\t\tthis.behavior('grab', function (_state) {\n\t\t\t\treturn {\n\t\t\t\t\tstate: _state,\n\t\t\t\t\tbehaviorTarget: _state.$draggable\n\t\t\t\t};\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag behavior\">Behavior</span>\n\t\t  * Reports a draggable as being dragged.\n\t\t  * @function module:types/Entity~Entity#dragging\n\t\t  * @arg {object} _state - An object containing the state of a draggable.\n\t\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t\t  *\n\t\t  * @see module:play~pl.game.manager.draggable for more info on draggable state.\n\t\t  */\n\t\t\tthis.behavior('dragging', function (_state) {\n\t\t\t\treturn {\n\t\t\t\t\tstate: _state,\n\t\t\t\t\tbehaviorTarget: _state.$draggable\n\t\t\t\t};\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag behavior\">Behavior</span>\n\t\t  * Reports a drggable as released or droped.\n\t\t  * @function module:types/Entity~Entity#release\n\t\t  * @arg {object} _state - An object containing the state of a draggable.\n\t\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t\t  *\n\t\t  * @see module:play~pl.game.manager.draggable for more info on draggable state.\n\t\t  */\n\t\t\tthis.behavior('release', function (_state) {\n\t\t\t\treturn {\n\t\t\t\t\tstate: _state,\n\t\t\t\t\tbehaviorTarget: _state.$draggable\n\t\t\t\t};\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds `OPEN` and removes the `LEAVE` CSS class names from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#open\n\t\t  * @fires Entity#ui-open\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `OPEN` class name.\n\t\t  * @function module:types/Entity~Entity#opened\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Open'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `OPEN` class name.\n\t\t  * @function module:types/Entity~Entity#getOpened\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('open opened', '+OPEN -LEAVE');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Removes the `OPEN` CSS class name from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#close\n\t\t  * @fires Entity#ui-close\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.state('close', '-OPEN');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds the `LEAVE` CSS class name to the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#leave\n\t\t  * @fires Entity#ui-leave\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `LEAVE` class name.\n\t\t  * @function module:types/Entity~Entity#left\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Leave'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `LEAVE` class name.\n\t\t  * @function module:types/Entity~Entity#getLeft\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('leave left', '+LEAVE', {\n\t\t\t\twillSet: function willSet(_target) {\n\t\t\t\t\tthis.close(_target);\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds `ENABLED` and removes the `DISABLED` CSS class names from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#enable\n\t\t  * @fires Entity#ui-enable\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `ENABLED` class name.\n\t\t  * @function module:types/Entity~Entity#enabled\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Enabled'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `ENABLED` class name.\n\t\t  * @function module:types/Entity~Entity#getEnabled\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('enable enabled', '+ENABLED -DISABLED');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds `DISABLED` and removes the `ENABLED` CSS class names from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#disable\n\t\t  * @fires Entity#ui-disable\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `DISABLED` class name.\n\t\t  * @function module:types/Entity~Entity#disabled\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Disabled'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `DISABLED` class name.\n\t\t  * @function module:types/Entity~Entity#getDisabled\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('disable disabled', '+DISABLED -ENABLED');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds the `SELECTED` CSS class name to the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#select\n\t\t  * @fires Entity#ui-select\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `SELECTED` class name.\n\t\t  * @function module:types/Entity~Entity#selected\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Selected'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `SELECTED` class name.\n\t\t  * @function module:types/Entity~Entity#getDisabled\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('select selected', '+SELECTED', {\n\t\t\t\twillSet: function willSet(_target) {\n\t\t\t\t\tvar target, $parent;\n\t\t\n\t\t\t\t\ttarget = resolveTarget.call(this, _target);\n\t\t\t\t\t$parent = target.parent();\n\t\t\n\t\t\t\t\t$parent.find('> .SELECTED').each(this.bind(function (_index, _node) {\n\t\t\t\t\t\tthis.deselect(_node);\n\t\t\t\t\t}));\n\t\t\t\t\t$parent.find('> .HIGHLIGHTED').each(this.bind(function (_index, _node) {\n\t\t\t\t\t\tthis.unhighlight(_node);\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Removes the `SELECTED` CSS class name from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#deselect\n\t\t  * @fires Entity#ui-deselect\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.state('deselect', '-SELECTED');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds the `HIGHLIGHTED` CSS class name to the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#highlight\n\t\t  * @fires Entity#ui-highlight\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `HIGHLIGHTED` class name.\n\t\t  * @function module:types/Entity~Entity#highlighted\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Highlighted'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `HIGHLIGHTED` class name.\n\t\t  * @function module:types/Entity~Entity#getHighlighted\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('highlight highlighted', '+HIGHLIGHTED');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Removes the `HIGHLIGHTED` CSS class name from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#unhighlight\n\t\t  * @fires Entity#ui-unhighlight\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.state('unhighlight', '-HIGHLIGHTED');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds the `DRAGGABLE` CSS class name to the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#draggable\n\t\t  * @fires Entity#ui-draggable\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `DRAGGABLE` class name.\n\t\t  * @function module:types/Entity~Entity#dragEnabled\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Draggable'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `DRAGGABLE` class name.\n\t\t  * @function module:types/Entity~Entity#getDragEnabled\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('draggable dragEnabled', '+DRAGGABLE', {\n\t\t\t\tdidSet: function didSet(_target) {\n\t\t\t\t\tthis.translate(resolveTarget.call(this, _target));\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Removes the `DRAGGABLE` CSS class name from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#undraggable\n\t\t  * @fires Entity#ui-undraggable\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.state('undraggable', '-DRAGGABLE');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds the `TRANSLATED` CSS class name to the scope or the given `_target`. The target also gets a 2d transform at the given `_point`.\n\t\t  * @function module:types/Entity~Entity#translate\n\t\t  * @fires Entity#ui-translate\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @arg {module:types/Dimensions~Point} _point - Point object with coordinates {x,y}.\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds the `TRANSLATED` CSS class name to the scope. The scope also gets a 2d transform at the given `_point`.\n\t\t  * @function module:types/Entity~Entity#translate\n\t\t  * @fires Entity#ui-translate\n\t\t  * @arg {module:types/Dimensions~Point} _point - Point object with coordinates {x,y}.\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `TRANSLATED` class name.\n\t\t  * @function module:types/Entity~Entity#translated\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Translate'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `TRANSLATED` class name.\n\t\t  * @function module:types/Entity~Entity#getTranslated\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('translate translated', '+TRANSLATED', {\n\t\t\t\twillSet: function willSet(_target_point, _point) {\n\t\t\t\t\tvar point, target;\n\t\t\n\t\t\t\t\ttarget = resolveTarget.call(this, _target_point);\n\t\t\t\t\tpoint = ! ~[_target_point.x, _target_point.y].indexOf(undefined) ? _target_point : _point;\n\t\t\n\t\t\t\t\tif (point) {\n\t\t\t\t\t\ttarget.css('transform', 'translateX(' + point.x + 'px) translateY(' + point.y + 'px)');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Removes the `TRANSLATED` CSS class name and CSS transform from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#untranslate\n\t\t  * @fires Entity#ui-untranslate\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.state('untranslate', '-TRANSLATED', {\n\t\t\t\twillSet: function willSet() {\n\t\t\t\t\tthis.css('transform', 'none');\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\tthis.state('gate gated', '+GATED');\n\t\t});\n\t\t\n\t\texports['default'] = { Entity: Entity, invokeResponsibilities: invokeResponsibilities };\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 94 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t*  Screen\n\t\t*  @desc Contains...\n\t\t*  @proto Entity\n\t\t*/\n\t\t\n\t\tvar _typesEntity = __webpack_require__(93);\n\t\t\n\t\tvar Screen = _typesEntity.Entity.extend(function () {\n\t\t\n\t\t\tfunction attachBehaviorEvent() {\n\t\t\t\tthis.on('behavior', function (_event) {\n\t\t\t\t\t// console.log('SCREEN GOT', _event.targetScope.id(), _event.name);\n\t\t\n\t\t\t\t\tif (this !== _event.targetScope) {\n\t\t\t\t\t\t_typesEntity.invokeResponsibilities(this, _event);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tthis.propagateBehavior(_event);\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tthis.baseType = 'TYPE_SCREEN';\n\t\t\tthis.game = null;\n\t\t\tthis.screen = null;\n\t\t\n\t\t\tthis.__init = function () {\n\t\t\t\tthis.proto();\n\t\t\n\t\t\t\tif (this.is(pl.game.config('screenSelector'))) {\n\t\t\t\t\tattachBehaviorEvent.call(this);\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\tthis.start = function () {\n\t\t\t\tthis.startAudio();\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.stop = function () {\n\t\t\t\tthis.stopAudio();\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.pause = function () {\n\t\t\t\tthis.pauseMedia();\n\t\t\t\tif (this.hasOwnProperty('entities') && this.entities) {\n\t\t\t\t\tthis.entities.forEach(function (entity) {\n\t\t\t\t\t\tentity.pause();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.resume = function () {\n\t\t\t\tthis.resumeMedia();\n\t\t\t\tif (this.hasOwnProperty('entities') && this.entities) {\n\t\t\t\t\tthis.entities.forEach(function (entity) {\n\t\t\t\t\t\tentity.resume();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.startAudio = function () {\n\t\t\t\tif (!this.audio) return;\n\t\t\t\tthis.audio.background.play();\n\t\t\t\tthis.audio.voiceOver.play();\n\t\t\t};\n\t\t\n\t\t\tthis.stopAudio = function () {\n\t\t\t\tif (!this.audio) return;\n\t\t\t\tthis.audio.voiceOver.stop('@ALL');\n\t\t\t};\n\t\t\n\t\t\tthis.pauseMedia = function () {\n\t\t\t\tif (!this.currentMedia) return;\n\t\t\t\tfor (var media in this.currentMedia) {\n\t\t\t\t\tif (this.currentMedia.hasOwnProperty(media)) {\n\t\t\t\t\t\tif (this.currentMedia[media]) this.currentMedia[media].pause();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\tthis.resumeMedia = function () {\n\t\t\t\tif (!this.currentMedia) return;\n\t\t\t\tfor (var media in this.currentMedia) {\n\t\t\t\t\tif (this.currentMedia.hasOwnProperty(media)) {\n\t\t\t\t\t\tif (this.currentMedia[media]) this.currentMedia[media].resume();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\tthis.index = function () {\n\t\t\t\tif (this === this.screen) return this.game.screens.indexOf(this);\n\t\t\t\treturn this.$els.index();\n\t\t\t};\n\t\t\n\t\t\tthis.next = function () {\n\t\t\t\tif (!this.completed()) return false;\n\t\t\t\treturn this.game.screens[this.screen.index() + 1];\n\t\t\t};\n\t\t\n\t\t\tthis.prev = function () {\n\t\t\t\treturn this.game.screens[this.screen.index() - 1];\n\t\t\t};\n\t\t\n\t\t\tthis.quit = function () {\n\t\t\t\tthis.game.quit.open();\n\t\t\t};\n\t\t\n\t\t\tthis.nextSib = function () {\n\t\t\t\treturn $.fn.next.apply(this.$els, arguments);\n\t\t\t};\n\t\t\n\t\t\tthis.prevSib = function () {\n\t\t\t\treturn $.fn.prev.apply(this.$els, arguments);\n\t\t\t};\n\t\t\n\t\t\tthis.isLast = function () {\n\t\t\t\treturn this.game.screens.indexOf(this.screen) === this.game.screens.length - 1;\n\t\t\t};\n\t\t});\n\t\t\n\t\texports['default'] = Screen;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 95 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _Object$defineProperties = __webpack_require__(15)['default'];\n\t\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Node scope for the top level game node.\n\t\t */\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _playGame = __webpack_require__(24);\n\t\t\n\t\tvar _playGame2 = _interopRequireDefault(_playGame);\n\t\t\n\t\tvar _typesGlobalScope = __webpack_require__(30);\n\t\t\n\t\tvar _typesGlobalScope2 = _interopRequireDefault(_typesGlobalScope);\n\t\t\n\t\tvar _typesScreen = __webpack_require__(94);\n\t\t\n\t\tvar _typesScreen2 = _interopRequireDefault(_typesScreen);\n\t\t\n\t\tvar _typesCollection = __webpack_require__(29);\n\t\t\n\t\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\t\n\t\tvar _typesScope = __webpack_require__(31);\n\t\t\n\t\tvar _typesDimensions = __webpack_require__(14);\n\t\t\n\t\tvar _typesAudioManager = __webpack_require__(42);\n\t\t\n\t\tvar Game = _typesGlobalScope2['default'].extend(function () {\n\t\t\n\t\t\tvar Viewport, screenPrototype, platformEventHandler;\n\t\t\n\t\t\t/**\n\t\t  * Detects the device and adds the appropriate state classes.\n\t\t  */\n\t\t\tfunction detechDevice() {\n\t\t\t\tvar deviceClasses = \"\";\n\t\t\n\t\t\t\tif (iOS()) deviceClasses += \"iOS \";\n\t\t\t\tif (mobileOrTablet()) deviceClasses += \"MOBILE \";\n\t\t\n\t\t\t\tthis.addClass(deviceClasses);\n\t\t\t}\n\t\t\n\t\t\tfunction iOS() {\n\t\t\t\tvar iDevices = ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod'];\n\t\t\n\t\t\t\tif (!!navigator.platform) {\n\t\t\t\t\twhile (iDevices.length) {\n\t\t\t\t\t\tif (navigator.platform === iDevices.pop()) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\n\t\t\tfunction mobileOrTablet() {\n\t\t\t\tvar check = false;\n\t\t\t\t(function (a) {\n\t\t\t\t\tif (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n\t\t\t\t})(navigator.userAgent || navigator.vendor || window.opera);\n\t\t\t\treturn check;\n\t\t\t}\n\t\t\n\t\t\t/**\n\t\t  * Scales the game view to fill the browser window.\n\t\t  */\n\t\t\tfunction scaleGame() {\n\t\t\t\tvar vpSize, gameDimensions, width, height, zoom;\n\t\t\n\t\t\t\tvpSize = this.viewport.size();\n\t\t\t\tgameDimensions = _playGame2['default'].config('dimensions');\n\t\t\t\twidth = gameDimensions.width || this.width();\n\t\t\t\theight = Math.round(gameDimensions.width / gameDimensions.ratio);\n\t\t\t\tzoom = this.viewport.width / width;\n\t\t\n\t\t\t\tif (Math.round(height * zoom) > this.viewport.height) {\n\t\t\t\t\tzoom = (this.viewport.height / height).toPrecision(4);\n\t\t\t\t}\n\t\t\n\t\t\t\t_util2['default'].mixin(this.node().style, {\n\t\t\t\t\twidth: width + 'px',\n\t\t\t\t\tzoom: zoom\n\t\t\t\t});\n\t\t\n\t\t\t\tif (!this.css('zoom')) {\n\t\t\t\t\tthis.css({\n\t\t\t\t\t\ttransform: 'scale(' + zoom + ')',\n\t\t\t\t\t\ttransformOrigin: (zoom < 1 ? '0px' : '50%') + ' 0px 0px',\n\t\t\t\t\t\theight: this.viewport.height / zoom\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.zoom = zoom;\n\t\t\t}\n\t\t\n\t\t\tfunction demoMode(_set) {\n\t\t\t\tthis.demoMode = _set != null ? _set : !this.demoMode;\n\t\t\t\tthis[this.demoMode ? 'addClass' : 'removeClass']('DEMO');\n\t\t\n\t\t\t\tconsole.info(this.id(), 'is now ' + (this.demoMode ? 'in' : 'out of') + ' Demo Mode.');\n\t\t\t}\n\t\t\n\t\t\tfunction collectVideos() {\n\t\t\t\tthis.find('video').each((function (_index, _node) {\n\t\t\t\t\tthis.media.video.add(_node);\n\t\t\n\t\t\t\t\t_node.onplay = (function () {\n\t\t\t\t\t\tvar playing = this.media.playing('.background, .voiceOver');\n\t\t\t\t\t\tif (playing) playing.stop('@ALL');\n\t\t\t\t\t\tthis.log('video play', playing);\n\t\t\t\t\t}).bind(this);\n\t\t\t\t}).bind(this));\n\t\t\t}\n\t\t\n\t\t\tscreenPrototype = _typesScreen2['default'];\n\t\t\tplatformEventHandler = new function () {\n\t\t\n\t\t\t\tthis.invoke = function (_event, _ctx) {\n\t\t\t\t\tif (typeof this[_event.name] === 'function') {\n\t\t\t\t\t\tthis[_event.name].call(_ctx, _event);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tthis['toggle-demo-mode'] = function (_set) {\n\t\t\t\t\tdemoMode.call(this);\n\t\t\t\t};\n\t\t\t}();\n\t\t\n\t\t\tthis.baseType = 'TYPE_GAME';\n\t\t\tthis.screens = null;\n\t\t\tthis.zoom = 1;\n\t\t\tthis.keyCommands = null;\n\t\t\tthis.demoMode = false;\n\t\t\tthis.media = null;\n\t\t\tthis.viewport = new function () {\n\t\t\t\tvar vp, $html, RESIZE_HANDLERS;\n\t\t\n\t\t\t\tvp = this;\n\t\t\t\t$html = $('html');\n\t\t\t\tRESIZE_HANDLERS = [];\n\t\t\n\t\t\t\t$(window).on('resize', function (_event) {\n\t\t\t\t\tif (!$html.hasClass(vp.orientation)) {\n\t\t\t\t\t\t$html.removeClass('squareish landscape protrait').addClass(vp.orientation);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tRESIZE_HANDLERS.forEach(function (_handler) {\n\t\t\t\t\t\t_handler(_event);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\n\t\t\t\tthis.LANDSCAPE = 'landscape';\n\t\t\t\tthis.PROTRAIT = 'protrait';\n\t\t\t\tthis.SQUAREISH = 'squareish';\n\t\t\n\t\t\t\tthis.size = function () {\n\t\t\t\t\treturn _typesDimensions.Size.create().set(window.innerWidth, window.innerHeight);\n\t\t\t\t};\n\t\t\n\t\t\t\t_Object$defineProperties(this, {\n\t\t\t\t\twidth: {\n\t\t\t\t\t\tget: function get() {\n\t\t\t\t\t\t\treturn window.innerWidth;\n\t\t\t\t\t\t},\n\t\t\n\t\t\t\t\t\tconfigurable: false\n\t\t\t\t\t},\n\t\t\n\t\t\t\t\theight: {\n\t\t\t\t\t\tget: function get() {\n\t\t\t\t\t\t\treturn window.innerHeight;\n\t\t\t\t\t\t},\n\t\t\n\t\t\t\t\t\tconfigurable: false\n\t\t\t\t\t},\n\t\t\n\t\t\t\t\torientation: {\n\t\t\t\t\t\tget: function get() {\n\t\t\t\t\t\t\tvar ratio = this.size().ratio();\n\t\t\n\t\t\t\t\t\t\tswitch (true) {\n\t\t\t\t\t\t\t\tcase ratio > 0.9 && ratio < 1.1:\n\t\t\t\t\t\t\t\t\treturn 'squareish';\n\t\t\t\t\t\t\t\tcase ratio > 1.1:\n\t\t\t\t\t\t\t\t\treturn 'landscape';\n\t\t\t\t\t\t\t\tcase ratio < 0.9:\n\t\t\t\t\t\t\t\t\treturn 'protrait';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\tthis.onResize = function (_handler) {\n\t\t\t\t\tRESIZE_HANDLERS.push(_handler);\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.offResize = function (_handler) {\n\t\t\t\t\tvar index = RESIZE_HANDLERS.indexOf(_handler);\n\t\t\n\t\t\t\t\tif (~index) RESIZE_HANDLERS.splice(index, 1);\n\t\t\t\t};\n\t\t\n\t\t\t\t$html.addClass(this.orientation);\n\t\t\t}();;\n\t\t\n\t\t\tthis.willInit = function () {\n\t\t\t\tthis.addClass('pl-game');\n\t\t\n\t\t\t\tdetechDevice.call(this);\n\t\t\t\tscaleGame.call(this);\n\t\t\t\tthis.watchAudio();\n\t\t\t\tthis.captureScreens();\n\t\t\n\t\t\t\tthis.viewport.onResize(this.bind(scaleGame));\n\t\t\n\t\t\t\tpl.game.on('platform-event', this.bind(function (_event) {\n\t\t\t\t\tplatformEventHandler.invoke(_event, this);\n\t\t\t\t}));\n\t\t\n\t\t\t\twindow.addEventListener('load', window.focus);\n\t\t\t\twindow.addEventListener('focus', (function () {\n\t\t\t\t\tthis.resume();\n\t\t\t\t}).bind(this));\n\t\t\t\twindow.addEventListener('blur', (function () {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}).bind(this));\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Watch for specific keys or combination of keys. NOTE: meta key commands DO NOT support chords (i.e. meta+K,B).\n\t\t  * ### Key Names\n\t\t  * - *meta*: Command (aka Apple ⌘ or win)\n\t\t  * - *alt*: Alt (aka Option ⌥)\n\t\t  * - *shift*: Shift ⇪\n\t\t  * - *ctrl*: Control ^\n\t\t  * - *enter*: Enter or Return\n\t\t  * - *esc*: Escape\n\t\t  * - *left*: Left arrow\n\t\t  * - *up*: Up arrow\n\t\t  * - *right*: Right arrow\n\t\t  * - *down*: Down arrow\n\t\t  *\n\t\t  * ### Example\n\t\t  * ```javascript\n\t\t  * // Overriding print.\n\t\t  * this.game.onKeys('cmd+P', printHandler);\n\t\t  *\n\t\t  * // Holding Control and pressing \"K\" then \"B\"\n\t\t  * this.game.onKeys('ctrl+K,B', handler);\n\t\t  * ```\n\t\t  * @arg {string} _commands - The key or sequence of keys.\n\t\t  * @arg {function} _handler - Your event handler for when you key pattern is matched.\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.onKeys = function (_commands, _handler) {\n\t\t\t\tvar sequence, chords, modifiers, map;\n\t\t\n\t\t\t\tif (!this.keyCommands) {\n\t\t\t\t\tthis.keyCommands = {};\n\t\t\n\t\t\t\t\tmap = {\n\t\t\t\t\t\t13: 'enter',\n\t\t\t\t\t\t16: 'shift',\n\t\t\t\t\t\t17: 'ctrl',\n\t\t\t\t\t\t18: 'alt',\n\t\t\t\t\t\t27: 'esc',\n\t\t\t\t\t\t37: 'left',\n\t\t\t\t\t\t38: 'up',\n\t\t\t\t\t\t39: 'right',\n\t\t\t\t\t\t40: 'down',\n\t\t\t\t\t\t91: 'meta',\n\t\t\t\t\t\tenter: 13,\n\t\t\t\t\t\tshift: 16,\n\t\t\t\t\t\tctrl: 17,\n\t\t\t\t\t\talt: 18,\n\t\t\t\t\t\tesc: 27,\n\t\t\t\t\t\tleft: 37,\n\t\t\t\t\t\tup: 38,\n\t\t\t\t\t\tright: 39,\n\t\t\t\t\t\tdown: 40,\n\t\t\t\t\t\tmeta: 91\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tmodifiers = [16, 17, 18, 91];\n\t\t\t\t\tsequence = [];\n\t\t\t\t\tchords = [];\n\t\t\n\t\t\t\t\tthis.on('keydown', function (_event) {\n\t\t\t\t\t\tvar modifier, key, eventMods, currentMods, command, handler;\n\t\t\n\t\t\t\t\t\tmodifier = !! ~modifiers.indexOf(_event.keyCode) && map[_event.keyCode];\n\t\t\t\t\t\tkey = modifier ? modifier : map[_event.keyCode] || String.fromCharCode(_event.keyCode);\n\t\t\t\t\t\teventMods = [_event.shiftKey, _event.ctrlKey, _event.altKey, _event.metaKey];\n\t\t\t\t\t\tcurrentMods = [];\n\t\t\n\t\t\t\t\t\t// Collect the modifiers the event says are still down.\n\t\t\t\t\t\teventMods.forEach(function (_modifierDown, _index) {\n\t\t\t\t\t\t\t// use the modifier name\n\t\t\t\t\t\t\tif (_modifierDown) currentMods.push(map[modifiers[_index]]);\n\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t// Don't add keys we already have during rapid-fire events\n\t\t\t\t\t\tif (~chords.indexOf(key) || ~sequence.indexOf(key)) return;\n\t\t\n\t\t\t\t\t\t// Construct the command\n\t\t\t\t\t\tcommand = chords.length ? (chords.push(key), chords.join(',')) : (sequence.push(key), sequence.join('+'));\n\t\t\n\t\t\t\t\t\thandler = this.keyCommands[command];\n\t\t\n\t\t\t\t\t\tif (handler) {\n\t\t\t\t\t\t\thandler.call(this, _event, command);\n\t\t\t\t\t\t\t// Keep current modifiers.\n\t\t\t\t\t\t\tsequence = currentMods.map(function (_key, _index) {\n\t\t\t\t\t\t\t\tvar key = sequence[_index];\n\t\t\t\t\t\t\t\treturn currentMods[currentMods.indexOf(key)];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tchords = [];\n\t\t\n\t\t\t\t\t\t\t// Override original key command (i.e. meta+Q).\n\t\t\t\t\t\t\t_event.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tthis.on('keyup', function (_event) {\n\t\t\t\t\t\tvar key, index, modifier, eventMods, currentMods;\n\t\t\n\t\t\t\t\t\tkey = modifier ? modifier : map[_event.keyCode] || String.fromCharCode(_event.keyCode);\n\t\t\t\t\t\tindex = sequence.indexOf(key);\n\t\t\t\t\t\tmodifier = !! ~modifiers.indexOf(_event.keyCode) && map[_event.keyCode];\n\t\t\t\t\t\t// Follows the same index order as \"modifiers\" [16, 17, 18, 91]\n\t\t\t\t\t\teventMods = [_event.shiftKey, _event.ctrlKey, _event.altKey, _event.metaKey];\n\t\t\t\t\t\tcurrentMods = [];\n\t\t\n\t\t\t\t\t\t// Collect the modifiers the event says are still down.\n\t\t\t\t\t\teventMods.forEach(function (_modifierDown, _index) {\n\t\t\t\t\t\t\t// use the modifier name\n\t\t\t\t\t\t\tif (_modifierDown) currentMods.push(map[modifiers[_index]]);\n\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t// If the key released is a modifier...\n\t\t\t\t\t\tif (key === modifier) {\n\t\t\t\t\t\t\t// ...keep current modifiers...\n\t\t\t\t\t\t\tsequence = currentMods.map(function (_key, _index) {\n\t\t\t\t\t\t\t\tvar key = sequence[_index];\n\t\t\t\t\t\t\t\treturn currentMods[currentMods.indexOf(key)];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// ...clear registered chords.\n\t\t\t\t\t\t\tchords = [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// If we had pressed more than one key...\n\t\t\t\t\t\t\tif (sequence.length > 1) {\n\t\t\t\t\t\t\t\t// Check if the first is a modifier then switch to chord capturing\n\t\t\t\t\t\t\t\tif (~modifiers.indexOf(map[sequence[0]])) {\n\t\t\t\t\t\t\t\t\tchords.push(sequence.join('+'));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\tif (~index) sequence.splice(index, 1);\n\t\t\t\t\t\t\tif (!sequence.length) chords = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.keyCommands[_commands] = _handler;\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.screen = function (_id, _implementation) {\n\t\t\t\tvar prototype, selector, screenSelector, instance;\n\t\t\n\t\t\t\tif (arguments.length === 1 && typeof _id === 'function') {\n\t\t\t\t\tscreenPrototype = _typesScreen2['default'].extend(_id);\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!this.hasOwnProperty('screens')) this.screens = _typesCollection2['default'].create();\n\t\t\n\t\t\t\tif (this.hasOwnProperty('$els')) {\n\t\t\t\t\tdebugger;\n\t\t\t\t\tscreenSelector = pl.game.config('screenSelector');\n\t\t\t\t\tprototype = screenPrototype.isPrototypeOf(this) ? this : screenPrototype;\n\t\t\t\t\tselector = typeof _id === 'number' ? screenSelector + ':nth-child(' + (_id + 1) + ')' : '#' + _id;\n\t\t\t\t\tinstance = prototype.extend(_implementation).initialize(this.find(selector));\n\t\t\n\t\t\t\t\tinstance.screen = instance;\n\t\t\t\t\tif (!instance.game) {\n\t\t\t\t\t\tinstance.game = instance.closest('.pl-game').scope();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.screens.push({\n\t\t\t\t\t\tindex: typeof _id === 'number' ? _id : null,\n\t\t\t\t\t\tname: typeof _id === 'string' ? _id : null,\n\t\t\t\t\t\timplementation: _implementation\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.captureScreens = function () {\n\t\t\t\tvar screenSelector, prototype, collection;\n\t\t\n\t\t\t\tscreenSelector = pl.game.config('screenSelector');\n\t\t\t\tprototype = screenPrototype.isPrototypeOf(this) ? this : screenPrototype;\n\t\t\t\tcollection = [];\n\t\t\n\t\t\t\tthis.findOwn(screenSelector).each(this.bind(function (_index, _node) {\n\t\t\t\t\tvar $node, screen, record, key, id, index, component;\n\t\t\n\t\t\t\t\t$node = $(_node);\n\t\t\t\t\tid = $node.id();\n\t\t\t\t\tkey = id ? 'name' : (id = _index, 'index');\n\t\t\t\t\trecord = this.screens && this.screens.get(id, key);\n\t\t\t\t\tcomponent = $node.attr('pl-component');\n\t\t\t\t\tscreen = _typesScope.createEntity.call(prototype, $node, record && record.implementation);\n\t\t\t\t\tscreen.screen = screen;\n\t\t\t\t\tscreen.game = this;\n\t\t\n\t\t\t\t\tif ($node.attr('pl-skip') == null) collection.push(screen);\n\t\t\n\t\t\t\t\tif (key === 'name' || component) {\n\t\t\t\t\t\t_util2['default'].assignRef(this, _util2['default'].transformId(key === 'name' && id || component, true), screen);\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\n\t\t\t\tif (collection.length) this.screens = collection;\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.watchAudio = function () {\n\t\t\t\tthis.media = _typesAudioManager.MediaManager.create(this.id());\n\t\t\n\t\t\t\t/**\n\t\t   * Prevent duplicate playback of voiceOvers and backgrounds.\n\t\t   */\n\t\t\t\tthis.media.rule('.background, .voiceOver', 'shouldPlay', function (_event) {\n\t\t\t\t\tvar playing = this.playing() || [];\n\t\t\t\t\t// shouldPlay = false if _event.target is already playing.\n\t\t\t\t\t_event.response(!playing || !playing.length || ! ~playing.indexOf(_event.target) && !playing.has(_event.target.fileName));\n\t\t\t\t});\n\t\t\n\t\t\t\t/**\n\t\t   * \n\t\t   */\n\t\t\t\tthis.media.rule('.voiceOver', function (_event) {\n\t\t\t\t\tvar audio, playing;\n\t\t\n\t\t\t\t\taudio = _event.target;\n\t\t\t\t\tplaying = audio && this.playing('.audio:not(#' + audio.id() + ')');\n\t\t\n\t\t\t\t\tswitch (_event.type) {\n\t\t\t\t\t\tcase 'play':\n\t\t\t\t\t\t\tif (playing) {\n\t\t\t\t\t\t\t\tplaying.filter('.voiceOver').stop('@ALL');\n\t\t\t\t\t\t\t\tplaying.filter('.background').volume(_playGame2['default'].config('bgVolume.drop') || 0.2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\tcase 'pause':\n\t\t\t\t\t\tcase 'stopped':\n\t\t\t\t\t\tcase 'ended':\n\t\t\t\t\t\t\tif (playing) playing.filter('.background').volume(_playGame2['default'].config('bgVolume.max') || 1);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\tthis.media.rule('.background', 'play', function (_event) {\n\t\t\t\t\tvar playing = this.playing('.background:not(#' + _event.target.id() + ')');\n\t\t\t\t\tif (playing) playing.stop('@ALL');\n\t\t\t\t});\n\t\t\n\t\t\t\tif (~pl.EVENT.ACTION.indexOf('touch')) {\n\t\t\t\t\tthis.on(pl.EVENT.ACTION, function beginAudio(_event) {\n\t\t\t\t\t\tvar ctx, screen;\n\t\t\n\t\t\t\t\t\tctx = _playGame2['default'].getAudioContext();\n\t\t\t\t\t\tscreen = this.currentScreen();\n\t\t\n\t\t\t\t\t\tif (screen && ctx && ctx.state === 'suspended') {\n\t\t\t\t\t\t\t_playGame2['default'].enableAudioContext();\n\t\t\t\t\t\t\tthis.log('awesome!');\n\t\t\t\t\t\t\tscreen.startAudio();\n\t\t\t\t\t\t\tthis.off(pl.EVENT.ACTION, beginAudio);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tcollectVideos.call(this);\n\t\t\t};\n\t\t\n\t\t\tthis.progress = function () {\n\t\t\t\treturn {\n\t\t\t\t\tcurrentScreen: this.currentScreen().index()\n\t\t\t\t};\n\t\t\t};\n\t\t\n\t\t\tthis.currentScreen = function () {\n\t\t\t\treturn this.findOwn(pl.game.config('screenSelector') + '.OPEN').not('#quit').scope();\n\t\t\t};\n\t\t\n\t\t\tthis.flip = function () {\n\t\t\t\tconsole.log('THATS A FLIP!');\n\t\t\t\t_playGame2['default'].report.flip(this);\n\t\t\t};\n\t\t\n\t\t\tthis.pause = function (quitScreen) {\n\t\t\t\tif (!quitScreen) this.addClass('PAUSED');\n\t\t\t\tthis.screens.forEach(function (screen) {\n\t\t\t\t\tif (screen.state(screen.STATE.OPEN)) {\n\t\t\t\t\t\tscreen.pause();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t_playGame2['default'].getAudioContext().suspend();\n\t\t\t};\n\t\t\n\t\t\tthis.resume = function () {\n\t\t\t\tthis.removeClass('PAUSED');\n\t\t\t\tthis.screens.forEach(function (screen) {\n\t\t\t\t\tif (screen.state(screen.STATE.OPEN)) screen.resume();\n\t\t\t\t});\n\t\t\t\tif (!this.hasClass('QUIT-SCREEN')) _playGame2['default'].getAudioContext().resume();\n\t\t\t};\n\t\t\n\t\t\tthis.exit = function () {\n\t\t\t\tconsole.log('GOODBYE!');\n\t\t\t\t_playGame2['default'].report.exit(this);\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Demo mode key command\n\t\t  */\n\t\t\tthis.onKeys('ctrl+D,M', function () {\n\t\t\t\tdemoMode.call(this);\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * Keyboard screen navigation\n\t\t  */\n\t\t\tthis.onKeys('left', function () {\n\t\t\t\tvar current;\n\t\t\n\t\t\t\tcurrent = this.currentScreen();\n\t\t\n\t\t\t\tif (current) current.prev();\n\t\t\t});\n\t\t\n\t\t\tthis.onKeys('right', function () {\n\t\t\t\tvar current;\n\t\t\n\t\t\t\tcurrent = this.currentScreen();\n\t\t\n\t\t\t\tif (current) current.next();\n\t\t\t});\n\t\t});\n\t\t\n\t\texports['default'] = Game;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 96 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * API for communicaion between a game and the platform.\n\t\t *\n\t\t * @module\n\t\t */\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar platform = new function () {\n\t\t\n\t\t\tfunction createEvent(_name, _props) {\n\t\t\t\tvar eventObject;\n\t\t\n\t\t\t\teventObject = _util2['default'].mixin(new Event('game-event', { bubbles: true, cancelable: false }), {\n\t\t\t\t\tname: _name,\n\t\t\t\t\trespond: function respond(_data) {\n\t\t\t\t\t\tvar platformEvent;\n\t\t\n\t\t\t\t\t\tplatformEvent = $.Event('platform-event', {\n\t\t\t\t\t\t\tname: _name,\n\t\t\t\t\t\t\tgameData: _data\n\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\tpl.game.trigger(platformEvent);\n\t\t\t\t\t}\n\t\t\t\t}, _props);\n\t\t\n\t\t\t\treturn eventObject;\n\t\t\t}\n\t\t\n\t\t\tthis.EVENT_INIT = 'init';\n\t\t\tthis.EVENT_SAVE = 'save';\n\t\t\tthis.EVENT_EXIT = 'exit';\n\t\t\tthis.EVENT_FLIPPED = 'flipped';\n\t\t\n\t\t\tthis.emit = function (_name) {\n\t\t\t\tif (window.frameElement) window.frameElement.dispatchEvent(createEvent(_name));\n\t\t\t};\n\t\t\n\t\t\tthis.saveGameState = function (_data) {\n\t\t\t\tif (window.frameElement) window.frameElement.dispatchEvent(createEvent(this.EVENT_SAVE, { gameData: _data }));\n\t\t\t};\n\t\t\n\t\t\twindow.addEventListener('platform-event', function (_event) {\n\t\t\t\tvar platformEvent;\n\t\t\n\t\t\t\tplatformEvent = $.Event('platform-event', {\n\t\t\t\t\tname: _event.name\n\t\t\t\t});\n\t\t\n\t\t\t\tpl.game.trigger(platformEvent);\n\t\t\t});\n\t\t}();\n\t\t\n\t\texports['default'] = platform;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ }\n\t/******/ ]);\n\t//# sourceMappingURL=play.js.map\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** monarch/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 14b4c7ee0f2bd5af7a00\n **/","pl.game.component('audio-sequence', function () {\n\t\n\tvar sounds = null;\n\n\tthis.on('ready', function(_event) {\n\t\tvar screen = this.screen;\n\n\t\tif (!this.is(_event.target)) return;\n\n\t\tsounds = this.find(\"> audio\");\n\t\tsounds.each(function(i, audio) {\n\t\t\taudio.onended = function() {\n\t\t\t\tif(sounds[i+1] && screen.state(screen.STATE.OPEN)) screen.playSound(sounds[i+1]);\n\t\t\t};\n\t\t});\n\t\tif(typeof this.properties.loop !== 'undefined') {\n\t\t\tsounds[sounds.length-1].onended = this.start.bind(this);\n\t\t}\n\t});\n\n\tthis.start = function() {\n\t\tif(sounds[0] && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound(sounds[0]);\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/audio-sequence/behavior.js\n **/","pl.game.component('catch', function () {\n\n\tthis.behavior('select', function (_target) {\n\t\tvar $target, id;\n\n\t\t$target = $(_target);\n\t\tid = $target.id() || $target.index();\n\n\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t$target.addClass('CAUGHT');\n\t\t\tthis.delay('4s',function() {\n\t\t\t\t$target.removeClass('CAUGHT');\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tmessage: id,\n\t\t\t\tbehaviorTarget: $target\n\t\t\t};\n\t\t}\n\n\t\treturn false;\n\t});\n\n\tthis.shouldSelect = function (_$target) {\n\t\treturn !_$target.hasClass('CAUGHT');\n\t};\n\n\tthis.deselectAll = function() {\n\t\tvar items = this.find('li');\n\t\tthis.deselect(items);\n\t\tthis.unhighlight(items);\n\t};\n\n\tthis.start = function() {\n\t\tthis.eachFrame(this.onEachFrame);\n\t};\n\n\tthis.stop = function () {\n\t\tthis.eachFrame(this.onEachFrame, false);\n\t};\n\n\tthis.onEachFrame = function () {\n\t\tvar opening = this.getOpening();\n\n\t\tthis.$items.each(function (i, item) {\n\t\t\tvar rect = this.getItemRect(item);\n\n\t\t\tif(opening.top < rect.bottom && opening.top > rect.top) {\n\t\t\t\tif((rect.left > opening.left && rect.left < opening.right) || (rect.right > opening.left && rect.right < opening.right)) {\n\t\t\t\t\tthis.select(item);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}.bind(this));\n\t};\n\n\tthis.getOpening = function() {\n\t\treturn this.$bucket[0].getBoundingClientRect();\n\t};\n\n\tthis.getItemRect = function(item) {\n\t\tvar rect = item.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: rect.top + (rect.bottom-rect.top)/4,\n\t\t\tbottom: rect.bottom - (rect.bottom-rect.top)/4,\n\t\t\tleft: rect.left + (rect.right-rect.left)/4,\n\t\t\tright: rect.right - (rect.right-rect.left)/4,\n\t\t};\n\t};\n\n\tthis.on('ready', function(_e) {\n\t\tvar $bucket;\n\n\t\tif(!this.is(_e.target)) return;\n\n\t\tthis.$items = this.find('.items li');\n\t\tthis.$bucket = this.find('[pl-id=bucket]');\n\t\tthis.catch = false;\n\n\t\t$('.catch-component').on('mousemove touchstart touchmove', function(e){\n\t\t\te.preventDefault();\n\t\t\tthis.$bucket.css({left: e.originalEvent.pageX / this.game.zoom - 72});\n\t\t}.bind(this));\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/catch/behavior.js\n **/","pl.game.component('frame', function () {\n\t\n\tthis.start = function () {\n\t\tvar bgSound, voSound;\n\n\t\tbgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t\tvoSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\n\t\tif (bgSound) bgSound.play();\n\t\tif (voSound && !voSound.hasAttribute(\"pl-dontautoplay\")) voSound.play();\n\n\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n\t\treturn this;\n\t};\n\n\tthis.handleProperty({\n\t\ttitle: function (_node, _name, _value) {\n\t\t\tif (this.is(_node)) {\n\t\t\t\tthis.find('.frame').addClass('title');\n\t\t\t\tthis.game.defineRule('.experiment:nth-of-type('+(this.screen.index()+1)+') .frame-component .frame.title::before', {\n\t\t\t\t\tbackgroundImage: 'url('+ _value +')'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\tthis.on('ui-open', function (_event) {\n\t\tif (this.isReady) {\n\t\t\tthis.start();\n\t\t}\n\n\t\tif (this === _event.targetScope) {\n\t\t\tif (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && (this.requiredQueue && this.requiredQueue.length))) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\t}\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/frame/behavior.js\n **/","pl.game.component('modal', function () {\n\n\tthis.item = function(_id) {\n\t\tthis.select(this);\n\t\tthis.reveal.item(_id);\n\t};\n\t\n\tthis.behavior('close', function() {\n\t\tif(!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t\t\tif(this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n\t\t\tthis.deselect();\n\t\t}\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/modal/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n\tfunction validateAnswer (_scope) {\n\t\tvar answers;\n\n\t\tif (_scope.properties.correct) {\n\t\t\tanswers = _scope.properties.correct.split(/\\s*,\\s*/);\n\n\t\t\tif (~answers.indexOf(String(_scope.getSelected().index()))) {\n\t\t\t\t_scope.complete();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tthis.answer = function () {\n\t\tif (this.event) {\n\t\t\t$li = $(this.event.target).closest('li');\n\n\t\t\tif (!this.isComplete && this.select($li)) {\n\t\t\t\tvalidateAnswer(this);\n\t\t\t}\n\t\t}\n\t};\n\n});\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n\tthis.item = function (_id) {\n\t\tvar vo, index, vo;\n\n\t\tif (typeof _id === 'number') {\n\t\t\tthis.select(this.find('li').eq(_id));\n\t\t\tvo = this.audio.voiceOver && this.audio.voiceOver[_id];\n\t\t\tif(vo) vo.play();\n\t\t}\n\t\t\t\n\t\telse if (typeof _id === 'string') {\n\t\t\tif (this[_id]) {\n\t\t\t\tthis.select(this[_id]);\n\n\t\t\t\tif (this.audio) {\n\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\t\t\t\t\n\t\t\t\t\tif (vo) vo.play();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/reveal/behavior.js\n **/","pl.game.component('runner', function () {\n\tvar canvas, Flower, gameLoop, FLOWER, scale, boundPulse;\n\n\tFLOWER = {\n\t\tORANGE: \"[pl-id=orange]\",\n\t\tRED: \"[pl-id=red]\",\n\t\tYELLOW: \"[pl-id=yellow]\"\n\t};\n\n\tgameLoop = {\n\t\t\n\t\tlastRecycledFlower: null,\n\n\t\t// main game loop\n\t\tframe: function (_scope) {\n\t\t\t// tranision flowers one px on each frame\n\t\t\t_scope.flowers.forEach((function (_flower) {\n\t\t\t\tvar x, width;\n\t\t\t\t_flower.position.x -= 1;\n\n\t\t\t\tx = _flower.position.x + _flower.margin;\n\t\t\t\twidth = _flower.size.width;\n\n\t\t\t\tif (x + width < 0) this.recycle(_scope, _flower);\n\t\t\t}).bind(this));\n\t\t},\n\n\t\trecycle: function (_scope, _flower) {\n\t\t\t_flower.image = pl.util.random(_scope.bin);\n\t\t\t_flower.margin = pl.util.random(2,10) * 10;\n\t\t\t_flower.position.x = _scope.width() + _flower.margin;\n\n\t\t\tif (this.lastRecycledFlower) {\n\t\t\t\t_flower.position.x = this.lastRecycledFlower.margin + \n\t\t\t\t\tthis.lastRecycledFlower.position.x +\n\t\t\t\t\tthis.lastRecycledFlower.size.width;\n\t\t\t}\n\n\t\t\tthis.lastRecycledFlower = _flower;\n\t\t},\n\n\t\tpulsePoint: 0,\n\n\t\tpulse: function (_scope,_flower) {\n\t\t\t// pulse flower\n\t\t\tgameLoop.pulsePoint++;\n\t\t\t_flower.position.x += gameLoop.pulsePoint % 40 > 20 ? 1 : -1;\n\t\t\t_flower.position.y += gameLoop.pulsePoint % 40 > 20 ? 1 : -1;\n\t\t\t_flower.size.width += gameLoop.pulsePoint % 40 > 20 ? -2 : 2;\n\t\t\t_flower.size.height += gameLoop.pulsePoint % 40 > 20 ? -2 : 2;\n\t\t},\n\n\t};\n\n\tFlower = pl.Basic.extend(function () {\n\t\t\n\t\tthis.position = null;\n\t\tthis.size = null;\n\t\tthis.margin = 0;\n\t\tthis.image = null;\n\n\t\tthis.init = function (_image) {\n\t\t\tvar $image = $(_image);\n\n\t\t\tthis.image = _image;\n\n\t\t\tthis.position = pl.Point.create();\n\t\t\tthis.size = [_image.naturalWidth, _image.naturalHeight].to('size');\n\t\t\tthis.margin = pl.util.random(2,10) * 10;\n\n\t\t\t['Width', 'Height'].some(function (_plane) {\n\t\t\t\tif (_image[_plane.toLowerCase()] !== _image['natural'+_plane]) {\n\t\t\t\t\tscale = _image[_plane.toLowerCase()] / _image['natural'+_plane];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (scale) this.size = this.size.scale(scale).math('floor');\n \n\t\t\treturn this;\n\t\t};\n\n\t\tthis.render = function () {\n\t\t\treturn {\n\t\t\t\tdrawImage: [this.image, this.position.x + this.margin, this.position.y + 25, this.size.width, this.size.height]\n\t\t\t};\n\t\t};\n\n\t\tthis.is = function (_type) {\n\t\t\treturn $(this.image).is(_type);\n\t\t};\n\n\t\tthis.id = function () {\n\t\t\treturn $(this.image).id();\n\t\t}\n\t});\n\n\tcanvas = {\n\t\t\n\t\tctx: null,\n\t\tnode: null,\n\t\tcontent: null,\n\t\tscale: 1,\n\n\t\tinit: function (_canvas, _size, _scale) {\n\t\t\tvar size;\n\n\t\t\tsize = _scale ? _size.scale(_scale) : _size;\n\n\t\t\tthis.node = _canvas;\n\t\t\tthis.ctx = _canvas.getContext('2d');\n\t\t\tthis.scale = _scale || 1;\n\n\t\t\tif (!~size.indexOf(void 0)) {\n\t\t\t\t_canvas.width = size.width;\n\t\t\t\t_canvas.height = size.height;\n\t\t\t}\n\n\t\t\tthis.ctx.scale(_scale, _scale);\n\n\t\t\treturn this;\n\t\t},\n\n\t\tresize: function (_size, _scale) {\n\t\t\tvar size;\n\n\t\t\tsize = _scale ? _size.scale(_scale) : _size;\n\n\t\t\tthis.node.width = size.width;\n\t\t\tthis.node.height = size.height;\n\t\t\tthis.scale = _scale || 1;\n\n\t\t\tthis.ctx.scale(_scale, _scale);\n\t\t},\n\n\t\tclear: function () {\n\t\t\tthis.ctx.clearRect(0,0, this.node.width/this.scale, this.node.height/this.scale);\n\t\t},\n\n\t\tdraw: function (_obj) {\n\t\t\tvar commands, cmd;\n\n\t\t\tcommands = _obj.render();\n\n\t\t\tfor (cmd in commands) {\n\t\t\t\tif (typeof this.ctx[cmd] !== 'function') continue;\n\t\t\t\tthis.ctx[cmd].apply(this.ctx, commands[cmd]);\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.bin = null;\n\tthis.flowers = null;\n\tthis.player = null;\n\tthis.conveyor = null;\n\tthis.isConveyorRunning = false;\n\n\t// Handle when the component scope is ready.\n\tthis.on('ready', function (_event) {\n\t\tvar canvasSize, width;\n\n\t\t// Do not handle child scopes becomming ready.\n\t\tif (!this.is(_event.target)) return;\n\n\t\twidth = this.width();\n\n\t\tthis.bin = this.findOwn('.bin img.flower').toArray();\n\t\tthis.flowers = (function (_scope) {\n\t\t\tvar shouldAppend, image, flower, x;\n\n\t\t\tshouldAppend = true;\n\t\t\tx = 0;\n\n\t\t\twhile (shouldAppend) {\n\t\t\t\timage = pl.util.random(_scope.bin);\n\t\t\t\tflower = Flower.create().init(image);\n\n\t\t\t\tflower.position.x = x;\n\t\t\t\tx += flower.size.width + flower.margin;\n\n\t\t\t\tthis.push(flower);\n\n\t\t\t\tshouldAppend = flower.position.x < width;\n\t\t\t\t\n\t\t\t\t_scope.log(flower.position.x, width);\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}).call([], this);\n\n\t\tcanvasSize = pl.Size\n\t\t\t.create()\n\t\t\t.set(width, 125);\n\n\t\tcanvas.init(this.conveyor[0], canvasSize, this.game.zoom);\n\n\t\tthis.game.viewport.onResize(this.game.bind(function () {\n\t\t\t canvas.resize(canvasSize, this.zoom);\n\t\t}));\n\t});\n\n\tthis.on('transitionend', function (_event) {\n\t\tif (!this.player.is(_event.target)) return;\n\n\t\tif (this.player.state('GRAVITY')) {\n\t\t\tthis.isConveyorRunning = !this.testFlower();\n\n\t\t\tif (this.isConveyorRunning) this.player.removeClass('GRAVITY');\n\n\t\t} else if (this.player.state('JUMPING')) {\n\t\t\tthis.player\n\t\t\t\t.removeClass('JUMPING')\n\t\t\t\t.addClass('GRAVITY')\n\t\t\t\t.attr('style', null);\n\t\t}\n\t});\n\n\tthis.start = function () {\n\t\tthis.log('started');\n\t\tthis.isConveyorRunning = true;\n\t\tthis.eachFrame(this.onEachFrame);\n\t};\n\n\tthis.restart = function() {\n\t\tthis.isConveyorRunning = true;\n\t\tthis.player\n\t\t\t.removeClass('GRAVITY');\n\t}\n\n\tthis.stop = function () {\n\t\tthis.eachFrame(this.onEachFrame, false);\n\t};\n\n\tthis.onEachFrame = function () {\n\t\tif (!this.isConveyorRunning) return;\n\n\t\tcanvas.clear();\n\n\t\tgameLoop.frame(this);\n\n\t\tthis.flowers.forEach(function (_flower) {\n\t\t\tcanvas.draw(_flower);\n\t\t});\n\t};\n\n\tthis.pulse = function (_flower) {\n\t\tif(gameLoop.pulsePoint >= 80) {\n\t\t\tgameLoop.pulsePoint = 0;\n\t\t\tthis.eachFrame(boundPulse, false);\n\t\t}\n\n\t\tcanvas.clear();\n\n\t\tgameLoop.pulse(this,_flower);\n\n\t\tthis.flowers.forEach(function (_flower) {\n\t\t\tcanvas.draw(_flower);\n\t\t});\n\t};\n\n\tthis.testFlower = function () {\n\t\tvar target, flower, player;\n\n\t\tplayer = {\n\t\t\tpos: this.player.absolutePosition(),\n\t\t\tsize: pl.Size.create().set(this.player.width(), this.player.height())\n\t\t};\n\n\t\ttarget = pl.Point.create().set(player.pos.x + (player.size.width/2), 40).inc(20,0);\n\n\t\t// canvas.ctx.fillStyle = '#000';\n\n\t\tthis.flowers.some(this.bind(function (_flower) {\n\t\t\tvar hitArea, padding, inBoundsX, inBoundsY;\n\n\t\t\tpadding = 25;\n\t\t\thitArea = {\n\t\t\t\tx1: _flower.position.x + _flower.margin + padding,\n\t\t\t\ty1: _flower.position.y + padding,\n\t\t\t\tx2: _flower.position.x + _flower.margin + _flower.size.width - (padding * 1),\n\t\t\t\ty2: _flower.position.y +_flower.size.height - (padding * 1)\n\t\t\t};\n\n\t\t\t// canvas.ctx.fillRect(hitArea.x1, hitArea.y1, hitArea.x2 - hitArea.x1, hitArea.y2 - hitArea.y1);\n\n\t\t\tinBoundsX = target.x > hitArea.x1 && target.x < hitArea.x2;\n\t\t\tinBoundsY = target.y > hitArea.y1 && target.y < hitArea.y2;\n\n\t\t\tif (inBoundsX && inBoundsY && _flower.is(FLOWER.RED)) {\n\t\t\t\tflower = _flower;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}));\n\n\t\tthis.landed(flower);\n\n\t\t// canvas.ctx.fillStyle = '#00f';\n\t\t// canvas.ctx.fillRect(target.x, target.y, 10,10);\n\n\t\treturn flower;\n\t};\n\n\tthis.behavior('jump', function () {\n\t\tvar position;\n\n\t\tif (!this.isConveyorRunning) return;\n\n\t\tposition = this.player.transformPosition();\n\n\t\tthis.player\n\t\t\t.removeClass('GRAVITY')\n\t\t\t.addClass('JUMPING')\n\t\t\t.transformPosition(position.dec(0,60));\n\n\t\tthis.log('behavior:jump');\n\n\t\treturn {\n\t\t\tbehaviorTarget: this.player\n\t\t};\n\t});\n\n\tthis.behavior('landed', function (_flower) {\n\t\tvar id;\n\n\t\tif(_flower) {\n\t\t\tid = _flower.id();\n\t\t\tboundPulse = this.pulse.bind(this,_flower);\n\t\t\tthis.eachFrame(boundPulse);\n\t\t}\n\n\t\treturn {\n\t\t\tmessage: id,\n\t\t\tbehaviorTarget: this.player\n\t\t};\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/runner/behavior.js\n **/","pl.game.component('score', function () {\n\n\tthis.value = 0;\n\n\tthis.entity('.board', function () {\n\t\t\n\t\tthis.template = null;\n\n\t\tthis.ready = function () {\n\t\t\tthis.template = this.html();\n\t\t};\n\n\t\tthis.render = function () {\n\t\t\tthis.html(this.template.replace('{{score}}', this.value));\n\t\t\treturn this;\n\t\t};\n\n\t});\n\n\tthis.init = function () {\n\t\tthis.screen.require(this);\n\t};\n\n\tthis.ready = function () {\n\t\tthis.board.render();\n\t};\n\n\tthis.up = function (_count) {\n\t\tthis.value+= _count || 1;\n\n\t\tthis.board.render();\n\n\t\tconsole.log('score', this.value, this.properties.max)\n\n\t\tif (this.value == this.properties.max) {\n\t\t\tconsole.log('oh word');\n\t\t\tthis.complete();\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.down = function (_count) {\n\t\tthis.value-= _count || 1;\n\n\t\tthis.board.render();\n\t\t\n\t\tif (this.value == this.properties.max) {\n\t\t\tthis.complete();\n\t\t}\n\n\t\treturn this;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/score/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\tthis.currentVO = null;\n\n\tthis.allowAction = function() {\n\t\treturn (this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER)) || this.game.demoMode;\n\t};\n\n\tthis.playSound = function (_sound) {\n\t\tvar delay;\n\n\t\tdelay = $(_sound).attr('pl-delay');\n\n\t\tif(_sound.type === 'voiceOver') {\n\t\t\tthis.currentVO = _sound;\n\t\t}\n\n\t\tif (delay) {\n\t\t\treturn this.delay(delay, _sound.play.bind(_sound));\n\t\t} else {\n\t\t\treturn _sound.play();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen, buttonSound;\n\n\t\tnextScreen = this.proto();\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\tif (nextScreen) {\n\t\t\tthis.leave();\n\t\t\tnextScreen.open();\n\t\t\tif (buttonSound) buttonSound.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.prev = function () {\n\t\tvar prevScreen, buttonSound;\n\n\t\tprevScreen = this.proto();\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\tif (prevScreen) {\n\t\t\tthis.screen.close();\n\t\t\tprevScreen.open();\n\t\t\tif (buttonSound) buttonSound.play();\n\t\t}\n\n\t\treturn prevScreen;\n\t};\n\n\tthis.start = function () {\n\t\tvar bgSound, voSound;\n\n\t\tbgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t\tvoSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t\tfxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\n\t\tif (bgSound) {\n\t\t\tthis.game.bgSound = bgSound;\n\t\t\tbgSound.play();\n\t\t}\n\t\tif(fxSound) fxSound.play();\n\t\tif(voSound) this.playSound(voSound);\n\n\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n\t\treturn this;\n\t};\n\n\tthis.stop = function() {\n\t\tif(this.timeoutID) {\n\t\t\tclearTimeout(this.timeoutID);\n\t\t}\n\n\t\tif(this.intervalID) {\n\t\t\tthis.kill(\"repeat\");\n\t\t}\n\n\t\tif(this.currentVO) {\n\t\t\tthis.currentVO.stop();\n\t\t}\n\n\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].stop();\n\t};\n\n\tthis.on('ui-open', function (_event) {\n\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\tthis.start();\n\t\t}\n\n\t\tif(this.properties.gameClass) {\n\t\t\tthis.game.addClass(this.properties.gameClass);\n\t\t}\n\n\t\tif (!this.requiredQueue || (this.hasOwnProperty('requiredQueue') && !this.requiredQueue.length)) {\n\t\t\tthis.complete();\n\t\t}\n\t});\n\n\tthis.on('ui-leave', function (_event) {\n\t\tif(this.properties.gameClass) {\n\t\t\tthis.game.removeClass(this.properties.gameClass);\n\t\t}\n\n\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\tthis.stop();\n\t\t}\n\t});\n\n\tthis.on('ui-close', function (_event) {\n\t\tif(this.properties.gameClass) {\n\t\t\tthis.game.removeClass(this.properties.gameClass);\n\t\t}\n\n\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\tthis.stop();\n\t\t}\n\t});\n\n\tthis.on('ready', function () {\n\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\tvar sfx;\n\n\t\t\t\tsfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n\t\t\t\tif (sfx) this.playSound(sfx);\n\t\t\t}));\n\t\t}\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n\tthis.buttonSound = function() {\n\t\tif(this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n\t}\n\n\t// TODO: Make an automated way to handle this\n\tthis.on('transitionend', function (_event) {\n\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\tthis.addClass('LEAVE-END');\t\n\t\t}\n\t});\n\n\tthis.on('ui-open', function (_event) {\n\t\tthis.buttonSound();\n\t\tthis.game.addClass('QUIT-SCREEN');\n\t\tthis.removeClass('LEAVE-END');\n\t});\n\n\tthis.on('ui-leave', function () {\n\t\tthis.game.removeClass('QUIT-SCREEN');\n\t});\n\n\tthis.init = function () {\n\t\tthis.addClass('LEAVE LEAVE-END');\n\t};\n\t\n\tthis.okay = function () {\n\t\tthis.buttonSound();\n\t\tthis.game.exit();\n\t};\n\n\tthis.cancel = function () {\n\t\tthis.buttonSound();\n\t\tthis.leave();\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('screen-title', function () {\n\n\tthis.playSound = function (_sound) {\n\t\tvar delay;\n\n\t\tdelay = $(_sound).attr('pl-delay');\n\n\t\tif($(_sound).hasClass('voice-over')) {\n\t\t\tthis.currentVO = _sound;\n\t\t}\n\n\t\tif (delay) {\n\t\t\treturn this.delay(delay, _sound.play.bind(_sound));\n\t\t} else {\n\t\t\treturn _sound.play();\n\t\t}\n\t};\n\n\tthis.on('ready', function (_event) {\n\t\tif(!this.is(_event.target)) return;\n\n\t\tthis.delay(0, this.open);\n\n\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\tvar sfx;\n\n\t\t\t\tsfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n\t\t\t\tif (sfx) this.playSound(sfx);\n\t\t\t}));\n\t\t}\n\t});\n\n\t/**\n\t * Start the title screen logo animation when the screen opens.\n\t */\n\tthis.on('ui-open', function () {\n\t\tvar so, delay = this.properties.delay;\n\t\tthis.close(this.game.loader);\n\n\t\tso = pl.util.resolvePath(this, 'audio.background[0]?');\n\n\t\tif (so) so.play();\n\n\t\treturn this;\n\t});\n\n\tthis.on('ui-close', function(_event) {\n\t\tif(!this.is(_event.target)) return;\n\t\tthis.on('transitionend', function(_event) {\n\t\t\tif(!this.is(_event.target)) return;\n\t\t\tthis.logo.removeClass(this.properties.animOut)\n\t\t\t\t.off('animationend');\n\t\t\tthis.off('transitionend');\n\t\t});\n\t});\n\n\tthis.next = function () {\n\t\tvar nextScreen, so, animate;\n\t\t\n\t\tfunction leave () {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t}\n\n\t\tnextScreen = this.proto();\n\t\tso = pl.util.resolvePath(this, 'audio.sfx.nextScreen');\n\t\tanimate = this.properties.animOut || '';\n\n\t\tif (!so) {\n\t\t\tso = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\t}\n\n\t\tif (nextScreen) {\n\t\t\tif (animate) {\n\t\t\t\tthis.logo\n\t\t\t\t\t.on('animationend', leave.bind(this))\n\t\t\t\t\t.addClass(animate);\n\t\t\t} else {\n\t\t\t\tleave.call(this);\n\t\t\t}\n\t\t\t\t\n\t\t\tif (so) so.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/screen-title/behavior.js\n **/","pl.game.component('selectable-reveal', function () {\n\t\n\tthis.respond('select', function (_event) {\n\t\tvar index, stateMethod;\n\n\t\tindex = _event.message;\n\t\tstateMethod = this.properties.selectState || 'select';\n\n\t\tif (~index) {\n\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\tthis.reveal.item(index);\n\t\t}\n\t});\n\n\tthis.entity('selectable', function () {\n\t\t\n\t\tthis.shouldSelect = function (_$target) {\n\t\t\tif (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n\t\t\t\treturn !this.screen.state(this.STATE.VOICE_OVER);\n\t\t\t}\n\n\t\t\treturn false; \n\t\t};\n\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/selectable-reveal/behavior.js\n **/","pl.game.component('selectable', function () {\n\n\tthis.behavior('select', function (_target) {\n\t\tvar $target, id;\n\n\t\tif (this.event) {\n\t\t\t$target = $(this.event.target).closest('li');\n\t\t\tid = $target.id() || $target.index();\n\n\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: id,\n\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t};\n\t\t\t}\t\n\t\t}\n\n\t\telse {\n\t\t\tthis.proto(_target);\n\t\t}\n\n\t\treturn false;\n\t});\n\n\tthis.shouldSelect = function (_target) {\n\t\treturn true;\n\t};\n\n\tthis.deselectAll = function() {\n\t\tvar items = this.find('li');\n\t\tthis.deselect(items);\n\t\tthis.unhighlight(items);\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/selectable/behavior.js\n **/","pl.game.component('video', function () {\n\n\tthis.start = function() {\n\t\tvar self = this;\n\t\tthis.video.on('ended', function() {\n\t\t\tself.complete();\n\t\t});\n\t\tif(this.game.bgSound) this.game.bgSound.pause();\n\t\tthis.video[0].play();\n\t};\n\n\tthis.pause = function() {\n\t\tthis.video[0].pause();\n\t};\n\n\tthis.screen.on('ui-close', this.pause.bind(this));\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/components/video/behavior.js\n **/","pl.game.config({\n\tscreenSelector: '.screen',\n\tcomponentDirectory: 'components/',\n\tdimensions: {\n\t\twidth: 960,\n\t\tratio: 16/9\n\t},\n\tshouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\n// import 'js-interactive-library';\nimport '../../../../../js-interactive-library';\nimport './config.game';\n\n// SCREENS\nimport flyAcross from './screens/fly-across';\n\nimport './components/screen-title/behavior';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/frame/behavior';\nimport './components/score/behavior';\nimport './components/catch/behavior';\nimport './components/reveal/behavior';\nimport './components/multiple-choice/behavior';\nimport './components/selectable/behavior';\nimport './components/selectable-reveal/behavior';\nimport './components/audio-sequence/behavior';\nimport './components/modal/behavior';\nimport './components/video/behavior';\nimport './components/runner/behavior';\n\npl.game('monarch', function () {\n\n\tthis.screen('title', function() {\n\t\tthis.on('ui-open', function() {\n\t\t\tthis.repeat('4s', function() {\n\t\t\t\tthis.audio.sfx.play();\n\t\t\t});\n\t\t});\n\n\t\tthis.on('ready', function(_event) {\n\t\t\tif(!this.is(_event.target)) return;\n\t\t\tthis.audio.sfx.on('play', function() {\n\t\t\t\tthis.pupa.addClass('SHAKE');\n\t\t\t}.bind(this));\n\t\t\tthis.audio.sfx.on('ended', function() {\n\t\t\t\tthis.pupa.removeClass('SHAKE');\n\t\t\t}.bind(this));\n\t\t});\n\n\t\tthis.on('ui-close', function() {\n\t\t\tthis.kill('repeat');\n\t\t});\n\t});\n\n\tthis.screen('fly-across', flyAcross);\n\n\tthis.screen('floating-weed', function() {\n\t\tvar count = 0, interval = 1;\n\n\t\tthis.on('ready', function(_event) {\n\t\t\tif(!this.is(_event.target)) return;\n\t\t\tthis.shouldCatch = true;\n\t\t\tthis.length = this.modal.reveal.find('li').length;\n\t\t});\n\n\t\tthis.respond('select', function (_event) {\n\t\t\tvar index;\n\n\t\t\tif(!this.shouldCatch) return;\n\t\t\tif(!_event.behaviorTarget.is('li')) return;\n\t\t\tthis.audio.sfx.correct.play();\n\t\t\tcount++;\n\t\t\tif((count % interval) === 0) {\n\t\t\t\tindex = count/interval -1;\n\t\t\t\tthis.modal.item(index);\n\t\t\t\tthis.catch.$bucket.addClass('CATCH');\n\t\t\t\tthis.shouldCatch = false;\n\t\t\t\tif(index >= this.length-1) count = 0;\n\t\t\t}\n\t\t});\n\n\t\tthis.respond('close', function(_e) {\n\t\t\tif(this.modal.is(_e.target)) {\n\t\t\t\tthis.shouldCatch = true;\n\t\t\t\tthis.catch.$bucket.removeClass('CATCH');\n\t\t\t}\n\t\t});\n\t});\n\n\tthis.screen('four-generations', function() {\n\t\tthis.on('ui-open', function() {\n\t\t\tthis.deselect(this.selectableReveal.reveal.find('li'));\n\t\t});\n\n\t\tthis.on('audio-ended', function(_event) {\n\t\t\tif(this.audio.voiceOver.lifespan === _event.target) {\n\t\t\t\tthis.selectableReveal.reveal.item(4);\n\t\t\t}\n\t\t});\n\n\t\tthis.entity('selectable-reveal', function() {\n\t\t\tthis.start = function() {};\n\n\t\t\tthis.respond('select', function (_event) {\n\t\t\t\tvar index, stateMethod;\n\n\t\t\t\tindex = _event.message;\n\t\t\t\tstateMethod = this.properties.selectState || 'select';\n\n\t\t\t\tif (~index) {\n\t\t\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\t\t\tif(this.audio.sfx.button) this.audio.sfx.button.play();\n\t\t\t\t\tthis.reveal.item(index);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.entity('selectable', function () {\n\t\t\t\t\n\t\t\t\tthis.shouldSelect = function (_$target) {\n\t\t\t\t\tif (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n\t\t\t\t\t\treturn !this.screen.state(this.STATE.VOICE_OVER);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false; \n\t\t\t\t};\n\n\t\t\t});\n\t\t});\n\t});\n\n\tthis.screen('flip', function () {\n\t\tthis.next = function () {\n\t\t\tthis.game.quit.okay();\n\t\t};\n\n\t\tthis.entity('.flip-container', function() {\n\t\t\tthis.on('animationend', function(_event) {\n\t\t\t\tif(!this.is(_event.target)) return;\n\t\t\t\tthis.find('.pupa').addClass('SHAKE');\n\t\t\t\tthis.screen.audio.sfx.shake.play();\n\t\t\t});\n\t\t});\n\t});\n\n\tthis.exit = function () {\n\t\tvar screen, eventCategory;\n\n\t\tscreen = this.findOwn(pl.game.config('screenSelector')+'.OPEN:not(#quit)').scope();\n\t\teventCategory = (['game', this.id(), screen.id()+'('+(screen.index()+1)+')']).join(' ');\n\n\t\tga('send', 'event', eventCategory, 'quit');\n\n\t\treturn this.proto();\n\t};\n\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/index.js\n **/","/**\n * Monarch - Fly-Across Screen\n */\nexport default function flyAcross () {\n\tvar count = 0;\n\n\tthis.on('ready', function(_event) {\n\t\tif(!this.is(_event.target)) return;\n\t\tthis.length = this.modal.reveal.find('li').length;\n\t});\n\n\tthis.respond('landed', function(_event) {\n\t\tif(_event.message === \"red\") {\n\t\t\tthis.audio.sfx.correct.play();\n\t\t\tthis.modal.item(count++);\n\t\t\tif(count >= this.length) count = 0;\n\t\t} else {\n\t\t\tthis.audio.sfx.incorrect.play();\n\t\t}\n\t});\n\n\tthis.entity('modal', function() {\n\t\tthis.close = function() {\n\t\t\tif(!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t\t\t\tif(this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n\t\t\t\tthis.deselect();\n\t\t\t\tthis.screen.runner.restart();\n\t\t\t}\n\t\t};\n\t});\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./monarch/source/js/screens/fly-across.js\n **/","/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\t/**\n\t * Boot file for the Play library.\n\t *\n\t * @module\n\t *\n\t * @author Micah Rolon <micah@ginasink.com>\n\t *\n\t * @requires jQExtentions\n\t * @requires play\n\t */\n\t\n\t__webpack_require__(4);\n\t\n\tvar _play = __webpack_require__(23);\n\t\n\tvar _play2 = _interopRequireDefault(_play);\n\t\n\t/**\n\t * Begin running the library\n\t */\n\tfunction run() {\n\t  _play2['default'].game.run();\n\t}\n\t\n\t// export namespace to global object.\n\twindow.play = window.pl = _play2['default'];\n\t\n\t// Invoke 'run' when DOM has finished loading.\n\tdocument.addEventListener('DOMContentLoaded', run, false);\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(3);\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\texports.default = function (obj) {\n\t  return obj && obj.__esModule ? obj : {\n\t    default: obj\n\t  };\n\t};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _Array$forEach = __webpack_require__(5)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\t/**\n\t * Extentions to jQuery used by the library.\n\t * \n\t * @module\n\t * @author Micah Rolon <micah@ginasink.com>\n\t *\n\t * @requires types/Dimensions\n\t * @requires Matrix\n\t */\n\t\n\tvar _typesDimensions = __webpack_require__(14);\n\t\n\tvar _libMatrix = __webpack_require__(22);\n\t\n\tvar _libMatrix2 = _interopRequireDefault(_libMatrix);\n\t\n\t/**\n\t * jQuery's prototype\n\t * @external jQuery\n\t * @see {@link http://api.jquery.com/}\n\t */\n\t\n\t(function () {\n\t\tvar original;\n\t\n\t\toriginal = {\n\t\t\tposition: this.position\n\t\t};\n\t\n\t\t/**\n\t  * Resolves the scope for each of the set of matched nodes.\n\t  * @function external:jQuery#scope\n\t  * @returns {Scope|array} Scope - for 1 result. array - for multiple.\n\t  */\n\t\tthis.scope = function () {\n\t\t\tvar result;\n\t\n\t\t\tresult = [];\n\t\n\t\t\tthis.each(function () {\n\t\t\t\tvar $node, scope;\n\t\n\t\t\t\t$node = $(this);\n\t\t\t\tscope = $node.data('pl-scope');\n\t\n\t\t\t\tif (!scope) {\n\t\t\t\t\tscope = $node.closest('.pl-scope').data('pl-scope');\n\t\t\t\t}\n\t\n\t\t\t\tif (scope) result.push(scope);\n\t\t\t});\n\t\n\t\t\treturn result.length > 1 ? result : result[0];\n\t\t};\n\t\n\t\t/**\n\t  * Resolves the id on the first node in the collection. The id can be sourced from a node's 'id', 'pl-id' or 'pl-component' arguments.\n\t  * @function external:jQuery#id\n\t  * @arg {string} [_set] Name to set as the node's id.\n\t  * @returns {string} The resolved id.\n\t  */\n\t\tthis.id = function (_set) {\n\t\t\tif (_set !== undefined) {\n\t\t\t\t// Remove attribute.\n\t\t\t\tif (~['', null].indexOf(_set)) {\n\t\t\t\t\tthis.attr('id', null);\n\t\t\t\t}\n\t\n\t\t\t\t// If document already has the id defined then set as a unique library id.\n\t\t\t\tif ($('#' + _set).length) {\n\t\t\t\t\tthis.attr('pl-id', _set);\n\t\t\t\t} else {\n\t\t\t\t\tthis.attr('id', _set);\n\t\t\t\t}\n\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\treturn this.attr('id') || this.attr('pl-id') || this.attr('pl-component');\n\t\t};\n\t\n\t\t/**\n\t  * Provides the 'relative' CSS selector for the first node in the collection.\n\t  * @function external:jQuery#address\n\t  * @returns {string}\n\t  *\n\t  * @example\n\t  * // HTML: <div id=\"sweater\" class=\"wide\"></div>\n\t  * $('#sweater').address() // div#sweater.wide\n\t  */\n\t\tthis.address = function () {\n\t\t\tvar tag, id, classes;\n\t\n\t\t\ttag = this[0].nodeName.toLowerCase();\n\t\t\tid = this.attr('id');\n\t\t\tclasses = this.attr('class') ? '.' + this.attr('class').split(' ').join('.') : '';\n\t\n\t\t\treturn tag + (id ? '#' + id : '') + classes;\n\t\t};\n\t\n\t\t/**\n\t  * Provides a node's UPPER CASE class names. Given '_test' it will check if the node has the class.\n\t  * @function external:jQuery#state\n\t  * @arg {string} [_test] The UPPER CASE class name to test on the first node in the collection.\n\t  * @returns {string|array|boolean} string - for one result. array - for multiple. boolean - for tests.\n\t  */\n\t\tthis.state = function (_test) {\n\t\t\tvar classes;\n\t\n\t\t\tif (_test) return this.hasClass(_test.toUpperCase());\n\t\n\t\t\tclasses = (this.attr('class') || '').match(/[0-9A-Z]+(?:-[0-9A-Z]+)?/g);\n\t\n\t\t\treturn classes && (classes.length === 1 ? classes[0] : classes);\n\t\t};\n\t\n\t\tthis.size = function () {\n\t\t\tvar size;\n\t\n\t\t\tif (!arguments.length) {\n\t\t\t\tsize = _typesDimensions.Size.create().set(this.width(), this.height());\n\t\t\t} else {\n\t\t\t\tsize = _typesDimensions.Size.create(arguments);\n\t\t\t\tthis.css(size);\n\t\t\t}\n\t\n\t\t\treturn size;\n\t\t};\n\t\n\t\tthis.position = function () {\n\t\t\tvar pos;\n\t\n\t\t\tif (!arguments.length) {\n\t\t\t\tpos = original.position.call(this);\n\t\t\t\tpos = _typesDimensions.Point.create().set(pos.left, pos.top);\n\t\t\t} else {\n\t\t\t\tpos = _typesDimensions.Point.create(arguments);\n\t\n\t\t\t\tthis.css({\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\tleft: pos.x,\n\t\t\t\t\ttop: pos.y\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn pos;\n\t\t};\n\t\n\t\t/**\n\t  * Provides the jQuery offset for the first node in the collection.\n\t  * Given a point, all nodes in the collection will get {position: absolute;} to the corrdinates.\n\t  * @function external:jQuery#absolutePosition\n\t  * @returns {Point}\n\t  */\n\t\tthis.absolutePosition = function () {\n\t\t\tvar offset;\n\t\n\t\t\tif (!arguments.length) {\n\t\t\t\toffset = this.offset();\n\t\n\t\t\t\treturn _typesDimensions.Point.create().set(offset.left, offset.top);\n\t\t\t} else {\n\t\t\t\toffset = _typesDimensions.Point.create(arguments);\n\t\n\t\t\t\tthis.css({\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: offset.y,\n\t\t\t\t\tleft: offset.x\n\t\t\t\t});\n\t\n\t\t\t\treturn offset;\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t  * Sets a CSS matrix transform on all nodes in the collection. (overloaded)\n\t  * @function external:jQuery#transform\n\t  * @arg {number} [_scaleX] - scale x\n\t  * @arg {number} [_shearY] - shear y\n\t  * @arg {number} [_shearX] - shear x\n\t  * @arg {number} [_scaleY] - scale y\n\t  * @arg {number} [_translateX] - translate x\n\t  * @arg {number} [_translateY] - translate y\n\t  * @returns {Matrix}\n\t  */\n\t\n\t\t/**\n\t  * Provides the CSS matrix transform for the first node in the collection.\n\t  * @function external:jQuery#transform\n\t  * @returns {Matrix}\n\t  */\n\t\tthis.transform = function () {\n\t\t\tvar t, matrix, is3d;\n\t\n\t\t\tmatrix = new _libMatrix2['default']();\n\t\n\t\t\tif (!arguments.length) {\n\t\t\t\tt = this.css('transform');\n\t\t\t\tis3d = !! ~t.indexOf('matrix3d');\n\t\n\t\t\t\tif (t !== 'none') {\n\t\t\t\t\tt = ((t.match(/\\(([,\\d\\.\\s\\-]+)\\)/) || [])[1] || '').split(/\\s*,\\s*/);\n\t\t\t\t\tif (is3d) {\n\t\t\t\t\t\tt = (function (_matrix) {\n\t\t\t\t\t\t\tvar i, result;\n\t\n\t\t\t\t\t\t\tresult = [];\n\t\n\t\t\t\t\t\t\tfor (i = 0; i < _matrix.length; i += 4) {\n\t\t\t\t\t\t\t\tresult = result.concat(_matrix.slice(i, i + 2));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t})(t);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tt = t.map(parseFloat);\n\t\n\t\t\t\t\tmatrix.setTransform.apply(matrix, t);\n\t\n\t\t\t\t\treturn matrix;\n\t\t\t\t}\n\t\n\t\t\t\treturn t;\n\t\t\t}\n\t\n\t\t\tmatrix.setTransform.apply(matrix, arguments);\n\t\n\t\t\tthis.css('transform', matrix.toCSS());\n\t\n\t\t\treturn matrix;\n\t\t};\n\t\n\t\t/**\n\t  * Getter/Setter for the CSS transform translation. (overloaded)\n\t  * @function external:jQuery#transformPosition\n\t  * @arg {Point} _point - A point object {x,y}\n\t  * @returns {Point}\n\t  */\n\t\n\t\t/**\n\t  * Getter/Setter for the CSS transform translation.\n\t  * @function external:jQuery#transformPosition\n\t  * @arg {number} _x - x coordinate\n\t  * @arg {number} _y - y coordinate\n\t  * @returns {Point}\n\t  */\n\t\tthis.transformPosition = function () {\n\t\t\tvar matrix, point;\n\t\n\t\t\tmatrix = this.transform();\n\t\t\tpoint = _typesDimensions.Point.create().set(0, 0);\n\t\n\t\t\tif (!arguments.length) {\n\t\t\t\tif (matrix !== 'none') point.set(matrix.e, matrix.f);\n\t\t\t} else {\n\t\t\t\tif (matrix === 'none') matrix = new _libMatrix2['default']();\n\t\n\t\t\t\tpoint.set.apply(point, arguments);\n\t\t\t\tmatrix.translate(point.x, point.y);\n\t\t\t\tthis.css('transform', matrix.toCSS());\n\t\t\t}\n\t\n\t\t\treturn point;\n\t\t};\n\t\n\t\t/**\n\t  * Getter for the CSS transform scale. (overloaded)\n\t  * @function external:jQuery#transformPosition\n\t  * @returns {Point}\n\t  */\n\t\n\t\t/**\n\t  * Setter for the CSS transform scale. (overloaded)\n\t  * @function external:jQuery#transformPosition\n\t  * @arg {Point} _point - A point object {x,y}\n\t  * @returns {Point}\n\t  */\n\t\n\t\t/**\n\t  * Setter for the CSS transform scale.\n\t  * @function external:jQuery#transformPosition\n\t  * @arg {number} _x - x coordinate\n\t  * @arg {number} _y - y coordinate\n\t  * @returns {Point}\n\t  */\n\t\tthis.transformScale = function () {\n\t\t\tvar matrix, scale;\n\t\n\t\t\tmatrix = this.transform();\n\t\t\tscale = _typesDimensions.Point.create().set(1, 1);\n\t\n\t\t\tif (!arguments.length) {\n\t\t\t\tif (matrix !== 'none') scale.set(matrix.a, matrix.d);\n\t\t\t} else {\n\t\t\t\tif (matrix === 'none') matrix = new _libMatrix2['default']();\n\t\n\t\t\t\tscale.set.apply(scale, arguments);\n\t\t\t\tmatrix.scale(scale.x, scale.y);\n\t\t\t\tthis.css('transform', matrix.toCSS());\n\t\t\t}\n\t\n\t\t\treturn scale;\n\t\t};\n\t\n\t\t/**\n\t  * Accessor method for `pl` attributes.\n\t  */\n\t\tthis.pl = function (_name, _value) {\n\t\t\tvar args, result;\n\t\n\t\t\tif (!_name) {\n\t\t\t\tresult = {};\n\t\t\t\tthis.each(function () {\n\t\t\t\t\t_Array$forEach(this.attributes, function (_attr) {\n\t\t\t\t\t\tif (_attr.name.indexOf('pl-') === 0) {\n\t\t\t\t\t\t\tresult[_attr.name.slice(3)] = _attr.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\t}\n\t\n\t\t\targs = ['pl-' + _name];\n\t\t\tif (typeof _value !== 'undefined') args.push(_value);\n\t\n\t\t\tif (_value === null) {\n\t\t\t\tthis.removeAttr('pl-' + _name);\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\treturn this.attr.apply(this, args);\n\t\t};\n\t\n\t\t/**\n\t  * Invoke a method of each item in the set of matched elements.\n\t  */\n\t\tthis.exec = function (_method, _args) {\n\t\t\treturn this.map(function () {\n\t\t\t\tif (typeof this[_method] === 'function') return this[_method].apply(this, _args);\n\t\t\t}).toArray();\n\t\t};\n\t}).call($.fn);\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(6), __esModule: true };\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(7);\n\tmodule.exports = __webpack_require__(11).Array.forEach;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// JavaScript 1.6 / Strawman array statics shim\n\tvar $       = __webpack_require__(8)\n\t  , $export = __webpack_require__(9)\n\t  , $ctx    = __webpack_require__(12)\n\t  , $Array  = __webpack_require__(11).Array || Array\n\t  , statics = {};\n\tvar setStatics = function(keys, length){\n\t  $.each.call(keys.split(','), function(key){\n\t    if(length == undefined && key in $Array)statics[key] = $Array[key];\n\t    else if(key in [])statics[key] = $ctx(Function.call, [][key], length);\n\t  });\n\t};\n\tsetStatics('pop,reverse,shift,keys,values,entries', 1);\n\tsetStatics('indexOf,every,some,forEach,map,filter,find,findIndex,includes', 3);\n\tsetStatics('join,slice,concat,push,splice,unshift,sort,lastIndexOf,' +\n\t           'reduce,reduceRight,copyWithin,fill');\n\t$export($export.S, 'Array', statics);\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tvar $Object = Object;\n\tmodule.exports = {\n\t  create:     $Object.create,\n\t  getProto:   $Object.getPrototypeOf,\n\t  isEnum:     {}.propertyIsEnumerable,\n\t  getDesc:    $Object.getOwnPropertyDescriptor,\n\t  setDesc:    $Object.defineProperty,\n\t  setDescs:   $Object.defineProperties,\n\t  getKeys:    $Object.keys,\n\t  getNames:   $Object.getOwnPropertyNames,\n\t  getSymbols: $Object.getOwnPropertySymbols,\n\t  each:       [].forEach\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar global    = __webpack_require__(10)\n\t  , core      = __webpack_require__(11)\n\t  , ctx       = __webpack_require__(12)\n\t  , PROTOTYPE = 'prototype';\n\t\n\tvar $export = function(type, name, source){\n\t  var IS_FORCED = type & $export.F\n\t    , IS_GLOBAL = type & $export.G\n\t    , IS_STATIC = type & $export.S\n\t    , IS_PROTO  = type & $export.P\n\t    , IS_BIND   = type & $export.B\n\t    , IS_WRAP   = type & $export.W\n\t    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n\t    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n\t    , key, own, out;\n\t  if(IS_GLOBAL)source = name;\n\t  for(key in source){\n\t    // contains in native\n\t    own = !IS_FORCED && target && key in target;\n\t    if(own && key in exports)continue;\n\t    // export native or passed\n\t    out = own ? target[key] : source[key];\n\t    // prevent global pollution for namespaces\n\t    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n\t    // bind timers to global for call from export context\n\t    : IS_BIND && own ? ctx(out, global)\n\t    // wrap global constructors for prevent change them in library\n\t    : IS_WRAP && target[key] == out ? (function(C){\n\t      var F = function(param){\n\t        return this instanceof C ? new C(param) : C(param);\n\t      };\n\t      F[PROTOTYPE] = C[PROTOTYPE];\n\t      return F;\n\t    // make static versions for prototype methods\n\t    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n\t    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n\t  }\n\t};\n\t// type bitmap\n\t$export.F = 1;  // forced\n\t$export.G = 2;  // global\n\t$export.S = 4;  // static\n\t$export.P = 8;  // proto\n\t$export.B = 16; // bind\n\t$export.W = 32; // wrap\n\tmodule.exports = $export;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n\t  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\tif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tvar core = module.exports = {version: '1.2.6'};\n\tif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// optional / simple context binding\n\tvar aFunction = __webpack_require__(13);\n\tmodule.exports = function(fn, that, length){\n\t  aFunction(fn);\n\t  if(that === undefined)return fn;\n\t  switch(length){\n\t    case 1: return function(a){\n\t      return fn.call(that, a);\n\t    };\n\t    case 2: return function(a, b){\n\t      return fn.call(that, a, b);\n\t    };\n\t    case 3: return function(a, b, c){\n\t      return fn.call(that, a, b, c);\n\t    };\n\t  }\n\t  return function(/* ...args */){\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(it){\n\t  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n\t  return it;\n\t};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _Object$defineProperties = __webpack_require__(15)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * \n\t * @module\n\t * @version 1.1\n\t * @author Micah Rolon <functionmicah@gmail.com>\n\t * @requires module:types/BasicArray~BasicArray\n\t *\n\t * @desc *Created: 11/12/14*\n\t *\n\t * This file contains objects for containing values about a plane. i.e. x or width.\n\t * Adds the convenience of keeping these values paired to passed around your application.\n\t * It also includes methods which you perform on the values and returns a new object\n\t * so the original values are maintained.\n\t *\n\t * #### Usage\n\t *\n\t * New instances can be created by calling the create method.\n\t * ```\n\t * cursorLocation = Point.create();\n\t * ```\n\t *\n\t * Then call `set()` to apply your values.\n\t * ```\n\t * cursorLocation.set(event.clientX, event.clientY);\n\t * ```\n\t *\n\t * Then you can use the calculation methods to perform transformations.\n\t * ```\n\t * relativeCursor = cursorLocation.scale(zoom);\n\t * ```\n\t *\n\t * #### Developer Notes\n\t *\n\t * When adding new methods make sure you are returning a new instance.\n\t * Dimensional objects are meant to be immutable.\n\t *\n\t * Follow this pattern:\n\t * ```\n\t * this.method = function () {\n\t *     // set with your calculated values.\n\t *     return this.create().set( ... )\n\t * }\n\t * ```\n\t *\n\t * #### Change Log\n\t * *v1.1 - 12/13/15*\n\t * - Defined setter/getter properties for unique planes keys. You can now do `point.width = 10`.\n\t */\n\t\n\t/*jslint browser: true, eqeq: true, nomen: true, sloppy: true, white: true */\n\t\n\tvar _typesBasicArray = __webpack_require__(17);\n\t\n\tvar _typesBasicArray2 = _interopRequireDefault(_typesBasicArray);\n\t\n\tvar Dimension, Size, Point;\n\t\n\t/**\n\t * The native Array\n\t * @external Array\n\t * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array}\n\t */\n\t\n\t/**\n\t * Array prototype extension\n\t * Creates an instance of `_Thing` and passes the array to its set function as its arguments.\n\t * @function external:Array#to\n\t * @arg {Point|Size|string} _Thing - A Dimension object or one the strings 'point'/'size'\n\t * @example\n\t * somePoint = [10, 10].to(Point);\n\t * somePoint = [10, 10].to('point');\n\t */\n\tArray.prototype.to = function (_Thing) {\n\t\tvar map;\n\t\n\t\tmap = {\n\t\t\tpoint: Point,\n\t\t\tsize: Size\n\t\t};\n\t\n\t\tif (typeof _Thing === 'string') {\n\t\t\treturn map[_Thing.toLowerCase()].create().set(this);\n\t\t} else if (typeof _Thing === 'object' && ~[Point.set, Size.set].indexOf(_Thing.set)) {\n\t\t\tif (!_Thing.isPrototypeOf(this)) {\n\t\t\t\treturn _Thing.set.apply(_Thing.create(), this);\n\t\t\t}\n\t\t}\n\t\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Dimension.create()` to get a new instance.\n\t * @class\n\t * @classdesc Base class for dimensional objects consisting of 2 planes.<br>\n\t * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n\t * @extends module:types/BasicArray~BasicArray\n\t */\n\tDimension = _typesBasicArray2['default'].extend(function () {\n\t\tvar originalMap;\n\t\n\t\toriginalMap = this.map;\n\t\n\t\tthis[0] = this[1] = 0;\n\t\tthis.planeMap = null, this.length = 2;\n\t\n\t\t/**\n\t  * Provides a new instance.\n\t  * @arg {array} _argumentsArray - Create a new instace with an arguments array.\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.create = function (_argumentsArray) {\n\t\t\tvar instance;\n\t\n\t\t\tinstance = this.proto();\n\t\n\t\t\tif (_argumentsArray) instance.set.apply(instance, _argumentsArray);\n\t\n\t\t\treturn instance;\n\t\t};\n\t\n\t\t/**\n\t  * Incerement each plane by a value or specify each plane.\n\t  * @arg {number} _val - plane a of (a,b)\n\t  * @arg {number} [_plane2] - plane b of (a,b)\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.inc = function (_val, _plane2) {\n\t\t\tvar a, b;\n\t\n\t\t\tif (_val.length === 2) {\n\t\t\t\ta = _val[0];\n\t\t\t\tb = _val[1];\n\t\t\t} else if (_plane2 != null) {\n\t\t\t\ta = _val;\n\t\t\t\tb = _plane2;\n\t\t\t} else {\n\t\t\t\ta = b = _val;\n\t\t\t}\n\t\n\t\t\treturn this.create().set(this[0] + a, this[1] + b);\n\t\t};\n\t\n\t\t/**\n\t  * Decerement each plane by a value or specify each plane.\n\t  * @arg {number} _val - plane a of (a,b)\n\t  * @arg {number} [_plane2] - plane b of (a,b)\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.dec = function (_val, _plane2) {\n\t\t\tvar a, b;\n\t\n\t\t\tif (_val.length === 2) {\n\t\t\t\ta = _val[0];\n\t\t\t\tb = _val[1];\n\t\t\t} else if (_plane2 != null) {\n\t\t\t\ta = _val;\n\t\t\t\tb = _plane2;\n\t\t\t} else {\n\t\t\t\ta = b = _val;\n\t\t\t}\n\t\n\t\t\treturn this.create().set(this[0] - a, this[1] - b);\n\t\t};\n\t\n\t\t/**\n\t  * Multiply each plane by a value or specify each plane.\n\t  * @arg {number} _scale - plane a of (a,b)\n\t  * @arg {number} [_plane2] - plane b of (a,b)\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.scale = function (_scale, _plane2) {\n\t\t\treturn this.create().set(this[0] * _scale, this[1] * (_plane2 != null ? _plane2 : _scale));\n\t\t};\n\t\n\t\t/**\n\t  * Perfom a Math function on each plane\n\t  * @arg {string} _fun - a string of the function name in the JS Math object,\n\t  * followed by the whatever arguments the function takes after its first\n\t  * since the first argument is the plane value.\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.math = function (_fun) {\n\t\t\tvar args = [].slice.call(arguments, 1);\n\t\n\t\t\treturn this.create().set(Math[_fun].apply(Math, [this[0]].concat(args)), Math[_fun].apply(Math, [this[1]].concat(args)));\n\t\t};\n\t\n\t\t/**\n\t  * Takes each plane value and passes it to parseInt().\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.parseInt = function () {\n\t\t\treturn this.create().set(parseInt(this[0]), parseInt(this[1]));\n\t\t};\n\t\n\t\t/**\n\t  * Takes each plane value and passes it to parseFloat().\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.parseFloat = function () {\n\t\t\treturn this.create().set(parseFloat(this[0]), parseFloat(this[1]));\n\t\t};\n\t\n\t\t/**\n\t  * Resolves the name of the plane at the given index.\n\t  * @arg {number} _index - The index of the plane.\n\t  * @returns {string}\n\t  */\n\t\tthis.planeOf = function (_index) {\n\t\t\tif (isNaN(parseInt(_index))) return null;\n\t\t\treturn this.planeMap[_index];\n\t\t};\n\t\n\t\t/**\n\t  * Make a new array by iterating over each plane.<br>\n\t  * See [`Array.prototype.map()`]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map}\n\t  * @arg {function} _handler - handler for each index.\n\t  * @override\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.map = function (_handler) {\n\t\t\treturn originalMap.call(this, _handler).to(Object.getPrototypeOf(this));\n\t\t};\n\t\n\t\t/**\n\t  * Multiplies the planes.\n\t  * @returns {number}\n\t  */\n\t\tthis.product = function () {\n\t\t\treturn this[0] * this[1];\n\t\t};\n\t\n\t\t/**\n\t  * Divides the planes.\n\t  * @returns {number}\n\t  */\n\t\tthis.ratio = function () {\n\t\t\treturn this[0] / this[1];\n\t\t};\n\t\n\t\tthis.quotient = function () {\n\t\t\treturn Math.floor(this[0] / this[1]);\n\t\t};\n\t\n\t\tthis.remainder = function () {\n\t\t\treturn this[0] % this[1];\n\t\t};\n\t});\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Size.create()` to get a new instance.\n\t * @class\n\t * @extends module:types/Dimensions~Dimension\n\t * @classdesc 2 Dimensional object containing width and height.<br>\n\t * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n\t * @prop {number} width - The width.\n\t * @prop {number} height - The height.\n\t */\n\tSize = Dimension.extend(function () {\n\t\t/**\n\t  * Maps the names of the indexes.<br>\n\t  * See [Dimension#planeOf]{@link module:types/Dimensions~Dimension#planeOf} for resolving plane name.\n\t  * @protected\n\t  * @default ['width', 'height']\n\t  */\n\t\tthis.planeMap = ['width', 'height'];\n\t\n\t\t_Object$defineProperties(this, {\n\t\t\twidth: {\n\t\t\t\tget: function get() {\n\t\t\t\t\treturn this[0];\n\t\t\t\t},\n\t\n\t\t\t\tset: function set(_val) {\n\t\t\t\t\tthis[0] = Number(_val);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\theight: {\n\t\t\t\tget: function get() {\n\t\t\t\t\treturn this[1];\n\t\t\t\t},\n\t\n\t\t\t\tset: function set(_val) {\n\t\t\t\t\tthis[1] = Number(_val);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * Define the size with an object. (overloaded)\n\t  * @function module:types/Dimensions~Size#set\n\t  * @arg {object} _size - A size object {width, height}.\n\t  * @returns {Size}\n\t  */\n\t\n\t\t/**\n\t  * Define the size with an array. (overloaded)\n\t  * @function module:types/Dimensions~Size#set\n\t  * @arg {array} _size - A size array [width, height].\n\t  * @returns {Size}\n\t  */\n\t\n\t\t/**\n\t  * Define the size.\n\t  * @arg {number} _width - The width.\n\t  * @arg {number} _height - The height.\n\t  * @returns {Size}\n\t  */\n\t\tthis.set = function (_width, _height) {\n\t\t\tif (arguments.length === 1) {\n\t\t\t\tif (_width.width !== undefined && _width.height !== undefined) {\n\t\t\t\t\tthis[0] = Number(_width.width);\n\t\t\t\t\tthis[1] = Number(_width.height);\n\t\t\t\t} else if (_width.length === 2) {\n\t\t\t\t\tthis[0] = Number(_width[0]);\n\t\t\t\t\tthis[1] = Number(_width[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis[0] = Number(_width);\n\t\t\t\tthis[1] = Number(_height);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Calculates the hypotenuse.\n\t  * @see {@link https://en.wikipedia.org/wiki/Hypotenuse}\n\t  * @returns {number}\n\t  */\n\t\tthis.hypotenuse = function () {\n\t\t\treturn Math.sqrt(Math.pow(this.width, 2) + Math.pow(this.height, 2));\n\t\t};\n\t\n\t\t/**\n\t  * Sets width and height properties on the given object. If the object is an HTML node then it will be set on the nodes style object.\n\t  * @arg {object|HTMLElement} - The object or DOM node.\n\t  * @returns {this}\n\t  */\n\t\tthis.applyTo = function (_object) {\n\t\t\tif (_object.nodeType === document.ELEMENT_NODE) {\n\t\t\t\tif (!(_object.width !== undefined || _object.height !== undefined)) {\n\t\t\t\t\t_object.style.width = this.width;\n\t\t\t\t\t_object.style.height = this.height;\n\t\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t_object.width = this.width;\n\t\t\t_object.height = this.height;\n\t\n\t\t\treturn this;\n\t\t};\n\t});\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Point.create()` to get a new instance.\n\t * @class\n\t * @extends module:types/Dimensions~Dimension\n\t * @classdesc Object containing coordinates on a 2-dimensional cartesian plane.<br>\n\t * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n\t * @prop {number} x - The x coordinate.\n\t * @prop {number} y - The y coordinate.\n\t */\n\tPoint = Dimension.extend(function () {\n\t\t/**\n\t  * Maps the names of the indexes.<br>\n\t  * See [Dimension#planeOf]{@link module:types/Dimensions~Dimension#planeOf} for resolving plane name.\n\t  * @protected\n\t  * @default ['x', 'y']\n\t  */\n\t\tthis.planeMap = ['x', 'y'];\n\t\n\t\t_Object$defineProperties(this, {\n\t\t\tx: {\n\t\t\t\tget: function get() {\n\t\t\t\t\treturn this[0];\n\t\t\t\t},\n\t\n\t\t\t\tset: function set(_val) {\n\t\t\t\t\tthis[0] = Number(_val);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\ty: {\n\t\t\t\tget: function get() {\n\t\t\t\t\treturn this[1];\n\t\t\t\t},\n\t\n\t\t\t\tset: function set(_val) {\n\t\t\t\t\tthis[1] = Number(_val);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * Define the point with an object. (overloaded)\n\t  * @function module:types/Dimensions~Point#set\n\t  * @arg {object} _point - A point object {x, y}.\n\t  * @returns {Point}\n\t  */\n\t\n\t\t/**\n\t  * Define the point with an array. (overloaded)\n\t  * @function module:types/Dimensions~Point#set\n\t  * @arg {array} _point - A point array [x, y].\n\t  * @returns {Point}\n\t  */\n\t\n\t\t/**\n\t  * Define the point.\n\t  * @arg {number} _x - The x.\n\t  * @arg {number} _y - The y.\n\t  * @returns {Point}\n\t  */\n\t\tthis.set = function (_x, _y) {\n\t\t\tif (arguments.length === 1) {\n\t\t\t\tif (_x.x !== undefined && _x.y !== undefined) {\n\t\t\t\t\tthis[0] = Number(_x.x);\n\t\t\t\t\tthis[1] = Number(_x.y);\n\t\t\t\t} else if (_x.length === 2) {\n\t\t\t\t\tthis[0] = Number(_x[0]);\n\t\t\t\t\tthis[1] = Number(_x[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis[0] = Number(_x);\n\t\t\t\tthis[1] = Number(_y);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Calculates the distance between the insatnce and a point object.\n\t  * @arg {Point} _point - A point object {x,y}.\n\t  * @returns {Size}\n\t  */\n\t\tthis.distance = function (_point) {\n\t\t\tif (_point.x !== undefined && _point.y !== undefined) {\n\t\t\t\treturn Size.create().set(_point.x - this.x, _point.y - this.y);\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\t};\n\t\n\t\t/**\n\t  * Sets x and y properties on the given object. If the object is an HTML node then the left and top properties will be set on the nodes style object.\n\t  * @arg {object|HTMLElement} - The object or DOM node.\n\t  * @returns {this}\n\t  */\n\t\tthis.applyTo = function (_object) {\n\t\t\tif (_object.nodeType === document.ELEMENT_NODE) {\n\t\t\t\t_object.style.left = this.x;\n\t\t\t\t_object.style.top = this.y;\n\t\t\t} else {\n\t\t\t\t_object.x = this.x;\n\t\t\t\t_object.y = this.y;\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Rotate the point based on an origin point and an angle in degrees.\n\t  * @arg {Point} _origin - A point object {x,y}.\n\t  * @arg {number} _angle - The angle of rotation in degrees.\n\t  * @returns {this}\n\t  */\n\t\tthis.rotate = function (_origin, _angle) {\n\t\t\tvar x, y, rad;\n\t\n\t\t\trad = _angle * (Math.PI / 180);\n\t\n\t\t\tx = this.x - _origin.x;\n\t\t\ty = this.y - _origin.y;\n\t\n\t\t\treturn this.create().set(Math.sin(rad) * x - Math.cos(rad) * y + _origin.x, Math.cos(rad) * x + Math.sin(rad) * y + _origin.y);\n\t\t};\n\t});\n\t\n\texports['default'] = { Dimension: Dimension, Size: Size, Point: Point };\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(16), __esModule: true };\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(8);\n\tmodule.exports = function defineProperties(T, D){\n\t  return $.setDescs(T, D);\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Base object type for 'array like' objects.\n\t * @module\n\t * @requires module:util\n\t * @requires module:types/Basic\n\t */\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesBasic = __webpack_require__(19);\n\t\n\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `BasicArray.create()` to get a new instance.\n\t * @classdesc A base object type for 'array like' object.\n\t * @class\n\t * @extends external:Array\n\t * @extends module:types/Basic~Basic\n\t * @mixes module:types/Basic~Basic\n\t */\n\tvar BasicArray = (function () {\n\t  /**\n\t   * Objects with this as an own property will be identified as the root object.\n\t   * @memberof module:types/BasicArray~BasicArray\n\t   * @readonly\n\t   * @default\n\t   */\n\t  this.baseType = 'TYPE_BASIC_ARRAY';\n\t\n\t  _util2['default'].mixin(this, _typesBasic2['default']);\n\t\n\t  return this;\n\t}).call([]);\n\t\n\texports['default'] = BasicArray;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\texports.__esModule = true;\n\t/**\n\t * Utility functions.\n\t * @namespace\n\t * @author Micah Rolon <micah@ginasink.com>\n\t * @memberof module:play~pl\n\t */\n\tvar util = new function () {\n\t\n\t\t/**\n\t  * Accepts one or more objects to combine their own properties to single object.\n\t  * @arg {object} _target - The object that will recieve all members.\n\t  * @arg {object} _sources... - The object(s) to join with the '_target'.\n\t  * @returns {object} _target\n\t  */\n\t\tthis.mixin = function () {\n\t\t\tvar member, i, target, objs;\n\t\n\t\t\ttarget = arguments[0];\n\t\t\tobjs = [].slice.call(arguments, 1);\n\t\n\t\t\tfor (i = 0; i < objs.length; i += 1) {\n\t\t\t\tfor (member in objs[i]) {\n\t\t\t\t\tif (!objs[i].hasOwnProperty(member)) continue;\n\t\t\t\t\ttarget[member] = objs[i][member];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn target;\n\t\t};\n\t\n\t\t/**\n\t  * Matches the name of the key which references the given pointer inside an object. Like indexOf() for objects.\n\t  * @arg {object} _obj - Object to search in.\n\t  * @arg {*} _member - The reference which is expected to be in the object as a property.\n\t  * @returns {string} The name of the key in the object matching '_member'.\n\t  */\n\t\tthis.keyOf = function (_obj, _member) {\n\t\t\tvar member;\n\t\n\t\t\tfor (member in _obj) {\n\t\t\t\tif (!_obj.hasOwnProperty(member)) continue;\n\t\t\t\tif (_obj[member] === _member) return member;\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\t};\n\t\n\t\t/**\n\t  * Matches the object, deep in the prototype chain, which is the owner of the property referencing the given pointer.\n\t  * @arg {object} _obj - The object to search.\n\t  * @arg {*} _member - The reference which is expected to be a property in the prototype chain.\n\t  * @return {object} An object containing the name of the property and the owning object. {name, object}\n\t  */\n\t\tthis.getOwner = function (_obj, _member) {\n\t\t\tvar prototype, name;\n\t\n\t\t\tprototype = Object.getPrototypeOf(_obj);\n\t\n\t\t\t// keep searching until we go as deep as we can go.\n\t\t\twhile (prototype) {\n\t\t\t\t// search for the key in the prototype\n\t\t\t\tname = util.keyOf(prototype, _member);\n\t\n\t\t\t\t// If we found the key in the prototype then we found\n\t\t\t\t// our match and we can break out of the loop.\n\t\t\t\tif (name) break;\n\t\n\t\t\t\t// Otherwise go deeper (thats what she said ;p)\n\t\t\t\tprototype = Object.getPrototypeOf(prototype);\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tname: name,\n\t\t\t\tobject: prototype\n\t\t\t};\n\t\t};\n\t\n\t\t/**\n\t  * Given a range; provides a random number in that range.\n\t  * @function play~pl.util.random\n\t  * @arg {number} _rangeA - A number for the low end of the range.\n\t  * @arg {number} _rangeB - The top end of the range.\n\t  * @returns {number|*} The resulting number in range or the member found at random.\n\t  */\n\t\n\t\t/**\n\t  * Given an iterable; provides a random item.\n\t  * @arg {array} _collection - The iterable.\n\t  * @returns {number|*} The member found at random.\n\t  */\n\t\tthis.random = function (_collection_rangeA, _rangeB) {\n\t\t\tvar index, val;\n\t\n\t\t\tindex = Math.floor(Math.random() * _collection_rangeA.length);\n\t\n\t\t\tif (arguments.length === 2) {\n\t\t\t\tval = Math.round(Math.random() * _rangeB);\n\t\n\t\t\t\treturn val < _collection_rangeA ? _collection_rangeA : val;\n\t\t\t}\n\t\n\t\t\tif (index === _collection_rangeA.length) index = _collection_rangeA.length - 1;\n\t\n\t\t\treturn _collection_rangeA && _collection_rangeA[index];\n\t\t};\n\t\n\t\t/**\n\t  * Take string and makes it dot notation friendly.\n\t  * @arg {string} _id - The string to transform.\n\t  * @arg {boolean} _camelCase - Transform with camel case.\n\t  * @returns {string}\n\t  */\n\t\tthis.transformId = function (_id, _camelCase) {\n\t\t\tif (_id && _camelCase) {\n\t\t\t\treturn _id.replace(/[-\\s]+([\\w\\d]?)/g, function (_match) {\n\t\t\t\t\treturn RegExp.$1.toUpperCase();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn _id && _id.replace(/[-\\s]+/g, '_');\n\t\t};\n\t\n\t\t/**\n\t  * Test all arguments for != null\n\t  * @return {boolean}\n\t  */\n\t\tthis.isSet = function () {\n\t\t\treturn [].every.call(arguments, function (_arg) {\n\t\t\t\treturn _arg != null;\n\t\t\t});\n\t\t};\n\t\n\t\t/**\n\t  * Parses a formated string and calculates it in milliseconds.\n\t  * @arg {string} _source - The formated string for calculation in the pattern '1d 1h 1m 1s'.\n\t  * @return {number}\n\t  */\n\t\tthis.toMillisec = function (_source) {\n\t\t\tvar tokens, time, units;\n\t\n\t\t\tif (typeof _source === 'number') return _source;\n\t\t\tif (!_source) return;\n\t\n\t\t\ttokens = _source.split(/\\s+/);\n\t\t\ttime = 0;\n\t\t\tunits = {\n\t\t\t\td: 24 * 60 * 60 * 1000,\n\t\t\t\th: 60 * 60 * 1000,\n\t\t\t\tm: 60 * 1000,\n\t\t\t\ts: 1000\n\t\t\t};\n\t\n\t\t\ttokens.forEach(function (_token) {\n\t\t\t\tvar unit, value;\n\t\n\t\t\t\tunit = (_token.match(/[dhms]/) || [])[0];\n\t\n\t\t\t\tif (unit) {\n\t\t\t\t\tvalue = Number(_token.slice(0, -1));\n\t\t\t\t\ttime += value * units[unit];\n\t\t\t\t} else {\n\t\t\t\t\ttime += Number(_token);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\treturn time;\n\t\t};\n\t\n\t\t/**\n\t  * Needs no introduction\n\t  * @arg {iterable} _collection - iterable.\n\t  * @return {array}\n\t  */\n\t\tthis.toArray = function (_collection) {\n\t\t\treturn Array.prototype.map.call(_collection, function (i) {\n\t\t\t\treturn i;\n\t\t\t});\n\t\t};\n\t\n\t\t/**\n\t  * Resolves the value in the object at the given path.\n\t  * @arg {object} _obj - The object to query.\n\t  * @arg {string} _path - The path to the desired reference.\n\t  * @returns {*} The resulting reference value.\n\t  * @example\n\t  * var user = {\n\t  *   name: 'John',\n\t  *   family: {\n\t  *\t   guardians: {David}, // property could be an array of multiple guardians.\n\t  *     siblings: [{Jane}, {Thomas}] // collection of user objects.\n\t  *   }\n\t  * };\n\t  *\n\t  * pl.util.resolvePath(user, 'family.sliblings[2].name');\n\t  * // Matches the `guardians` propery if `guardians[0]` is undefined when `?` is used.\n\t  * pl.util.resolvePath(user, 'family.guardians[0]?.name'); \n\t  */\n\t\tthis.resolvePath = function (_obj, _path) {\n\t\t\tvar path, obj, i, name, index, testArray;\n\t\n\t\t\tpath = _path.split('.');\n\t\t\tobj = _obj;\n\t\t\ti = 0;\n\t\n\t\t\twhile (obj) {\n\t\t\t\ttestArray = /\\?$/.test(path[i]);\n\t\t\t\tindex = (path[i].match(/\\[(\\d+)\\]/) || [])[1] || -1;\n\t\t\t\tname = ~index ? path[i].slice(0, path[i].indexOf('[')) : path[i];\n\t\t\t\tobj = obj[name];\n\t\n\t\t\t\tif (~index && obj) {\n\t\t\t\t\tobj = testArray ? obj[index] || obj : obj[index];\n\t\t\t\t}\n\t\n\t\t\t\ti += 1;\n\t\n\t\t\t\tif (path.length === i) break;\n\t\t\t}\n\t\n\t\t\treturn obj;\n\t\t};\n\t\n\t\tthis.assignRef = function (_obj, _name, _ref) {\n\t\t\tvar name;\n\t\n\t\t\tname = util.transformId(_name, true);\n\t\n\t\t\tif (_obj[name] === _ref) return _ref;\n\t\n\t\t\tif (_obj[name]) {\n\t\t\t\tif (!_obj[name].__refCollction__) {\n\t\t\t\t\t_obj[name] = [_obj[name]];\n\t\n\t\t\t\t\tObject.defineProperty(_obj[name], '__refCollction__', {\n\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\tenumerable: false,\n\t\t\t\t\t\twriteable: false,\n\t\t\t\t\t\tconfigureable: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\t_obj[name].push(_ref);\n\t\t\t} else {\n\t\t\t\t_obj[name] = _ref;\n\t\t\t}\n\t\n\t\t\treturn _obj[name];\n\t\t};\n\t\n\t\t/**\n\t  * N0 OPeration.\n\t  */\n\t\tthis.noop = function () {};\n\t\n\t\t/**\n\t  * Get the file name out of a simple file path.\n\t  * @arg {string} _path - The file path. \n\t  * @returns {string} The extracted name.\n\t  */\n\t\tthis.resolveFileName = function (_path) {\n\t\t\treturn _path.slice(_path.lastIndexOf('/') + 1);\n\t\t};\n\t\n\t\t/**\n\t  * Produces a string following the specied pattern. Which is a mix of x, y, z and - characters.\n\t  * - x; produces a letter a-f.\n\t  * - y; produces a digit 0-9.\n\t  * - z; produces a 4 character hex value derived from the now time stamp.\n\t  * @arg {string} _pattern - The xyz pattern.\n\t  * @returns {string} The generated ID.\n\t  */\n\t\tthis.createId = function (_pattern) {\n\t\t\treturn (_pattern || 'xy-z').replace(/[xyz]/g, function (_token) {\n\t\t\t\tif (_token === 'x') return (Math.floor(Math.random() * 5) + 10).toString(16);\n\t\t\t\tif (_token === 'y') return Math.floor(Math.random() * 10).toString(16);\n\t\t\t\treturn Math.floor(Math.random() * Date.now()).toString(16).slice(0, 4);\n\t\t\t});\n\t\t};\n\t}();\n\t\n\texports['default'] = util;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _Object$create = __webpack_require__(20)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Base object type for 'classes' implementing methods for extention and super callbacks.\n\t * @module\n\t * @requires module:play~pl.util\n\t */\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Basic.create()` to get a new instance.\n\t * @classdesc The base type for all objects which will act as prototypes.\n\t * @class\n\t */\n\tvar Basic = {\n\t\t/**\n\t  * Objects with this as an own property will be identified as the root object.\n\t  * @readonly\n\t  * @default\n\t  */\n\t\tbaseType: 'TYPE_BASIC',\n\t\n\t\t/**\n\t  * Creates a new object with the current object as its prototype.\n\t  * @instance\n\t  * @returns {Basic} The new instance.\n\t  */\n\t\tcreate: function create() {\n\t\t\treturn _Object$create(this);\n\t\t},\n\t\n\t\t/**\n\t  * Creates a new object using a constructor function or object with the current object as its prototype.\n\t  * @instance\n\t  * @arg {Function|Object} _implementation - The implementation of the new type as either a constructor function or object to mixin.\n\t  * @returns {Basic} The new instance.\n\t  *\n\t  * @todo define constructor property\n\t  */\n\t\textend: function extend(_implementation) {\n\t\t\tvar instance;\n\t\n\t\t\tif (!_implementation) return null;\n\t\n\t\t\tswitch (typeof _implementation) {\n\t\t\t\tcase 'function':\n\t\t\t\t\t_implementation.prototype = this;\n\t\t\t\t\tinstance = new _implementation();\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'object':\n\t\t\t\t\tinstance = this.create();\n\t\t\t\t\tinstance.mixin(_implementation);\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.error('TypeError: Invalid type given for object extention.', typeof _implementation);\n\t\t\t}\n\t\n\t\t\treturn instance;\n\t\t},\n\t\n\t\t/**\n\t  * Accepts one or more objects to combine their own properties to the instance.\n\t  * @instance\n\t  * @arg {object} _sources... - The object(s) to join with the instance.\n\t  * @returns this\n\t  */\n\t\tmixin: function mixin() {\n\t\t\treturn _util2['default'].mixin.apply(null, [this].concat([].slice.call(arguments, 0)));\n\t\t},\n\t\n\t\t/**\n\t  * Matches the name of the key which references the given pointer inside the instance. Like indexOf() for objects.\n\t  * @instance\n\t  * @arg {*} _member - The reference which is expected to be in the object as a property.\n\t  * @returns {string} The name of the key in the object matching '_member'.\n\t  */\n\t\tkeyOf: function keyOf(_member) {\n\t\t\treturn _util2['default'].keyOf(this, _member);\n\t\t},\n\t\n\t\t/**\n\t  * Performs a super callback of the function which called it. Allowing you to still invoke a method which was overridden.\n\t  * @instance\n\t  * @arg {*} _args... - Whatever amount of arguments the caller takes.\n\t  * @returns {*} Whatever the caller returns.\n\t  */\n\t\tproto: function proto() {\n\t\t\tvar method, name, owner, prototype;\n\t\n\t\t\t// Get the function which invoked proto() in the call stack.\n\t\t\t// If the caller is a behavior then we retrieve the method.\n\t\t\tmethod = this.proto.caller.method || this.proto.caller;\n\t\n\t\t\t// Check to see if 'this' owns the method.\n\t\t\t// NOTE: We may want to move this logic into getOwner().\n\t\t\tif (name = this.keyOf(method)) {\n\t\t\t\tprototype = Object.getPrototypeOf(this);\n\t\t\t}\n\t\n\t\t\t// Otherwise find the object which owns the caller function.\n\t\t\telse {\n\t\t\t\t\towner = _util2['default'].getOwner(this, method);\n\t\t\t\t\tname = owner.name;\n\t\t\t\t\tprototype = Object.getPrototypeOf(owner.object);\n\t\t\t\t}\n\t\n\t\t\tmethod = prototype[name];\n\t\n\t\t\tif (!method) {\n\t\t\t\tconsole.error('ReferenceError: Unable to locate prototype method.', this.proto.caller);\n\t\t\t\tdebugger;\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\treturn method.apply(this, arguments);\n\t\t},\n\t\n\t\t/**\n\t  * Performs a super callback of the function which called it. Unlike `proto()` which looks for the overidden method, sup looks for the base class' implementation.\n\t  * @instance\n\t  * @arg {*} _args... - Whatever amount of arguments the caller takes.\n\t  * @returns {*} Whatever the caller returns.\n\t  */\n\t\tsup: function sup() {\n\t\t\tvar method, name, owner, prototype;\n\t\n\t\t\t// Get the function which invoked sup() in the call stack.\n\t\t\tmethod = this.sup.caller;\n\t\t\towner = _util2['default'].getOwner(this, this.baseType);\n\t\t\tprototype = owner.object;\n\t\t\tname = this.keyOf(method);\n\t\n\t\t\t// Check to see if 'this' owns the method.\n\t\t\t// NOTE: We may want to move this logic into getOwner().\n\t\t\t//\n\t\t\tif (!name) {\n\t\t\t\towner = _util2['default'].getOwner(this, method);\n\t\t\t\tname = owner.name;\n\t\t\t}\n\t\n\t\t\tmethod = prototype[name];\n\t\n\t\t\tif (!method) {\n\t\t\t\tconsole.error('ReferenceError: Unable to locate prototype method.', this.sup.caller);\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\treturn method.apply(this, arguments);\n\t\t},\n\t\n\t\t/**\n\t  * Provides the object type.\n\t  * @instance\n\t  */\n\t\ttoString: function toString() {\n\t\t\tvar type;\n\t\n\t\t\tif (this.baseType) {\n\t\t\t\ttype = this.baseType.replace('TYPE_', '');\n\t\t\t\ttype = type.slice(0, 1) + type.slice(1).toLowerCase();\n\t\t\t} else {\n\t\t\t\ttype = this.constructor.name || 'Object';\n\t\t\t}\n\t\n\t\t\treturn '[object ' + type + ']';\n\t\t}\n\t\n\t};\n\t\n\texports['default'] = Basic;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(21), __esModule: true };\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(8);\n\tmodule.exports = function create(P, D){\n\t  return $.create(P, D);\n\t};\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\texports.__esModule = true;\n\t/**\r\n\t *\r\n\t * Copy of the deleted repository epistemex/transformation-matrix-js.\r\n\t * All rights are reserved to Epistemex.\r\n\t *\r\n\t * 2D transformation matrix object initialized with identity matrix.\r\n\t *\r\n\t * The matrix can synchronize a canvas context by supplying the context\r\n\t * as an argument, or later apply current absolute transform to an\r\n\t * existing context.\r\n\t *\r\n\t * All values are handled as floating point values.\r\n\t *\r\n\t * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n\t * @prop {number} a - scale x\r\n\t * @prop {number} b - shear y\r\n\t * @prop {number} c - shear x\r\n\t * @prop {number} d - scale y\r\n\t * @prop {number} e - translate x\r\n\t * @prop {number} f - translate y\r\n\t * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n\t * @constructor\r\n\t */\n\tfunction Matrix(context) {\n\t\n\t    var me = this;\n\t    me._t = me.transform;\n\t\n\t    me.a = me.d = 1;\n\t    me.b = me.c = me.e = me.f = 0;\n\t\n\t    me.context = context;\n\t\n\t    // reset canvas transformations (if any) to enable 100% sync.\n\t    if (context) context.setTransform(1, 0, 0, 1, 0, 0);\n\t}\n\t\n\tMatrix.prototype = {\n\t\n\t    /**\r\n\t     * Concatenates transforms of this matrix onto the given child matrix and\r\n\t     * returns a new matrix. This instance is used on left side.\r\n\t     *\r\n\t     * @param {Matrix} cm - child matrix to apply concatenation to\r\n\t     * @returns {Matrix}\r\n\t     */\n\t    concat: function concat(cm) {\n\t        return this.clone()._t(cm.a, cm.b, cm.c, cm.d, cm.e, cm.f);\n\t    },\n\t\n\t    /**\r\n\t     * Flips the horizontal values.\r\n\t     */\n\t    flipX: function flipX() {\n\t        return this._t(-1, 0, 0, 1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Flips the vertical values.\r\n\t     */\n\t    flipY: function flipY() {\n\t        return this._t(1, 0, 0, -1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Reflects incoming (velocity) vector on the normal which will be the\r\n\t     * current transformed x axis. Call when a trigger condition is met.\r\n\t     *\r\n\t     * NOTE: BETA, simple implementation\r\n\t     *\r\n\t     * @param {number} x - vector end point for x (start = 0)\r\n\t     * @param {number} y - vector end point for y (start = 0)\r\n\t     * @returns {{x: number, y: number}}\r\n\t     */\n\t    reflectVector: function reflectVector(x, y) {\n\t\n\t        var v = this.applyToPoint(0, 1),\n\t            d = 2 * (v.x * x + v.y * y);\n\t\n\t        x -= d * v.x;\n\t        y -= d * v.y;\n\t\n\t        return { x: x, y: y };\n\t    },\n\t\n\t    /**\r\n\t     * Short-hand to reset current matrix to an identity matrix.\r\n\t     */\n\t    reset: function reset() {\n\t        return this.setTransform(1, 0, 0, 1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Rotates current matrix accumulative by angle.\r\n\t     * @param {number} angle - angle in radians\r\n\t     */\n\t    rotate: function rotate(angle) {\n\t        var cos = Math.cos(angle),\n\t            sin = Math.sin(angle);\n\t        return this._t(cos, sin, -sin, cos, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Converts a vector given as x and y to angle, and\r\n\t     * rotates (accumulative).\r\n\t     * @param x\r\n\t     * @param y\r\n\t     * @returns {*}\r\n\t     */\n\t    rotateFromVector: function rotateFromVector(x, y) {\n\t        return this.rotate(Math.atan2(y, x));\n\t    },\n\t\n\t    /**\r\n\t     * Helper method to make a rotation based on an angle in degrees.\r\n\t     * @param {number} angle - angle in degrees\r\n\t     */\n\t    rotateDeg: function rotateDeg(angle) {\n\t        return this.rotate(angle * Math.PI / 180);\n\t    },\n\t\n\t    /**\r\n\t     * Scales current matrix uniformly and accumulative.\r\n\t     * @param {number} f - scale factor for both x and y (1 does nothing)\r\n\t     */\n\t    scaleU: function scaleU(f) {\n\t        return this._t(f, 0, 0, f, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Scales current matrix accumulative.\r\n\t     * @param {number} sx - scale factor x (1 does nothing)\r\n\t     * @param {number} sy - scale factor y (1 does nothing)\r\n\t     */\n\t    scale: function scale(sx, sy) {\n\t        return this._t(sx, 0, 0, sy, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Scales current matrix on x axis accumulative.\r\n\t     * @param {number} sx - scale factor x (1 does nothing)\r\n\t     */\n\t    scaleX: function scaleX(sx) {\n\t        return this._t(sx, 0, 0, 1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Scales current matrix on y axis accumulative.\r\n\t     * @param {number} sy - scale factor y (1 does nothing)\r\n\t     */\n\t    scaleY: function scaleY(sy) {\n\t        return this._t(1, 0, 0, sy, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Apply shear to the current matrix accumulative.\r\n\t     * @param {number} sx - amount of shear for x\r\n\t     * @param {number} sy - amount of shear for y\r\n\t     */\n\t    shear: function shear(sx, sy) {\n\t        return this._t(1, sy, sx, 1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Apply shear for x to the current matrix accumulative.\r\n\t     * @param {number} sx - amount of shear for x\r\n\t     */\n\t    shearX: function shearX(sx) {\n\t        return this._t(1, 0, sx, 1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Apply shear for y to the current matrix accumulative.\r\n\t     * @param {number} sy - amount of shear for y\r\n\t     */\n\t    shearY: function shearY(sy) {\n\t        return this._t(1, sy, 0, 1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Apply skew to the current matrix accumulative.\r\n\t     * @param {number} ax - angle of skew for x\r\n\t     * @param {number} ay - angle of skew for y\r\n\t     */\n\t    skew: function skew(ax, ay) {\n\t        return this.shear(Math.tan(ax), Math.tan(ay));\n\t    },\n\t\n\t    /**\r\n\t     * Apply skew for x to the current matrix accumulative.\r\n\t     * @param {number} ax - angle of skew for x\r\n\t     */\n\t    skewX: function skewX(ax) {\n\t        return this.shearX(Math.tan(ax));\n\t    },\n\t\n\t    /**\r\n\t     * Apply skew for y to the current matrix accumulative.\r\n\t     * @param {number} ay - angle of skew for y\r\n\t     */\n\t    skewY: function skewY(ay) {\n\t        return this.shearY(Math.tan(ay));\n\t    },\n\t\n\t    /**\r\n\t     * Set current matrix to new absolute matrix.\r\n\t     * @param {number} a - scale x\r\n\t     * @param {number} b - shear y\r\n\t     * @param {number} c - shear x\r\n\t     * @param {number} d - scale y\r\n\t     * @param {number} e - translate x\r\n\t     * @param {number} f - translate y\r\n\t     */\n\t    setTransform: function setTransform(a, b, c, d, e, f) {\n\t        var me = this;\n\t        me.a = a;\n\t        me.b = b;\n\t        me.c = c;\n\t        me.d = d;\n\t        me.e = e;\n\t        me.f = f;\n\t        return me._x();\n\t    },\n\t\n\t    /**\r\n\t     * Translate current matrix accumulative.\r\n\t     * @param {number} tx - translation for x\r\n\t     * @param {number} ty - translation for y\r\n\t     */\n\t    translate: function translate(tx, ty) {\n\t        return this._t(1, 0, 0, 1, tx, ty);\n\t    },\n\t\n\t    /**\r\n\t     * Translate current matrix on x axis accumulative.\r\n\t     * @param {number} tx - translation for x\r\n\t     */\n\t    translateX: function translateX(tx) {\n\t        return this._t(1, 0, 0, 1, tx, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Translate current matrix on y axis accumulative.\r\n\t     * @param {number} ty - translation for y\r\n\t     */\n\t    translateY: function translateY(ty) {\n\t        return this._t(1, 0, 0, 1, 0, ty);\n\t    },\n\t\n\t    /**\r\n\t     * Multiplies current matrix with new matrix values.\r\n\t     * @param {number} a2 - scale x\r\n\t     * @param {number} b2 - shear y\r\n\t     * @param {number} c2 - shear x\r\n\t     * @param {number} d2 - scale y\r\n\t     * @param {number} e2 - translate x\r\n\t     * @param {number} f2 - translate y\r\n\t     */\n\t    transform: function transform(a2, b2, c2, d2, e2, f2) {\n\t\n\t        var me = this,\n\t            a1 = me.a,\n\t            b1 = me.b,\n\t            c1 = me.c,\n\t            d1 = me.d,\n\t            e1 = me.e,\n\t            f1 = me.f;\n\t\n\t        /* matrix order (canvas compatible):\r\n\t         * ace\r\n\t         * bdf\r\n\t         * 001\r\n\t         */\n\t        me.a = a1 * a2 + c1 * b2;\n\t        me.b = b1 * a2 + d1 * b2;\n\t        me.c = a1 * c2 + c1 * d2;\n\t        me.d = b1 * c2 + d1 * d2;\n\t        me.e = a1 * e2 + c1 * f2 + e1;\n\t        me.f = b1 * e2 + d1 * f2 + f1;\n\t\n\t        return me._x();\n\t    },\n\t\n\t    /**\r\n\t     * Divide this matrix on input matrix which must be invertible.\r\n\t     * @param {Matrix} m - matrix to divide on (divisor)\r\n\t     * @returns {Matrix}\r\n\t     */\n\t    divide: function divide(m) {\n\t\n\t        if (!m.isInvertible()) throw \"Input matrix is not invertible\";\n\t\n\t        var im = m.inverse();\n\t\n\t        return this._t(im.a, im.b, im.c, im.d, im.e, im.f);\n\t    },\n\t\n\t    /**\r\n\t     * Divide current matrix on scalar value != 0.\r\n\t     * @param {number} d - divisor (can not be 0)\r\n\t     * @returns {Matrix}\r\n\t     */\n\t    divideScalar: function divideScalar(d) {\n\t\n\t        var me = this;\n\t        me.a /= d;\n\t        me.b /= d;\n\t        me.c /= d;\n\t        me.d /= d;\n\t        me.e /= d;\n\t        me.f /= d;\n\t\n\t        return me._x();\n\t    },\n\t\n\t    /**\r\n\t     * Get an inverse matrix of current matrix. The method returns a new\r\n\t     * matrix with values you need to use to get to an identity matrix.\r\n\t     * Context from parent matrix is not applied to the returned matrix.\r\n\t     * @returns {Matrix}\r\n\t     */\n\t    inverse: function inverse() {\n\t\n\t        if (this.isIdentity()) {\n\t            return new Matrix();\n\t        } else if (!this.isInvertible()) {\n\t            throw \"Matrix is not invertible.\";\n\t        } else {\n\t            var me = this,\n\t                a = me.a,\n\t                b = me.b,\n\t                c = me.c,\n\t                d = me.d,\n\t                e = me.e,\n\t                f = me.f,\n\t                m = new Matrix(),\n\t                dt = a * d - b * c; // determinant(), skip DRY here...\n\t\n\t            m.a = d / dt;\n\t            m.b = -b / dt;\n\t            m.c = -c / dt;\n\t            m.d = a / dt;\n\t            m.e = (c * f - d * e) / dt;\n\t            m.f = -(a * f - b * e) / dt;\n\t\n\t            return m;\n\t        }\n\t    },\n\t\n\t    /**\r\n\t     * Interpolate this matrix with another and produce a new matrix.\r\n\t     * t is a value in the range [0.0, 1.0] where 0 is this instance and\r\n\t     * 1 is equal to the second matrix. The t value is not constrained.\r\n\t     *\r\n\t     * Context from parent matrix is not applied to the returned matrix.\r\n\t     *\r\n\t     * Note: this interpolation is naive. For animation use the\r\n\t     * intrpolateAnim() method instead.\r\n\t     *\r\n\t     * @param {Matrix} m2 - the matrix to interpolate with.\r\n\t     * @param {number} t - interpolation [0.0, 1.0]\r\n\t     * @param {CanvasRenderingContext2D} [context] - optional context to affect\r\n\t     * @returns {Matrix} - new instance with the interpolated result\r\n\t     */\n\t    interpolate: function interpolate(m2, t, context) {\n\t\n\t        var me = this,\n\t            m = context ? new Matrix(context) : new Matrix();\n\t\n\t        m.a = me.a + (m2.a - me.a) * t;\n\t        m.b = me.b + (m2.b - me.b) * t;\n\t        m.c = me.c + (m2.c - me.c) * t;\n\t        m.d = me.d + (m2.d - me.d) * t;\n\t        m.e = me.e + (m2.e - me.e) * t;\n\t        m.f = me.f + (m2.f - me.f) * t;\n\t\n\t        return m._x();\n\t    },\n\t\n\t    /**\r\n\t     * Interpolate this matrix with another and produce a new matrix.\r\n\t     * t is a value in the range [0.0, 1.0] where 0 is this instance and\r\n\t     * 1 is equal to the second matrix. The t value is not constrained.\r\n\t     *\r\n\t     * Context from parent matrix is not applied to the returned matrix.\r\n\t     *\r\n\t     * Note: this interpolation method uses decomposition which makes\r\n\t     * it suitable for animations (in particular where rotation takes\r\n\t     * places).\r\n\t     *\r\n\t     * @param {Matrix} m2 - the matrix to interpolate with.\r\n\t     * @param {number} t - interpolation [0.0, 1.0]\r\n\t     * @param {CanvasRenderingContext2D} [context] - optional context to affect\r\n\t     * @returns {Matrix} - new instance with the interpolated result\r\n\t     */\n\t    interpolateAnim: function interpolateAnim(m2, t, context) {\n\t\n\t        var me = this,\n\t            m = context ? new Matrix(context) : new Matrix(),\n\t            d1 = me.decompose(),\n\t            d2 = m2.decompose(),\n\t            rotation = d1.rotation + (d2.rotation - d1.rotation) * t,\n\t            translateX = d1.translate.x + (d2.translate.x - d1.translate.x) * t,\n\t            translateY = d1.translate.y + (d2.translate.y - d1.translate.y) * t,\n\t            scaleX = d1.scale.x + (d2.scale.x - d1.scale.x) * t,\n\t            scaleY = d1.scale.y + (d2.scale.y - d1.scale.y) * t;\n\t\n\t        m.translate(translateX, translateY);\n\t        m.rotate(rotation);\n\t        m.scale(scaleX, scaleY);\n\t\n\t        return m._x();\n\t    },\n\t\n\t    /**\r\n\t     * Decompose the current matrix into simple transforms using either\r\n\t     * QR (default) or LU decomposition. Code adapted from\r\n\t     * http://www.maths-informatique-jeux.com/blog/frederic/?post/2013/12/01/Decomposition-of-2D-transform-matrices\r\n\t     *\r\n\t     * The result must be applied in the following order to reproduce the current matrix:\r\n\t     *\r\n\t     *     QR: translate -> rotate -> scale -> skewX\r\n\t     *     LU: translate -> skewY  -> scale -> skewX\r\n\t     *\r\n\t     * @param {boolean} [useLU=false] - set to true to use LU rather than QR algorithm\r\n\t     * @returns {*} - an object containing current decomposed values (rotate, skew, scale, translate)\r\n\t     */\n\t    decompose: function decompose(useLU) {\n\t\n\t        var me = this,\n\t            a = me.a,\n\t            b = me.b,\n\t            c = me.c,\n\t            d = me.d,\n\t            acos = Math.acos,\n\t            atan = Math.atan,\n\t            sqrt = Math.sqrt,\n\t            pi = Math.PI,\n\t            translate = { x: me.e, y: me.f },\n\t            rotation = 0,\n\t            scale = { x: 1, y: 1 },\n\t            skew = { x: 0, y: 0 },\n\t            determ = a * d - b * c; // determinant(), skip DRY here...\n\t\n\t        if (useLU) {\n\t            if (a) {\n\t                skew = { x: atan(c / a), y: atan(b / a) };\n\t                scale = { x: a, y: determ / a };\n\t            } else if (b) {\n\t                rotation = pi * 0.5;\n\t                scale = { x: b, y: determ / b };\n\t                skew.x = atan(d / b);\n\t            } else {\n\t                // a = b = 0\n\t                scale = { x: c, y: d };\n\t                skew.x = pi * 0.25;\n\t            }\n\t        } else {\n\t            // Apply the QR-like decomposition.\n\t            if (a || b) {\n\t                var r = sqrt(a * a + b * b);\n\t                rotation = b > 0 ? acos(a / r) : -acos(a / r);\n\t                scale = { x: r, y: determ / r };\n\t                skew.x = atan((a * c + b * d) / (r * r));\n\t            } else if (c || d) {\n\t                var s = sqrt(c * c + d * d);\n\t                rotation = pi * 0.5 - (d > 0 ? acos(-c / s) : -acos(c / s));\n\t                scale = { x: determ / s, y: s };\n\t                skew.y = atan((a * c + b * d) / (s * s));\n\t            } else {\n\t                // a = b = c = d = 0\n\t                scale = { x: 0, y: 0 }; // = invalid matrix\n\t            }\n\t        }\n\t\n\t        return {\n\t            scale: scale,\n\t            translate: translate,\n\t            rotation: rotation,\n\t            skew: skew\n\t        };\n\t    },\n\t\n\t    /**\r\n\t     * Returns the determinant of the current matrix.\r\n\t     * @returns {number}\r\n\t     */\n\t    determinant: function determinant() {\n\t        return this.a * this.d - this.b * this.c;\n\t    },\n\t\n\t    /**\r\n\t     * Apply current matrix to x and y point.\r\n\t     * Returns a point object.\r\n\t     *\r\n\t     * @param {number} x - value for x\r\n\t     * @param {number} y - value for y\r\n\t     * @returns {{x: number, y: number}} A new transformed point object\r\n\t     */\n\t    applyToPoint: function applyToPoint(x, y) {\n\t\n\t        var me = this;\n\t\n\t        return {\n\t            x: x * me.a + y * me.c + me.e,\n\t            y: x * me.b + y * me.d + me.f\n\t        };\n\t    },\n\t\n\t    /**\r\n\t     * Apply current matrix to array with point objects or point pairs.\r\n\t     * Returns a new array with points in the same format as the input array.\r\n\t     *\r\n\t     * A point object is an object literal:\r\n\t     *\r\n\t     * {x: x, y: y}\r\n\t     *\r\n\t     * so an array would contain either:\r\n\t     *\r\n\t     * [{x: x1, y: y1}, {x: x2, y: y2}, ... {x: xn, y: yn}]\r\n\t     *\r\n\t     * or\r\n\t     * [x1, y1, x2, y2, ... xn, yn]\r\n\t     *\r\n\t     * @param {Array} points - array with point objects or pairs\r\n\t     * @returns {Array} A new array with transformed points\r\n\t     */\n\t    applyToArray: function applyToArray(points) {\n\t\n\t        var i = 0,\n\t            p,\n\t            l,\n\t            mxPoints = [];\n\t\n\t        if (typeof points[0] === 'number') {\n\t\n\t            l = points.length;\n\t\n\t            while (i < l) {\n\t                p = this.applyToPoint(points[i++], points[i++]);\n\t                mxPoints.push(p.x, p.y);\n\t            }\n\t        } else {\n\t            for (; p = points[i]; i++) {\n\t                mxPoints.push(this.applyToPoint(p.x, p.y));\n\t            }\n\t        }\n\t\n\t        return mxPoints;\n\t    },\n\t\n\t    /**\r\n\t     * Apply current matrix to a typed array with point pairs. Although\r\n\t     * the input array may be an ordinary array, this method is intended\r\n\t     * for more performant use where typed arrays are used. The returned\r\n\t     * array is regardless always returned as a Float32Array.\r\n\t     *\r\n\t     * @param {*} points - (typed) array with point pairs\r\n\t     * @param {boolean} [use64=false] - use Float64Array instead of Float32Array\r\n\t     * @returns {*} A new typed array with transformed points\r\n\t     */\n\t    applyToTypedArray: function applyToTypedArray(points, use64) {\n\t\n\t        var i = 0,\n\t            p,\n\t            l = points.length,\n\t            mxPoints = use64 ? new Float64Array(l) : new Float32Array(l);\n\t\n\t        while (i < l) {\n\t            p = this.applyToPoint(points[i], points[i + 1]);\n\t            mxPoints[i++] = p.x;\n\t            mxPoints[i++] = p.y;\n\t        }\n\t\n\t        return mxPoints;\n\t    },\n\t\n\t    /**\r\n\t     * Apply to any canvas 2D context object. This does not affect the\r\n\t     * context that optionally was referenced in constructor unless it is\r\n\t     * the same context.\r\n\t     * @param {CanvasRenderingContext2D} context\r\n\t     */\n\t    applyToContext: function applyToContext(context) {\n\t        var me = this;\n\t        context.setTransform(me.a, me.b, me.c, me.d, me.e, me.f);\n\t        return me;\n\t    },\n\t\n\t    /**\r\n\t     * Returns true if matrix is an identity matrix (no transforms applied).\r\n\t     * @returns {boolean} True if identity (not transformed)\r\n\t     */\n\t    isIdentity: function isIdentity() {\n\t        var me = this;\n\t        return me._q(me.a, 1) && me._q(me.b, 0) && me._q(me.c, 0) && me._q(me.d, 1) && me._q(me.e, 0) && me._q(me.f, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Returns true if matrix is invertible\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isInvertible: function isInvertible() {\n\t        return !this._q(this.determinant(), 0);\n\t    },\n\t\n\t    /**\r\n\t     * Test if matrix is valid.\r\n\t     */\n\t    isValid: function isValid() {\n\t        return !this._q(this.a * this.d, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Clones current instance and returning a new matrix.\r\n\t     * @param {boolean} [noContext=false] don't clone context reference if true\r\n\t     * @returns {Matrix}\r\n\t     */\n\t    clone: function clone(noContext) {\n\t        var me = this,\n\t            m = new Matrix();\n\t        m.a = me.a;\n\t        m.b = me.b;\n\t        m.c = me.c;\n\t        m.d = me.d;\n\t        m.e = me.e;\n\t        m.f = me.f;\n\t        if (!noContext) m.context = me.context;\n\t\n\t        return m;\n\t    },\n\t\n\t    /**\r\n\t     * Compares current matrix with another matrix. Returns true if equal\r\n\t     * (within epsilon tolerance).\r\n\t     * @param {Matrix} m - matrix to compare this matrix with\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isEqual: function isEqual(m) {\n\t\n\t        var me = this,\n\t            q = me._q;\n\t\n\t        return q(me.a, m.a) && q(me.b, m.b) && q(me.c, m.c) && q(me.d, m.d) && q(me.e, m.e) && q(me.f, m.f);\n\t    },\n\t\n\t    /**\r\n\t     * Returns an array with current matrix values.\r\n\t     * @returns {Array}\r\n\t     */\n\t    toArray: function toArray() {\n\t        var me = this;\n\t        return [me.a, me.b, me.c, me.d, me.e, me.f];\n\t    },\n\t\n\t    /**\r\n\t     * Generates a matrix() string that can be used with CSS transform.\r\n\t     * @returns {string}\r\n\t     */\n\t    toCSS: function toCSS() {\n\t        return \"matrix(\" + this.toArray() + \")\";\n\t    },\n\t\n\t    /**\r\n\t     * Generates a matrix3d() string that can be used with CSS transform.\r\n\t     * @returns {string}\r\n\t     */\n\t    toCSS3D: function toCSS3D() {\n\t        var me = this;\n\t        return \"matrix3d(\" + me.a + \", \" + me.b + \", 0, 0, \" + me.c + \", \" + me.d + \", 0, 0, 0, 0, 1, 0, \" + me.e + \", \" + me.f + \", 0, 1)\";\n\t    },\n\t\n\t    /**\r\n\t     * Returns a JSON compatible string of current matrix.\r\n\t     * @returns {string}\r\n\t     */\n\t    toJSON: function toJSON() {\n\t        return JSON.stringify(this.toArray());\n\t    },\n\t\n\t    /**\r\n\t     * Returns a string with current matrix as comma-separated list.\r\n\t     * @returns {string}\r\n\t     */\n\t    toString: function toString() {\n\t        return \"\" + this.toArray();\n\t    },\n\t\n\t    /**\r\n\t     * Compares floating point values with some tolerance (epsilon)\r\n\t     * @param {number} f1 - float 1\r\n\t     * @param {number} f2 - float 2\r\n\t     * @returns {boolean}\r\n\t     * @private\r\n\t     */\n\t    _q: function _q(f1, f2) {\n\t        return Math.abs(f1 - f2) < 1e-14;\n\t    },\n\t\n\t    /**\r\n\t     * Apply current absolute matrix to context if defined, to sync it.\r\n\t     * @private\r\n\t     */\n\t    _x: function _x() {\n\t        var me = this;\n\t        if (me.context) me.context.setTransform(me.a, me.b, me.c, me.d, me.e, me.f);\n\t        return me;\n\t    }\n\t};\n\t\n\texports[\"default\"] = Matrix;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Defines the global root level namespace for the library.\n\t *\n\t * @module\n\t * @author Micah Rolon <micah@ginasink.com>\n\t *\n\t * @requires game\n\t * @requires module:play~pl.util\n\t * @requires types/Basic\n\t * @requires types/Dimensions\n\t */\n\t\n\tvar _playGame = __webpack_require__(24);\n\t\n\tvar _playGame2 = _interopRequireDefault(_playGame);\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesBasic = __webpack_require__(19);\n\t\n\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\n\tvar _typesQueue = __webpack_require__(40);\n\t\n\tvar _typesQueue2 = _interopRequireDefault(_typesQueue);\n\t\n\tvar _typesDimensions = __webpack_require__(14);\n\t\n\tvar pl;\n\t/**\n\t * Resolves the event type for user interactions.\n\t */\n\tfunction resolveEventType() {\n\t\tvar resolution;\n\t\n\t\tif (_playGame2['default'].feature('touch')) {\n\t\t\tresolution = {\n\t\t\t\tACTION: 'touchend',\n\t\t\t\tACTION_DOWN: 'touchstart',\n\t\t\t\tACTION_UP: 'touchend',\n\t\t\t\tACTION_MOVE: 'touchmove',\n\t\t\t\tACTION_OUT: 'touchcancel'\n\t\t\t};\n\t\t} else {\n\t\t\tresolution = {\n\t\t\t\tACTION: 'click',\n\t\t\t\tACTION_DOWN: 'mousedown',\n\t\t\t\tACTION_UP: 'mouseup',\n\t\t\t\tACTION_MOVE: 'mousemove',\n\t\t\t\tACTION_OUT: 'mouseout'\n\t\t\t};\n\t\t}\n\t\n\t\treturn resolution;\n\t}\n\t\n\t/**\n\t * Globaly accesable, root level namespace for the library.\n\t * @namespace\n\t * @prop {object} EVENT - Namespace for noralized event name constants.\n\t * @prop {Basic} Basic - Base object type.\n\t * @prop {Point} Point - Object type which holds values on a 2D cartesian plane.\n\t * @prop {Size} Size - Object type which holds 2-dimentional values for size.\n\t * @prop {function} game - Registers a game view implementation. Also a namespace for other methods.\n\t * @prop {object} util - Namespace for utility functions.\n\t */\n\tpl = {\n\t\tBasic: _typesBasic2['default'], Point: _typesDimensions.Point, Size: _typesDimensions.Size, Queue: _typesQueue2['default'],\n\t\tgame: _playGame2['default'],\n\t\tutil: _util2['default'],\n\t\n\t\t/**\n\t  * @namespace\n\t  * @prop {string} ACTION - The device normalized `click` event name.\n\t  * @prop {string} ACTION_DOWN - The device normalized `mousedown` event name.\n\t  * @prop {string} ACTION_UP - The device normalized `mouseup` event name.\n\t  * @prop {string} ACTION_MOVE - The device normalized `mousemove` event name.\n\t  * @prop {string} ACTION_OUT - The device normalized `mouseout` event name.\n\t  */\n\t\tEVENT: resolveEventType()\n\t};\n\t\n\texports['default'] = pl;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Defines the 'game' method for registration and initialization of game scopes. This method also acts as a namespace for game level functions (See: [pl.game]{@link module:play~pl.game}).\n\t *\n\t * @module game\n\t * @author Micah Rolon <micah@ginasink.com>\n\t *\n\t * @requires play.game.component\n\t * @requires play.game.manager\n\t * @requires util\n\t * @requires types/Events\n\t * @requires types/GlobalScope\n\t * @requires types/Entity\n\t * @requires types/Screen\n\t * @requires types/Game\n\t */\n\t\n\tvar _playGameComponent = __webpack_require__(25);\n\t\n\tvar _playGameComponent2 = _interopRequireDefault(_playGameComponent);\n\t\n\tvar _playGameManager = __webpack_require__(27);\n\t\n\tvar _playGameManager2 = _interopRequireDefault(_playGameManager);\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesEvents = __webpack_require__(26);\n\t\n\tvar _typesEvents2 = _interopRequireDefault(_typesEvents);\n\t\n\tvar _typesGlobalScope = __webpack_require__(30);\n\t\n\tvar _typesGlobalScope2 = _interopRequireDefault(_typesGlobalScope);\n\t\n\tvar _typesEntity = __webpack_require__(93);\n\t\n\tvar _typesEntity2 = _interopRequireDefault(_typesEntity);\n\t\n\tvar _typesScreen = __webpack_require__(94);\n\t\n\tvar _typesScreen2 = _interopRequireDefault(_typesScreen);\n\t\n\tvar _typesGame = __webpack_require__(95);\n\t\n\tvar _typesGame2 = _interopRequireDefault(_typesGame);\n\t\n\tvar _platform = __webpack_require__(96);\n\t\n\tvar _platform2 = _interopRequireDefault(_platform);\n\t\n\tvar GAMES, CONFIG, READY_QUEUE;\n\t\n\t/**\n\t * Define a game scope for registration and/or initialization.\n\t * This method also acts as a namespace for game level functions (See: [pl.game]{@link module:play~pl.game}).\n\t *\n\t * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t */\n\tfunction game(_name, _implementation) {\n\t\tif (game.isDOMReady) {\n\t\t\tinitialize(_name, _implementation);\n\t\t} else {\n\t\t\tregister(_name, _implementation);\n\t\t}\n\t}\n\t\n\tfunction ready(_eventName) {\n\t\tif (READY_QUEUE.length) return false;\n\t\tgame.trigger(_eventName || 'ready');\n\t}\n\t\n\t/**\n\t * Registers an implementation of a game scope for initialization.\n\t * @protected\n\t * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t */\n\tfunction register(_name, _implementation) {\n\t\tif (! ~GAMES.indexOf(_name)) {\n\t\t\tGAMES.push({\n\t\t\t\tid: _name,\n\t\t\t\timplementation: _implementation\n\t\t\t});\n\t\t}\n\t}\n\t\n\t/**\n\t * Initializes an implementation of a game scope. (overloaded)\n\t * @function initialize\n\t * @protected\n\t * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t */\n\t\n\t/**\n\t * Initializes an implementation of a game scope.\n\t * @protected\n\t * @arg {array} _collection - The collection of game scope records for initialization.\n\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t */\n\tfunction initialize(_name_collection, _implementation) {\n\t\tswitch (typeof _name_collection) {\n\t\t\tcase 'string':\n\t\t\t\t_typesGlobalScope2['default'][_name_collection] = _typesGame2['default'].extend(_implementation).initialize('#' + _name_collection);\n\t\t\t\tbreak;\n\t\n\t\t\tcase 'object':\n\t\t\t\t_name_collection.forEach(function (_item, _index) {\n\t\t\t\t\tinitialize(_item.id, _item.implementation);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t}\n\t\n\t/** @protected */\n\tGAMES = [];\n\t/** @protected */\n\tCONFIG = {};\n\t/** @protected */\n\tREADY_QUEUE = [];\n\t\n\t/**\n\t * Interface for game level configuration.\n\t * @namespace game\n\t * @memberof module:play~pl\n\t * @mixes Events\n\t */\n\t(function () {\n\t\n\t\tvar audioContext;\n\t\n\t\tthis.component = _playGameComponent2['default'];\n\t\tthis.manager = _playGameManager2['default'];\n\t\n\t\t_util2['default'].mixin(game, _typesEvents2['default']);\n\t\n\t\tthis.on('platform-event', function (_event) {\n\t\t\tconsole.log('play.game -', _event.name, _event.gameData);\n\t\t});\n\t\n\t\t/**\n\t  * Starts the dominos falling\n\t  * @function run\n\t  * @memberof module:play~pl.game\n\t  */\n\t\tthis.run = function () {\n\t\t\tgame.isDOMReady = true;\n\t\t\tgame.trigger('dom-ready');\n\t\n\t\t\tgame.component.loadAll(function () {\n\t\t\t\t// console.log('** All component sources loaded.');\n\t\t\t\tinitialize(GAMES);\n\t\n\t\t\t\tGAMES = null;\n\t\t\t});\n\t\n\t\t\t_platform2['default'].emit(_platform2['default'].EVENT_INIT);\n\t\t};\n\t\n\t\tthis.report = function (_name) {\n\t\t\t_platform2['default'].emit(_name);\n\t\n\t\t\treturn this.report;\n\t\t};\n\t\n\t\tthis.report.exit = function (_gameScope) {\n\t\t\t_platform2['default'].saveGameState(_gameScope.progress());\n\t\t\t_platform2['default'].emit(_platform2['default'].EVENT_EXIT);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.report.flip = function (_gameScope) {\n\t\t\t_platform2['default'].saveGameState(_gameScope.progress());\n\t\t\t_platform2['default'].emit(_platform2['default'].EVENT_FLIPPED);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Getter/Setter for game level configuration.\n\t  * @function module:play~pl.game.config\n\t  * @arg {string} _key - The key to retrieve\n\t  * @returns {this}\n\t  */\n\t\n\t\t/**\n\t  * Getter/Setter for game level configuration.\n\t  * @function config\n\t  * @memberof module:play~pl.game\n\t  * @arg {object} _mixin - Object to set properties on configuration.\n\t  * @returns {this}\n\t  */\n\t\tthis.config = function (_key_mixin) {\n\t\t\tswitch (typeof _key_mixin) {\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn _util2['default'].resolvePath(CONFIG, _key_mixin);\n\t\t\t\tcase 'object':\n\t\t\t\t\tif (_key_mixin) _util2['default'].mixin(CONFIG, _key_mixin);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * @function provideEntityType\n\t  * @deprecated\n\t  * @memberof module:play~pl.game\n\t  */\n\t\tthis.provideEntityType = function () {\n\t\t\treturn _typesEntity2['default'];\n\t\t};\n\t\n\t\t/**\n\t  * @function provideScreenType\n\t  * @deprecated\n\t  * @memberof module:play~pl.game\n\t  */\n\t\tthis.provideScreenType = function () {\n\t\t\treturn _typesScreen2['default'];\n\t\t};\n\t\n\t\t/**\n\t  * Augments the global scope.\n\t  * @function scope\n\t  * @arg {function|object} _mixin - Object or constructor to define members.\n\t  * @returns {this}\n\t  *\n\t  * @memberof module:play~pl.game\n\t  */\n\t\tthis.scope = function (_mixin) {\n\t\t\tif (typeof _mixin === 'function') {\n\t\t\t\t_mixin.call(_typesGlobalScope2['default']);\n\t\t\t} else if (_mixin) {\n\t\t\t\t_typesGlobalScope2['default'].mixin(_mixin);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * @function queue\n\t  * @deprecated\n\t  * @memberof module:play~pl.game\n\t  */\n\t\tthis.queue = function (_item) {\n\t\t\tif (! ~READY_QUEUE.indexOf(_item)) READY_QUEUE.push(_item);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.queue.complete = function (_item, _eventName) {\n\t\t\tvar index;\n\t\n\t\t\tindex = READY_QUEUE.indexOf(_item);\n\t\t\tREADY_QUEUE.splice(index, 1);\n\t\n\t\t\tready(_eventName);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Accessor for the detected features supported by the browser.\n\t  *\n\t  * *Supported Feature Detectors*\n\t  * - touch\n\t  *\n\t  * @function feature;\n\t  * @arg {string} _name - The feature which to test for (i.e. `\"touch\"`)\n\t  * @returns {boolean} The support status for the specified feature.\n\t  */\n\t\tthis.feature = (function () {\n\t\t\tvar detect = {\n\t\t\t\ttouch: function touch() {\n\t\t\t\t\treturn window.hasOwnProperty('ontouchend');\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\treturn function (_name) {\n\t\t\t\tvar tester = detect[_name];\n\t\t\t\tif (!tester && console) console.warn('No feature detection for \"' + _name + '\".');\n\t\t\t\treturn tester && tester();\n\t\t\t};\n\t\t})();\n\t\n\t\tthis.getAudioContext = function () {\n\t\t\tif (!audioContext) {\n\t\t\t\taudioContext = new (window.AudioContext || window.webkitAudioContext)();\n\t\t\t\t// window.onfocus = function() { audioContext.resume(); };\n\t\t\t\t// window.onblur = function() { audioContext.suspend(); };\n\t\t\t}\n\t\t\treturn audioContext;\n\t\t};\n\t\n\t\tthis.enableAudioContext = function () {\n\t\t\tvar ctx, silence;\n\t\n\t\t\tctx = this.getAudioContext();\n\t\t\tsilence = ctx.createBufferSource();\n\t\n\t\t\tsilence.buffer = ctx.createBuffer(2, 1, 44100);\n\t\t\tsilence.connect(ctx.destination);\n\t\t\tsilence.start();\n\t\t\tsilence.disconnect();\n\t\n\t\t\treturn silence;\n\t\t};\n\t}).call(game);\n\t\n\texports['default'] = game;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Defines the `component()` method for component behavior registration. This method is also a namesapce for methods to manage and load component behavior scripts.\n\t *\n\t * @module\n\t * @author Micah Rolon <micah@ginasink.com>\n\t *\n\t * @requires play~pl.util\n\t * @requires types/Events\n\t */\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesEvents = __webpack_require__(26);\n\t\n\tvar _typesEvents2 = _interopRequireDefault(_typesEvents);\n\t\n\t/**\n\t * Collection of component behavior records\n\t * @const\n\t */\n\tvar COMPONENTS;\n\t\n\t/**\n\t * Registers a component behavior.\n\t * @arg {string} _name - The name for the component.\n\t * @arg {function|object} _implementation - Constructor function or object with the behavior's implementation.\n\t * @returns {@link module:play~pl.game}\n\t */\n\tfunction component(_name, _implementation) {\n\t\tif (!component.get(_name)) {\n\t\t\tCOMPONENTS.push({\n\t\t\t\tname: _name,\n\t\t\t\timplementation: _implementation,\n\t\t\t\tconfig: {}\n\t\t\t});\n\t\t}\n\t\n\t\treturn this;\n\t}\n\t\n\tCOMPONENTS = [];\n\t\n\t/**\n\t * Methods to manage and load component behavior scripts.\n\t * @namespace component\n\t * @memberof module:play~pl.game\n\t * @mixes Events\n\t */\n\t(function () {\n\t\n\t\t_util2['default'].mixin(this, _typesEvents2['default']);\n\t\n\t\t/**\n\t  * Given a name; provides the component record. `{name, implementation}`\n\t  * @memberof module:play~pl.game.component\n\t  * @arg {string} _name - The name of the component.\n\t  * @returns {object} The record.\n\t  */\n\t\tthis.get = function (_name) {\n\t\t\tvar i, record;\n\t\n\t\t\tfor (i = 0; record = COMPONENTS[i]; i += 1) {\n\t\t\t\tif (record.name === _name) return record;\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\t};\n\t\n\t\t/**\n\t  * Loads the script for the component. The HTML and CSS will be loaded when the component scope initalizes.<br>\n\t  * The path of the script file is resolved `{pl.game.config.componentDirectory}/{_name}/behavior.js`.\n\t  * @memberof module:play~pl.game.component\n\t  * @arg {string} _name - The name of the component.\n\t  * @arg {function} _callback - Callback for load success.\n\t  * @todo Implement Promises.\n\t  * @returns `this`\n\t  */\n\t\tthis.load = function (_name, _callback) {\n\t\t\tvar path;\n\t\n\t\t\tif (component.get(_name)) {\n\t\t\t\tif (_callback) _callback.call(component, _name);\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\tpath = pl.game.config('componentDirectory') + _name + '/behavior.js';\n\t\n\t\t\t$.getScript(path, function () {\n\t\t\t\tif (_callback) _callback.call(component, _name);\n\t\t\t\tcomponent.trigger('loaded', [_name]);\n\t\t\t});\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Loads all the component scripts for HTML elements with `pl-component` attributes.\n\t  * @memberof module:play~pl.game.component\n\t  * @arg {function} _callback - Callback for load success.\n\t  * @todo Implement Promises.\n\t  * @returns `this`\n\t  */\n\t\tthis.loadAll = function (_callback) {\n\t\t\tvar $components, queue;\n\t\n\t\t\t$components = $('[pl-component]');\n\t\t\tqueue = [];\n\t\n\t\t\t$components.each(function (_index) {\n\t\t\t\tvar name;\n\t\n\t\t\t\tname = $(this).attr('pl-component');\n\t\n\t\t\t\tif (~queue.indexOf(name)) return;\n\t\n\t\t\t\tqueue.push(name);\n\t\t\t});\n\t\n\t\t\tqueue.slice(0).forEach(function (_name) {\n\t\t\t\tcomponent.load(_name, function () {\n\t\t\t\t\tvar index;\n\t\n\t\t\t\t\tindex = queue.indexOf(_name);\n\t\t\t\t\tqueue.splice(index, 1);\n\t\n\t\t\t\t\tif (!queue.length && _callback) _callback.apply(component, arguments);\n\t\t\t\t});\n\t\t\t});\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t// Maybe?\n\t\t// this.config = function () {};\n\t}).call(component);\n\t\n\texports['default'] = component;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t*  Events\n\t*  @desc Contains methods for managing and dispatching events from objects.\n\t*  @proto Basic\n\t*/\n\t\n\tvar _typesBasic = __webpack_require__(19);\n\t\n\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\n\tvar Events = _typesBasic2['default'].extend(function () {\n\t\tvar i, method, methods;\n\t\t/**\n\t *  @desc Creates a function with a proxy to the jQuery method.\n\t *  @param _name (String) The name of the method being proxied.\n\t *  @return (jQuery|*) Either a jQuery object or whatever the original method returns.\n\t *  @private\n\t */\n\t\tfunction createProxyFunction(_name) {\n\t\t\treturn function () {\n\t\t\t\tvar $jq = $();\n\t\t\t\t// We must wrap our object in jQuery. If 'typeof this' is a function then we need\n\t\t\t\t// to add it in this manner, otherwise jQuery treats it like a ready callback.\n\t\t\t\t$jq.push(this);\n\t\n\t\t\t\treturn $.fn[_name].apply($jq, arguments);\n\t\t\t};\n\t\t}\n\t\n\t\tmethods = ['on', 'off', 'trigger'];\n\t\n\t\tthis.baseType = 'TYPE_EVENTS';\n\t\n\t\tfor (i = 0; method = methods[i]; i += 1) {\n\t\t\tthis[method] = createProxyFunction(method);\n\t\t}\n\t});\n\t\n\texports['default'] = Events;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t\n\tvar _playGameManagerDraggable = __webpack_require__(28);\n\t\n\tvar _playGameManagerDraggable2 = _interopRequireDefault(_playGameManagerDraggable);\n\t\n\texports.draggable = _playGameManagerDraggable2['default'];\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesCollection = __webpack_require__(29);\n\t\n\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\n\tvar _typesDimensions = __webpack_require__(14);\n\t\n\tvar COLLECTION_DRAGABLES = _typesCollection2['default'].create();\n\t\n\tvar draggableStyleSheet;\n\t\n\tfunction boot() {\n\t\tcreateHelperStyleSheet();\n\t\tattachEvents();\n\t}\n\t\n\tfunction attachEvents() {\n\t\tvar state, E;\n\t\n\t\tE = pl.EVENT;\n\t\n\t\t// Disable scrolling on touchDevices (particularly for iOS elastic scroll).\n\t\tif (E.ACTION_MOVE === 'touchmove') attachEvents.disableTouchScroll();\n\t\n\t\t$(document).on(E.ACTION_DOWN, function (_event) {\n\t\t\tvar $draggable, scope, cursor, mode, game, point, transform, helperID, dragStartEvent;\n\t\n\t\t\t$draggable = $(_event.target).closest('[pl-draggable]');\n\t\n\t\t\tif ($draggable.length) {\n\t\t\t\tscope = $draggable.scope();\n\t\t\t\tcursor = resolveEventPoint(_event, 1 / scope.game.zoom);\n\t\t\t\tmode = $draggable.pl('draggable');\n\t\t\t\tgame = {\n\t\t\t\t\tposition: scope.game.absolutePosition(),\n\t\t\t\t\tscale: scope.game.transformScale().x\n\t\t\t\t};\n\t\t\t\tpoint = $draggable.absolutePosition().dec(game.position);\n\t\t\t\ttransform = $draggable.transform();\n\t\t\t\thelperID = createID();\n\t\t\t\tstate = {\n\t\t\t\t\tmode: mode,\n\t\t\t\t\t$draggable: $draggable,\n\t\t\t\t\tscope: scope,\n\t\t\t\t\t$helper: null,\n\t\n\t\t\t\t\tstart: {\n\t\t\t\t\t\tcursor: cursor,\n\t\t\t\t\t\tpoint: point,\n\t\t\t\t\t\ttransform: transform\n\t\t\t\t\t},\n\t\n\t\t\t\t\tprogress: {\n\t\t\t\t\t\tdistance: null,\n\t\t\t\t\t\tpoint: null,\n\t\t\t\t\t\ttransform: null\n\t\t\t\t\t}\n\t\t\t\t};\n\t\n\t\t\t\t// FireFox has a different scaling implementation than other browsers (transform:scale(); vs. zoom:;)\n\t\t\t\t// so we need to account for the game transform scale.\n\t\t\t\t//\n\t\t\t\tif (game.scale !== 1) point = point.scale(1 / game.scale);\n\t\n\t\t\t\tdraggableStyleSheet.html(provideSource(helperID, createDraggableRule($draggable)));\n\t\n\t\t\t\tswitch (mode) {\n\t\t\t\t\tcase 'clone':\n\t\t\t\t\t\tstate.$helper = $draggable.clone();\n\t\t\t\t\t\tstate.$helper.id(helperID).pl('draggable', null) // helpers are not to be captured as draggable\n\t\t\t\t\t\t.addClass('draggable-helper').appendTo(document.body).absolutePosition(point);\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'pluck':\n\t\t\t\t\t\t$draggable.addClass('PLUCKED');\n\t\n\t\t\t\t\t\tstate.$helper = $draggable.clone();\n\t\t\t\t\t\tstate.$helper.id(helperID).pl('draggable', null) // helpers are not to be captured as draggable\n\t\t\t\t\t\t.addClass('draggable-helper').appendTo(document.body).absolutePosition(point);\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tstate.$helper = $draggable;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\n\t\t\t\tstate.$helper.removeClass('DRAG-ENDED').addClass('DRAG-START');\n\t\n\t\t\t\tdragStartEvent = $.Event('drag-start', {\n\t\t\t\t\tstate: state,\n\t\t\t\t\ttargetScope: scope\n\t\t\t\t});\n\t\n\t\t\t\tscope.trigger(dragStartEvent);\n\t\t\t}\n\t\t}).on(E.ACTION_MOVE, function (_event) {\n\t\t\tvar cursor, $draggable, distance, point, transform, dragMoveEvent;\n\t\n\t\t\tif (state) {\n\t\t\t\tcursor = resolveEventPoint(_event, 1 / state.scope.game.zoom);\n\t\t\t\tdistance = state.start.cursor.distance(cursor);\n\t\t\t\tpoint = _typesDimensions.Point.create();\n\t\t\t\ttransform = null;\n\t\n\t\t\t\tif (state.start.transform !== 'none') {\n\t\t\t\t\ttransform = state.start.transform.clone();\n\t\t\t\t\ttransform.translate(distance.width, distance.height);\n\t\t\t\t\tpoint.set(transform.applyToPoint(0, 0));\n\t\t\t\t} else {\n\t\t\t\t\tpoint = distance.to('point');\n\t\t\t\t}\n\t\n\t\t\t\tif (state.$helper.hasClass('DRAG-START')) {\n\t\t\t\t\tstate.$helper.removeClass('DRAG-START').addClass('DRAGGING');\n\t\t\t\t}\n\t\n\t\t\t\tdragMoveEvent = $.Event('drag-move', {\n\t\t\t\t\tstate: state,\n\t\t\t\t\ttargetScope: state.scope\n\t\t\t\t});\n\t\n\t\t\t\tstate.progress.distance = distance;\n\t\t\t\tstate.progress.point = state.start.point.inc(point);\n\t\t\t\tstate.progress.transform = transform;\n\t\n\t\t\t\tstate.scope.translate(state.$helper, point);\n\t\t\t\tstate.scope.trigger(dragMoveEvent);\n\t\t\t}\n\t\t}).on([E.ACTION_UP, E.ACTION_OUT].join(' '), function (_event) {\n\t\t\tvar $draggable, dragEndEvent;\n\t\n\t\t\tif (state) {\n\t\t\t\t// Do not end dragging if we dont mouse out of the document.\n\t\t\t\tif (_event.type === 'mouseout' && ! ~[null, document.documentElement].indexOf(_event.toElement)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t$draggable = state.$draggable;\n\t\n\t\t\t\tif (state.$helper.hasClass('draggable-helper')) {\n\t\t\t\t\tstate.$helper.on('transitionend', function () {\n\t\t\t\t\t\t$draggable.removeClass('PLUCKED');\n\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\tstate.$helper.removeClass('DRAG-START DRAGGING').addClass('DRAG-ENDED');\n\t\n\t\t\t\tdragEndEvent = $.Event('drag-end', {\n\t\t\t\t\tstate: state,\n\t\t\t\t\ttargetScope: state.scope\n\t\t\t\t});\n\t\n\t\t\t\tstate.scope.trigger(dragEndEvent);\n\t\n\t\t\t\tstate = null;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tattachEvents.disableTouchScroll = function () {\n\t\tdocument.addEventListener(\"touchmove\", function (_event) {\n\t\t\t_event.preventDefault();\n\t\t}, false);\n\t};\n\t\n\tfunction resolveEventPoint(_event, _scale) {\n\t\tvar scale = _scale || 1;\n\t\n\t\tif (_event.originalEvent && _event.originalEvent.changedTouches) {\n\t\t\t/**\n\t   * For now, interactions should use the last touch if multiple fingers are captured.\n\t   * @todo Maybe invoke action for each touch.\n\t   */\n\t\t\t_event.touch = _event.originalEvent.changedTouches[_event.originalEvent.changedTouches.length - 1];\n\t\t}\n\t\n\t\treturn _typesDimensions.Point.create().set(new function () {\n\t\t\tif (_event.touch) {\n\t\t\t\tthis.x = _event.touch.clientX * scale;\n\t\t\t\tthis.y = _event.touch.clientY * scale;\n\t\t\t} else {\n\t\t\t\tthis.x = _event.clientX * scale;\n\t\t\t\tthis.y = _event.clientY * scale;\n\t\t\t}\n\t\t}());\n\t}\n\t\n\tfunction createHelperStyleSheet() {\n\t\tdraggableStyleSheet = $('<style id=\"draggable-helper-css\" type=\"text/css\"></style>').appendTo(document.body);\n\t}\n\t\n\tfunction createDraggableRule(_$draggable) {\n\t\tvar i, style, blacklist, rule, prop;\n\t\n\t\tstyle = window.getComputedStyle(_$draggable[0]);\n\t\trule = {};\n\t\tblacklist = [\"zIndex\", \"opacity\", \"cursor\", \"transition\", \"transitionDelay\", \"transitionDuration\", \"transitionProperty\", \"transitionTimingFunction\"];\n\t\n\t\tfor (i = 0; i < style.length; i += 1) {\n\t\t\tprop = _util2['default'].transformId(style[i], true);\n\t\t\tif (~blacklist.indexOf(prop)) continue;\n\t\t\tif (prop.indexOf('Webkit') === 0) prop = prop.slice(0, 1).toLowerCase() + prop.slice(1);\n\t\t\tif (style[prop]) rule[prop] = style[prop];\n\t\t}\n\t\n\t\treturn rule;\n\t}\n\t\n\tfunction provideSource(_id, _rule) {\n\t\tvar source, prop, value;\n\t\n\t\tsource = '#' + _id + '.draggable-helper {';\n\t\n\t\tfor (prop in _rule) {\n\t\t\tif (!_rule.hasOwnProperty(prop)) continue;\n\t\t\tvalue = _rule[prop];\n\t\t\tsource += prop.replace(/([A-Z]+)/g, '-$1').toLowerCase() + ': ' + value + ';';\n\t\t}\n\t\n\t\tsource += '}';\n\t\n\t\treturn source;\n\t};\n\t\n\tfunction createID() {\n\t\treturn 'xy-xyxy-y'.replace(/x|y/g, function (_token) {\n\t\t\tif (_token === 'x') return (Math.floor(Math.random() * 5) + 10).toString(16);\n\t\t\treturn Math.floor(Math.random() * Date.now()).toString(16).slice(2);\n\t\t});\n\t}\n\t\n\tvar draggableManager = {};\n\t\n\t$(boot);\n\t\n\texports['default'] = draggableManager;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Collections are iterables which hold a consistent interface throughout its indexes.\n\t *\n\t * @module\n\t * @requires module:types/BasicArray\n\t */\n\t\n\tvar _typesBasicArray = __webpack_require__(17);\n\t\n\tvar _typesBasicArray2 = _interopRequireDefault(_typesBasicArray);\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Collection.create()` to get a new instance.\n\t * @classdesc Iterable holding record objects of the same interface.\n\t * @class\n\t * @extends module:types/BasicArray~BasicArray\n\t */\n\tvar Collection = _typesBasicArray2['default'].extend(function () {\n\t\t/**\n\t  * Gets the record object which has `_member` as a member.\n\t  * @instance\n\t  * @protected\n\t  * @memberof module:types/Collection~Collection\n\t  * @arg {*} _member - object reference to search for.\n\t  * @arg {string} _key - the target key to test the `_member` against.\n\t  * @arg {boolean} _shouldCollect - <span style=\"color: blue; font-weight: bold;\">`true`</span>: collect all matching elements.<br>\n\t  * <span style=\"color: blue; font-weight: bold;\">`false`</span>: return first result.\n\t  */\n\t\tfunction getRecord(_member, _key, _shouldCollect) {\n\t\t\tvar i, record, member, result;\n\t\n\t\t\tresult = [];\n\t\n\t\t\tfor (i = 0; record = this[i]; i += 1) {\n\t\t\t\tif (_key !== undefined) {\n\t\t\t\t\tif (record[_key] === _member) {\n\t\t\t\t\t\tif (_shouldCollect) {\n\t\t\t\t\t\t\tresult.push(record);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn record;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (record instanceof Array) {\n\t\t\t\t\tif (~record.indexOf(_member)) {\n\t\t\t\t\t\tif (_shouldCollect) {\n\t\t\t\t\t\t\tresult.push(record);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn record;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (member in record) {\n\t\t\t\t\t\tif (!record.hasOwnProperty(member)) continue;\n\t\t\t\t\t\tif (record[member] === _member) {\n\t\t\t\t\t\t\tif (_shouldCollect) {\n\t\t\t\t\t\t\t\tresult.push(record);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn record;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn result.length ? result : null;\n\t\t}\n\t\n\t\t/**\n\t  * Objects with this as an own property will be identified as the root object.\n\t  * @memberof module:types/Collection~Collection\n\t  * @readonly\n\t  * @default\n\t  */\n\t\tthis.baseType = 'TYPE_COLLECTION';\n\t\n\t\tthis.add = function (_record) {\n\t\t\tif (~this.indexOf(_record)) return false;\n\t\t\tthis.push(_record);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.remove = function (_record) {\n\t\t\tvar index;\n\t\n\t\t\tindex = this.indexOf(_record);\n\t\t\tif (~index) this.splice(index, 1);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.has = function (_record) {\n\t\t\treturn !! ~this.indexOf(_record);\n\t\t};\n\t\n\t\tthis.get = function (_member, _key) {\n\t\t\treturn getRecord.call(this, _member, _key);\n\t\t};\n\t\n\t\tthis.filter = function (_member, _key) {\n\t\t\treturn getRecord.call(this, _member, _key, true);\n\t\t};\n\t});\n\t\n\texports['default'] = Collection;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports.__esModule = true;\n\t/**\n\t*  GlobalScope\n\t*/\n\t\n\tvar _typesScope = __webpack_require__(31);\n\t\n\tvar GlobalScope = _typesScope.Scope.extend(function () {\n\t\n\t\tthis.baseType = 'TYPE_GLOBAL_SCOPE';\n\t});\n\t\n\texports['default'] = GlobalScope;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Scopes are packages which contain a reference to a DOM element wrapped in a jQuery object.\n\t * This enables properties and methods to be in context of the DOM node and its descendants.\n\t *\n\t * @module\n\t * @requires types/jQProxy\n\t * @requires types/Basic\n\t * @requires types/Queue\n\t * @requires play.game\n\t * @requires util\n\t * @requires evalAction\n\t *\n\t * @exports createEntity\n\t */\n\t\n\tvar _typesJQProxy = __webpack_require__(32);\n\t\n\tvar _typesJQProxy2 = _interopRequireDefault(_typesJQProxy);\n\t\n\tvar _typesBasic = __webpack_require__(19);\n\t\n\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\n\tvar _typesQueue = __webpack_require__(40);\n\t\n\tvar _typesQueue2 = _interopRequireDefault(_typesQueue);\n\t\n\tvar _typesDimensions = __webpack_require__(14);\n\t\n\tvar _playGame = __webpack_require__(24);\n\t\n\tvar _playGame2 = _interopRequireDefault(_playGame);\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _evalAction = __webpack_require__(41);\n\t\n\tvar _evalAction2 = _interopRequireDefault(_evalAction);\n\t\n\tvar _typesAudioManager = __webpack_require__(42);\n\t\n\t/**\n\t * Creates a new Enitiy instance with a context node and implementation.\n\t * The instance is prototyped from the parent scope.\n\t *\n\t * @memberof module:types/Scope~Scope#createEntity\n\t * @protected\n\t * @arg {jQuery} _$node - jQuery object with a single node in the collection.\n\t * @arg {function|object} _implementation - Constructor function or object with the entity behavior.\n\t * @returns {module:types/Scope~Scope}\n\t */\n\tfunction createEntity(_$node, _implementation) {\n\t\tvar component, prototype, componentRecord, instance;\n\t\n\t\tcomponent = _$node.attr('pl-component');\n\t\tprototype = this;\n\t\n\t\tif (component) {\n\t\t\tcomponentRecord = _playGame2['default'].component.get(component);\n\t\n\t\t\tif (componentRecord) {\n\t\t\t\t// If a scope is being defined as an extention of a component before the component scope\n\t\t\t\t// has been allocated, we construct the component first then pass it as the proto.\n\t\t\t\t// But we need to make sure we are not allocating the component it self.\n\t\t\t\tif (componentRecord.implementation !== _implementation) {\n\t\t\t\t\tprototype = this.extend(componentRecord.implementation);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error('No implementation record for the ' + component + 'component.');\n\t\t\t}\n\t\t}\n\t\n\t\tinstance = typeof _implementation === 'function' ? prototype.extend(_implementation) : prototype.create();\n\t\n\t\treturn instance.initialize(_$node, component);\n\t}\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. Use `Scope.create()` to get a new instance.\n\t * @classdesc A package which contains a reference to a DOM node wrapped in a jQuery object. For more information on scopes read [this]{@link module:types/Scope}.\n\t * @class\n\t * @extends module:types/jQProxy~jQProxy\n\t */\n\tvar Scope = _typesJQProxy2['default'].extend(function () {\n\t\n\t\t/**\n\t  * Collection of records pairing a node with its action.\n\t  * @memberof module:types/Scope~Scope\n\t  * @static\n\t  * @protected\n\t  * @todo Convert to types/Collection\n\t  */\n\t\tvar Actionables;\n\t\n\t\tfunction attachActionHandler() {\n\t\t\tthis.on(pl.EVENT.ACTION, function (_event) {\n\t\t\t\tvar target, record;\n\t\n\t\t\t\ttarget = $(_event.target).closest('[pl-action]')[0];\n\t\n\t\t\t\tif (_event.originalEvent && _event.originalEvent.changedTouches) {\n\t\t\t\t\t/**\n\t     * For now, interactions should use the last touch if multiple fingers are captured.\n\t     * @todo Maybe invoke action for each touch.\n\t     */\n\t\t\t\t\t_event.touch = _event.originalEvent.changedTouches[_event.originalEvent.changedTouches.length - 1];\n\t\t\t\t}\n\t\n\t\t\t\t_event.cursor = _typesDimensions.Point.create().set(new function () {\n\t\t\t\t\tif (_event.touch) {\n\t\t\t\t\t\tthis.x = _event.touch.clientX;\n\t\t\t\t\t\tthis.y = _event.touch.clientY;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.x = _event.clientX;\n\t\t\t\t\t\tthis.y = _event.clientY;\n\t\t\t\t\t}\n\t\t\t\t}());\n\t\n\t\t\t\tif (target) {\n\t\t\t\t\trecord = this.actionables.item(target);\n\t\n\t\t\t\t\tif (record) {\n\t\t\t\t\t\t_event.targetScope = this;\n\t\t\t\t\t\tthis.event = _event;\n\t\t\t\t\t\t_evalAction2['default'](record.action, this);\n\t\t\t\t\t\tthis.event = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\tfunction getRecordBy(_key, _member, _collection) {\n\t\t\tvar i, record;\n\t\n\t\t\tif (_collection) {\n\t\t\t\tfor (i = 0; record = _collection[i]; i += 1) {\n\t\t\t\t\tif (record[_key] === _member) return record;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\t}\n\t\n\t\tfunction removeRecord(_record, _collection) {\n\t\t\tvar index;\n\t\n\t\t\tindex = _collection.indexOf(_record);\n\t\t\tif (~index) _collection.splice(index, 1);\n\t\t}\n\t\n\t\tfunction captureDropables(_scope) {\n\t\t\tvar collection;\n\t\n\t\t\tcollection = [];\n\t\n\t\t\t_scope.find('> [pl-pluck]').each(function () {\n\t\t\t\tvar name;\n\t\n\t\t\t\tname = $(this).attr('pl-pluck');\n\t\n\t\t\t\tcollection.push(this);\n\t\t\t\tcollection[name] = this;\n\t\t\t});\n\t\n\t\t\treturn collection;\n\t\t}\n\t\n\t\tfunction pluckAndDrop(_dropables, _template) {\n\t\t\t$(_template).find('[pl-drop]').each(function () {\n\t\t\t\tvar $node, name, dropable;\n\t\n\t\t\t\t$node = $(this);\n\t\t\t\tname = $node.attr('pl-drop');\n\t\t\t\tdropable = _dropables[name];\n\t\n\t\t\t\tif (dropable) {\n\t\t\t\t\t$node.replaceWith(dropable.children);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\t// Protected\n\t\tfunction loadComponentAssets(_name, _callback) {\n\t\t\tvar scope, path, totalRequests, transcludeMode, dropables;\n\t\n\t\t\tfunction ready() {\n\t\t\t\tready.status += 1;\n\t\n\t\t\t\tif (ready.status === totalRequests) {\n\t\t\t\t\tif (_callback) {\n\t\t\t\t\t\t_callback.call(scope, _name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\ttotalRequests = 0;\n\t\t\tscope = this;\n\t\t\tpath = _playGame2['default'].config('componentDirectory') + _name + '/';\n\t\t\tdropables = captureDropables(this);\n\t\t\ttranscludeMode = dropables.length ? this.TRANSCLUDE_PLUCK : this.properties.transclude;\n\t\t\tready.status = 0;\n\t\n\t\t\tif (!this.children().length || transcludeMode) {\n\t\t\t\ttotalRequests += 1;\n\t\t\t\t$('<div>').load(path + 'template.html', function () {\n\t\t\t\t\tvar memory;\n\t\n\t\t\t\t\tmemory = [];\n\t\n\t\t\t\t\tswitch (transcludeMode) {\n\t\t\t\t\t\tcase scope.TRANSCLUDE_APPEND:\n\t\t\t\t\t\t\tscope.append(this.children);\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase scope.TRANSCLUDE_PREPEND:\n\t\t\t\t\t\t\tscope.prepend(this.children);\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase scope.TRANSCLUDE_PLUCK:\n\t\t\t\t\t\t\tpluckAndDrop(dropables, this);\n\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase scope.TRANSCLUDE_REPLACE:\n\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif (transcludeMode) {\n\t\t\t\t\t\t\t\tpluckAndDrop(new function () {\n\t\t\t\t\t\t\t\t\tthis[transcludeMode] = scope.node();\n\t\t\t\t\t\t\t\t}(), this);\n\t\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tscope.findOwn('[pl-component]').each(function () {\n\t\t\t\t\t\tvar name;\n\t\n\t\t\t\t\t\tname = $(this).attr('pl-component');\n\t\n\t\t\t\t\t\tif (~memory.indexOf(name)) return;\n\t\n\t\t\t\t\t\tmemory.push(name);\n\t\n\t\t\t\t\t\ttotalRequests += 1;\n\t\n\t\t\t\t\t\t_playGame2['default'].component.load(name, function () {\n\t\t\t\t\t\t\tready();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tready();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tif (!$('style[pl-for-component=\"' + _name + '\"]').length && _playGame2['default'].config('shouldLoadComponentStyles') !== false) {\n\t\t\t\ttotalRequests += 1;\n\t\t\t\t$('<style type=\"text/css\" pl-for-component=\"' + _name + '\">').load(path + 'style.css', ready).appendTo(document.body);\n\t\t\t}\n\t\n\t\t\tif (!totalRequests) _callback && _callback.call(this, _name);\n\t\n\t\t\treturn this;\n\t\t}\n\t\n\t\tfunction captureProperties() {\n\t\t\tvar i, attr, name, collection;\n\t\n\t\t\tcollection = (function () {\n\t\n\t\t\t\tthis.has = function (_name) {\n\t\t\t\t\treturn !! ~this.indexOf(_name);\n\t\t\t\t};\n\t\n\t\t\t\treturn this;\n\t\t\t}).call([]);\n\t\n\t\t\tfor (i = 0; attr = this.$els[0].attributes[i]; i += 1) {\n\t\t\t\t// I explicitly want it to be at the beginning.\n\t\t\t\tif (attr.name.indexOf('pl-') === 0) {\n\t\t\t\t\tname = attr.name.slice(3);\n\t\t\t\t\tcollection[_util2['default'].transformId(name, true)] = attr.value;\n\t\n\t\t\t\t\tcollection.push(name);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (collection.length) this.properties = collection;\n\t\n\t\t\treturn this;\n\t\t}\n\t\n\t\tfunction initializeEntities() {\n\t\t\tif (!this.hasOwnProperty('entities')) return this;\n\t\n\t\t\tthis.entities.forEach(this.bind(function (_record, _index) {\n\t\t\t\tvar $nodes, query, index;\n\t\n\t\t\t\t$nodes = this.findOwn(_record.selector);\n\t\t\t\tquery = ['#' + _record.selector, '[pl-id=' + _record.selector + ']', '[pl-component=' + _record.selector + ']', '[pl-' + _record.selector + ']'];\n\t\t\t\tindex = 0;\n\t\n\t\t\t\twhile (!$nodes.length) {\n\t\t\t\t\tif (index === query.length) {\n\t\t\t\t\t\tthrow new Error(\"Unable to locate entity with selector\", _record.selector);\n\t\t\t\t\t}\n\t\t\t\t\t$nodes = this.findOwn(query[index]);\n\t\t\t\t\tindex += 1;\n\t\t\t\t}\n\t\n\t\t\t\t$nodes.each(this.bind(function (_index, _node) {\n\t\t\t\t\tvar $node, instance, id;\n\t\n\t\t\t\t\t$node = $(_node);\n\t\n\t\t\t\t\tif (!Scope.isPrototypeOf(_record)) {\n\t\t\t\t\t\tinstance = createEntity.call(this, $node, _record.implementation);\n\t\t\t\t\t\tif (!instance.isReady) this.assetQueue.add(instance);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinstance = _record;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tid = _util2['default'].transformId(instance.id(), true);\n\t\t\t\t\tif (id) _util2['default'].assignRef(this, id, instance);\n\t\t\t\t}));\n\t\t\t}));\n\t\n\t\t\treturn this;\n\t\t}\n\t\n\t\tfunction handleProperties() {\n\t\t\tvar scope, property, handler;\n\t\n\t\t\tscope = this;\n\t\n\t\t\tif (this.hasOwnProperty('properties')) {\n\t\t\t\tthis.properties.forEach(function (_name) {\n\t\t\t\t\thandler = scope.propertyHandlers[_name];\n\t\t\t\t\tif (handler) handler.call(scope, scope.$els[0], _name, scope.properties[_name]);\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tif (this.propertyHandlers) {\n\t\t\t\tfor (property in this.propertyHandlers) {\n\t\t\t\t\t// Only exclide members on the base type.\n\t\t\t\t\tif (_typesBasic2['default'].hasOwnProperty(property)) continue;\n\t\n\t\t\t\t\thandler = this.propertyHandlers[property];\n\t\n\t\t\t\t\tthis.findOwn('[pl-' + property + ']').each(function () {\n\t\t\t\t\t\tvar attr;\n\t\n\t\t\t\t\t\tif (scope === $(this).scope()) {\n\t\t\t\t\t\t\tattr = this.attributes.getNamedItem('pl-' + property);\n\t\n\t\t\t\t\t\t\tif (handler) handler.call(scope, this, property, attr.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t}\n\t\n\t\tfunction invokeLocal(_name) {\n\t\t\tvar args, owner;\n\t\n\t\t\targs = [].slice.call(arguments, 1);\n\t\n\t\t\tif (this.isMemberSafe(_name)) {\n\t\t\t\treturn this[_name].apply(this, arguments);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction init() {\n\t\t\tvar willInitEvent, initEvent;\n\t\n\t\t\tinitEvent = $.Event('initialize', { targetScope: this });\n\t\t\twillInitEvent = $.Event('will-initialize', { targetScope: this });\n\t\n\t\t\tinvokeLocal.call(this, 'willInit');\n\t\t\tthis.trigger(willInitEvent);\n\t\n\t\t\tthis.attachEvents();\n\t\n\t\t\tinitializeEntities.call(this);\n\t\t\thandleProperties.call(this);\n\t\n\t\t\tthis.watchAssets();\n\t\t\tthis.captureAudioAssets();\n\t\t\tthis.captureReferences();\n\t\n\t\t\tthis.__init();\n\t\t\tinvokeLocal.call(this, 'init');\n\t\n\t\t\tthis.trigger(initEvent);\n\t\n\t\t\tif (!this.isReady) this.assetQueue.ready();\n\t\n\t\t\treturn this;\n\t\t}\n\t\n\t\tfunction ready() {\n\t\t\tvar readyEvent, entities;\n\t\n\t\t\treadyEvent = $.Event('ready', { targetScope: this });\n\t\t\tentities = this.findOwn('.pl-scope').scope();\n\t\n\t\t\tif (entities) {\n\t\t\t\tif (entities.length > 0) {\n\t\t\t\t\tthis.entities = entities;\n\t\t\t\t} else {\n\t\t\t\t\tthis.entities = [entities];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Sort audio into DOM order.\n\t   * @todo Consider including this into `AudioManager`. Micah: 2/23/2016.\n\t   */\n\t\t\tif (this.hasOwnProperty('audio')) {\n\t\t\t\t(this.game || this).media.addShadow(this.audio);\n\t\t\t\tthis.audio.collections().forEach((function (_collection) {\n\t\t\t\t\tvar map = {\n\t\t\t\t\t\tvoiceOver: 'voice-over',\n\t\t\t\t\t\tbackground: 'background',\n\t\t\t\t\t\tsfx: 'sfx'\n\t\t\t\t\t};\n\t\n\t\t\t\t\tif (!_collection.length) return;\n\t\n\t\t\t\t\tthis.findOwn('audio.' + map[_collection.type]).each(function (_index, _node) {\n\t\t\t\t\t\tvar id, audio, collection, index;\n\t\n\t\t\t\t\t\tid = $(_node).id();\n\t\t\t\t\t\taudio = (_collection.find('#' + id) || [])[0];\n\t\t\t\t\t\tindex = _collection.indexOf(audio);\n\t\n\t\t\t\t\t\tif (index !== _index) {\n\t\t\t\t\t\t\t_collection[index] = _collection[_index];\n\t\t\t\t\t\t\t_collection[_index] = audio;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}).bind(this));\n\t\t\t}\n\t\n\t\t\tthis.isReady = true;\n\t\t\tthis.addClass('READY');\n\t\n\t\t\tthis.__ready();\n\t\t\tinvokeLocal.call(this, 'ready');\n\t\n\t\t\tthis.trigger(readyEvent);\n\t\t}\n\t\n\t\tActionables = (function () {\n\t\n\t\t\t_util2['default'].mixin(this, _typesBasic2['default']);\n\t\n\t\t\tthis.add = function (_node, _action) {\n\t\t\t\tif (!this.has(_node)) {\n\t\t\t\t\tthis.push({\n\t\t\t\t\t\tnode: _node,\n\t\t\t\t\t\taction: _action\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\n\t\t\tthis.remove = function (_node) {\n\t\t\t\tvar item, index;\n\t\n\t\t\t\titem = this.item(_node);\n\t\t\t\tindex = this.indexOf(item);\n\t\t\t\tif (~index) this.splice(index, 1);\n\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\n\t\t\tthis.item = function (_node) {\n\t\t\t\tvar i, item;\n\t\n\t\t\t\tfor (i = 0; item = this[i]; i += 1) {\n\t\t\t\t\tif (item.node === _node) return item;\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.has = function (_node) {\n\t\t\t\treturn !!this.item(_node);\n\t\t\t};\n\t\n\t\t\treturn this;\n\t\t}).call([]);\n\t\n\t\tthis.TRANSCLUDE_REPLACE = 'replace';\n\t\tthis.TRANSCLUDE_PREPEND = 'prepend';\n\t\tthis.TRANSCLUDE_APPEND = 'append';\n\t\tthis.TRANSCLUDE_PLUCK = 'pluck';\n\t\n\t\tthis.baseType = 'TYPE_SCOPE';\n\t\tthis.actionables = null;\n\t\tthis.isReady = null;\n\t\tthis.isComponent = false;\n\t\tthis.entities = null;\n\t\tthis.audio = null;\n\t\tthis.properties = null;\n\t\tthis.propertyHandlers = null;\n\t\tthis.assetQueue = null;\n\t\tthis.event = null;\n\t\tthis.currentMedia = {};\n\t\n\t\tthis.initialize = function (_node_selector, _componentName) {\n\t\t\tvar scope;\n\t\n\t\t\tscope = this;\n\t\n\t\t\tthis.isReady = false;\n\t\t\tthis.isComponent = !!_componentName;\n\t\t\tthis.event = null;\n\t\t\tthis.assetQueue = _typesQueue2['default'].create();\n\t\t\tthis.$els = _node_selector.jquery ? _node_selector : $(_node_selector);\n\t\n\t\t\tif (!this.$els.length) {\n\t\t\t\tthrow new ReferenceError('Unable to locate the element with selector ' + this.$els.selector + '.');\n\t\t\t}\n\t\n\t\t\tthis.addClass('pl-scope ' + (_componentName ? _componentName + '-component' : ''));\n\t\t\tthis.data('pl-scope', this);\n\t\t\tthis.data('pl-isComponent', !!_componentName);\n\t\n\t\t\tcaptureProperties.call(this);\n\t\n\t\t\tif (_componentName) {\n\t\t\t\tloadComponentAssets.call(this, _componentName, function () {\n\t\t\t\t\tinit.call(this);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tinit.call(this);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t// only for use in base types\n\t\tthis.__init = function () {\n\t\t\treturn this;\n\t\t};\n\t\tthis.__ready = function () {\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.willInit = function () {\n\t\t\treturn this;\n\t\t};\n\t\tthis.init = function () {\n\t\t\treturn this;\n\t\t};\n\t\tthis.ready = function () {\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.watchAssets = function (_nodes) {\n\t\t\tvar createHandler, watch;\n\t\n\t\t\tcreateHandler = this.bind(function (_node) {\n\t\t\t\treturn (function () {\n\t\t\t\t\tvar loadedEvent = $.Event('loaded', { targetScope: this });\n\t\n\t\t\t\t\tthis.assetQueue.ready(_node.src);\n\t\t\t\t\tthis.trigger(loadedEvent, [_node]);\n\t\n\t\t\t\t\t_node.onload = null;\n\t\t\t\t}).bind(this);\n\t\t\t});\n\t\n\t\t\twatch = this.bind(function (_index, _node) {\n\t\t\t\tvar node = typeof _index === 'number' ? _node : _index;\n\t\n\t\t\t\tif (node.nodeName !== 'IMG' || node.complete) return;\n\t\t\t\tif (this.assetQueue.add(node.src)) {\n\t\t\t\t\tnode.onload = createHandler(node);\n\t\t\t\t\tnode.onerror = function () {\n\t\t\t\t\t\tconsole.error('Image failed to load', node.src);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tif (_nodes) {\n\t\t\t\t_nodes.forEach(watch);\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\tthis.each(watch);\n\t\t\tthis.findOwn('img').each(watch);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.attachEvents = function () {\n\t\n\t\t\tthis.proto();\n\t\n\t\t\tthis.assetQueue.on('complete', this.bind(function () {\n\t\t\t\tthis.assetQueue.off();\n\t\t\t\tready.call(this);\n\t\t\t}));\n\t\n\t\t\tthis.on('ready', function (_event) {\n\t\t\t\tif (this.has(_event.targetScope) && this.assetQueue.has(_event.targetScope)) {\n\t\t\t\t\tthis.assetQueue.ready(_event.targetScope);\n\t\t\t\t}\n\t\n\t\t\t\tif (!this.assetQueue.length && this.isReady) this.off('ready');\n\t\t\t});\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.captureReferences = function () {\n\t\t\tthis.findOwn('[id], [pl-id]').each(this.bind(function (_index, _node) {\n\t\t\t\tvar $node, id;\n\t\n\t\t\t\tif (_node.nodeName === 'AUDIO') return;\n\t\n\t\t\t\t$node = $(_node);\n\t\t\t\tid = $node.attr('id') || $node.attr('pl-id');\n\t\n\t\t\t\tif (!this[id]) {\n\t\t\t\t\t_util2['default'].assignRef(this, id, $node.data('pl-scope') || $node);\n\t\t\t\t}\n\t\t\t}));\n\t\t};\n\t\n\t\tthis.captureAudioAssets = function () {\n\t\t\tvar deQ, $audio;\n\t\n\t\t\tif (!($audio = this.findOwn('audio')).length) return false;\n\t\n\t\t\tdeQ = (function (_item) {\n\t\t\t\t[this, this.screen].forEach(function (_scope) {\n\t\t\t\t\tif (_scope.requiredQueue && _scope.isMemberSafe('requiredQueue') && _scope.requiredQueue.has(_item)) {\n\t\t\t\t\t\t_scope.requiredQueue.ready(_item);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}).bind(this);\n\t\n\t\t\tthis.audio = _typesAudioManager.AudioManager.create(this.id());\n\t\n\t\t\t$audio.each((function (_index, _node) {\n\t\t\t\tthis.assetQueue.add(_node.src);\n\t\t\t\tthis.audio.watch(_node).then((function (_audio) {\n\t\t\t\t\tvar loadedEvent = $.Event('loaded', { target: _node, targetScope: this });\n\t\n\t\t\t\t\tif ($(_node).is('[pl-required]')) this.screen.require(_audio);\n\t\n\t\t\t\t\tif (this.assetQueue.has(_node.src)) this.assetQueue.ready(_node.src);\n\t\n\t\t\t\t\tthis.trigger(loadedEvent);\n\t\t\t\t}).bind(this));\n\t\t\t}).bind(this));\n\t\n\t\t\t// proxy events\n\t\t\tthis.audio.on('play pause ended stopped', this.bind(function (_event) {\n\t\t\t\tvar map = {\n\t\t\t\t\tbackground: 'BACKGROUND',\n\t\t\t\t\tvoiceOver: 'VOICE-OVER',\n\t\t\t\t\tsfx: 'SFX'\n\t\t\t\t};\n\t\n\t\t\t\tswitch (_event.type) {\n\t\t\t\t\tcase 'play':\n\t\t\t\t\t\t[this, this.screen].forEach(function (_scope, _index, _set) {\n\t\t\t\t\t\t\tif (_index === 1 && _scope === _set[0]) return;\n\t\t\t\t\t\t\tif (_scope.$els) {\n\t\t\t\t\t\t\t\t_scope.addClass('PLAYING ' + map[_event.target.type]);\n\t\t\t\t\t\t\t\t_scope.currentMedia[map[_event.target.type]] = _event.target;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t$(_event.targetNode).addClass('PLAYING');\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'pause':\n\t\t\t\t\tcase 'stopped':\n\t\t\t\t\tcase 'ended':\n\t\t\t\t\t\t[this, this.screen].forEach(function (_scope, _index, _set) {\n\t\t\t\t\t\t\tvar state;\n\t\n\t\t\t\t\t\t\tif (_index === 1 && _scope === _set[0]) return;\n\t\n\t\t\t\t\t\t\tif (_scope.$els) {\n\t\t\t\t\t\t\t\t_scope.removeClass(map[_event.target.type]);\n\t\t\t\t\t\t\t\tstate = _scope.attr('class');\n\t\t\t\t\t\t\t\tif (!/BACKGROUND|VOICE-OVER|SFX/.test(state)) _scope.removeClass('PLAYING');\n\t\t\t\t\t\t\t\tif (_scope.currentMedia[map[_event.target.type]] === _event.target) _scope.currentMedia[map[_event.target.type]] = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t$(_event.targetNode).removeClass('PLAYING');\n\t\t\t\t\t\tif (_event.type === 'ended') deQ(_event.target);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\n\t\t\t\tvar audioEvent = $.Event('audio-' + _event.type, {\n\t\t\t\t\ttarget: _event.target,\n\t\t\t\t\ttargetSource: _event.targetSource,\n\t\t\t\t\ttargetNode: _event.targetNode,\n\t\t\t\t\ttargetScope: this\n\t\t\t\t});\n\t\n\t\t\t\tthis.trigger(audioEvent);\n\t\t\t}));\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.handleProperty = function (_implementation) {\n\t\t\tif (this.propertyHandlers) {\n\t\t\t\tif (this.hasOwnProperty('propertyHandlers')) {\n\t\t\t\t\tswitch (typeof _implementation) {\n\t\t\t\t\t\tcase 'function':\n\t\t\t\t\t\t\t_implementation.call(this.propertyHandlers);\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\t\tthis.propertyHandlers.mixin(_implementation);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.propertyHandlers = this.propertyHandlers.extend(_implementation);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.propertyHandlers = _typesBasic2['default'].extend(_implementation);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.entity = function (_selector, _implementation) {\n\t\t\tvar Entity, prototype, id;\n\t\n\t\t\tEntity = _playGame2['default'].provideEntityType();\n\t\n\t\t\tif (!this.hasOwnProperty('entities')) this.entities = [];\n\t\n\t\t\tif (this.hasOwnProperty('$els')) {\n\t\t\t\tthrow new Error('Wait this hasn\\'t been tested.');\n\t\t\t\tprototype = Entity.isPrototypeOf(this) ? this : Entity;\n\t\t\t\tinstance = prototype.extend(_implementation).initialize(this.find(_selector));\n\t\t\t\tid = _util2['default'].transformId(instance.id());\n\t\n\t\t\t\t// this.entities.push(instance);\n\t\t\t\tif (id) this[id] = instance;\n\t\t\t} else {\n\t\t\t\tthis.entities.push({\n\t\t\t\t\tselector: _selector,\n\t\t\t\t\timplementation: _implementation\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.has = function (_child) {\n\t\t\tvar child;\n\t\n\t\t\tchild = Scope.isPrototypeOf(_child) ? _child.$els : _child;\n\t\n\t\t\treturn !!this.$els.has(child).length;\n\t\t};\n\t\n\t\tthis.toString = function () {\n\t\t\tvar type;\n\t\n\t\t\ttype = this.baseType.replace('TYPE_', '');\n\t\t\ttype = type.slice(0, 1) + type.slice(1).toLowerCase();\n\t\n\t\t\treturn ['[', this.id() || this.address(), ' ', type, ']'].join('');\n\t\t};\n\t\n\t\tthis.log = function () {\n\t\t\tvar args;\n\t\n\t\t\targs = _util2['default'].toArray(arguments);\n\t\n\t\t\tconsole.log.apply(console, [this.id() || this.address(), '-'].concat(args));\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.handleProperty(function () {\n\t\n\t\t\tthis.component = function (_node, _name, _value, _property) {\n\t\t\t\tvar $node, record, scope, id;\n\t\n\t\t\t\t$node = $(_node);\n\t\n\t\t\t\tif (!$node.data('pl-isComponent')) {\n\t\t\t\t\trecord = _playGame2['default'].component.get(_value);\n\t\n\t\t\t\t\tif (record) {\n\t\t\t\t\t\tscope = createEntity.call(this, $node, record.implementation);\n\t\t\t\t\t\tid = _util2['default'].transformId(scope.id() || _value, true);\n\t\t\t\t\t\t_util2['default'].assignRef(this, id, scope);\n\t\n\t\t\t\t\t\tif (!scope.isReady) this.assetQueue.add(scope);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error('Ahh!');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.action = function (_node, _name, _value) {\n\t\t\t\tif (!this.hasOwnProperty('actionables')) {\n\t\t\t\t\tthis.actionables = Actionables.create();\n\t\t\t\t\tattachActionHandler.call(this);\n\t\t\t\t}\n\t\n\t\t\t\tthis.actionables.add(_node, _value);\n\t\t\t};\n\t\n\t\t\tthis.required = function (_node, _name, _value) {\n\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\tthis.screen.require(this);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.require = function (_node, _name, _value) {\n\t\t\t\tvar query, $node;\n\t\n\t\t\t\t// if the node with the attribute is the node for this scope\n\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\tquery = '#_value, [pl-id=_value], [pl-component=_value]'.replace(/_value/g, _value);\n\t\t\t\t\t$node = this.find(query);\n\t\n\t\t\t\t\t$node.on('ready', this.bind(function (_event) {\n\t\t\t\t\t\tif ($node.is(_event.target)) {\n\t\t\t\t\t\t\tthis.require(_event.targetScope);\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t});\n\t\n\texports['default'] = { Scope: Scope, createEntity: createEntity };\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _Object$keys = __webpack_require__(33)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t*  jQProxy\n\t*  @desc Contains all the jQuery methods targeted towards a property which references a jQuery object.\n\t*  @proto Basic\n\t*  \n\t*  NOTE: Custom events may trigger on scopes\n\t*  that also targets the same elments. Testing needed.\n\t*/\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesBasic = __webpack_require__(19);\n\t\n\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\n\tvar jQProxy = _typesBasic2['default'].extend(function () {\n\t\tvar method, exclude;\n\t\n\t\t/**\n\t *  @desc Creates a function with a proxy to the jQuery method.\n\t *  @param _name (String) The name of the method being proxied.\n\t *  @return (jQuery|*) Either a jQuery object or whatever the original method returns.\n\t *  @private\n\t */\n\t\tfunction createProxyFunction(_name) {\n\t\t\treturn function () {\n\t\t\t\tvar response;\n\t\n\t\t\t\t// This makes sure your not calling any jQuery methods before initialization.\n\t\t\t\tif (!this.hasOwnProperty('$els')) {\n\t\t\t\t\tif (_name === 'on') {\n\t\t\t\t\t\tregisterHandler.call(this, arguments);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new ReferenceError('Unable to invoke ' + _name + ' because the scope is not initialized.');\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tresponse = $.fn[_name].apply(this.$els, resolveEventHandler(this, _name, arguments));\n\t\n\t\t\t\tif (response === this.$els || response && response.jquery && response.is(this.$els)) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\n\t\t\t\treturn response;\n\t\t\t};\n\t\t}\n\t\n\t\tfunction resolveEventHandler(_scope, _method, _args) {\n\t\t\tvar i, arg, args;\n\t\n\t\t\targs = [];\n\t\n\t\t\tif (~['on', 'load'].indexOf(_method)) {\n\t\t\t\tfor (i = 0; arg = _args[i]; i += 1) {\n\t\t\t\t\tif (typeof arg === 'function') {\n\t\t\t\t\t\targs.push((function (_handler) {\n\t\t\t\t\t\t\treturn function () {\n\t\t\t\t\t\t\t\treturn _handler.apply(_scope, arguments);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t})(arg));\n\t\t\t\t\t} else {\n\t\t\t\t\t\targs.push(arg);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn args;\n\t\t\t}\n\t\n\t\t\treturn _args;\n\t\t}\n\t\n\t\tfunction registerHandler(_definition) {\n\t\t\tif (!this.hasOwnProperty('eventRegistry')) {\n\t\t\t\tif (this.eventRegistry && this.isMemberSafe('eventRegistry')) {\n\t\t\t\t\tthis.eventRegistry = this.eventRegistry.slice(0);\n\t\t\t\t} else {\n\t\t\t\t\tthis.eventRegistry = [];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tthis.eventRegistry.push(_definition);\n\t\n\t\t\treturn true;\n\t\t}\n\t\n\t\t// We don't want jQuery methods overridding our base type's methods.\n\t\texclude = ['constructor'].concat(_Object$keys(_typesBasic2['default']));\n\t\n\t\tthis.baseType = 'TYPE_JQPROXY';\n\t\tthis.$els = null;\n\t\tthis.eventRegistry = null;\n\t\n\t\tfor (method in $.fn) {\n\t\t\tif (!$.fn.hasOwnProperty(method) || ~exclude.indexOf(method)) continue;\n\t\t\tthis[method] = createProxyFunction(method);\n\t\t}\n\t\n\t\tthis.node = function () {\n\t\t\treturn this.$els[0];\n\t\t};\n\t\n\t\tthis.attachEvents = function () {\n\t\t\tvar self;\n\t\n\t\t\tself = this;\n\t\n\t\t\tif (this.eventRegistry && this.isMemberSafe('eventRegistry')) {\n\t\t\t\tthis.eventRegistry.forEach(function (_definition) {\n\t\t\t\t\tself.on.apply(self, _definition);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\n\t\tthis.listen = function (_name, _isCapure_handler, _handler) {\n\t\t\tvar _isCapture, node, handler;\n\t\n\t\t\t_isCapture = false;\n\t\n\t\t\t// resolve arguments\n\t\t\ttypeof _isCapure_handler === 'boolean' ? _isCapture = _isCapure_handler : _handler = _isCapure_handler;\n\t\n\t\t\t_handler.cb = _handler.bind(this);\n\t\n\t\t\tif (this.$els) {\n\t\t\t\tnode = this.$els[0];\n\t\t\t\tif (node) return node.addEventListener(_name, _handler.cb, _isCapture);\n\t\t\t} else {\n\t\t\t\treturn registerHandler([_name, _handler.cb, _isCapture]);\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t};\n\t\n\t\tthis.ignore = function (_name, _handler) {\n\t\t\tvar node = this.$els && this.$els[0];\n\t\n\t\t\tif (node) return node.removeEventListener(_name, _handler.cb || _handler);\n\t\n\t\t\treturn false;\n\t\t};\n\t\n\t\t// Wraps you function 'this' to the scope.\n\t\t//\n\t\tthis.bind = function (_handler) {\n\t\t\tvar args;\n\t\n\t\t\targs = [].map.call(arguments, function (m) {\n\t\t\t\treturn m;\n\t\t\t}).slice(1);\n\t\n\t\t\treturn _handler.bind.apply(_handler, [this].concat(args));\n\t\t};\n\t\n\t\tthis.findOwn = function (_selector) {\n\t\t\treturn this.find(_selector).filter(this.bind(function (_index, _node) {\n\t\t\t\tvar $node;\n\t\n\t\t\t\t$node = $(_node);\n\t\n\t\t\t\tif ($node.hasClass('pl-scope')) {\n\t\t\t\t\treturn $node.parent().scope() === this;\n\t\t\t\t}\n\t\n\t\t\t\treturn $node.scope() === this;\n\t\t\t}));\n\t\t};\n\t\n\t\tthis.isMemberSafe = function (_name) {\n\t\t\tvar owner, elOwner, prototype;\n\t\n\t\t\tif (this.hasOwnProperty(_name)) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tprototype = Object.getPrototypeOf(this);\n\t\t\t\towner = _util2['default'].getOwner(this, this[_name]);\n\t\n\t\t\t\tif (owner.object.hasOwnProperty('$els') || prototype.hasOwnProperty('$els')) return false;\n\t\n\t\t\t\tif (prototype.$els) {\n\t\t\t\t\telOwner = _util2['default'].getOwner(prototype, prototype.$els);\n\t\n\t\t\t\t\tif (owner.object.isPrototypeOf(elOwner.object)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn true;\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t};\n\t\n\t\tthis.is = function (_obj) {\n\t\t\tif (!_obj) return false;\n\t\t\tif (_obj.$els) return this.$els.is(_obj.$els);\n\t\n\t\t\treturn this.$els.is(_obj);\n\t\t};\n\t});\n\t\n\texports['default'] = jQProxy;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(34), __esModule: true };\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(35);\n\tmodule.exports = __webpack_require__(11).Object.keys;\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 19.1.2.14 Object.keys(O)\n\tvar toObject = __webpack_require__(36);\n\t\n\t__webpack_require__(38)('keys', function($keys){\n\t  return function keys(it){\n\t    return $keys(toObject(it));\n\t  };\n\t});\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 7.1.13 ToObject(argument)\n\tvar defined = __webpack_require__(37);\n\tmodule.exports = function(it){\n\t  return Object(defined(it));\n\t};\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tmodule.exports = function(it){\n\t  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n\t  return it;\n\t};\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// most Object methods by ES6 should accept primitives\n\tvar $export = __webpack_require__(9)\n\t  , core    = __webpack_require__(11)\n\t  , fails   = __webpack_require__(39);\n\tmodule.exports = function(KEY, exec){\n\t  var fn  = (core.Object || {})[KEY] || Object[KEY]\n\t    , exp = {};\n\t  exp[KEY] = exec(fn);\n\t  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n\t};\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(exec){\n\t  try {\n\t    return !!exec();\n\t  } catch(e){\n\t    return true;\n\t  }\n\t};\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t*  Queue\n\t*  @desc Contains...\n\t*  @proto Array, Events, Basic\n\t*/\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesCollection = __webpack_require__(29);\n\t\n\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\n\tvar _typesEvents = __webpack_require__(26);\n\t\n\tvar _typesEvents2 = _interopRequireDefault(_typesEvents);\n\t\n\tvar Queue = _typesCollection2['default'].extend(function () {\n\t\n\t\tthis.baseType = 'TYPE_QUEUE';\n\t\n\t\tthis.ready = function (_record) {\n\t\t\tif (_record != null) this.remove(_record);\n\t\n\t\t\tif (!this.length) {\n\t\t\t\tthis.trigger('complete');\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t_util2['default'].mixin(this, _typesEvents2['default']);\n\t\n\t\treturn this;\n\t});\n\t\n\texports['default'] = Queue;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\texports.__esModule = true;\n\t/**\n\t * @module evalAction\n\t */\n\t\n\t/**\n\t * Performs `eval()` on the value of an `action` attribute on an HTML element.\n\t * @arg {string} _source - JavaScript source code.\n\t * @arg {Scope} _scope - The context in which to run the source.\n\t * @returns {*} The result of the evaluated source.\n\t */\n\tfunction evalAction(_source, _scope) {\n\t\tvar error;\n\t\n\t\tfunction target(_selector) {\n\t\t\tif (_scope.event) {\n\t\t\t\treturn _selector ? $(_scope.event.target).closest(_selector) : $(_scope.event.target);\n\t\t\t}\n\t\t}\n\t\n\t\t// expose members of the object as if they were local variables.\n\t\t// NOTE: methods still retain their \"this\" binding to the object! :D\n\t\treturn eval(\"with (_scope) { try {\" + _source + \";} catch (error) { console.error('Error:', error.message, 'evaluating action', _source, 'in', _scope.id() || _scope.address()); } }\");\n\t}\n\t\n\texports[\"default\"] = evalAction;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _Promise = __webpack_require__(43)['default'];\n\t\n\tvar _Object$keys = __webpack_require__(33)['default'];\n\t\n\tvar _Object$create = __webpack_require__(20)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t\n\t/**\n\t * Contains classes for managing different media types.\n\t * Providing an API for referencing and control.\n\t * @module\n\t * @author Micah Rolon <micah@ginasink.com>\n\t */\n\t\n\tvar _typesType = __webpack_require__(90);\n\t\n\tvar _typesType2 = _interopRequireDefault(_typesType);\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesCollection = __webpack_require__(29);\n\t\n\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\n\t// Object type definitions are using  `$` as the augmentation method for Types.\n\t\"use strict\";var EventTargetInterface,\n\t    InspectorInterface,\n\t    PlayableInterface,\n\t    LegislatorInterface,\n\t    StateInterface,\n\t    $$ = window.jQuery;\n\t\n\t/**\n\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `MediaManager.create()`.</span>\n\t * Manages any playing media (Audio, Video).\n\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t * @classdesc Manages any playing media (Audio, Video).\n\t * <style>\n\t * .note {\n\t *   border: solid 1px;\n\t *   border-radius: 4px;\n\t *   padding: 1px 4px;\n\t *   color: #aaa;\n\t *   background-color: #eee;\n\t * }\n\t * \n\t * .note.important {\n\t *   color: #b55;\n\t *   background-color: #fee;\n\t * }\n\t * </style>\n\t *\n\t * @class\n\t */\n\tfunction MediaManager($, sup) {\n\t\t/**\n\t  * Duck typed multiple inheritance.\n\t  */\n\t\t_util2['default'].mixin(this, EventTargetInterface, InspectorInterface, LegislatorInterface, StateInterface);\n\t\t$('video', function alloc(_id) {\n\t\t\tsup(this, 'alloc', arguments);\n\t\t\tthis.video = _typesCollection2['default'].create();\n\t\t\tthis.initialize(_id, 'media manager');\n\t\t});\n\t}\n\t\n\t/**\n\t * The Scopes entry for its audio management interface. This gives access to collections of Audio objects grouped into three types.\n\t *\n\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioManager.create()`.</span>\n\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t * @classdesc The Scopes entry for its audio management interface. This gives access to collections of Audio objects grouped into three types.\n\t * - Background\n\t * - Voice Over\n\t * - SFX (Sound Effects)\n\t * These collections are filled by the HTML Audio elements which have classes corresponding to these types.\n\t * @class\n\t * @prop {type} member - Text.\n\t * @extends EventTargetInterface\n\t * @extends PlayableInterface\n\t * @extends InspectorInterface\n\t */\n\tfunction AudioManager($) {\n\t\tvar AUDIO_TYPES, BUFFER_CACHE;\n\t\n\t\t/**\n\t  * A record object for passing the MediaElement which got loaded as an `AudioBuffer`.\n\t  * @arg {HTMLAudioElement} _node - The loaded audio element.\n\t  * @arg {ArrayBuffer} _buffer - The array buffer loaded from XHR2.\n\t  */\n\t\tfunction AudioBufferRecord(_node, _buffer) {\n\t\t\tthis.node = _node;\n\t\t\tthis.type = getAudioType(_node);\n\t\t\tthis.buffer = _buffer;\n\t\t}\n\t\t/**\n\t  * Provides the classification an audio element falls into.\n\t  * - Background (`background`)\n\t  * - Voice Over (`voiceOver`)\n\t  * - Sound Effects (`sfx`)\n\t  * @protected\n\t  * @arg {HTMLAudioElement} _audio - The audio element.\n\t  * @returns {string} - The type.\n\t  */\n\t\tfunction getAudioType(_audio) {\n\t\t\treturn _util2['default'].transformId((_audio.className.match(AUDIO_TYPES) || [])[0], true);\n\t\t}\n\t\t/**\n\t  * Given an HTMLAudioElement, load its source as an `ArrayBuffer` with XHR2.\n\t  * @protected\n\t  * @arg {HTMLAudioElement} _audio - The audio element.\n\t  * @returns {Promise}\n\t  */\n\t\tfunction loadArrayBuffer(_audio) {\n\t\t\tvar xhr, manager, fileName;\n\t\n\t\t\txhr = new (XMLHttpRequest || _util2['default'].noop)();\n\t\t\tmanager = this;\n\t\t\tfileName = _util2['default'].resolveFileName(_audio.src);\n\t\n\t\t\tif (!xhr.open) _Promise.reject('This platfom does not support the XMLHttpRequest API.');\n\t\n\t\t\treturn new _Promise(function (resolve, reject) {\n\t\t\t\tvar cache = BUFFER_CACHE[fileName];\n\t\n\t\t\t\t// Decodes ArrayBuffer into an AudioBuffer.\n\t\t\t\tfunction onLoad() {\n\t\t\t\t\tvar ctx, promise;\n\t\n\t\t\t\t\tif (xhr.status >= 200 && xhr.status < 300) {\n\t\t\t\t\t\tif (ctx = pl.game.getAudioContext()) {\n\t\t\t\t\t\t\tpromise = new _Promise(function (resolveDecoding, rejectDecoding) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tctx.decodeAudioData(xhr.response, function (_buffer) {\n\t\t\t\t\t\t\t\t\t\tvar audio = manager.collect(new AudioBufferRecord(_audio, _buffer));\n\t\n\t\t\t\t\t\t\t\t\t\tresolveDecoding(audio);\n\t\t\t\t\t\t\t\t\t\t// Cache the AudioBuffer to resolve duplicates.\n\t\t\t\t\t\t\t\t\t\tBUFFER_CACHE[fileName] = _buffer;\n\t\t\t\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\t\t\t\trejectDecoding(\"Failed to decode ArrayBuffer for \" + fileName + \".\");\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\trejectDecoding(e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t\tpromise.then(resolve)['catch'](reject);\n\t\n\t\t\t\t\t\t\treturn promise;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t\t}\n\t\n\t\t\t\t\txhr.removeEventListener('load', onLoad);\n\t\t\t\t\txhr = null;\n\t\t\t\t}\n\t\n\t\t\t\tfunction onError() {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t\txhr.removeEventListener('error', onError);\n\t\t\t\t\txhr = null;\n\t\t\t\t}\n\t\n\t\t\t\tif (cache && cache !== 'loading') return resolve(manager.collect(new AudioBufferRecord(_audio, cache)));\n\t\n\t\t\t\tBUFFER_CACHE[fileName] = 'loading';\n\t\n\t\t\t\txhr.responseType = 'arraybuffer';\n\t\n\t\t\t\txhr.addEventListener('load', onLoad, false);\n\t\t\t\txhr.addEventListener('error', onError, false);\n\t\t\t\txhr.open('GET', _audio.src, true);\n\t\t\t\txhr.send();\n\t\t\t});\n\t\t}\n\t\t/**\n\t  * The CSS class names reconized as audio types.\n\t  */\n\t\tAUDIO_TYPES = /background|voice-over|sfx/i;\n\t\tBUFFER_CACHE = {};\n\t\t/**\n\t  * Duck typed multiple inheritance.\n\t  */\n\t\t_util2['default'].mixin(this, EventTargetInterface, PlayableInterface, InspectorInterface, LegislatorInterface, StateInterface);\n\t\n\t\t// A little ugg but define instance members.\n\t\t$(\n\t\t// Declare properties.\n\t\t'background, voiceOver, sfx, scope',\n\t\n\t\t/**\n\t  * Define instance properties.\n\t  */\n\t\tfunction alloc(_id) {\n\t\t\tthis.initialize(_id, 'audio manager');\n\t\n\t\t\t['background', 'voiceOver', 'sfx'].forEach((function (_type) {\n\t\t\t\tvar collection = this[_type] = AudioCollection.create(_type);\n\t\t\t\tthis.addShadow(collection);\n\t\t\t}).bind(this));\n\t\t},\n\t\n\t\t/**\n\t  * Given an audio element begin loading the asset.\n\t  * @arg {HTMLAudioElement} _audio - The HTML Audio element which to preload and add to the game audio context.\n\t  * @returns {Promise}\n\t  * @todo Support loading from node source or a string argument. - Micah:2/19/16\n\t  */\n\t\tfunction load(_audio) {\n\t\t\tvar manager, type;\n\t\n\t\t\tmanager = this;\n\t\t\ttype = getAudioType(_audio);\n\t\n\t\t\tif (!type) return _Promise.reject(\"Audio is missing a type. Please classify as 'background', 'voiceOver' or 'sfx'.\");\n\t\t\t// if (~['sfx', 'voiceOver'].indexOf(type))\n\t\t\treturn loadArrayBuffer.call(this, _audio);\n\t\n\t\t\t// return new Promise(function (resolve, reject) {\n\t\t\t// \t_audio.onloadeddata = function () { resolve(manager.collect(this)); };\n\t\t\t// \t_audio.onerror = reject;\n\t\t\t// \t_audio.load();\n\t\t\t// });\n\t\t},\n\t\n\t\t/**\n\t  * Begins loading an AudioElement waits for it to load.\n\t  * @arg {HTMLAudioElement} _audio - The HTML Audio element which to preload and add to the game audio context.\n\t  * @returns {Promise}\n\t  */\n\t\tfunction watch(_audio) {\n\t\t\tvar promise;\n\t\n\t\t\tif (_audio.nodeName !== 'AUDIO') return _Promise.reject('Invalid type for audio node. ' + typeof _audio + ' [' + _audio.protoype.constructor.name + ' ' + _audio.nodeName + '].');\n\t\n\t\t\tfunction reject(_error) {\n\t\t\t\tvar scope = $$(_audio).scope();\n\t\t\t\tconsole.warn(scope.id(), '-', _error);\n\t\t\t}\n\t\n\t\t\t(promise = this.load(_audio))['catch'](reject.bind(this));\n\t\n\t\t\treturn promise;\n\t\t},\n\t\n\t\t/**\n\t  * Adds a audio to the collection. You may also pass an itterable of items to add.\n\t  * @arg {Audio|HTMLAudioElement|AudioBufferRecord|Array} _audio - The HTML Audio element or `AudioBufferRecord` for addition to the collection.\n\t  * @returns {Promise}\n\t  */\n\t\tfunction collect(_audio) {\n\t\t\tvar type;\n\t\n\t\t\tif (!_audio) return false;\n\t\n\t\t\tif (_audio.length) {\n\t\t\t\treturn _audio.map(collect.bind(this));\n\t\t\t}\n\t\n\t\t\ttype = _audio.type || getAudioType(_audio);\n\t\n\t\t\tif (type && this[type]) return this[type].add(_audio);\n\t\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t  * Provides a collection of `AudioCollection` objects.\n\t  * @returns {array}\n\t  */\n\t\tfunction collections() {\n\t\t\tvar result, types;\n\t\n\t\t\tresult = [];\n\t\t\ttypes = _Object$keys(this);\n\t\n\t\t\ttypes.forEach((function (_type) {\n\t\t\t\tif (this[_type] instanceof AudioCollection) result.push(this[_type]);\n\t\t\t}).bind(this));\n\t\n\t\t\treturn result;\n\t\t},\n\t\t/**\n\t  * Proveds a string representation of the object type.\n\t  */\n\t\tfunction toString() {\n\t\t\treturn '[object ' + (this.constructor.name || 'Object') + ']';\n\t\t});\n\t}\n\t\n\t/**\n\t * An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n\t *\n\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioCollection.create()`.</span>\n\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t * @classdesc An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n\t * @extends Collection\n\t */\n\tfunction AudioCollection($, sup) {\n\t\t/**\n\t  * Duck typed multiple inheritance.\n\t  */\n\t\t_util2['default'].mixin(this, EventTargetInterface, PlayableInterface, InspectorInterface, StateInterface);\n\t\n\t\t$('type', function alloc(_type) {\n\t\t\tif (_type) this.type = _type;\n\t\t\tthis.initialize(_type, 'collection');\n\t\t},\n\t\t/**\n\t  * Adds an Audio object to the collection.\n\t  * @arg {HTMLAudioElement|Audio} _audio - Object to add.\n\t  * @override\n\t  * @returns {Audio}\n\t  */\n\t\tfunction add(_audio) {\n\t\t\tvar audio;\n\t\n\t\t\tif (!_audio) return false;\n\t\n\t\t\taudio = _audio instanceof Audio ? _audio : Audio.create(_audio, this.type);\n\t\n\t\t\tsup(this, 'add')(audio);\n\t\t\tthis.addShadow(audio);\n\t\t\tif (audio.id()) _util2['default'].assignRef(this, audio.id(), audio);\n\t\n\t\t\treturn audio;\n\t\t},\n\t\t/**\n\t  * Get the owning manager interface for an Audio object.\n\t  * @returns {AudioManager}\n\t  */\n\t\tfunction manager() {\n\t\t\treturn this.$el.closest('#man').data('context');\n\t\t},\n\t\t/**\n\t  * Proveds a string representation of the object type.\n\t  */\n\t\tfunction toString() {\n\t\t\treturn '[object ' + (this.constructor.name || 'Object') + ']';\n\t\t});\n\t}\n\t/**\n\t * Extend AudioCollection with Collection.\n\t */\n\tAudioCollection.prototype = _Object$create(_typesCollection2['default'], {\n\t\tconstructor: {\n\t\t\tvalue: AudioCollection,\n\t\t\tenumerable: false,\n\t\t\twriteable: false,\n\t\t\tconfigureable: false\n\t\t}\n\t});\n\t/**\n\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `MediaCollection.create()`.</span>\n\t * Returned as the result of some collection process.\n\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t * @classdesc Returned as the result of some collection process.\n\t *\n\t * @class\n\t * @extends AudioCollection\n\t * @extends EventTargetInterface\n\t * @extends InspectorInterface\n\t * @extends LegislatorInterface\n\t * @extends StateInterface\n\t */\n\tfunction MediaCollection($, sup) {\n\t\t$(\n\t\t/**\n\t  * @override\n\t  */\n\t\tfunction add(_media) {\n\t\t\tthis.addShadow(_media);\n\t\t\tif (_media.id()) _util2['default'].assignRef(this, _media.id(), _media);\n\t\t\treturn _typesCollection2['default'].add.call(this, _media);\n\t\t},\n\t\t/**\n\t  * @override\n\t  */\n\t\tfunction addShadow(_media) {\n\t\t\tvar $clone;\n\t\n\t\t\t$clone = _media.$el.clone();\n\t\t\t$clone.data(_media.$el.data());\n\t\n\t\t\tthis.$el.append($clone);\n\t\t\treturn this;\n\t\t});\n\t}\n\t\n\t/**\n\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioCollection.create()`.</span>\n\t * An interface for controlling a MediaElement or AudioBuffer.\n\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t * @classdesc An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n\t */\n\tfunction Audio($) {\n\t\n\t\tfunction accessConfig(_augment, _val) {\n\t\t\tif (_val) {\n\t\t\t\treturn this[_augment] = _val;\n\t\t\t} else if (typeof _augment === 'string') {\n\t\t\t\treturn this[_augment];\n\t\t\t} else {\n\t\t\t\t_util2['default'].mixin(this, _augment);\n\t\t\t}\n\t\n\t\t\treturn _augment;\n\t\t}\n\t\n\t\t/**\n\t  * Duck typed multiple inheritance.\n\t  */\n\t\t_util2['default'].mixin(this, EventTargetInterface, PlayableInterface, StateInterface);\n\t\n\t\t$('type, media, activeSource, buffer, config, fileName, gain, delay, delayID',\n\t\n\t\t/**\n\t  * Allocates instance props.\n\t  * @arg {HTMLAudioElement|AudioBufferRecord} _audio - The object being wrapped.\n\t  * @arg {string} _type - The collection type.\n\t  */\n\t\tfunction alloc(_audio, _type) {\n\t\t\tvar $audio, config, ctx, readyEvent, id;\n\t\n\t\t\t$audio = $$(_audio.node || _audio);\n\t\t\tconfig = $audio.pl();\n\t\t\tctx = pl.game.getAudioContext();\n\t\t\treadyEvent = $$.Event('ready', { targetScope: this });\n\t\n\t\t\tif (!(id = $audio.id())) $audio.id(id = _util2['default'].createId());\n\t\n\t\t\tthis.type = _type || null;\n\t\t\tthis.fileName = _util2['default'].resolveFileName($audio.attr('src'));\n\t\t\tthis.media = $audio[0];\n\t\t\tthis.gain = ctx.createGain();\n\t\n\t\t\tthis.gain.connect(ctx.destination);\n\t\n\t\t\t$audio.data('context', this);\n\t\n\t\t\tif (_audio.buffer) this.buffer = _audio.buffer;\n\t\n\t\t\tObject.defineProperty(this, 'config', {\n\t\t\t\tvalue: accessConfig.bind(config),\n\t\t\t\twriteable: false\n\t\t\t});\n\t\n\t\t\tthis.initialize(id, 'audio ' + this.type);\n\t\n\t\t\t$$(this.media).trigger(readyEvent);\n\t\t},\n\t\t/**\n\t  * Provides an `AudioNode` for a particular audio source.\n\t  * @returns\n\t  *  - `MediaElementSouceNode` for audio elements.\n\t  *  - `AudioBufferSourceNode` for an ArrayBuffer.\n\t  */\n\t\tfunction getSource() {\n\t\t\tvar ctx, src;\n\t\n\t\t\tctx = this.audioContext || pl.game.getAudioContext();\n\t\n\t\t\tif (ctx) {\n\t\t\t\tif (this.buffer) {\n\t\t\t\t\tsrc = ctx.createBufferSource();\n\t\t\t\t\tsrc.buffer = this.buffer;\n\t\t\t\t\tsrc.loop = this.media.loop;\n\t\n\t\t\t\t\treturn src;\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn this.activeSource || ctx.createMediaElementSource(this.media);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.warn(e.message, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\t},\n\t\t/**\n\t  * Get the owning collection interface for an Audio object.\n\t  * @returns {AudioCollection}\n\t  */\n\t\tfunction collection() {\n\t\t\treturn this.$el.closest('.collection').data('context');\n\t\t},\n\t\t/**\n\t  * Get the owning manager interface for an Audio object.\n\t  * @returns {AudioManager}\n\t  */\n\t\tfunction manager() {\n\t\t\treturn this.$el.closest('#man').data('context');\n\t\t},\n\t\t/**\n\t  * Proveds a string representation of the object type.\n\t  */\n\t\tfunction toString() {\n\t\t\treturn '[audio#' + this.id() + ' ' + this.fileName + ']';\n\t\t}, function setContext(ctx) {\n\t\t\tthis.gain = ctx.createGain();\n\t\t\tthis.gain.disconnect();\n\t\t\tthis.gain.connect(ctx.destination);\n\t\t\tthis.audioContext = ctx;\n\t\t});\n\t}\n\t\n\t/**\n\t * A virtual DOM to handle navigation and propagation of events through the API interfaces.\n\t * For example an Audio object that triggers an event it should bubble up to its collection and on through to the manager.\n\t * That way you can listen for an event at any level of the interface.\n\t */\n\tEventTargetInterface = {\n\t\t/**\n\t  * The shadow node.\n\t  */\n\t\t$el: null,\n\t\t/**\n\t  * Define a node for the shadow DOM.\n\t  * @arg {string} _id - Idendifier for the node.\n\t  * @arg {string} _class - Classification of the node.\n\t  */\n\t\tinitialize: function initialize(_id, _class) {\n\t\t\tObject.defineProperty(this, '$el', {\n\t\t\t\tvalue: $$('<div ' + (_id ? 'id=\"' + _id + '\"' : '') + ' ' + (_class ? 'class=\"' + _class + '\"' : '') + '>'),\n\t\t\t\twriteable: false,\n\t\t\t\tconfigureable: false,\n\t\t\t\tenumerable: false\n\t\t\t});\n\t\n\t\t\tthis.$el.data('context', this);\n\t\t},\n\t\t/**\n\t  * Get/set the id of the interface.\n\t  * @arg {string} _id - A valid CSS ID.\n\t  */\n\t\tid: function id(_id) {\n\t\t\treturn this.$el.id(_id);\n\t\t},\n\t\t/**\n\t  * Add an interface to the shadow DOM.\n\t  * @arg {Audio|AudioCollection} _obj - The object to add.\n\t  * @returns this\n\t  */\n\t\taddShadow: function addShadow(_obj) {\n\t\t\tthis.$el.append(_obj.$el);\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * Provides the parent level interface.\n\t  * @returns {AudioManager|AudioCollection}\n\t  */\n\t\tparent: function parent() {\n\t\t\treturn this.$el.parent().data('context');\n\t\t},\n\t\t/**\n\t  * Find an interface in the API tree.\n\t  * @arg {string} _selector - A CSS selector to match a node in the shadow DOM API tree.\n\t  */\n\t\tfind: function find(_selector) {\n\t\t\tvar collection = MediaCollection.create();\n\t\n\t\t\tthis.$el.find(_selector).each(function () {\n\t\t\t\tcollection.add($$(this).data('context'));\n\t\t\t});\n\t\n\t\t\treturn collection;\n\t\t},\n\t\t/**\n\t  * \n\t  */\n\t\tfilter: function filter(_selector) {\n\t\t\tvar collection;\n\t\n\t\t\tif (!_selector) return this;\n\t\n\t\t\tcollection = MediaCollection.create();\n\t\n\t\t\tthis.$el.children().each(function () {\n\t\t\t\tvar $node = $$(this);\n\t\t\t\tif ($node.is(_selector)) collection.add($node.data('context'));\n\t\t\t});\n\t\n\t\t\treturn collection;\n\t\t},\n\t\t/**\n\t  * Attach events to a shadow node.\n\t  */\n\t\ton: function on() {\n\t\t\tthis.$el.on.apply(this.$el, arguments);\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * Remove events from a shadow node.\n\t  */\n\t\toff: function off() {\n\t\t\tthis.$el.off.apply(this.$el, arguments);\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * Dispatch a event from a shadow node.\n\t  */\n\t\ttrigger: function trigger() {\n\t\t\tthis.$el.trigger.apply(this.$el, arguments);\n\t\t\treturn this;\n\t\t}\n\t};\n\t/**\n\t * Interface for inspecting an API level (i.e. manager or collection).\n\t */\n\tInspectorInterface = {\n\t\tplaying: function playing(_filterSelector) {\n\t\t\tvar playing = this.find('.PLAYING').filter(_filterSelector);\n\t\t\treturn !!playing.length && playing;\n\t\t},\n\t\t/**\n\t  * Query a collection for ownership of an audio object.\n\t  * @arg {string|Audio|HTMLAudioElement} The validating reference.\n\t  * @returns {boolean}\n\t  */\n\t\thas: function has(_query) {\n\t\t\tif (this.background) {\n\t\t\t\treturn ['background', 'voiceOver', 'sfx'].some((function (_name) {\n\t\t\t\t\treturn this[_name].has(_query);\n\t\t\t\t}).bind(this));\n\t\t\t}\n\t\n\t\t\tif (this[_query]) return true;\n\t\n\t\t\treturn this.some(function (_audio) {\n\t\t\t\treturn _audio === _query || _audio.media === _query || _audio.fileName === _query || _audio.id() === _query;\n\t\t\t});\n\t\t}\n\t};\n\t\n\tLegislatorInterface = {\n\t\trule: function rule(_selector, _event, _handler) {\n\t\t\tvar handler, args;\n\t\n\t\t\thandler = [typeof _event, typeof _handler].indexOf('function');\n\t\t\targs = _util2['default'].toArray(arguments).slice(1);\n\t\n\t\t\tif (typeof _event === 'function') _event = 'play pause stopped ended';\n\t\n\t\t\tthis.on(_event, (function (_e) {\n\t\t\t\tif (_e.target.$el.is(_selector)) args[handler].apply(this, arguments);\n\t\t\t}).bind(this));\n\t\t}\n\t};\n\t\n\tStateInterface = {\n\t\tstate: function state() {\n\t\t\treturn this.$el.state.apply(this.$el, arguments);\n\t\t},\n\t\n\t\taddState: function addState(_state) {\n\t\t\treturn this.$el.addClass(_state.toUpperCase());\n\t\t},\n\t\n\t\tremoveState: function removeState(_state) {\n\t\t\treturn this.$el.removeClass(_state.toUpperCase());\n\t\t}\n\t};\n\t\n\t/**\n\t * Interface for methods involving audio control for any API level.\n\t */\n\tPlayableInterface = {\n\t\tproxyEvent: function proxyEvent(_event) {\n\t\t\tvar theEvent = $$.Event(_event.type, { target: this, targetSource: _event.target, targetNode: this.media });\n\t\n\t\t\t// proxy event to shadow DOM only when it has an active source.\n\t\t\tif (this.activeSource) {\n\t\t\t\tif (_event.type === 'ended') {\n\t\t\t\t\tthis.removeState('PLAYING');\n\t\t\t\t\tthis.activeSource = null;\n\t\t\t\t}\n\t\n\t\t\t\tthis.trigger(theEvent);\n\t\t\t}\n\t\n\t\t\t_event.target.removeEventListener(_event.type, this.handler.bind(this), false);\n\t\t},\n\t\thandler: function handler(_event) {\n\t\t\tif (_event.type === 'ended' && _event.activeSource) {\n\t\t\t\t_event.activeSource.disconnect();\n\t\t\t}\n\t\t\tthis.proxyEvent.call(this, _event);\n\t\t},\n\t\tsimEnd: function simEnd() {\n\t\t\tif (this.activeSource) {\n\t\t\t\tconsole.warn('Native `ended` failed to fire, simulating...');\n\t\t\t\tthis.handler({ target: this.activeSource, type: 'ended' });\n\t\t\t}\n\t\t},\n\t\tplaySource: function playSource() {\n\t\t\tvar time;\n\t\t\tif (this.buffer) {\n\t\t\t\tthis.activeSource.start(0);\n\t\t\t\tthis.startTime = new Date();\n\t\n\t\t\t\tif (!this.activeSource.loop) {\n\t\t\t\t\ttime = Math.ceil(this.buffer.duration * 1000) + 250;\n\t\t\t\t\tthis.timeout = setTimeout(this.simEnd.bind(this), time);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.media.play();\n\t\t\t}\n\t\n\t\t\tthis.delayID = null;\n\t\t},\n\t\t/**\n\t  * Play an audio object.\n\t  */\n\t\tplay: function play(_selector) {\n\t\t\tvar ctx, src, dest, delay, shouldPlay;\n\t\n\t\t\tfunction response(_val) {\n\t\t\t\tshouldPlay = _val;\n\t\t\t}\n\t\n\t\t\tctx = this.audioContext || pl.game.getAudioContext();\n\t\t\tshouldPlay = true;\n\t\n\t\t\t/*\n\t   * I'm commenting out this line because having it there\n\t   * prevents new audio from starting while the game is out of focus\n\t   * which makes certain screens impossible to complete.\n\t   * Giving the game the ability to pause will remove the need for\n\t   * this line of code, anyway.\n\t   */\n\t\t\t// if (ctx.state === 'suspended') return false;\n\t\n\t\t\tif (this.background) return this.background.play();\n\t\t\tif (this.length != null) {\n\t\t\t\tif (_selector) {\n\t\t\t\t\tif (this[_selector]) return this[_selector].play();\n\t\n\t\t\t\t\treturn this.find(_selector).play();\n\t\t\t\t}\n\t\t\t\treturn this[0] && this[0].play();\n\t\t\t}\n\t\n\t\t\tif (!(src = this.getSource())) return false;\n\t\n\t\t\tsrc.connect(this.gain);\n\t\t\tsrc.addEventListener('ended', this.handler.bind(this), false);\n\t\n\t\t\tthis.trigger($$.Event('shouldPlay', { target: this, targetSource: src, targetNode: this.media, response: response }));\n\t\n\t\t\tif (shouldPlay) {\n\t\t\t\tthis.addState('PLAYING');\n\t\t\t\tthis.activeSource = src;\n\t\n\t\t\t\tif (delay = this.config('delay')) {\n\t\t\t\t\tthis.delayID = setTimeout(this.playSource.bind(this), _util2['default'].toMillisec(delay));\n\t\t\t\t} else {\n\t\t\t\t\tthis.playSource.call(this);\n\t\t\t\t}\n\t\n\t\t\t\tthis.handler({ target: src, type: 'play' });\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * Pause an audio object.\n\t  */\n\t\tpause: function pause() {\n\t\t\tif (this.buffer) {\n\t\t\t\tthis.pauseTime = new Date();\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t\tthis.timeout = null;\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * Resume an audio object.\n\t  */\n\t\tresume: function resume() {\n\t\t\tvar time;\n\t\t\tif (this.buffer) {\n\t\t\t\tif (!this.activeSource.loop) {\n\t\t\t\t\ttime = Math.ceil(this.buffer.duration * 1000 - (this.pauseTime - this.startTime)) + 250;\n\t\t\t\t\tthis.timeout = setTimeout(this.simEnd.bind(this), time);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * Stop an audio object.\n\t  */\n\t\tstop: function stop(_filterSelector) {\n\t\t\tvar stopEvent = $$.Event('stopped', { target: this, targetSource: this.activeSource, targetNode: this.media });\n\t\n\t\t\tif (this.background) return this.background.stop(_filterSelector);\n\t\t\tif (this.length != null) {\n\t\t\t\tif (_filterSelector === '@ALL') {\n\t\t\t\t\tthis.forEach(function (_audio) {\n\t\t\t\t\t\t_audio.stop();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn this[0] && this[0].stop();\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (!this.activeSource) return false;\n\t\n\t\t\tif (this.buffer) {\n\t\t\t\tif (!this.delayID) this.activeSource.stop();\n\t\t\t} else {\n\t\t\t\tthis.media.pause();\n\t\t\t\tthis.media.currentTime = 0;\n\t\t\t}\n\t\n\t\t\tif (this.delayID) {\n\t\t\t\tclearTimeout(this.delayID);\n\t\t\t\tthis.delayID = null;\n\t\t\t}\n\t\n\t\t\tthis.activeSource = null;\n\t\n\t\t\tthis.removeState('PLAYING');\n\t\t\tthis.trigger(stopEvent);\n\t\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * @todo MGR, 2/9/2016: Pipe audio sources into gain nodes for each level of the API.\n\t  */\n\t\tvolume: function volume(_level, _filterSelector) {\n\t\t\tif (this.background) return this.background.volume(_level);\n\t\t\tif (this.length != null) {\n\t\t\t\tif (_filterSelector === '@ALL') {\n\t\t\t\t\tthis.forEach(function (_audio) {\n\t\t\t\t\t\t_audio.volume(_level);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn this[0] && this[0].volume(_level);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tthis.gain.gain.value = _level;\n\t\t},\n\t\tstartTime: 0,\n\t\tpauseTime: 0\n\t};\n\t\n\texports['default'] = _typesType2['default'](MediaManager, AudioManager, AudioCollection, Audio);\n\t\n\tAudioCollection.extend(MediaCollection);\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(44), __esModule: true };\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(45);\n\t__webpack_require__(46);\n\t__webpack_require__(62);\n\t__webpack_require__(69);\n\tmodule.exports = __webpack_require__(11).Promise;\n\n/***/ },\n/* 45 */\n/***/ function(module, exports) {\n\n\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar $at  = __webpack_require__(47)(true);\n\t\n\t// 21.1.3.27 String.prototype[@@iterator]()\n\t__webpack_require__(49)(String, 'String', function(iterated){\n\t  this._t = String(iterated); // target\n\t  this._i = 0;                // next index\n\t// 21.1.5.2.1 %StringIteratorPrototype%.next()\n\t}, function(){\n\t  var O     = this._t\n\t    , index = this._i\n\t    , point;\n\t  if(index >= O.length)return {value: undefined, done: true};\n\t  point = $at(O, index);\n\t  this._i += point.length;\n\t  return {value: point, done: false};\n\t});\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar toInteger = __webpack_require__(48)\n\t  , defined   = __webpack_require__(37);\n\t// true  -> String#at\n\t// false -> String#codePointAt\n\tmodule.exports = function(TO_STRING){\n\t  return function(that, pos){\n\t    var s = String(defined(that))\n\t      , i = toInteger(pos)\n\t      , l = s.length\n\t      , a, b;\n\t    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n\t    a = s.charCodeAt(i);\n\t    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n\t      ? TO_STRING ? s.charAt(i) : a\n\t      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n\t  };\n\t};\n\n/***/ },\n/* 48 */\n/***/ function(module, exports) {\n\n\t// 7.1.4 ToInteger\n\tvar ceil  = Math.ceil\n\t  , floor = Math.floor;\n\tmodule.exports = function(it){\n\t  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n\t};\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar LIBRARY        = __webpack_require__(50)\n\t  , $export        = __webpack_require__(9)\n\t  , redefine       = __webpack_require__(51)\n\t  , hide           = __webpack_require__(52)\n\t  , has            = __webpack_require__(55)\n\t  , Iterators      = __webpack_require__(56)\n\t  , $iterCreate    = __webpack_require__(57)\n\t  , setToStringTag = __webpack_require__(58)\n\t  , getProto       = __webpack_require__(8).getProto\n\t  , ITERATOR       = __webpack_require__(59)('iterator')\n\t  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n\t  , FF_ITERATOR    = '@@iterator'\n\t  , KEYS           = 'keys'\n\t  , VALUES         = 'values';\n\t\n\tvar returnThis = function(){ return this; };\n\t\n\tmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n\t  $iterCreate(Constructor, NAME, next);\n\t  var getMethod = function(kind){\n\t    if(!BUGGY && kind in proto)return proto[kind];\n\t    switch(kind){\n\t      case KEYS: return function keys(){ return new Constructor(this, kind); };\n\t      case VALUES: return function values(){ return new Constructor(this, kind); };\n\t    } return function entries(){ return new Constructor(this, kind); };\n\t  };\n\t  var TAG        = NAME + ' Iterator'\n\t    , DEF_VALUES = DEFAULT == VALUES\n\t    , VALUES_BUG = false\n\t    , proto      = Base.prototype\n\t    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n\t    , $default   = $native || getMethod(DEFAULT)\n\t    , methods, key;\n\t  // Fix native\n\t  if($native){\n\t    var IteratorPrototype = getProto($default.call(new Base));\n\t    // Set @@toStringTag to native iterators\n\t    setToStringTag(IteratorPrototype, TAG, true);\n\t    // FF fix\n\t    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n\t    // fix Array#{values, @@iterator}.name in V8 / FF\n\t    if(DEF_VALUES && $native.name !== VALUES){\n\t      VALUES_BUG = true;\n\t      $default = function values(){ return $native.call(this); };\n\t    }\n\t  }\n\t  // Define iterator\n\t  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n\t    hide(proto, ITERATOR, $default);\n\t  }\n\t  // Plug for library\n\t  Iterators[NAME] = $default;\n\t  Iterators[TAG]  = returnThis;\n\t  if(DEFAULT){\n\t    methods = {\n\t      values:  DEF_VALUES  ? $default : getMethod(VALUES),\n\t      keys:    IS_SET      ? $default : getMethod(KEYS),\n\t      entries: !DEF_VALUES ? $default : getMethod('entries')\n\t    };\n\t    if(FORCED)for(key in methods){\n\t      if(!(key in proto))redefine(proto, key, methods[key]);\n\t    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n\t  }\n\t  return methods;\n\t};\n\n/***/ },\n/* 50 */\n/***/ function(module, exports) {\n\n\tmodule.exports = true;\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(52);\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $          = __webpack_require__(8)\n\t  , createDesc = __webpack_require__(53);\n\tmodule.exports = __webpack_require__(54) ? function(object, key, value){\n\t  return $.setDesc(object, key, createDesc(1, value));\n\t} : function(object, key, value){\n\t  object[key] = value;\n\t  return object;\n\t};\n\n/***/ },\n/* 53 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(bitmap, value){\n\t  return {\n\t    enumerable  : !(bitmap & 1),\n\t    configurable: !(bitmap & 2),\n\t    writable    : !(bitmap & 4),\n\t    value       : value\n\t  };\n\t};\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// Thank's IE8 for his funny defineProperty\n\tmodule.exports = !__webpack_require__(39)(function(){\n\t  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n\t});\n\n/***/ },\n/* 55 */\n/***/ function(module, exports) {\n\n\tvar hasOwnProperty = {}.hasOwnProperty;\n\tmodule.exports = function(it, key){\n\t  return hasOwnProperty.call(it, key);\n\t};\n\n/***/ },\n/* 56 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {};\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar $              = __webpack_require__(8)\n\t  , descriptor     = __webpack_require__(53)\n\t  , setToStringTag = __webpack_require__(58)\n\t  , IteratorPrototype = {};\n\t\n\t// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n\t__webpack_require__(52)(IteratorPrototype, __webpack_require__(59)('iterator'), function(){ return this; });\n\t\n\tmodule.exports = function(Constructor, NAME, next){\n\t  Constructor.prototype = $.create(IteratorPrototype, {next: descriptor(1, next)});\n\t  setToStringTag(Constructor, NAME + ' Iterator');\n\t};\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar def = __webpack_require__(8).setDesc\n\t  , has = __webpack_require__(55)\n\t  , TAG = __webpack_require__(59)('toStringTag');\n\t\n\tmodule.exports = function(it, tag, stat){\n\t  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n\t};\n\n/***/ },\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar store  = __webpack_require__(60)('wks')\n\t  , uid    = __webpack_require__(61)\n\t  , Symbol = __webpack_require__(10).Symbol;\n\tmodule.exports = function(name){\n\t  return store[name] || (store[name] =\n\t    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n\t};\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar global = __webpack_require__(10)\n\t  , SHARED = '__core-js_shared__'\n\t  , store  = global[SHARED] || (global[SHARED] = {});\n\tmodule.exports = function(key){\n\t  return store[key] || (store[key] = {});\n\t};\n\n/***/ },\n/* 61 */\n/***/ function(module, exports) {\n\n\tvar id = 0\n\t  , px = Math.random();\n\tmodule.exports = function(key){\n\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t};\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(63);\n\tvar Iterators = __webpack_require__(56);\n\tIterators.NodeList = Iterators.HTMLCollection = Iterators.Array;\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar addToUnscopables = __webpack_require__(64)\n\t  , step             = __webpack_require__(65)\n\t  , Iterators        = __webpack_require__(56)\n\t  , toIObject        = __webpack_require__(66);\n\t\n\t// 22.1.3.4 Array.prototype.entries()\n\t// 22.1.3.13 Array.prototype.keys()\n\t// 22.1.3.29 Array.prototype.values()\n\t// 22.1.3.30 Array.prototype[@@iterator]()\n\tmodule.exports = __webpack_require__(49)(Array, 'Array', function(iterated, kind){\n\t  this._t = toIObject(iterated); // target\n\t  this._i = 0;                   // next index\n\t  this._k = kind;                // kind\n\t// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n\t}, function(){\n\t  var O     = this._t\n\t    , kind  = this._k\n\t    , index = this._i++;\n\t  if(!O || index >= O.length){\n\t    this._t = undefined;\n\t    return step(1);\n\t  }\n\t  if(kind == 'keys'  )return step(0, index);\n\t  if(kind == 'values')return step(0, O[index]);\n\t  return step(0, [index, O[index]]);\n\t}, 'values');\n\t\n\t// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n\tIterators.Arguments = Iterators.Array;\n\t\n\taddToUnscopables('keys');\n\taddToUnscopables('values');\n\taddToUnscopables('entries');\n\n/***/ },\n/* 64 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(){ /* empty */ };\n\n/***/ },\n/* 65 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(done, value){\n\t  return {value: value, done: !!done};\n\t};\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// to indexed object, toObject with fallback for non-array-like ES3 strings\n\tvar IObject = __webpack_require__(67)\n\t  , defined = __webpack_require__(37);\n\tmodule.exports = function(it){\n\t  return IObject(defined(it));\n\t};\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// fallback for non-array-like ES3 and non-enumerable old V8 strings\n\tvar cof = __webpack_require__(68);\n\tmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n\t  return cof(it) == 'String' ? it.split('') : Object(it);\n\t};\n\n/***/ },\n/* 68 */\n/***/ function(module, exports) {\n\n\tvar toString = {}.toString;\n\t\n\tmodule.exports = function(it){\n\t  return toString.call(it).slice(8, -1);\n\t};\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar $          = __webpack_require__(8)\n\t  , LIBRARY    = __webpack_require__(50)\n\t  , global     = __webpack_require__(10)\n\t  , ctx        = __webpack_require__(12)\n\t  , classof    = __webpack_require__(70)\n\t  , $export    = __webpack_require__(9)\n\t  , isObject   = __webpack_require__(71)\n\t  , anObject   = __webpack_require__(72)\n\t  , aFunction  = __webpack_require__(13)\n\t  , strictNew  = __webpack_require__(73)\n\t  , forOf      = __webpack_require__(74)\n\t  , setProto   = __webpack_require__(79).set\n\t  , same       = __webpack_require__(80)\n\t  , SPECIES    = __webpack_require__(59)('species')\n\t  , speciesConstructor = __webpack_require__(81)\n\t  , asap       = __webpack_require__(82)\n\t  , PROMISE    = 'Promise'\n\t  , process    = global.process\n\t  , isNode     = classof(process) == 'process'\n\t  , P          = global[PROMISE]\n\t  , Wrapper;\n\t\n\tvar testResolve = function(sub){\n\t  var test = new P(function(){});\n\t  if(sub)test.constructor = Object;\n\t  return P.resolve(test) === test;\n\t};\n\t\n\tvar USE_NATIVE = function(){\n\t  var works = false;\n\t  function P2(x){\n\t    var self = new P(x);\n\t    setProto(self, P2.prototype);\n\t    return self;\n\t  }\n\t  try {\n\t    works = P && P.resolve && testResolve();\n\t    setProto(P2, P);\n\t    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});\n\t    // actual Firefox has broken subclass support, test that\n\t    if(!(P2.resolve(5).then(function(){}) instanceof P2)){\n\t      works = false;\n\t    }\n\t    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162\n\t    if(works && __webpack_require__(54)){\n\t      var thenableThenGotten = false;\n\t      P.resolve($.setDesc({}, 'then', {\n\t        get: function(){ thenableThenGotten = true; }\n\t      }));\n\t      works = thenableThenGotten;\n\t    }\n\t  } catch(e){ works = false; }\n\t  return works;\n\t}();\n\t\n\t// helpers\n\tvar sameConstructor = function(a, b){\n\t  // library wrapper special case\n\t  if(LIBRARY && a === P && b === Wrapper)return true;\n\t  return same(a, b);\n\t};\n\tvar getConstructor = function(C){\n\t  var S = anObject(C)[SPECIES];\n\t  return S != undefined ? S : C;\n\t};\n\tvar isThenable = function(it){\n\t  var then;\n\t  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n\t};\n\tvar PromiseCapability = function(C){\n\t  var resolve, reject;\n\t  this.promise = new C(function($$resolve, $$reject){\n\t    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n\t    resolve = $$resolve;\n\t    reject  = $$reject;\n\t  });\n\t  this.resolve = aFunction(resolve),\n\t  this.reject  = aFunction(reject)\n\t};\n\tvar perform = function(exec){\n\t  try {\n\t    exec();\n\t  } catch(e){\n\t    return {error: e};\n\t  }\n\t};\n\tvar notify = function(record, isReject){\n\t  if(record.n)return;\n\t  record.n = true;\n\t  var chain = record.c;\n\t  asap(function(){\n\t    var value = record.v\n\t      , ok    = record.s == 1\n\t      , i     = 0;\n\t    var run = function(reaction){\n\t      var handler = ok ? reaction.ok : reaction.fail\n\t        , resolve = reaction.resolve\n\t        , reject  = reaction.reject\n\t        , result, then;\n\t      try {\n\t        if(handler){\n\t          if(!ok)record.h = true;\n\t          result = handler === true ? value : handler(value);\n\t          if(result === reaction.promise){\n\t            reject(TypeError('Promise-chain cycle'));\n\t          } else if(then = isThenable(result)){\n\t            then.call(result, resolve, reject);\n\t          } else resolve(result);\n\t        } else reject(value);\n\t      } catch(e){\n\t        reject(e);\n\t      }\n\t    };\n\t    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n\t    chain.length = 0;\n\t    record.n = false;\n\t    if(isReject)setTimeout(function(){\n\t      var promise = record.p\n\t        , handler, console;\n\t      if(isUnhandled(promise)){\n\t        if(isNode){\n\t          process.emit('unhandledRejection', value, promise);\n\t        } else if(handler = global.onunhandledrejection){\n\t          handler({promise: promise, reason: value});\n\t        } else if((console = global.console) && console.error){\n\t          console.error('Unhandled promise rejection', value);\n\t        }\n\t      } record.a = undefined;\n\t    }, 1);\n\t  });\n\t};\n\tvar isUnhandled = function(promise){\n\t  var record = promise._d\n\t    , chain  = record.a || record.c\n\t    , i      = 0\n\t    , reaction;\n\t  if(record.h)return false;\n\t  while(chain.length > i){\n\t    reaction = chain[i++];\n\t    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n\t  } return true;\n\t};\n\tvar $reject = function(value){\n\t  var record = this;\n\t  if(record.d)return;\n\t  record.d = true;\n\t  record = record.r || record; // unwrap\n\t  record.v = value;\n\t  record.s = 2;\n\t  record.a = record.c.slice();\n\t  notify(record, true);\n\t};\n\tvar $resolve = function(value){\n\t  var record = this\n\t    , then;\n\t  if(record.d)return;\n\t  record.d = true;\n\t  record = record.r || record; // unwrap\n\t  try {\n\t    if(record.p === value)throw TypeError(\"Promise can't be resolved itself\");\n\t    if(then = isThenable(value)){\n\t      asap(function(){\n\t        var wrapper = {r: record, d: false}; // wrap\n\t        try {\n\t          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n\t        } catch(e){\n\t          $reject.call(wrapper, e);\n\t        }\n\t      });\n\t    } else {\n\t      record.v = value;\n\t      record.s = 1;\n\t      notify(record, false);\n\t    }\n\t  } catch(e){\n\t    $reject.call({r: record, d: false}, e); // wrap\n\t  }\n\t};\n\t\n\t// constructor polyfill\n\tif(!USE_NATIVE){\n\t  // 25.4.3.1 Promise(executor)\n\t  P = function Promise(executor){\n\t    aFunction(executor);\n\t    var record = this._d = {\n\t      p: strictNew(this, P, PROMISE),         // <- promise\n\t      c: [],                                  // <- awaiting reactions\n\t      a: undefined,                           // <- checked in isUnhandled reactions\n\t      s: 0,                                   // <- state\n\t      d: false,                               // <- done\n\t      v: undefined,                           // <- value\n\t      h: false,                               // <- handled rejection\n\t      n: false                                // <- notify\n\t    };\n\t    try {\n\t      executor(ctx($resolve, record, 1), ctx($reject, record, 1));\n\t    } catch(err){\n\t      $reject.call(record, err);\n\t    }\n\t  };\n\t  __webpack_require__(87)(P.prototype, {\n\t    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n\t    then: function then(onFulfilled, onRejected){\n\t      var reaction = new PromiseCapability(speciesConstructor(this, P))\n\t        , promise  = reaction.promise\n\t        , record   = this._d;\n\t      reaction.ok   = typeof onFulfilled == 'function' ? onFulfilled : true;\n\t      reaction.fail = typeof onRejected == 'function' && onRejected;\n\t      record.c.push(reaction);\n\t      if(record.a)record.a.push(reaction);\n\t      if(record.s)notify(record, false);\n\t      return promise;\n\t    },\n\t    // 25.4.5.1 Promise.prototype.catch(onRejected)\n\t    'catch': function(onRejected){\n\t      return this.then(undefined, onRejected);\n\t    }\n\t  });\n\t}\n\t\n\t$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: P});\n\t__webpack_require__(58)(P, PROMISE);\n\t__webpack_require__(88)(PROMISE);\n\tWrapper = __webpack_require__(11)[PROMISE];\n\t\n\t// statics\n\t$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n\t  // 25.4.4.5 Promise.reject(r)\n\t  reject: function reject(r){\n\t    var capability = new PromiseCapability(this)\n\t      , $$reject   = capability.reject;\n\t    $$reject(r);\n\t    return capability.promise;\n\t  }\n\t});\n\t$export($export.S + $export.F * (!USE_NATIVE || testResolve(true)), PROMISE, {\n\t  // 25.4.4.6 Promise.resolve(x)\n\t  resolve: function resolve(x){\n\t    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n\t    if(x instanceof P && sameConstructor(x.constructor, this))return x;\n\t    var capability = new PromiseCapability(this)\n\t      , $$resolve  = capability.resolve;\n\t    $$resolve(x);\n\t    return capability.promise;\n\t  }\n\t});\n\t$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(89)(function(iter){\n\t  P.all(iter)['catch'](function(){});\n\t})), PROMISE, {\n\t  // 25.4.4.1 Promise.all(iterable)\n\t  all: function all(iterable){\n\t    var C          = getConstructor(this)\n\t      , capability = new PromiseCapability(C)\n\t      , resolve    = capability.resolve\n\t      , reject     = capability.reject\n\t      , values     = [];\n\t    var abrupt = perform(function(){\n\t      forOf(iterable, false, values.push, values);\n\t      var remaining = values.length\n\t        , results   = Array(remaining);\n\t      if(remaining)$.each.call(values, function(promise, index){\n\t        var alreadyCalled = false;\n\t        C.resolve(promise).then(function(value){\n\t          if(alreadyCalled)return;\n\t          alreadyCalled = true;\n\t          results[index] = value;\n\t          --remaining || resolve(results);\n\t        }, reject);\n\t      });\n\t      else resolve(results);\n\t    });\n\t    if(abrupt)reject(abrupt.error);\n\t    return capability.promise;\n\t  },\n\t  // 25.4.4.4 Promise.race(iterable)\n\t  race: function race(iterable){\n\t    var C          = getConstructor(this)\n\t      , capability = new PromiseCapability(C)\n\t      , reject     = capability.reject;\n\t    var abrupt = perform(function(){\n\t      forOf(iterable, false, function(promise){\n\t        C.resolve(promise).then(capability.resolve, reject);\n\t      });\n\t    });\n\t    if(abrupt)reject(abrupt.error);\n\t    return capability.promise;\n\t  }\n\t});\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// getting tag from 19.1.3.6 Object.prototype.toString()\n\tvar cof = __webpack_require__(68)\n\t  , TAG = __webpack_require__(59)('toStringTag')\n\t  // ES3 wrong here\n\t  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\t\n\tmodule.exports = function(it){\n\t  var O, T, B;\n\t  return it === undefined ? 'Undefined' : it === null ? 'Null'\n\t    // @@toStringTag case\n\t    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n\t    // builtinTag case\n\t    : ARG ? cof(O)\n\t    // ES3 arguments fallback\n\t    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n\t};\n\n/***/ },\n/* 71 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(it){\n\t  return typeof it === 'object' ? it !== null : typeof it === 'function';\n\t};\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isObject = __webpack_require__(71);\n\tmodule.exports = function(it){\n\t  if(!isObject(it))throw TypeError(it + ' is not an object!');\n\t  return it;\n\t};\n\n/***/ },\n/* 73 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(it, Constructor, name){\n\t  if(!(it instanceof Constructor))throw TypeError(name + \": use the 'new' operator!\");\n\t  return it;\n\t};\n\n/***/ },\n/* 74 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar ctx         = __webpack_require__(12)\n\t  , call        = __webpack_require__(75)\n\t  , isArrayIter = __webpack_require__(76)\n\t  , anObject    = __webpack_require__(72)\n\t  , toLength    = __webpack_require__(77)\n\t  , getIterFn   = __webpack_require__(78);\n\tmodule.exports = function(iterable, entries, fn, that){\n\t  var iterFn = getIterFn(iterable)\n\t    , f      = ctx(fn, that, entries ? 2 : 1)\n\t    , index  = 0\n\t    , length, step, iterator;\n\t  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n\t  // fast case for arrays with default iterator\n\t  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n\t    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n\t  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n\t    call(iterator, f, step.value, entries);\n\t  }\n\t};\n\n/***/ },\n/* 75 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// call something on iterator step with safe closing on error\n\tvar anObject = __webpack_require__(72);\n\tmodule.exports = function(iterator, fn, value, entries){\n\t  try {\n\t    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n\t  // 7.4.6 IteratorClose(iterator, completion)\n\t  } catch(e){\n\t    var ret = iterator['return'];\n\t    if(ret !== undefined)anObject(ret.call(iterator));\n\t    throw e;\n\t  }\n\t};\n\n/***/ },\n/* 76 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// check on default Array iterator\n\tvar Iterators  = __webpack_require__(56)\n\t  , ITERATOR   = __webpack_require__(59)('iterator')\n\t  , ArrayProto = Array.prototype;\n\t\n\tmodule.exports = function(it){\n\t  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n\t};\n\n/***/ },\n/* 77 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 7.1.15 ToLength\n\tvar toInteger = __webpack_require__(48)\n\t  , min       = Math.min;\n\tmodule.exports = function(it){\n\t  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n\t};\n\n/***/ },\n/* 78 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar classof   = __webpack_require__(70)\n\t  , ITERATOR  = __webpack_require__(59)('iterator')\n\t  , Iterators = __webpack_require__(56);\n\tmodule.exports = __webpack_require__(11).getIteratorMethod = function(it){\n\t  if(it != undefined)return it[ITERATOR]\n\t    || it['@@iterator']\n\t    || Iterators[classof(it)];\n\t};\n\n/***/ },\n/* 79 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// Works with __proto__ only. Old v8 can't work with null proto objects.\n\t/* eslint-disable no-proto */\n\tvar getDesc  = __webpack_require__(8).getDesc\n\t  , isObject = __webpack_require__(71)\n\t  , anObject = __webpack_require__(72);\n\tvar check = function(O, proto){\n\t  anObject(O);\n\t  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n\t};\n\tmodule.exports = {\n\t  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n\t    function(test, buggy, set){\n\t      try {\n\t        set = __webpack_require__(12)(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n\t        set(test, []);\n\t        buggy = !(test instanceof Array);\n\t      } catch(e){ buggy = true; }\n\t      return function setPrototypeOf(O, proto){\n\t        check(O, proto);\n\t        if(buggy)O.__proto__ = proto;\n\t        else set(O, proto);\n\t        return O;\n\t      };\n\t    }({}, false) : undefined),\n\t  check: check\n\t};\n\n/***/ },\n/* 80 */\n/***/ function(module, exports) {\n\n\t// 7.2.9 SameValue(x, y)\n\tmodule.exports = Object.is || function is(x, y){\n\t  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n\t};\n\n/***/ },\n/* 81 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 7.3.20 SpeciesConstructor(O, defaultConstructor)\n\tvar anObject  = __webpack_require__(72)\n\t  , aFunction = __webpack_require__(13)\n\t  , SPECIES   = __webpack_require__(59)('species');\n\tmodule.exports = function(O, D){\n\t  var C = anObject(O).constructor, S;\n\t  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n\t};\n\n/***/ },\n/* 82 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar global    = __webpack_require__(10)\n\t  , macrotask = __webpack_require__(83).set\n\t  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n\t  , process   = global.process\n\t  , Promise   = global.Promise\n\t  , isNode    = __webpack_require__(68)(process) == 'process'\n\t  , head, last, notify;\n\t\n\tvar flush = function(){\n\t  var parent, domain, fn;\n\t  if(isNode && (parent = process.domain)){\n\t    process.domain = null;\n\t    parent.exit();\n\t  }\n\t  while(head){\n\t    domain = head.domain;\n\t    fn     = head.fn;\n\t    if(domain)domain.enter();\n\t    fn(); // <- currently we use it only for Promise - try / catch not required\n\t    if(domain)domain.exit();\n\t    head = head.next;\n\t  } last = undefined;\n\t  if(parent)parent.enter();\n\t};\n\t\n\t// Node.js\n\tif(isNode){\n\t  notify = function(){\n\t    process.nextTick(flush);\n\t  };\n\t// browsers with MutationObserver\n\t} else if(Observer){\n\t  var toggle = 1\n\t    , node   = document.createTextNode('');\n\t  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n\t  notify = function(){\n\t    node.data = toggle = -toggle;\n\t  };\n\t// environments with maybe non-completely correct, but existent Promise\n\t} else if(Promise && Promise.resolve){\n\t  notify = function(){\n\t    Promise.resolve().then(flush);\n\t  };\n\t// for other environments - macrotask based on:\n\t// - setImmediate\n\t// - MessageChannel\n\t// - window.postMessag\n\t// - onreadystatechange\n\t// - setTimeout\n\t} else {\n\t  notify = function(){\n\t    // strange IE + webpack dev server bug - use .call(global)\n\t    macrotask.call(global, flush);\n\t  };\n\t}\n\t\n\tmodule.exports = function asap(fn){\n\t  var task = {fn: fn, next: undefined, domain: isNode && process.domain};\n\t  if(last)last.next = task;\n\t  if(!head){\n\t    head = task;\n\t    notify();\n\t  } last = task;\n\t};\n\n/***/ },\n/* 83 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar ctx                = __webpack_require__(12)\n\t  , invoke             = __webpack_require__(84)\n\t  , html               = __webpack_require__(85)\n\t  , cel                = __webpack_require__(86)\n\t  , global             = __webpack_require__(10)\n\t  , process            = global.process\n\t  , setTask            = global.setImmediate\n\t  , clearTask          = global.clearImmediate\n\t  , MessageChannel     = global.MessageChannel\n\t  , counter            = 0\n\t  , queue              = {}\n\t  , ONREADYSTATECHANGE = 'onreadystatechange'\n\t  , defer, channel, port;\n\tvar run = function(){\n\t  var id = +this;\n\t  if(queue.hasOwnProperty(id)){\n\t    var fn = queue[id];\n\t    delete queue[id];\n\t    fn();\n\t  }\n\t};\n\tvar listner = function(event){\n\t  run.call(event.data);\n\t};\n\t// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n\tif(!setTask || !clearTask){\n\t  setTask = function setImmediate(fn){\n\t    var args = [], i = 1;\n\t    while(arguments.length > i)args.push(arguments[i++]);\n\t    queue[++counter] = function(){\n\t      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n\t    };\n\t    defer(counter);\n\t    return counter;\n\t  };\n\t  clearTask = function clearImmediate(id){\n\t    delete queue[id];\n\t  };\n\t  // Node.js 0.8-\n\t  if(__webpack_require__(68)(process) == 'process'){\n\t    defer = function(id){\n\t      process.nextTick(ctx(run, id, 1));\n\t    };\n\t  // Browsers with MessageChannel, includes WebWorkers\n\t  } else if(MessageChannel){\n\t    channel = new MessageChannel;\n\t    port    = channel.port2;\n\t    channel.port1.onmessage = listner;\n\t    defer = ctx(port.postMessage, port, 1);\n\t  // Browsers with postMessage, skip WebWorkers\n\t  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n\t  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n\t    defer = function(id){\n\t      global.postMessage(id + '', '*');\n\t    };\n\t    global.addEventListener('message', listner, false);\n\t  // IE8-\n\t  } else if(ONREADYSTATECHANGE in cel('script')){\n\t    defer = function(id){\n\t      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n\t        html.removeChild(this);\n\t        run.call(id);\n\t      };\n\t    };\n\t  // Rest old browsers\n\t  } else {\n\t    defer = function(id){\n\t      setTimeout(ctx(run, id, 1), 0);\n\t    };\n\t  }\n\t}\n\tmodule.exports = {\n\t  set:   setTask,\n\t  clear: clearTask\n\t};\n\n/***/ },\n/* 84 */\n/***/ function(module, exports) {\n\n\t// fast apply, http://jsperf.lnkit.com/fast-apply/5\n\tmodule.exports = function(fn, args, that){\n\t  var un = that === undefined;\n\t  switch(args.length){\n\t    case 0: return un ? fn()\n\t                      : fn.call(that);\n\t    case 1: return un ? fn(args[0])\n\t                      : fn.call(that, args[0]);\n\t    case 2: return un ? fn(args[0], args[1])\n\t                      : fn.call(that, args[0], args[1]);\n\t    case 3: return un ? fn(args[0], args[1], args[2])\n\t                      : fn.call(that, args[0], args[1], args[2]);\n\t    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n\t                      : fn.call(that, args[0], args[1], args[2], args[3]);\n\t  } return              fn.apply(that, args);\n\t};\n\n/***/ },\n/* 85 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(10).document && document.documentElement;\n\n/***/ },\n/* 86 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isObject = __webpack_require__(71)\n\t  , document = __webpack_require__(10).document\n\t  // in old IE typeof document.createElement is 'object'\n\t  , is = isObject(document) && isObject(document.createElement);\n\tmodule.exports = function(it){\n\t  return is ? document.createElement(it) : {};\n\t};\n\n/***/ },\n/* 87 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar redefine = __webpack_require__(51);\n\tmodule.exports = function(target, src){\n\t  for(var key in src)redefine(target, key, src[key]);\n\t  return target;\n\t};\n\n/***/ },\n/* 88 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar core        = __webpack_require__(11)\n\t  , $           = __webpack_require__(8)\n\t  , DESCRIPTORS = __webpack_require__(54)\n\t  , SPECIES     = __webpack_require__(59)('species');\n\t\n\tmodule.exports = function(KEY){\n\t  var C = core[KEY];\n\t  if(DESCRIPTORS && C && !C[SPECIES])$.setDesc(C, SPECIES, {\n\t    configurable: true,\n\t    get: function(){ return this; }\n\t  });\n\t};\n\n/***/ },\n/* 89 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar ITERATOR     = __webpack_require__(59)('iterator')\n\t  , SAFE_CLOSING = false;\n\t\n\ttry {\n\t  var riter = [7][ITERATOR]();\n\t  riter['return'] = function(){ SAFE_CLOSING = true; };\n\t  Array.from(riter, function(){ throw 2; });\n\t} catch(e){ /* empty */ }\n\t\n\tmodule.exports = function(exec, skipClosing){\n\t  if(!skipClosing && !SAFE_CLOSING)return false;\n\t  var safe = false;\n\t  try {\n\t    var arr  = [7]\n\t      , iter = arr[ITERATOR]();\n\t    iter.next = function(){ safe = true; };\n\t    arr[ITERATOR] = function(){ return iter; };\n\t    exec(arr);\n\t  } catch(e){ /* empty */ }\n\t  return safe;\n\t};\n\n/***/ },\n/* 90 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/**\n\t * Defines an Object type using a named constructor function.\n\t * @module\n\t */\n\t\n\t/**\n\t * Constructs an object with methods bound to a context.\n\t * @arg {object} _from - Object with methods to bind.\n\t * @arg {object} _to - Context which methtods should be bound to.\n\t */\n\t\n\tvar _Object$defineProperty = __webpack_require__(91)['default'];\n\t\n\tvar _Object$keys = __webpack_require__(33)['default'];\n\t\n\tvar _Object$create = __webpack_require__(20)['default'];\n\t\n\texports.__esModule = true;\n\texports['default'] = type;\n\tfunction Bindings(_from, _to) {\n\t\tvar method;\n\t\n\t\t// pull all methods from the prototype chain.\n\t\tfor (method in _from) {\n\t\t\tif (typeof _from[method] !== 'function') continue;\n\t\t\tthis[method] = _from[method].bind(_to);\n\t\t}\n\t}\n\t\n\t/**\n\t * Takes an itterable object and convert it into an Array.\n\t * @arg {object} _itterable\n\t * @returns {array}\n\t */\n\tfunction toArray(_itterable) {\n\t\treturn [].map.call(_itterable, function (m) {\n\t\t\treturn m;\n\t\t});\n\t}\n\t\n\t/**\n\t * Converts a constructor function into an object \"type\". Which addapts the constructor with and interface for creating instsances and extension.\n\t * @arg {function} _constructor... - any number of constructor functions.\n\t * @returns The constructor or an object containing all the defined types.\n\t */\n\t\n\tfunction type() {\n\t\tvar defs, module;\n\t\n\t\t/**\n\t  * Constructs an interface which is accesed through the constructors arguments.\n\t  * These arguments are parsed from the function string and collected into an array.\n\t  * @arg {function} _constructor\n\t  * @returns {array} The collection of API functions requested by the constructor.\n\t  */\n\t\tfunction createApi(_constructor) {\n\t\t\tvar args, api;\n\t\n\t\t\t// Matches the names of the arguments defined in the source of the function.\n\t\t\t// [^\\(\\)\\.\\s,]+ captures one or more of any character which is NOT a parenthetical, period, white-space character, or comma.\n\t\t\t// It then takes that rule and looks for multiple intances w/o spaces or commas around it, which would be encased in parenthensies.\n\t\t\t// NOTE: since this regex is not matching globally, it will not match any argument clusters past the function definition.\n\t\t\targs = (Function.prototype.toString.call(_constructor).match(/\\(((?:\\s*[^\\(\\)\\.\\s,]+\\s*,?)+)\\)/) || ['', ''])[1].split(/\\s*,\\s*/);\n\t\t\tapi = {\n\t\t\t\t/**\n\t    * Invokes the specified method closest in the prototype chain. Allowing you to still invoke a method which was overridden.\n\t    *\n\t    * @arg {object} _obj - The context which to find the parent function.\n\t    * @arg {string} _name - The method name.\n\t    * @arg {array} _args - A collection of arguments to invoke the method with\n\t    * @returns {*} Whatever the caller returns.\n\t    *\n\t    * @example \n\t    * Car.extend(function Ford (proto) {\n\t    *     this.drive = function () {\n\t    *         proto(this, 'drive', arguments);\n\t    *         // do some opps.\n\t    *     };\n\t    * });\n\t    */\n\t\t\t\tproto: function proto(_obj, _name, _args) {\n\t\t\t\t\tvar proto, method;\n\t\n\t\t\t\t\tproto = Object.getPrototypeOf(this || _obj);\n\t\t\t\t\tmethod = proto[_name];\n\t\n\t\t\t\t\tif (typeof _obj[_name] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Member ' + _name + ' is not a function.');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (method) {\n\t\t\t\t\t\t// Does _obj's prototype have the method and it's not the same reference as _obj.\n\t\t\t\t\t\tif (proto.hasOwnProperty(_name) && _obj[_name] !== proto[_name]) {\n\t\t\t\t\t\t\treturn _args ? method.apply(_obj, _args) : method.bind(_obj);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Otherwise, walk the prototype chain to find the prototype that has the parent method.\n\t\t\t\t\t\twhile (proto) {\n\t\t\t\t\t\t\tif (proto.hasOwnProperty(_name) && _obj[_name] !== proto[_name]) {\n\t\t\t\t\t\t\t\treturn _args ? method.apply(_obj, _args) : method.bind(_obj);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tproto = Object.getPrototypeOf(proto);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn new Bindings(proto, _obj);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t/**\n\t    * Invokes the specified method which lives on the object type's prototype.\n\t    * If your instance overrides the object types method, or your many prototype\n\t    * levels away from the base prototype, this lets you track back to the original.\n\t    *\n\t    * @arg {object} _obj - The context which to find the parent function.\n\t    * @arg {string} _name - The method name.\n\t    * @arg {array} _args - A collection of arguments to invoke the method with\n\t    * @returns {*} Whatever the caller returns.\n\t    */\n\t\t\t\tbase: function base(_obj, _name, _args) {\n\t\t\t\t\tvar proto, method;\n\t\n\t\t\t\t\tproto = _constructor.prototype;\n\t\t\t\t\tmethod = proto[_name];\n\t\n\t\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Member ' + _name + ' is not a function.');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (method) {\n\t\t\t\t\t\treturn _args ? method.apply(_obj, _args) : method.bind(_obj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn new Bindings(proto, _obj);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t/**\n\t    * Invokes the specified method on the object type's super type or parent type (i.e. Ford extending Car).\n\t    * @arg {object} _obj - The context which to find the parent function.\n\t    * @arg {string} _name - The method name.\n\t    * @arg {array} _args - A collection of arguments to invoke the method with\n\t    * @returns {*} Whatever the caller returns.\n\t    */\n\t\t\t\tsup: function sup(_obj, _name, _args) {\n\t\t\t\t\treturn api.proto.apply(_constructor.prototype, arguments);\n\t\t\t\t},\n\t\t\t\t/**\n\t    * Defines a properpty which is configured `{configureable: false, writeable: false}`.\n\t    * @arg {object} _obj - The context which to define members.\n\t    * @arg {string} _name - The member name.\n\t    * @arg {*} _value - The value.\n\t    * @returns api\n\t    */\n\t\t\t\tconstant: function constant(_obj, _name, _value) {\n\t\t\t\t\t_Object$defineProperty(_obj, _name, {\n\t\t\t\t\t\tvalue: _value,\n\t\t\t\t\t\tconfigureable: false,\n\t\t\t\t\t\twriteable: false\n\t\t\t\t\t});\n\t\n\t\t\t\t\treturn api;\n\t\t\t\t},\n\t\t\t\t/**\n\t    * Defines members on the constructor.\n\t    * @function static\n\t    * @overload\n\t    * @arg {string} _name - The member name.\n\t    * @arg {*} _value - The value.\n\t    * @returns api\n\t    */\n\t\n\t\t\t\t/**\n\t    * Defines members on the constructor.\n\t    * @arg {object} _def - An object with members to mixin.\n\t    * @returns api\n\t    */\n\t\t\t\t'static': function _static(_name_def, _value) {\n\t\t\t\t\tvar member, _name, _def;\n\t\n\t\t\t\t\t_value ? _name = _name_def : _def = _name_def;\n\t\n\t\t\t\t\tif (_def) {\n\t\t\t\t\t\tfor (member in _def) {\n\t\t\t\t\t\t\tif (!_def.hasOwnProperty(member)) continue;\n\t\t\t\t\t\t\t_constructor[member] = _def[member];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (_name) {\n\t\t\t\t\t\t_constructor[_name] = _value;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn api;\n\t\t\t\t},\n\t\t\t\t/**\n\t    * A pretty way of define the interface of your object type.\n\t    *\n\t    * You may pass any number of arguments as functions or strings.\n\t    * \n\t    * **Example**\n\t    * ```javascript\n\t    * function Car ($) {$(\n\t    *     // Defines a member assigned to `null`.\n\t    *     'name',\n\t    *     // Defines members with values as a string and number. Keep in mind these are put on the prototype.\n\t    *     'engineType = \"standard\", speed = 0',\n\t    *\n\t    *     // Define instance members.\n\t    *     function alloc (_name) {\n\t    *         this.name = _name;\n\t    *     },\n\t    *\n\t    *     function drive () {\n\t    *         this.speed += 1;\n\t    *     }\n\t    * )}\n\t    * ```\n\t    *\n\t    * One benefit to this interface is that all your methods are named so you have easy access for recursive programs.\n\t    * @arg {string|function} _def - A string of property definitions or a named function.\n\t    * @todo Support property assignment in alloc. Micah: 2/24/2016\n\t    */\n\t\t\t\t$: function $() {\n\t\t\t\t\tvar args = toArray(arguments);\n\t\n\t\t\t\t\targs.forEach(function (_member) {\n\t\t\t\t\t\tvar memberType, props, key;\n\t\n\t\t\t\t\t\tmemberType = typeof _member;\n\t\n\t\t\t\t\t\tswitch (memberType) {\n\t\t\t\t\t\t\tcase 'string':\n\t\t\t\t\t\t\t\tprops = _member.split(/\\s*,\\s*/);\n\t\n\t\t\t\t\t\t\t\tif (props) {\n\t\t\t\t\t\t\t\t\tprops.forEach(function (_def) {\n\t\t\t\t\t\t\t\t\t\tvar prop, val;\n\t\n\t\t\t\t\t\t\t\t\t\tprop = _def.split(/\\s*[:=]\\s*/);\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tval = JSON.parse(prop[1]);\n\t\t\t\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t\t\t\t\t_constructor.prototype[prop[0]] = typeof prop[1] !== 'undefined' ? val || prop[1] : null;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\t\t\tfor (key in _member) {\n\t\t\t\t\t\t\t\t\tif (!_member.hasOwnProperty(key)) continue;\n\t\t\t\t\t\t\t\t\t_constructor.prototype[key] = _member[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\t\tcase 'function':\n\t\t\t\t\t\t\t\tif (!_member.name) throw TypeError('Member must be a named function.');\n\t\t\t\t\t\t\t\t_constructor.prototype[_member.name] = _member;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\treturn api;\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\treturn args.map(function (_call) {\n\t\t\t\treturn api[_call] || module[_call];\n\t\t\t});\n\t\t}\n\t\n\t\tdefs = toArray(arguments);\n\t\tmodule = !this ? {} : this;\n\t\n\t\tdefs.forEach(function (_constructor) {\n\t\t\tvar api;\n\t\n\t\t\tif (typeof _constructor === 'object') {\n\t\t\t\tvar Super,\n\t\t\t\t    keys = _Object$keys(_constructor);\n\t\n\t\t\t\tif (keys.length === 1 && module[keys[0]]) {\n\t\t\t\t\tSuper = module[keys[0]];\n\t\t\t\t\treturn Super.extend.call(module, _constructor[keys[0]]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tapi = createApi(_constructor);\n\t\n\t\t\t/**\n\t   * Creates a new instance of the constructor prototype.\n\t   * This also invokes the `alloc()` on the instance so you can define instance props.\n\t   * @arg {*} ... - Any number of arguments for `alloc()`.\n\t   * @returns instance\n\t   */\n\t\t\t_constructor.create = function () {\n\t\t\t\tvar instance = _Object$create(_constructor.prototype);\n\t\t\t\tif (typeof instance.alloc === 'function') instance.alloc.apply(instance, arguments);\n\t\t\t\treturn instance;\n\t\t\t};\n\t\n\t\t\t/**\n\t   * Extends the provided constructor prototype.\n\t   * @arg {function} _definition - Constructor for the object type.\n\t   * @returns _constructor\n\t   */\n\t\t\t_constructor.extend = function (_definition) {\n\t\t\t\t_definition.prototype = _Object$create(_constructor.prototype, {\n\t\t\t\t\tconstructor: {\n\t\t\t\t\t\tvalue: _definition,\n\t\t\t\t\t\tenumerable: false,\n\t\t\t\t\t\twriteable: false,\n\t\t\t\t\t\tconfigureable: false\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\treturn type.call(this === _constructor ? null : this, _definition);\n\t\t\t};\n\t\n\t\t\t_constructor.apply(_constructor.prototype, api);\n\t\n\t\t\tmodule[_constructor.name] = _constructor;\n\t\t});\n\t\n\t\treturn defs.length > 1 ? module : defs[0];\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 91 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(92), __esModule: true };\n\n/***/ },\n/* 92 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(8);\n\tmodule.exports = function defineProperty(it, key, desc){\n\t  return $.setDesc(it, key, desc);\n\t};\n\n/***/ },\n/* 93 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Base class for a scope acting as an \"entity\" with \"states\", \"behaviors\" and the ability to respond (responsibilities) to behaviors.\n\t *\n\t * @module\n\t */\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesGlobalScope = __webpack_require__(30);\n\t\n\tvar _typesGlobalScope2 = _interopRequireDefault(_typesGlobalScope);\n\t\n\tvar _typesCollection = __webpack_require__(29);\n\t\n\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\n\tvar _typesDimensions = __webpack_require__(14);\n\t\n\tvar _typesQueue = __webpack_require__(40);\n\t\n\tvar _typesQueue2 = _interopRequireDefault(_typesQueue);\n\t\n\tfunction invokeResponsibilities(_scope, _event) {\n\t\tif (_scope && _scope.responsibilities && _scope.isMemberSafe('responsibilities')) {\n\t\t\t_scope.responsibilities.forEach(function (_record) {\n\t\t\t\tif (_record.name === _event.name) {\n\t\n\t\t\t\t\t// console.log(_scope.id(), 'respond', _record.name, 'from', _event.targetScope.id());\n\t\t\t\t\t_record.ability.call(_scope, _event);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\t/**\n\t * <span class=\"note important\">NOTE: This is NOT a constructor. Use `Entity.create()` to get a new instance.</span>\n\t * @classdesc Base class for a scope acting as an \"entity\" with \"states\", \"behaviors\" and the ability to respond (responsibilities) to behaviors. For more information on these terms read [this]{@link module:types/Entity}.\n\t * <style>\n\t * .tag {\n\t *   padding: 1px 4px;\n\t *   border-radius: 4px;\n\t *\n\t *   color: #fff;\n\t *   background-color: #aaa;\n\t * }\n\t *\n\t * .tag.behavior {\n\t *\t background-color: #0ba;\n\t * }\n\t *\n\t * .tag.state {\n\t *\t background-color: #ba0;\n\t * }\n\t *\n\t * .note {\n\t *   border: solid 1px;\n\t *   border-radius: 4px;\n\t *   padding: 1px 4px;\n\t *   color: #aaa;\n\t *   background-color: #eee;\n\t * }\n\t * \n\t * .note.important {\n\t *   color: #b55;\n\t *   background-color: #fee;\n\t * }\n\t * </style>\n\t *\n\t * @class\n\t * @prop {module:types/Collection~Collection} responsibilities - A collection of ResponsibilityRecords for the scope.\n\t * @prop {boolean} isComplete - Marks a scope as \"complete\" via the [`complete()`]{@link module:types/Entity~Entity#complete} behavior.\n\t * @extends GlobalScope\n\t */\n\tvar Entity = _typesGlobalScope2['default'].extend(function () {\n\t\n\t\tfunction resolveTarget(_target) {\n\t\n\t\t\tswitch (typeof _target) {\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn this.findOwn(_target);\n\t\t\t\tcase 'object':\n\t\t\t\t\tif (_target.jquery) return _target;\n\t\t\t\t\tif (Entity.isPrototypeOf(_target)) return _target;\n\t\t\t\t\tif (_target.nodeType === document.ELEMENT_NODE) return $(_target);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t}\n\t\n\t\tfunction ResponsibilityRecord(_name, _ability) {\n\t\t\tthis.name = _name;\n\t\t\tthis.ability = _ability;\n\t\t}\n\t\n\t\tfunction dragGreeter(_event) {\n\t\t\tswitch (_event.type) {\n\t\t\t\tcase 'drag-start':\n\t\t\t\t\tthis.grab(_event.state);\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'drag-move':\n\t\t\t\t\tthis.dragging(_event.state);\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'drag-end':\n\t\t\t\t\tthis.release(_event.state);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\n\t\tfunction attachDragEvents() {\n\t\t\tif (this.draggables && this.isMemberSafe('draggables') && this.draggables.length) {\n\t\t\t\tthis.on('drag-start drag-move drag-end', dragGreeter);\n\t\t\t}\n\t\t}\n\t\n\t\tthis.baseType = 'TYPE_ENTITY';\n\t\tthis.STATE = {\n\t\t\tPLAYING: 'PLAYING',\n\t\t\tBACKGROUND: 'BACKGROUND',\n\t\t\tVOICE_OVER: 'VOICE-OVER',\n\t\t\tSFX: 'SFX'\n\t\t};\n\t\n\t\tthis.timeoutID = null;\n\t\tthis.intervalID = null;\n\t\tthis.responsibilities = null;\n\t\tthis.isComplete = false;\n\t\tthis.shouldInheritAbilities = true;\n\t\tthis.frameHandlers = null;\n\t\tthis.frameRate = 60; // 60fps\n\t\tthis.draggables = null;\n\t\tthis.requiredQueue = null;\n\t\tthis.bgImageCollection = null;\n\t\n\t\tthis.handleProperty({\n\t\t\tsize: function size(_node, _name, _value) {\n\t\t\t\tvar size;\n\t\n\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\tsize = _value.split(/\\s*[x,]\\s*/);\n\t\t\t\t\tthis.css({\n\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\theight: size[1] || size[0]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tposition: function position(_node, _name, _value) {\n\t\t\t\tvar size;\n\t\n\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\tsize = _value.split(/\\s*[x,]\\s*/);\n\t\t\t\t\tthis.css({\n\t\t\t\t\t\ttop: size[1] || size[0],\n\t\t\t\t\t\tleft: size[0]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tdraggable: function draggable(_node, _name, _value) {\n\t\t\t\tif (!this.hasOwnProperty('draggables')) {\n\t\t\t\t\tthis.draggables = $();\n\t\t\t\t}\n\t\n\t\t\t\tthis.draggables.push(_node);\n\t\t\t},\n\t\n\t\t\tbg: function bg(_node, _name, _value) {\n\t\t\t\tvar img = new Image();\n\t\n\t\t\t\tif (!this.hasOwnProperty('bgImageCollection')) this.bgImageCollection = [];\n\t\n\t\t\t\tif (this.isMemberSafe('bgImageCollection')) {\n\t\t\t\t\timg.src = _value;\n\t\t\t\t\tthis.bgImageCollection.push(img);\n\t\t\t\t\t$(_node).css('background-image', 'url(' + _value + ')');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\tthis.__init = function (_event) {\n\t\t\tif (this.bgImageCollection && this.isMemberSafe('bgImageCollection')) {\n\t\t\t\tthis.watchAssets(this.bgImageCollection);\n\t\t\t}\n\t\t\tattachDragEvents.call(this);\n\t\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.size = function () {\n\t\t\tvar size;\n\t\n\t\t\tif (arguments.length) {\n\t\t\t\tsize = _typesDimensions.Size.create(arguments);\n\t\t\t\tthis.css(size);\n\t\t\t\treturn size;\n\t\t\t}\n\t\n\t\t\treturn _typesDimensions.Size.create().set(this.width(), this.height());\n\t\t};\n\t\n\t\tthis.propagateBehavior = function (_event) {\n\t\t\tvar ids;\n\t\n\t\t\tids = [];\n\t\n\t\t\tthis.findOwn('.pl-scope').each(function (_index, _node) {\n\t\t\t\tvar $node = $(_node);\n\t\t\t\tids.push($node.id() || $node.address());\n\t\t\t});\n\t\n\t\t\tif (this.hasOwnProperty('entities') && this.entities.length) {\n\t\t\t\t// console.log(this.id(), 'propagate', _event.name, 'to', this.entities.length, 'nodes', ids);\n\t\n\t\t\t\tthis.entities.forEach(function (_scope) {\n\t\t\t\t\tinvokeResponsibilities(_scope, _event);\n\t\t\t\t\t_scope.propagateBehavior(_event);\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.require = function (_entity) {\n\t\t\tif (!this.hasOwnProperty('requiredQueue')) {\n\t\t\t\tthis.requiredQueue = _typesQueue2['default'].create();\n\t\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\t\tthis.log('entity complete');\n\t\t\t\t\tthis.complete();\n\t\t\t\t}));\n\t\n\t\t\t\tthis.respond('complete', function (_event) {\n\t\t\t\t\tif (!this.has(_event.target)) return;\n\t\t\t\t\tif (_event.targetScope === this) return;\n\t\n\t\t\t\t\tthis.requiredQueue.ready(_event.behaviorTarget);\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tthis.requiredQueue.add(_entity);\n\t\t\tthis.gate();\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.behavior = function (_name, _behavior) {\n\t\t\t_behavior.method = this[_name] = function () {\n\t\t\t\tvar behaviorEvent, result;\n\t\n\t\t\t\tbehaviorEvent = {\n\t\t\t\t\tname: _name,\n\t\t\t\t\tmessage: '',\n\t\t\t\t\ttargetScope: this,\n\t\t\t\t\tbehaviorTarget: this\n\t\t\t\t};\n\t\n\t\t\t\tresult = _behavior.apply(this, arguments);\n\t\n\t\t\t\tif (typeof result === 'object') {\n\t\t\t\t\tbehaviorEvent = _util2['default'].mixin(behaviorEvent, result);\n\t\t\t\t}\n\t\n\t\t\t\tif (result !== false) {\n\t\t\t\t\tthis.trigger($.Event('behavior', behaviorEvent));\n\t\t\t\t}\n\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.respond = function () {\n\t\t\tvar name, ability, parentScope, abilities, protoAbilities;\n\t\n\t\t\tif (!this.hasOwnProperty('responsibilities')) {\n\t\t\t\tabilities = _typesCollection2['default'].create();\n\t\t\t\tprotoAbilities = this.provideAblilityPototype();\n\t\n\t\t\t\tif (this.shouldInheritAbilities && protoAbilities && protoAbilities.responsibilities) {\n\t\t\t\t\tabilities.push.apply(abilities, protoAbilities.responsibilities);\n\t\t\t\t}\n\t\n\t\t\t\tthis.responsibilities = abilities;\n\t\t\t}\n\t\n\t\t\tif (arguments.length === 1) {\n\t\t\t\tswitch (typeof arguments[0]) {\n\t\t\t\t\tcase 'string':\n\t\t\t\t\t\tname = arguments[0];break;\n\t\n\t\t\t\t\tcase 'function':\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tability = arguments[0];break;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tname = arguments[0];\n\t\t\t\tability = arguments[1];\n\t\t\t}\n\t\n\t\t\tswitch (typeof ability) {\n\t\t\t\tcase 'object':\n\t\t\t\t\tfor (name in ability) {\n\t\t\t\t\t\tif (!ability.hasOwnProperty(name)) continue;\n\t\n\t\t\t\t\t\tthis.respond(name, ability[name]);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'function':\n\t\t\t\t\tthis.responsibilities.add(new ResponsibilityRecord(name, ability));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.delay = function (_time, _cb) {\n\t\t\tvar time = _util2['default'].toMillisec(_time);\n\t\n\t\t\t_util2['default'].assignRef(this, 'timeoutID', setTimeout(_cb.bind(this), time));\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.repeat = function (_time, _cb) {\n\t\t\tvar time = _util2['default'].toMillisec(_time);\n\t\n\t\t\t_util2['default'].assignRef(this, 'intervalID', setInterval(_cb.bind(this), time));\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.kill = function (_timer) {\n\t\t\tvar id = _timer === 'repeat' ? this.intervalID : this.timeoutID;\n\t\n\t\t\tif (typeof id === 'number') {\n\t\t\t\t(_timer === 'repeat' ? clearInterval : clearTimeout)(id);\n\t\t\t\tthis[_timer === 'repeat' ? 'intervalID' : 'timeoutID'] = null;\n\t\t\t} else if (id) {\n\t\t\t\tid.forEach(function (_id) {\n\t\t\t\t\t(_timer === 'repeat' ? clearInterval : clearTimeout)(_id);\n\t\t\t\t});\n\t\n\t\t\t\t_timer === 'repeat' ? this.intervalID = null : this.timeoutID = null;\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.eachFrame = function (_handler, _on) {\n\t\t\tvar binder, frame, lastTime, rate, frames;\n\t\n\t\t\trate = this.frameRate || 1000;\n\t\t\tframes = 0;\n\t\t\tlastTime = 0;\n\t\n\t\t\tif (!this.hasOwnProperty('frameHandlers') || this.frameHandlers.length === 0) {\n\t\t\t\tframe = function (_time) {\n\t\t\t\t\tvar i, handler;\n\t\n\t\t\t\t\tif (rate) {\n\t\t\t\t\t\tif (_time - lastTime >= 1000 / rate) {\n\t\t\t\t\t\t\tfor (i = 0; handler = this.frameHandlers[i]; i += 1) {\n\t\t\t\t\t\t\t\thandler.call(this, _time, Math.round(1000 / (_time - lastTime)), rate);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (frames === rate) frames = 0;\n\t\n\t\t\t\t\t\t\tframes += 1;\n\t\t\t\t\t\t\tlastTime = _time;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (this.frameHandlers.length) {\n\t\t\t\t\t\twindow.requestAnimationFrame(binder);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\n\t\t\t\tbinder = this.bind(frame);\n\t\n\t\t\t\t// allows methods passed as _handler's to\n\t\t\t\t// be able to trace back for proto() callbacks.\n\t\t\t\tframe.method = this.eachFrame;\n\t\n\t\t\t\tthis.frameHandlers = _typesCollection2['default'].create();\n\t\t\t\twindow.requestAnimationFrame(binder);\n\t\t\t}\n\t\n\t\t\tif (_on !== false) {\n\t\t\t\tthis.frameHandlers.add(_handler);\n\t\t\t} else {\n\t\t\t\tthis.frameHandlers.remove(_handler);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.state = function (_flag, _definition, _imp) {\n\t\t\tvar flag, tester, setter, getter, STATE, def, opperations, names;\n\t\n\t\t\tif (!_definition) {\n\t\t\t\treturn this.proto(_flag);\n\t\t\t}\n\t\n\t\t\tdef = _definition.split(/\\s+/);\n\t\t\tnames = _flag.split(/\\s+/);\n\t\t\topperations = [];\n\t\n\t\t\tdef.forEach(this.bind(function (_opp) {\n\t\t\t\tvar method, flag;\n\t\n\t\t\t\tmethod = _opp.slice(0, 1) === '+' ? 'addClass' : 'removeClass';\n\t\n\t\t\t\topperations.push({\n\t\t\t\t\tmethod: method,\n\t\t\t\t\tflag: _opp.slice(1)\n\t\t\t\t});\n\t\n\t\t\t\tif (method === 'addClass') {\n\t\t\t\t\tflag = _opp.slice(1);\n\t\t\t\t\tSTATE = _util2['default'].transformId(flag);\n\t\t\t\t\tthis.STATE[STATE] = flag;\n\t\t\t\t}\n\t\t\t}));\n\t\n\t\t\tsetter = names[0];\n\t\t\ttester = names[1];\n\t\n\t\t\tthis[setter] = function (_target) {\n\t\t\t\tvar target, uiStateEvent, oppsPerformed;\n\t\n\t\t\t\ttarget = resolveTarget.call(this, _target);\n\t\t\t\tuiStateEvent = $.Event('ui-' + setter, {\n\t\t\t\t\ttarget: target.jquery ? target[0] : target,\n\t\t\t\t\ttargetScope: this\n\t\t\t\t});\n\t\t\t\toppsPerformed = 0;\n\t\n\t\t\t\tif (_imp && _imp.shouldSet && _imp.shouldSet.apply(this, arguments) === false) {\n\t\t\t\t\treturn !!(_imp && _imp.notSet) && _imp.notSet.apply(this, arguments);\n\t\t\t\t}\n\t\n\t\t\t\tif (_imp && _imp.willSet) _imp.willSet.apply(this, arguments);\n\t\n\t\t\t\topperations.forEach(function (_record) {\n\t\t\t\t\t// If we are adding or removing a class, test if the target already has/removed it.\n\t\t\t\t\t// If so, then bump \"oppsPerformed\".\n\t\t\t\t\toppsPerformed += Number(target.hasClass(_record.flag) === ! ~_record.method.indexOf('add'));\n\t\t\t\t\ttarget[_record.method](_record.flag);\n\t\t\t\t});\n\t\n\t\t\t\tif (_imp && _imp.didSet) _imp.didSet.apply(this, arguments);\n\t\n\t\t\t\tif (oppsPerformed) {\n\t\t\t\t\tthis.trigger(uiStateEvent);\n\t\t\t\t\treturn target;\n\t\t\t\t}\n\t\n\t\t\t\treturn false;\n\t\t\t};\n\t\n\t\t\tif (tester) {\n\t\t\t\tgetter = 'get' + tester.slice(0, 1).toUpperCase() + tester.slice(1);\n\t\n\t\t\t\tthis[tester] = function (_target) {\n\t\t\t\t\tvar target;\n\t\n\t\t\t\t\ttarget = resolveTarget.call(this, _target);\n\t\n\t\t\t\t\treturn target.hasClass(this.STATE[STATE]);\n\t\t\t\t};\n\t\n\t\t\t\tthis[getter] = function () {\n\t\t\t\t\treturn this.findOwn('.' + this.STATE[STATE]);\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.provideBehaviorEventScope = function () {\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.provideAblilityPototype = function () {\n\t\t\tvar owner;\n\t\n\t\t\towner = _util2['default'].getOwner(this, this.baseType);\n\t\n\t\t\treturn !!owner && owner.object;\n\t\t};\n\t\n\t\tthis.completed = function () {\n\t\t\treturn this.game.demoMode || this.hasOwnProperty('isComplete') && this.isComplete || !this.requiredQueue || this.hasOwnProperty('requiredQueue') && this.requiredQueue.length === 0;\n\t\t};\n\t\n\t\t/**\n\t  * <span class=\"tag behavior\">Behavior</span>\n\t  * Marks a scope \"complete\" by seting `isComplete` to `true` and add the `COMPLETE` state flag.\n\t  * @function module:types/Entity~Entity#complete\n\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t  */\n\t\tthis.behavior('complete', function () {\n\t\t\tif (this.hasOwnProperty('isComplete') && this.isComplete) return false;\n\t\n\t\t\tthis.isComplete = true;\n\t\t\tthis.addClass('COMPLETE');\n\t\n\t\t\treturn {\n\t\t\t\tbehaviorTarget: this\n\t\t\t};\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag behavior\">Behavior</span>\n\t  * Reports a drggable has been grabbed for dragging.\n\t  * @function module:types/Entity~Entity#grab\n\t  * @arg {object} _state - An object containing the state of a draggable.\n\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t  *\n\t  * @see module:play~pl.game.manager.draggable for more info on draggable state.\n\t  */\n\t\tthis.behavior('grab', function (_state) {\n\t\t\treturn {\n\t\t\t\tstate: _state,\n\t\t\t\tbehaviorTarget: _state.$draggable\n\t\t\t};\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag behavior\">Behavior</span>\n\t  * Reports a draggable as being dragged.\n\t  * @function module:types/Entity~Entity#dragging\n\t  * @arg {object} _state - An object containing the state of a draggable.\n\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t  *\n\t  * @see module:play~pl.game.manager.draggable for more info on draggable state.\n\t  */\n\t\tthis.behavior('dragging', function (_state) {\n\t\t\treturn {\n\t\t\t\tstate: _state,\n\t\t\t\tbehaviorTarget: _state.$draggable\n\t\t\t};\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag behavior\">Behavior</span>\n\t  * Reports a drggable as released or droped.\n\t  * @function module:types/Entity~Entity#release\n\t  * @arg {object} _state - An object containing the state of a draggable.\n\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t  *\n\t  * @see module:play~pl.game.manager.draggable for more info on draggable state.\n\t  */\n\t\tthis.behavior('release', function (_state) {\n\t\t\treturn {\n\t\t\t\tstate: _state,\n\t\t\t\tbehaviorTarget: _state.$draggable\n\t\t\t};\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds `OPEN` and removes the `LEAVE` CSS class names from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#open\n\t  * @fires Entity#ui-open\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `OPEN` class name.\n\t  * @function module:types/Entity~Entity#opened\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Open'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `OPEN` class name.\n\t  * @function module:types/Entity~Entity#getOpened\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('open opened', '+OPEN -LEAVE');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Removes the `OPEN` CSS class name from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#close\n\t  * @fires Entity#ui-close\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\tthis.state('close', '-OPEN');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds the `LEAVE` CSS class name to the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#leave\n\t  * @fires Entity#ui-leave\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `LEAVE` class name.\n\t  * @function module:types/Entity~Entity#left\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Leave'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `LEAVE` class name.\n\t  * @function module:types/Entity~Entity#getLeft\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('leave left', '+LEAVE', {\n\t\t\twillSet: function willSet(_target) {\n\t\t\t\tthis.close(_target);\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds `ENABLED` and removes the `DISABLED` CSS class names from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#enable\n\t  * @fires Entity#ui-enable\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `ENABLED` class name.\n\t  * @function module:types/Entity~Entity#enabled\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Enabled'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `ENABLED` class name.\n\t  * @function module:types/Entity~Entity#getEnabled\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('enable enabled', '+ENABLED -DISABLED');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds `DISABLED` and removes the `ENABLED` CSS class names from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#disable\n\t  * @fires Entity#ui-disable\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `DISABLED` class name.\n\t  * @function module:types/Entity~Entity#disabled\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Disabled'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `DISABLED` class name.\n\t  * @function module:types/Entity~Entity#getDisabled\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('disable disabled', '+DISABLED -ENABLED');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds the `SELECTED` CSS class name to the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#select\n\t  * @fires Entity#ui-select\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `SELECTED` class name.\n\t  * @function module:types/Entity~Entity#selected\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Selected'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `SELECTED` class name.\n\t  * @function module:types/Entity~Entity#getDisabled\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('select selected', '+SELECTED', {\n\t\t\twillSet: function willSet(_target) {\n\t\t\t\tvar target, $parent;\n\t\n\t\t\t\ttarget = resolveTarget.call(this, _target);\n\t\t\t\t$parent = target.parent();\n\t\n\t\t\t\t$parent.find('> .SELECTED').each(this.bind(function (_index, _node) {\n\t\t\t\t\tthis.deselect(_node);\n\t\t\t\t}));\n\t\t\t\t$parent.find('> .HIGHLIGHTED').each(this.bind(function (_index, _node) {\n\t\t\t\t\tthis.unhighlight(_node);\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Removes the `SELECTED` CSS class name from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#deselect\n\t  * @fires Entity#ui-deselect\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\tthis.state('deselect', '-SELECTED');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds the `HIGHLIGHTED` CSS class name to the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#highlight\n\t  * @fires Entity#ui-highlight\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `HIGHLIGHTED` class name.\n\t  * @function module:types/Entity~Entity#highlighted\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Highlighted'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `HIGHLIGHTED` class name.\n\t  * @function module:types/Entity~Entity#getHighlighted\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('highlight highlighted', '+HIGHLIGHTED');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Removes the `HIGHLIGHTED` CSS class name from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#unhighlight\n\t  * @fires Entity#ui-unhighlight\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\tthis.state('unhighlight', '-HIGHLIGHTED');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds the `DRAGGABLE` CSS class name to the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#draggable\n\t  * @fires Entity#ui-draggable\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `DRAGGABLE` class name.\n\t  * @function module:types/Entity~Entity#dragEnabled\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Draggable'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `DRAGGABLE` class name.\n\t  * @function module:types/Entity~Entity#getDragEnabled\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('draggable dragEnabled', '+DRAGGABLE', {\n\t\t\tdidSet: function didSet(_target) {\n\t\t\t\tthis.translate(resolveTarget.call(this, _target));\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Removes the `DRAGGABLE` CSS class name from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#undraggable\n\t  * @fires Entity#ui-undraggable\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\tthis.state('undraggable', '-DRAGGABLE');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds the `TRANSLATED` CSS class name to the scope or the given `_target`. The target also gets a 2d transform at the given `_point`.\n\t  * @function module:types/Entity~Entity#translate\n\t  * @fires Entity#ui-translate\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @arg {module:types/Dimensions~Point} _point - Point object with coordinates {x,y}.\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds the `TRANSLATED` CSS class name to the scope. The scope also gets a 2d transform at the given `_point`.\n\t  * @function module:types/Entity~Entity#translate\n\t  * @fires Entity#ui-translate\n\t  * @arg {module:types/Dimensions~Point} _point - Point object with coordinates {x,y}.\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `TRANSLATED` class name.\n\t  * @function module:types/Entity~Entity#translated\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Translate'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `TRANSLATED` class name.\n\t  * @function module:types/Entity~Entity#getTranslated\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('translate translated', '+TRANSLATED', {\n\t\t\twillSet: function willSet(_target_point, _point) {\n\t\t\t\tvar point, target;\n\t\n\t\t\t\ttarget = resolveTarget.call(this, _target_point);\n\t\t\t\tpoint = ! ~[_target_point.x, _target_point.y].indexOf(undefined) ? _target_point : _point;\n\t\n\t\t\t\tif (point) {\n\t\t\t\t\ttarget.css('transform', 'translateX(' + point.x + 'px) translateY(' + point.y + 'px)');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Removes the `TRANSLATED` CSS class name and CSS transform from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#untranslate\n\t  * @fires Entity#ui-untranslate\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\tthis.state('untranslate', '-TRANSLATED', {\n\t\t\twillSet: function willSet() {\n\t\t\t\tthis.css('transform', 'none');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.state('gate gated', '+GATED');\n\t});\n\t\n\texports['default'] = { Entity: Entity, invokeResponsibilities: invokeResponsibilities };\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 94 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports.__esModule = true;\n\t/**\n\t*  Screen\n\t*  @desc Contains...\n\t*  @proto Entity\n\t*/\n\t\n\tvar _typesEntity = __webpack_require__(93);\n\t\n\tvar Screen = _typesEntity.Entity.extend(function () {\n\t\n\t\tfunction attachBehaviorEvent() {\n\t\t\tthis.on('behavior', function (_event) {\n\t\t\t\t// console.log('SCREEN GOT', _event.targetScope.id(), _event.name);\n\t\n\t\t\t\tif (this !== _event.targetScope) {\n\t\t\t\t\t_typesEntity.invokeResponsibilities(this, _event);\n\t\t\t\t}\n\t\n\t\t\t\tthis.propagateBehavior(_event);\n\t\t\t});\n\t\t}\n\t\n\t\tthis.baseType = 'TYPE_SCREEN';\n\t\tthis.game = null;\n\t\tthis.screen = null;\n\t\n\t\tthis.__init = function () {\n\t\t\tthis.proto();\n\t\n\t\t\tif (this.is(pl.game.config('screenSelector'))) {\n\t\t\t\tattachBehaviorEvent.call(this);\n\t\t\t}\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tthis.startAudio();\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tthis.stopAudio();\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.pause = function () {\n\t\t\tthis.pauseMedia();\n\t\t\tif (this.hasOwnProperty('entities') && this.entities) {\n\t\t\t\tthis.entities.forEach(function (entity) {\n\t\t\t\t\tentity.pause();\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.resume = function () {\n\t\t\tthis.resumeMedia();\n\t\t\tif (this.hasOwnProperty('entities') && this.entities) {\n\t\t\t\tthis.entities.forEach(function (entity) {\n\t\t\t\t\tentity.resume();\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.startAudio = function () {\n\t\t\tif (!this.audio) return;\n\t\t\tthis.audio.background.play();\n\t\t\tthis.audio.voiceOver.play();\n\t\t};\n\t\n\t\tthis.stopAudio = function () {\n\t\t\tif (!this.audio) return;\n\t\t\tthis.audio.voiceOver.stop('@ALL');\n\t\t};\n\t\n\t\tthis.pauseMedia = function () {\n\t\t\tif (!this.currentMedia) return;\n\t\t\tfor (var media in this.currentMedia) {\n\t\t\t\tif (this.currentMedia.hasOwnProperty(media)) {\n\t\t\t\t\tif (this.currentMedia[media]) this.currentMedia[media].pause();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tthis.resumeMedia = function () {\n\t\t\tif (!this.currentMedia) return;\n\t\t\tfor (var media in this.currentMedia) {\n\t\t\t\tif (this.currentMedia.hasOwnProperty(media)) {\n\t\t\t\t\tif (this.currentMedia[media]) this.currentMedia[media].resume();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tthis.index = function () {\n\t\t\tif (this === this.screen) return this.game.screens.indexOf(this);\n\t\t\treturn this.$els.index();\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tif (!this.completed()) return false;\n\t\t\treturn this.game.screens[this.screen.index() + 1];\n\t\t};\n\t\n\t\tthis.prev = function () {\n\t\t\treturn this.game.screens[this.screen.index() - 1];\n\t\t};\n\t\n\t\tthis.quit = function () {\n\t\t\tthis.game.quit.open();\n\t\t};\n\t\n\t\tthis.nextSib = function () {\n\t\t\treturn $.fn.next.apply(this.$els, arguments);\n\t\t};\n\t\n\t\tthis.prevSib = function () {\n\t\t\treturn $.fn.prev.apply(this.$els, arguments);\n\t\t};\n\t\n\t\tthis.isLast = function () {\n\t\t\treturn this.game.screens.indexOf(this.screen) === this.game.screens.length - 1;\n\t\t};\n\t});\n\t\n\texports['default'] = Screen;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 95 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _Object$defineProperties = __webpack_require__(15)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Node scope for the top level game node.\n\t */\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _playGame = __webpack_require__(24);\n\t\n\tvar _playGame2 = _interopRequireDefault(_playGame);\n\t\n\tvar _typesGlobalScope = __webpack_require__(30);\n\t\n\tvar _typesGlobalScope2 = _interopRequireDefault(_typesGlobalScope);\n\t\n\tvar _typesScreen = __webpack_require__(94);\n\t\n\tvar _typesScreen2 = _interopRequireDefault(_typesScreen);\n\t\n\tvar _typesCollection = __webpack_require__(29);\n\t\n\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\n\tvar _typesScope = __webpack_require__(31);\n\t\n\tvar _typesDimensions = __webpack_require__(14);\n\t\n\tvar _typesAudioManager = __webpack_require__(42);\n\t\n\tvar Game = _typesGlobalScope2['default'].extend(function () {\n\t\n\t\tvar Viewport, screenPrototype, platformEventHandler;\n\t\n\t\t/**\n\t  * Detects the device and adds the appropriate state classes.\n\t  */\n\t\tfunction detechDevice() {\n\t\t\tvar deviceClasses = \"\";\n\t\n\t\t\tif (iOS()) deviceClasses += \"iOS \";\n\t\t\tif (mobileOrTablet()) deviceClasses += \"MOBILE \";\n\t\n\t\t\tthis.addClass(deviceClasses);\n\t\t}\n\t\n\t\tfunction iOS() {\n\t\t\tvar iDevices = ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod'];\n\t\n\t\t\tif (!!navigator.platform) {\n\t\t\t\twhile (iDevices.length) {\n\t\t\t\t\tif (navigator.platform === iDevices.pop()) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t}\n\t\n\t\tfunction mobileOrTablet() {\n\t\t\tvar check = false;\n\t\t\t(function (a) {\n\t\t\t\tif (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n\t\t\t})(navigator.userAgent || navigator.vendor || window.opera);\n\t\t\treturn check;\n\t\t}\n\t\n\t\t/**\n\t  * Scales the game view to fill the browser window.\n\t  */\n\t\tfunction scaleGame() {\n\t\t\tvar vpSize, gameDimensions, width, height, zoom;\n\t\n\t\t\tvpSize = this.viewport.size();\n\t\t\tgameDimensions = _playGame2['default'].config('dimensions');\n\t\t\twidth = gameDimensions.width || this.width();\n\t\t\theight = Math.round(gameDimensions.width / gameDimensions.ratio);\n\t\t\tzoom = this.viewport.width / width;\n\t\n\t\t\tif (Math.round(height * zoom) > this.viewport.height) {\n\t\t\t\tzoom = (this.viewport.height / height).toPrecision(4);\n\t\t\t}\n\t\n\t\t\t_util2['default'].mixin(this.node().style, {\n\t\t\t\twidth: width + 'px',\n\t\t\t\tzoom: zoom\n\t\t\t});\n\t\n\t\t\tif (!this.css('zoom')) {\n\t\t\t\tthis.css({\n\t\t\t\t\ttransform: 'scale(' + zoom + ')',\n\t\t\t\t\ttransformOrigin: (zoom < 1 ? '0px' : '50%') + ' 0px 0px',\n\t\t\t\t\theight: this.viewport.height / zoom\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tthis.zoom = zoom;\n\t\t}\n\t\n\t\tfunction demoMode(_set) {\n\t\t\tthis.demoMode = _set != null ? _set : !this.demoMode;\n\t\t\tthis[this.demoMode ? 'addClass' : 'removeClass']('DEMO');\n\t\n\t\t\tconsole.info(this.id(), 'is now ' + (this.demoMode ? 'in' : 'out of') + ' Demo Mode.');\n\t\t}\n\t\n\t\tfunction collectVideos() {\n\t\t\tthis.find('video').each((function (_index, _node) {\n\t\t\t\tthis.media.video.add(_node);\n\t\n\t\t\t\t_node.onplay = (function () {\n\t\t\t\t\tvar playing = this.media.playing('.background, .voiceOver');\n\t\t\t\t\tif (playing) playing.stop('@ALL');\n\t\t\t\t\tthis.log('video play', playing);\n\t\t\t\t}).bind(this);\n\t\t\t}).bind(this));\n\t\t}\n\t\n\t\tscreenPrototype = _typesScreen2['default'];\n\t\tplatformEventHandler = new function () {\n\t\n\t\t\tthis.invoke = function (_event, _ctx) {\n\t\t\t\tif (typeof this[_event.name] === 'function') {\n\t\t\t\t\tthis[_event.name].call(_ctx, _event);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis['toggle-demo-mode'] = function (_set) {\n\t\t\t\tdemoMode.call(this);\n\t\t\t};\n\t\t}();\n\t\n\t\tthis.baseType = 'TYPE_GAME';\n\t\tthis.screens = null;\n\t\tthis.zoom = 1;\n\t\tthis.keyCommands = null;\n\t\tthis.demoMode = false;\n\t\tthis.media = null;\n\t\tthis.viewport = new function () {\n\t\t\tvar vp, $html, RESIZE_HANDLERS;\n\t\n\t\t\tvp = this;\n\t\t\t$html = $('html');\n\t\t\tRESIZE_HANDLERS = [];\n\t\n\t\t\t$(window).on('resize', function (_event) {\n\t\t\t\tif (!$html.hasClass(vp.orientation)) {\n\t\t\t\t\t$html.removeClass('squareish landscape protrait').addClass(vp.orientation);\n\t\t\t\t}\n\t\n\t\t\t\tRESIZE_HANDLERS.forEach(function (_handler) {\n\t\t\t\t\t_handler(_event);\n\t\t\t\t});\n\t\t\t});\n\t\n\t\t\tthis.LANDSCAPE = 'landscape';\n\t\t\tthis.PROTRAIT = 'protrait';\n\t\t\tthis.SQUAREISH = 'squareish';\n\t\n\t\t\tthis.size = function () {\n\t\t\t\treturn _typesDimensions.Size.create().set(window.innerWidth, window.innerHeight);\n\t\t\t};\n\t\n\t\t\t_Object$defineProperties(this, {\n\t\t\t\twidth: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\treturn window.innerWidth;\n\t\t\t\t\t},\n\t\n\t\t\t\t\tconfigurable: false\n\t\t\t\t},\n\t\n\t\t\t\theight: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\treturn window.innerHeight;\n\t\t\t\t\t},\n\t\n\t\t\t\t\tconfigurable: false\n\t\t\t\t},\n\t\n\t\t\t\torientation: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\tvar ratio = this.size().ratio();\n\t\n\t\t\t\t\t\tswitch (true) {\n\t\t\t\t\t\t\tcase ratio > 0.9 && ratio < 1.1:\n\t\t\t\t\t\t\t\treturn 'squareish';\n\t\t\t\t\t\t\tcase ratio > 1.1:\n\t\t\t\t\t\t\t\treturn 'landscape';\n\t\t\t\t\t\t\tcase ratio < 0.9:\n\t\t\t\t\t\t\t\treturn 'protrait';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.onResize = function (_handler) {\n\t\t\t\tRESIZE_HANDLERS.push(_handler);\n\t\t\t};\n\t\n\t\t\tthis.offResize = function (_handler) {\n\t\t\t\tvar index = RESIZE_HANDLERS.indexOf(_handler);\n\t\n\t\t\t\tif (~index) RESIZE_HANDLERS.splice(index, 1);\n\t\t\t};\n\t\n\t\t\t$html.addClass(this.orientation);\n\t\t}();;\n\t\n\t\tthis.willInit = function () {\n\t\t\tthis.addClass('pl-game');\n\t\n\t\t\tdetechDevice.call(this);\n\t\t\tscaleGame.call(this);\n\t\t\tthis.watchAudio();\n\t\t\tthis.captureScreens();\n\t\n\t\t\tthis.viewport.onResize(this.bind(scaleGame));\n\t\n\t\t\tpl.game.on('platform-event', this.bind(function (_event) {\n\t\t\t\tplatformEventHandler.invoke(_event, this);\n\t\t\t}));\n\t\n\t\t\twindow.addEventListener('load', window.focus);\n\t\t\twindow.addEventListener('focus', (function () {\n\t\t\t\tthis.resume();\n\t\t\t}).bind(this));\n\t\t\twindow.addEventListener('blur', (function () {\n\t\t\t\tthis.pause();\n\t\t\t}).bind(this));\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Watch for specific keys or combination of keys. NOTE: meta key commands DO NOT support chords (i.e. meta+K,B).\n\t  * ### Key Names\n\t  * - *meta*: Command (aka Apple ⌘ or win)\n\t  * - *alt*: Alt (aka Option ⌥)\n\t  * - *shift*: Shift ⇪\n\t  * - *ctrl*: Control ^\n\t  * - *enter*: Enter or Return\n\t  * - *esc*: Escape\n\t  * - *left*: Left arrow\n\t  * - *up*: Up arrow\n\t  * - *right*: Right arrow\n\t  * - *down*: Down arrow\n\t  *\n\t  * ### Example\n\t  * ```javascript\n\t  * // Overriding print.\n\t  * this.game.onKeys('cmd+P', printHandler);\n\t  *\n\t  * // Holding Control and pressing \"K\" then \"B\"\n\t  * this.game.onKeys('ctrl+K,B', handler);\n\t  * ```\n\t  * @arg {string} _commands - The key or sequence of keys.\n\t  * @arg {function} _handler - Your event handler for when you key pattern is matched.\n\t  * @returns `this`\n\t  */\n\t\tthis.onKeys = function (_commands, _handler) {\n\t\t\tvar sequence, chords, modifiers, map;\n\t\n\t\t\tif (!this.keyCommands) {\n\t\t\t\tthis.keyCommands = {};\n\t\n\t\t\t\tmap = {\n\t\t\t\t\t13: 'enter',\n\t\t\t\t\t16: 'shift',\n\t\t\t\t\t17: 'ctrl',\n\t\t\t\t\t18: 'alt',\n\t\t\t\t\t27: 'esc',\n\t\t\t\t\t37: 'left',\n\t\t\t\t\t38: 'up',\n\t\t\t\t\t39: 'right',\n\t\t\t\t\t40: 'down',\n\t\t\t\t\t91: 'meta',\n\t\t\t\t\tenter: 13,\n\t\t\t\t\tshift: 16,\n\t\t\t\t\tctrl: 17,\n\t\t\t\t\talt: 18,\n\t\t\t\t\tesc: 27,\n\t\t\t\t\tleft: 37,\n\t\t\t\t\tup: 38,\n\t\t\t\t\tright: 39,\n\t\t\t\t\tdown: 40,\n\t\t\t\t\tmeta: 91\n\t\t\t\t};\n\t\n\t\t\t\tmodifiers = [16, 17, 18, 91];\n\t\t\t\tsequence = [];\n\t\t\t\tchords = [];\n\t\n\t\t\t\tthis.on('keydown', function (_event) {\n\t\t\t\t\tvar modifier, key, eventMods, currentMods, command, handler;\n\t\n\t\t\t\t\tmodifier = !! ~modifiers.indexOf(_event.keyCode) && map[_event.keyCode];\n\t\t\t\t\tkey = modifier ? modifier : map[_event.keyCode] || String.fromCharCode(_event.keyCode);\n\t\t\t\t\teventMods = [_event.shiftKey, _event.ctrlKey, _event.altKey, _event.metaKey];\n\t\t\t\t\tcurrentMods = [];\n\t\n\t\t\t\t\t// Collect the modifiers the event says are still down.\n\t\t\t\t\teventMods.forEach(function (_modifierDown, _index) {\n\t\t\t\t\t\t// use the modifier name\n\t\t\t\t\t\tif (_modifierDown) currentMods.push(map[modifiers[_index]]);\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// Don't add keys we already have during rapid-fire events\n\t\t\t\t\tif (~chords.indexOf(key) || ~sequence.indexOf(key)) return;\n\t\n\t\t\t\t\t// Construct the command\n\t\t\t\t\tcommand = chords.length ? (chords.push(key), chords.join(',')) : (sequence.push(key), sequence.join('+'));\n\t\n\t\t\t\t\thandler = this.keyCommands[command];\n\t\n\t\t\t\t\tif (handler) {\n\t\t\t\t\t\thandler.call(this, _event, command);\n\t\t\t\t\t\t// Keep current modifiers.\n\t\t\t\t\t\tsequence = currentMods.map(function (_key, _index) {\n\t\t\t\t\t\t\tvar key = sequence[_index];\n\t\t\t\t\t\t\treturn currentMods[currentMods.indexOf(key)];\n\t\t\t\t\t\t});\n\t\t\t\t\t\tchords = [];\n\t\n\t\t\t\t\t\t// Override original key command (i.e. meta+Q).\n\t\t\t\t\t\t_event.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tthis.on('keyup', function (_event) {\n\t\t\t\t\tvar key, index, modifier, eventMods, currentMods;\n\t\n\t\t\t\t\tkey = modifier ? modifier : map[_event.keyCode] || String.fromCharCode(_event.keyCode);\n\t\t\t\t\tindex = sequence.indexOf(key);\n\t\t\t\t\tmodifier = !! ~modifiers.indexOf(_event.keyCode) && map[_event.keyCode];\n\t\t\t\t\t// Follows the same index order as \"modifiers\" [16, 17, 18, 91]\n\t\t\t\t\teventMods = [_event.shiftKey, _event.ctrlKey, _event.altKey, _event.metaKey];\n\t\t\t\t\tcurrentMods = [];\n\t\n\t\t\t\t\t// Collect the modifiers the event says are still down.\n\t\t\t\t\teventMods.forEach(function (_modifierDown, _index) {\n\t\t\t\t\t\t// use the modifier name\n\t\t\t\t\t\tif (_modifierDown) currentMods.push(map[modifiers[_index]]);\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// If the key released is a modifier...\n\t\t\t\t\tif (key === modifier) {\n\t\t\t\t\t\t// ...keep current modifiers...\n\t\t\t\t\t\tsequence = currentMods.map(function (_key, _index) {\n\t\t\t\t\t\t\tvar key = sequence[_index];\n\t\t\t\t\t\t\treturn currentMods[currentMods.indexOf(key)];\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// ...clear registered chords.\n\t\t\t\t\t\tchords = [];\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// If we had pressed more than one key...\n\t\t\t\t\t\tif (sequence.length > 1) {\n\t\t\t\t\t\t\t// Check if the first is a modifier then switch to chord capturing\n\t\t\t\t\t\t\tif (~modifiers.indexOf(map[sequence[0]])) {\n\t\t\t\t\t\t\t\tchords.push(sequence.join('+'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (~index) sequence.splice(index, 1);\n\t\t\t\t\t\tif (!sequence.length) chords = [];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tthis.keyCommands[_commands] = _handler;\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.screen = function (_id, _implementation) {\n\t\t\tvar prototype, selector, screenSelector, instance;\n\t\n\t\t\tif (arguments.length === 1 && typeof _id === 'function') {\n\t\t\t\tscreenPrototype = _typesScreen2['default'].extend(_id);\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\tif (!this.hasOwnProperty('screens')) this.screens = _typesCollection2['default'].create();\n\t\n\t\t\tif (this.hasOwnProperty('$els')) {\n\t\t\t\tdebugger;\n\t\t\t\tscreenSelector = pl.game.config('screenSelector');\n\t\t\t\tprototype = screenPrototype.isPrototypeOf(this) ? this : screenPrototype;\n\t\t\t\tselector = typeof _id === 'number' ? screenSelector + ':nth-child(' + (_id + 1) + ')' : '#' + _id;\n\t\t\t\tinstance = prototype.extend(_implementation).initialize(this.find(selector));\n\t\n\t\t\t\tinstance.screen = instance;\n\t\t\t\tif (!instance.game) {\n\t\t\t\t\tinstance.game = instance.closest('.pl-game').scope();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.screens.push({\n\t\t\t\t\tindex: typeof _id === 'number' ? _id : null,\n\t\t\t\t\tname: typeof _id === 'string' ? _id : null,\n\t\t\t\t\timplementation: _implementation\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.captureScreens = function () {\n\t\t\tvar screenSelector, prototype, collection;\n\t\n\t\t\tscreenSelector = pl.game.config('screenSelector');\n\t\t\tprototype = screenPrototype.isPrototypeOf(this) ? this : screenPrototype;\n\t\t\tcollection = [];\n\t\n\t\t\tthis.findOwn(screenSelector).each(this.bind(function (_index, _node) {\n\t\t\t\tvar $node, screen, record, key, id, index, component;\n\t\n\t\t\t\t$node = $(_node);\n\t\t\t\tid = $node.id();\n\t\t\t\tkey = id ? 'name' : (id = _index, 'index');\n\t\t\t\trecord = this.screens && this.screens.get(id, key);\n\t\t\t\tcomponent = $node.attr('pl-component');\n\t\t\t\tscreen = _typesScope.createEntity.call(prototype, $node, record && record.implementation);\n\t\t\t\tscreen.screen = screen;\n\t\t\t\tscreen.game = this;\n\t\n\t\t\t\tif ($node.attr('pl-skip') == null) collection.push(screen);\n\t\n\t\t\t\tif (key === 'name' || component) {\n\t\t\t\t\t_util2['default'].assignRef(this, _util2['default'].transformId(key === 'name' && id || component, true), screen);\n\t\t\t\t}\n\t\t\t}));\n\t\n\t\t\tif (collection.length) this.screens = collection;\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.watchAudio = function () {\n\t\t\tthis.media = _typesAudioManager.MediaManager.create(this.id());\n\t\n\t\t\t/**\n\t   * Prevent duplicate playback of voiceOvers and backgrounds.\n\t   */\n\t\t\tthis.media.rule('.background, .voiceOver', 'shouldPlay', function (_event) {\n\t\t\t\tvar playing = this.playing() || [];\n\t\t\t\t// shouldPlay = false if _event.target is already playing.\n\t\t\t\t_event.response(!playing || !playing.length || ! ~playing.indexOf(_event.target) && !playing.has(_event.target.fileName));\n\t\t\t});\n\t\n\t\t\t/**\n\t   * \n\t   */\n\t\t\tthis.media.rule('.voiceOver', function (_event) {\n\t\t\t\tvar audio, playing;\n\t\n\t\t\t\taudio = _event.target;\n\t\t\t\tplaying = audio && this.playing('.audio:not(#' + audio.id() + ')');\n\t\n\t\t\t\tswitch (_event.type) {\n\t\t\t\t\tcase 'play':\n\t\t\t\t\t\tif (playing) {\n\t\t\t\t\t\t\tplaying.filter('.voiceOver').stop('@ALL');\n\t\t\t\t\t\t\tplaying.filter('.background').volume(_playGame2['default'].config('bgVolume.drop') || 0.2);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'pause':\n\t\t\t\t\tcase 'stopped':\n\t\t\t\t\tcase 'ended':\n\t\t\t\t\t\tif (playing) playing.filter('.background').volume(_playGame2['default'].config('bgVolume.max') || 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.media.rule('.background', 'play', function (_event) {\n\t\t\t\tvar playing = this.playing('.background:not(#' + _event.target.id() + ')');\n\t\t\t\tif (playing) playing.stop('@ALL');\n\t\t\t});\n\t\n\t\t\tif (~pl.EVENT.ACTION.indexOf('touch')) {\n\t\t\t\tthis.on(pl.EVENT.ACTION, function beginAudio(_event) {\n\t\t\t\t\tvar ctx, screen;\n\t\n\t\t\t\t\tctx = _playGame2['default'].getAudioContext();\n\t\t\t\t\tscreen = this.currentScreen();\n\t\n\t\t\t\t\tif (screen && ctx && ctx.state === 'suspended') {\n\t\t\t\t\t\t_playGame2['default'].enableAudioContext();\n\t\t\t\t\t\tthis.log('awesome!');\n\t\t\t\t\t\tscreen.startAudio();\n\t\t\t\t\t\tthis.off(pl.EVENT.ACTION, beginAudio);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tcollectVideos.call(this);\n\t\t};\n\t\n\t\tthis.progress = function () {\n\t\t\treturn {\n\t\t\t\tcurrentScreen: this.currentScreen().index()\n\t\t\t};\n\t\t};\n\t\n\t\tthis.currentScreen = function () {\n\t\t\treturn this.findOwn(pl.game.config('screenSelector') + '.OPEN').not('#quit').scope();\n\t\t};\n\t\n\t\tthis.flip = function () {\n\t\t\tconsole.log('THATS A FLIP!');\n\t\t\t_playGame2['default'].report.flip(this);\n\t\t};\n\t\n\t\tthis.pause = function (quitScreen) {\n\t\t\tif (!quitScreen) this.addClass('PAUSED');\n\t\t\tthis.screens.forEach(function (screen) {\n\t\t\t\tif (screen.state(screen.STATE.OPEN)) {\n\t\t\t\t\tscreen.pause();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_playGame2['default'].getAudioContext().suspend();\n\t\t};\n\t\n\t\tthis.resume = function () {\n\t\t\tthis.removeClass('PAUSED');\n\t\t\tthis.screens.forEach(function (screen) {\n\t\t\t\tif (screen.state(screen.STATE.OPEN)) screen.resume();\n\t\t\t});\n\t\t\tif (!this.hasClass('QUIT-SCREEN')) _playGame2['default'].getAudioContext().resume();\n\t\t};\n\t\n\t\tthis.exit = function () {\n\t\t\tconsole.log('GOODBYE!');\n\t\t\t_playGame2['default'].report.exit(this);\n\t\t};\n\t\n\t\t/**\n\t  * Demo mode key command\n\t  */\n\t\tthis.onKeys('ctrl+D,M', function () {\n\t\t\tdemoMode.call(this);\n\t\t});\n\t\n\t\t/**\n\t  * Keyboard screen navigation\n\t  */\n\t\tthis.onKeys('left', function () {\n\t\t\tvar current;\n\t\n\t\t\tcurrent = this.currentScreen();\n\t\n\t\t\tif (current) current.prev();\n\t\t});\n\t\n\t\tthis.onKeys('right', function () {\n\t\t\tvar current;\n\t\n\t\t\tcurrent = this.currentScreen();\n\t\n\t\t\tif (current) current.next();\n\t\t});\n\t});\n\t\n\texports['default'] = Game;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 96 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * API for communicaion between a game and the platform.\n\t *\n\t * @module\n\t */\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar platform = new function () {\n\t\n\t\tfunction createEvent(_name, _props) {\n\t\t\tvar eventObject;\n\t\n\t\t\teventObject = _util2['default'].mixin(new Event('game-event', { bubbles: true, cancelable: false }), {\n\t\t\t\tname: _name,\n\t\t\t\trespond: function respond(_data) {\n\t\t\t\t\tvar platformEvent;\n\t\n\t\t\t\t\tplatformEvent = $.Event('platform-event', {\n\t\t\t\t\t\tname: _name,\n\t\t\t\t\t\tgameData: _data\n\t\t\t\t\t});\n\t\n\t\t\t\t\tpl.game.trigger(platformEvent);\n\t\t\t\t}\n\t\t\t}, _props);\n\t\n\t\t\treturn eventObject;\n\t\t}\n\t\n\t\tthis.EVENT_INIT = 'init';\n\t\tthis.EVENT_SAVE = 'save';\n\t\tthis.EVENT_EXIT = 'exit';\n\t\tthis.EVENT_FLIPPED = 'flipped';\n\t\n\t\tthis.emit = function (_name) {\n\t\t\tif (window.frameElement) window.frameElement.dispatchEvent(createEvent(_name));\n\t\t};\n\t\n\t\tthis.saveGameState = function (_data) {\n\t\t\tif (window.frameElement) window.frameElement.dispatchEvent(createEvent(this.EVENT_SAVE, { gameData: _data }));\n\t\t};\n\t\n\t\twindow.addEventListener('platform-event', function (_event) {\n\t\t\tvar platformEvent;\n\t\n\t\t\tplatformEvent = $.Event('platform-event', {\n\t\t\t\tname: _event.name\n\t\t\t});\n\t\n\t\t\tpl.game.trigger(platformEvent);\n\t\t});\n\t}();\n\t\n\texports['default'] = platform;\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ]);\n//# sourceMappingURL=play.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/adamwalzer/Sites/js-interactive-library/build/play.js\n ** module id = 18\n ** module chunks = 0\n **/"],"sourceRoot":""}