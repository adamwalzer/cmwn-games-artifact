{"version":3,"sources":["webpack:///meerkat-mania/ai.js","webpack:///webpack/bootstrap f76ffdf00a44ee119b42","webpack:///./meerkat-mania/source/js/components/reveal/behavior.js","webpack:///./meerkat-mania/source/js/components/screen-basic/behavior.js","webpack:///./meerkat-mania/source/js/components/screen-quit/behavior.js","webpack:///./meerkat-mania/source/js/components/selectable-canvas/behavior.js","webpack:///./meerkat-mania/source/js/components/selectable/behavior.js","webpack:///./meerkat-mania/source/js/components/title/behavior.js","webpack:///./meerkat-mania/source/js/components/video/behavior.js","webpack:///./meerkat-mania/source/js/config.game.js","webpack:///./meerkat-mania/source/js/index.js","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","pl","game","component","this","item","_id","vo","index","close","find","open","eq","screen","currentVO","audio","voiceOver","play","behavior","state","STATE","VOICE_OVER","demoMode","sfx","removeClass","playSound","_sound","delay","$sound","$","attr","type","currentSFX","bind","on","_event","rule","response","target","config","OPEN","start","next","nextScreen","buttonSound","proto","util","resolvePath","leave","prev","prevScreen","entities","hasOwnProperty","startAudio","forEach","_entity","background","stop","stopAudio","kill","isReady","targetScope","off","properties","gameClass","addClass","requiredQueue","length","complete","button","LEAVE","pause","resume","init","okay","exit","cancel","SELECTOR","CORRECT","INCORRECT","buffer","bctx","items","document","createElement","getContext","ready","correct","$items","Queue","create","width","$els","height","map","_index","_node","$node","is","add","toArray","isImageTarget","_$image","_point","_offset","_scale","offset","clearRect","drawImage","left","top","pixel","getImageData","x","y","fillStyle","fillRect","data","_cursor","cursor","scale","returnValue","transformScale","absolutePosition","event","zoom","dec","math","every","_$item","message","parent","behaviorTarget","deactivateAll","deactivate","getActive","unhighlightAll","unhighlight","getHighlighted","_target","$target","closest","shouldSelect","video","bgSound","isComplete","screenSelector","componentDirectory","dimensions","ratio","shouldLoadComponentStyles","title","iosSplash","READY","splash","respond","Number","isInteger","highlight","selectableCanvas","activate","reveal","didClose","entity","setTimeout","selectable","_ended","stateMethod","selectState","quit","flip","eventCategory","join","ga","findOwn","scope","i","s","o","g","r","a","q","push","arguments","l","Date","getElementsByTagName","async","src","parentNode","insertBefore","window","_e","loader","hasClass","ball","startGame","test","_env","location","href","domain"],"mappings":"CAAS,SAAUA,SCInB,QAAAC,qBAAAC,UAGA,GAAAC,iBAAAD,UACA,MAAAC,kBAAAD,UAAAE,OAGA,IAAAC,QAAAF,iBAAAD,WACAE,WACAE,GAAAJ,SACAK,QAAA,EAUA,OANAP,SAAAE,UAAAM,KAAAH,OAAAD,QAAAC,cAAAD,QAAAH,qBAGAI,OAAAE,QAAA,EAGAF,OAAAD,QAvBA,GAAAD,oBAqCA,OATAF,qBAAAQ,EAAAT,QAGAC,oBAAAS,EAAAP,iBAGAF,oBAAAU,EAAA,UAGAV,oBAAA,KDMM,SAASI,OAAQD,QAASH,qBAE/BI,OAAOD,QAAUH,oBAAoB,IAKhC,SAASI,OAAQD,SEnDvBQ,GAAGC,KAAKC,UAAU,SAAU,WAE3BC,KAAKC,KAAO,SAAUC,KACrB,GAAIC,IAAIC,KAERJ,MAAKK,MAAML,KAAKM,KAAK,YAEF,gBAARJ,MACVF,KAAKO,KAAKP,KAAKM,KAAK,MAAME,GAAGN,MAC7BF,KAAKS,OAAOC,UAAYV,KAAKW,MAAMC,UAAUV,KAC7CF,KAAKW,MAAMC,UAAUV,KAAKW,QAGH,gBAARX,MACXF,KAAKE,OACRF,KAAKO,KAAKP,KAAKE,MAEXF,KAAKW,QACRP,MAAQJ,KAAKE,KAAKE,QAClBD,GAAKH,KAAKW,MAAMC,UAAUV,MAAQF,KAAKW,MAAMC,UAAUR,OAEnDD,KACHH,KAAKS,OAAOC,UAAYP,GACxBA,GAAGU,WAORb,KAAKc,SAAS,WAAY,WACzB,OAAId,KAAKS,OAAOM,MAAMf,KAAKgB,MAAMC,aAAejB,KAAKF,KAAKoB,UACtDlB,KAAKF,KAAKa,MAAMQ,IAAId,OAAOL,KAAKF,KAAKa,MAAMQ,IAAId,MAAMQ,OACxDb,KAAKM,KAAK,WAAWc,YAAY,SAC1B,IAED,OFyDH,SAAS9B,OAAQD,SG7FvBQ,GAAGC,KAAKC,UAAU,eAAgB,WAEjCC,KAAKqB,UAAY,SAASC,QACzB,GAAIC,OAAOC,MAEX,IAAIF,OAUJ,MARAE,QAASC,EAAEH,QACXC,MAAQC,OAAOE,KAAK,YACD,cAAhBJ,OAAOK,KACT3B,KAAKU,UAAYY,OACQ,QAAhBA,OAAOK,OAChB3B,KAAK4B,WAAaN,QAGfC,MACIvB,KAAKuB,MAAMA,MAAOD,OAAOT,KAAKgB,KAAKP,SAEnCA,OAAOT,QAIhBb,KAAK8B,GAAG,QAAS,SAAUC,QACtB/B,KAAKW,OACRX,KAAKW,MAAMqB,KAAK,aAAc,aAAc,SAAUD,QACrDA,OAAOE,UAAUF,OAAOG,OAAOC,OAAO,mBAIrCnC,KAAKe,MAAMf,KAAKgB,MAAMoB,OAAOpC,KAAKqC,UAGtCrC,KAAKsC,KAAO,WACX,GAAIC,YAAYC,WAWhB,OATAD,YAAavC,KAAKyC,QAClBD,YAAc3C,GAAG6C,KAAKC,YAAY3C,KAAM,yBAEpCuC,aACHvC,KAAK4C,QACLL,WAAWhC,OACPiC,aAAaA,YAAY3B,QAGvB0B,YAGRvC,KAAK6C,KAAO,WACX,GAAIC,YAAYN,WAWhB,OATAM,YAAa9C,KAAKyC,QAClBD,YAAc3C,GAAG6C,KAAKC,YAAY3C,KAAM,yBAEpC8C,aACH9C,KAAKS,OAAOJ,QACZyC,WAAWvC,OACPiC,aAAaA,YAAY3B,QAGvBiC,YAGR9C,KAAKqC,MAAQ,WACZ,GAAIU,UAAW/C,KAAKgD,eAAe,aAAehD,KAAK+C,QAavD,OAXI/C,MAAKW,QACRX,KAAKiD,aACLjD,KAAKqB,UAAUrB,KAAKW,MAAMQ,IAAIkB,QAG3BU,UACHA,SAASG,QAAQ,SAAUC,SACtBA,QAAQH,eAAe,UAAUG,QAAQd,UAIxCrC,MAGRA,KAAKiD,WAAa,WACZjD,KAAKW,QACVX,KAAKW,MAAMyC,WAAWvC,OACtBb,KAAKqB,UAAUrB,KAAKW,MAAMC,aAG3BZ,KAAKqD,KAAO,WACX,GAAIN,UAAW/C,KAAKgD,eAAe,aAAehD,KAAK+C,QAWvD,OATA/C,MAAKsD,YACLtD,KAAKuD,KAAK,SAENR,UACHA,SAASG,QAAQ,SAAUC,SACtBA,QAAQH,eAAe,UAAUG,QAAQE,SAIxCrD,MAGRA,KAAKsD,UAAY,WACXtD,KAAKW,QACPX,KAAKU,WAAWV,KAAKU,UAAU2C,OAC/BrD,KAAK4B,YAAY5B,KAAK4B,WAAWyB,SAGrCrD,KAAK8B,GAAG,UAAW,SAAUC,QACxB/B,KAAKwD,SAAWxD,OAAS+B,OAAO0B,aACnCzD,KAAK8B,GAAG,gBAAiB,WACxB9B,KAAKqC,QACLrC,KAAK0D,IAAI,kBACR7B,KAAK7B,OAGLA,KAAK2D,WAAWC,WAClB5D,KAAKF,KAAK+D,SAAS7D,KAAK2D,WAAWC,aAG/B5D,KAAK8D,eAAkB9D,KAAKgD,eAAe,mBAAqBhD,KAAK8D,cAAcC,SACvF/D,KAAKgE,aAIPhE,KAAK8B,GAAG,WAAY,SAAUC,QAC1B/B,KAAK2D,WAAWC,WAClB5D,KAAKF,KAAKsB,YAAYpB,KAAK2D,WAAWC,WAGnC5D,KAAKwD,SAAWxD,OAAS+B,OAAO0B,aACnCzD,KAAKqD,SAIPrD,KAAK8B,GAAG,WAAY,SAAUC,QAC1B/B,KAAK2D,WAAWC,WAClB5D,KAAKF,KAAKsB,YAAYpB,KAAK2D,WAAWC,WAGnC5D,KAAKwD,SAAWxD,OAAS+B,OAAO0B,aACnCzD,KAAKqD,YHsGF,SAAS/D,OAAQD,SIjPvBQ,GAAGC,KAAKC,UAAU,cAAe,WAEhCC,KAAKwC,YAAc,WACfxC,KAAKF,KAAKa,MAAMQ,IAAI8C,QAAQjE,KAAKF,KAAKa,MAAMQ,IAAI8C,OAAOpD,QAI3Db,KAAK8B,GAAG,gBAAiB,SAAUC,QAC9B/B,KAAKe,MAAMf,KAAKgB,MAAMkD,QACzBlE,KAAK6D,SAAS,eAIhB7D,KAAK8B,GAAG,UAAW,SAAUC,QAC5B/B,KAAKwC,cACLxC,KAAKF,KAAK+D,SAAS,eACnB7D,KAAKoB,YAAY,aACjBpB,KAAKF,KAAKqE,OAAM,KAGjBnE,KAAK8B,GAAG,WAAY,WACnB9B,KAAKF,KAAKsB,YAAY,eACtBpB,KAAKF,KAAKsE,WAGXpE,KAAKqE,KAAO,WACXrE,KAAK6D,SAAS,oBAGf7D,KAAKsE,KAAO,WACXtE,KAAKwC,cACLxC,KAAKF,KAAKyE,QAGXvE,KAAKwE,OAAS,WACbxE,KAAKwC,cACLxC,KAAK4C,YJyPD,SAAStD,OAAQD,SK7RvBQ,GAAGC,KAAKC,UAAU,oBAAqB,WAEtC,GAAI0E,SAEJA,WACCC,QAAS,eACTC,UAAW,kBAGZ3E,KAAK4E,OAAS,KACd5E,KAAK6E,KAAO,KACZ7E,KAAK8E,MAAQ,KAEb9E,KAAKe,MAAM,kBAAmB,WAE9Bf,KAAKe,MAAM,aAAc,WAEzBf,KAAKqE,KAAO,WACXrE,KAAK4E,OAASG,SAASC,cAAc,UACrChF,KAAK6E,KAAO7E,KAAK4E,OAAOK,WAAW,OAGpCjF,KAAKkF,MAAQ,WACZ,GAAIC,SAASC,MAEbD,SAAUtF,GAAGwF,MAAMC,SAEnBH,QAAQrD,GAAG,WAAY9B,KAAK6B,KAAK,WAChC7B,KAAKgE,cAGNhE,KAAK4E,OAAOW,MAAQvF,KAAKwF,KAAKD,QAC9BvF,KAAK4E,OAAOa,OAASzF,KAAKwF,KAAKC,SAE/BL,OAASpF,KAAKM,KAAK,UAEnBN,KAAK8E,MAAQM,OACXM,IAAI,SAAUC,OAAQC,OACtB,GAAIC,MAMJ,OAJAA,OAAQpE,EAAEmE,OAENC,MAAMC,GAAGrB,SAASC,UAAUS,QAAQY,IAAIJ,QAErCE,QAEPG,UAEFhG,KAAK8E,MAAMK,QAAUA,SAGtBnF,KAAKiG,cAAgB,SAAUC,QAASC,OAAQC,QAASC,QACxD,GAAIC,QAASJ,QAAQI,QAUrB,OARAtG,MAAK6E,KAAK0B,UAAU,EAAG,EAAGvG,KAAK4E,OAAOW,MAAOvF,KAAK4E,OAAOa,QACzDzF,KAAK6E,KAAK2B,UAAUN,QAAQ,GAAII,OAAOG,KAAKJ,OAASD,QAAQ,GAAIE,OAAOI,IAAIL,OAASD,QAAQ,GAAIF,QAAQX,QAASW,QAAQT,UAC1HkB,MAAQ3G,KAAK6E,KAAK+B,aAAaT,OAAOU,EAAGV,OAAOW,EAAG,EAAE,GAErD9G,KAAK6E,KAAKkC,UAAY,QACtB/G,KAAK6E,KAAKmC,SAASb,OAAOU,EAAGV,OAAOW,EAAG,EAAE,GAGlCH,MAAMM,KAAK,GAAK,GAGxBjH,KAAKc,SAAS,SAAU,SAAUoG,SACjC,GAAIZ,QAAQa,OAAQC,MAAOC,aAAc,CAqBzC,OAnBAD,OAAQpH,KAAKF,KAAKwH,iBAAiBT,EACnCP,OAAStG,KAAKwF,KAAK+B,mBAAmBH,MAAM,EAAEA,OAC9CD,OAASnH,KAAKwH,MAAML,OAClBC,MAAM,EAAEpH,KAAKF,KAAK2H,MAClBC,IAAIpB,QACJqB,KAAK,SAEP3H,KAAK8E,MAAM8C,MAAM5H,KAAK6B,KAAK,SAAUgG,QACpC,MAAI7H,MAAKiG,cAAc4B,OAAQV,OAAQb,OAAQc,QAC9CC,aACCS,QAASD,OAAOE,SAAS3H,QACzB4H,eAAgBH,OAAOE,WAEjB,IAGD,KAGDV,cAGRrH,KAAKiI,cAAgB,WACpBjI,KAAKkI,WAAWlI,KAAKmI,cAGtBnI,KAAKoI,eAAiB,WACrBpI,KAAKqI,YAAYrI,KAAKsI,sBLmSlB,SAAShJ,OAAQD,SMlYvBQ,GAAGC,KAAKC,UAAU,aAAc,WAE/BC,KAAKc,SAAS,SAAU,SAAUyH,SACjC,GAAIC,QAEJ,IAAIxI,KAAKwH,OAGR,GAFAgB,QAAU/G,EAAEzB,KAAKwH,MAAMtF,QAAQuG,QAAQ,MAEnCzI,KAAK0I,aAAaF,YAAa,EAClC,OACCV,QAASU,QAAQpI,QACjB4H,eAAgBQ,aAMlBxI,MAAKyC,MAAM8F,QAGZ,QAAO,IAGRvI,KAAK0I,aAAe,SAAUH,SAC7B,OAAQvI,KAAKS,OAAOM,MAAMf,KAAKS,OAAOO,MAAMC,gBNwYxC,SAAS3B,OAAQD,SOhavBQ,GAAGC,KAAKC,UAAU,QAAS,WAE1BC,KAAKkF,MAAQ,WACZlF,KAAKO,OACLP,KAAKW,MAAMyC,WAAWvC,OACtBb,KAAKuB,MAAM,KAAM,WAEhBvB,KAAKgE,iBPyaF,SAAS1E,OAAQD,SQhbvBQ,GAAGC,KAAKC,UAAU,QAAS,WAE1BC,KAAKqC,MAAQ,WACZrC,KAAK2I,MAAM7G,GAAG,QAAS,WACtB9B,KAAKS,OAAOuD,YACXnC,KAAK7B,OACJA,KAAKF,KAAK8I,SAAS5I,KAAKF,KAAK8I,QAAQzE,QACxCnE,KAAK2I,MAAM,GAAG9H,QAGfb,KAAKmE,MAAQ,WACZnE,KAAK2I,MAAM,GAAGxE,SAGfnE,KAAKoE,OAAS,WACVpE,KAAK6I,YACR7I,KAAK2I,MAAM,GAAG9H,WRwbV,SAASvB,OAAQD,SSxcvBQ,GAAGC,KAAKqC,QACP2G,eAAgB,UAChBC,mBAAoB,cACpBC,YACCzD,MAAO,IACP0D,MAAO,GAAG,GAEXC,2BAA2B,KT+ctB,SAAS5J,OAAQD,QAASH,qBAS/BA,oBUzdM,GV2dNA,oBUzdM,IV2dNA,oBU1dM,GV4dNA,oBU3dM,GV6dNA,oBU5dM,GV8dNA,oBU7dM,GV+dNA,oBU9dM,GVgeNA,oBU/dM,GVieNA,oBUheM,GVkeNA,oBUheM,IVkeNA,oBUjeM,IAEPW,GAAGC,KAAK,gBAAiB,WAExBE,KAAKS,OAAO,QAAS,WAEpBT,KAAK8B,GAAG,UAAW,SAAUC,QACxB/B,OAAS+B,OAAO0B,aACnBzD,KAAKmJ,MAAM9G,UAIbrC,KAAK8B,GAAG,QAAS,SAASC,QACrB/B,KAAK8F,GAAG/D,OAAOG,SAEhBlC,KAAKF,KAAKsJ,UAAUrI,MAAMf,KAAKgB,MAAMqI,QAAQrJ,KAAKF,KAAKsJ,UAAUE,WAGrEtJ,KAAKiD,WAAa,WACjBjD,KAAKmJ,MAAMxI,MAAMyC,WAAWvC,OAC5Bb,KAAKmJ,MAAMxI,MAAMC,UAAUC,QAG5Bb,KAAKsD,UAAY,WAChBtD,KAAKmJ,MAAMxI,MAAMC,UAAUyC,KAAK,WAKlCrD,KAAKS,OAAO,QAAS,WAEpBT,KAAKuJ,QAAQ,SAAU,SAAUxH,QAChC,GAAI3B,OAAQ2B,OAAO+F,OAEf0B,QAAOC,UAAUrJ,SAAWA,QAC/BJ,KAAK0J,UAAU3H,OAAOiG,gBACtBhI,KAAK2J,iBAAiBC,SAAS7H,OAAOiG,gBACtChI,KAAK6J,OAAO5J,KAAKG,UAKnBJ,KAAKuJ,QAAQ,WAAY,SAASO,UAC9BA,UAAU9J,KAAK2J,iBAAiB1B,kBAGpCjI,KAAK+J,OAAO,oBAAqB,WAChC/J,KAAKqC,MAAQ,WACZrC,KAAKkF,QACLlF,KAAKiI,gBACLjI,KAAKoI,iBACLpI,KAAK6J,OAAO5J,KAAK,QAKpBD,KAAKS,OAAO,QAAS,WACpBT,KAAK8B,GAAG,UAAW,WAClBkI,WAAW,WACVhK,KAAK2I,MAAMtG,SACVR,KAAK7B,MAAO,OAGfA,KAAK8B,GAAG,WAAY,WACnB9B,KAAK2I,MAAMxE,QACRnE,KAAKF,KAAK8I,SAAS5I,KAAKF,KAAK8I,QAAQ/H,WAI1Cb,KAAKS,OAAO,OAAQ,WAEnBT,KAAK8B,GAAG,QAAS,SAAUC,QACrB/B,KAAK8F,GAAG/D,OAAOG,SAEpBlC,KAAKiK,WAAWtJ,MAAMC,UAAUkB,GAAG,QAAS,SAAUoI,QACrDlK,KAAKgE,YACJnC,KAAK7B,KAAKiK,eAGbjK,KAAKuJ,QAAQ,SAAU,SAAUxH,QAChC,GAAI3B,OAAO+J,WAEX/J,OAAQ2B,OAAO+F,QACfqC,YAAcnK,KAAK2D,WAAWyG,aAAe,UAExChK,QACJJ,KAAKmK,aAAapI,OAAOiG,gBACzBhI,KAAKW,MAAMQ,IAAIN,KAAK,WACpBb,KAAKiK,WAAWtJ,MAAMC,UAAUC,KAAKT,YAQxCJ,KAAKS,OAAO,OAAQ,WACnBT,KAAKsC,KAAO,WACXtC,KAAKF,KAAKuK,KAAK/F,QAGhBtE,KAAK8B,GAAG,UAAW,WAClB9B,KAAKuB,MAAM,OAAQ,WACfvB,KAAKW,MAAMQ,IAAImJ,MAAQtK,KAAKe,MAAMf,KAAKgB,MAAMoB,OAAOpC,KAAKW,MAAMQ,IAAImJ,KAAKzJ,WAI7Eb,KAAKgE,SAAW,SAAUjC,QACzB,GAAIwI,gBAAkB,OAAQvK,KAAKF,KAAKP,KAAMS,KAAKT,KAAK,KAAKS,KAAKI,QAAQ,GAAG,KAAMoK,KAAK,IAIxF,OAFAC,IAAG,OAAQ,QAASF,cAAe,YAE5BvK,KAAKyC,WAQdzC,KAAKuE,KAAO,WACX,GAAI9D,QAAQ8J,aAOZ,OALA9J,QAAST,KAAK0K,QAAQ7K,GAAGC,KAAKqC,OAAO,kBAAkB,oBAAoBwI,QAC3EJ,eAAkB,OAAQvK,KAAKT,KAAMkB,OAAOlB,KAAK,KAAKkB,OAAOL,QAAQ,GAAG,KAAMoK,KAAK,KAEnFC,GAAG,OAAQ,QAASF,cAAe,QAE5BvK,KAAKyC,YVseR,SAASnD,OAAQD,UWxnBvB,SAAUuL,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEvL,GAAGkL,EAAyB,sBAAEI,EAAEJ,EAAEI,GAAGJ,EAAEI,IAAI,YAChEJ,EAAEI,GAAGE,EAAEN,EAAEI,GAAGE,OAAOC,KAAKC,YAAYR,EAAEI,GAAGK,EAAE,EAAE,GAAIC,MAAOL,EAAEJ,EAAE7F,cAAc8F,GAC3EpL,EAAEmL,EAAEU,qBAAqBT,GAAG,GAAGG,EAAEO,MAAM,EAAEP,EAAEQ,IAAIV,EAAErL,EAAEgM,WAAWC,aAAaV,EAAEvL,IAC1EkM,OAAO7G,SAAS,SAAS,0CAA0C,MAEtE0F,GAAG,SAAU,gBAAiB,QAC9BA,GAAG,OAAQ,aX+nBL,SAASnL,OAAQD,SYroBvBQ,GAAGC,KAAKC,UAAU,oBAAqB,WAEtCC,KAAK8B,GAAG,QAAS,SAAU+J,IACtB7L,KAAK8F,GAAG+F,GAAG3J,SAEZlC,KAAKF,MAAQE,KAAKF,KAAKqJ,MAAMpI,MAAMf,KAAKgB,MAAMqI,QAChDrJ,KAAKsJ,WAIPtJ,KAAKsJ,OAAS,WACbtJ,KAAKK,MAAML,KAAKF,KAAKgM,QAElB9L,KAAKF,KAAKiM,SAAS,QACrB/L,KAAKO,OACLP,KAAKgM,KAAKzK,MAAM,EAAGvB,KAAKgM,KAAKzL,OAE7BP,KAAKF,KAAKqJ,MAAM5I,QAIlBP,KAAKsC,KAAO,WACX,GAAIC,YAAavC,KAAKyC,OAQtB,OANIF,cACHvC,KAAKS,OAAOmC,QACZL,WAAWhC,OACXP,KAAKF,KAAKa,MAAMQ,IAAI8C,OAAOpD,QAGrB0B,YAGRvC,KAAKgE,SAAW,WAEf,MADAhE,MAAKF,KAAKa,MAAMQ,IAAIN,KAAK,kBAClBb,KAAKyC,SAGbzC,KAAKiM,UAAY,WACZjM,KAAK+L,SAAS,cAClB/L,KAAKF,KAAK+D,SAAS,WACnB7D,KAAKuB,MAAM,OAAQ,WAClBvB,KAAKsC,WAIPtC,KAAK8B,GAAG,eAAgB,SAAS+J,IAC5B7L,KAAKgM,KAAKlG,GAAG+F,GAAG3J,SACpBlC,KAAK6D,SAAS,iBZ6oBV,SAASvE,OAAQD,Ua7rBvB,QAAU6M,MAAMC,MACXP,OAAO7D,SAAW6D,OACrBA,OAAOQ,SAASC,KAAO,oCAEvBtH,SAASuH,OAAS","file":"meerkat-mania/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(9);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t\tthis.item = function (_id) {\n\t\t\tvar vo, index;\n\t\n\t\t\tthis.close(this.find('li.OPEN'));\n\t\n\t\t\tif (typeof _id === 'number') {\n\t\t\t\tthis.open(this.find('li').eq(_id));\n\t\t\t\tthis.screen.currentVO = this.audio.voiceOver[_id];\n\t\t\t\tthis.audio.voiceOver[_id].play();\n\t\t\t} else if (typeof _id === 'string') {\n\t\t\t\tif (this[_id]) {\n\t\t\t\t\tthis.open(this[_id]);\n\t\n\t\t\t\t\tif (this.audio) {\n\t\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t\t\t\t\t\tif (vo) {\n\t\t\t\t\t\t\tthis.screen.currentVO = vo;\n\t\t\t\t\t\t\tvo.play();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tthis.behavior('closeAll', function () {\n\t\t\tif (!this.screen.state(this.STATE.VOICE_OVER) || this.game.demoMode) {\n\t\t\t\tif (this.game.audio.sfx.close) this.game.audio.sfx.close.play();\n\t\t\t\tthis.find('li.OPEN').removeClass('OPEN');\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\n\t\tthis.playSound = function (_sound) {\n\t\t\tvar delay, $sound;\n\t\n\t\t\tif (!_sound) return;\n\t\n\t\t\t$sound = $(_sound);\n\t\t\tdelay = $sound.attr('pl-delay');\n\t\t\tif (_sound.type === 'voiceOver') {\n\t\t\t\tthis.currentVO = _sound;\n\t\t\t} else if (_sound.type === 'sfx') {\n\t\t\t\tthis.currentSFX = _sound;\n\t\t\t}\n\t\n\t\t\tif (delay) {\n\t\t\t\treturn this.delay(delay, _sound.play.bind(_sound));\n\t\t\t} else {\n\t\t\t\treturn _sound.play();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tif (this.audio) {\n\t\t\t\tthis.audio.rule('.voiceOver', 'shouldPlay', function (_event) {\n\t\t\t\t\t_event.response(!_event.target.config(\"dontautoplay\"));\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tif (this.state(this.STATE.OPEN)) this.start();\n\t\t});\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen, buttonSound;\n\t\n\t\t\tnextScreen = this.proto();\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.prev = function () {\n\t\t\tvar prevScreen, buttonSound;\n\t\n\t\t\tprevScreen = this.proto();\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\tif (prevScreen) {\n\t\t\t\tthis.screen.close();\n\t\t\t\tprevScreen.open();\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\t\t}\n\t\n\t\t\treturn prevScreen;\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tvar entities = this.hasOwnProperty('entities') && this.entities;\n\t\n\t\t\tif (this.audio) {\n\t\t\t\tthis.startAudio();\n\t\t\t\tthis.playSound(this.audio.sfx.start);\n\t\t\t}\n\t\n\t\t\tif (entities) {\n\t\t\t\tentities.forEach(function (_entity) {\n\t\t\t\t\tif (_entity.hasOwnProperty('start')) _entity.start();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.startAudio = function () {\n\t\t\tif (!this.audio) return;\n\t\t\tthis.audio.background.play();\n\t\t\tthis.playSound(this.audio.voiceOver);\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tvar entities = this.hasOwnProperty('entities') && this.entities;\n\t\n\t\t\tthis.stopAudio();\n\t\t\tthis.kill('delay');\n\t\n\t\t\tif (entities) {\n\t\t\t\tentities.forEach(function (_entity) {\n\t\t\t\t\tif (_entity.hasOwnProperty('start')) _entity.stop();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.stopAudio = function () {\n\t\t\tif (!this.audio) return;\n\t\t\tif (this.currentVO) this.currentVO.stop();\n\t\t\tif (this.currentSFX) this.currentSFX.stop();\n\t\t};\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\t\tthis.on('transitionend', (function () {\n\t\t\t\t\tthis.start();\n\t\t\t\t\tthis.off('transitionend');\n\t\t\t\t}).bind(this));\n\t\t\t}\n\t\n\t\t\tif (this.properties.gameClass) {\n\t\t\t\tthis.game.addClass(this.properties.gameClass);\n\t\t\t}\n\t\n\t\t\tif (!this.requiredQueue || this.hasOwnProperty('requiredQueue') && !this.requiredQueue.length) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-leave', function (_event) {\n\t\t\tif (this.properties.gameClass) {\n\t\t\t\tthis.game.removeClass(this.properties.gameClass);\n\t\t\t}\n\t\n\t\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\t\tthis.stop();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-close', function (_event) {\n\t\t\tif (this.properties.gameClass) {\n\t\t\t\tthis.game.removeClass(this.properties.gameClass);\n\t\t\t}\n\t\n\t\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\t\tthis.stop();\n\t\t\t}\n\t\t});\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t\tthis.buttonSound = function () {\n\t\t\tif (this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n\t\t};\n\t\n\t\t// TODO: Make an automated way to handle this\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\t\tthis.addClass('LEAVE-END');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tthis.buttonSound();\n\t\t\tthis.game.addClass('QUIT-SCREEN');\n\t\t\tthis.removeClass('LEAVE-END');\n\t\t\tthis.game.pause(true);\n\t\t});\n\t\n\t\tthis.on('ui-leave', function () {\n\t\t\tthis.game.removeClass('QUIT-SCREEN');\n\t\t\tthis.game.resume();\n\t\t});\n\t\n\t\tthis.init = function () {\n\t\t\tthis.addClass('LEAVE LEAVE-END');\n\t\t};\n\t\n\t\tthis.okay = function () {\n\t\t\tthis.buttonSound();\n\t\t\tthis.game.exit();\n\t\t};\n\t\n\t\tthis.cancel = function () {\n\t\t\tthis.buttonSound();\n\t\t\tthis.leave();\n\t\t};\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable-canvas', function () {\n\t\n\t\tvar SELECTOR;\n\t\n\t\tSELECTOR = {\n\t\t\tCORRECT: '[pl-correct]',\n\t\t\tINCORRECT: '[pl-incorrect]'\n\t\t};\n\t\n\t\tthis.buffer = null;\n\t\tthis.bctx = null;\n\t\tthis.items = null;\n\t\n\t\tthis.state('activate active', '+ACTIVE');\n\t\n\t\tthis.state('deactivate', '-ACTIVE');\n\t\n\t\tthis.init = function () {\n\t\t\tthis.buffer = document.createElement('canvas');\n\t\t\tthis.bctx = this.buffer.getContext('2d');\n\t\t};\n\t\n\t\tthis.ready = function () {\n\t\t\tvar correct, $items;\n\t\n\t\t\tcorrect = pl.Queue.create();\n\t\n\t\t\tcorrect.on('complete', this.bind(function () {\n\t\t\t\tthis.complete();\n\t\t\t}));\n\t\n\t\t\tthis.buffer.width = this.$els.width();\n\t\t\tthis.buffer.height = this.$els.height();\n\t\n\t\t\t$items = this.find('li img');\n\t\n\t\t\tthis.items = $items.map(function (_index, _node) {\n\t\t\t\tvar $node;\n\t\n\t\t\t\t$node = $(_node);\n\t\n\t\t\t\tif ($node.is(SELECTOR.CORRECT)) correct.add(_index);\n\t\n\t\t\t\treturn $node;\n\t\t\t}).toArray();\n\t\n\t\t\tthis.items.correct = correct;\n\t\t};\n\t\n\t\tthis.isImageTarget = function (_$image, _point, _offset, _scale) {\n\t\t\tvar offset = _$image.offset();\n\t\n\t\t\tthis.bctx.clearRect(0, 0, this.buffer.width, this.buffer.height);\n\t\t\tthis.bctx.drawImage(_$image[0], offset.left / _scale - _offset[0], offset.top / _scale - _offset[1], _$image.width(), _$image.height());\n\t\t\tpixel = this.bctx.getImageData(_point.x, _point.y, 1, 1);\n\t\n\t\t\tthis.bctx.fillStyle = 'white';\n\t\t\tthis.bctx.fillRect(_point.x, _point.y, 5, 5);\n\t\n\t\t\t// opaque pixel\n\t\t\treturn pixel.data[3] > 0;\n\t\t};\n\t\n\t\tthis.behavior('select', function (_cursor) {\n\t\t\tvar offset,\n\t\t\t    cursor,\n\t\t\t    scale,\n\t\t\t    returnValue = false;\n\t\n\t\t\tscale = this.game.transformScale().x;\n\t\t\toffset = this.$els.absolutePosition().scale(1 / scale);\n\t\t\tcursor = this.event.cursor.scale(1 / this.game.zoom).dec(offset).math('floor');\n\t\n\t\t\tthis.items.every(this.bind(function (_$item) {\n\t\t\t\tif (this.isImageTarget(_$item, cursor, offset, scale)) {\n\t\t\t\t\treturnValue = {\n\t\t\t\t\t\tmessage: _$item.parent().index(),\n\t\t\t\t\t\tbehaviorTarget: _$item.parent()\n\t\t\t\t\t};\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\n\t\t\t\treturn true;\n\t\t\t}));\n\t\n\t\t\treturn returnValue;\n\t\t});\n\t\n\t\tthis.deactivateAll = function () {\n\t\t\tthis.deactivate(this.getActive());\n\t\t};\n\t\n\t\tthis.unhighlightAll = function () {\n\t\t\tthis.unhighlight(this.getHighlighted());\n\t\t};\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t\tthis.behavior('select', function (_target) {\n\t\t\tvar $target;\n\t\n\t\t\tif (this.event) {\n\t\t\t\t$target = $(this.event.target).closest('li');\n\t\n\t\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: $target.index(),\n\t\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.proto(_target);\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t});\n\t\n\t\tthis.shouldSelect = function (_target) {\n\t\t\treturn !this.screen.state(this.screen.STATE.VOICE_OVER);\n\t\t};\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('title', function () {\n\t\n\t\tthis.ready = function () {\n\t\t\tthis.open();\n\t\t\tthis.audio.background.play();\n\t\t\tthis.delay(1500, function () {\n\t\t\t\t// this.image.addClass('animated '+this.image.attr('pl-animation'));\n\t\t\t\tthis.complete();\n\t\t\t});\n\t\t};\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('video', function () {\n\t\n\t\tthis.start = function () {\n\t\t\tthis.video.on('ended', (function () {\n\t\t\t\tthis.screen.complete();\n\t\t\t}).bind(this));\n\t\t\tif (this.game.bgSound) this.game.bgSound.pause();\n\t\t\tthis.video[0].play();\n\t\t};\n\t\n\t\tthis.pause = function () {\n\t\t\tthis.video[0].pause();\n\t\t};\n\t\n\t\tthis.resume = function () {\n\t\t\tif (this.isComplete) return;\n\t\t\tthis.video[0].play();\n\t\t};\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t\tscreenSelector: '.screen',\n\t\tcomponentDirectory: 'components/',\n\t\tdimensions: {\n\t\t\twidth: 960,\n\t\t\tratio: 16 / 9\n\t\t},\n\t\tshouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t// import 'js-interactive-library';\n\t// import '../../../../../js-interactive-library';\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(12);\n\t\n\t__webpack_require__(10);\n\t\n\tpl.game('meerkat-mania', function () {\n\t\n\t\tthis.screen('title', function () {\n\t\n\t\t\tthis.on('ui-open', function (_event) {\n\t\t\t\tif (this === _event.targetScope) {\n\t\t\t\t\tthis.title.start();\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.on('ready', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\t\tif (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t\t\t});\n\t\n\t\t\tthis.startAudio = function () {\n\t\t\t\tthis.title.audio.background.play();\n\t\t\t\tthis.title.audio.voiceOver.play();\n\t\t\t};\n\t\n\t\t\tthis.stopAudio = function () {\n\t\t\t\tthis.title.audio.voiceOver.stop('@ALL');\n\t\t\t};\n\t\t});\n\t\n\t\tthis.screen('roles', function () {\n\t\n\t\t\tthis.respond('select', function (_event) {\n\t\t\t\tvar index = _event.message;\n\t\n\t\t\t\tif (Number.isInteger(index) && ~index) {\n\t\t\t\t\tthis.highlight(_event.behaviorTarget);\n\t\t\t\t\tthis.selectableCanvas.activate(_event.behaviorTarget);\n\t\t\t\t\tthis.reveal.item(index);\n\t\t\t\t\t// if(this.audio.sfx.correct) this.audio.sfx.correct.play();\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.respond('closeAll', function (didClose) {\n\t\t\t\tif (didClose) this.selectableCanvas.deactivateAll();\n\t\t\t});\n\t\n\t\t\tthis.entity('selectable-canvas', function () {\n\t\t\t\tthis.start = function () {\n\t\t\t\t\tthis.ready();\n\t\t\t\t\tthis.deactivateAll();\n\t\t\t\t\tthis.unhighlightAll();\n\t\t\t\t\tthis.reveal.item(6);\n\t\t\t\t};\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('video', function () {\n\t\t\tthis.on('ui-open', function () {\n\t\t\t\tsetTimeout((function () {\n\t\t\t\t\tthis.video.start();\n\t\t\t\t}).bind(this), 250);\n\t\t\t});\n\t\n\t\t\tthis.on(\"ui-close\", function () {\n\t\t\t\tthis.video.pause();\n\t\t\t\tif (this.game.bgSound) this.game.bgSound.play();\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('feel', function () {\n\t\n\t\t\tthis.on('ready', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\t\tthis.selectable.audio.voiceOver.on('ended', (function (_ended) {\n\t\t\t\t\tthis.complete();\n\t\t\t\t}).bind(this.selectable));\n\t\t\t});\n\t\n\t\t\tthis.respond('select', function (_event) {\n\t\t\t\tvar index, stateMethod;\n\t\n\t\t\t\tindex = _event.message;\n\t\t\t\tstateMethod = this.properties.selectState || 'select';\n\t\n\t\t\t\tif (~index) {\n\t\t\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\t\t\tthis.audio.sfx.play('correct');\n\t\t\t\t\tthis.selectable.audio.voiceOver.play(index);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\n\t\t/**\n\t  * Adds Flip screen behavior to send game completion to GA.\n\t  */\n\t\tthis.screen('flip', function () {\n\t\t\tthis.next = function () {\n\t\t\t\tthis.game.quit.okay();\n\t\t\t};\n\t\n\t\t\tthis.on('ui-open', function () {\n\t\t\t\tthis.delay('4.5s', function () {\n\t\t\t\t\tif (this.audio.sfx.flip && this.state(this.STATE.OPEN)) this.audio.sfx.flip.play();\n\t\t\t\t});\n\t\t\t});\n\t\n\t\t\tthis.complete = function (_event) {\n\t\t\t\tvar eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t\n\t\t\t\tga('send', 'event', eventCategory, 'complete');\n\t\n\t\t\t\treturn this.proto();\n\t\t\t};\n\t\t});\n\t\n\t\t/**\n\t  * When the game exits submit a GA (Google Analytics) event.\n\t  * @override\n\t  */\n\t\tthis.exit = function () {\n\t\t\tvar screen, eventCategory;\n\t\n\t\t\tscreen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t\t\teventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t\t\tga('send', 'event', eventCategory, 'quit');\n\t\n\t\t\treturn this.proto();\n\t\t};\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\t\tthis.splash();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.splash = function () {\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tif (this.game.hasClass('iOS')) {\n\t\t\t\tthis.open();\n\t\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t\t} else {\n\t\t\t\tthis.game.title.open();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen = this.proto();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tthis.game.audio.sfx.button.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.play('screenComplete');\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.startGame = function () {\n\t\t\tif (!this.hasClass('FINISHED')) return;\n\t\t\tthis.game.addClass('STARTED');\n\t\t\tthis.delay('2.5s', function () {\n\t\t\t\tthis.next();\n\t\t\t});\n\t\t};\n\t\n\t\tthis.on('animationend', function (_e) {\n\t\t\tif (!this.ball.is(_e.target)) return;\n\t\t\tthis.addClass('FINISHED');\n\t\t});\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t(function test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t})();\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** meerkat-mania/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f76ffdf00a44ee119b42\n **/","pl.game.component('reveal', function () {\n\n\tthis.item = function (_id) {\n\t\tvar vo, index;\n\n\t\tthis.close(this.find('li.OPEN'));\n\n\t\tif (typeof _id === 'number') {\n\t\t\tthis.open(this.find('li').eq(_id));\n\t\t\tthis.screen.currentVO = this.audio.voiceOver[_id];\n\t\t\tthis.audio.voiceOver[_id].play();\n\t\t}\n\t\t\t\n\t\telse if (typeof _id === 'string') {\n\t\t\tif (this[_id]) {\n\t\t\t\tthis.open(this[_id]);\n\n\t\t\t\tif (this.audio) {\n\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\t\t\t\t\n\t\t\t\t\tif (vo) {\n\t\t\t\t\t\tthis.screen.currentVO = vo;\n\t\t\t\t\t\tvo.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.behavior('closeAll', function() {\n\t\tif(!this.screen.state(this.STATE.VOICE_OVER) || this.game.demoMode) {\n\t\t\tif(this.game.audio.sfx.close) this.game.audio.sfx.close.play();\n\t\t\tthis.find('li.OPEN').removeClass('OPEN');\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./meerkat-mania/source/js/components/reveal/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\n\tthis.playSound = function(_sound) {\n\t\tvar delay, $sound;\n\n\t\tif(!_sound) return;\n\n\t\t$sound = $(_sound);\n\t\tdelay = $sound.attr('pl-delay');\n\t\tif(_sound.type === 'voiceOver') {\n\t\t\tthis.currentVO = _sound;\n\t\t} else if(_sound.type === 'sfx') {\n\t\t\tthis.currentSFX = _sound;\n\t\t}\n\n\t\tif (delay) {\n\t\t\treturn this.delay(delay, _sound.play.bind(_sound));\n\t\t} else {\n\t\t\treturn _sound.play();\n\t\t}\n\t};\n\n\tthis.on('ready', function (_event) {\n\t\tif (this.audio) {\n\t\t\tthis.audio.rule('.voiceOver', 'shouldPlay', function (_event) {\n\t\t\t\t_event.response(!_event.target.config(\"dontautoplay\"));\n\t\t\t});\n\t\t}\n\n\t\tif(this.state(this.STATE.OPEN)) this.start();\n\t});\n\n\tthis.next = function () {\n\t\tvar nextScreen, buttonSound;\n\n\t\tnextScreen = this.proto();\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\tif (nextScreen) {\n\t\t\tthis.leave();\n\t\t\tnextScreen.open();\n\t\t\tif (buttonSound) buttonSound.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.prev = function () {\n\t\tvar prevScreen, buttonSound;\n\n\t\tprevScreen = this.proto();\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\tif (prevScreen) {\n\t\t\tthis.screen.close();\n\t\t\tprevScreen.open();\n\t\t\tif (buttonSound) buttonSound.play();\n\t\t}\n\n\t\treturn prevScreen;\n\t};\n\n\tthis.start = function () {\n\t\tvar entities = this.hasOwnProperty('entities') && this.entities;\n\n\t\tif (this.audio) {\n\t\t\tthis.startAudio();\n\t\t\tthis.playSound(this.audio.sfx.start);\n\t\t}\n\n\t\tif (entities) {\n\t\t\tentities.forEach(function (_entity) {\n\t\t\t\tif (_entity.hasOwnProperty('start')) _entity.start();\n\t\t\t});\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.startAudio = function () {\n\t\tif (!this.audio) return;\n\t\tthis.audio.background.play();\n\t\tthis.playSound(this.audio.voiceOver);\n\t};\n\n\tthis.stop = function () {\n\t\tvar entities = this.hasOwnProperty('entities') && this.entities;\n\n\t\tthis.stopAudio();\n\t\tthis.kill('delay');\n\n\t\tif (entities) {\n\t\t\tentities.forEach(function (_entity) {\n\t\t\t\tif (_entity.hasOwnProperty('start')) _entity.stop();\n\t\t\t});\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.stopAudio = function () {\n\t\tif (!this.audio) return;\n\t\tif(this.currentVO) this.currentVO.stop();\n\t\tif(this.currentSFX) this.currentSFX.stop();\n\t};\n\n\tthis.on('ui-open', function (_event) {\n\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\tthis.on('transitionend', function() {\n\t\t\t\tthis.start();\n\t\t\t\tthis.off('transitionend');\n\t\t\t}.bind(this));\n\t\t}\n\n\t\tif(this.properties.gameClass) {\n\t\t\tthis.game.addClass(this.properties.gameClass);\n\t\t}\n\n\t\tif (!this.requiredQueue || (this.hasOwnProperty('requiredQueue') && !this.requiredQueue.length)) {\n\t\t\tthis.complete();\n\t\t}\n\t});\n\n\tthis.on('ui-leave', function (_event) {\n\t\tif(this.properties.gameClass) {\n\t\t\tthis.game.removeClass(this.properties.gameClass);\n\t\t}\n\n\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\tthis.stop();\n\t\t}\n\t});\n\n\tthis.on('ui-close', function (_event) {\n\t\tif(this.properties.gameClass) {\n\t\t\tthis.game.removeClass(this.properties.gameClass);\n\t\t}\n\n\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\tthis.stop();\n\t\t}\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./meerkat-mania/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n\tthis.buttonSound = function() {\n\t\tif(this.game.audio.sfx.button) this.game.audio.sfx.button.play();\n\t}\n\n\t// TODO: Make an automated way to handle this\n\tthis.on('transitionend', function (_event) {\n\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\tthis.addClass('LEAVE-END');\t\n\t\t}\n\t});\n\n\tthis.on('ui-open', function (_event) {\n\t\tthis.buttonSound();\n\t\tthis.game.addClass('QUIT-SCREEN');\n\t\tthis.removeClass('LEAVE-END');\n\t\tthis.game.pause(true);\n\t});\n\n\tthis.on('ui-leave', function () {\n\t\tthis.game.removeClass('QUIT-SCREEN');\n\t\tthis.game.resume();\n\t});\n\n\tthis.init = function () {\n\t\tthis.addClass('LEAVE LEAVE-END');\n\t};\n\t\n\tthis.okay = function () {\n\t\tthis.buttonSound();\n\t\tthis.game.exit();\n\t};\n\n\tthis.cancel = function () {\n\t\tthis.buttonSound();\n\t\tthis.leave();\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./meerkat-mania/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('selectable-canvas', function () {\n\n\tvar SELECTOR;\n\n\tSELECTOR = {\n\t\tCORRECT: '[pl-correct]',\n\t\tINCORRECT: '[pl-incorrect]'\n\t};\n\t\n\tthis.buffer = null;\n\tthis.bctx = null;\n\tthis.items = null;\n\n\tthis.state('activate active', '+ACTIVE');\n\n\tthis.state('deactivate', '-ACTIVE');\n\n\tthis.init = function () {\n\t\tthis.buffer = document.createElement('canvas');\n\t\tthis.bctx = this.buffer.getContext('2d');\n\t};\n\n\tthis.ready = function () {\n\t\tvar correct, $items;\n\n\t\tcorrect = pl.Queue.create();\n\n\t\tcorrect.on('complete', this.bind(function () {\n\t\t\tthis.complete();\n\t\t}));\n\n\t\tthis.buffer.width = this.$els.width();\n\t\tthis.buffer.height = this.$els.height();\n\n\t\t$items = this.find('li img');\n\n\t\tthis.items = $items\n\t\t\t.map(function (_index, _node) {\n\t\t\t\tvar $node;\n\n\t\t\t\t$node = $(_node);\n\n\t\t\t\tif ($node.is(SELECTOR.CORRECT)) correct.add(_index);\n\n\t\t\t\treturn $node;\n\t\t\t})\n\t\t\t.toArray();\n\n\t\tthis.items.correct = correct;\n\t};\n\n\tthis.isImageTarget = function (_$image, _point, _offset, _scale) {\n\t\tvar offset = _$image.offset();\n\n\t\tthis.bctx.clearRect(0, 0, this.buffer.width, this.buffer.height);\n\t\tthis.bctx.drawImage(_$image[0], offset.left/_scale - _offset[0], offset.top/_scale - _offset[1], _$image.width(), _$image.height());\n\t\tpixel = this.bctx.getImageData(_point.x, _point.y, 1,1);\n\n\t\tthis.bctx.fillStyle = 'white';\n\t\tthis.bctx.fillRect(_point.x, _point.y, 5,5);\n\n\t\t// opaque pixel\n\t\treturn pixel.data[3] > 0;\n\t};\n\n\tthis.behavior('select', function (_cursor) {\n\t\tvar offset, cursor, scale, returnValue = false;\n\n\t\tscale = this.game.transformScale().x;\n\t\toffset = this.$els.absolutePosition().scale(1/scale);\n\t\tcursor = this.event.cursor\n\t\t\t.scale(1/this.game.zoom)\n\t\t\t.dec(offset)\n\t\t\t.math('floor');\n\n\t\tthis.items.every(this.bind(function (_$item) {\n\t\t\tif (this.isImageTarget(_$item, cursor, offset, scale)) {\n\t\t\t\treturnValue = {\n\t\t\t\t\tmessage: _$item.parent().index(),\n\t\t\t\t\tbehaviorTarget: _$item.parent()\n\t\t\t\t};\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}));\n\n\t\treturn returnValue;\n\t});\n\n\tthis.deactivateAll = function() {\n\t\tthis.deactivate(this.getActive());\n\t}\n\n\tthis.unhighlightAll = function() {\n\t\tthis.unhighlight(this.getHighlighted());\n\t}\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./meerkat-mania/source/js/components/selectable-canvas/behavior.js\n **/","pl.game.component('selectable', function () {\n\n\tthis.behavior('select', function (_target) {\n\t\tvar $target;\n\n\t\tif (this.event) {\n\t\t\t$target = $(this.event.target).closest('li');\n\n\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: $target.index(),\n\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t};\n\t\t\t}\t\n\t\t}\n\n\t\telse {\n\t\t\tthis.proto(_target);\n\t\t}\n\n\t\treturn false;\n\t});\n\n\tthis.shouldSelect = function (_target) {\n\t\treturn !this.screen.state(this.screen.STATE.VOICE_OVER);\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./meerkat-mania/source/js/components/selectable/behavior.js\n **/","pl.game.component('title', function () {\n\n\tthis.ready = function () {\n\t\tthis.open();\n\t\tthis.audio.background.play();\n\t\tthis.delay(1500, function () {\n\t\t\t// this.image.addClass('animated '+this.image.attr('pl-animation'));\n\t\t\tthis.complete();\n\t\t});\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./meerkat-mania/source/js/components/title/behavior.js\n **/","pl.game.component('video', function () {\n\n\tthis.start = function() {\n\t\tthis.video.on('ended', function() {\n\t\t\tthis.screen.complete();\n\t\t}.bind(this));\n\t\tif(this.game.bgSound) this.game.bgSound.pause();\n\t\tthis.video[0].play();\n\t};\n\n\tthis.pause = function() {\n\t\tthis.video[0].pause();\n\t};\n\n\tthis.resume = function() {\n\t\tif(this.isComplete) return;\n\t\tthis.video[0].play();\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./meerkat-mania/source/js/components/video/behavior.js\n **/","pl.game.config({\n\tscreenSelector: '.screen',\n\tcomponentDirectory: 'components/',\n\tdimensions: {\n\t\twidth: 960,\n\t\tratio: 16/9\n\t},\n\tshouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./meerkat-mania/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\n// import 'js-interactive-library';\n// import '../../../../../js-interactive-library';\nimport './config.game';\n\nimport '../../../shared/js/screen-ios-splash';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/title/behavior';\nimport './components/selectable/behavior';\nimport './components/selectable-canvas/behavior';\nimport './components/reveal/behavior';\nimport './components/video/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\npl.game('meerkat-mania', function () {\n\n\tthis.screen('title', function () {\n\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (this === _event.targetScope) {\n\t\t\t\tthis.title.start();\n\t\t\t}\n\t\t});\n\n\t\tthis.on('ready', function(_event) {\n\t\t\tif(!this.is(_event.target)) return;\n\n\t\t\tif(this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t\t});\n\n\t\tthis.startAudio = function () {\n\t\t\tthis.title.audio.background.play();\n\t\t\tthis.title.audio.voiceOver.play();\n\t\t};\n\n\t\tthis.stopAudio = function () {\n\t\t\tthis.title.audio.voiceOver.stop('@ALL');\n\t\t};\n\n\t});\n\n\tthis.screen('roles', function () {\n\n\t\tthis.respond('select', function (_event) {\n\t\t\tvar index = _event.message;\n\n\t\t\tif (Number.isInteger(index) && ~index) {\n\t\t\t\tthis.highlight(_event.behaviorTarget);\n\t\t\t\tthis.selectableCanvas.activate(_event.behaviorTarget);\n\t\t\t\tthis.reveal.item(index);\n\t\t\t\t// if(this.audio.sfx.correct) this.audio.sfx.correct.play();\n\t\t\t}\n\t\t});\n\n\t\tthis.respond('closeAll', function(didClose) {\n\t\t\tif(didClose) this.selectableCanvas.deactivateAll();\n\t\t});\n\n\t\tthis.entity('selectable-canvas', function() {\n\t\t\tthis.start = function() {\n\t\t\t\tthis.ready();\n\t\t\t\tthis.deactivateAll();\n\t\t\t\tthis.unhighlightAll();\n\t\t\t\tthis.reveal.item(6);\n\t\t\t};\n\t\t});\n\t});\n\n\tthis.screen('video', function() {\n\t\tthis.on('ui-open', function() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tthis.video.start();\n\t\t\t}.bind(this), 250);\n\t\t});\n\n\t\tthis.on(\"ui-close\", function() {\n\t\t\tthis.video.pause();\n\t\t\tif(this.game.bgSound) this.game.bgSound.play();\n\t\t});\n\t});\n\n\tthis.screen('feel', function () {\n\n\t\tthis.on('ready', function (_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\n\t\t\tthis.selectable.audio.voiceOver.on('ended', function (_ended) {\n\t\t\t\tthis.complete();\n\t\t\t}.bind(this.selectable));\n\t\t});\n\n\t\tthis.respond('select', function (_event) {\n\t\t\tvar index, stateMethod;\n\n\t\t\tindex = _event.message;\n\t\t\tstateMethod = this.properties.selectState || 'select';\n\n\t\t\tif (~index) {\n\t\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\t\tthis.audio.sfx.play('correct');\n\t\t\t\tthis.selectable.audio.voiceOver.play(index);\n\t\t\t}\n\t\t});\n\t});\n\n\t/**\n\t * Adds Flip screen behavior to send game completion to GA.\n\t */\n\tthis.screen('flip', function () {\n\t\tthis.next = function () {\n\t\t\tthis.game.quit.okay();\n\t\t};\n\n\t\tthis.on('ui-open', function() {\n\t\t\tthis.delay('4.5s', function() {\n\t\t\t\tif(this.audio.sfx.flip && this.state(this.STATE.OPEN)) this.audio.sfx.flip.play();\n\t\t\t});\n\t\t});\n\n\t\tthis.complete = function (_event) {\n\t\t\tvar eventCategory = (['game', this.game.id(), this.id()+'('+(this.index()+1)+')']).join(' ');\n\n\t\t\tga('send', 'event', eventCategory, 'complete');\n\n\t\t\treturn this.proto();\n\t\t};\n\t});\n\n\t/**\n\t * When the game exits submit a GA (Google Analytics) event.\n\t * @override\n\t */\n\tthis.exit = function () {\n\t\tvar screen, eventCategory;\n\n\t\tscreen = this.findOwn(pl.game.config('screenSelector')+'.OPEN:not(#quit)').scope();\n\t\teventCategory = (['game', this.id(), screen.id()+'('+(screen.index()+1)+')']).join(' ');\n\n\t\tga('send', 'event', eventCategory, 'quit');\n\n\t\treturn this.proto();\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./meerkat-mania/source/js/index.js\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n\tthis.on('ready', function (_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\tthis.splash();\n\t\t}\n\t});\n\n\tthis.splash = function() {\n\t\tthis.close(this.game.loader);\n\n\t\tif(this.game.hasClass('iOS')) {\n\t\t\tthis.open();\n\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t} else {\n\t\t\tthis.game.title.open();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen = this.proto();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tthis.game.audio.sfx.button.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.play('screenComplete');\n\t\treturn this.proto();\n\t};\n\n\tthis.startGame = function() {\n\t\tif(!this.hasClass('FINISHED')) return;\n\t\tthis.game.addClass('STARTED');\n\t\tthis.delay('2.5s', function() {\n\t\t\tthis.next();\n\t\t});\n\t};\n\n\tthis.on('animationend', function(_e) {\n\t\tif(!this.ball.is(_e.target)) return;\n\t\tthis.addClass('FINISHED');\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","(function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/"],"sourceRoot":""}