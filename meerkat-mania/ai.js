!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="/build/",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)},function(module,exports){pl.game.component("reveal",function(){this.item=function(_id){var vo,index;this.close(this.find("li.OPEN")),"number"==typeof _id?(this.open(this.find("li").eq(_id)),this.screen.currentVO=this.audio.voiceOver[_id],this.audio.voiceOver[_id].play()):"string"==typeof _id&&this[_id]&&(this.open(this[_id]),this.audio&&(index=this[_id].index(),vo=this.audio.voiceOver[_id]||this.audio.voiceOver[index],vo&&(this.screen.currentVO=vo,vo.play())))},this.behavior("closeAll",function(){return!this.screen.state(this.STATE.VOICE_OVER)||this.game.demoMode?(this.game.audio.sfx.close&&this.game.audio.sfx.close.play(),this.find("li.OPEN").removeClass("OPEN"),!0):!1})})},function(module,exports){pl.game.component("screen-basic",function(){this.playSound=function(_sound){var delay,$sound;if(_sound)return $sound=$(_sound),delay=$sound.attr("pl-delay"),"voiceOver"===_sound.type?this.currentVO=_sound:"sfx"===_sound.type&&(this.currentSFX=_sound),delay?this.delay(delay,_sound.play.bind(_sound)):_sound.play()},this.on("ready",function(_event){this.is(_event.target)&&(this.audio&&this.audio.rule(".voiceOver","shouldPlay",function(_e){_e.response(!_e.target.config("dontautoplay"))}),this.state(this.STATE.OPEN)&&this.start())}),this.next=function(){var nextScreen,buttonSound;return nextScreen=this.proto(),buttonSound=pl.util.resolvePath(this,"game.audio.sfx.button"),nextScreen&&(this.leave(),nextScreen.open(),buttonSound&&buttonSound.play()),nextScreen},this.prev=function(){var prevScreen,buttonSound;return prevScreen=this.proto(),buttonSound=pl.util.resolvePath(this,"game.audio.sfx.button"),prevScreen&&(this.screen.close(),prevScreen.open(),buttonSound&&buttonSound.play()),prevScreen},this.start=function(){var entities=this.hasOwnProperty("entities")&&this.entities;return this.audio&&(this.startAudio(),this.playSound(this.audio.sfx.start)),entities&&entities.forEach(function(_entity){_entity.hasOwnProperty("start")&&_entity.start()}),this},this.startAudio=function(){this.audio&&(this.audio.background.play(),this.playSound(this.audio.voiceOver))},this.stop=function(){var entities=this.hasOwnProperty("entities")&&this.entities;return this.stopAudio(),this.kill("delay"),entities&&entities.forEach(function(_entity){_entity.hasOwnProperty("start")&&_entity.stop()}),this},this.stopAudio=function(){this.audio&&(this.currentVO&&this.currentVO.stop(),this.currentSFX&&this.currentSFX.stop())},this.on("ui-open",function(_event){this.isReady&&this===_event.targetScope&&(this.off("transitionend"),this.on("transitionend",function(){this.start(),this.off("transitionend")}.bind(this))),this.properties.gameClass&&this.game.addClass(this.properties.gameClass),(!this.requiredQueue||this.hasOwnProperty("requiredQueue")&&!this.requiredQueue.length)&&this.complete()}),this.on("ui-leave ui-close",function(_event){this.properties.gameClass&&this.game.removeClass(this.properties.gameClass),this.isReady&&this.is(_event.target)&&this.stop()})})},function(module,exports){pl.game.component("screen-quit",function(){this.buttonSound=function(){this.audio.sfx.button&&this.audio.sfx.button.play()},this.on("transitionend",function(_event){this.is(_event.target)&&this.state(this.STATE.LEAVE)&&this.addClass("LEAVE-END")}),this.on("ready",function(_e){var ctx;this.is(_e.target)&&(ctx=new(window.AudioContext||window.webkitAudioContext),this.audio.voiceOver.sure&&this.audio.voiceOver.sure.setContext(ctx),this.audio.sfx.button&&this.audio.sfx.button.setContext(ctx))}),this.on("ui-open",function(_event){this.is(_event.target)&&(this.audio.voiceOver.sure&&this.audio.voiceOver.sure.play(),this.buttonSound(),this.game.addClass("QUIT-SCREEN"),this.removeClass("LEAVE-END"),this.game.pause(!0))}),this.on("ui-leave",function(){this.audio.voiceOver.sure&&this.audio.voiceOver.sure.stop(),this.game.removeClass("QUIT-SCREEN"),this.game.resume()}),this.init=function(){this.addClass("LEAVE LEAVE-END")},this.okay=function(){this.buttonSound(),this.game.exit()},this.cancel=function(){this.buttonSound(),this.leave()}})},function(module,exports){pl.game.component("selectable-canvas",function(){var SELECTOR;SELECTOR={CORRECT:"[pl-correct]",INCORRECT:"[pl-incorrect]"},this.buffer=null,this.bctx=null,this.items=null,this.state("activate active","+ACTIVE"),this.state("deactivate","-ACTIVE"),this.init=function(){this.buffer=document.createElement("canvas"),this.bctx=this.buffer.getContext("2d")},this.ready=function(){var correct,$items;correct=pl.Queue.create(),correct.on("complete",this.bind(function(){this.complete()})),this.buffer.width=this.$els.width(),this.buffer.height=this.$els.height(),$items=this.find("li img"),this.items=$items.map(function(_index,_node){var $node;return $node=$(_node),$node.is(SELECTOR.CORRECT)&&correct.add(_index),$node}).toArray(),this.items.correct=correct},this.isImageTarget=function(_$image,_point,_offset,_scale){var offset,pixel;return offset=_$image.offset(),this.bctx.clearRect(0,0,this.buffer.width,this.buffer.height),this.bctx.drawImage(_$image[0],offset.left/_scale-_offset[0],offset.top/_scale-_offset[1],_$image.width(),_$image.height()),pixel=this.bctx.getImageData(_point.x,_point.y,1,1),this.bctx.fillStyle="white",this.bctx.fillRect(_point.x,_point.y,5,5),pixel.data[3]>0},this.behavior("select",function(){var offset,cursor,scale,returnValue=!1;return scale=this.game.transformScale().x,offset=this.$els.absolutePosition().scale(1/scale),cursor=this.event.cursor.scale(1/this.game.zoom).dec(offset).math("floor"),this.items.every(this.bind(function(_$item){return this.isImageTarget(_$item,cursor,offset,scale)?(returnValue={message:_$item.parent().index(),behaviorTarget:_$item.parent()},!1):!0})),returnValue}),this.deactivateAll=function(){this.deactivate(this.getActive())},this.unhighlightAll=function(){this.unhighlight(this.getHighlighted())}})},function(module,exports){pl.game.component("selectable",function(){this.behavior("select",function(_target){var $target;if(this.event){if($target=$(this.event.target).closest("li"),this.shouldSelect($target)!==!1)return{message:$target.index(),behaviorTarget:$target}}else this.proto(_target);return!1}),this.shouldSelect=function(){return!this.screen.state(this.screen.STATE.VOICE_OVER)}})},function(module,exports){pl.game.component("title",function(){this.ready=function(){this.open(),this.audio.background.play(),this.delay(1500,function(){this.complete()})}})},function(module,exports){pl.game.component("video",function(){var bg;this.start=function(){this.video.on("ended",function(){this.complete()}.bind(this)),this.stopBackground(),this.video[0].play()},this.stopBackground=function(){!this.properties.playBackground&&(bg=this.game.media.playing(".background"))&&bg.stop("@ALL")},this.pause=function(){this.video[0].pause()},this.resume=function(){this.isComplete||(this.stopBackground(),this.video[0].play())}})},function(module,exports){pl.game.config({screenSelector:".screen",componentDirectory:"components/",dimensions:{width:960,ratio:16/9},shouldLoadComponentStyles:!1})},function(module,exports,__webpack_require__){__webpack_require__(8),__webpack_require__(11),__webpack_require__(1),__webpack_require__(2),__webpack_require__(3),__webpack_require__(4),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(12),__webpack_require__(10),pl.game("meerkat-mania",function(){var videoScreen=function videoScreen(){this.on("ui-open",function(){setTimeout(function(){this.video.start()}.bind(this),250)}),this.on("ui-close",function(){this.video.pause(),this.game.bgSound&&this.game.bgSound.play()})};this.screen("title",function(){this.on("ui-open",function(_event){this===_event.targetScope&&this.title.start()}),this.on("ready",function(_event){this.is(_event.target)&&this.game.iosSplash.state(this.STATE.READY)&&this.game.iosSplash.splash()}),this.startAudio=function(){this.title.audio.background.play(),this.title.audio.voiceOver.play()},this.stopAudio=function(){this.title.audio.voiceOver.stop("@ALL")}}),this.screen("roles",function(){this.respond("select",function(_event){var index=_event.message;Number.isInteger(index)&&~index&&(this.highlight(_event.behaviorTarget),this.selectableCanvas.activate(_event.behaviorTarget),this.reveal.item(index))}),this.respond("closeAll",function(didClose){didClose&&this.selectableCanvas.deactivateAll()}),this.start=function(){this.selectableCanvas.deactivateAll(),this.selectableCanvas.unhighlightAll(),this.reveal.item(6)}}),this.screen("video",videoScreen),this.screen("video-2",videoScreen),this.screen("feel",function(){this.on("ui-open",function(_event){this.is(_event.target)&&this.selectable.audio.voiceOver.on("ended",function(){this.complete()}.bind(this.selectable))}),this.on("ui-close ui-leave",function(){this.selectable.audio.voiceOver.off("ended")}),this.respond("select",function(_event){var index,stateMethod;index=_event.message,stateMethod=this.properties.selectState||"select",~index&&(this[stateMethod](_event.behaviorTarget),this.audio.sfx.play("correct"),this.selectable.audio.voiceOver.play(index))})}),this.screen("flip",function(){this.next=function(){this.game.quit.okay()},this.on("ui-open",function(){this.delay("4.5s",function(){this.audio.sfx.flip&&this.state(this.STATE.OPEN)&&this.audio.sfx.flip.play()})}),this.complete=function(){var eventCategory,theEvent=new Event("game-event",{bubbles:!0,cancelable:!1});return theEvent.name="flip",theEvent.gameData={id:this.game.id()},window.frameElement&&window.frameElement.dispatchEvent(theEvent),eventCategory=["game",this.game.id(),this.id()+"("+(this.index()+1)+")"].join(" "),ga("send","event",eventCategory,"complete"),this.proto()}}),this.exit=function(){var screen,eventCategory;return screen=this.findOwn(pl.game.config("screenSelector")+".OPEN:not(#quit)").scope(),eventCategory=["game",this.id(),screen.id()+"("+(screen.index()+1)+")"].join(" "),ga("send","event",eventCategory,"quit"),this.proto()}})},function(module,exports){!function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r,i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src=g,m.parentNode.insertBefore(a,m)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-26000499-1","auto"),ga("send","pageview")},function(module,exports){pl.game.component("screen-ios-splash",function(){this.on("ready",function(_e){this.is(_e.target)&&this.game&&this.game.title.state(this.STATE.READY)&&this.splash()}),this.splash=function(){this.close(this.game.loader),this.game.hasClass("iOS")?(this.open(),this.ball.delay(0,this.ball.open)):this.game.title.open()},this.next=function(){var nextScreen=this.proto();return nextScreen&&(this.screen.leave(),nextScreen.open(),this.game.audio.sfx.button.play()),nextScreen},this.complete=function(){return this.game.audio.sfx.play("screenComplete"),this.proto()},this.startGame=function(){this.hasClass("FINISHED")&&(this.game.addClass("STARTED"),this.delay("2.5s",function(){this.next()}))},this.on("animationend",function(_e){this.ball.is(_e.target)&&this.addClass("FINISHED")})})},function(module,exports){!function test(_env){window.parent===window?window.location.href="https://www.changemyworldnow.com/":document.domain="changemyworldnow.com"}()}]);
//# sourceMappingURL=ai.js.map