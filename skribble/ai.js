!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="/build/",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(22)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg))classes.push(classNames.apply(null,arg));else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}var hasOwn={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?module.exports=classNames:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),Selectable=function(_play$Component){function Selectable(){_classCallCheck(this,Selectable),_get(Object.getPrototypeOf(Selectable.prototype),"constructor",this).call(this),this.state={selectClass:"SELECTED",classes:{},list:[React.createElement("li",null),React.createElement("li",null),React.createElement("li",null),React.createElement("li",null)],selectFunction:this.select}}return _inherits(Selectable,_play$Component),_createClass(Selectable,[{key:"start",value:function start(){var _this=this,selectFunction,classes={};selectFunction="HIGHLIGHTED"===this.state.selectClass?this.highlight:this.select,this.props.selectOnStart&&(classes[this.props.selectOnStart]=this.state.selectClass),this.setState({started:!0,classes:classes,selectFunction:selectFunction}),this.bootstrap(),Object.keys(this.refs).map(function(key){"function"==typeof _this.refs[key].start&&_this.refs[key].start()})}},{key:"selectHelper",value:function selectHelper(e,classes){var message,target;target=e.target.closest("LI"),target&&(message=target.getAttribute("data-ref"),classes[message]=this.state.selectClass,this.setState({classes:classes}),"function"==typeof this.props.selectRespond&&this.props.selectRespond(message),this.requireForComplete=this.requireForComplete.filter(function(key){return key!==message}),this.checkComplete())}},{key:"select",value:function select(e){var classes=[];this.selectHelper(e,classes)}},{key:"highlight",value:function highlight(e){var classes=this.state.classes;this.selectHelper(e,classes)}},{key:"getClass",value:function getClass(key){return(0,_classnames2["default"])(_defineProperty({},this.state.classes[key]||"",!0))}},{key:"getULClass",value:function getULClass(){return(0,_classnames2["default"])({COMPLETE:this.state.complete})}},{key:"renderList",value:function renderList(){var _this2=this,list=this.props.list||this.state.list;return list.map(function(li,key){var ref=null==li.props["data-ref"]?key:li.props["data-ref"];return React.createElement(play.ListItem,_extends({},li.props,{className:(li.props.className?li.props.className+" ":"")+_this2.getClass(ref),"data-ref":ref,ref:ref,key:key}))})}},{key:"render",value:function render(){return React.createElement("ul",{className:"selectable "+this.getULClass(),onClick:this.state.selectFunction.bind(this)},this.renderList())}}]),Selectable}(play.Component);exports["default"]=Selectable,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_editable_asset01Js=__webpack_require__(5),_editable_asset01Js2=_interopRequireDefault(_editable_asset01Js),_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),Canvas=function(_play$Component){function Canvas(){_classCallCheck(this,Canvas),_get(Object.getPrototypeOf(Canvas.prototype),"constructor",this).call(this),this.state={background:null,items:[],messages:[],offsetX:0,offsetY:0,active:!1},this.boundDeleteItem=this.deleteItem.bind(this),this.boundCheckItem=this.checkItem.bind(this),this.boundDeactivateItems=this.deactivateItems.bind(this),this.boundRelayerItems=this.relayerItems.bind(this)}return _inherits(Canvas,_play$Component),_createClass(Canvas,[{key:"getItems",value:function getItems(){var items,messages,self=this;return items=this.state.items.map(function(item,key){var state=self.refs["item-"+key].state;return item.state={version:"0.1",id:state.id,thumbnail:state.thumbnail,timestamp:state.timestamp,left:skoash.util.floor(state.left,14),top:skoash.util.floor(state.top,14),scale:skoash.util.floor(state.scale,14),rotation:skoash.util.floor(state.rotation,14),layer:state.layer,zoom:skoash.util.floor(state.zoom,14),valid:state.valid,corners:state.corners},item}),messages=this.state.messages.map(function(item,key){var state=self.refs["message-"+key].state;return item.state={left:state.left,top:state.top,scale:state.scale,rotation:state.rotation,layer:state.layer,zoom:state.zoom,valid:state.valid,corners:state.corners},item}),{background:this.state.background,items:items,messages:messages}}},{key:"setItems",value:function setItems(message){var _this=this;message&&this.setState({background:null,items:[],messages:[]},function(){_this.setState(message)})}},{key:"addItem",value:function addItem(asset){var items,messages;"background"===asset.type?this.setState({background:asset}):"item"===asset.type?(items=this.state.items,items.push(asset),this.setState({items:items})):"message"===asset.type&&(messages=this.state.messages,messages.push(asset),this.setState({messages:messages}))}},{key:"deleteItem",value:function deleteItem(key,type){var items;items=this.state[type+"s"],delete items[key],this.setState(_defineProperty({},type+"s",items))}},{key:"deactivateItems",value:function deactivateItems(exclude,type){var _this2=this;if("object"==typeof exclude&&exclude.target){if("UL"!==exclude.target.tagName)return;this.setState({active:!1})}"number"==typeof exclude&&this.setState({active:!0}),this.state.items.map(function(item,key){key===exclude&&"item"===type||!_this2.refs["item-"+key]||_this2.refs["item-"+key].deactivate()}),this.state.messages.map(function(item,key){key===exclude&&"message"===type||!_this2.refs["message-"+key]||_this2.refs["message-"+key].deactivate()})}},{key:"relayerItems",value:function relayerItems(type){var _this3=this,layers=[];this.state[type+"s"].map(function(item,key){var layer;layer=_this3.refs[type+"-"+key].state.layer,-1===layers.indexOf(layer)&&layers.push(layer)}),layers.sort(function(a,b){return b>a}),this.state[type+"s"].map(function(item,key){var oldLayer,newLayer;oldLayer=_this3.refs[type+"-"+key].state.layer,newLayer="message"===type?1e4:1e3,newLayer-=layers.indexOf(oldLayer),_this3.refs[type+"-"+key].relayer(newLayer)})}},{key:"checkItem",value:function checkItem(key,type){var _this4=this,intersects=!1,self=this;return this.state[type+"s"][key].canOverlap?!0:(this.state[type+"s"].some(function(item,index){return key===index||_this4.state[type+"s"][index].canOverlap?void 0:intersects=play.util.doIntersect(self.refs[type+"-"+key].state.corners,self.refs[type+"-"+index].state.corners)}),!intersects)}},{key:"getStyle",value:function getStyle(){return this.state.background?{backgroundImage:'url("'+this.state.background.src+'")'}:void 0}},{key:"renderItems",value:function renderItems(){var self=this;return this.state.items.map(function(item,key){return React.createElement(_editable_asset01Js2["default"],_extends({},item,{"data-ref":key,deleteItem:self.boundDeleteItem,checkItem:self.boundCheckItem,deactivateItems:self.boundDeactivateItems,relayerItems:self.boundRelayerItems,ref:"item-"+key,key:key}))})}},{key:"renderMessages",value:function renderMessages(){var self=this;return this.state.messages.map(function(item,key){return React.createElement(_editable_asset01Js2["default"],_extends({},item,{"data-ref":key,deleteItem:self.boundDeleteItem,checkItem:self.boundCheckItem,deactivateItems:self.boundDeactivateItems,relayerItems:self.boundRelayerItems,ref:"message-"+key,key:key}))})}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({canvas:!0,ACTIVE:this.state.active})}},{key:"render",value:function render(){return React.createElement("ul",{className:this.getClassNames(),style:this.getStyle(),onClick:this.deactivateItems.bind(this)},this.renderItems(),this.renderMessages())}}]),Canvas}(play.Component);exports["default"]=Canvas,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),Draggable=function(_play$Component){function Draggable(){_classCallCheck(this,Draggable),_get(Object.getPrototypeOf(Draggable.prototype),"constructor",this).call(this),this.boundMouseDown=this.mouseDown.bind(this),this.boundMouseUp=this.mouseUp.bind(this),this.boundMoveEvent=this.moveEvent.bind(this),this.boundTouchStart=this.touchStart.bind(this),this.boundTouchEnd=this.touchEnd.bind(this)}return _inherits(Draggable,_play$Component),_createClass(Draggable,[{key:"shouldDrag",value:function shouldDrag(){return!0}},{key:"markCorrect",value:function markCorrect(){this.setState({correct:!0})}},{key:"markIncorrect",value:function markIncorrect(){this.setState({correct:!1})}},{key:"startEvent",value:function startEvent(e,cb){var startX,startY,endX,endY,grabX,grabY;e.target===this.refs.el&&this.shouldDrag()&&(grabX=e.offsetX,grabY=e.offsetY,startX=endX=e.pageX-grabX,startY=endY=e.pageY-grabY,this.props["return"]||(startX="number"==typeof this.state.startX?this.state.startX:startX,startY="number"==typeof this.state.startY?this.state.startY:startY),this.setState({dragging:!0,"return":!1,startX:startX,startY:startY,grabX:grabX,grabY:grabY,endX:endX,endY:endY}),"function"==typeof this.props.dragRespond&&this.props.dragRespond(this.props.message),"function"==typeof cb&&cb.call(this))}},{key:"attachMouseEvents",value:function attachMouseEvents(){window.addEventListener("mousemove",this.boundMoveEvent),window.addEventListener("mouseup",this.boundMouseUp)}},{key:"attachTouchEvents",value:function attachTouchEvents(){window.addEventListener("touchmove",this.boundMoveEvent),window.addEventListener("touchend",this.boundTouchEnd)}},{key:"mouseDown",value:function mouseDown(e){this.startEvent(e,this.attachMouseEvents)}},{key:"touchStart",value:function touchStart(e){this.startEvent(e,this.attachTouchEvents)}},{key:"moveEvent",value:function moveEvent(e){this.setState({endX:e.pageX-this.state.grabX,endY:e.pageY-this.state.grabY})}},{key:"endEvent",value:function endEvent(cb){this.dropRespond(),this.props["return"]?this.setState({dragging:!1,"return":this.props["return"],endX:this.state.startX,endY:this.state.startY}):this.setState({dragging:!1,"return":this.props["return"]}),"function"==typeof cb&&cb.call(this)}},{key:"detachMouseEvents",value:function detachMouseEvents(){window.removeEventListener("mousemove",this.boundMoveEvent),window.removeEventListener("mouseup",this.boundMouseUp)}},{key:"detachTouchEvents",value:function detachTouchEvents(){window.removeEventListener("touchmove",this.boundMoveEvent),window.removeEventListener("touchend",this.boundTouchEnd)}},{key:"mouseUp",value:function mouseUp(){this.endEvent(this.detachMouseEvents)}},{key:"touchEnd",value:function touchEnd(){this.endEvent(this.detachTouchEvents)}},{key:"dropRespond",value:function dropRespond(){var corners;corners=this.setCorners(),"function"==typeof this.props.dropRespond&&this.props.dropRespond(this.props.message,corners)}},{key:"setCorners",value:function setCorners(){var top,left,width,height,el,corners=[];for(left=0,top=0,el=this.refs.el,width=el.offsetWidth,height=el.offsetHeight;el&&-1===el.className.indexOf("screen");)left+=el.offsetLeft||0,top+=el.offsetTop||0,el=el.offsetParent;left+=(this.state.endX-this.state.startX)/this.state.zoom,top+=(this.state.endY-this.state.startY)/this.state.zoom;for(var i=0;4>i;i++)corners.push({x:left+width*(1===i||2===i?1:0),y:top+height*(i>1?1:0)});return this.setState({corners:corners}),corners}},{key:"componentDidMount",value:function componentDidMount(){this.bootstrap()}},{key:"bootstrap",value:function bootstrap(){play.Component.prototype.bootstrap.call(this),this.setZoom(),this.refs.el.addEventListener("mousedown",this.boundMouseDown),this.refs.el.addEventListener("touchstart",this.boundTouchStart),window.addEventListener("resize",this.setZoom.bind(this))}},{key:"setZoom",value:function setZoom(){this.setState({zoom:play.trigger("getState").scale})}},{key:"getStyle",value:function getStyle(){var x,y;return x=(this.state.endX-this.state.startX)/this.state.zoom,y=(this.state.endY-this.state.startY)/this.state.zoom,{transform:"translateX("+x+"px) translateY("+y+"px)"}}},{key:"getClassNames",value:function getClassNames(){var _classNames;return(0,_classnames2["default"])((_classNames={draggable:!0},_defineProperty(_classNames,this.props.className,!0),_defineProperty(_classNames,"DRAGGING",this.state.dragging),_defineProperty(_classNames,"RETURN",this.state["return"]),_defineProperty(_classNames,"CORRECT",this.state.correct),_classNames))}},{key:"render",value:function render(){return React.createElement("div",{ref:"el",className:this.getClassNames(),style:this.getStyle()},this.props.children)}}]),Draggable}(play.Component);exports["default"]=Draggable,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_draggable01Js=__webpack_require__(4),_draggable01Js2=_interopRequireDefault(_draggable01Js),_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),EditableAsset=function(_Draggable){function EditableAsset(){_classCallCheck(this,EditableAsset),_get(Object.getPrototypeOf(EditableAsset.prototype),"constructor",this).call(this),this.state={width:0,height:0,left:0,top:0,scale:.75,minScale:.1,maxScale:1,rotation:0,layer:1e3,zoom:1,active:!1,valid:!0,corners:[],lastValid:{}},this.boundScale=this.scale.bind(this),this.boundAdjustScale=this.adjustScale.bind(this),this.boundOffScale=this.offScale.bind(this),this.boundRotate=this.rotate.bind(this),this.boundAdjustRotation=this.adjustRotation.bind(this),this.boundOffRotate=this.offRotate.bind(this)}return _inherits(EditableAsset,_Draggable),_createClass(EditableAsset,[{key:"shouldDrag",value:function shouldDrag(){return this.state.active}},{key:"activate",value:function activate(){this.setState({active:!0}),"function"==typeof this.props.deactivateItems&&this.props.deactivateItems(this.props["data-ref"],this.props.type)}},{key:"deactivate",value:function deactivate(){var self=this;this.state.valid?this.setState({active:!1}):this.setState({left:this.state.lastValid.left||this.state.left,top:this.state.lastValid.top||this.state.top,scale:this.state.lastValid.scale||this.state.scale,rotation:this.state.lastValid.rotation||this.state.rotation,active:!1},function(){setTimeout(function(){self.checkItem()},0)})}},{key:"moveEvent",value:function moveEvent(e){this.setState({endX:e.pageX-this.state.grabX,endY:e.pageY-this.state.grabY,left:(e.pageX-this.state.grabX-this.state.startX)/this.state.zoom,top:(e.pageY-this.state.grabY-this.state.startY)/this.state.zoom}),this.checkItem()}},{key:"delete",value:function _delete(){"function"==typeof this.props.deleteItem&&this.props.deleteItem(this.props["data-ref"],this.props.type)}},{key:"rotate",value:function rotate(){this.refs.el.parentNode.addEventListener("mousemove",this.boundAdjustRotation),this.refs.el.parentNode.addEventListener("mouseup",this.boundOffRotate)}},{key:"offRotate",value:function offRotate(){this.refs.el.parentNode.removeEventListener("mousemove",this.boundAdjustRotation),this.refs.el.parentNode.removeEventListener("mouseup",this.boundOffRotate)}},{key:"adjustRotation",value:function adjustRotation(e){var rotation,deltaX,deltaY;deltaX=e.pageX/this.state.zoom-this.refs.el.offsetParent.offsetLeft-(this.state.left+this.state.width/2),deltaY=e.pageY/this.state.zoom-this.refs.el.offsetParent.offsetTop-(this.state.top+this.state.height/2),rotation=Math.atan2(deltaY,deltaX)+Math.PI/4%(2*Math.PI),this.setState({rotation:rotation}),this.checkItem()}},{key:"layer",value:function layer(){var layer,self=this;layer=this.state.layer-1,this.setState({layer:layer},function(){"function"==typeof self.props.relayerItems&&self.props.relayerItems(self.props.type)})}},{key:"relayer",value:function relayer(layer){this.setState({layer:layer})}},{key:"scale",value:function scale(){this.refs.el.parentNode.addEventListener("mousemove",this.boundAdjustScale),this.refs.el.parentNode.addEventListener("mouseup",this.boundOffScale)}},{key:"offScale",value:function offScale(){this.refs.el.parentNode.removeEventListener("mousemove",this.boundAdjustScale),this.refs.el.parentNode.removeEventListener("mouseup",this.boundOffScale)}},{key:"adjustScale",value:function adjustScale(e){var scale,deltaX,deltaY,delta,base;deltaX=e.pageX/this.state.zoom-this.refs.el.offsetParent.offsetLeft-(this.state.left+this.state.width/2),deltaY=e.pageY/this.state.zoom-this.refs.el.offsetParent.offsetTop-(this.state.top+this.state.height/2),delta=Math.pow(Math.pow(deltaX,2)+Math.pow(deltaY,2),.5),base=Math.pow(Math.pow(this.state.width/2,2)+Math.pow(this.state.height/2,2),.5),scale=Math.max(Math.min(delta/base,1),this.state.minScale),this.setState({scale:scale}),this.checkItem()}},{key:"checkItem",value:function checkItem(){var valid;this.setCorners(),"function"==typeof this.props.checkItem&&(valid=this.props.checkItem(this.props["data-ref"],this.props.type),valid?this.setState({valid:valid,lastValid:new Object(this.state)}):this.setState({valid:valid}))}},{key:"setCorners",value:function setCorners(){var center,distance,angle,corners=[];center={x:this.state.left+this.state.width/2,y:this.state.top+this.state.height/2},distance=Math.pow(Math.pow(this.state.width*this.state.scale/2,2)+Math.pow(this.state.height*this.state.scale/2,2),.5);for(var i=0;4>i;i++)angle=this.state.rotation,angle+=2>i?0:Math.PI,angle+=Math.pow(-1,i)*Math.atan2(this.state.height,this.state.width),corners.push({x:center.x+distance*Math.cos(angle),y:center.y+distance*Math.sin(angle)});this.setState({corners:corners})}},{key:"getSize",value:function getSize(){var _this=this,image,self=this;image=new Image,image.onload=function(){var width,height,minDim,minScale;minDim=_this.props.minDim||40,width=image.width,height=image.height,minScale=Math.max(minDim/width,minDim/height),self.setState({width:width,height:height,minScale:minScale,scale:self.props.state&&self.props.state.scale?self.props.state.scale:Math.max(self.state.scale,minScale)},function(){self.checkItem()})},image.src=this.props.src}},{key:"getLayer",value:function getLayer(){var layer=1e3;if(this.props.state&&this.props.state.layer)layer=this.props.state.layer;else switch(this.props.type){case"background":layer=1;break;case"message":layer=1e4}this.setState({layer:layer})}},{key:"attachEvents",value:function attachEvents(){this.refs.scale.addEventListener("mousedown",this.boundScale),this.refs.rotate.addEventListener("mousedown",this.boundRotate)}},{key:"componentDidMount",value:function componentDidMount(){this.bootstrap()}},{key:"bootstrap",value:function bootstrap(){_draggable01Js2["default"].prototype.bootstrap.call(this),this.props.state&&this.setState(this.props.state),this.getSize(),this.getLayer(),this.attachEvents()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.attachEvents()}},{key:"getButtonStyle",value:function getButtonStyle(){var style,transform="";return transform+="scale("+1/this.state.scale+") ",transform+="rotate("+-this.state.rotation+"rad) ",style={transform:transform}}},{key:"getStyle",value:function getStyle(){var style,transform="";return transform+="scale("+this.state.scale+") ",transform+="rotate("+this.state.rotation+"rad) ",style={backgroundImage:'url("'+this.props.src+'")',width:this.state.width,height:this.state.height,left:this.state.left,top:this.state.top,transform:transform,zIndex:this.state.layer}}},{key:"getClasses",value:function getClasses(){return(0,_classnames2["default"])(_defineProperty({DRAGGING:this.state.dragging,RETURN:this.state["return"],ACTIVE:this.state.active,INVALID:!this.state.valid,"editable-asset":!0},this.props.type,!0))}},{key:"renderButtons",value:function renderButtons(){return React.createElement("div",{className:"buttons"},React.createElement("button",{className:"delete",style:this.getButtonStyle(),onClick:this["delete"].bind(this)}),React.createElement("button",{ref:"rotate",className:"rotate",style:this.getButtonStyle()}),React.createElement("button",{className:"layer",onClick:this.layer.bind(this),style:this.getButtonStyle()}),React.createElement("button",{ref:"scale",className:"scale",style:this.getButtonStyle()}))}},{key:"render",value:function render(){return React.createElement("li",{ref:"el",className:this.getClasses(),style:this.getStyle(),onClick:this.activate.bind(this)},this.renderButtons())}}]),EditableAsset}(_draggable01Js2["default"]);exports["default"]=EditableAsset,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_selectable01=__webpack_require__(2),_selectable012=_interopRequireDefault(_selectable01),_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),Inbox=function(_Selectable){function Inbox(){_classCallCheck(this,Inbox),_get(Object.getPrototypeOf(Inbox.prototype),"constructor",this).call(this)}return _inherits(Inbox,_Selectable),_createClass(Inbox,[{key:"selectHelper",value:function selectHelper(e){var li,message,key,type,classes=[];li=e.target.closest("LI"),li&&(key=li.getAttribute("data-ref"),type=this.refs[key].props.item.type,"category"===type?this.setState({category:key}):(message=this.refs[key].props.item,classes[key]=this.state.selectClass,this.setState({message:message,classes:classes})))}},{key:"selectButton",value:function selectButton(){"function"==typeof this.props.selectRespond&&this.state.message&&this.props.selectRespond(this.state.message)}},{key:"cancelButton",value:function cancelButton(){"function"==typeof this.props.cancelRespond&&this.props.cancelRespond()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(){this.setState({category:null})}},{key:"getClass",value:function getClass(key,unread,sent){var _classNames;return(0,_classnames2["default"])((_classNames={},_defineProperty(_classNames,this.state.classes[key]||"",!0),_defineProperty(_classNames,"UNREAD",unread),_defineProperty(_classNames,"SENT",sent),_classNames))}},{key:"renderList",value:function renderList(){var _this=this,items;
return this.props.data&&this.props.data.items?(items=this.props.data.items,this.state.category&&(items=items[this.state.category].items),items.map(function(item,key){var timestamp=moment(item.timestamp);return React.createElement(play.ListItem,{className:_this.getClass(key,item.unread,item.sent),ref:key,"data-ref":key,item:item,key:key},React.createElement(play.Image,{src:item["profile-image"]}),React.createElement("span",{className:"username"},item.username),React.createElement("span",{className:"timestamp"},React.createElement("span",{className:"date"},timestamp.format("DD.MM.YY")),React.createElement("span",{className:"time"},timestamp.format("h:mm:ss a"))))})):void 0}},{key:"render",value:function render(){return React.createElement("div",null,React.createElement("ul",{className:"item-drawer "+this.getULClass(),onClick:this.state.selectFunction.bind(this)},this.renderList()))}}]),Inbox}(_selectable012["default"]);exports["default"]=Inbox,module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},iOSSplashScreen=function(_play$Screen){function iOSSplashScreen(){_classCallCheck(this,iOSSplashScreen),_get(Object.getPrototypeOf(iOSSplashScreen.prototype),"constructor",this).call(this),this.state={id:"ios-splash"}}return _inherits(iOSSplashScreen,_play$Screen),_createClass(iOSSplashScreen,[{key:"startGame",value:function startGame(){var _this=this,self=this;this.state.complete&&!this.state.leaving&&(setTimeout(function(){self["goto"](_this.props.index+1)},2500),this.setState({leaving:!0}))}},{key:"open",value:function open(){var self=this;this.setState({open:!0,leave:!1,close:!1}),setTimeout(function(){self.start()},250),setTimeout(function(){self.complete()},6250)}},{key:"renderContent",value:function renderContent(){return this.state.load?React.createElement("div",null,React.createElement(play.Image,{className:"hidden",src:"../shared/images/ios_start_ball.png"}),React.createElement(play.Image,{className:"hidden",src:"../shared/images/ios_start_ball_anim.gif"}),React.createElement("div",{ref:"ball",className:"ball",onAnimationEnd:this.complete.bind(this),onClick:this.startGame.bind(this)})):null}},{key:"renderPrevButton",value:function renderPrevButton(){return null}},{key:"renderNextButton",value:function renderNextButton(){return null}}]),iOSSplashScreen}(play.Screen);exports["default"]=iOSSplashScreen,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_selectable01=__webpack_require__(2),_selectable012=_interopRequireDefault(_selectable01),_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),ItemDrawer=function(_Selectable){function ItemDrawer(){_classCallCheck(this,ItemDrawer),_get(Object.getPrototypeOf(ItemDrawer.prototype),"constructor",this).call(this)}return _inherits(ItemDrawer,_Selectable),_createClass(ItemDrawer,[{key:"selectHelper",value:function selectHelper(e){var message,key,type,classes=[];"LI"===e.target.tagName&&(key=e.target.getAttribute("data-ref"),type=this.refs[key].props.item.type,"category"===type?this.setState({category:key}):(message=this.refs[key].props.item,classes[key]=this.state.selectClass,this.setState({message:message,classes:classes})))}},{key:"selectButton",value:function selectButton(){"function"==typeof this.props.selectRespond&&this.state.message&&this.props.selectRespond(this.state.message)}},{key:"cancelButton",value:function cancelButton(){"function"==typeof this.props.cancelRespond&&this.props.cancelRespond()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(){this.setState({category:null})}},{key:"getULClass",value:function getULClass(){var _classNames,categories="";return this.props.categories&&(categories=this.props.categories.join(" ")),(0,_classnames2["default"])((_classNames={"item-drawer":!0},_defineProperty(_classNames,categories,!0),_defineProperty(_classNames,"COMPLETE",this.state.complete),_classNames))}},{key:"renderList",value:function renderList(){var _this=this,items;return this.props.data&&this.props.data.items?(items=this.props.data.items,this.state.category&&(items=items[this.state.category].items),items.map(function(item,key){return React.createElement(play.ListItem,{className:_this.getClass(key),ref:key,"data-ref":key,item:item,key:key,style:{backgroundImage:'url("'+item.src+'")'}},item.name)})):void 0}},{key:"render",value:function render(){return React.createElement("div",null,React.createElement("div",{className:"item-drawer-container"},React.createElement("ul",{className:this.getULClass(),onClick:this.state.selectFunction.bind(this)},this.renderList())),React.createElement("div",{className:"buttons"},React.createElement("button",{className:"select",onClick:this.selectButton.bind(this)}),React.createElement("button",{className:"cancel",onClick:this.cancelButton.bind(this)})))}}]),ItemDrawer}(_selectable012["default"]);exports["default"]=ItemDrawer,module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},Loader=function(_play$Component){function Loader(){_classCallCheck(this,Loader),_get(Object.getPrototypeOf(Loader.prototype),"constructor",this).call(this)}return _inherits(Loader,_play$Component),_createClass(Loader,[{key:"render",value:function render(){return React.createElement("div",{id:"loader",className:"center"},React.createElement("div",{className:"group"},React.createElement("h2",null,"Loading!"),React.createElement("div",{className:"spinner animated"},React.createElement("div",{className:"spinner animated"},React.createElement("div",{className:"spinner animated"})))))}}]),Loader}(play.Component);exports["default"]=Loader,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_selectable01Js=__webpack_require__(2),_selectable01Js2=_interopRequireDefault(_selectable01Js),_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),Menu=function(_Selectable){function Menu(){_classCallCheck(this,Menu),_get(Object.getPrototypeOf(Menu.prototype),"constructor",this).call(this),this.state={active:!1,selectClass:"SELECTED",classes:{}}}return _inherits(Menu,_Selectable),_createClass(Menu,[{key:"deactivate",value:function deactivate(){var self=this;this.setState({active:!1}),Object.keys(this.refs).map(function(key){"function"==typeof self.refs[key].deactivate&&self.refs[key].deactivate()})}},{key:"onClick",value:function onClick(e){var li,ul,dom,message,active=!1,classes=[];li=e.target.closest("LI"),li&&(ul=li.closest("UL"),dom=ReactDOM.findDOMNode(this),ul===dom&&(message=li.getAttribute("data-ref"),this.state.classes[message]!==this.state.selectClass&&(classes[message]=this.state.selectClass,active=!this.props.inactive),this.setState({classes:classes,active:active})))}},{key:"renderItems",value:function renderItems(){var _this=this,self=this;return"object"==typeof this.props.items?Object.keys(this.props.items).map(function(key){var item,onClick,gotoObj,categories;return categories=_this.props.categories?[].concat(_this.props.categories):[],categories.push(key),item=_this.props.items[key],item.items&&"[object Array]"!==Object.prototype.toString.call(item.items)||(gotoObj={index:"item-drawer",categories:categories},onClick=play.trigger.bind(null,"goto",gotoObj)),React.createElement(play.ListItem,{className:self.getClass(key),"data-ref":key,ref:key,key:key,onClick:onClick},React.createElement("span",null),function(){return"object"==typeof item.items&&"[object Array]"!==Object.prototype.toString.call(item.items)?React.createElement(Menu,{ref:"menu-"+key,categories:categories,items:item.items,inactive:!0}):void 0}())}):void 0}},{key:"getClass",value:function getClass(key){var _classNames;return(0,_classnames2["default"])((_classNames={},_defineProperty(_classNames,key.replace(" ","-"),!0),_defineProperty(_classNames,this.state.classes[key]||"",!0),_classNames))}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({menu:!0,ACTIVE:this.state.active})}},{key:"render",value:function render(){return React.createElement("ul",{className:this.getClassNames(),onClick:this.onClick.bind(this)},this.renderItems())}}]),Menu}(_selectable01Js2["default"]);exports["default"]=Menu,module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},QuitScreen=function(_play$Screen){function QuitScreen(){_classCallCheck(this,QuitScreen),_get(Object.getPrototypeOf(QuitScreen.prototype),"constructor",this).call(this),this.state={id:"quit"}}return _inherits(QuitScreen,_play$Screen),_createClass(QuitScreen,[{key:"okay",value:function okay(){play.trigger("quit")}},{key:"cancel",value:function cancel(){this.close(),play.trigger("menuClose",{id:this.state.id})}},{key:"render",value:function render(){return React.createElement("div",{id:this.state.id,className:"screen"+this.getClassNames()},React.createElement("div",{className:"center"},React.createElement("div",{className:"frame"},React.createElement("h2",null,"Are you sure you",React.createElement("br",null),"want to quit?"),React.createElement("h3",null,"Your game progress will be saved"),React.createElement("button",{className:"quit-yes",onClick:this.okay.bind(this)}),React.createElement("button",{className:"quit-no",onClick:this.cancel.bind(this)}))))}}]),QuitScreen}(play.Screen);exports["default"]=QuitScreen,module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},Reveal=function(_play$Component){function Reveal(){_classCallCheck(this,Reveal),_get(Object.getPrototypeOf(Reveal.prototype),"constructor",this).call(this),this.list=[React.createElement("li",null),React.createElement("li",null),React.createElement("li",null),React.createElement("li",null)],this.state={openReveal:""}}return _inherits(Reveal,_play$Component),_createClass(Reveal,[{key:"open",value:function open(message){var _this=this;this.setState({open:!0,openReveal:message}),this.playAudio(message),this.requireForComplete=this.requireForComplete.filter(function(item){return item!==message||_this.refs[message]instanceof play.Audio})}},{key:"close",value:function close(){this.setState({open:!1,openReveal:""}),"function"==typeof this.props.closeRespond&&this.props.closeRespond()}},{key:"start",value:function start(){play.Component.prototype.start.call(this),this.close(),this.props.openOnStart&&this.open(this.props.openOnStart)}},{key:"playAudio",value:function playAudio(message){var _this2=this,messages;this.audio["open-sound"]&&this.audio["open-sound"].play(),"string"==typeof message?(messages=message.split(" "),messages.map(function(audio){_this2.audio[audio]&&_this2.audio[audio].play()})):this.audio.voiceOver[message]&&this.audio.voiceOver[message].play()}},{key:"renderAssets",value:function renderAssets(){return this.props.assets?this.props.assets.map(function(asset,key){return React.createElement(play.Audio,_extends({},asset.props,{ref:asset.props["data-ref"]||"asset-"+key,key:key,"data-ref":key}))}):null}},{key:"renderList",value:function renderList(){var _this3=this,list=this.props.list||this.list;return list.map(function(li,key){var ref=null==li.props["data-ref"]?key:li.props["data-ref"];return React.createElement("li",_extends({},li.props,{className:_this3.getClass(li,key),"data-ref":ref,ref:key,key:key}))})}},{key:"getClass",value:function getClass(li,key){var classes="";return li.props.className&&(classes+=li.props.className),-1!==this.state.openReveal.indexOf(key)&&(classes+=" OPEN"),-1!==this.state.openReveal.indexOf(li.props["data-ref"])&&(classes+=" OPEN"),classes}},{key:"getClasses",value:function getClasses(){var classes="";return this.state.open&&(classes+="OPEN"),this.state.complete&&(classes+=" COMPLETE"),classes}},{key:"render",value:function render(){return React.createElement("div",{className:"reveal "+this.getClasses()},this.renderAssets(),React.createElement("div",null,React.createElement("ul",null,this.renderList()),React.createElement("button",{className:"close-reveal",onClick:this.close.bind(this)})))}}]),Reveal}(play.Component);exports["default"]=Reveal,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_selectable01=__webpack_require__(2),_selectable012=_interopRequireDefault(_selectable01),_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),SavedMessages=function(_Selectable){function SavedMessages(){_classCallCheck(this,SavedMessages),_get(Object.getPrototypeOf(SavedMessages.prototype),"constructor",this).call(this)}return _inherits(SavedMessages,_Selectable),_createClass(SavedMessages,[{key:"selectHelper",value:function selectHelper(e){var li,message,key,classes=[];li=e.target.closest("LI"),li&&(key=li.getAttribute("data-ref"),message=this.refs[key].props.item,classes[key]=this.state.selectClass,this.setState({message:message,classes:classes},this.selectRespond.bind(this)))}},{key:"selectRespond",value:function selectRespond(){"function"==typeof this.props.selectRespond&&this.state.message&&this.props.selectRespond(this.state.message)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(){this.setState({category:null})}},{key:"getClass",value:function getClass(key){var _classNames;return(0,_classnames2["default"])((_classNames={},_defineProperty(_classNames,this.state.classes[key]||"",!0),_defineProperty(_classNames,"DRAFT",!0),_classNames))}},{key:"renderList",value:function renderList(){var _this=this,items;return this.props.data&&this.props.data.items?(items=this.props.data.items,this.state.category&&(items=items[this.state.category].items),items.map(function(item,key){var timestamp=moment(item.timestamp);return React.createElement(play.ListItem,{className:_this.getClass(key),ref:key,"data-ref":key,item:item,key:key},React.createElement(play.Image,{src:item.thumbnail}),React.createElement("span",{className:"timestamp"},React.createElement("span",{className:"date"},timestamp.format("DD.MM.YY")),React.createElement("span",{className:"time"},timestamp.format("h:mm:ss a"))))})):void 0}},{key:"render",value:function render(){return React.createElement("div",null,React.createElement("ul",{className:"item-drawer SAVED"+this.getULClass(),onClick:this.state.selectFunction.bind(this)},this.renderList()))}}]),SavedMessages}(_selectable012["default"]);exports["default"]=SavedMessages,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_selectable01Js=__webpack_require__(2),_selectable01Js2=_interopRequireDefault(_selectable01Js),_reveal01Js=__webpack_require__(12),_reveal01Js2=_interopRequireDefault(_reveal01Js),SelectableReveal=function(_play$Component){function SelectableReveal(){_classCallCheck(this,SelectableReveal),_get(Object.getPrototypeOf(SelectableReveal.prototype),"constructor",this).call(this),this.state={answers:[]}}return _inherits(SelectableReveal,_play$Component),_createClass(SelectableReveal,[{key:"open",value:function open(message){this.refs.reveal.open(message)}},{key:"selectRespond",value:function selectRespond(message){this.state.answers.length?-1===this.state.answers.indexOf(message)?this.audio.incorrect&&this.audio.incorrect.play():(this.audio.correct&&this.audio.correct.play(),"function"==typeof this.refs.reveal.open&&this.open(message)):"function"==typeof this.refs.reveal.open&&this.open(message)}},{key:"closeRespond",value:function closeRespond(){"function"==typeof this.props.closeRespond&&this.props.closeRespond()}},{key:"renderAssets",value:function renderAssets(){return this.props.assets?this.props.assets.map(function(asset,key){return React.createElement(play.Audio,_extends({},asset.props,{ref:asset.props["data-ref"]||"asset-"+key,key:key,"data-ref":key}))}):null}},{key:"renderSelectable",value:function renderSelectable(){return React.createElement(_selectable01Js2["default"],{ref:"selectable",list:this.props.selectableList,selectRespond:this.selectRespond.bind(this),selectClass:this.props.selectableSelectClass,selectOnStart:this.props.selectOnStart})}},{key:"renderReveal",value:function renderReveal(){return React.createElement(_reveal01Js2["default"],{ref:"reveal",list:this.props.revealList,assets:this.props.revealAssets,closeRespond:this.closeRespond.bind(this),openOnStart:this.props.openOnStart})}},{key:"getClasses",value:function getClasses(){var classes="";return this.state.complete&&(classes+=" COMPLETE"),classes}},{key:"render",value:function render(){return React.createElement("div",{className:"selectable-reveal"+this.getClasses()},this.renderAssets(),this.renderSelectable(),this.renderReveal())}}]),SelectableReveal}(play.Component);exports["default"]=SelectableReveal,module.exports=exports["default"]},function(module,exports){!function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r,i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src=g,m.parentNode.insertBefore(a,m)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-26000499-1","auto"),ga("send","pageview")},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor);
}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsCanvas01Js=__webpack_require__(3),_sharedComponentsCanvas01Js2=_interopRequireDefault(_sharedComponentsCanvas01Js),_sharedComponentsMenu01Js=__webpack_require__(10),_sharedComponentsMenu01Js2=_interopRequireDefault(_sharedComponentsMenu01Js),_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),CanvasScreen=function(_play$Screen){function CanvasScreen(){_classCallCheck(this,CanvasScreen),_get(Object.getPrototypeOf(CanvasScreen.prototype),"constructor",this).call(this),this.state={id:"canvas",load:!0,menus:{}}}return _inherits(CanvasScreen,_play$Screen),_createClass(CanvasScreen,[{key:"bootstrap",value:function bootstrap(){var menus,state;play.Screen.prototype.bootstrap.call(this),state=play.trigger("getState"),state&&state.data&&state.data.menus&&(menus=state.data.menus,this.setState({menus:menus}))}},{key:"addItem",value:function addItem(message){message&&(this.setState({background:this.state.background||"background"===message.type}),this.refs.canvas.addItem(message))}},{key:"open",value:function open(opts){this.refs&&this.refs.menu&&this.refs.menu.deactivate(),opts.message&&(this.setState({background:!!opts.message.background}),this.refs.canvas.setItems(opts.message)),play.Screen.prototype.open.call(this)}},{key:"getContainerClasses",value:function getContainerClasses(){return(0,_classnames2["default"])({"canvas-container":!0,BACKGROUND:this.state.background})}},{key:"renderPrevButton",value:function renderPrevButton(){return null}},{key:"renderNextButton",value:function renderNextButton(){return null}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement(play.Image,{className:"hidden",src:"media/_Frames/SK_frames_canvas.png"}),React.createElement(_sharedComponentsMenu01Js2["default"],{ref:"menu",items:this.state.menus}),React.createElement("div",{className:this.getContainerClasses()},React.createElement(_sharedComponentsCanvas01Js2["default"],{ref:"canvas"})))}}]),CanvasScreen}(play.Screen);exports["default"]=CanvasScreen,module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},FriendScreen=function(_play$Screen){function FriendScreen(){_classCallCheck(this,FriendScreen),_get(Object.getPrototypeOf(FriendScreen.prototype),"constructor",this).call(this),this.state={id:"friends"}}return _inherits(FriendScreen,_play$Screen),_createClass(FriendScreen,[{key:"renderPrevButton",value:function renderPrevButton(){return null}},{key:"renderNextButton",value:function renderNextButton(){return null}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement("div",{className:"header"}),React.createElement("div",{className:"buttons"},React.createElement("button",{className:"select",onClick:this["goto"].bind(this,"canvas")}),React.createElement("button",{className:"cancel",onClick:this["goto"].bind(this,1)})))}}]),FriendScreen}(play.Screen);exports["default"]=FriendScreen,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsSelectable_reveal01Js=__webpack_require__(14),_sharedComponentsSelectable_reveal01Js2=_interopRequireDefault(_sharedComponentsSelectable_reveal01Js),_sharedComponentsInbox01Js=__webpack_require__(6),_sharedComponentsInbox01Js2=_interopRequireDefault(_sharedComponentsInbox01Js),_sharedComponentsSaved_messages01Js=__webpack_require__(13),_sharedComponentsSaved_messages01Js2=_interopRequireDefault(_sharedComponentsSaved_messages01Js),InboxScreen=function(_play$Screen){function InboxScreen(){_classCallCheck(this,InboxScreen),_get(Object.getPrototypeOf(InboxScreen.prototype),"constructor",this).call(this),this.state={id:"inbox",load:!0},this.selectableList=[React.createElement("li",null),React.createElement("li",null),React.createElement("li",null),React.createElement("li",null),React.createElement("li",null)],this.revealList=this.getRevealList()}return _inherits(InboxScreen,_play$Screen),_createClass(InboxScreen,[{key:"getRevealList",value:function getRevealList(inbox,outbox,saved){var read,unread;return inbox=inbox||[],read=inbox.filter(function(item){return!item.unread}),unread=inbox.filter(function(item){return item.unread}),[React.createElement("li",null,React.createElement(_sharedComponentsInbox01Js2["default"],{"data-ref":"inbox",data:{items:inbox||[]}})),React.createElement("li",null,React.createElement(_sharedComponentsInbox01Js2["default"],{"data-ref":"unread",data:{items:unread||[]}})),React.createElement("li",null,React.createElement(_sharedComponentsInbox01Js2["default"],{"data-ref":"ready",data:{items:read||[]}})),React.createElement("li",null,React.createElement(_sharedComponentsInbox01Js2["default"],{"data-ref":"outbox",data:{items:outbox||[]}})),React.createElement("li",null,React.createElement(_sharedComponentsSaved_messages01Js2["default"],{"data-ref":"saved",data:{items:saved||[]},selectRespond:this.editMessage.bind(this)}))]}},{key:"editMessage",value:function editMessage(message){play.trigger("goto",{index:"canvas",message:message})}},{key:"updateData",value:function updateData(){var data,inbox,outbox,saved;data=play.trigger("getState").data,inbox=data.inbox,outbox=data.outbox,saved=data.saved,this.revealList=this.getRevealList(inbox,outbox,saved),this.setState({inbox:inbox,outbox:outbox,saved:saved})}},{key:"open",value:function open(){var self=this;play.trigger("getData",{categories:"inbox"}).then(function(data){self.updateData.call(self,data)}),this.setState({load:!0,open:!0,leave:!1,close:!1}),setTimeout(function(){self.state.started||self.start()},250)}},{key:"renderPrevButton",value:function renderPrevButton(){return null}},{key:"renderNextButton",value:function renderNextButton(){return null}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement("div",{className:"center"},React.createElement("div",{className:"frame"},React.createElement(_sharedComponentsSelectable_reveal01Js2["default"],{ref:"selectableReveal",selectableList:this.selectableList,revealList:this.revealList,selectOnStart:"0",openOnStart:"0"}))))}}]),InboxScreen}(play.Screen);exports["default"]=InboxScreen,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsItem_drawer01Js=__webpack_require__(8),_sharedComponentsItem_drawer01Js2=_interopRequireDefault(_sharedComponentsItem_drawer01Js),ItemDrawerScreen=function(_play$Screen){function ItemDrawerScreen(){_classCallCheck(this,ItemDrawerScreen),_get(Object.getPrototypeOf(ItemDrawerScreen.prototype),"constructor",this).call(this),this.state={id:"item-drawer",opts:{categories:[]}}}return _inherits(ItemDrawerScreen,_play$Screen),_createClass(ItemDrawerScreen,[{key:"bootstrap",value:function bootstrap(){play.Screen.prototype.bootstrap.call(this)}},{key:"selectRespond",value:function selectRespond(message){play.trigger("pass-data",{name:"add-item",message:message})}},{key:"updateData",value:function updateData(){var data=play.trigger("getState").data.menus;this.state.opts.categories.map(function(key){data[key]&&(data=data[key]),data.items&&(data=data.items)}),this.setState({data:data})}},{key:"open",value:function open(opts){var self=this;play.trigger("getData",{categories:opts.categories}).then(function(data){self.updateData.call(self,data)}),self.setState({load:!0,open:!0,leave:!1,close:!1,opts:opts}),setTimeout(function(){self.state.started||self.start()},250)}},{key:"renderPrevButton",value:function renderPrevButton(){return null}},{key:"renderNextButton",value:function renderNextButton(){return null}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement(_sharedComponentsItem_drawer01Js2["default"],{ref:"drawer",selectRespond:this.selectRespond.bind(this),cancelRespond:this["goto"].bind(this,"canvas"),categories:this.state.opts.categories,data:{items:this.state.data}}))}}]),ItemDrawerScreen}(play.Screen);exports["default"]=ItemDrawerScreen,module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},MenuScreen=function(_play$Screen){function MenuScreen(){_classCallCheck(this,MenuScreen),_get(Object.getPrototypeOf(MenuScreen.prototype),"constructor",this).call(this),this.state={id:"menu"}}return _inherits(MenuScreen,_play$Screen),_createClass(MenuScreen,[{key:"renderPrevButton",value:function renderPrevButton(){return null}},{key:"renderNextButton",value:function renderNextButton(){return null}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement(play.Image,{className:"hidden",src:"media/_Background/SK_BKG_1.png"}),React.createElement("div",{className:"buttons"},React.createElement("button",{className:"make",onClick:this["goto"].bind(this,"friend")}),React.createElement("button",{className:"read",onClick:this["goto"].bind(this,"inbox")})))}}]),MenuScreen}(play.Screen);exports["default"]=MenuScreen,module.exports=exports["default"]},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var config={id:"skribble",dimensions:{width:960,ratio:16/9}};exports["default"]=config,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_configGame=__webpack_require__(21),_configGame2=_interopRequireDefault(_configGame),_sharedComponentsLoader01Js=__webpack_require__(9),_sharedComponentsLoader01Js2=_interopRequireDefault(_sharedComponentsLoader01Js),_sharedComponentsIos_splash_screen01Js=__webpack_require__(7),_sharedComponentsIos_splash_screen01Js2=_interopRequireDefault(_sharedComponentsIos_splash_screen01Js),_componentsMenu_screenJs=__webpack_require__(20),_componentsMenu_screenJs2=_interopRequireDefault(_componentsMenu_screenJs),_componentsFriend_screenJs=__webpack_require__(17),_componentsFriend_screenJs2=_interopRequireDefault(_componentsFriend_screenJs),_componentsCanvas_screenJs=__webpack_require__(16),_componentsCanvas_screenJs2=_interopRequireDefault(_componentsCanvas_screenJs),_componentsItem_drawer_screenJs=__webpack_require__(19),_componentsItem_drawer_screenJs2=_interopRequireDefault(_componentsItem_drawer_screenJs),_componentsInbox_screenJs=__webpack_require__(18),_componentsInbox_screenJs2=_interopRequireDefault(_componentsInbox_screenJs),_sharedComponentsQuit_screen01Js=__webpack_require__(11),_sharedComponentsQuit_screen01Js2=_interopRequireDefault(_sharedComponentsQuit_screen01Js);__webpack_require__(15);var Skribble=function(_play$Game){function Skribble(){_classCallCheck(this,Skribble),_get(Object.getPrototypeOf(Skribble.prototype),"constructor",this).call(this,_configGame2["default"]),this.screens={0:_sharedComponentsIos_splash_screen01Js2["default"],1:_componentsMenu_screenJs2["default"],friend:_componentsFriend_screenJs2["default"],canvas:_componentsCanvas_screenJs2["default"],"item-drawer":_componentsItem_drawer_screenJs2["default"],inbox:_componentsInbox_screenJs2["default"]},this.menus={quit:_sharedComponentsQuit_screen01Js2["default"]}}return _inherits(Skribble,_play$Game),_createClass(Skribble,[{key:"save",value:function save(){this.emit({name:"save-skribble",game:this.config.id,skribble:this.refs["screen-canvas"].refs.canvas.getItems()})}},{key:"passData",value:function passData(opts){"add-item"===opts.name&&(this.refs["screen-canvas"].addItem(opts.message),this["goto"]({index:"canvas"}))}},{key:"renderLoader",value:function renderLoader(){return React.createElement(_sharedComponentsLoader01Js2["default"],null)}},{key:"renderAssets",value:function renderAssets(){return React.createElement("div",null,React.createElement("div",{className:"background-1"}),React.createElement("div",{className:"background-2"}),React.createElement("div",{className:"background-3"}),React.createElement("div",{className:"background-4"}))}},{key:"renderMenu",value:function renderMenu(){return React.createElement("div",{className:"game-menu"},React.createElement("button",{className:"save",onClick:this.save.bind(this)}),React.createElement("button",{className:"inbox",onClick:this["goto"].bind(this,{index:"inbox"})}),React.createElement("button",{className:"create",onClick:this["goto"].bind(this,{index:"friend"})}),React.createElement("button",{className:"help",onClick:this.openMenu.bind(this,{id:"quit"})}),React.createElement("button",{className:"close",onClick:this.openMenu.bind(this,{id:"quit"})}))}}]),Skribble}(play.Game);play.start(Skribble,_configGame2["default"].id)}]);
//# sourceMappingURL=ai.js.map