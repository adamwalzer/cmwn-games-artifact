!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="/build/",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(30)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_classnames=__webpack_require__(2),_classnames2=_interopRequireDefault(_classnames),Selectable=function(_skoash$Component){function Selectable(){_classCallCheck(this,Selectable),_get(Object.getPrototypeOf(Selectable.prototype),"constructor",this).call(this),this.state={selectClass:"SELECTED",classes:{},list:[React.createElement("li",null),React.createElement("li",null),React.createElement("li",null),React.createElement("li",null)],selectFunction:this.select}}return _inherits(Selectable,_skoash$Component),_createClass(Selectable,[{key:"start",value:function start(){var _this=this,selectClass,selectFunction,classes={};selectClass=this.props.selectClass||this.state.selectClass||"SELECTED",selectFunction="HIGHLIGHTED"===selectClass?this.highlight:this.select,this.props.selectOnStart&&(classes[this.props.selectOnStart]=selectClass),this.setState({started:!0,classes:classes,selectFunction:selectFunction,selectClass:selectClass}),this.bootstrap(),Object.keys(this.refs).map(function(key){"function"==typeof _this.refs[key].start&&_this.refs[key].start()})}},{key:"selectHelper",value:function selectHelper(e,classes){var message,target;target=e.target.closest("LI"),target&&(message=target.getAttribute("data-ref"),classes[message]=this.state.selectClass,this.setState({classes:classes}),"function"==typeof this.props.selectRespond&&this.props.selectRespond(message),this.requireForComplete=this.requireForComplete.filter(function(key){return key!==message}),this.checkComplete())}},{key:"select",value:function select(e){var classes=[];this.selectHelper(e,classes)}},{key:"highlight",value:function highlight(e){var classes=this.state.classes;this.selectHelper(e,classes)}},{key:"getClass",value:function getClass(key){return(0,_classnames2["default"])(_defineProperty({},this.state.classes[key]||"",!0))}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({selectable:!0,COMPLETE:this.state.complete},this.props.className)}},{key:"renderList",value:function renderList(){var _this2=this,list=this.props.list||this.state.list;return list.map(function(li,key){var ref=null==li.props["data-ref"]?key:li.props["data-ref"];return React.createElement(skoash.ListItem,_extends({},li.props,{className:(li.props.className?li.props.className+" ":"")+_this2.getClass(ref),"data-ref":ref,ref:ref,key:key}))})}},{key:"render",value:function render(){return React.createElement("ul",{className:this.getClassNames(),onClick:this.state.selectFunction.bind(this)},this.renderList())}}]),Selectable}(skoash.Component);exports["default"]=Selectable,module.exports=exports["default"]},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg))classes.push(classNames.apply(null,arg));else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}var hasOwn={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?module.exports=classNames:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(module,global){(function(){function baseCompareAscending(value,other){if(value!==other){var valIsNull=null===value,valIsUndef=value===undefined,valIsReflexive=value===value,othIsNull=null===other,othIsUndef=other===undefined,othIsReflexive=other===other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive)return 1;if(other>value&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive)return-1}return 0}function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return"function"==typeof value||!1}function baseToString(value){return null==value?"":value+""}function charsLeftIndex(string,chars){for(var index=-1,length=string.length;++index<length&&chars.indexOf(string.charAt(index))>-1;);return index}function charsRightIndex(string,chars){for(var index=string.length;index--&&chars.indexOf(string.charAt(index))>-1;);return index}function compareAscending(object,other){return baseCompareAscending(object.criteria,other.criteria)||object.index-other.index}function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=baseCompareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*("asc"===order||order===!0?1:-1)}}return object.index-other.index}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeRegExpChar(chr,leadingChar,whitespaceChar){return leadingChar?chr=regexpEscapes[chr]:whitespaceChar&&(chr=stringEscapes[chr]),"\\"+chr}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:++index<length;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&"object"==typeof value}function isSpace(charCode){return 160>=charCode&&charCode>=9&&13>=charCode||32==charCode||160==charCode||5760==charCode||6158==charCode||charCode>=8192&&(8202>=charCode||8232==charCode||8233==charCode||8239==charCode||8287==charCode||12288==charCode||65279==charCode)}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;)array[index]===placeholder&&(array[index]=PLACEHOLDER,result[++resIndex]=index);return result}function sortedUniq(array,iteratee){for(var seen,index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;index&&seen===computed||(seen=computed,result[++resIndex]=value)}return result}function trimmedLeftIndex(string){for(var index=-1,length=string.length;++index<length&&isSpace(string.charCodeAt(index)););return index}function trimmedRightIndex(string){for(var index=string.length;index--&&isSpace(string.charCodeAt(index)););return index}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}function runInContext(context){function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__chain__")&&hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll,actions){this.__wrapped__=value,this.__actions__=actions||[],this.__chain__=!!chainAll}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=POSITIVE_INFINITY,this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=arrayCopy(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=arrayCopy(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=arrayCopy(this.__views__),result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else result=this.clone(),result.__dir__*=-1;return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=0>dir,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||LARGE_ARRAY_SIZE>arrLength||arrLength==length&&takeCount==length)return baseWrapperValue(isRight&&isArr?array.reverse():array,this.__actions__);var result=[];outer:for(;length--&&takeCount>resIndex;){index+=dir;for(var iterIndex=-1,value=array[index];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}result[resIndex++]=value}return result}function MapCache(){this.__data__={}}function mapDelete(key){return this.has(key)&&delete this.__data__[key]}function mapGet(key){return"__proto__"==key?undefined:this.__data__[key]}function mapHas(key){return"__proto__"!=key&&hasOwnProperty.call(this.__data__,key)}function mapSet(key,value){return"__proto__"!=key&&(this.__data__[key]=value),this}function SetCache(values){var length=values?values.length:0;for(this.data={hash:nativeCreate(null),set:new Set};length--;)this.push(values[length])}function cacheIndexOf(cache,value){var data=cache.data,result="string"==typeof value||isObject(value)?data.set.has(value):data.hash[value];return result?0:-1}function cachePush(value){var data=this.data;"string"==typeof value||isObject(value)?data.set.add(value):data.hash[value]=!0}function arrayConcat(array,other){for(var index=-1,length=array.length,othIndex=-1,othLength=other.length,result=Array(length+othLength);++index<length;)result[index]=array[index];for(;++othIndex<othLength;)result[index++]=other[othIndex];return result}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function arrayEachRight(array,iteratee){for(var length=array.length;length--&&iteratee(array[length],length,array)!==!1;);return array}function arrayEvery(array,predicate){for(var index=-1,length=array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayExtremum(array,iteratee,comparator,exValue){for(var index=-1,length=array.length,computed=exValue,result=computed;++index<length;){var value=array[index],current=+iteratee(value);comparator(current,computed)&&(computed=current,result=value)}return result}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;for(initFromArray&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initFromArray){var length=array.length;for(initFromArray&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function arraySum(array,iteratee){for(var length=array.length,result=0;length--;)result+=+iteratee(array[length])||0;return result}function assignDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:objectValue}function assignOwnDefaults(objectValue,sourceValue,key,object){return objectValue!==undefined&&hasOwnProperty.call(object,key)?objectValue:sourceValue}function assignWith(object,source,customizer){for(var index=-1,props=keys(source),length=props.length;++index<length;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseAssign(object,source){return null==source?object:baseCopy(source,keys(source),object)}function baseAt(collection,props){for(var index=-1,isNil=null==collection,isArr=!isNil&&isArrayLike(collection),length=isArr?collection.length:0,propsLength=props.length,result=Array(propsLength);++index<propsLength;){var key=props[index];isArr?result[index]=isIndex(key,length)?collection[key]:undefined:result[index]=isNil?undefined:collection[key]}return result}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values){var length=array?array.length:0,result=[];if(!length)return result;var index=-1,indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,cache=isCommon&&values.length>=LARGE_ARRAY_SIZE?createCache(values):null,valuesLength=values.length;cache&&(indexOf=cacheIndexOf,isCommon=!1,values=cache);outer:for(;++index<length;){var value=array[index];if(isCommon&&value===value){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===value)continue outer;result.push(value)}else indexOf(values,value,0)<0&&result.push(value)}return result}function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseExtremum(collection,iteratee,comparator,exValue){var computed=exValue,result=computed;return baseEach(collection,function(value,index,collection){var current=+iteratee(value,index,collection);(comparator(current,computed)||current===exValue&&current===result)&&(computed=current,result=value)}),result}function baseFill(array,value,start,end){var length=array.length;for(start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end>>>0,start>>>=0;length>start;)array[start++]=value;return array}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFind(collection,predicate,eachFunc,retKey){var result;return eachFunc(collection,function(value,key,collection){return predicate(value,key,collection)?(result=retKey?key:value,!1):void 0}),result}function baseFlatten(array,isDeep,isStrict,result){result||(result=[]);for(var index=-1,length=array.length;++index<length;){var value=array[index];isObjectLike(value)&&isArrayLike(value)&&(isStrict||isArray(value)||isArguments(value))?isDeep?baseFlatten(value,isDeep,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return baseForRight(object,iteratee,keys)}function baseFunctions(object,props){for(var index=-1,length=props.length,resIndex=-1,result=[];++index<length;){var key=props[index];isFunction(object[key])&&(result[++resIndex]=key)}return result}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=0,length=path.length;null!=object&&length>index;)object=object[path[index++]];return index&&index==length?object:undefined}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){return value===other?!0:null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped)return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=toObject(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var result=customizer?customizer(objValue,srcValue,key):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,!0):result))return!1}}return!0}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);if(1==matchData.length&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in toObject(object))}}return function(object){return baseIsMatch(object,matchData)}}function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),(isArr||!isCommon)&&!(key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===srcValue?srcValue!==undefined||key in object:baseIsEqual(srcValue,object[key],undefined,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isArrayLike(source)&&(isArray(source)||isTypedArray(source)),props=isSrcArr?undefined:keys(source);return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),result===undefined&&(!isSrcArr||key in object)||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return void(object[key]=stackB[length]);var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isArrayLike(srcValue)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:isArrayLike(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function basePullAt(array,indexes){for(var length=array?indexes.length:0;length--;){var index=indexes[length];if(index!=previous&&isIndex(index)){var previous=index;splice.call(array,index,1)}}return array}function baseRandom(min,max){return min+nativeFloor(nativeRandom()*(max-min+1))}function baseReduce(collection,iteratee,accumulator,initFromCollection,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initFromCollection?(initFromCollection=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}function baseSortByOrder(collection,iteratees,orders){var callback=getCallback(),index=-1;iteratees=arrayMap(iteratees,function(iteratee){return callback(iteratee)});var result=baseMap(collection,function(value){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function baseSum(collection,iteratee){var result=0;return baseEach(collection,function(value,index,collection){result+=+iteratee(value,index,collection)||0}),result}function baseUniq(array,iteratee){var index=-1,indexOf=getIndexOf(),length=array.length,isCommon=indexOf==baseIndexOf,isLarge=isCommon&&length>=LARGE_ARRAY_SIZE,seen=isLarge?createCache():null,result=[];seen?(indexOf=cacheIndexOf,isCommon=!1):(isLarge=!1,seen=iteratee?[]:result);outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value===value){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else indexOf(seen,computed,0)<0&&((iteratee||isLarge)&&seen.push(computed),result.push(value))}return result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);++index<length;)result[index]=object[props[index]];return result}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;result instanceof LazyWrapper&&(result=result.value());for(var index=-1,length=actions.length;++index<length;){var action=actions[index];result=action.func.apply(action.thisArg,arrayPush([result],action.args))}return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)&&null!==computed?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=null===value,valIsUndef=value===undefined;high>low;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsNull?isReflexive&&isDef&&(retHighest||null!=computed):valIsUndef?isReflexive&&(retHighest||isDef):null==computed?!1:retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){var result=new ArrayBuffer(buffer.byteLength),view=new Uint8Array(result);return view.set(new Uint8Array(buffer)),result}function composeArgs(args,partials,holders){for(var holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),leftIndex=-1,leftLength=partials.length,result=Array(leftLength+argsLength);++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)result[holders[argsIndex]]=args[argsIndex];for(;argsLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders){for(var holdersIndex=-1,holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),rightIndex=-1,rightLength=partials.length,result=Array(argsLength+rightLength);++argsIndex<argsLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)result[offset+holders[holdersIndex]]=args[argsIndex++];return result}function createAggregator(setter,initializer){return function(collection,iteratee,thisArg){var result=initializer?initializer():{};if(iteratee=getCallback(iteratee,thisArg,3),isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];setter(result,value,iteratee(value,index,collection),collection)}else baseEach(collection,function(value,key,collection){setter(result,value,iteratee(value,key,collection),collection)});return result}}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer="function"==typeof thisArg?thisArg:undefined,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?undefined:customizer,length=1);++index<length;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:++index<length;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createBindWrapper(func,thisArg){function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(thisArg,arguments)}var Ctor=createCtorWrapper(func);return wrapper}function createCache(values){return nativeCreate&&Set?new SetCache(values):null}function createCompounder(callback){return function(string){for(var index=-1,array=words(deburr(string)),length=array.length,result="";++index<length;)result=callback(result,array[index],index);return result}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(flag){function curryFunc(func,arity,guard){guard&&isIterateeCall(func,arity,guard)&&(arity=undefined);var result=createWrapper(func,flag,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curryFunc.placeholder,result}return curryFunc}function createDefaults(assigner,customizer){return restParam(function(args){var object=args[0];return null==object?object:(args.push(customizer),assigner.apply(undefined,args))})}function createExtremum(comparator,exValue){return function(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=undefined),iteratee=getCallback(iteratee,thisArg,3),1==iteratee.length){collection=isArray(collection)?collection:toIterable(collection);var result=arrayExtremum(collection,iteratee,comparator,exValue);if(!collection.length||result!==exValue)return result}return baseExtremum(collection,iteratee,comparator,exValue)}}function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){if(predicate=getCallback(predicate,thisArg,3),isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,eachFunc)}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createFindKey(objectFunc){return function(object,predicate,thisArg){return predicate=getCallback(predicate,thisArg,3),baseFind(object,predicate,objectFunc,!0)}}function createFlow(fromRight){return function(){for(var wrapper,length=arguments.length,index=fromRight?length:-1,leftIndex=0,funcs=Array(length);fromRight?index--:++index<length;){var func=funcs[leftIndex++]=arguments[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);!wrapper&&LodashWrapper.prototype.thru&&"wrapper"==getFuncName(func)&&(wrapper=new LodashWrapper([],!0))}for(index=wrapper?-1:length;++index<length;){func=funcs[index];var funcName=getFuncName(func),data="wrapper"==funcName?getData(func):undefined;wrapper=data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE)return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function createForIn(objectFunc){return function(object,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined||(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee,keysIn)}}function createForOwn(objectFunc){return function(object,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined||(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee)}}function createObjectMapper(isMapKeys){
return function(object,iteratee,thisArg){var result={};return iteratee=getCallback(iteratee,thisArg,3),baseForOwn(object,function(value,key,object){var mapped=iteratee(value,key,object);key=isMapKeys?mapped:key,value=isMapKeys?value:mapped,result[key]=value}),result}}function createPadDir(fromRight){return function(string,length,chars){return string=baseToString(string),(fromRight?string:"")+createPadding(string,length,chars)+(fromRight?"":string)}}function createPartial(flag){var partialFunc=restParam(function(func,partials){var holders=replaceHolders(partials,partialFunc.placeholder);return createWrapper(func,flag,undefined,partials,holders)});return partialFunc}function createReduce(arrayFunc,eachFunc){return function(collection,iteratee,accumulator,thisArg){var initFromArray=arguments.length<3;return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee,accumulator,initFromArray):baseReduce(collection,getCallback(iteratee,thisArg,4),accumulator,initFromArray,eachFunc)}}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){function wrapper(){for(var length=arguments.length,index=length,args=Array(length);index--;)args[index]=arguments[index];if(partials&&(args=composeArgs(args,partials,holders)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight)),isCurry||isCurryRight){var placeholder=wrapper.placeholder,argsHolders=replaceHolders(args,placeholder);if(length-=argsHolders.length,arity>length){var newArgPos=argPos?arrayCopy(argPos):undefined,newArity=nativeMax(arity-length,0),newsHolders=isCurry?argsHolders:undefined,newHoldersRight=isCurry?undefined:argsHolders,newPartials=isCurry?args:undefined,newPartialsRight=isCurry?undefined:args;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG,bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG),isCurryBound||(bitmask&=~(BIND_FLAG|BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,newPartials,newsHolders,newPartialsRight,newHoldersRight,newArgPos,ary,newArity],result=createHybridWrapper.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,result}}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return argPos&&(args=reorder(args,argPos)),isAry&&ary<args.length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtorWrapper(func)),fn.apply(thisBinding,args)}var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurry=bitmask&CURRY_FLAG,isCurryBound=bitmask&CURRY_BOUND_FLAG,isCurryRight=bitmask&CURRY_RIGHT_FLAG,Ctor=isBindKey?undefined:createCtorWrapper(func);return wrapper}function createPadding(string,length,chars){var strLength=string.length;if(length=+length,strLength>=length||!nativeIsFinite(length))return"";var padLength=length-strLength;return chars=null==chars?" ":chars+"",repeat(chars,nativeCeil(padLength/chars.length)).slice(0,padLength)}function createPartialWrapper(func,bitmask,thisArg,partials){function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength);++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,args)}var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);return wrapper}function createRound(methodName){var func=Math[methodName];return function(number,precision){return precision=precision===undefined?0:+precision||0,precision?(precision=pow(10,precision),func(number*precision)/precision):func(number)}}function createSortedIndex(retHighest){return function(array,value,iteratee,thisArg){var callback=getCallback(iteratee);return null==iteratee&&callback===baseCallback?binaryIndex(array,value,retHighest):binaryIndexBy(array,value,callback(iteratee,thisArg,1),retHighest)}}function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG),partials=holders=undefined),length-=holders?holders.length:0,bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&(mergeData(newData,data),bitmask=newData[1],arity=newData[9]),newData[9]=null==arity?isBindKey?0:func.length:nativeMax(arity-length,0)||0,bitmask==BIND_FLAG)var result=createBindWrapper(newData[0],newData[2]);else result=bitmask!=PARTIAL_FLAG&&bitmask!=(BIND_FLAG|PARTIAL_FLAG)||newData[4].length?createHybridWrapper.apply(undefined,newData):createPartialWrapper.apply(undefined,newData);var setter=data?baseSetData:setData;return setter(result,newData)}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;++index<arrLength;){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;if(result!==undefined){if(result)continue;return!1}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}))return!1}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))return!1}return!0}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key)))return!1}for(var skipCtor=isLoose;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;if(!(result===undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result))return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getFuncName(func){for(var result=func.name,array=realNames[result],length=array?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function getMatchData(object){for(var result=pairs(object),length=result.length;length--;)result[length][2]=isStrictComparable(result[length][1]);return result}function getNative(object,key){var value=null==object?undefined:object[key];return isNative(value)?value:undefined}function getView(start,end,transforms){for(var index=-1,length=transforms.length;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function invokePath(object,path,args){null==object||isKey(path,object)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path));var func=null==object?object:object[path];return null==func?undefined:func.apply(object,args)}function isArrayLike(value){return null!=value&&isLength(getLength(value))}function isIndex(value,length){return value="number"==typeof value||reIsUint.test(value)?+value:-1,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&length>value}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if("string"==type&&reIsPlainProp.test(value)||"number"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLaziable(func){var funcName=getFuncName(func);if(!(funcName in LazyWrapper.prototype))return!1;var other=lodash[funcName];if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&MAX_SAFE_INTEGER>=value}function isStrictComparable(value){return value===value&&!isObject(value)}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=ARY_FLAG>newBitmask,isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&bitmask==CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):arrayCopy(value),data[4]=partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4])}return value=source[5],value&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):arrayCopy(value),data[6]=partials?replaceHolders(data[5],PLACEHOLDER):arrayCopy(source[6])),value=source[7],value&&(data[7]=arrayCopy(value)),srcBitmask&ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}function mergeDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:merge(objectValue,sourceValue,mergeDefaults)}function pickByArray(object,props){object=toObject(object);for(var index=-1,length=props.length,result={};++index<length;){var key=props[index];key in object&&(result[key]=object[key])}return result}function pickByCallback(object,predicate){var result={};return baseForIn(object,function(value,key,object){predicate(value,key,object)&&(result[key]=value)}),result}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=arrayCopy(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object)),index=-1,result=[];++index<propsLength;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toIterable(value){return null==value?[]:isArrayLike(value)?isObject(value)?value:Object(value):values(value)}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function wrapperClone(wrapper){return wrapper instanceof LazyWrapper?wrapper.clone():new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__))}function chunk(array,size,guard){size=(guard?isIterateeCall(array,size,guard):null==size)?1:nativeMax(nativeFloor(size)||1,1);for(var index=0,length=array?array.length:0,resIndex=-1,result=Array(nativeCeil(length/size));length>index;)result[++resIndex]=baseSlice(array,index,index+=size);return result}function compact(array){for(var index=-1,length=array?array.length:0,resIndex=-1,result=[];++index<length;){var value=array[index];value&&(result[++resIndex]=value)}return result}function drop(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,0>n?0:n)):[]}function dropRight(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),n=length-(+n||0),baseSlice(array,0,0>n?0:n)):[]}function dropRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0,!0):[]}function dropWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0):[]}function fill(array,value,start,end){var length=array?array.length:0;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),baseFill(array,value,start,end)):[]}function first(array){return array?array[0]:undefined}function flatten(array,isDeep,guard){var length=array?array.length:0;return guard&&isIterateeCall(array,isDeep,guard)&&(isDeep=!1),length?baseFlatten(array,isDeep):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,!0):[]}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=0>fromIndex?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value);return length>index&&(value===value?value===array[index]:array[index]!==array[index])?index:-1}return baseIndexOf(array,value,fromIndex||0)}function initial(array){return dropRight(array,1)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=length;if("number"==typeof fromIndex)index=(0>fromIndex?nativeMax(length+fromIndex,0):nativeMin(fromIndex||0,length-1))+1;else if(fromIndex){index=binaryIndex(array,value,!0)-1;var other=array[index];return(value===value?value===other:other!==other)?index:-1}if(value!==value)return indexOfNaN(array,index,!0);for(;index--;)if(array[index]===value)return index;return-1}function pull(){var args=arguments,array=args[0];if(!array||!array.length)return array;for(var index=0,indexOf=getIndexOf(),length=args.length;++index<length;)for(var fromIndex=0,value=args[index];(fromIndex=indexOf(array,value,fromIndex))>-1;)splice.call(array,fromIndex,1);return array}function remove(array,predicate,thisArg){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getCallback(predicate,thisArg,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result}function rest(array){return drop(array,1)}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function take(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,0,0>n?0:n)):[]}function takeRight(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),n=length-(+n||0),baseSlice(array,0>n?0:n)):[]}function takeRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!1,!0):[]}function takeWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3)):[]}function uniq(array,isSorted,iteratee,thisArg){var length=array?array.length:0;if(!length)return[];null!=isSorted&&"boolean"!=typeof isSorted&&(thisArg=iteratee,iteratee=isIterateeCall(array,isSorted,thisArg)?undefined:isSorted,isSorted=!1);var callback=getCallback();return null==iteratee&&callback===baseCallback||(iteratee=callback(iteratee,thisArg,3)),isSorted&&getIndexOf()==baseIndexOf?sortedUniq(array,iteratee):baseUniq(array,iteratee)}function unzip(array){if(!array||!array.length)return[];var index=-1,length=0;array=arrayFilter(array,function(group){return isArrayLike(group)?(length=nativeMax(group.length,length),!0):void 0});for(var result=Array(length);++index<length;)result[index]=arrayMap(array,baseProperty(index));return result}function unzipWith(array,iteratee,thisArg){var length=array?array.length:0;if(!length)return[];var result=unzip(array);return null==iteratee?result:(iteratee=bindCallback(iteratee,thisArg,4),arrayMap(result,function(group){return arrayReduce(group,iteratee,undefined,!0)}))}function xor(){for(var index=-1,length=arguments.length;++index<length;){var array=arguments[index];if(isArrayLike(array))var result=result?arrayPush(baseDifference(result,array),baseDifference(array,result)):array}return result?baseUniq(result):[]}function zipObject(props,values){var index=-1,length=props?props.length:0,result={};for(!length||values||isArray(props[0])||(values=[]);++index<length;){var key=props[index];values?result[key]=values[index]:key&&(result[key[0]]=key[1])}return result}function chain(value){var result=lodash(value);return result.__chain__=!0,result}function tap(value,interceptor,thisArg){return interceptor.call(thisArg,value),value}function thru(value,interceptor,thisArg){return interceptor.call(thisArg,value)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperPlant(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result}function wrapperReverse(){var value=this.__wrapped__,interceptor=function(value){return wrapped&&wrapped.__dir__<0?value:value.reverse()};if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),wrapped=wrapped.reverse(),wrapped.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(interceptor)}function wrapperToString(){return this.value()+""}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(collection,predicate,thisArg){var func=isArray(collection)?arrayEvery:baseEvery;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=undefined),"function"==typeof predicate&&thisArg===undefined||(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function filter(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,predicate)}function findWhere(collection,source){return find(collection,baseMatches(source))}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:0>fromIndex?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?length>=fromIndex&&collection.indexOf(target,fromIndex)>-1:!!length&&getIndexOf(collection,target,fromIndex)>-1}function map(collection,iteratee,thisArg){var func=isArray(collection)?arrayMap:baseMap;return iteratee=getCallback(iteratee,thisArg,3),func(collection,iteratee)}function pluck(collection,path){return map(collection,property(path))}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function sample(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):null==n){collection=toIterable(collection);var length=collection.length;return length>0?collection[baseRandom(0,length-1)]:undefined}var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;for(n=nativeMin(0>n?0:+n||0,length);++index<n;){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index],result[index]=value}return result.length=n,result}function shuffle(collection){return sample(collection,POSITIVE_INFINITY)}function size(collection){var length=collection?getLength(collection):0;return isLength(length)?length:keys(collection).length}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=undefined),"function"==typeof predicate&&thisArg===undefined||(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function sortBy(collection,iteratee,thisArg){if(null==collection)return[];thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=undefined);var index=-1;iteratee=getCallback(iteratee,thisArg,3);var result=baseMap(collection,function(value,key,collection){return{criteria:iteratee(value,key,collection),index:++index,value:value}});return baseSortBy(result,compareAscending)}function sortByOrder(collection,iteratees,orders,guard){return null==collection?[]:(guard&&isIterateeCall(iteratees,orders,guard)&&(orders=undefined),isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders)||(orders=null==orders?[]:[orders]),baseSortByOrder(collection,iteratees,orders))}function where(collection,source){return filter(collection,baseMatches(source))}function after(n,func){if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return n=nativeIsFinite(n=+n)?n:0,function(){return--n<1?func.apply(this,arguments):void 0}}function ary(func,n,guard){return guard&&isIterateeCall(func,n,guard)&&(n=undefined),n=func&&null==n?func.length:nativeMax(+n||0,0),createWrapper(func,ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return function(){return--n>0&&(result=func.apply(this,arguments)),1>=n&&(func=undefined),result}}function debounce(func,wait,options){function cancel(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId&&clearTimeout(maxTimeoutId),lastCalled=0,maxTimeoutId=timeoutId=trailingCall=undefined}function complete(isCalled,id){id&&clearTimeout(id),maxTimeoutId=timeoutId=trailingCall=undefined,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=undefined))}function delayed(){var remaining=wait-(now()-stamp);0>=remaining||remaining>wait?complete(trailingCall,maxTimeoutId):timeoutId=setTimeout(delayed,remaining)}function maxDelayed(){complete(trailing,timeoutId)}function debounced(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),maxWait===!1)var leadingCall=leading&&!timeoutId;else{maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=0>=remaining||remaining>maxWait;isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=undefined),result}var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(wait=0>wait?0:+wait||0,options===!0){var leading=!0;trailing=!1}else isObject(options)&&(leading=!!options.leading,maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait),trailing="trailing"in options?!!options.trailing:trailing);return debounced.cancel=cancel,debounced}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new memoize.Cache,memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){return!predicate.apply(this,arguments)}}function once(func){return before(2,func)}function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);++index<length;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function spread(func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return function(array){return func.apply(this,array)}}function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return options===!1?leading=!1:isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:+wait,trailing:trailing})}function wrap(value,wrapper){return wrapper=null==wrapper?identity:wrapper,createWrapper(wrapper,PARTIAL_FLAG,undefined,[value],[])}function clone(value,isDeep,customizer,thisArg){return isDeep&&"boolean"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:"function"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),"function"==typeof customizer?baseClone(value,isDeep,bindCallback(customizer,thisArg,1)):baseClone(value,isDeep)}function cloneDeep(value,customizer,thisArg){return"function"==typeof customizer?baseClone(value,!0,bindCallback(customizer,thisArg,1)):baseClone(value,!0)}function gt(value,other){return value>other}function gte(value,other){return value>=other}function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}function isBoolean(value){return value===!0||value===!1||isObjectLike(value)&&objToString.call(value)==boolTag}function isDate(value){return isObjectLike(value)&&objToString.call(value)==dateTag}function isElement(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&!isPlainObject(value)}function isEmpty(value){return null==value?!0:isArrayLike(value)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!value.length:!keys(value).length}function isEqual(value,other,customizer,thisArg){customizer="function"==typeof customizer?bindCallback(customizer,thisArg,3):undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){return isObjectLike(value)&&"string"==typeof value.message&&objToString.call(value)==errorTag}function isFinite(value){return"number"==typeof value&&nativeIsFinite(value)}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isMatch(object,source,customizer,thisArg){return customizer="function"==typeof customizer?bindCallback(customizer,thisArg,3):undefined,baseIsMatch(object,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){return null==value?!1:isFunction(value)?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}function isNull(value){return null===value}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isPlainObject(value){var Ctor;if(!isObjectLike(value)||objToString.call(value)!=objectTag||isArguments(value)||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,"function"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function isRegExp(value){return isObject(value)&&objToString.call(value)==regexpTag}function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function isUndefined(value){return value===undefined}function lt(value,other){return other>value}function lte(value,other){return other>=value}function toArray(value){var length=value?getLength(value):0;return isLength(length)?length?arrayCopy(value):[]:values(value)}function toPlainObject(value){return baseCopy(value,keysIn(value))}function create(prototype,properties,guard){var result=baseCreate(prototype);return guard&&isIterateeCall(prototype,properties,guard)&&(properties=undefined),properties?baseAssign(result,properties):result}function functions(object){return baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,toPath(path),path+"");return result===undefined?defaultValue:result}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);if(!result&&!isKey(path)){if(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;path=last(path),result=hasOwnProperty.call(object,path)}return result||isLength(object.length)&&isIndex(path,object.length)&&(isArray(object)||isArguments(object))}function invert(object,multiValue,guard){guard&&isIterateeCall(object,multiValue,guard)&&(multiValue=undefined);
for(var index=-1,props=keys(object),length=props.length,result={};++index<length;){var key=props[index],value=object[key];multiValue?hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]:result[value]=key}return result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto="function"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;++index<length;)result[index]=index+"";for(var key in object)skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function pairs(object){object=toObject(object);for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;){var key=props[index];result[index]=[key,object[key]]}return result}function result(object,path,defaultValue){var result=null==object?undefined:object[path];return result===undefined&&(null==object||isKey(path,object)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),result=null==object?undefined:object[last(path)]),result=result===undefined?defaultValue:result),isFunction(result)?result.call(object):result}function set(object,path,value){if(null==object)return object;var pathKey=path+"";path=null!=object[pathKey]||isKey(path,object)?[pathKey]:toPath(path);for(var index=-1,length=path.length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=path[index];isObject(nested)&&(index==lastIndex?nested[key]=value:null==nested[key]&&(nested[key]=isIndex(path[index+1])?[]:{})),nested=nested[key]}return object}function transform(object,iteratee,accumulator,thisArg){var isArr=isArray(object)||isTypedArray(object);if(iteratee=getCallback(iteratee,thisArg,4),null==accumulator)if(isArr||isObject(object)){var Ctor=object.constructor;accumulator=isArr?isArray(object)?new Ctor:[]:baseCreate(isFunction(Ctor)?Ctor.prototype:undefined)}else accumulator={};return(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}function values(object){return baseValues(object,keys(object))}function valuesIn(object){return baseValues(object,keysIn(object))}function inRange(value,start,end){return start=+start||0,end===undefined?(end=start,start=0):end=+end||0,value>=nativeMin(start,end)&&value<nativeMax(start,end)}function random(min,max,floating){floating&&isIterateeCall(min,max,floating)&&(max=floating=undefined);var noMin=null==min,noMax=null==max;if(null==floating&&(noMax&&"boolean"==typeof min?(floating=min,min=1):"boolean"==typeof max&&(floating=max,noMax=!0)),noMin&&noMax&&(max=1,noMax=!1),min=+min||0,noMax?(max=min,min=0):max=+max||0,floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)}function capitalize(string){return string=baseToString(string),string&&string.charAt(0).toUpperCase()+string.slice(1)}function deburr(string){return string=baseToString(string),string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=baseToString(string),target+="";var length=string.length;return position=position===undefined?length:nativeMin(0>position?0:+position||0,length),position-=target.length,position>=0&&string.indexOf(target,position)==position}function escape(string){return string=baseToString(string),string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,escapeRegExpChar):string||"(?:)"}function pad(string,length,chars){string=baseToString(string),length=+length;var strLength=string.length;if(strLength>=length||!nativeIsFinite(length))return string;var mid=(length-strLength)/2,leftLength=nativeFloor(mid),rightLength=nativeCeil(mid);return chars=createPadding("",rightLength,chars),chars.slice(0,leftLength)+string+chars}function parseInt(string,radix,guard){return(guard?isIterateeCall(string,radix,guard):null==radix)?radix=0:radix&&(radix=+radix),string=trim(string),nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))}function repeat(string,n){var result="";if(string=baseToString(string),n=+n,1>n||!string||!nativeIsFinite(n))return result;do n%2&&(result+=string),n=nativeFloor(n/2),string+=string;while(n);return result}function startsWith(string,target,position){return string=baseToString(string),position=null==position?0:nativeMin(0>position?0:+position||0,string.length),string.lastIndexOf(target,position)==position}function template(string,options,otherOptions){var settings=lodash.templateSettings;otherOptions&&isIterateeCall(string,options,otherOptions)&&(options=otherOptions=undefined),string=baseToString(string),options=assignWith(baseAssign({},otherOptions||options),settings,assignOwnDefaults);var imports=assignWith(baseAssign({},options.imports),settings.imports,assignOwnDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result}function trim(string,chars,guard){var value=string;return(string=baseToString(string))?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string),trimmedRightIndex(string)+1):(chars+="",string.slice(charsLeftIndex(string,chars),charsRightIndex(string,chars)+1)):string}function trimLeft(string,chars,guard){var value=string;return string=baseToString(string),string?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string)):string.slice(charsLeftIndex(string,chars+"")):string}function trimRight(string,chars,guard){var value=string;return string=baseToString(string),string?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(0,trimmedRightIndex(string)+1):string.slice(0,charsRightIndex(string,chars+"")+1):string}function trunc(string,options,guard){guard&&isIterateeCall(string,options,guard)&&(options=undefined);var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(null!=options)if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?+options.length||0:length,omission="omission"in options?baseToString(options.omission):omission}else length=+options||0;if(string=baseToString(string),length>=string.length)return string;var end=length-omission.length;if(1>end)return omission;var result=string.slice(0,end);if(null==separator)return result+omission;if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,newEnd,substring=string.slice(0,end);for(separator.global||(separator=RegExp(separator.source,(reFlags.exec(separator)||"")+"g")),separator.lastIndex=0;match=separator.exec(substring);)newEnd=match.index;result=result.slice(0,null==newEnd?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission}function unescape(string){return string=baseToString(string),string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}function words(string,pattern,guard){return guard&&isIterateeCall(string,pattern,guard)&&(pattern=undefined),string=baseToString(string),string.match(pattern||reWords)||[]}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=undefined),isObjectLike(func)?matches(func):baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function matches(source){return baseMatches(baseClone(source,!0))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,!0))}function mixin(object,source,options){if(null==options){var isObj=isObject(source),props=isObj?keys(source):undefined,methodNames=props&&props.length?baseFunctions(source,props):undefined;(methodNames?methodNames.length:isObj)||(methodNames=!1,options=source,source=object,object=this)}methodNames||(methodNames=baseFunctions(source,keys(source)));var chain=!0,index=-1,isFunc=isFunction(object),length=methodNames.length;options===!1?chain=!1:isObject(options)&&"chain"in options&&(chain=options.chain);for(;++index<length;){var methodName=methodNames[index],func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(func){return function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=arrayCopy(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))}}(func))}return object}function noConflict(){return root._=oldDash,this}function noop(){}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}function propertyOf(object){return function(path){return baseGet(object,toPath(path),path+"")}}function range(start,end,step){step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=+start||0,step=null==step?1:+step||0,null==end?(end=start,start=0):end=+end||0;for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);++index<length;)result[index]=start,start+=step;return result}function times(n,iteratee,thisArg){if(n=nativeFloor(n),1>n||!nativeIsFinite(n))return[];var index=-1,result=Array(nativeMin(n,MAX_ARRAY_LENGTH));for(iteratee=bindCallback(iteratee,thisArg,1);++index<n;)MAX_ARRAY_LENGTH>index?result[index]=iteratee(index):iteratee(index);return result}function uniqueId(prefix){var id=++idCounter;return baseToString(prefix)+id}function add(augend,addend){return(+augend||0)+(+addend||0)}function sum(collection,iteratee,thisArg){return thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=undefined),iteratee=getCallback(iteratee,thisArg,3),1==iteratee.length?arraySum(isArray(collection)?collection:toIterable(collection),iteratee):baseSum(collection,iteratee)}context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,objectProto=Object.prototype,stringProto=String.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,objToString=objectProto.toString,oldDash=root._,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ArrayBuffer=context.ArrayBuffer,clearTimeout=context.clearTimeout,parseFloat=context.parseFloat,pow=Math.pow,propertyIsEnumerable=objectProto.propertyIsEnumerable,Set=getNative(context,"Set"),setTimeout=context.setTimeout,splice=arrayProto.splice,Uint8Array=context.Uint8Array,WeakMap=getNative(context,"WeakMap"),nativeCeil=Math.ceil,nativeCreate=getNative(Object,"create"),nativeFloor=Math.floor,nativeIsArray=getNative(Array,"isArray"),nativeIsFinite=context.isFinite,nativeKeys=getNative(Object,"keys"),nativeMax=Math.max,nativeMin=Math.min,nativeNow=getNative(Date,"now"),nativeParseInt=context.parseInt,nativeRandom=Math.random,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,POSITIVE_INFINITY=Number.POSITIVE_INFINITY,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,MAX_SAFE_INTEGER=9007199254740991,metaMap=WeakMap&&new WeakMap,realNames={},support=lodash.support={};lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};var baseCreate=function(){function object(){}return function(prototype){if(isObject(prototype)){object.prototype=prototype;var result=new object;object.prototype=undefined}return result||{}}}(),baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0),baseFor=createBaseFor(),baseForRight=createBaseFor(!0),baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,getData=metaMap?function(func){return metaMap.get(func)}:noop,getLength=baseProperty("length"),setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return key}else count=0;return baseSetData(key,value)}}(),difference=restParam(function(array,values){return isObjectLike(array)&&isArrayLike(array)?baseDifference(array,baseFlatten(values,!1,!0)):[]}),findIndex=createFindIndex(),findLastIndex=createFindIndex(!0),intersection=restParam(function(arrays){for(var othLength=arrays.length,othIndex=othLength,caches=Array(length),indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,result=[];othIndex--;){var value=arrays[othIndex]=isArrayLike(value=arrays[othIndex])?value:[];caches[othIndex]=isCommon&&value.length>=120?createCache(othIndex&&value):null}var array=arrays[0],index=-1,length=array?array.length:0,seen=caches[0];outer:for(;++index<length;)if(value=array[index],(seen?cacheIndexOf(seen,value):indexOf(result,value,0))<0){for(var othIndex=othLength;--othIndex;){var cache=caches[othIndex];if((cache?cacheIndexOf(cache,value):indexOf(arrays[othIndex],value,0))<0)continue outer}seen&&seen.push(value),result.push(value)}return result}),pullAt=restParam(function(array,indexes){indexes=baseFlatten(indexes);var result=baseAt(array,indexes);return basePullAt(array,indexes.sort(baseCompareAscending)),result}),sortedIndex=createSortedIndex(),sortedLastIndex=createSortedIndex(!0),union=restParam(function(arrays){return baseUniq(baseFlatten(arrays,!1,!0))}),without=restParam(function(array,values){return isArrayLike(array)?baseDifference(array,values):[]}),zip=restParam(unzip),zipWith=restParam(function(arrays){var length=arrays.length,iteratee=length>2?arrays[length-2]:undefined,thisArg=length>1?arrays[length-1]:undefined;return length>2&&"function"==typeof iteratee?length-=2:(iteratee=length>1&&"function"==typeof thisArg?(--length,thisArg):undefined,thisArg=undefined),arrays.length=length,unzipWith(arrays,iteratee,thisArg)}),wrapperConcat=restParam(function(values){return values=baseFlatten(values),this.thru(function(array){return arrayConcat(isArray(array)?array:[toObject(array)],values)})}),at=restParam(function(collection,props){return baseAt(collection,baseFlatten(props))}),countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1}),find=createFind(baseEach),findLast=createFind(baseEachRight,!0),forEach=createForEach(arrayEach,baseEach),forEachRight=createForEach(arrayEachRight,baseEachRight),groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):result[key]=[value]}),indexBy=createAggregator(function(result,value,key){result[key]=value}),invoke=restParam(function(collection,path,args){var index=-1,isFunc="function"==typeof path,isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){var func=isFunc?path:isProp&&null!=value?value[path]:undefined;result[++index]=func?func.apply(value,args):invokePath(value,path,args)}),result}),partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]}),reduce=createReduce(arrayReduce,baseEach),reduceRight=createReduce(arrayReduceRight,baseEachRight),sortByAll=restParam(function(collection,iteratees){if(null==collection)return[];var guard=iteratees[2];return guard&&isIterateeCall(iteratees[0],iteratees[1],guard)&&(iteratees.length=1),baseSortByOrder(collection,baseFlatten(iteratees),[])}),now=nativeNow||function(){return(new Date).getTime()},bind=restParam(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,bind.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)}),bindAll=restParam(function(object,methodNames){methodNames=methodNames.length?baseFlatten(methodNames):functions(object);for(var index=-1,length=methodNames.length;++index<length;){var key=methodNames[index];object[key]=createWrapper(object[key],BIND_FLAG,object)}return object}),bindKey=restParam(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,bindKey.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)}),curry=createCurry(CURRY_FLAG),curryRight=createCurry(CURRY_RIGHT_FLAG),defer=restParam(function(func,args){return baseDelay(func,1,args)}),delay=restParam(function(func,wait,args){return baseDelay(func,wait,args)}),flow=createFlow(),flowRight=createFlow(!0),modArgs=restParam(function(func,transforms){if(transforms=baseFlatten(transforms),"function"!=typeof func||!arrayEvery(transforms,baseIsFunction))throw new TypeError(FUNC_ERROR_TEXT);var length=transforms.length;return restParam(function(args){for(var index=nativeMin(args.length,length);index--;)args[index]=transforms[index](args[index]);return func.apply(this,args)})}),partial=createPartial(PARTIAL_FLAG),partialRight=createPartial(PARTIAL_RIGHT_FLAG),rearg=restParam(function(func,indexes){return createWrapper(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes))}),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag},merge=createAssigner(baseMerge),assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),defaults=createDefaults(assign,assignDefaults),defaultsDeep=createDefaults(merge,mergeDefaults),findKey=createFindKey(baseForOwn),findLastKey=createFindKey(baseForOwnRight),forIn=createForIn(baseFor),forInRight=createForIn(baseForRight),forOwn=createForOwn(baseForOwn),forOwnRight=createForOwn(baseForOwnRight),keys=nativeKeys?function(object){var Ctor=null==object?undefined:object.constructor;return"function"==typeof Ctor&&Ctor.prototype===object||"function"!=typeof object&&isArrayLike(object)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,mapKeys=createObjectMapper(!0),mapValues=createObjectMapper(),omit=restParam(function(object,props){if(null==object)return{};if("function"!=typeof props[0]){var props=arrayMap(baseFlatten(props),String);return pickByArray(object,baseDifference(keysIn(object),props))}var predicate=bindCallback(props[0],props[1],3);return pickByCallback(object,function(value,key,object){return!predicate(value,key,object)})}),pick=restParam(function(object,props){return null==object?{}:"function"==typeof props[0]?pickByCallback(object,bindCallback(props[0],props[1],3)):pickByArray(object,baseFlatten(props))}),camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?word.charAt(0).toUpperCase()+word.slice(1):word)}),kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),padLeft=createPadDir(),padRight=createPadDir(!0),snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}),startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+(word.charAt(0).toUpperCase()+word.slice(1))}),attempt=restParam(function(func,args){try{return func.apply(undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),method=restParam(function(path,args){return function(object){return invokePath(object,path,args)}}),methodOf=restParam(function(object,args){return function(path){return invokePath(object,path,args)}}),ceil=createRound("ceil"),floor=createRound("floor"),max=createExtremum(gt,NEGATIVE_INFINITY),min=createExtremum(lt,POSITIVE_INFINITY),round=createRound("round");return lodash.prototype=baseLodash.prototype,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,MapCache.prototype["delete"]=mapDelete,MapCache.prototype.get=mapGet,MapCache.prototype.has=mapHas,MapCache.prototype.set=mapSet,SetCache.prototype.push=cachePush,memoize.Cache=MapCache,lodash.after=after,lodash.ary=ary,lodash.assign=assign,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.callback=callback,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flow=flow,lodash.flowRight=flowRight,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.functions=functions,lodash.groupBy=groupBy,lodash.indexBy=indexBy,lodash.initial=initial,lodash.intersection=intersection,lodash.invert=invert,lodash.invoke=invoke,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=merge,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.modArgs=modArgs,lodash.negate=negate,lodash.omit=omit,lodash.once=once,lodash.pairs=pairs,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pluck=pluck,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=pull,lodash.pullAt=pullAt,lodash.range=range,lodash.rearg=rearg,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.restParam=restParam,lodash.set=set,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=sortBy,lodash.sortByAll=sortByAll,lodash.sortByOrder=sortByOrder,lodash.spread=spread,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.times=times,lodash.toArray=toArray,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.union=union,lodash.uniq=uniq,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.where=where,lodash.without=without,lodash.wrap=wrap,lodash.xor=xor,lodash.zip=zip,lodash.zipObject=zipObject,lodash.zipWith=zipWith,lodash.backflow=flowRight,lodash.collect=map,lodash.compose=flowRight,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.extend=assign,lodash.iteratee=callback,lodash.methods=functions,lodash.object=zipObject,lodash.select=filter,lodash.tail=rest,lodash.unique=uniq,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.deburr=deburr,lodash.endsWith=endsWith,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.findWhere=findWhere,lodash.first=first,lodash.floor=floor,lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isBoolean=isBoolean,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isMatch=isMatch,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lt=lt,lodash.lte=lte,lodash.max=max,lodash.min=min,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.pad=pad,lodash.padLeft=padLeft,lodash.padRight=padRight,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.result=result,lodash.round=round,lodash.runInContext=runInContext,lodash.size=size,lodash.snakeCase=snakeCase,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedLastIndex=sortedLastIndex,lodash.startCase=startCase,lodash.startsWith=startsWith,lodash.sum=sum,lodash.template=template,lodash.trim=trim,lodash.trimLeft=trimLeft,lodash.trimRight=trimRight,lodash.trunc=trunc,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.words=words,lodash.all=every,lodash.any=some,lodash.contains=includes,lodash.eq=isEqual,lodash.detect=find,lodash.foldl=reduce,lodash.foldr=reduceRight,lodash.head=first,lodash.include=includes,lodash.inject=reduce,mixin(lodash,function(){var source={};return baseForOwn(lodash,function(func,methodName){lodash.prototype[methodName]||(source[methodName]=func)}),source}(),!1),lodash.sample=sample,lodash.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(value){return sample(value,n)}):sample(this.value())},lodash.VERSION=VERSION,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index)return new LazyWrapper(this);n=null==n?1:nativeMax(nativeFloor(n)||0,0);var result=this.clone();return filtered?result.__takeCount__=nativeMin(result.__takeCount__,n):result.__views__.push({size:n,type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}),arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type!=LAZY_MAP_FLAG;LazyWrapper.prototype[methodName]=function(iteratee,thisArg){var result=this.clone();return result.__iteratees__.push({iteratee:getCallback(iteratee,thisArg,1),type:type}),result.__filtered__=result.__filtered__||isFilter,result}}),arrayEach(["first","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","rest"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}),arrayEach(["pluck","where"],function(methodName,index){var operationName=index?"filter":"map",createCallback=index?baseMatches:property;LazyWrapper.prototype[methodName]=function(value){return this[operationName](createCallback(value))}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.reject=function(predicate,thisArg){return predicate=getCallback(predicate,thisArg,1),this.filter(function(value){return!predicate(value)})},LazyWrapper.prototype.slice=function(start,end){start=null==start?0:+start||0;var result=this;return result.__filtered__&&(start>0||0>end)?new LazyWrapper(result):(0>start?result=result.takeRight(-start):start&&(result=result.drop(start)),end!==undefined&&(end=+end||0,result=0>end?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate,thisArg){return this.reverse().takeWhile(predicate,thisArg).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(POSITIVE_INFINITY)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|map|reject)|While$/.test(methodName),retUnwrapped=/^(?:first|last)$/.test(methodName),lodashFunc=lodash[retUnwrapped?"take"+("last"==methodName?"Right":""):methodName];lodashFunc&&(lodash.prototype[methodName]=function(){var args=retUnwrapped?[1]:arguments,chainAll=this.__chain__,value=this.__wrapped__,isHybrid=!!this.__actions__.length,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var interceptor=function(value){return retUnwrapped&&chainAll?lodashFunc(value,1)[0]:lodashFunc.apply(undefined,arrayPush([value],args))},action={func:thru,args:[interceptor],thisArg:undefined},onlyLazy=isLazy&&!isHybrid;if(retUnwrapped&&!chainAll)return onlyLazy?(value=value.clone(),value.__actions__.push(action),func.call(value)):lodashFunc.call(undefined,this.value())[0];if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push(action),new LodashWrapper(result,chainAll)}return this.thru(interceptor)})}),arrayEach(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(methodName){var func=(/^(?:replace|split)$/.test(methodName)?stringProto:arrayProto)[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:join|pop|replace|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;return retUnwrapped&&!this.__chain__?func.apply(this.value(),args):this[chainName](function(value){return func.apply(value,args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name,names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}}),realNames[createHybridWrapper(undefined,BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,
LazyWrapper.prototype.value=lazyValue,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.concat=wrapperConcat,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toString=wrapperToString,lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.collect=lodash.prototype.map,lodash.prototype.head=lodash.prototype.first,lodash.prototype.select=lodash.prototype.filter,lodash.prototype.tail=lodash.prototype.rest,lodash}var undefined,VERSION="3.10.1",BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=150,HOT_SPAN=16,LARGE_ARRAY_SIZE=200,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,FUNC_ERROR_TEXT="Expected a function",PLACEHOLDER="__lodash_placeholder__",argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,reRegExpChars=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,reHasRegExpChars=RegExp(reRegExpChars.source),reComboMark=/[\u0300-\u036f\ufe20-\ufe23]/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reHasHexPrefix=/^0[xX]/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^\d+$/,reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,reWords=function(){var upper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lower="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(upper+"+(?="+upper+lower+")|"+upper+"?"+lower+"|"+upper+"+|[0-9]+","g")}(),contextProps=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var deburredLetters={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},objectTypes={"function":!0,object:!0},regexpEscapes={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,_=runInContext();root._=_,__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module),!(__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this)}).call(exports,__webpack_require__(31)(module),function(){return this}())},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_lodash=__webpack_require__(3),_lodash2=_interopRequireDefault(_lodash),_editable_asset01Js=__webpack_require__(7),_editable_asset01Js2=_interopRequireDefault(_editable_asset01Js),_classnames=__webpack_require__(2),_classnames2=_interopRequireDefault(_classnames),Canvas=function(_skoash$Component){function Canvas(){_classCallCheck(this,Canvas),_get(Object.getPrototypeOf(Canvas.prototype),"constructor",this).call(this),this.state={background:null,items:[],messages:[],offsetX:0,offsetY:0,active:!1,valid:!0},this.deleteItem=this.deleteItem.bind(this),this.checkItem=this.checkItem.bind(this),this.deactivateItems=this.deactivateItems.bind(this),this.relayerItems=this.relayerItems.bind(this),this.setValid=this.setValid.bind(this)}return _inherits(Canvas,_skoash$Component),_createClass(Canvas,[{key:"getItems",value:function getItems(){var items,messages,self=this;return items=this.state.items.map(function(item,key){var state=self.refs["item-"+key].state;return item.state={left:_lodash2["default"].floor(state.left,14),top:_lodash2["default"].floor(state.top,14),scale:_lodash2["default"].floor(state.scale,14),rotation:_lodash2["default"].floor(state.rotation,14),layer:state.layer,valid:state.valid,corners:state.corners},item.check=state.check,item.mime_type=state.mime_type,item}),messages=this.state.messages.map(function(item,key){var state=self.refs["message-"+key].state;return item.state={left:_lodash2["default"].floor(state.left,14),top:_lodash2["default"].floor(state.top,14),scale:_lodash2["default"].floor(state.scale,14),rotation:_lodash2["default"].floor(state.rotation,14),layer:state.layer,valid:state.valid,corners:state.corners},item.check=state.check,item.mime_type=state.mime_type,item}),{background:this.state.background,items:items,messages:messages}}},{key:"reset",value:function reset(){this.setState({background:null,items:[],messages:[]})}},{key:"setItems",value:function setItems(message){var _this=this;message&&this.setState({background:null,items:[],messages:[]},function(){_this.setState(message)})}},{key:"addItem",value:function addItem(asset,cb){var _this2=this,_arguments2=arguments,items,messages;"background"===asset.asset_type?this.setState({background:asset},function(){skoash.trigger("emit",{name:"getMedia",media_id:asset.media_id}).then(function(d){var background=_this2.state.background;background.check=d.check,background.mime_type=d.mime_type,_this2.setState({background:background})}),cb(_arguments2)}):"item"===asset.asset_type?(items=this.state.items,items.push(asset),this.setState({items:items},cb)):"message"===asset.asset_type&&(messages=this.state.messages,messages.push(asset),this.setState({messages:messages},cb))}},{key:"deleteItem",value:function deleteItem(key,type){var items;items=this.state[type+"s"],delete items[key],this.setState(_defineProperty({},type+"s",items))}},{key:"deactivateItems",value:function deactivateItems(exclude,type){var _this3=this;if("object"==typeof exclude&&exclude.target){if("LI"!==exclude.target.tagName)return;this.setState({active:!1})}"number"==typeof exclude&&this.setState({active:!0}),this.state.items.map(function(item,key){key===exclude&&"item"===type||!_this3.refs["item-"+key]||_this3.refs["item-"+key].deactivate()}),this.state.messages.map(function(item,key){key===exclude&&"message"===type||!_this3.refs["message-"+key]||_this3.refs["message-"+key].deactivate()})}},{key:"relayerItems",value:function relayerItems(type){var _this4=this,layers=[];this.state[type+"s"].map(function(item,key){var layer;layer=_this4.refs[type+"-"+key].state.layer,-1===layers.indexOf(layer)&&layers.push(layer)}),layers.sort(function(a,b){return b>a}),this.state[type+"s"].map(function(item,key){var oldLayer,newLayer;oldLayer=_this4.refs[type+"-"+key].state.layer,newLayer="message"===type?1e4:1e3,newLayer-=layers.indexOf(oldLayer),_this4.refs[type+"-"+key].relayer(newLayer)})}},{key:"checkItem",value:function checkItem(key,type){var self=this;return self.state[type+"s"][key].can_overlap||!self.state[type+"s"].some(function(item,index){return key!==index&&!self.state[type+"s"][index].can_overlap&&play.util.doIntersect(self.refs[type+"-"+key].state.corners,self.refs[type+"-"+index].state.corners)})}},{key:"setValid",value:function setValid(valid){this.setState({valid:valid}),"function"==typeof this.props.setValid&&this.props.setValid(valid)}},{key:"getStyle",value:function getStyle(){return this.state.background?{backgroundImage:"url("+this.state.background.src+")"}:void 0}},{key:"renderItems",value:function renderItems(){var self=this;return this.state.items.map(function(item,key){return React.createElement(_editable_asset01Js2["default"],_extends({},item,{"data-ref":key,deleteItem:self.deleteItem,checkItem:self.checkItem,deactivateItems:self.deactivateItems,relayerItems:self.relayerItems,setValid:self.setValid,ref:"item-"+key,key:key}))})}},{key:"renderMessages",value:function renderMessages(){var self=this;return this.state.messages.map(function(item,key){return React.createElement(_editable_asset01Js2["default"],_extends({},item,{"data-ref":key,deleteItem:self.deleteItem,checkItem:self.checkItem,deactivateItems:self.deactivateItems,relayerItems:self.relayerItems,setValid:self.setValid,ref:"message-"+key,key:key}))})}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({canvas:!0,ACTIVE:this.state.active})}},{key:"render",value:function render(){return React.createElement("ul",{className:this.getClassNames(),style:this.getStyle(),onClick:this.deactivateItems.bind(this)},this.renderItems(),this.renderMessages())}}]),Canvas}(skoash.Component);exports["default"]=Canvas,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_lodash=__webpack_require__(3),_lodash2=_interopRequireDefault(_lodash),_classnames=__webpack_require__(2),_classnames2=_interopRequireDefault(_classnames),_selectable01=__webpack_require__(1),_selectable012=_interopRequireDefault(_selectable01),ItemDrawer=function(_Selectable){function ItemDrawer(){_classCallCheck(this,ItemDrawer),_get(Object.getPrototypeOf(ItemDrawer.prototype),"constructor",this).call(this)}return _inherits(ItemDrawer,_Selectable),_createClass(ItemDrawer,[{key:"start",value:function start(){var items,selectedItem,selectFunction,classes={},self=this;selectFunction="HIGHLIGHTED"===this.state.selectClass?this.highlight:this.select,items=self.props.data||[],self.state.category&&(items=items[self.state.category].items),selectedItem=JSON.stringify(self.props.selectedItem),_lodash2["default"].each(items,function(item,key){self.props.selectedItem&&JSON.stringify(item)===selectedItem&&(classes[key]=self.state.selectClass)}),this.props.selectOnStart&&(classes[this.props.selectOnStart]=this.state.selectClass),this.setState({started:!0,classes:classes,selectFunction:selectFunction,categoryName:""}),this.bootstrap(),_lodash2["default"].each(self.refs,function(ref){"function"==typeof ref.start&&ref.start()})}},{key:"selectHelper",value:function selectHelper(e){var li,message,key,type,categoryName,classes=[];li=e.target.closest("LI"),li&&(key=li.getAttribute("data-ref"),this.refs[key]&&(type=this.refs[key].props.item.asset_type,type&&("folder"===type?(categoryName=this.refs[key].props.item.name,this.setState({category:key,categoryName:categoryName})):(message=this.refs[key].props.item,classes[key]=this.state.selectClass,this.setState({message:message,classes:classes})))))}},{key:"selectButton",value:function selectButton(){"function"==typeof this.props.selectRespond&&this.props.selectRespond(this.state.message)}},{key:"continueButton",value:function continueButton(){"function"==typeof this.props.selectRespond&&this.props.selectRespond({})}},{key:"cancelButton",value:function cancelButton(){"function"==typeof this.props.cancelRespond&&this.props.cancelRespond.call(this)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(){this.setState({category:null})}},{key:"getCategory",value:function getCategory(){return this.state.categoryName?this.state.categoryName:this.props.categories&&this.props.categories.length?this.props.categories[this.props.categories.length-1]:""}},{key:"getULClass",value:function getULClass(){var _classNames,categories="";return this.props.categories&&(categories=this.props.categories.join(" ")),(0,_classnames2["default"])((_classNames={"item-drawer":!0},_defineProperty(_classNames,categories,!0),_defineProperty(_classNames,"COMPLETE",this.state.complete),_classNames))}},{key:"getClass",value:function getClass(key,item){var _classNames2,white=item&&item.name&&(-1!==item.name.indexOf("_w.")||-1!==item.name.indexOf("W."));return(0,_classnames2["default"])((_classNames2={},_defineProperty(_classNames2,this.state.classes[key]||"",!0),_defineProperty(_classNames2,"white",white),_classNames2))}},{key:"renderButtons",value:function renderButtons(){return React.createElement("div",{className:"buttons"},React.createElement("button",{className:"select",onClick:this.selectButton.bind(this)}),React.createElement("button",{className:"continue",onClick:this.continueButton.bind(this)}),React.createElement("button",{className:"cancel",onClick:this.cancelButton.bind(this)}))}},{key:"renderItemContent",value:function renderItemContent(item){var content=[],src;return item.src?src=item.src:item.items&&_lodash2["default"].isArray(item.items)&&(src=item.items[0].src,item.items.some(function(subitem){return"_thumb.png"===subitem.name?(src=subitem.src,!1):void 0})),src&&content.push(React.createElement(skoash.Image,{src:src,key:0})),!item.name||"folder"!==item.asset_type&&"friend"!==item.asset_type||content.push(React.createElement("span",{className:"name",key:1},item.name)),item.description&&content.push(React.createElement("span",{className:"description",key:2},item.description)),content}},{key:"renderList",value:function renderList(){var _this=this,items,listItems=[],self=this;return this.props.data?(items=this.props.data,this.state.category&&(items=items[this.state.category].items),_lodash2["default"].isArray(items)?items.map(function(item,key){return React.createElement(skoash.ListItem,{className:_this.getClass(key,item),ref:key,"data-ref":key,item:item,key:key},self.renderItemContent(item))}):(_lodash2["default"].forIn(items,function(item,key){listItems.push(React.createElement(skoash.ListItem,{className:_this.getClass(key,item),ref:key,"data-ref":key,item:item,key:key},self.renderItemContent(item)))}),listItems)):void 0}},{key:"render",value:function render(){return React.createElement("div",{className:this.props.className},React.createElement("div",{className:"item-drawer-container"},React.createElement("h2",null,this.getCategory()),React.createElement("ul",{className:this.getULClass(),onClick:this.state.selectFunction.bind(this)},this.renderList())),this.renderButtons())}}]),ItemDrawer}(_selectable012["default"]);exports["default"]=ItemDrawer,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_lodash=__webpack_require__(3),_lodash2=_interopRequireDefault(_lodash),_classnames=__webpack_require__(2),_classnames2=_interopRequireDefault(_classnames),Draggable=function(_skoash$Component){function Draggable(){_classCallCheck(this,Draggable),_get(Object.getPrototypeOf(Draggable.prototype),"constructor",this).call(this),this.state={startX:0,startY:0,endX:0,endY:0,zoom:1},this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.moveEvent=this.moveEvent.bind(this),this.touchStart=this.touchStart.bind(this),this.touchEnd=this.touchEnd.bind(this)}return _inherits(Draggable,_skoash$Component),_createClass(Draggable,[{key:"shouldDrag",value:function shouldDrag(){return!0}},{key:"markCorrect",value:function markCorrect(){this.setState({correct:!0})}},{key:"markIncorrect",value:function markIncorrect(){this.setState({correct:!1})}},{key:"startEvent",value:function startEvent(e,cb){var pageX,pageY,rect,startX,startY,endX,endY,grabX,grabY;e.target===this.refs.el&&this.shouldDrag()&&(e.targetTouches&&e.targetTouches[0]&&(pageX=e.targetTouches[0].pageX,pageY=e.targetTouches[0].pageY,rect=e.target.getBoundingClientRect(),e=e.targetTouches[0],e.offsetX=pageX-rect.left,e.offsetY=pageY-rect.top),grabX=e.offsetX,grabY=e.offsetY,startX=endX=e.pageX-grabX,startY=endY=e.pageY-grabY,this.props["return"]||(startX=_lodash2["default"].isFinite(this.state.grabX)?this.state.startX+this.state.grabX-grabX:startX,startY=_lodash2["default"].isFinite(this.state.grabY)?this.state.startY+this.state.grabY-grabY:startY),this.setState({dragging:!0,"return":!1,startX:startX,startY:startY,grabX:grabX,grabY:grabY,endX:endX,endY:endY}),"function"==typeof this.props.dragRespond&&this.props.dragRespond(this.props.message),"function"==typeof cb&&cb.call(this))}},{key:"attachMouseEvents",value:function attachMouseEvents(){window.addEventListener("mousemove",this.moveEvent),window.addEventListener("mouseup",this.mouseUp)}},{key:"attachTouchEvents",value:function attachTouchEvents(){window.addEventListener("touchmove",this.moveEvent),window.addEventListener("touchend",this.touchEnd)}},{key:"mouseDown",value:function mouseDown(e){this.startEvent(e,this.attachMouseEvents)}},{key:"touchStart",value:function touchStart(e){this.startEvent(e,this.attachTouchEvents)}},{key:"moveEvent",value:function moveEvent(e){e.targetTouches&&e.targetTouches[0]&&(e.pageX=e.targetTouches[0].pageX,e.pageY=e.targetTouches[0].pageY),this.setState({endX:e.pageX-this.state.grabX,endY:e.pageY-this.state.grabY})}},{key:"endEvent",value:function endEvent(cb){this.dropRespond(),this.props["return"]?this.setState({dragging:!1,"return":this.props["return"],endX:this.state.startX,endY:this.state.startY}):this.setState({dragging:!1,"return":this.props["return"]}),"function"==typeof cb&&cb.call(this)}},{key:"detachMouseEvents",value:function detachMouseEvents(){window.removeEventListener("mousemove",this.moveEvent),window.removeEventListener("mouseup",this.mouseUp)}},{key:"detachTouchEvents",value:function detachTouchEvents(){window.removeEventListener("touchmove",this.moveEvent),window.removeEventListener("touchend",this.touchEnd)}},{key:"mouseUp",value:function mouseUp(){this.endEvent(this.detachMouseEvents)}},{key:"touchEnd",value:function touchEnd(){this.endEvent(this.detachTouchEvents)}},{key:"dropRespond",value:function dropRespond(){var corners;corners=this.setCorners(),"function"==typeof this.props.dropRespond&&this.props.dropRespond(this.props.message,corners)}},{key:"setCorners",value:function setCorners(){var top,left,width,height,el,corners=[];for(left=0,top=0,el=this.refs.el,width=el.offsetWidth,height=el.offsetHeight;el&&-1===el.className.indexOf("screen");)left+=el.offsetLeft||0,top+=el.offsetTop||0,el=el.offsetParent;left+=(this.state.endX-this.state.startX)/this.state.zoom,top+=(this.state.endY-this.state.startY)/this.state.zoom;for(var i=0;4>i;i++)corners.push({x:left+width*(1===i||2===i?1:0),y:top+height*(i>1?1:0)});return this.setState({corners:corners}),corners}},{key:"componentDidMount",value:function componentDidMount(){this.bootstrap()}},{key:"bootstrap",value:function bootstrap(){skoash.Component.prototype.bootstrap.call(this),this.setZoom(),this.refs.el.addEventListener("mousedown",this.mouseDown),this.refs.el.addEventListener("touchstart",this.touchStart),window.addEventListener("resize",this.setZoom.bind(this))}},{key:"setZoom",value:function setZoom(){this.setState({zoom:skoash.trigger("getState").scale})}},{key:"getStyle",value:function getStyle(){var x,y;return x=(this.state.endX-this.state.startX)/this.state.zoom,y=(this.state.endY-this.state.startY)/this.state.zoom,{transform:"translateX("+x+"px) translateY("+y+"px)"}}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({draggable:!0,DRAGGING:this.state.dragging,RETURN:this.state["return"],CORRECT:this.state.correct},this.props.className)}},{key:"render",value:function render(){return React.createElement("div",{ref:"el",className:this.getClassNames(),style:this.getStyle()},this.props.children)}}]),Draggable}(skoash.Component);exports["default"]=Draggable,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_draggable01Js=__webpack_require__(6),_draggable01Js2=_interopRequireDefault(_draggable01Js),_classnames=__webpack_require__(2),_classnames2=_interopRequireDefault(_classnames),EditableAsset=function(_Draggable){function EditableAsset(){_classCallCheck(this,EditableAsset),_get(Object.getPrototypeOf(EditableAsset.prototype),"constructor",this).call(this),this.state={width:0,height:0,left:0,top:0,scale:.5,minScale:.1,maxScale:1,rotation:0,layer:1e3,zoom:1,active:!1,valid:!0,corners:[],lastValid:{}},this.scale=this.scale.bind(this),this.adjustScale=this.adjustScale.bind(this),this.offScale=this.offScale.bind(this),this.rotate=this.rotate.bind(this),this.adjustRotation=this.adjustRotation.bind(this),this.offRotate=this.offRotate.bind(this)}return _inherits(EditableAsset,_Draggable),_createClass(EditableAsset,[{key:"shouldDrag",value:function shouldDrag(){return this.state.active}},{key:"activate",value:function activate(){this.setState({active:!0}),"function"==typeof this.props.deactivateItems&&this.props.deactivateItems(this.props["data-ref"],this.props.asset_type)}},{key:"deactivate",value:function deactivate(){var self=this;this.state.valid?this.setState({active:!1}):this.setState({left:this.state.lastValid.left||this.state.left,top:this.state.lastValid.top||this.state.top,scale:this.state.lastValid.scale||this.state.scale,rotation:this.state.lastValid.rotation||this.state.rotation,active:!1},function(){setTimeout(function(){self.checkItem()},0)})}},{key:"moveEvent",value:function moveEvent(e){e.targetTouches&&e.targetTouches[0]&&(e.pageX=e.targetTouches[0].pageX,e.pageY=e.targetTouches[0].pageY),this.setState({endX:e.pageX-this.state.grabX,endY:e.pageY-this.state.grabY,left:(e.pageX-this.state.grabX-this.state.startX)/this.state.zoom,top:(e.pageY-this.state.grabY-this.state.startY)/this.state.zoom}),this.checkItem()}},{key:"delete",value:function _delete(){"function"==typeof this.props.deleteItem&&this.props.deleteItem(this.props["data-ref"],this.props.asset_type)}},{key:"rotate",value:function rotate(){this.refs.el.parentNode.addEventListener("mousemove",this.adjustRotation),this.refs.el.parentNode.addEventListener("mouseup",this.offRotate)}},{key:"offRotate",value:function offRotate(){this.refs.el.parentNode.removeEventListener("mousemove",this.adjustRotation),
this.refs.el.parentNode.removeEventListener("mouseup",this.offRotate)}},{key:"adjustRotation",value:function adjustRotation(e){var rotation,deltaX,deltaY;e.targetTouches&&e.targetTouches[0]&&(e.pageX=e.targetTouches[0].pageX,e.pageY=e.targetTouches[0].pageY),deltaX=e.pageX/this.state.zoom-this.refs.li.offsetParent.offsetLeft-(this.state.left+this.state.width/2),deltaY=e.pageY/this.state.zoom-this.refs.li.offsetParent.offsetTop-(this.state.top+this.state.height/2),rotation=Math.atan2(deltaY,deltaX)+Math.PI/4%(2*Math.PI),this.setState({rotation:rotation}),this.checkItem()}},{key:"layer",value:function layer(){var layer,self=this;layer=this.state.layer-1,this.setState({layer:layer},function(){"function"==typeof self.props.relayerItems&&self.props.relayerItems(self.props.asset_type)})}},{key:"relayer",value:function relayer(layer){this.setState({layer:layer})}},{key:"scale",value:function scale(){this.refs.el.parentNode.addEventListener("mousemove",this.adjustScale),this.refs.el.parentNode.addEventListener("mouseup",this.offScale),this.refs.el.parentNode.addEventListener("touchmove",this.adjustScale),this.refs.el.parentNode.addEventListener("touchend",this.offScale)}},{key:"offScale",value:function offScale(){this.refs.el.parentNode.removeEventListener("mousemove",this.adjustScale),this.refs.el.parentNode.removeEventListener("mouseup",this.offScale),this.refs.el.parentNode.removeEventListener("touchmove",this.adjustScale),this.refs.el.parentNode.removeEventListener("touchend",this.offScale)}},{key:"adjustScale",value:function adjustScale(e){var scale,deltaX,deltaY,delta,base;e.targetTouches&&e.targetTouches[0]&&(e.pageX=e.targetTouches[0].pageX,e.pageY=e.targetTouches[0].pageY),deltaX=e.pageX/this.state.zoom-this.refs.li.offsetParent.offsetLeft-(this.state.left+this.state.width/2),deltaY=e.pageY/this.state.zoom-this.refs.li.offsetParent.offsetTop-(this.state.top+this.state.height/2),delta=Math.pow(Math.pow(deltaX,2)+Math.pow(deltaY,2),.5),base=Math.pow(Math.pow(this.state.width/2,2)+Math.pow(this.state.height/2,2),.5),scale=Math.max(Math.min(delta/base,1),this.state.minScale),this.setState({scale:scale}),this.checkItem()}},{key:"checkItem",value:function checkItem(){var valid;this.setCorners(),"function"==typeof this.props.checkItem&&(valid=this.props.checkItem(this.props["data-ref"],this.props.asset_type),valid?this.setState({valid:valid,lastValid:new Object(this.state)}):this.setState({valid:valid}),"function"==typeof this.props.setValid&&this.props.setValid(valid))}},{key:"setCorners",value:function setCorners(){var center,distance,angle,corners=[];center={x:this.state.left+this.state.width/2,y:this.state.top+this.state.height/2},distance=Math.pow(Math.pow(this.state.width*this.state.scale/2,2)+Math.pow(this.state.height*this.state.scale/2,2),.5);for(var i=0;4>i;i++)angle=this.state.rotation,angle+=2>i?0:Math.PI,angle+=Math.pow(-1,i)*Math.atan2(this.state.height,this.state.width),corners.push({x:center.x+distance*Math.cos(angle),y:center.y+distance*Math.sin(angle)});this.setState({corners:corners})}},{key:"getSize",value:function getSize(){var _this=this,image,self=this;image=new Image,image.onload=function(){var width,height,minDim,maxDim,minScale,maxScale,scale;minDim=_this.props.minDim||40,maxDim=_this.props.maxDim||400,width=image.width,height=image.height,minScale=Math.max(minDim/width,minDim/height),maxScale=Math.min(maxDim/width,maxDim/height,_this.state.maxScale),scale=self.props.state&&self.props.state.scale?self.props.state.scale:Math.max(Math.min(self.state.scale,maxScale),minScale),self.setState({width:width,height:height,minScale:minScale,scale:scale},function(){self.activate(),self.checkItem()})},image.src=this.props.src}},{key:"getLayer",value:function getLayer(){var layer=1e3;if(this.props.state&&this.props.state.layer)layer=this.props.state.layer;else switch(this.props.asset_type){case"background":layer=1;break;case"message":layer=1e4}this.setState({layer:layer})}},{key:"attachEvents",value:function attachEvents(){this.refs.scale.addEventListener("mousedown",this.scale),this.refs.rotate.addEventListener("mousedown",this.rotate),this.refs.scale.addEventListener("touchstart",this.scale),this.refs.rotate.addEventListener("touchstart",this.rotate)}},{key:"componentDidMount",value:function componentDidMount(){this.bootstrap()}},{key:"bootstrap",value:function bootstrap(){var _this2=this;_draggable01Js2["default"].prototype.bootstrap.call(this),this.props.state&&this.setState(this.props.state),this.getSize(),this.getLayer(),this.attachEvents(),skoash.trigger("emit",{name:"getMedia",media_id:this.props.media_id}).then(function(d){_this2.setState(d)})}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.attachEvents()}},{key:"getButtonStyle",value:function getButtonStyle(){var style,transform="";return transform+="scale("+1/this.state.scale+") ",transform+="rotate("+-this.state.rotation+"rad) ",style={transform:transform}}},{key:"getAssetStyle",value:function getAssetStyle(){var style,transform="";return transform+="scale("+this.state.scale+") ",transform+="rotate("+this.state.rotation+"rad) ",style={backgroundImage:'url("'+this.props.src+'")',width:this.state.width,height:this.state.height,left:this.state.left,top:this.state.top,transform:transform,zIndex:this.state.layer}}},{key:"getButtonsStyle",value:function getButtonsStyle(){var style,transform="";return transform+="scale("+this.state.scale+") ",transform+="rotate("+this.state.rotation+"rad) ",style={width:this.state.width,height:this.state.height,left:this.state.left,top:this.state.top,transform:transform}}},{key:"getClasses",value:function getClasses(){return(0,_classnames2["default"])({DRAGGING:this.state.dragging,RETURN:this.state["return"],ACTIVE:this.state.active,INVALID:!this.state.valid},"editable-asset",this.props.asset_type)}},{key:"renderAsset",value:function renderAsset(){return React.createElement("div",{ref:"el",className:"asset",style:this.getAssetStyle()})}},{key:"renderButtons",value:function renderButtons(){return React.createElement("div",{className:"buttons",style:this.getButtonsStyle()},React.createElement("button",{className:"delete",style:this.getButtonStyle(),onClick:this["delete"].bind(this)}),React.createElement("button",{ref:"rotate",className:"rotate",style:this.getButtonStyle()}),React.createElement("button",{className:"layer",onClick:this.layer.bind(this),style:this.getButtonStyle()}),React.createElement("button",{ref:"scale",className:"scale",style:this.getButtonStyle()}))}},{key:"render",value:function render(){return React.createElement("li",{ref:"li",className:this.getClasses(),onClick:this.activate.bind(this)},this.renderAsset(),this.renderButtons())}}]),EditableAsset}(_draggable01Js2["default"]);exports["default"]=EditableAsset,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_selectable01=__webpack_require__(1),_selectable012=_interopRequireDefault(_selectable01),_classnames=__webpack_require__(2),_classnames2=_interopRequireDefault(_classnames),Inbox=function(_Selectable){function Inbox(){_classCallCheck(this,Inbox),_get(Object.getPrototypeOf(Inbox.prototype),"constructor",this).call(this)}return _inherits(Inbox,_Selectable),_createClass(Inbox,[{key:"selectHelper",value:function selectHelper(e){var li,message,key,classes=[];li=e.target.closest("LI"),li&&(key=li.getAttribute("data-ref"),this.refs[key]&&(message=this.refs[key].props.item,classes[key]=this.state.selectClass,this.setState({message:message,classes:classes}),"function"==typeof this.props.selectRespond&&message&&this.props.selectRespond(message)))}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(){this.setState({category:null})}},{key:"getClass",value:function getClass(key,unread,sent){var _classNames;return(0,_classnames2["default"])((_classNames={},_defineProperty(_classNames,this.state.classes[key]||"",!0),_defineProperty(_classNames,"UNREAD",unread),_defineProperty(_classNames,"SENT",sent),_classNames))}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({"item-drawer":!0,COMPLETE:this.state.complete},this.props.className)}},{key:"getStatusText",value:function getStatusText(item){return item.status&&"COMPLETE"!==item.status?item.status:""}},{key:"renderList",value:function renderList(){var _this=this,items,friends;return this.props.data&&this.props.data.items?(items=this.props.data.items,this.state.category&&(items=items[this.state.category].items),friends=skoash.trigger("getState").data.user||[],items.map(function(item,key){var timestamp,image,name;return timestamp=moment(item.timestamp),key="message-"+key,friends.some(function(friend){return item.created_by===friend.friend_id?(image=friend._embedded.image?friend._embedded.image.url:"",name=friend.username,!1):!0}),React.createElement(skoash.ListItem,{className:_this.getClass(key,item.unread,item.sent),ref:key,"data-ref":key,item:item,key:key},React.createElement(skoash.Image,{src:image}),React.createElement("span",{className:"username"},name),React.createElement("span",{className:"timestamp"},React.createElement("span",{className:"date"},timestamp.format("DD.MM.YY")),React.createElement("span",{className:"time"},timestamp.format("h:mm:ss a"))),React.createElement("span",{className:"status "+item.status},_this.getStatusText(item)))})):void 0}},{key:"render",value:function render(){return React.createElement("div",null,React.createElement("ul",{className:this.getClassNames(),onClick:this.state.selectFunction.bind(this)},this.renderList()))}}]),Inbox}(_selectable012["default"]);exports["default"]=Inbox,module.exports=exports["default"]},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var iOSSplashScreen=React.createElement(skoash.Screen,{id:"ios-splash",checkComplete:!1,completeDelay:6e3,hidePrev:!0},React.createElement(skoash.Image,{className:"hidden",src:"../shared/images/ios_start_ball.png"}),React.createElement(skoash.Image,{className:"hidden",src:"../shared/images/ios_start_ball_anim.gif"}));exports["default"]=iOSSplashScreen,module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},Loader=function(_skoash$Component){function Loader(){_classCallCheck(this,Loader),_get(Object.getPrototypeOf(Loader.prototype),"constructor",this).call(this)}return _inherits(Loader,_skoash$Component),_createClass(Loader,[{key:"render",value:function render(){return React.createElement("div",{id:"loader",className:"center"},React.createElement("div",{className:"group"},React.createElement("h2",null,"Loading!"),React.createElement("div",{className:"spinner animated"},React.createElement("div",{className:"spinner animated"},React.createElement("div",{className:"spinner animated"})))))}}]),Loader}(skoash.Component);exports["default"]=Loader,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_selectable01Js=__webpack_require__(1),_selectable01Js2=_interopRequireDefault(_selectable01Js),_classnames=__webpack_require__(2),_classnames2=_interopRequireDefault(_classnames),Menu=function(_Selectable){function Menu(){_classCallCheck(this,Menu),_get(Object.getPrototypeOf(Menu.prototype),"constructor",this).call(this),this.state={active:!1,selectClass:"SELECTED",classes:{}}}return _inherits(Menu,_Selectable),_createClass(Menu,[{key:"deactivate",value:function deactivate(){var self=this;this.setState({active:!1}),Object.keys(this.refs).map(function(key){"function"==typeof self.refs[key].deactivate&&self.refs[key].deactivate()})}},{key:"onClick",value:function onClick(e){var li,ul,dom,message,active=!1,classes=[];li=e.target.closest("LI"),li&&(ul=li.closest("UL"),dom=ReactDOM.findDOMNode(this),ul===dom&&(message=li.getAttribute("data-ref"),this.state.classes[message]!==this.state.selectClass&&(classes[message]=this.state.selectClass,active=!this.props.inactive),this.setState({classes:classes,active:active})))}},{key:"renderItems",value:function renderItems(){var _this=this,self=this;return"object"==typeof this.props.items?Object.keys(this.props.items).map(function(key){var item,onClick,gotoObj,categories,isFinal;return categories=_this.props.categories?[].concat(_this.props.categories):[],categories.push(key),item=_this.props.items[key],isFinal="object"!=typeof item.items||"[object Array]"===Object.prototype.toString.call(item.items)||"number"==typeof self.props.lastLevel&&self.props.lastLevel===self.props.level,isFinal&&(gotoObj={index:"item-drawer",categories:categories},onClick=skoash.trigger.bind(null,"goto",gotoObj)),React.createElement(skoash.ListItem,{className:self.getClass(key),"data-ref":key,ref:key,key:key,onClick:onClick},React.createElement("span",null,key),function(){return isFinal?void 0:React.createElement(Menu,{ref:"menu-"+key,categories:categories,items:item.items,inactive:!0,level:(self.props.level||0)+1,lastLevel:self.props.lastLevel})}())}):void 0}},{key:"getClass",value:function getClass(key){var _classNames;return(0,_classnames2["default"])((_classNames={},_defineProperty(_classNames,key.replace(" ","-"),!0),_defineProperty(_classNames,this.state.classes[key]||"",!0),_classNames))}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({menu:!0,ACTIVE:this.state.active},this.props.className)}},{key:"render",value:function render(){return React.createElement("ul",{className:this.getClassNames(),onClick:this.onClick.bind(this)},this.renderItems())}}]),Menu}(_selectable01Js2["default"]);exports["default"]=Menu,module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},QuitScreen=function(_skoash$Screen){function QuitScreen(){_classCallCheck(this,QuitScreen),_get(Object.getPrototypeOf(QuitScreen.prototype),"constructor",this).apply(this,arguments)}return _inherits(QuitScreen,_skoash$Screen),_createClass(QuitScreen,[{key:"okay",value:function okay(){skoash.trigger("quit")}},{key:"cancel",value:function cancel(){this.close(),skoash.trigger("menuClose",{id:this.state.id})}},{key:"render",value:function render(){return React.createElement("div",{id:this.props.id,className:this.getClassNames()},React.createElement("div",{className:"center"},React.createElement("div",{className:"frame"},React.createElement("h2",null,"Are you sure you",React.createElement("br",null),"want to quit?"),React.createElement("h3",null,"Your game progress will be saved"),React.createElement("button",{className:"quit-yes",onClick:this.okay.bind(this)}),React.createElement("button",{className:"quit-no",onClick:this.cancel.bind(this)}))))}}]),QuitScreen}(skoash.Screen);exports["default"]=React.createElement(QuitScreen,{id:"quit"}),module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},Reveal=function(_skoash$Component){function Reveal(){_classCallCheck(this,Reveal),_get(Object.getPrototypeOf(Reveal.prototype),"constructor",this).call(this),this.list=[React.createElement("li",null),React.createElement("li",null),React.createElement("li",null),React.createElement("li",null)],this.state={openReveal:""}}return _inherits(Reveal,_skoash$Component),_createClass(Reveal,[{key:"open",value:function open(message){var _this=this;this.setState({open:!0,openReveal:message}),this.playAudio(message),this.requireForComplete=this.requireForComplete.filter(function(item){return item!==message||_this.refs[message]instanceof skoash.Audio})}},{key:"close",value:function close(){this.setState({open:!1,openReveal:""}),"function"==typeof this.props.closeRespond&&this.props.closeRespond()}},{key:"start",value:function start(){skoash.Component.prototype.start.call(this),this.close(),null!=this.props.openOnStart&&this.open(this.props.openOnStart)}},{key:"playAudio",value:function playAudio(message){var _this2=this,messages;this.audio["open-sound"]&&this.audio["open-sound"].play(),"string"==typeof message?(messages=message.split(" "),messages.map(function(audio){_this2.audio[audio]&&_this2.audio[audio].play()})):this.audio.voiceOver[message]&&this.audio.voiceOver[message].play()}},{key:"renderAssets",value:function renderAssets(){return this.props.assets?this.props.assets.map(function(asset,key){return React.createElement(skoash.Audio,_extends({},asset.props,{ref:asset.props["data-ref"]||"asset-"+key,key:key,"data-ref":key}))}):null}},{key:"renderList",value:function renderList(){var _this3=this,list=this.props.list||this.list;return list.map(function(li,key){var ref=null==li.props["data-ref"]?key:li.props["data-ref"];return React.createElement("li",_extends({},li.props,{className:_this3.getClass(li,key),"data-ref":ref,ref:key,key:key}))})}},{key:"getClass",value:function getClass(li,key){var classes="";return li.props.className&&(classes+=li.props.className),-1!==this.state.openReveal.indexOf(key)&&(classes+=" OPEN"),-1!==this.state.openReveal.indexOf(li.props["data-ref"])&&(classes+=" OPEN"),classes}},{key:"getClasses",value:function getClasses(){var classes="";return this.state.open&&(classes+="OPEN"),this.state.complete&&(classes+=" COMPLETE"),classes}},{key:"render",value:function render(){return React.createElement("div",{className:"reveal "+this.getClasses()},this.renderAssets(),React.createElement("div",null,React.createElement("ul",null,this.renderList()),React.createElement("button",{className:"close-reveal",onClick:this.close.bind(this)})))}}]),Reveal}(skoash.Component);exports["default"]=Reveal,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_selectable01=__webpack_require__(1),_selectable012=_interopRequireDefault(_selectable01),_classnames=__webpack_require__(2),_classnames2=_interopRequireDefault(_classnames),SavedMessages=function(_Selectable){function SavedMessages(){_classCallCheck(this,SavedMessages),_get(Object.getPrototypeOf(SavedMessages.prototype),"constructor",this).call(this)}return _inherits(SavedMessages,_Selectable),_createClass(SavedMessages,[{key:"selectHelper",value:function selectHelper(e){var li,message,key,classes=[];li=e.target.closest("LI"),li&&(key=li.getAttribute("data-ref"),message=this.refs[key].props.item,classes[key]=this.state.selectClass,this.setState({message:message,classes:classes},this.selectRespond.bind(this)))}},{key:"selectRespond",value:function selectRespond(){"function"==typeof this.props.selectRespond&&this.state.message&&this.props.selectRespond(this.state.message)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(){this.setState({category:null})}},{key:"getClass",value:function getClass(key){var _classNames;return(0,_classnames2["default"])((_classNames={},_defineProperty(_classNames,this.state.classes[key]||"",!0),_defineProperty(_classNames,"DRAFT",!0),_classNames))}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({"item-drawer":!0,SAVED:!0,COMPLETE:this.state.complete},this.props.className)}},{key:"renderThumb",value:function renderThumb(item){var firstImg,background;return background=item&&item.rules&&item.rules.background&&item.rules.background.src?item.rules.background.src:"",firstImg=item&&item.rules&&item.rules.items&&item.rules.items[0]&&item.rules.items[0].src?item.rules.items[0].src:"",React.createElement("div",{className:"thumbnail",style:{backgroundImage:"url("+background+")"}},React.createElement(skoash.Image,{src:firstImg}))}},{key:"renderList",value:function renderList(){var items,self=this;if(self.props.data&&self.props.data.items)return items=self.props.data.items,self.state.category&&(items=items[self.state.category].items),items.map(function(item,key){var timestamp=moment(item.updated);return React.createElement(skoash.ListItem,{className:self.getClass(key),ref:key,"data-ref":key,item:item,key:key},self.renderThumb(item),React.createElement("span",{className:"timestamp"},React.createElement("span",{className:"date"},timestamp.format("MM.DD.YY")),React.createElement("span",{className:"time"},timestamp.format("h:mm:ss a"))))})}},{key:"render",value:function render(){return React.createElement("div",null,React.createElement("ul",{className:this.getClassNames(),onClick:this.state.selectFunction.bind(this)},this.renderList()))}}]),SavedMessages}(_selectable012["default"]);exports["default"]=SavedMessages,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){
return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_selectable01Js=__webpack_require__(1),_selectable01Js2=_interopRequireDefault(_selectable01Js),_reveal01Js=__webpack_require__(13),_reveal01Js2=_interopRequireDefault(_reveal01Js),SelectableReveal=function(_skoash$Component){function SelectableReveal(){_classCallCheck(this,SelectableReveal),_get(Object.getPrototypeOf(SelectableReveal.prototype),"constructor",this).call(this),this.state={answers:[]}}return _inherits(SelectableReveal,_skoash$Component),_createClass(SelectableReveal,[{key:"open",value:function open(message){this.refs.reveal.open(message)}},{key:"selectRespond",value:function selectRespond(message){this.state.answers.length?-1===this.state.answers.indexOf(message)?this.audio.incorrect&&this.audio.incorrect.play():(this.audio.correct&&this.audio.correct.play(),"function"==typeof this.refs.reveal.open&&this.open(message)):"function"==typeof this.refs.reveal.open&&this.open(message)}},{key:"closeRespond",value:function closeRespond(){"function"==typeof this.props.closeRespond&&this.props.closeRespond()}},{key:"renderAssets",value:function renderAssets(){return this.props.assets?this.props.assets.map(function(asset,key){return React.createElement(skoash.Audio,_extends({},asset.props,{ref:asset.props["data-ref"]||"asset-"+key,key:key,"data-ref":key}))}):null}},{key:"renderSelectable",value:function renderSelectable(){return React.createElement(_selectable01Js2["default"],{ref:"selectable",list:this.props.selectableList,selectRespond:this.selectRespond.bind(this),selectClass:this.props.selectableSelectClass,selectOnStart:this.props.selectOnStart})}},{key:"renderReveal",value:function renderReveal(){return React.createElement(_reveal01Js2["default"],{ref:"reveal",list:this.props.revealList,assets:this.props.revealAssets,closeRespond:this.closeRespond.bind(this),openOnStart:this.props.openOnStart})}},{key:"getClasses",value:function getClasses(){var classes="";return this.state.complete&&(classes+=" COMPLETE"),classes}},{key:"render",value:function render(){return React.createElement("div",{className:"selectable-reveal"+this.getClasses()},this.renderAssets(),this.renderSelectable(),this.renderReveal())}}]),SelectableReveal}(skoash.Component);exports["default"]=SelectableReveal,module.exports=exports["default"]},function(module,exports){!function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r,i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src=g,m.parentNode.insertBefore(a,m)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-26000499-1","auto"),ga("send","pageview")},function(module,exports){!function test(){window.parent===window?window.location.href="https://www.changemyworldnow.com/":document.domain="changemyworldnow.com"}()},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsCanvas01=__webpack_require__(4),_sharedComponentsCanvas012=_interopRequireDefault(_sharedComponentsCanvas01),_sharedComponentsMenu01=__webpack_require__(11),_sharedComponentsMenu012=_interopRequireDefault(_sharedComponentsMenu01),_sharedComponentsSelectable01=__webpack_require__(1),_sharedComponentsSelectable012=_interopRequireDefault(_sharedComponentsSelectable01),_classnames=__webpack_require__(2),_classnames2=_interopRequireDefault(_classnames),CanvasScreen=function(_skoash$Screen){function CanvasScreen(){_classCallCheck(this,CanvasScreen),_get(Object.getPrototypeOf(CanvasScreen.prototype),"constructor",this).call(this),this.state={load:!0,menu:{},valid:!0},this.rightMenuList=[React.createElement("li",{className:"preview",onClick:this.preview.bind(this)},React.createElement("span",null)),React.createElement("li",{className:"send",onClick:this.send.bind(this)},React.createElement("span",null))],this.setValid=this.setValid.bind(this),this.closeReveal=this.closeReveal.bind(this),this.setHasAssets=this.setHasAssets.bind(this)}return _inherits(CanvasScreen,_skoash$Screen),_createClass(CanvasScreen,[{key:"getData",value:function getData(){return this.refs.canvas.getItems()}},{key:"reset",value:function reset(){this.refs.canvas.reset(),this.setState({background:!1,hasAssets:!1})}},{key:"addItem",value:function addItem(message){message&&(this.setState({hasAssets:!0,background:this.state.background||"background"===message.asset_type}),this.refs.canvas.addItem(message,function(){skoash.trigger("save")}))}},{key:"setMenu",value:function setMenu(){var menu,state;state=skoash.trigger("getState"),state&&state.data&&state.data.menu&&(menu=state.data.menu,this.setState({menu:menu}))}},{key:"open",value:function open(opts){var hasAssets,background,interval;this.setMenu(),this.refs&&this.refs.menu&&this.refs.menu.deactivate(),opts.message&&(hasAssets=!0,background=!!opts.message.rules.background,this.refs.canvas.setItems(opts.message.rules),this.setState({hasAssets:hasAssets,background:background}),opts.message.friend_to&&skoash.trigger("passData",{name:"add-recipient",message:{friend_id:opts.message.friend_to}})),skoash.trigger("save"),interval=setInterval(function(){skoash.trigger("save")},12e4),this.setState({interval:interval}),skoash.Screen.prototype.open.call(this)}},{key:"close",value:function close(){skoash.trigger("save"),clearInterval(this.state.interval),this.setState({interval:null}),skoash.Screen.prototype.close.call(this)}},{key:"setValid",value:function setValid(valid){this.setState({valid:valid})}},{key:"setHasAssets",value:function setHasAssets(hasAssets){this.setState({hasAssets:hasAssets})}},{key:"send",value:function send(){this.state.valid&&this["goto"]("send")}},{key:"preview",value:function preview(){this.state.valid&&this["goto"]("preview")}},{key:"closeReveal",value:function closeReveal(){this.refs&&this.refs.reveal&&this.refs.reveal.close()}},{key:"getContainerClasses",value:function getContainerClasses(){return(0,_classnames2["default"])({"canvas-container":!0,BACKGROUND:this.state.background})}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({"HAS-ASSETS":this.state.hasAssets,INVALID:!this.state.valid},skoash.Screen.prototype.getClassNames.call(this))}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement(skoash.Image,{className:"hidden",src:"media/_Frames/SK_frames_canvas.png"}),React.createElement(skoash.Image,{className:"hidden",src:"media/_Buttons/SK_btn_friend.png"}),React.createElement(_sharedComponentsMenu012["default"],{ref:"menu",items:this.state.menu.items,level:0,lastLevel:1}),React.createElement("div",{className:this.getContainerClasses()},React.createElement(_sharedComponentsCanvas012["default"],{ref:"canvas",setValid:this.setValid,setHasAssets:this.setHasAssets})),React.createElement(_sharedComponentsSelectable012["default"],{className:"menu right-menu",list:this.rightMenuList}))}}]),CanvasScreen}(skoash.Screen);exports["default"]=React.createElement(CanvasScreen,{id:"canvas",hideNext:!0,hidePrev:!0}),module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsItem_drawer01Js=__webpack_require__(5),_sharedComponentsItem_drawer01Js2=_interopRequireDefault(_sharedComponentsItem_drawer01Js),DEFAULT_PROFILE_IMAGE="https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png",FriendScreen=function(_skoash$Screen){function FriendScreen(){_classCallCheck(this,FriendScreen),_get(Object.getPrototypeOf(FriendScreen.prototype),"constructor",this).call(this),this.state={load:!0,complete:!0,recipient:{},opts:{}}}return _inherits(FriendScreen,_skoash$Screen),_createClass(FriendScreen,[{key:"selectRespond",value:function selectRespond(message){skoash.trigger("pass-data",{name:"add-recipient","goto":this.state.opts["goto"],message:message})}},{key:"updateData",value:function updateData(d){var data=d&&d.user?d.user:skoash.trigger("getState").data.user||[];data=data.map(function(friend){var src=friend._embedded.image&&friend._embedded.image.url?friend._embedded.image.url:DEFAULT_PROFILE_IMAGE;return{user_id:friend.friend_id,name:friend.username,src:src,description:"",asset_type:"friend"}}),this.setState({data:data})}},{key:"open",value:function open(opts){var recipient,self=this;self.updateData(),skoash.trigger("getData",{name:"getFriends"}).then(function(data){self.updateData.call(self,data)}),recipient=skoash.trigger("getState").recipient,self.setState({load:!0,open:!0,leave:!1,close:!1,recipient:recipient,opts:opts},function(){self.refs.drawer&&self.refs.drawer.start()}),self.state.started||self.start()}},{key:"suggestFriends",value:function suggestFriends(){window.open(window.location.origin.replace("games-","")+"/friends/suggested")}},{key:"renderOtter",value:function renderOtter(){var copy,src;return src="One",copy=React.createElement("span",null,"Don't have",React.createElement("br",null)," friends yet?",React.createElement("br",null),React.createElement("br",null)," Let me suggest",React.createElement("br",null)," some for you."),this.state.data&&this.state.data.length&&(src="Two",copy=React.createElement("span",null,"Let me find a friend",React.createElement("br",null)," to send your message to.")),React.createElement("div",{className:"otter-container "+src},React.createElement(skoash.Image,{className:"otter",src:"media/_Otter/Otter_Static_Greeting"+src+".png"}),React.createElement("div",{className:"bubble"},copy))}},{key:"renderFriends",value:function renderFriends(){return this.state.data&&this.state.data.length?React.createElement(_sharedComponentsItem_drawer01Js2["default"],{ref:"drawer",selectRespond:this.selectRespond.bind(this),cancelRespond:this.back,categories:this.state.opts.categories,data:this.state.data,selectedItem:this.state.recipient,buttons:this.buttons,complete:!0,className:this.state.opts["goto"]}):React.createElement("div",{className:this.state.opts["goto"]},React.createElement("div",{className:"item-drawer-container"},React.createElement("div",{className:"suggest-friends-buttons"},React.createElement("button",{className:"continue",onClick:this.selectRespond.bind(this,{})}),React.createElement("button",{className:"suggest",onClick:this.suggestFriends}))))}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement("div",{className:"header"}),this.renderOtter(),this.renderFriends())}}]),FriendScreen}(skoash.Screen);exports["default"]=React.createElement(FriendScreen,{id:"friends",hideNext:!0,hidePrev:!0}),module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsSelectable_reveal01Js=__webpack_require__(15),_sharedComponentsSelectable_reveal01Js2=_interopRequireDefault(_sharedComponentsSelectable_reveal01Js),_sharedComponentsInbox01Js=__webpack_require__(8),_sharedComponentsInbox01Js2=_interopRequireDefault(_sharedComponentsInbox01Js),_sharedComponentsSaved_messages01Js=__webpack_require__(14),_sharedComponentsSaved_messages01Js2=_interopRequireDefault(_sharedComponentsSaved_messages01Js),InboxScreen=function(_skoash$Screen){function InboxScreen(){_classCallCheck(this,InboxScreen),_get(Object.getPrototypeOf(InboxScreen.prototype),"constructor",this).call(this),this.state={load:!0},this.selectableList=[React.createElement("li",null),React.createElement("li",null),React.createElement("li",null),React.createElement("li",null),React.createElement("li",null)],this.revealList=this.getRevealList()}return _inherits(InboxScreen,_skoash$Screen),_createClass(InboxScreen,[{key:"getRevealList",value:function getRevealList(inbox,outbox,saved){var read,unread;return inbox=inbox||[],read=inbox.filter(function(item){return item.read}),unread=inbox.filter(function(item){return!item.read}),[React.createElement("li",null,React.createElement(_sharedComponentsInbox01Js2["default"],{"data-ref":"inbox",data:{items:inbox||[]},selectRespond:this.readMessage.bind(this)})),React.createElement("li",null,React.createElement(_sharedComponentsInbox01Js2["default"],{"data-ref":"unread",data:{items:unread||[]},selectRespond:this.readMessage.bind(this)})),React.createElement("li",null,React.createElement(_sharedComponentsInbox01Js2["default"],{"data-ref":"ready",data:{items:read||[]},selectRespond:this.readMessage.bind(this)})),React.createElement("li",null,React.createElement(_sharedComponentsInbox01Js2["default"],{"data-ref":"outbox",data:{items:outbox||[]},selectRespond:this.readMessage.bind(this)})),React.createElement("li",null,React.createElement(_sharedComponentsSaved_messages01Js2["default"],{"data-ref":"saved",data:{items:saved||[]},selectRespond:this.editMessage.bind(this)}))]}},{key:"editMessage",value:function editMessage(message){skoash.trigger("goto",{index:"canvas",message:message})}},{key:"readMessage",value:function readMessage(message){skoash.trigger("goto",{index:"read",message:message})}},{key:"updateData",value:function updateData(){var data,inbox,outbox,saved;data=skoash.trigger("getState").data,inbox=data.received,outbox=data.sent,saved=data.draft,this.revealList=this.getRevealList(inbox,outbox,saved),this.setState({inbox:inbox,outbox:outbox,saved:saved})}},{key:"open",value:function open(){var self=this;skoash.trigger("getData",{status:"received"}).then(function(){self.updateData()}),skoash.trigger("getData",{status:"sent"}).then(function(){self.updateData()}),skoash.trigger("getData",{status:"draft"}).then(function(){self.updateData()}),self.setState({load:!0,open:!0,leave:!1,close:!1}),setTimeout(function(){self.state.started||self.start()},250)}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement("div",{className:"center"},React.createElement("div",{className:"frame"},React.createElement(_sharedComponentsSelectable_reveal01Js2["default"],{ref:"selectableReveal",selectableList:this.selectableList,revealList:this.revealList,selectOnStart:"0",openOnStart:"0"}))))}}]),InboxScreen}(skoash.Screen);exports["default"]=React.createElement(InboxScreen,{id:"inbox",hideNext:!0,hidePrev:!0}),module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsItem_drawer01Js=__webpack_require__(5),_sharedComponentsItem_drawer01Js2=_interopRequireDefault(_sharedComponentsItem_drawer01Js),ItemDrawerScreen=function(_skoash$Screen){function ItemDrawerScreen(){_classCallCheck(this,ItemDrawerScreen),_get(Object.getPrototypeOf(ItemDrawerScreen.prototype),"constructor",this).call(this),this.state={opts:{categories:[]}}}return _inherits(ItemDrawerScreen,_skoash$Screen),_createClass(ItemDrawerScreen,[{key:"bootstrap",value:function bootstrap(){skoash.Screen.prototype.bootstrap.call(this)}},{key:"selectRespond",value:function selectRespond(message){message=new Object(message),skoash.trigger("pass-data",{name:"add-item",message:message})}},{key:"updateData",value:function updateData(d){var data=d?d:skoash.trigger("getState").data.menu.items;this.state.opts.categories.forEach(function(key){data[key]&&(data=data[key]),data.items&&(data=data.items)}),this.setState({data:data})}},{key:"open",value:function open(opts){var self=this;self.updateData(),skoash.trigger("getMedia",{path:"skribble/menu/"+opts.categories.join("/")}).then(function(data){self.updateData(data)}),self.setState({load:!0,open:!0,leave:!1,close:!1,opts:opts}),setTimeout(function(){self.state.started||self.start()},250)}},{key:"cancelRespond",value:function cancelRespond(){this.state.category?this.setState({category:"",categoryName:""}):skoash.trigger("goto",{index:"canvas"})}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement(_sharedComponentsItem_drawer01Js2["default"],{ref:"drawer",selectRespond:this.selectRespond.bind(this),cancelRespond:this.cancelRespond,categories:this.state.opts.categories,data:this.state.data}))}}]),ItemDrawerScreen}(skoash.Screen);exports["default"]=React.createElement(ItemDrawerScreen,{id:"item-drawer",hideNext:!0,hidePrev:!0}),module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},MenuScreen=function(_skoash$Screen){function MenuScreen(){_classCallCheck(this,MenuScreen),_get(Object.getPrototypeOf(MenuScreen.prototype),"constructor",this).apply(this,arguments)}return _inherits(MenuScreen,_skoash$Screen),_createClass(MenuScreen,[{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement(skoash.Image,{className:"hidden",src:"media/_Background/SK_BKG_1.png"}),React.createElement(skoash.Image,{className:"otter",src:"media/_Otter/Otter_Static_GreetingOne.png"}),React.createElement("div",{className:"bubble"},"Hi there!",React.createElement("br",null),"What would you",React.createElement("br",null),"like to do today?"),React.createElement("div",{className:"buttons"},React.createElement("button",{className:"make",onClick:this["goto"].bind(this,"friend")}),React.createElement("button",{className:"read",onClick:this["goto"].bind(this,"inbox")})))}}]),MenuScreen}(skoash.Screen);exports["default"]=React.createElement(MenuScreen,{id:"menu",hidePrev:!0,hideNext:!0}),module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsCanvas01=__webpack_require__(4),_sharedComponentsCanvas012=_interopRequireDefault(_sharedComponentsCanvas01),_sharedComponentsSelectable01Js=__webpack_require__(1),_sharedComponentsSelectable01Js2=_interopRequireDefault(_sharedComponentsSelectable01Js),classNameText={skribbleBox:"skribble-box",box:"box",leftMenu:"menu left-menu",rightMenu:"menu right-menu"},refs={box:"box",canvas:"canvas"},PreviewScreen=function(_skoash$Screen){function PreviewScreen(){_classCallCheck(this,PreviewScreen),_get(Object.getPrototypeOf(PreviewScreen.prototype),"constructor",this).call(this),this.state={load:!0,opts:{}},this.leftMenuList=[React.createElement("li",{className:"edit",onClick:this["goto"].bind(this,"canvas")},React.createElement("span",null))],this.rightMenuList=[React.createElement("li",{className:"send",onClick:this["goto"].bind(this,"send")},React.createElement("span",null))]}return _inherits(PreviewScreen,_skoash$Screen),_createClass(PreviewScreen,[{key:"open",value:function open(opts){var rules=skoash.trigger("getRules");this.refs[refs.box].refs[refs.canvas].setItems(rules),skoash.Screen.prototype.open.call(this,opts)}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement(skoash.Component,{ref:refs.box,className:classNameText.skribbleBox},React.createElement(_sharedComponentsCanvas012["default"],{ref:refs.canvas}),React.createElement("div",{className:classNameText.box})),React.createElement(_sharedComponentsSelectable01Js2["default"],{className:classNameText.leftMenu,list:this.leftMenuList}),React.createElement(_sharedComponentsSelectable01Js2["default"],{className:classNameText.rightMenu,list:this.rightMenuList}))}}]),PreviewScreen}(skoash.Screen);exports["default"]=React.createElement(PreviewScreen,{id:"preview",hideNext:!0,hidePrev:!0}),module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsSelectable01Js=__webpack_require__(1),_sharedComponentsSelectable01Js2=_interopRequireDefault(_sharedComponentsSelectable01Js),classNameText={skribbleBox:"skribble-box",box:"box",leftMenu:"menu left-menu",rightMenu:"menu right-menu",sender:"menu recipient sender"},refs={box:"box"},ReadScreen=function(_skoash$Screen){function ReadScreen(){_classCallCheck(this,ReadScreen),_get(Object.getPrototypeOf(ReadScreen.prototype),"constructor",this).call(this),this.state={load:!0,message:{user:{}}},this.leftMenuList=[React.createElement("li",{className:"inbox",onClick:this["goto"].bind(this,"inbox")},React.createElement("span",null))],this.rightMenuList=[React.createElement("li",{
className:"reply",onClick:this.reply.bind(this)},React.createElement("span",null))]}return _inherits(ReadScreen,_skoash$Screen),_createClass(ReadScreen,[{key:"reply",value:function reply(){skoash.trigger("passData",{name:"add-recipient",message:this.state.message.created_by})}},{key:"open",value:function open(opts){var message=opts.message||{};this.setState({load:!0,open:!0,leave:!1,close:!1,message:message}),this.start()}},{key:"renderSender",value:function renderSender(){var message,friends,creater,content=[];return message=this.state.message,message&&(friends=skoash.trigger("getState").data.user||[],friends.some(function(friend){return message.created_by===friend.friend_id?(creater=friend,!1):!0}),creater)?(creater.username&&content.push(React.createElement("span",{className:"name"},creater.username)),creater._embedded.image&&content.push(React.createElement("img",{className:"profile-image",src:creater._embedded.image.url})),content):void 0}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement("ul",{className:classNameText.sender},React.createElement("li",null,React.createElement("span",null,this.renderSender()))),React.createElement(skoash.Component,{ref:refs.box,className:classNameText.skribbleBox},React.createElement(skoash.Image,{src:this.state.message.src}),React.createElement("div",{className:classNameText.box})),React.createElement(_sharedComponentsSelectable01Js2["default"],{className:classNameText.leftMenu,list:this.leftMenuList}),React.createElement(_sharedComponentsSelectable01Js2["default"],{className:classNameText.rightMenu,list:this.rightMenuList}))}}]),ReadScreen}(skoash.Screen);exports["default"]=React.createElement(ReadScreen,{id:"read",hideNext:!0,hidePrev:!0}),module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},SaveMenu=function(_skoash$Screen){function SaveMenu(){_classCallCheck(this,SaveMenu),_get(Object.getPrototypeOf(SaveMenu.prototype),"constructor",this).apply(this,arguments)}return _inherits(SaveMenu,_skoash$Screen),_createClass(SaveMenu,[{key:"cancel",value:function cancel(){this.close(),skoash.trigger("menuClose",{id:this.state.id})}},{key:"render",value:function render(){return React.createElement("div",{id:this.props.id,className:this.getClassNames()},React.createElement("div",{className:"center"},React.createElement("div",{className:"frame"},React.createElement("button",{className:"quit-saved",onClick:this.cancel.bind(this)}),React.createElement("h2",null,"Your progress"),React.createElement("h2",null,"has been saved"))))}}]),SaveMenu}(skoash.Screen);exports["default"]=React.createElement(SaveMenu,{id:"save"}),module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsSelectable01Js=__webpack_require__(1),_sharedComponentsSelectable01Js2=_interopRequireDefault(_sharedComponentsSelectable01Js),classNameText={yourMessageTo:"your-message-to",isReady:"is-ready",changeFriend:"change-friend",character:"character",gift:"gift",header:"header",username:"username"},SendScreen=function(_skoash$Screen){function SendScreen(){_classCallCheck(this,SendScreen),_get(Object.getPrototypeOf(SendScreen.prototype),"constructor",this).call(this),this.state={load:!0,recipient:{}},this.rightMenuList=[React.createElement("li",{className:"edit-right",onClick:this["goto"].bind(this,"canvas")},React.createElement("span",null)),React.createElement("li",{className:"send",onClick:this.send},React.createElement("span",null))]}return _inherits(SendScreen,_skoash$Screen),_createClass(SendScreen,[{key:"open",value:function open(){var recipient=skoash.trigger("getState").recipient||{};this.setState({load:!0,open:!0,leave:!1,close:!1,recipient:recipient}),this.start()}},{key:"send",value:function send(){skoash.trigger("pass-data",{name:"send"})}},{key:"renderContent",value:function renderContent(){var changeFriendClick=this["goto"].bind(this,{index:"friend","goto":"send"});return React.createElement("div",null,React.createElement("div",{className:classNameText.header},React.createElement("span",{className:classNameText.yourMessageTo}),React.createElement("span",{className:classNameText.username},this.state.recipient.name),React.createElement("br",null),React.createElement("span",{className:classNameText.isReady}),React.createElement("button",{className:classNameText.changeFriend,onClick:changeFriendClick})),React.createElement("div",{className:classNameText.character},React.createElement(skoash.Image,{className:"otter",src:"media/_Otter/Otter_Static_GreetingTwo.png"}),React.createElement("div",{className:"bubble"},"Are you sure",React.createElement("br",null),"you are ready to",React.createElement("br",null),"send your message?")),React.createElement("div",{className:classNameText.gift}),React.createElement(_sharedComponentsSelectable01Js2["default"],{className:"menu right-menu",list:this.rightMenuList}))}}]),SendScreen}(skoash.Screen);exports["default"]=React.createElement(SendScreen,{id:"send",hideNext:!0,hidePrev:!0}),module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},classNameText={character:"character",header:"header",yourMessageTo:"your-message-to",username:"username",isReady:"is-ready",buttons:"buttons",createAnother:"create-another",inbox:"inbox"},text={yourMessageTo:"YOUR MESSAGE TO:",hasBeenSent:"IS BEING SENT!"},SentScreen=function(_skoash$Screen){function SentScreen(){_classCallCheck(this,SentScreen),_get(Object.getPrototypeOf(SentScreen.prototype),"constructor",this).call(this),this.state={load:!0,opts:{recipient:{}}}}return _inherits(SentScreen,_skoash$Screen),_createClass(SentScreen,[{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement("div",{className:classNameText.character}),React.createElement("div",{className:classNameText.header},React.createElement("span",{className:classNameText.yourMessageTo},text.yourMessageTo),React.createElement("span",{className:classNameText.username},this.state.opts.recipient.name),React.createElement("br",null),React.createElement("span",{className:classNameText.isReady},text.hasBeenSent)),React.createElement("div",{className:classNameText.buttons},React.createElement("button",{className:classNameText.createAnother,onClick:this["goto"].bind(this,"friend")}),React.createElement("button",{className:classNameText.inbox,onClick:this["goto"].bind(this,"inbox")})))}}]),SentScreen}(skoash.Screen);exports["default"]=React.createElement(SentScreen,{id:"sent",hideNext:!0,hidePrev:!0}),module.exports=exports["default"]},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var TitleScreen=React.createElement(skoash.Screen,{id:"title",hidePrev:!0,nextDelay:1e3,nextIndex:"menu"},React.createElement(skoash.Image,{ref:"title",className:"title animated",src:"media/_Title/SKribble_title.png"}),React.createElement(skoash.Image,{ref:"play",className:"hidden",src:"media/_Buttons/skribble-play-01.png"}),React.createElement(skoash.Image,{ref:"play",className:"hidden",src:"media/_Buttons/skribble-hover.png"}));exports["default"]=TitleScreen,module.exports=exports["default"]},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var config={id:"skribble",version:1,dimensions:{width:1600,ratio:16/9}};exports["default"]=config,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_lodash=__webpack_require__(3),_lodash2=_interopRequireDefault(_lodash),_configGame=__webpack_require__(29),_configGame2=_interopRequireDefault(_configGame),_sharedComponentsLoader01=__webpack_require__(10),_sharedComponentsLoader012=_interopRequireDefault(_sharedComponentsLoader01),_sharedComponentsIos_splash_screen01=__webpack_require__(9),_sharedComponentsIos_splash_screen012=_interopRequireDefault(_sharedComponentsIos_splash_screen01),_componentsTitle_screen=__webpack_require__(28),_componentsTitle_screen2=_interopRequireDefault(_componentsTitle_screen),_componentsMenu_screen=__webpack_require__(22),_componentsMenu_screen2=_interopRequireDefault(_componentsMenu_screen),_componentsFriend_screen=__webpack_require__(19),_componentsFriend_screen2=_interopRequireDefault(_componentsFriend_screen),_componentsCanvas_screen=__webpack_require__(18),_componentsCanvas_screen2=_interopRequireDefault(_componentsCanvas_screen),_componentsItem_drawer_screen=__webpack_require__(21),_componentsItem_drawer_screen2=_interopRequireDefault(_componentsItem_drawer_screen),_componentsInbox_screen=__webpack_require__(20),_componentsInbox_screen2=_interopRequireDefault(_componentsInbox_screen),_componentsPreview_screen=__webpack_require__(23),_componentsPreview_screen2=_interopRequireDefault(_componentsPreview_screen),_componentsSend_screen=__webpack_require__(26),_componentsSend_screen2=_interopRequireDefault(_componentsSend_screen),_componentsSent_screen=__webpack_require__(27),_componentsSent_screen2=_interopRequireDefault(_componentsSent_screen),_componentsRead_screen=__webpack_require__(24),_componentsRead_screen2=_interopRequireDefault(_componentsRead_screen),_sharedComponentsQuit_screen01=__webpack_require__(12),_sharedComponentsQuit_screen012=_interopRequireDefault(_sharedComponentsQuit_screen01),_componentsSave_menu=__webpack_require__(25),_componentsSave_menu2=_interopRequireDefault(_componentsSave_menu);__webpack_require__(17),__webpack_require__(16);var Skribble=function(_skoash$Game){function Skribble(){_classCallCheck(this,Skribble),_get(Object.getPrototypeOf(Skribble.prototype),"constructor",this).call(this,_configGame2["default"]),this.screens={0:_sharedComponentsIos_splash_screen012["default"],1:_componentsTitle_screen2["default"],menu:_componentsMenu_screen2["default"],friend:_componentsFriend_screen2["default"],canvas:_componentsCanvas_screen2["default"],"item-drawer":_componentsItem_drawer_screen2["default"],inbox:_componentsInbox_screen2["default"],preview:_componentsPreview_screen2["default"],send:_componentsSend_screen2["default"],sent:_componentsSent_screen2["default"],read:_componentsRead_screen2["default"]},this.menus={quit:_sharedComponentsQuit_screen012["default"],save:_componentsSave_menu2["default"]}}return _inherits(Skribble,_skoash$Game),_createClass(Skribble,[{key:"goto",value:function goto(opts){"send"===opts.index&&(this.state.recipient&&this.state.recipient.name||(opts.index="friend",opts["goto"]="send")),skoash.Game.prototype["goto"].call(this,opts)}},{key:"ready",value:function ready(){this.state.ready||(this.getMedia(),this.getData({name:"getFriends"})),skoash.Game.prototype.ready.call(this)}},{key:"getRules",value:function getRules(){return this.refs["screen-canvas"].getData()}},{key:"save",value:function save(e,skramble){var friend_to,self=this;friend_to=self.state.recipient?self.state.recipient.user_id:"";var skribble=_extends({version:_configGame2["default"].version},self.state.skribbleData,{friend_to:friend_to,skramble:skramble,rules:self.getRules()});JSON.stringify(skribble)!==JSON.stringify(this.state.skribble)&&self.emit({name:"saveSkribble",game:self.config.id,skribble:skribble}).then(function(skribbleData){self.setState({skribbleData:skribbleData,skribble:skribble})})}},{key:"send",value:function send(){this.save(null,!0),this.refs["screen-canvas"].reset(),this["goto"]({index:"sent",recipient:this.state.recipient}),this.setState({recipient:{}})}},{key:"trigger",value:function trigger(event,opts){switch(event){case"save":return this.save();case"getMedia":return this.getMedia(opts.path);case"getRules":return this.getRules()}return skoash.Game.prototype.trigger.call(this,event,opts)}},{key:"getMedia",value:function getMedia(path){var pathArray,self=this;return path=path||"skribble/menu",pathArray=path.split("/"),pathArray.shift(),self.emit({name:"getMedia",path:path}).then(function(d){var opts,currentOpts,hasFolders;opts={data:{}},currentOpts=opts.data,pathArray.forEach(function(key,index){currentOpts[key]={items:{}},index!==pathArray.length-1&&(currentOpts=currentOpts[key].items)}),currentOpts[pathArray[pathArray.length-1]]=_lodash2["default"].clone(d),hasFolders=currentOpts[pathArray[pathArray.length-1]].items&&currentOpts[pathArray[pathArray.length-1]].items[0]&&"folder"===currentOpts[pathArray[pathArray.length-1]].items[0].asset_type,hasFolders&&(currentOpts[pathArray[pathArray.length-1]].items={},d.items&&d.items.forEach(function(item){"folder"===item.asset_type&&item.name&&self.getMedia(path+"/"+item.name)})),self.updateData(opts)})}},{key:"getData",value:function getData(opts){var _this=this,names=["getFriends"];return-1===names.indexOf(opts.name)&&(opts.name="getData"),this.emit(opts).then(function(data){opts.status?(data[opts.status]=data.skribble,delete data.skribble,_this.updateData({data:data})):_this.updateData({data:data})})}},{key:"passData",value:function passData(opts){"add-item"===opts.name?(this.refs["screen-canvas"].addItem(opts.message),this["goto"]({index:"canvas"})):"add-recipient"===opts.name?this.addRecipient(opts.message,this["goto"].bind(this,{index:opts["goto"]||"canvas"})):"send"===opts.name&&this.send()}},{key:"addRecipient",value:function addRecipient(recipient,cb){recipient.src?(recipient.profile_image=recipient.src,delete recipient.src):"string"==typeof recipient&&this.state.data&&this.state.data.user&&this.state.data.user.some(function(friend){return friend.friend_id===recipient?(recipient=friend,!0):!1}),this.setState({recipient:recipient},cb)}},{key:"clickRecipient",value:function clickRecipient(){this["goto"]({index:"friend"})}},{key:"create",value:function create(){this.state.recipient?this["goto"]({index:"canvas"}):this["goto"]({index:"friend"})}},{key:"saveButton",value:function saveButton(){this.save(),this.openMenu({id:"save"})}},{key:"renderLoader",value:function renderLoader(){return React.createElement(_sharedComponentsLoader012["default"],null)}},{key:"renderAssets",value:function renderAssets(){return React.createElement("div",null,React.createElement("div",{className:"background-1"}),React.createElement("div",{className:"background-2"}),React.createElement("div",{className:"background-3"}),React.createElement("div",{className:"background-4"}),React.createElement("div",{className:"background-5"}),React.createElement("div",{className:"background-6"}))}},{key:"renderRecipient",value:function renderRecipient(){var recipient=this.state.recipient,content=[];if(recipient)return recipient.name&&content.push(React.createElement("span",{className:"name"},recipient.name)),recipient.profile_image&&content.push(React.createElement("img",{className:"profile-image",src:recipient.profile_image})),content}},{key:"renderMenu",value:function renderMenu(){return React.createElement("div",null,React.createElement("div",{className:"game-menu"},React.createElement("button",{className:"save",onClick:this.saveButton.bind(this)}),React.createElement("button",{className:"inbox",onClick:this["goto"].bind(this,{index:"inbox"})}),React.createElement("button",{className:"create",onClick:this.create.bind(this)}),React.createElement("button",{className:"help",onClick:this.openMenu.bind(this,{id:"help"})}),React.createElement("button",{className:"close",onClick:this.openMenu.bind(this,{id:"quit"})})),React.createElement("ul",{className:"menu recipient"},React.createElement("li",{onClick:this.clickRecipient.bind(this)},React.createElement("span",null,this.renderRecipient()))))}}]),Skribble}(skoash.Game);skoash.start(Skribble,_configGame2["default"].id)},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children=[],module.webpackPolyfill=1),module}}]);
//# sourceMappingURL=ai.js.map