!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="/build/",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(30)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg))classes.push(classNames.apply(null,arg));else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}var hasOwn={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?module.exports=classNames:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),Selectable=function(_skoash$Component){function Selectable(){_classCallCheck(this,Selectable),_get(Object.getPrototypeOf(Selectable.prototype),"constructor",this).call(this),this.state={classes:{},selectFunction:this.select}}return _inherits(Selectable,_skoash$Component),_createClass(Selectable,[{key:"start",value:function start(){var _this=this,selectClass,selectFunction,classes={};selectClass=this.props.selectClass||this.state.selectClass||"SELECTED",selectFunction="HIGHLIGHTED"===selectClass?this.highlight:this.select,this.props.selectOnStart&&(classes[this.props.selectOnStart]=selectClass),this.setState({started:!0,classes:classes,selectFunction:selectFunction,selectClass:selectClass}),this.bootstrap(),Object.keys(this.refs).map(function(key){"function"==typeof _this.refs[key].start&&_this.refs[key].start()})}},{key:"bootstrap",value:function bootstrap(){_get(Object.getPrototypeOf(Selectable.prototype),"bootstrap",this).call(this);var self=this,correctAnswers=this.requireForComplete.filter(function(ref){return self.refs[ref].props.correct});correctAnswers.length>0&&(this.requireForComplete=correctAnswers),this.refs.bin&&this.setState({list:this.refs.bin.getAll()})}},{key:"selectHelper",value:function selectHelper(e,classes){var ref,dataRef,target,id,isCorrect,self=this;target=e.target.closest("LI"),target&&(dataRef=target.getAttribute("data-ref"),ref=self.refs[dataRef],isCorrect=ref&&ref.props&&ref.props.correct||!self.props.answers||!self.props.answers.length||-1!==self.props.answers.indexOf(dataRef),self.props.allowDeselect&&classes[dataRef]?delete classes[dataRef]:isCorrect&&(classes[dataRef]=self.state.selectClass),self.setState({classes:classes}),self.props.selectRespond.call(self,dataRef),self.props.onSelect.call(self,dataRef),self.props.chooseOne&&(self.requireForComplete=[dataRef]),self.props.dataTarget&&self.updateGameState({path:self.props.dataTarget,data:{target:ref}}),self.props.completeListOnClick&&self.requireForComplete.map(function(key){key===id&&self.refs[id]&&self.refs[id].complete()}),self.requireForComplete.map(function(key){key===dataRef&&self.refs[key]&&self.refs[key].complete()}))}},{key:"select",value:function select(e){var classes=[];this.selectHelper(e,classes)}},{key:"highlight",value:function highlight(e){var classes=this.state.classes;this.selectHelper(e,classes)}},{key:"getClass",value:function getClass(key,li){return(0,_classnames2["default"])(li.props.className,this.state.classes[key],this.state.classes[li.props["data-ref"]])}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])("selectable",_get(Object.getPrototypeOf(Selectable.prototype),"getClassNames",this).call(this))}},{key:"checkComplete",value:function checkComplete(){var self=this,complete;this.props.checkComplete!==!1&&(complete=self.requireForComplete.every(function(key){return self.refs[key]instanceof Node?!0:!self.refs[key].state||self.refs[key].state&&!self.refs[key].state.complete?("function"==typeof self.refs[key].checkComplete&&self.refs[key].checkComplete(),!1):!0}),complete&&!self.state.complete?self.complete():self.state.started&&!complete&&self.state.complete&&self.incomplete())}},{key:"renderBin",value:function renderBin(){return this.props.bin?React.createElement(this.props.bin.type,_extends({},this.props.bin.props,{ref:"bin"})):null}},{key:"renderList",value:function renderList(){var _this2=this,list=this.props.list||this.state.list;return list.map(function(li,key){var dataRef=li.props["data-ref"]||key,ref=li.ref||li.props.id||dataRef,message=li.props.message||""+key;return React.createElement(li.type,_extends({},li.props,{type:"li",className:_this2.getClass(key,li),message:message,"data-message":message,"data-ref":dataRef,ref:ref,key:key}))})}},{key:"render",value:function render(){return React.createElement("div",null,this.renderBin(),React.createElement("ul",{className:this.getClassNames(),onClick:this.state.selectFunction.bind(this)},this.renderList()))}}]),Selectable}(skoash.Component);Selectable.defaultProps=_.defaults({list:[React.createElement("li",null),React.createElement("li",null),React.createElement("li",null),React.createElement("li",null)],selectClass:"SELECTED",completeListOnClick:!0,selectRespond:_.identity,onSelect:_.identity},skoash.Component.defaultProps),exports["default"]=Selectable,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function reset(){shuffled=!1}function setCharacters(_alphabet_){if(!_alphabet_)return void(alphabet!==ORIGINAL&&(alphabet=ORIGINAL,reset()));if(_alphabet_!==alphabet){if(_alphabet_.length!==ORIGINAL.length)throw new Error("Custom alphabet for shortid must be "+ORIGINAL.length+" unique characters. You submitted "+_alphabet_.length+" characters: "+_alphabet_);var unique=_alphabet_.split("").filter(function(item,ind,arr){return ind!==arr.lastIndexOf(item)});if(unique.length)throw new Error("Custom alphabet for shortid must be "+ORIGINAL.length+" unique characters. These characters were not unique: "+unique.join(", "));alphabet=_alphabet_,reset()}}function characters(_alphabet_){return setCharacters(_alphabet_),alphabet}function setSeed(seed){randomFromSeed.seed(seed),previousSeed!==seed&&(reset(),previousSeed=seed)}function shuffle(){alphabet||setCharacters(ORIGINAL);for(var sourceArray=alphabet.split(""),targetArray=[],r=randomFromSeed.nextValue(),characterIndex;sourceArray.length>0;)r=randomFromSeed.nextValue(),characterIndex=Math.floor(r*sourceArray.length),targetArray.push(sourceArray.splice(characterIndex,1)[0]);return targetArray.join("")}function getShuffled(){return shuffled?shuffled:shuffled=shuffle()}function lookup(index){var alphabetShuffled=getShuffled();return alphabetShuffled[index]}var randomFromSeed=__webpack_require__(37),ORIGINAL="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",alphabet,previousSeed,shuffled;module.exports={characters:characters,seed:setSeed,lookup:lookup,shuffled:getShuffled}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),_editable_asset01Js=__webpack_require__(7),_editable_asset01Js2=_interopRequireDefault(_editable_asset01Js),Canvas=function(_skoash$Component){function Canvas(){_classCallCheck(this,Canvas),_get(Object.getPrototypeOf(Canvas.prototype),"constructor",this).call(this),this.state={background:null,items:[],messages:[],offsetX:0,offsetY:0,active:!1,valid:!0},this.deleteItem=this.deleteItem.bind(this),this.checkItem=this.checkItem.bind(this),this.deactivateItems=this.deactivateItems.bind(this),this.relayerItems=this.relayerItems.bind(this),this.setValid=this.setValid.bind(this)}return _inherits(Canvas,_skoash$Component),_createClass(Canvas,[{key:"start",value:function start(){var dom=ReactDOM.findDOMNode(this);_get(Object.getPrototypeOf(Canvas.prototype),"start",this).call(this),this.setState({width:dom.offsetWidth,height:dom.offsetHeight})}},{key:"getItems",value:function getItems(){var items,messages,self=this;return items=this.state.items.map(function(item,key){var state;return self.refs["item-"+key]?(state=self.refs["item-"+key].state,item.state={left:_.floor(state.left,14),top:_.floor(state.top,14),scale:_.floor(state.scale,14),rotation:_.floor(state.rotation,14),layer:state.layer,valid:state.valid,corners:state.corners},item.check=state.check,item.mime_type=state.mime_type,item):item}),messages=this.state.messages.map(function(item,key){var state;return self.refs["message-"+key]?(state=self.refs["message-"+key].state,item.state={left:_.floor(state.left,14),top:_.floor(state.top,14),scale:_.floor(state.scale,14),rotation:_.floor(state.rotation,14),layer:state.layer,valid:state.valid,corners:state.corners},item.check=state.check,item.mime_type=state.mime_type,item):item}),_.remove(items,function(n){return!n}),_.remove(messages,function(n){return!n}),{background:this.state.background,items:items,messages:messages}}},{key:"reset",value:function reset(){this.setState({background:null,items:[],messages:[]})}},{key:"setItems",value:function setItems(message){var _this=this;message&&this.setState({background:null,items:[],messages:[]},function(){_this.addItem(message.background),message.items.forEach(function(asset){_this.addItem(asset)}),message.messages.forEach(function(asset){_this.addItem(asset)})})}},{key:"addItem",value:function addItem(asset,cb){var _this2=this,items,messages,index,count;if(asset)if("background"===asset.asset_type)this.setState({background:asset},function(){skoash.trigger("emit",{name:"getMedia",media_id:asset.media_id}).then(function(d){var background=_this2.state.background;background.check=d.check,background.mime_type=d.mime_type,_this2.setState({background:background},cb)})});else if("item"===asset.asset_type){if(items=this.state.items,count=_.reduce(items,function(c,v){return asset.src===v.src&&c++,c},1),count>this.props.maxInstances)return;items.push(asset),index=items.indexOf(asset),this.setState({items:items},function(){skoash.trigger("emit",{name:"getMedia",media_id:asset.media_id}).then(function(d){asset.check=d.check,asset.mime_type=d.mime_type,items[index]=asset,_this2.setState({items:items},cb)})})}else if("message"===asset.asset_type){if(messages=this.state.messages,count=_.reduce(items,function(c,v){return asset.src===v.src&&c++,c},1),count>this.props.maxInstances)return;messages.push(asset),index=messages.indexOf(asset),this.setState({messages:messages},function(){skoash.trigger("emit",{name:"getMedia",media_id:asset.media_id}).then(function(d){asset.check=d.check,asset.mime_type=d.mime_type,messages[index]=asset,_this2.setState({messages:messages},cb)})})}}},{key:"deleteItem",value:function deleteItem(key,type){var items;items=this.state[type+"s"],delete items[key],this.setState(_defineProperty({},type+"s",items))}},{key:"deactivateItems",value:function deactivateItems(exclude,type){var _this3=this;if("object"==typeof exclude&&exclude.target){if("LI"!==exclude.target.tagName)return;this.setState({active:!1})}"number"==typeof exclude&&this.setState({active:!0}),this.state.items.map(function(item,key){key===exclude&&"item"===type||!_this3.refs["item-"+key]||_this3.refs["item-"+key].deactivate()}),this.state.messages.map(function(item,key){key===exclude&&"message"===type||!_this3.refs["message-"+key]||_this3.refs["message-"+key].deactivate()})}},{key:"relayerItems",value:function relayerItems(type){var _this4=this,layers=[];this.state[type+"s"].map(function(item,key){var layer;layer=_this4.refs[type+"-"+key].state.layer,-1===layers.indexOf(layer)&&layers.push(layer)}),layers.sort(function(a,b){return b>a}),this.state[type+"s"].map(function(item,key){var oldLayer,newLayer;oldLayer=_this4.refs[type+"-"+key].state.layer,newLayer="message"===type?1e4:1e3,newLayer-=layers.indexOf(oldLayer),_this4.refs[type+"-"+key].relayer(newLayer)})}},{key:"checkItem",value:function checkItem(key,type){var self=this;return!self.refs[type+"-"+key].state.corners.length||self.isInBounds(key,type)&&(self.refs[type+"-"+key].state.can_overlap||!self.state[type+"s"].some(function(item,index){return key!==index&&!self.refs[type+"-"+index].state.can_overlap&&self.refs[type+"-"+index].state.corners.length&&skoash.util.doIntersect(self.refs[type+"-"+key].state.corners,self.refs[type+"-"+index].state.corners)}))}},{key:"isInBounds",value:function isInBounds(key,type){return!this.state.width||!this.state.height||!(skoash.util.doIntersect(this.refs[type+"-"+key].state.corners,[{x:0,y:-this.state.height},{x:0,y:2*this.state.height},{x:-this.state.width,y:2*this.state.height},{x:-this.state.width,y:-this.state.height}])||skoash.util.doIntersect(this.refs[type+"-"+key].state.corners,[{x:-this.state.width,y:0},{x:2*this.state.width,y:0},{x:2*this.state.width,y:-this.state.height},{x:this.state.width,y:-this.state.height}])||skoash.util.doIntersect(this.refs[type+"-"+key].state.corners,[{x:this.state.width,y:-this.state.height},{x:this.state.width,y:2*this.state.height},{x:2*this.state.width,y:2*this.state.height},{x:2*this.state.width,y:-this.state.height}])||skoash.util.doIntersect(this.refs[type+"-"+key].state.corners,[{x:-this.state.width,y:this.state.height},{x:2*this.state.width,y:this.state.height},{x:2*this.state.width,y:2*this.state.height},{x:-this.state.width,y:2*this.state.height}]))}},{key:"setValid",value:function setValid(valid){this.setState({valid:valid}),"function"==typeof this.props.setValid&&this.props.setValid(valid)}},{key:"getStyle",value:function getStyle(){return this.state.background?{backgroundImage:"url("+this.state.background.src+")"}:void 0}},{key:"renderItems",value:function renderItems(){var _this5=this,self=this;return this.state.items.map(function(item,key){return React.createElement(_editable_asset01Js2["default"],_extends({},item,{"data-ref":key,minDim:_this5.props.itemMinDim,deleteItem:self.deleteItem,checkItem:self.checkItem,deactivateItems:self.deactivateItems,relayerItems:self.relayerItems,setValid:self.setValid,ref:"item-"+key,key:key}))})}},{key:"renderMessages",value:function renderMessages(){var _this6=this,self=this;return this.state.messages.map(function(item,key){return React.createElement(_editable_asset01Js2["default"],_extends({},item,{"data-ref":key,minDim:_this6.props.messageMinDim,deleteItem:self.deleteItem,checkItem:self.checkItem,deactivateItems:self.deactivateItems,relayerItems:self.relayerItems,setValid:self.setValid,canvasWidth:_this6.state.width,canvasHeight:_this6.state.height,ref:"message-"+key,key:key}))})}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({canvas:!0,ACTIVE:!this.props.preview&&this.state.active})}},{key:"render",value:function render(){return React.createElement("ul",{className:this.getClassNames(),style:this.getStyle(),onClick:this.deactivateItems},this.renderItems(),this.renderMessages())}}]),Canvas}(skoash.Component);Canvas.defaultProps=_.defaults({maxInstances:5},skoash.Component.defaultProps),exports["default"]=Canvas,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_shortid=__webpack_require__(31),_shortid2=_interopRequireDefault(_shortid),_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),_sharedComponentsSelectable01=__webpack_require__(2),_sharedComponentsSelectable012=_interopRequireDefault(_sharedComponentsSelectable01),_sharedComponentsScroll_area01=__webpack_require__(16),_sharedComponentsScroll_area012=_interopRequireDefault(_sharedComponentsScroll_area01),ItemDrawer=function(_Selectable){function ItemDrawer(){_classCallCheck(this,ItemDrawer),_get(Object.getPrototypeOf(ItemDrawer.prototype),"constructor",this).apply(this,arguments)}return _inherits(ItemDrawer,_Selectable),_createClass(ItemDrawer,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){var items,quickCheck,itemsChanged;return JSON.stringify(this.state.classes)!==JSON.stringify(nextState.classes)?!0:(items=nextProps.data||[],nextState.category&&items[nextState.category]&&(items=items[nextState.category].items),quickCheck=_.reduce(items,function(a,i){return a+=i.name},""),itemsChanged=this.quickCheck!==quickCheck,itemsChanged&&(this.quickCheck=quickCheck),itemsChanged)}},{key:"start",value:function start(){var items,selectedItem,selectClass,selectFunction,classes={},self=this;selectClass=this.props.selectClass||this.state.selectClass||"SELECTED",selectFunction="HIGHLIGHTED"===selectClass?this.highlight:this.select,items=self.props.data||[],self.state.category&&items[self.state.category]&&(items=items[self.state.category].items),selectedItem=JSON.stringify(self.props.selectedItem),_.each(items,function(item,key){self.props.selectedItem&&JSON.stringify(item)===selectedItem&&(classes[key]=selectClass)}),this.props.selectOnStart&&(classes[this.props.selectOnStart]=selectClass),this.setState({started:!0,classes:classes,selectClass:selectClass,selectFunction:selectFunction,categoryName:"",category:""}),_.each(self.refs,function(ref){"function"==typeof ref.start&&ref.start()})}},{key:"selectHelper",value:function selectHelper(e){var li,message,key,type,categoryName,classes=[];li=e.target.closest("LI"),li&&(key=li.getAttribute("data-ref"),this.refs[key]&&(type=this.refs[key].props.item.asset_type,type&&("folder"===type?(categoryName=this.refs[key].props.item.name,this.setState({category:key,categoryName:categoryName})):(message=this.refs[key].props.item,classes[key]=this.state.selectClass,this.setState({message:message,classes:classes})))))}},{key:"selectButton",value:function selectButton(){"function"==typeof this.props.selectRespond&&this.state.message&&this.props.selectRespond(this.state.message)}},{key:"continueButton",value:function continueButton(){"function"==typeof this.props.selectRespond&&this.props.selectRespond({})}},{key:"cancelButton",value:function cancelButton(){"function"==typeof this.props.cancelRespond&&this.props.cancelRespond.call(this)}},{key:"getCategory",value:function getCategory(){return this.state.categoryName?this.state.categoryName:this.props.categories&&this.props.categories.length?this.props.categories[this.props.categories.length-1]:""}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({ANSWERED:-1!==_.values(this.state.classes).indexOf(this.state.selectClass)},this.props.className,"item-drawer-component")}},{key:"getULClass",value:function getULClass(){var _classNames,categories="";return this.props.categories&&(categories=this.props.categories.join(" ")),(0,_classnames2["default"])((_classNames={"item-drawer":!0},_defineProperty(_classNames,categories,!0),_defineProperty(_classNames,"COMPLETE",this.state.complete),_classNames))}},{key:"getClass",value:function getClass(key,item){var _classNames2,white=item&&item.name&&-1!==item.name.toLowerCase().indexOf("w.");return(0,_classnames2["default"])((_classNames2={},_defineProperty(_classNames2,this.state.classes[key]||"",!0),_defineProperty(_classNames2,"white",white),_classNames2))}},{key:"renderButtons",value:function renderButtons(){return React.createElement("div",{className:"buttons"},React.createElement("button",{className:"select",onClick:this.selectButton.bind(this)}),React.createElement("button",{className:"continue",onClick:this.continueButton.bind(this)}),React.createElement("button",{className:"cancel",onClick:this.cancelButton.bind(this)}))}},{key:"renderItemContent",value:function renderItemContent(item){var content=[],src;return item.src||item.thumb?src=item.thumb||item.src:item.items&&(_.isArray(item.items)||(item.items=_.values(item.items)),item.items[0]&&(src=item.items[0].thumb||item.items[0].src),src||item.items.some(function(subitem){return"_thumb.png"===subitem.name?(src=subitem.thumb||subitem.src,!0):void 0})),src&&content.push(React.createElement(skoash.Image,{src:src,key:0})),!item.name||"folder"!==item.asset_type&&"friend"!==item.asset_type||content.push(React.createElement("span",{className:"name",key:1},item.name)),item.description&&content.push(React.createElement("span",{className:"description",key:2},item.description)),content}},{key:"renderList",value:function renderList(){var _this=this,items,self=this;return this.props.data?(items=this.props.data,this.state.category&&items[this.state.category]&&(items=items[this.state.category].items),_.isArray(items)||(items=_.values(items)),items.sort(function(a,b){var aVal=_.isNaN(window.parseInt(a.order))?1/0:window.parseInt(a.order),bVal=_.isNaN(window.parseInt(b.order))?1/0:window.parseInt(b.order);return aVal===bVal?a.name<b.name?-1:a.name>b.name?1:0:bVal>aVal?-1:1}).filter(function(item){return"_thumb.png"!==item.name}).map(function(item,key){return React.createElement(skoash.ListItem,{className:_this.getClass(key,item),ref:key,"data-ref":key,item:item,key:_shortid2["default"].generate()},self.renderItemContent(item))})):void 0}},{key:"render",value:function render(){return React.createElement("div",{className:this.getClassNames()},React.createElement("div",{className:"item-drawer-container"},React.createElement("h2",null,this.getCategory()),React.createElement(_sharedComponentsScroll_area012["default"],{ref:"scroll-area",img:this.props.scrollbarImg},React.createElement("ul",{ref:"list",className:this.getULClass(),onClick:this.state.selectFunction.bind(this)},this.renderList()))),this.renderButtons())}}]),ItemDrawer}(_sharedComponentsSelectable012["default"]);ItemDrawer.defaultProps=_.defaults({scrollbarImg:""},_sharedComponentsSelectable012["default"].defaultProps),exports["default"]=ItemDrawer,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),Draggable=function(_skoash$Component){function Draggable(){_classCallCheck(this,Draggable),_get(Object.getPrototypeOf(Draggable.prototype),"constructor",this).call(this),this.state={startX:0,startY:0,endX:0,endY:0,zoom:1},this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.moveEvent=this.moveEvent.bind(this),this.touchStart=this.touchStart.bind(this),this.touchEnd=this.touchEnd.bind(this)}return _inherits(Draggable,_skoash$Component),_createClass(Draggable,[{key:"shouldDrag",value:function shouldDrag(){return!0}},{key:"markCorrect",value:function markCorrect(){this.setState({correct:!0})}},{key:"markIncorrect",value:function markIncorrect(){this.setState({correct:!1})}},{key:"startEvent",value:function startEvent(e,cb){var pageX,pageY,rect,startX,startY,endX,endY,grabX,grabY;e.target===this.refs.el&&this.shouldDrag()&&(e.targetTouches&&e.targetTouches[0]&&(pageX=e.targetTouches[0].pageX,pageY=e.targetTouches[0].pageY,rect=e.target.getBoundingClientRect(),e=e.targetTouches[0],e.offsetX=pageX-rect.left,e.offsetY=pageY-rect.top),grabX=e.offsetX,grabY=e.offsetY,startX=endX=e.pageX-grabX,startY=endY=e.pageY-grabY,this.props["return"]||(startX=_.isFinite(this.state.grabX)?this.state.startX+this.state.grabX-grabX:startX,startY=_.isFinite(this.state.grabY)?this.state.startY+this.state.grabY-grabY:startY),this.setState({dragging:!0,"return":!1,startX:startX,startY:startY,grabX:grabX,grabY:grabY,endX:endX,endY:endY}),"function"==typeof this.props.dragRespond&&this.props.dragRespond(this.props.message),"function"==typeof cb&&cb.call(this))}},{key:"attachMouseEvents",value:function attachMouseEvents(){window.addEventListener("mousemove",this.moveEvent),window.addEventListener("mouseup",this.mouseUp)}},{key:"attachTouchEvents",value:function attachTouchEvents(){window.addEventListener("touchmove",this.moveEvent),window.addEventListener("touchend",this.touchEnd)}},{key:"mouseDown",value:function mouseDown(e){this.startEvent(e,this.attachMouseEvents)}},{key:"touchStart",value:function touchStart(e){this.startEvent(e,this.attachTouchEvents)}},{key:"moveEvent",value:function moveEvent(e){e.targetTouches&&e.targetTouches[0]&&(e.pageX=e.targetTouches[0].pageX,e.pageY=e.targetTouches[0].pageY),this.setState({endX:e.pageX-this.state.grabX,endY:e.pageY-this.state.grabY})}},{key:"endEvent",value:function endEvent(cb){this.dropRespond(),this.props["return"]?this.setState({dragging:!1,"return":this.props["return"],endX:this.state.startX,endY:this.state.startY}):this.setState({dragging:!1,"return":this.props["return"]}),"function"==typeof cb&&cb.call(this)}},{key:"detachMouseEvents",value:function detachMouseEvents(){window.removeEventListener("mousemove",this.moveEvent),window.removeEventListener("mouseup",this.mouseUp)}},{key:"detachTouchEvents",value:function detachTouchEvents(){window.removeEventListener("touchmove",this.moveEvent),window.removeEventListener("touchend",this.touchEnd);
}},{key:"mouseUp",value:function mouseUp(){this.endEvent(this.detachMouseEvents)}},{key:"touchEnd",value:function touchEnd(){this.endEvent(this.detachTouchEvents)}},{key:"dropRespond",value:function dropRespond(){var corners;corners=this.setCorners(),"function"==typeof this.props.dropRespond&&this.props.dropRespond(this.props.message,corners)}},{key:"setCorners",value:function setCorners(){var top,left,width,height,el,corners=[];for(left=0,top=0,el=this.refs.el,width=el.offsetWidth,height=el.offsetHeight;el&&-1===el.className.indexOf("screen");)left+=el.offsetLeft||0,top+=el.offsetTop||0,el=el.offsetParent;left+=(this.state.endX-this.state.startX)/this.state.zoom,top+=(this.state.endY-this.state.startY)/this.state.zoom;for(var i=0;4>i;i++)corners.push({x:left+width*(1===i||2===i?1:0),y:top+height*(i>1?1:0)});return this.setState({corners:corners}),corners}},{key:"componentDidMount",value:function componentDidMount(){this.bootstrap()}},{key:"bootstrap",value:function bootstrap(){_get(Object.getPrototypeOf(Draggable.prototype),"bootstrap",this).call(this),this.setZoom(),this.refs.el.addEventListener("mousedown",this.mouseDown),this.refs.el.addEventListener("touchstart",this.touchStart),window.addEventListener("resize",this.setZoom.bind(this))}},{key:"setZoom",value:function setZoom(){var _this=this;skoash.trigger("getState").then(function(state){_this.setState({zoom:state.scale})})}},{key:"getStyle",value:function getStyle(){var x,y;return x=(this.state.endX-this.state.startX)/this.state.zoom,y=(this.state.endY-this.state.startY)/this.state.zoom,{transform:"translateX("+x+"px) translateY("+y+"px)",WebkitTransform:"translateX("+x+"px) translateY("+y+"px)"}}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({draggable:!0,DRAGGING:this.state.dragging,RETURN:this.state["return"],CORRECT:this.state.correct},_get(Object.getPrototypeOf(Draggable.prototype),"getClassNames",this).call(this))}},{key:"render",value:function render(){return React.createElement("div",{ref:"el",className:this.getClassNames(),style:this.getStyle()},this.props.children)}}]),Draggable}(skoash.Component);exports["default"]=Draggable,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x2,_x3,_x4){for(var _again=!0;_again;){var object=_x2,property=_x3,receiver=_x4;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x2=parent,_x3=property,_x4=receiver,_again=!0,desc=parent=void 0}},_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),_draggable01Js=__webpack_require__(6),_draggable01Js2=_interopRequireDefault(_draggable01Js),EditableAsset=function(_Draggable){function EditableAsset(){_classCallCheck(this,EditableAsset),_get(Object.getPrototypeOf(EditableAsset.prototype),"constructor",this).call(this),this.state={width:0,height:0,left:0,top:0,scale:.5,minScale:.1,maxScale:1,rotation:0,layer:1e3,zoom:1,active:!1,valid:!0,corners:[],lastValid:{}},this.scale=this.scale.bind(this),this.adjustScale=this.adjustScale.bind(this),this.offScale=this.offScale.bind(this),this.rotate=this.rotate.bind(this),this.adjustRotation=this.adjustRotation.bind(this),this.offRotate=this.offRotate.bind(this)}return _inherits(EditableAsset,_Draggable),_createClass(EditableAsset,[{key:"shouldDrag",value:function shouldDrag(){return this.state.active}},{key:"activate",value:function activate(){this.setState({active:!0}),"function"==typeof this.props.deactivateItems&&this.props.deactivateItems(this.props["data-ref"],this.props.asset_type)}},{key:"deactivate",value:function deactivate(){var _this=this;this.state.valid?this.setState({active:!1}):this.setState({left:this.state.lastValid.left||this.state.left,top:this.state.lastValid.top||this.state.top,scale:this.state.lastValid.scale||this.state.scale,rotation:this.state.lastValid.rotation||this.state.rotation,active:!1},function(){setTimeout(function(){_this.checkItem()},0)})}},{key:"moveEvent",value:function moveEvent(e){e.targetTouches&&e.targetTouches[0]&&(e.pageX=e.targetTouches[0].pageX,e.pageY=e.targetTouches[0].pageY),this.setState({endX:e.pageX-this.state.grabX,endY:e.pageY-this.state.grabY,left:(e.pageX-this.state.grabX-this.state.startX)/this.state.zoom,top:(e.pageY-this.state.grabY-this.state.startY)/this.state.zoom}),this.checkItem()}},{key:"delete",value:function _delete(){"function"==typeof this.props.deleteItem&&this.props.deleteItem(this.props["data-ref"],this.props.asset_type)}},{key:"rotate",value:function rotate(){this.refs.el.parentNode.addEventListener("mousemove",this.adjustRotation),this.refs.el.parentNode.addEventListener("mouseup",this.offRotate),this.refs.el.parentNode.addEventListener("touchmove",this.adjustRotation),this.refs.el.parentNode.addEventListener("touchend",this.offRotate)}},{key:"offRotate",value:function offRotate(){this.refs.el.parentNode.removeEventListener("mousemove",this.adjustRotation),this.refs.el.parentNode.removeEventListener("mouseup",this.offRotate),this.refs.el.parentNode.removeEventListener("touchmove",this.adjustRotation),this.refs.el.parentNode.removeEventListener("touchend",this.offRotate)}},{key:"adjustRotation",value:function adjustRotation(e){var rotation,deltaX,deltaY;e.targetTouches&&e.targetTouches[0]&&(e.pageX=e.targetTouches[0].pageX,e.pageY=e.targetTouches[0].pageY),deltaX=e.pageX/this.state.zoom-this.refs.li.offsetParent.offsetLeft-(this.state.left+this.state.width/2),deltaY=e.pageY/this.state.zoom-this.refs.li.offsetParent.offsetTop-(this.state.top+this.state.height/2),rotation=Math.atan2(deltaY,deltaX)+Math.PI/4%(2*Math.PI),this.setState({rotation:rotation}),this.checkItem()}},{key:"layer",value:function layer(){var layer,self=this;layer=this.state.layer-1,this.setState({layer:layer},function(){"function"==typeof self.props.relayerItems&&self.props.relayerItems(self.props.asset_type)})}},{key:"relayer",value:function relayer(layer){this.setState({layer:layer})}},{key:"scale",value:function scale(){this.refs.el.parentNode.addEventListener("mousemove",this.adjustScale),this.refs.el.parentNode.addEventListener("mouseup",this.offScale),this.refs.el.parentNode.addEventListener("touchmove",this.adjustScale),this.refs.el.parentNode.addEventListener("touchend",this.offScale)}},{key:"offScale",value:function offScale(){this.refs.el.parentNode.removeEventListener("mousemove",this.adjustScale),this.refs.el.parentNode.removeEventListener("mouseup",this.offScale),this.refs.el.parentNode.removeEventListener("touchmove",this.adjustScale),this.refs.el.parentNode.removeEventListener("touchend",this.offScale)}},{key:"adjustScale",value:function adjustScale(e){var scale,deltaX,deltaY,delta,base;e.targetTouches&&e.targetTouches[0]&&(e.pageX=e.targetTouches[0].pageX,e.pageY=e.targetTouches[0].pageY),deltaX=e.pageX/this.state.zoom-this.refs.li.offsetParent.offsetLeft/this.state.zoom-(this.state.left/this.state.zoom+this.state.width/2),deltaY=e.pageY/this.state.zoom-this.refs.li.offsetParent.offsetTop/this.state.zoom-(this.state.top/this.state.zoom+this.state.height/2),delta=Math.pow(Math.pow(deltaX,2)+Math.pow(deltaY,2),.5),base=Math.pow(Math.pow(this.state.width/2,2)+Math.pow(this.state.height/2,2),.5),scale=Math.max(Math.min(delta/base,1),this.state.minScale),this.setState({scale:scale}),this.checkItem()}},{key:"checkItem",value:function checkItem(){var _this2=this;this.setCorners(function(){var valid;"function"==typeof _this2.props.checkItem&&(valid=_this2.props.checkItem(_this2.props["data-ref"],_this2.props.asset_type),valid?_this2.setState({valid:valid,lastValid:new Object(_this2.state)}):_this2.setState({valid:valid}),"function"==typeof _this2.props.setValid&&_this2.props.setValid(valid))})}},{key:"setCorners",value:function setCorners(cb){var center,distance,angle,corners=[];center={x:this.state.left+this.state.width/2,y:this.state.top+this.state.height/2},distance=Math.pow(Math.pow(this.state.width*this.state.scale/2,2)+Math.pow(this.state.height*this.state.scale/2,2),.5);for(var i=0;4>i;i++)angle=this.state.rotation,angle+=2>i?0:Math.PI,angle+=Math.pow(-1,i)*Math.atan2(this.state.height,this.state.width),corners.push({x:center.x+distance*Math.cos(angle),y:center.y+distance*Math.sin(angle)});this.setState({corners:corners},cb)}},{key:"getSize",value:function getSize(){var _this3=this,image,self=this;image=new Image,image.onload=function(){var left,top,width,height,minDim,maxDim,minScale,maxScale,scale;minDim=_this3.props.minDim||40,maxDim=_this3.props.maxDim||400,left=_this3.state.left,top=_this3.state.top,width=image.width,height=image.height,minScale=Math.max(minDim/width,minDim/height),maxScale=Math.min(maxDim/width,maxDim/height,_this3.state.maxScale),scale=self.props.state&&self.props.state.scale?self.props.state.scale:Math.max(Math.min(self.state.scale,maxScale),minScale),_this3.state.height&&_this3.state.width||_this3.state.left||_this3.state.top||(left=(_this3.props.canvasWidth-width)/2,top=(_this3.props.canvasHeight-height)/2),self.setState({left:left,top:top,width:width,height:height,minScale:minScale,scale:scale},function(){self.activate(),self.checkItem()})},image.src=this.props.src}},{key:"getLayer",value:function getLayer(){var layer=1e3;if(this.props.state&&this.props.state.layer)layer=this.props.state.layer;else switch(this.props.asset_type){case"background":layer=1;break;case"message":layer=1e4}this.setState({layer:layer})}},{key:"attachEvents",value:function attachEvents(){this.refs.scale.addEventListener("mousedown",this.scale),this.refs.rotate.addEventListener("mousedown",this.rotate),this.refs.scale.addEventListener("touchstart",this.scale),this.refs.rotate.addEventListener("touchstart",this.rotate)}},{key:"componentDidMount",value:function componentDidMount(){this.bootstrap()}},{key:"bootstrap",value:function bootstrap(){var _this4=this;_get(Object.getPrototypeOf(EditableAsset.prototype),"bootstrap",this).call(this),this.props.state&&this.setState(this.props.state),this.getSize(),this.getLayer(),this.attachEvents(),skoash.trigger("emit",{name:"getMedia",media_id:this.props.media_id}).then(function(d){_this4.setState(d,function(){_this4.checkItem()})})}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.attachEvents()}},{key:"getButtonStyle",value:function getButtonStyle(){var extraRotation=arguments.length<=0||void 0===arguments[0]?0:arguments[0],style,transform="";return transform+="scale("+1/this.state.scale+") ",transform+="rotate("+(-this.state.rotation-extraRotation)+"rad) ",style={transform:transform}}},{key:"getAssetStyle",value:function getAssetStyle(){var style,transform="";return transform+="scale("+this.state.scale+") ",transform+="rotate("+this.state.rotation+"rad) ",style={backgroundImage:'url("'+this.props.src+'")',width:this.state.width,height:this.state.height,left:this.state.left,top:this.state.top,transform:transform,zIndex:this.state.layer}}},{key:"getButtonsStyle",value:function getButtonsStyle(){var style,transform="";return transform+="scale("+this.state.scale+") ",transform+="rotate("+this.state.rotation+"rad) ",style={width:this.state.width,height:this.state.height,left:this.state.left,top:this.state.top,transform:transform}}},{key:"getClasses",value:function getClasses(){return(0,_classnames2["default"])({DRAGGING:this.state.dragging,RETURN:this.state["return"],ACTIVE:this.state.active,INVALID:!this.state.valid},"editable-asset",this.props.asset_type)}},{key:"renderAsset",value:function renderAsset(){return React.createElement("div",{ref:"el",className:"asset",style:this.getAssetStyle()})}},{key:"renderButtons",value:function renderButtons(){return React.createElement("div",{className:"buttons",style:this.getButtonsStyle()},React.createElement("button",{className:"delete",style:this.getButtonStyle(),onClick:this["delete"].bind(this)}),React.createElement("button",{ref:"rotate",className:"rotate",style:this.getButtonStyle()}),React.createElement("button",{className:"layer",onClick:this.layer.bind(this),style:this.getButtonStyle()}),React.createElement("button",{ref:"scale",className:"scale",style:this.getButtonStyle(1.5708)}))}},{key:"render",value:function render(){return React.createElement("li",{ref:"li",className:this.getClasses(),onClick:this.activate.bind(this)},this.renderAsset(),this.renderButtons())}}]),EditableAsset}(_draggable01Js2["default"]);EditableAsset.defaultProps=_.defaults({canvasWidth:1280,canvasHeight:720},_draggable01Js2["default"].defaultProps),exports["default"]=EditableAsset,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),_selectable01=__webpack_require__(2),_selectable012=_interopRequireDefault(_selectable01),Inbox=function(_Selectable){function Inbox(){_classCallCheck(this,Inbox),_get(Object.getPrototypeOf(Inbox.prototype),"constructor",this).call(this)}return _inherits(Inbox,_Selectable),_createClass(Inbox,[{key:"selectHelper",value:function selectHelper(e){var li,message,key,classes=[];li=e.target.closest("LI"),li&&(key=li.getAttribute("data-ref"),this.refs[key]&&(message=this.refs[key].props.item,classes[key]=this.state.selectClass,this.setState({message:message,classes:classes}),"COMPLETE"===message.status&&"function"==typeof this.props.selectRespond&&message&&this.props.selectRespond(message)))}},{key:"getClass",value:function getClass(key,read){return(0,_classnames2["default"])(this.state.classes[key],{UNREAD:"created_by"===this.props.friendKey&&!read,SENT:"created_by"!==this.props.friendKey})}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({"item-drawer":!0,COMPLETE:this.state.complete},this.props.className)}},{key:"getStatusText",value:function getStatusText(item){return item.status&&"COMPLETE"!==item.status?item.status:""}},{key:"renderList",value:function renderList(){var _this=this,items,friends;return this.props.data&&this.props.data.items?(items=this.props.data.items,items.length?(friends=_.get(this.props.gameState,"data.user",[]),items.map(function(item,key){var timestamp,image,name;return timestamp=moment.utc(item.updated).local(),key="message-"+key,friends.forEach(function(friend){item[_this.props.friendKey]===friend.friend_id&&(image=friend._embedded.image?friend._embedded.image.url:"",name=friend.username)}),name||skoash.trigger("getData",{name:"getFriend",friend_id:item[_this.props.friendKey]}),"friend_to"===_this.props.friendKey&&(item.sent=!0),React.createElement(skoash.ListItem,{className:_this.getClass(key,item.read),ref:key,"data-ref":key,item:item,key:key},React.createElement(skoash.Image,{src:image}),React.createElement("span",{className:"username"+(name.length>15?" long":"")},name),React.createElement("span",{className:"timestamp"},React.createElement("span",{className:"date"},timestamp.format("MM.DD.YY")),React.createElement("span",{className:"time"},timestamp.format("h:mm a"))),React.createElement("span",{className:"status "+item.status},_this.getStatusText(item)))})):React.createElement("li",{className:"empty"},this.props.emptyMessage)):void 0}},{key:"render",value:function render(){return React.createElement("div",null,React.createElement("ul",{className:this.getClassNames(),onClick:this.state.selectFunction.bind(this)},this.renderList()))}}]),Inbox}(_selectable012["default"]);Inbox.defaultProps=_.defaults({friendKey:"created_by",gameState:{}},_selectable012["default"].defaultProps),exports["default"]=Inbox,module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"ios-splash",checkComplete:!1,completeDelay:6e3,nextDelay:3e3,completeOnStart:!0,hidePrev:!0}),React.createElement(skoash.Image,{className:"hidden",src:"../shared/images/ios_start_ball.png"}),React.createElement(skoash.Image,{className:"hidden",src:"../shared/images/ios_start_ball_anim.gif"}))},module.exports=exports["default"]},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},Loader=function(_skoash$Component){function Loader(){_classCallCheck(this,Loader),_get(Object.getPrototypeOf(Loader.prototype),"constructor",this).call(this)}return _inherits(Loader,_skoash$Component),_createClass(Loader,[{key:"render",value:function render(){return React.createElement("div",{id:"loader",className:"center"},React.createElement("div",{className:"group"},React.createElement("h2",null,"Loading!"),React.createElement("div",{className:"spinner animated"},React.createElement("div",{className:"spinner animated"},React.createElement("div",{className:"spinner animated"})))))}}]),Loader}(skoash.Component);exports["default"]=Loader,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_selectable01Js=__webpack_require__(2),_selectable01Js2=_interopRequireDefault(_selectable01Js),_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),Menu=function(_Selectable){function Menu(){_classCallCheck(this,Menu),_get(Object.getPrototypeOf(Menu.prototype),"constructor",this).call(this),this.state={active:!1,selectClass:"SELECTED",classes:{}}}return _inherits(Menu,_Selectable),_createClass(Menu,[{key:"deactivate",value:function deactivate(){var self=this;this.setState({active:!1}),Object.keys(this.refs).map(function(key){"function"==typeof self.refs[key].deactivate&&self.refs[key].deactivate()})}},{key:"onClick",value:function onClick(e){var li,ul,dom,message,active=!1,classes=[];li=e.target.closest("LI"),li&&(ul=li.closest("UL"),dom=ReactDOM.findDOMNode(this),ul===dom&&(message=li.getAttribute("data-ref"),this.state.classes[message]!==this.state.selectClass&&(classes[message]=this.state.selectClass,active=!this.props.inactive),this.setState({classes:classes,active:active})))}},{key:"renderItems",value:function renderItems(){var _this=this,self=this;return"object"==typeof this.props.items?Object.keys(this.props.items).map(function(key){var item,onClick,gotoObj,categories,isFinal;return categories=_this.props.categories?[].concat(_this.props.categories):[],categories.push(key),item=_this.props.items[key],isFinal="object"!=typeof item.items||"[object Array]"===Object.prototype.toString.call(item.items)||"number"==typeof self.props.lastLevel&&self.props.lastLevel===self.props.level,isFinal&&(gotoObj={index:"item-drawer",categories:categories},onClick=skoash.trigger.bind(null,"goto",gotoObj)),React.createElement(skoash.ListItem,{className:self.getClass(key),"data-ref":key,ref:key,key:key,onClick:onClick},React.createElement("span",null,key),function(){return isFinal?void 0:React.createElement(Menu,{ref:"menu-"+key,categories:categories,items:item.items,inactive:!0,level:(self.props.level||0)+1,lastLevel:self.props.lastLevel})}())}):void 0}},{key:"getClass",value:function getClass(key){var _classNames;return(0,_classnames2["default"])((_classNames={},_defineProperty(_classNames,key.replace(" ","-"),!0),_defineProperty(_classNames,this.state.classes[key]||"",!0),_classNames))}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({menu:!0,ACTIVE:this.state.active},this.props.className)}},{key:"render",value:function render(){return React.createElement("ul",{className:this.getClassNames(),onClick:this.onClick.bind(this)},this.renderItems())}}]),Menu}(_selectable01Js2["default"]);exports["default"]=Menu,module.exports=exports["default"]},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},QuitScreen=function(_skoash$Screen){function QuitScreen(){_classCallCheck(this,QuitScreen),_get(Object.getPrototypeOf(QuitScreen.prototype),"constructor",this).apply(this,arguments)}return _inherits(QuitScreen,_skoash$Screen),_createClass(QuitScreen,[{key:"okay",value:function okay(){skoash.trigger("quit")}},{key:"cancel",value:function cancel(){this.close(),skoash.trigger("menuClose",{id:this.props.id})}},{key:"renderAssets",value:function renderAssets(){return this.props.assets?this.props.assets.map(function(asset,key){return React.createElement(skoash.Audio,_extends({},asset.props,{ref:asset.ref||asset.props["data-ref"]||"asset-"+key,key:key,"data-ref":key}))}):null}},{key:"render",value:function render(){return React.createElement("div",{id:this.props.id,className:"screen "+this.getClassNames()},this.renderAssets(),React.createElement("div",{className:"center"},React.createElement("div",{className:"frame"},React.createElement("h2",null,"Are you sure you",React.createElement("br",null),"want to quit?"),React.createElement("h3",null,"Your game progress will be saved"),React.createElement("button",{className:"quit-yes",onClick:this.okay.bind(this)}),React.createElement("button",{className:"quit-no",onClick:this.cancel.bind(this)}))))}}]),QuitScreen}(skoash.Screen);exports["default"]=React.createElement(QuitScreen,{id:"quit"}),module.exports=exports["default"]},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},Repeater=function(_skoash$Component){function Repeater(){_classCallCheck(this,Repeater),_get(Object.getPrototypeOf(Repeater.prototype),"constructor",this).apply(this,arguments)}return _inherits(Repeater,_skoash$Component),_createClass(Repeater,[{key:"renderContentList",value:function renderContentList(){for(var a=[],i=0;i<this.props.amount;i++)a.push(React.createElement(this.props.item,_extends({key:i},this.props.props[i])));return a}}]),Repeater}(skoash.Component);Repeater.defaultProps=_.defaults({amount:1,item:"div",props:[]},skoash.Component.defaultProps),exports["default"]=Repeater,module.exports=exports["default"]},function(module,exports){
"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},Reveal=function(_skoash$Component){function Reveal(){_classCallCheck(this,Reveal),_get(Object.getPrototypeOf(Reveal.prototype),"constructor",this).call(this),this.state={openReveal:""},this.index=0}return _inherits(Reveal,_skoash$Component),_createClass(Reveal,[{key:"open",value:function open(message){var self=this;self.setState({open:!0,openReveal:""+message}),self.playAudio(message),self.props.completeOnOpen?self.complete():self.requireForComplete.map(function(key){key===message&&self.refs[key]&&self.refs[key].complete()}),self.props.autoClose&&setTimeout(function(){self.close()},2e3),self.props.openTarget&&self.updateGameState({path:self.props.openTarget,data:{open:""+message}}),self.props.onOpen.call(self,message)}},{key:"close",value:function close(){var prevMessage=this.state.openReveal;this.setState({open:!1,openReveal:""}),this.audio["close-sound"]&&this.audio["close-sound"].play(),this.props.onClose.call(),"function"==typeof this.props.closeRespond&&this.props.closeRespond(prevMessage)}},{key:"start",value:function start(){_get(Object.getPrototypeOf(Reveal.prototype),"start",this).call(this),null!=this.props.openOnStart?this.open(this.props.openOnStart):this.props.start&&"function"==typeof this.props.start?this.props.start.call(this):this.close()}},{key:"playAudio",value:function playAudio(message){var _this=this,messages;""+parseInt(message,10)===message&&(message="asset-"+message),this.audio["open-sound"]&&this.audio["open-sound"].play(),"string"==typeof message?(messages=message.split(" "),messages.map(function(audio){_this.audio[audio]?_this.audio[audio].play():_this.media[audio]&&"function"==typeof _this.media[audio].play&&_this.media[audio].play()})):this.audio.voiceOver[message]&&this.audio.voiceOver[message].play()}},{key:"renderAssets",value:function renderAssets(){return this.props.assets?this.props.assets.map(function(asset,key){var ref=asset.ref||asset.props["data-ref"]||"asset-"+key;return React.createElement(asset.type,_extends({},asset.props,{"data-ref":key,ref:ref,key:key}))}):null}},{key:"renderList",value:function renderList(){var _this2=this,list=this.props.list||this.list;return list.map(function(li,key){var ref=null==li.props["data-ref"]?key:li.props["data-ref"];return React.createElement(li.type,_extends({},li.props,{type:"li",className:_this2.getClass(li,key),"data-ref":ref,ref:key,key:key}))})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(props){null!=props.openReveal&&props.openReveal!==this.props.openReveal&&this.open(props.openReveal),props.closeReveal===!0&&props.closeReveal!==this.props.closeReveal&&this.close()}},{key:"getClass",value:function getClass(li,key){var classes="";return li.props.className&&(classes+=li.props.className),-1!==this.state.openReveal.indexOf(key)&&(classes+=" OPEN"),-1!==this.state.openReveal.indexOf(li.props["data-ref"])&&(classes+=" OPEN"),classes}},{key:"getClassNames",value:function getClassNames(){var classes,open="open-none ";return this.state.openReveal&&(open="open-"+this.state.openReveal+" "),classes="reveal "+open+_get(Object.getPrototypeOf(Reveal.prototype),"getClassNames",this).call(this)}},{key:"render",value:function render(){return React.createElement("div",{className:this.getClassNames()},this.renderAssets(),React.createElement("div",null,React.createElement("ul",null,this.renderList()),React.createElement("button",{className:"close-reveal",onClick:this.close.bind(this)})))}}]),Reveal}(skoash.Component);Reveal.defaultProps=_.defaults({list:[React.createElement("li",null),React.createElement("li",null),React.createElement("li",null),React.createElement("li",null)],onOpen:_.identity,onClose:_.identity},skoash.Component.defaultProps),exports["default"]=Reveal,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_selectable01=__webpack_require__(2),_selectable012=_interopRequireDefault(_selectable01),_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),SavedMessages=function(_Selectable){function SavedMessages(){_classCallCheck(this,SavedMessages),_get(Object.getPrototypeOf(SavedMessages.prototype),"constructor",this).call(this)}return _inherits(SavedMessages,_Selectable),_createClass(SavedMessages,[{key:"selectHelper",value:function selectHelper(e){var li,message,key,classes=[];li=e.target.closest("LI"),li&&(key=li.getAttribute("data-ref"),message=this.refs[key].props.item,classes[key]=this.state.selectClass,this.setState({message:message,classes:classes},this.selectRespond.bind(this)))}},{key:"selectRespond",value:function selectRespond(){"function"==typeof this.props.selectRespond&&this.state.message&&this.props.selectRespond(this.state.message)}},{key:"getClass",value:function getClass(key){var _classNames;return(0,_classnames2["default"])((_classNames={},_defineProperty(_classNames,this.state.classes[key]||"",!0),_defineProperty(_classNames,"DRAFT",!0),_classNames))}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({"item-drawer":!0,SAVED:!0,COMPLETE:this.state.complete},this.props.className)}},{key:"renderThumb",value:function renderThumb(item){var firstImg,background;return background=item&&item.rules&&item.rules.background&&item.rules.background.src?item.rules.background.src:"",firstImg=item&&item.rules&&item.rules.items&&item.rules.items[0]&&item.rules.items[0].src?item.rules.items[0].src:item&&item.rules&&item.rules.messages&&item.rules.messages[0]&&item.rules.messages[0].src?item.rules.messages[0].src:"",React.createElement("div",{className:"thumbnail",style:{backgroundImage:"url("+background+")"}},React.createElement(skoash.Image,{src:firstImg}))}},{key:"renderList",value:function renderList(){var items,self=this;if(self.props.data&&self.props.data.items)return items=self.props.data.items,items.length?items.map(function(item,key){var timestamp=moment.utc(item.updated).local();return React.createElement(skoash.ListItem,{className:self.getClass(key),ref:key,"data-ref":key,item:item,key:key},self.renderThumb(item),React.createElement("span",{className:"timestamp"},React.createElement("span",{className:"date"},timestamp.format("MM.DD.YY")),React.createElement("span",{className:"time"},timestamp.format("h:mm a"))))}):React.createElement("li",{className:"empty"},this.props.emptyMessage)}},{key:"render",value:function render(){return React.createElement("div",null,React.createElement("ul",{className:this.getClassNames(),onClick:this.state.selectFunction.bind(this)},this.renderList()))}}]),SavedMessages}(_selectable012["default"]);exports["default"]=SavedMessages,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),IMAGE="image",AREA="area",CONTENT="content",SCROLLBAR="scrollbar",SCROLLER="scroller",ScrollArea=function(_skoash$Component){function ScrollArea(){_classCallCheck(this,ScrollArea),_get(Object.getPrototypeOf(ScrollArea.prototype),"constructor",this).call(this),this.state=_.defaults({startY:0,endY:0,zoom:1},this.state),this.setZoom=this.setZoom.bind(this),this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.moveEvent=this.moveEvent.bind(this),this.touchStart=this.touchStart.bind(this),this.touchEnd=this.touchEnd.bind(this)}return _inherits(ScrollArea,_skoash$Component),_createClass(ScrollArea,[{key:"bootstrap",value:function bootstrap(){var _this=this;_get(Object.getPrototypeOf(ScrollArea.prototype),"bootstrap",this).call(this),this.setZoom(),window.addEventListener("resize",this.setZoom),this[AREA]=ReactDOM.findDOMNode(this.refs[AREA]),this[CONTENT]=ReactDOM.findDOMNode(this.refs[CONTENT]),this[SCROLLBAR]=ReactDOM.findDOMNode(this.refs[SCROLLBAR]),this[SCROLLER]=ReactDOM.findDOMNode(this.refs[SCROLLER]),this[AREA].scrollTop=0,this[AREA].addEventListener("scroll",function(e){var areaScrollTop,endY;e.target&&!_this.dragging&&(areaScrollTop=e.target.scrollTop,endY=(_this[SCROLLBAR].offsetHeight-_this.props.scrollbarHeight)*(areaScrollTop/(_this[CONTENT].offsetHeight-_this[AREA].offsetHeight)),_this.setState({startY:0,endY:endY}))}),this[SCROLLER].addEventListener("mousedown",this.mouseDown),this[SCROLLER].addEventListener("touchstart",this.touchStart)}},{key:"setZoom",value:function setZoom(){var _this2=this;skoash.trigger("getState").then(function(state){_this2.setState({zoom:state.scale})})}},{key:"mouseDown",value:function mouseDown(e){this.startEvent(e,this.attachMouseEvents)}},{key:"touchStart",value:function touchStart(e){this.startEvent(e,this.attachTouchEvents)}},{key:"startEvent",value:function startEvent(e,cb){var startY,endY;e.target===this[SCROLLER]&&(this.dragging=!0,e=e.targetTouches&&e.targetTouches[0]?e.targetTouches[0]:e,endY=this.getEndY(e),startY=this.state.startY||endY,this.setState({startY:startY,endY:endY}),"function"==typeof cb&&cb.call(this))}},{key:"getEndY",value:function getEndY(e){return Math.min(Math.max(e.pageY/this.state.zoom,this.state.startY),this.state.startY+this[SCROLLBAR].getBoundingClientRect().height/this.state.zoom-this.props.scrollbarHeight)}},{key:"attachMouseEvents",value:function attachMouseEvents(){window.addEventListener("mousemove",this.moveEvent),window.addEventListener("mouseup",this.mouseUp)}},{key:"attachTouchEvents",value:function attachTouchEvents(){window.addEventListener("touchmove",this.moveEvent),window.addEventListener("touchend",this.touchEnd)}},{key:"moveEvent",value:function moveEvent(e){var endY;e=e.targetTouches&&e.targetTouches[0]?e.targetTouches[0]:e,endY=this.getEndY(e),this[AREA].scrollTop=(endY-this.state.startY)*(this[CONTENT].offsetHeight-this[AREA].offsetHeight)/(this[SCROLLBAR].offsetHeight-this.props.scrollbarHeight),this.setState({endY:endY})}},{key:"mouseUp",value:function mouseUp(){this.dragging=!1,this.detachMouseEvents()}},{key:"touchEnd",value:function touchEnd(){this.dragging=!1,this.detachTouchEvents()}},{key:"detachMouseEvents",value:function detachMouseEvents(){window.removeEventListener("mousemove",this.moveEvent),window.removeEventListener("mouseup",this.mouseUp)}},{key:"detachTouchEvents",value:function detachTouchEvents(){window.removeEventListener("touchmove",this.moveEvent),window.removeEventListener("touchend",this.touchEnd)}},{key:"getScrollerStyle",value:function getScrollerStyle(){return{backgroundImage:"url("+this.props.img+")",top:this.state.endY-this.state.startY}}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])("scroll-area",_get(Object.getPrototypeOf(ScrollArea.prototype),"getClassNames",this).call(this))}},{key:"render",value:function render(){return this.props.shouldRender?React.createElement(this.props.type,_extends({},this.props,{className:this.getClassNames()}),React.createElement(skoash.Image,{ref:IMAGE,className:"hidden",src:this.props.img}),React.createElement("div",{ref:AREA,className:AREA},React.createElement("div",{ref:CONTENT,className:CONTENT},this.renderContentList())),React.createElement("div",{ref:SCROLLBAR,className:SCROLLBAR},React.createElement("div",{ref:SCROLLER,className:SCROLLER,style:this.getScrollerStyle()}))):null}}]),ScrollArea}(skoash.Component);ScrollArea.defaultProps=_.defaults({img:"",scrollbarHeight:100},skoash.Component.defaultProps),exports["default"]=ScrollArea,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsSelectable01Js=__webpack_require__(2),_sharedComponentsSelectable01Js2=_interopRequireDefault(_sharedComponentsSelectable01Js),_sharedComponentsReveal01Js=__webpack_require__(14),_sharedComponentsReveal01Js2=_interopRequireDefault(_sharedComponentsReveal01Js),SelectableReveal=function(_skoash$Component){function SelectableReveal(){_classCallCheck(this,SelectableReveal),_get(Object.getPrototypeOf(SelectableReveal.prototype),"constructor",this).call(this)}return _inherits(SelectableReveal,_skoash$Component),_createClass(SelectableReveal,[{key:"start",value:function start(){_get(Object.getPrototypeOf(SelectableReveal.prototype),"start",this).call(this),this.setState({canSelectOnStart:this.props.canSelectOnStart})}},{key:"open",value:function open(message){this.refs.reveal.open(message)}},{key:"selectRespond",value:function selectRespond(message){this.props.answers.length?-1===this.props.answers.indexOf(message)?(this.audio.incorrect&&this.audio.incorrect.play(),this.props.revealAll&&"function"==typeof this.refs.reveal.open&&this.open(message)):(this.audio.correct&&this.audio.correct.play(),"function"==typeof this.refs.reveal.open&&this.open(message)):(this.props.allCorrect&&this.audio.correct&&this.audio.correct.play(),"function"==typeof this.refs.reveal.open&&this.open(message))}},{key:"closeRespond",value:function closeRespond(){"function"==typeof this.props.closeRespond&&this.props.closeRespond()}},{key:"renderAssets",value:function renderAssets(){return this.props.assets?this.props.assets.map(function(asset,key){return React.createElement(skoash.Audio,_extends({},asset.props,{ref:asset.ref||asset.props["data-ref"]||"asset-"+key,key:key,"data-ref":key}))}):null}},{key:"renderSelectable",value:function renderSelectable(){return React.createElement(_sharedComponentsSelectable01Js2["default"],{ref:"selectable",list:this.props.selectableList,selectRespond:this.selectRespond.bind(this),selectClass:this.props.selectableSelectClass,completeOnSelect:this.props.selectableCompleteOnSelect,checkComplete:this.props.selectableCheckComplete,randomizeList:this.props.randomizeSelectableList,selectOnStart:this.props.selectOnStart,chooseOne:this.props.chooseOne,allowDeselect:this.props.allowDeselect})}},{key:"renderReveal",value:function renderReveal(){return React.createElement(_sharedComponentsReveal01Js2["default"],{ref:"reveal",list:this.props.revealList,assets:this.props.revealAssets,closeRespond:this.closeRespond.bind(this),completeOnOpen:this.props.revealCompleteOnOpen,checkComplete:this.props.revealCheckComplete,openOnStart:this.props.openOnStart,hide:this.props.hideReveal,openReveal:this.props.openReveal,onOpen:this.props.onOpen})}},{key:"getClasses",value:function getClasses(){var classes="";return this.state.complete&&(classes+=" COMPLETE"),classes}},{key:"render",value:function render(){return React.createElement("div",{className:"selectable-reveal"+this.getClasses()},this.renderAssets(),this.renderSelectable(),this.renderReveal())}}]),SelectableReveal}(skoash.Component);SelectableReveal.defaultProps=_.defaults({answers:[],canSelectOnStart:!0},skoash.Component.defaultProps),exports["default"]=SelectableReveal,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x2,_x3,_x4){for(var _again=!0;_again;){var object=_x2,property=_x3,receiver=_x4;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x2=parent,_x3=property,_x4=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsCanvas01=__webpack_require__(4),_sharedComponentsCanvas012=_interopRequireDefault(_sharedComponentsCanvas01),_sharedComponentsMenu01=__webpack_require__(11),_sharedComponentsMenu012=_interopRequireDefault(_sharedComponentsMenu01),_sharedComponentsSelectable01=__webpack_require__(2),_sharedComponentsSelectable012=_interopRequireDefault(_sharedComponentsSelectable01),_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),CanvasScreen=function(_skoash$Screen){function CanvasScreen(){_classCallCheck(this,CanvasScreen),_get(Object.getPrototypeOf(CanvasScreen.prototype),"constructor",this).call(this),this.state={load:!0,menu:{},valid:!0},this.rightMenuList=[React.createElement("li",{className:"preview",onClick:this.preview.bind(this)},React.createElement("span",null)),React.createElement("li",{className:"send",onClick:this.send.bind(this)},React.createElement("span",null))],this.setValid=this.setValid.bind(this),this.closeReveal=this.closeReveal.bind(this),this.setHasAssets=this.setHasAssets.bind(this)}return _inherits(CanvasScreen,_skoash$Screen),_createClass(CanvasScreen,[{key:"getData",value:function getData(){return this.refs.canvas.getItems()}},{key:"reset",value:function reset(){this.refs.canvas.reset(),this.setState({background:!1,hasAssets:!1})}},{key:"addItem",value:function addItem(message){message&&(this.setState({hasAssets:!0,background:this.state.background||"background"===message.asset_type}),this.refs.canvas.addItem(message,function(){skoash.trigger("save")}))}},{key:"addItems",value:function addItems(message){var hasAssets,background;hasAssets=!0,background=!!message.rules.background,this.mapRulesStringToNumbers(message.rules),this.refs.canvas.setItems(message.rules),this.setState({hasAssets:hasAssets,background:background}),message.friend_to&&skoash.trigger("passData",{name:"add-recipient",message:message.friend_to})}},{key:"setMenu",value:function setMenu(){var menu,state=this.props.gameState;state&&state.data&&state.data.menu&&(menu=state.data.menu,this.setState({menu:menu}))}},{key:"mapRulesStringToNumbers",value:function mapRulesStringToNumbers(rules){return rules?(_.isArray(rules.items)&&rules.items.forEach(function(item){item.state.left=parseFloat(item.state.left),item.state.rotation=parseFloat(item.state.rotation),item.state.scale=parseFloat(item.state.scale),item.state.top=parseFloat(item.state.top)}),_.isArray(rules.messages)&&rules.messages.forEach(function(message){message.state.left=parseFloat(message.state.left),message.state.rotation=parseFloat(message.state.rotation),message.state.scale=parseFloat(message.state.scale),message.state.top=parseFloat(message.state.top)}),rules):void 0}},{key:"open",value:function open(){var opts=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.setMenu(),this.refs&&this.refs.menu&&this.refs.menu.deactivate(),opts.draft||skoash.trigger("save"),_get(Object.getPrototypeOf(CanvasScreen.prototype),"open",this).call(this)}},{key:"close",value:function close(){skoash.trigger("save"),_get(Object.getPrototypeOf(CanvasScreen.prototype),"close",this).call(this)}},{key:"setValid",value:function setValid(valid){this.setState({valid:valid})}},{key:"setHasAssets",value:function setHasAssets(hasAssets){this.setState({hasAssets:hasAssets})}},{key:"send",value:function send(){this.state.valid&&this["goto"]("send")}},{key:"preview",value:function preview(){this.state.valid&&this["goto"]("preview")}},{key:"closeReveal",value:function closeReveal(){this.refs&&this.refs.reveal&&this.refs.reveal.close()}},{key:"getContainerClasses",value:function getContainerClasses(){return(0,_classnames2["default"])({"canvas-container":!0,BACKGROUND:this.state.background})}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])({"HAS-ASSETS":this.state.hasAssets,INVALID:!this.state.valid},skoash.Screen.prototype.getClassNames.call(this))}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement(skoash.Image,{className:"hidden",src:"media/_Frames/SK_frames_canvas.png"}),React.createElement(skoash.Image,{className:"hidden",src:"media/_Buttons/SK_btn_friend.png"}),React.createElement(_sharedComponentsMenu012["default"],{ref:"menu",items:this.state.menu.items,level:0,lastLevel:1}),React.createElement("div",{className:this.getContainerClasses()},React.createElement(_sharedComponentsCanvas012["default"],{ref:"canvas",setValid:this.setValid,setHasAssets:this.setHasAssets,itemMinDim:150})),React.createElement(_sharedComponentsSelectable012["default"],{className:"menu right-menu",list:this.rightMenuList}))}}]),CanvasScreen}(skoash.Screen);exports["default"]=function(props,ref,key){return React.createElement(CanvasScreen,_extends({},props,{ref:ref,key:key,id:"canvas",hideNext:!0,hidePrev:!0}))},module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsItem_drawer01Js=__webpack_require__(5),_sharedComponentsItem_drawer01Js2=_interopRequireDefault(_sharedComponentsItem_drawer01Js),DEFAULT_PROFILE_IMAGE="https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png",FriendScreen=function(_skoash$Screen){function FriendScreen(){_classCallCheck(this,FriendScreen),_get(Object.getPrototypeOf(FriendScreen.prototype),"constructor",this).call(this),this.state={load:!0,complete:!0,recipient:{},opts:{}}}return _inherits(FriendScreen,_skoash$Screen),_createClass(FriendScreen,[{key:"selectRespond",value:function selectRespond(message){skoash.trigger("pass-data",{name:"add-recipient","goto":this.state.opts["goto"],message:message})}},{key:"updateData",value:function updateData(d){var data=d&&d.user?d.user:this.props.gameState.data.user||[];data=data.map(function(friend){var src=friend._embedded.image&&friend._embedded.image.url?friend._embedded.image.url:DEFAULT_PROFILE_IMAGE;return{user_id:friend.friend_id,name:friend.username,src:src,description:"",asset_type:"friend"}}),this.setState({data:data})}},{key:"open",value:function open(opts){
var recipient,self=this;self.updateData(),skoash.trigger("getData",{name:"getFriends"}).then(function(data){self.updateData.call(self,data)}),recipient=this.props.gameState.recipient,self.setState({load:!0,open:!0,leave:!1,close:!1,recipient:recipient,opts:opts},function(){self.refs.drawer&&self.refs.drawer.start()}),self.state.started||self.start()}},{key:"suggestFriends",value:function suggestFriends(){window.open(window.location.origin.replace("games-","")+"/friends/suggested")}},{key:"save",value:function save(){skoash.trigger("goto",{index:"canvas"}),skoash.trigger("openMenu",{id:"save"})}},{key:"renderOtter",value:function renderOtter(){var copy,src;return src="One",copy=React.createElement("span",null,"Don't have",React.createElement("br",null)," friends yet?",React.createElement("br",null),React.createElement("br",null)," Let me suggest",React.createElement("br",null)," some for you."),this.state.data&&this.state.data.length&&(src="Two",copy=React.createElement("span",null,"Let me find a friend",React.createElement("br",null)," to send your message to.")),React.createElement("div",{className:"otter-container "+src},React.createElement(skoash.Image,{className:"otter",src:"media/_Otter/Otter_Static_Greeting"+src+".png"}),React.createElement("div",{className:"bubble"},copy))}},{key:"renderFriends",value:function renderFriends(){return this.state.data&&this.state.data.length?React.createElement(_sharedComponentsItem_drawer01Js2["default"],{ref:"drawer",scrollbarImg:"./media/_Buttons/sk_btn_slider.png",selectRespond:this.selectRespond.bind(this),cancelRespond:this.back,categories:this.state.opts.categories,data:this.state.data,selectedItem:this.state.recipient,buttons:this.buttons,complete:!0,className:this.state.opts["goto"]}):React.createElement("div",{className:this.state.opts["goto"]},React.createElement("div",{className:"item-drawer-container"},React.createElement("div",{className:"suggest-friends-buttons"},React.createElement("button",{className:"continue",onClick:this.selectRespond.bind(this,{})}),React.createElement("button",{className:"suggest",onClick:this.suggestFriends}),React.createElement("button",{className:"save-to-drafts",onClick:this.save}))))}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement("div",{className:"header"}),this.renderOtter(),this.renderFriends())}}]),FriendScreen}(skoash.Screen);exports["default"]=function(props,ref,key){return React.createElement(FriendScreen,_extends({},props,{ref:ref,key:key,id:"friends",hideNext:!0,hidePrev:!0}))},module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsSelectable_reveal01Js=__webpack_require__(17),_sharedComponentsSelectable_reveal01Js2=_interopRequireDefault(_sharedComponentsSelectable_reveal01Js),_sharedComponentsInbox01Js=__webpack_require__(8),_sharedComponentsInbox01Js2=_interopRequireDefault(_sharedComponentsInbox01Js),_sharedComponentsSaved_messages01Js=__webpack_require__(15),_sharedComponentsSaved_messages01Js2=_interopRequireDefault(_sharedComponentsSaved_messages01Js),inboxEmptyMessage=React.createElement("span",null,"You haven't received any Skribbles!",React.createElement("br",null),"Get started by sending some!"),unreadEmptyMessage=React.createElement("span",null,"You don't have any",React.createElement("br",null),"unread Skribbles!"),readEmptyMessage=React.createElement("span",null,"You don't have any",React.createElement("br",null),"read Skribbles!"),sentEmptyMessage=React.createElement("span",null,"You haven't sent any Skribbles.",React.createElement("br",null),"Let's get started!"),draftsEmptyMessage=React.createElement("span",null,"You don't have any drafts.",React.createElement("br",null),"Start Skribbling!"),InboxScreen=function(_skoash$Screen){function InboxScreen(){_classCallCheck(this,InboxScreen),_get(Object.getPrototypeOf(InboxScreen.prototype),"constructor",this).call(this),this.state={load:!0},this.selectableList=[React.createElement("li",null),React.createElement("li",null),React.createElement("li",null),React.createElement("li",null),React.createElement("li",null)],this.revealList=this.getRevealList(),this.readMessage=this.readMessage.bind(this),this.editMessage=this.editMessage.bind(this)}return _inherits(InboxScreen,_skoash$Screen),_createClass(InboxScreen,[{key:"getRevealList",value:function getRevealList(inbox,outbox,saved){var read,unread,props=this.props||{};return inbox=inbox||[],read=inbox.filter(function(item){return item.read}),unread=inbox.filter(function(item){return!item.read}),[React.createElement("li",null,React.createElement(_sharedComponentsInbox01Js2["default"],{"data-ref":"inbox",data:{items:inbox||[]},emptyMessage:inboxEmptyMessage,selectRespond:this.readMessage,gameState:props.gameState})),React.createElement("li",null,React.createElement(_sharedComponentsInbox01Js2["default"],{"data-ref":"unread",data:{items:unread||[]},emptyMessage:unreadEmptyMessage,selectRespond:this.readMessage,gameState:props.gameState})),React.createElement("li",null,React.createElement(_sharedComponentsInbox01Js2["default"],{"data-ref":"read",data:{items:read||[]},emptyMessage:readEmptyMessage,selectRespond:this.readMessage,gameState:props.gameState})),React.createElement("li",null,React.createElement(_sharedComponentsInbox01Js2["default"],{"data-ref":"outbox",data:{items:outbox||[]},emptyMessage:sentEmptyMessage,friendKey:"friend_to",selectRespond:this.readMessage,gameState:props.gameState})),React.createElement("li",null,React.createElement(_sharedComponentsSaved_messages01Js2["default"],{"data-ref":"saved",data:{items:saved||[]},emptyMessage:draftsEmptyMessage,selectRespond:this.editMessage}))]}},{key:"editMessage",value:function editMessage(message){skoash.trigger("loadSkribble",{message:message})}},{key:"readMessage",value:function readMessage(message){skoash.trigger("goto",{index:"read",message:message})}},{key:"updateData",value:function updateData(){var data,inbox,outbox,saved;data=this.props.gameState.data,inbox=data.received,outbox=data.sent,saved=data.draft,this.revealList=this.getRevealList(inbox,outbox,saved),this.setState({inbox:inbox,outbox:outbox,saved:saved})}},{key:"open",value:function open(){var self=this;skoash.trigger("getData",{status:"received"}).then(function(){self.updateData()}),skoash.trigger("getData",{status:"sent"}).then(function(){self.updateData()}),skoash.trigger("getData",{status:"draft"}).then(function(){self.updateData()}),self.setState({load:!0,open:!0,leave:!1,close:!1}),setTimeout(function(){self.state.started||self.start()},250)}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement("div",{className:"center"},React.createElement("div",{className:"frame"},React.createElement(_sharedComponentsSelectable_reveal01Js2["default"],{ref:"selectableReveal",selectableList:this.selectableList,revealList:this.revealList,selectOnStart:"0",openOnStart:"0"}))))}}]),InboxScreen}(skoash.Screen);exports["default"]=function(props,ref,key){return React.createElement(InboxScreen,_extends({},props,{ref:ref,key:key,id:"inbox",hideNext:!0,hidePrev:!0}))},module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsItem_drawer01Js=__webpack_require__(5),_sharedComponentsItem_drawer01Js2=_interopRequireDefault(_sharedComponentsItem_drawer01Js),ItemDrawerScreen=function(_skoash$Screen){function ItemDrawerScreen(){_classCallCheck(this,ItemDrawerScreen),_get(Object.getPrototypeOf(ItemDrawerScreen.prototype),"constructor",this).call(this),this.state={opts:{categories:[]}}}return _inherits(ItemDrawerScreen,_skoash$Screen),_createClass(ItemDrawerScreen,[{key:"selectRespond",value:function selectRespond(message){skoash.trigger("pass-data",{name:"add-item",message:message})}},{key:"updateData",value:function updateData(d){var data=d?d:this.props.gameState.data.menu.items;this.state.opts.categories.forEach(function(key){data[key]&&(data=data[key]),data.items&&(data=data.items)}),data=_.values(data),this.setState({data:data})}},{key:"open",value:function open(opts){var self=this;skoash.trigger("getMedia",{path:"skribble/menu/"+opts.categories.join("/")}).then(function(data){self.updateData(data)}),self.setState({load:!0,open:!0,leave:!1,close:!1,opts:opts,data:null},function(){self.updateData()}),setTimeout(function(){self.state.started||self.start()},250)}},{key:"cancelRespond",value:function cancelRespond(){this.state.category?this.setState({category:"",categoryName:""}):skoash.trigger("goto",{index:"canvas"})}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement(_sharedComponentsItem_drawer01Js2["default"],{ref:"drawer",scrollbarImg:"./media/_Buttons/sk_btn_slider.png",selectRespond:this.selectRespond.bind(this),cancelRespond:this.cancelRespond,categories:this.state.opts.categories,data:this.state.data}))}}]),ItemDrawerScreen}(skoash.Screen);exports["default"]=function(props,ref,key){return React.createElement(ItemDrawerScreen,_extends({},props,{ref:ref,key:key,id:"item-drawer",hideNext:!0,hidePrev:!0}))},module.exports=exports["default"]},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},MenuScreen=function(_skoash$Screen){function MenuScreen(){_classCallCheck(this,MenuScreen),_get(Object.getPrototypeOf(MenuScreen.prototype),"constructor",this).apply(this,arguments)}return _inherits(MenuScreen,_skoash$Screen),_createClass(MenuScreen,[{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement(skoash.Image,{className:"hidden",src:"media/_Background/SK_BKG_1.png"}),React.createElement(skoash.Image,{className:"otter",src:"media/_Otter/Waving_Otter2.gif"}),React.createElement("div",{className:"bubble"},"Hi there!",React.createElement("br",null),"What would you",React.createElement("br",null),"like to do today?"),React.createElement("div",{className:"buttons"},React.createElement("button",{className:"make",onClick:this["goto"].bind(this,"friend")}),React.createElement("button",{className:"read",onClick:this["goto"].bind(this,"inbox")})))}}]),MenuScreen}(skoash.Screen);exports["default"]=function(props,ref,key){return React.createElement(MenuScreen,_extends({},props,{ref:ref,key:key,id:"menu",hidePrev:!0,hideNext:!0,load:!0}))},module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsCanvas01=__webpack_require__(4),_sharedComponentsCanvas012=_interopRequireDefault(_sharedComponentsCanvas01),_sharedComponentsSelectable01Js=__webpack_require__(2),_sharedComponentsSelectable01Js2=_interopRequireDefault(_sharedComponentsSelectable01Js),_sharedComponentsRepeater01Js=__webpack_require__(13),_sharedComponentsRepeater01Js2=_interopRequireDefault(_sharedComponentsRepeater01Js),classNameText={skribbleBox:"skribble-box",box:"box",leftMenu:"menu left-menu",rightMenu:"menu right-menu"},refs={box:"box",canvas:"canvas"},PreviewScreen=function(_skoash$Screen){function PreviewScreen(){_classCallCheck(this,PreviewScreen),_get(Object.getPrototypeOf(PreviewScreen.prototype),"constructor",this).call(this),this.state={load:!0,opts:{}},this.leftMenuList=[React.createElement("li",{className:"edit",onClick:this["goto"].bind(this,"canvas")},React.createElement("span",null))],this.rightMenuList=[React.createElement("li",{className:"send",onClick:this["goto"].bind(this,"send")},React.createElement("span",null))]}return _inherits(PreviewScreen,_skoash$Screen),_createClass(PreviewScreen,[{key:"open",value:function open(opts){var _this=this;skoash.trigger("getRules").then(function(rules){_this.refs[refs.box].refs[refs.canvas].setItems(rules),_get(Object.getPrototypeOf(PreviewScreen.prototype),"open",_this).call(_this,opts)})}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement(skoash.Component,{ref:refs.box,className:classNameText.skribbleBox},React.createElement(_sharedComponentsCanvas012["default"],{ref:refs.canvas,preview:!0}),React.createElement(_sharedComponentsRepeater01Js2["default"],{className:"sparkles",amount:40}),React.createElement("div",{className:classNameText.box})),React.createElement(_sharedComponentsSelectable01Js2["default"],{className:classNameText.leftMenu,list:this.leftMenuList}),React.createElement(_sharedComponentsSelectable01Js2["default"],{className:classNameText.rightMenu,list:this.rightMenuList}))}}]),PreviewScreen}(skoash.Screen);exports["default"]=function(props,ref,key){return React.createElement(PreviewScreen,_extends({},props,{ref:ref,key:key,id:"preview",hideNext:!0,hidePrev:!0}))},module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),_sharedComponentsSelectable01Js=__webpack_require__(2),_sharedComponentsSelectable01Js2=_interopRequireDefault(_sharedComponentsSelectable01Js),classNameText={skribbleBox:"skribble-box",box:"box",leftMenu:"menu left-menu",rightMenu:"menu right-menu",sender:"menu recipient sender"},refs={box:"box"},ReadScreen=function(_skoash$Screen){function ReadScreen(){_classCallCheck(this,ReadScreen),_get(Object.getPrototypeOf(ReadScreen.prototype),"constructor",this).call(this),this.state.load=!0,this.state.message={user:{}},this.leftMenuList=[React.createElement("li",{className:"inbox",onClick:this["goto"].bind(this,"inbox")},React.createElement("span",null))],this.rightMenuList=[React.createElement("li",{className:"reply",onClick:this.reply.bind(this)},React.createElement("span",null))]}return _inherits(ReadScreen,_skoash$Screen),_createClass(ReadScreen,[{key:"reply",value:function reply(){skoash.trigger("passData",{name:"add-recipient",message:this.state.message.created_by})}},{key:"open",value:function open(opts){var message,friends,creater;message=opts.message||{},friends=this.props.gameState.data.user||[],friends.forEach(function(friend){message.created_by===friend.friend_id&&(creater=friend)}),this.setState({load:!0,open:!0,leave:!1,close:!1,message:message,creater:creater}),this.start(),skoash.trigger("getData",{name:"markAsRead",skribble_id:message.skribble_id})}},{key:"getSenderClassNames",value:function getSenderClassNames(){return(0,_classnames2["default"])(classNameText.sender,{HIDE:!this.state.creater||this.state.message.sent})}},{key:"renderSender",value:function renderSender(){var creater,content=[];return(creater=this.state.creater)?(creater.username&&content.push(React.createElement("span",{className:"name"},creater.username)),creater._embedded.image&&content.push(React.createElement("img",{className:"profile-image",src:creater._embedded.image.url})),content):void 0}},{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement("ul",{className:this.getSenderClassNames()},React.createElement("li",null,React.createElement("span",null,this.renderSender()))),React.createElement(skoash.Component,{ref:refs.box,className:classNameText.skribbleBox},React.createElement(skoash.Image,{src:this.state.message.url}),React.createElement("div",{className:classNameText.box})),React.createElement(_sharedComponentsSelectable01Js2["default"],{className:classNameText.leftMenu,list:this.leftMenuList}),React.createElement(_sharedComponentsSelectable01Js2["default"],{className:classNameText.rightMenu,list:this.rightMenuList}))}}]),ReadScreen}(skoash.Screen);exports["default"]=function(props,ref,key){return React.createElement(ReadScreen,_extends({},props,{ref:ref,key:key,id:"read",hideNext:!0,hidePrev:!0}))},module.exports=exports["default"]},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},SaveMenu=function(_skoash$Screen){function SaveMenu(){_classCallCheck(this,SaveMenu),_get(Object.getPrototypeOf(SaveMenu.prototype),"constructor",this).apply(this,arguments)}return _inherits(SaveMenu,_skoash$Screen),_createClass(SaveMenu,[{key:"cancel",value:function cancel(){this.close(),skoash.trigger("menuClose",{id:this.state.id})}},{key:"render",value:function render(){return React.createElement("div",{id:this.props.id,className:this.getClassNames()},React.createElement("div",{className:"center"},React.createElement("div",{className:"frame"},React.createElement("button",{className:"quit-saved",onClick:this.cancel.bind(this)}),React.createElement("h2",null,"Your progress"),React.createElement("h2",null,"has been saved"))))}}]),SaveMenu}(skoash.Screen);exports["default"]=React.createElement(SaveMenu,{id:"save"}),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_sharedComponentsSelectable01Js=__webpack_require__(2),_sharedComponentsSelectable01Js2=_interopRequireDefault(_sharedComponentsSelectable01Js),classNameText={yourMessageTo:"your-message-to",isReady:"is-ready",changeFriend:"change-friend",character:"character",gift:"gift",header:"header",username:"username"},SendScreen=function(_skoash$Screen){function SendScreen(){_classCallCheck(this,SendScreen),_get(Object.getPrototypeOf(SendScreen.prototype),"constructor",this).call(this),this.state.load=!0,this.state.recipient={},this.rightMenuList=[React.createElement("li",{className:"edit-right",onClick:this["goto"].bind(this,"canvas")},React.createElement("span",null)),React.createElement("li",{className:"send",onClick:this.send},React.createElement("span",null))]}return _inherits(SendScreen,_skoash$Screen),_createClass(SendScreen,[{key:"open",value:function open(){var recipient=this.props.gameState.recipient||{};this.setState({load:!0,open:!0,leave:!1,close:!1,recipient:recipient}),this.start()}},{key:"send",value:function send(){skoash.trigger("pass-data",{name:"send"})}},{key:"renderContent",value:function renderContent(){var changeFriendClick=this["goto"].bind(this,{index:"friend","goto":"send"});return React.createElement("div",null,React.createElement("div",{className:classNameText.header},React.createElement("span",{className:classNameText.yourMessageTo}),React.createElement("span",{className:classNameText.username},this.state.recipient.name),React.createElement("br",null),React.createElement("span",{className:classNameText.isReady}),React.createElement("button",{className:classNameText.changeFriend,onClick:changeFriendClick})),React.createElement("div",{className:classNameText.character},React.createElement(skoash.Image,{className:"otter",src:"media/_Otter/Otter_Static_GreetingTwo.png"}),React.createElement("div",{className:"bubble"},"Are you sure",React.createElement("br",null),"you are ready to",React.createElement("br",null),"send your message?")),React.createElement("div",{className:classNameText.gift}),React.createElement(_sharedComponentsSelectable01Js2["default"],{className:"menu right-menu",list:this.rightMenuList}))}}]),SendScreen}(skoash.Screen);exports["default"]=function(props,ref,key){return React.createElement(SendScreen,_extends({},props,{ref:ref,key:key,id:"send",hideNext:!0,hidePrev:!0}))},module.exports=exports["default"]},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");
}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},classNameText={character:"character",header:"header",yourMessageTo:"your-message-to",username:"username",isReady:"is-ready",buttons:"buttons",createAnother:"create-another",inbox:"inbox"},text={yourMessageTo:"YOUR MESSAGE TO:",hasBeenSent:"IS BEING SENT!"},SentScreen=function(_skoash$Screen){function SentScreen(){_classCallCheck(this,SentScreen),_get(Object.getPrototypeOf(SentScreen.prototype),"constructor",this).call(this),this.state={load:!0,opts:{recipient:{}}}}return _inherits(SentScreen,_skoash$Screen),_createClass(SentScreen,[{key:"renderContent",value:function renderContent(){return React.createElement("div",null,React.createElement("div",{className:classNameText.character}),React.createElement("div",{className:classNameText.header},React.createElement("span",{className:classNameText.yourMessageTo},text.yourMessageTo),React.createElement("span",{className:classNameText.username},this.state.opts.recipient.name),React.createElement("br",null),React.createElement("span",{className:classNameText.isReady},text.hasBeenSent)),React.createElement("div",{className:classNameText.buttons},React.createElement("button",{className:classNameText.createAnother,onClick:this["goto"].bind(this,"friend")}),React.createElement("button",{className:classNameText.inbox,onClick:this["goto"].bind(this,"inbox")})))}}]),SentScreen}(skoash.Screen);exports["default"]=function(props,ref,key){return React.createElement(SentScreen,_extends({},props,{ref:ref,key:key,id:"sent",hideNext:!0,hidePrev:!0}))},module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"title",hidePrev:!0,nextDelay:1e3,nextIndex:"menu"}),React.createElement(skoash.Image,{ref:"title",className:"title animated",src:"media/_Title/SKribble_title.png"}),React.createElement(skoash.Image,{ref:"play",className:"hidden",src:"media/_Buttons/skribble-play-01.png"}),React.createElement(skoash.Image,{ref:"play-hover",className:"hidden",src:"media/_Buttons/skribble-hover.png"}))},module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var config={id:"skribble",version:1,skoash:"1.0.3",dimensions:{width:1600,ratio:16/9}};exports["default"]=config,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x2,_x3,_x4){for(var _again=!0;_again;){var object=_x2,property=_x3,receiver=_x4;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x2=parent,_x3=property,_x4=receiver,_again=!0,desc=parent=void 0}},_configGame=__webpack_require__(29),_configGame2=_interopRequireDefault(_configGame),_sharedComponentsLoader01=__webpack_require__(10),_sharedComponentsLoader012=_interopRequireDefault(_sharedComponentsLoader01),_sharedComponentsIos_splash_screen01=__webpack_require__(9),_sharedComponentsIos_splash_screen012=_interopRequireDefault(_sharedComponentsIos_splash_screen01),_componentsTitle_screen=__webpack_require__(28),_componentsTitle_screen2=_interopRequireDefault(_componentsTitle_screen),_componentsMenu_screen=__webpack_require__(22),_componentsMenu_screen2=_interopRequireDefault(_componentsMenu_screen),_componentsFriend_screen=__webpack_require__(19),_componentsFriend_screen2=_interopRequireDefault(_componentsFriend_screen),_componentsCanvas_screen=__webpack_require__(18),_componentsCanvas_screen2=_interopRequireDefault(_componentsCanvas_screen),_componentsItem_drawer_screen=__webpack_require__(21),_componentsItem_drawer_screen2=_interopRequireDefault(_componentsItem_drawer_screen),_componentsInbox_screen=__webpack_require__(20),_componentsInbox_screen2=_interopRequireDefault(_componentsInbox_screen),_componentsPreview_screen=__webpack_require__(23),_componentsPreview_screen2=_interopRequireDefault(_componentsPreview_screen),_componentsSend_screen=__webpack_require__(26),_componentsSend_screen2=_interopRequireDefault(_componentsSend_screen),_componentsSent_screen=__webpack_require__(27),_componentsSent_screen2=_interopRequireDefault(_componentsSent_screen),_componentsRead_screen=__webpack_require__(24),_componentsRead_screen2=_interopRequireDefault(_componentsRead_screen),_sharedComponentsQuit_screen01=__webpack_require__(12),_sharedComponentsQuit_screen012=_interopRequireDefault(_sharedComponentsQuit_screen01),_componentsSave_menu=__webpack_require__(25),_componentsSave_menu2=_interopRequireDefault(_componentsSave_menu),DEFAULT_PROFILE_IMAGE="https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png",SkribbleGame=function(_skoash$Game){function SkribbleGame(){_classCallCheck(this,SkribbleGame),_get(Object.getPrototypeOf(SkribbleGame.prototype),"constructor",this).apply(this,arguments)}return _inherits(SkribbleGame,_skoash$Game),_createClass(SkribbleGame,[{key:"ready",value:function ready(){this.state.ready||(this.getMediaOnReady(),this.getFriends()),_get(Object.getPrototypeOf(SkribbleGame.prototype),"ready",this).call(this)}},{key:"getRules",value:function getRules(){var opts=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return"function"==typeof opts.respond?opts.respond(this.refs["screen-canvas"].getData()):this.refs["screen-canvas"].getData()}},{key:"save",value:function save(e,skramble){var friend_to,rules,self=this;friend_to=self.state.recipient&&self.state.recipient.user_id?self.state.recipient.user_id:null,rules=self.getRules();var skribble=_extends({version:_configGame2["default"].version},self.state.skribbleData,{friend_to:friend_to,skramble:skramble,rules:rules});(rules.background||rules.items.length||rules.messages.length)&&JSON.stringify(skribble)!==JSON.stringify(this.state.skribble)&&self.emit({name:"saveSkribble",game:self.config.id,skribble:skribble}).then(function(skribbleData){self.setState({skribbleData:skribbleData,skribble:skribble})})}},{key:"send",value:function send(){this.save(null,!0),this.refs["screen-canvas"].reset(),this["goto"]({index:"sent",recipient:this.state.recipient}),this.setState({recipient:null,skribbleData:null})}},{key:"trigger",value:function trigger(event,opts){switch(event){case"save":return this.save();case"getMedia":return this.getMedia(opts.path);case"getRules":return this.getRules(opts);case"loadSkribble":return this.loadSkribble(opts)}return _get(Object.getPrototypeOf(SkribbleGame.prototype),"trigger",this).call(this,event,opts)}},{key:"loadSkribble",value:function loadSkribble(opts){var _this=this;this.setState({skribbleData:opts.message},function(){_this.refs["screen-canvas"].addItems(opts.message),_this["goto"]({index:"canvas",draft:!0})})}},{key:"getMedia",value:function getMedia(path){var pathArray,self=this;return path=path||"skribble/menu",pathArray=path.split("/"),pathArray.shift(),self.emit({name:"getMedia",path:path}).then(function(d){var opts,currentOpts;opts={data:{},callback:function callback(){self.refs["screen-canvas"].setMenu(),self.refs["screen-item-drawer"].updateData()}},currentOpts=opts.data,pathArray.forEach(function(key,index){currentOpts[key]={items:{}},index!==pathArray.length-1&&(currentOpts=currentOpts[key].items)}),currentOpts[pathArray[pathArray.length-1]]=_.clone(d),currentOpts[pathArray[pathArray.length-1]].items={},d.items&&d.items.forEach(function(item){"folder"===item.asset_type&&item.name?self.getMedia(path+"/"+item.name):currentOpts[pathArray[pathArray.length-1]].items[item.name]=item}),self.updateData(opts)})}},{key:"getData",value:function getData(opts){var _this2=this,names=["getFriends","getFriend","markAsRead"];return-1===names.indexOf(opts.name)&&(opts.name="getData"),this.emit(opts).then(function(data){opts.status?(data[opts.status]=data.skribble,delete data.skribble,_this2.updateData({data:data})):_this2.updateData({data:data,callback:opts.callback})})}},{key:"addRecipient",value:function addRecipient(recipient,cb){var _this3=this,src;recipient.src?(recipient.profile_image=recipient.src,delete recipient.src):"string"==typeof recipient&&this.state.data&&this.state.data.user&&this.state.data.user.some(function(friend){return friend.friend_id===recipient?(recipient=friend,!0):!1}),"string"==typeof recipient?this.getData({name:"getFriend",friend_id:recipient,callback:function callback(){_this3.addRecipient(recipient,cb)}}):(src=recipient&&recipient._embedded&&recipient._embedded.image&&recipient._embedded.image.url?recipient._embedded.image.url:recipient.profile_image||DEFAULT_PROFILE_IMAGE,this.setState({recipient:{user_id:recipient.user_id||recipient.friend_id,name:recipient.name||recipient.username,src:src,description:"",asset_type:"friend"}},cb))}},{key:"clickRecipient",value:function clickRecipient(){this["goto"]({index:"friend"})}},{key:"create",value:function create(){this.state.recipient?this["goto"]({index:"canvas"}):this["goto"]({index:"friend"})}},{key:"saveButton",value:function saveButton(){this.save(),this.openMenu({id:"save"})}},{key:"renderRecipient",value:function renderRecipient(){var recipient=this.state.recipient,content=[];if(recipient)return recipient.name&&content.push(React.createElement("span",{className:"name"},recipient.name)),recipient.profile_image&&content.push(React.createElement("img",{className:"profile-image",src:recipient.profile_image})),content}}]),SkribbleGame}(skoash.Game),Skribble=React.createElement(SkribbleGame,{config:_configGame2["default"],screens:{0:_sharedComponentsIos_splash_screen012["default"],1:_componentsTitle_screen2["default"],menu:_componentsMenu_screen2["default"],friend:_componentsFriend_screen2["default"],canvas:_componentsCanvas_screen2["default"],"item-drawer":_componentsItem_drawer_screen2["default"],inbox:_componentsInbox_screen2["default"],preview:_componentsPreview_screen2["default"],send:_componentsSend_screen2["default"],sent:_componentsSent_screen2["default"],read:_componentsRead_screen2["default"]},menus:{quit:_sharedComponentsQuit_screen012["default"],save:_componentsSave_menu2["default"]},loader:React.createElement(_sharedComponentsLoader012["default"],null),assets:[React.createElement("div",{className:"background-1"}),React.createElement("div",{className:"background-2"}),React.createElement("div",{className:"background-3"}),React.createElement("div",{className:"background-4"}),React.createElement("div",{className:"background-5"}),React.createElement("div",{className:"background-6"})],onBootstrap:function(){this.getFriends=_.throttle(this.getData.bind(this,{name:"getFriends"}),1e3),this.getMediaOnReady=_.throttle(this.getMedia.bind(this),1e3)},renderMenu:function(){return React.createElement("div",null,React.createElement("div",{className:"game-menu"},React.createElement("button",{className:"save",onClick:this.saveButton.bind(this)}),React.createElement("button",{className:"inbox",onClick:this["goto"].bind(this,{index:"inbox"})}),React.createElement("button",{className:"create",onClick:this.create.bind(this)}),React.createElement("button",{className:"help",onClick:this.openMenu.bind(this,{id:"help"})}),React.createElement("button",{className:"close",onClick:this.openMenu.bind(this,{id:"quit"})})),React.createElement("ul",{className:"menu recipient"},React.createElement("li",{onClick:this.clickRecipient.bind(this)},React.createElement("span",null,this.renderRecipient()))))},getGotoOpts:function(opts){return"send"===opts.index&&(this.state.recipient&&this.state.recipient.name||(opts.index="friend",opts["goto"]="send")),opts},passData:function(opts){"add-item"===opts.name?(this.refs["screen-canvas"].addItem(opts.message),this["goto"]({index:"canvas"})):"add-recipient"===opts.name?this.addRecipient(opts.message,this["goto"].bind(this,{index:opts["goto"]||"canvas"})):"send"===opts.name&&this.send()}});skoash.start(Skribble)},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(34)},function(module,exports,__webpack_require__){"use strict";function decode(id){var characters=alphabet.shuffled();return{version:15&characters.indexOf(id.substr(0,1)),worker:15&characters.indexOf(id.substr(1,1))}}var alphabet=__webpack_require__(3);module.exports=decode},function(module,exports,__webpack_require__){"use strict";function encode(lookup,number){for(var loopCounter=0,done,str="";!done;)str+=lookup(number>>4*loopCounter&15|randomByte()),done=number<Math.pow(16,loopCounter+1),loopCounter++;return str}var randomByte=__webpack_require__(36);module.exports=encode},function(module,exports,__webpack_require__){"use strict";function generate(){var str="",seconds=Math.floor(.001*(Date.now()-REDUCE_TIME));return seconds===previousSeconds?counter++:(counter=0,previousSeconds=seconds),str+=encode(alphabet.lookup,version),str+=encode(alphabet.lookup,clusterWorkerId),counter>0&&(str+=encode(alphabet.lookup,counter)),str+=encode(alphabet.lookup,seconds)}function seed(seedValue){return alphabet.seed(seedValue),module.exports}function worker(workerId){return clusterWorkerId=workerId,module.exports}function characters(newCharacters){return void 0!==newCharacters&&alphabet.characters(newCharacters),alphabet.shuffled()}var alphabet=__webpack_require__(3),encode=__webpack_require__(33),decode=__webpack_require__(32),isValid=__webpack_require__(35),REDUCE_TIME=1459707606518,version=6,clusterWorkerId=__webpack_require__(38)||0,counter,previousSeconds;module.exports=generate,module.exports.generate=generate,module.exports.seed=seed,module.exports.worker=worker,module.exports.characters=characters,module.exports.decode=decode,module.exports.isValid=isValid},function(module,exports,__webpack_require__){"use strict";function isShortId(id){if(!id||"string"!=typeof id||id.length<6)return!1;for(var characters=alphabet.characters(),len=id.length,i=0;len>i;i++)if(-1===characters.indexOf(id[i]))return!1;return!0}var alphabet=__webpack_require__(3);module.exports=isShortId},function(module,exports){"use strict";function randomByte(){if(!crypto||!crypto.getRandomValues)return 48&Math.floor(256*Math.random());var dest=new Uint8Array(1);return crypto.getRandomValues(dest),48&dest[0]}var crypto="object"==typeof window&&(window.crypto||window.msCrypto);module.exports=randomByte},function(module,exports){"use strict";function getNextValue(){return seed=(9301*seed+49297)%233280,seed/233280}function setSeed(_seed_){seed=_seed_}var seed=1;module.exports={nextValue:getNextValue,seed:setSeed}},function(module,exports){"use strict";module.exports=0}]);
//# sourceMappingURL=ai.js.map