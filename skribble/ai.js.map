{"version":3,"sources":["webpack:///skribble/ai.js","webpack:///webpack/bootstrap 6e817ef6861838ab36b9","webpack:///../~/classnames/index.js","webpack:///./shared/components/selectable/0.1.js","webpack:///../~/shortid/lib/alphabet.js","webpack:///./shared/components/canvas/0.1.js","webpack:///./shared/components/item_drawer/0.1.js","webpack:///./shared/components/draggable/0.1.js","webpack:///./shared/components/editable_asset/0.1.js","webpack:///./shared/components/inbox/0.1.js","webpack:///./shared/components/ios_splash_screen/0.1.js","webpack:///./shared/components/loader/0.1.js","webpack:///./shared/components/menu/0.1.js","webpack:///./shared/components/quit_screen/0.1.js","webpack:///./shared/components/repeater/0.1.js","webpack:///./shared/components/reveal/0.1.js","webpack:///./shared/components/saved_messages/0.1.js","webpack:///./shared/components/scroll_area/0.1.js","webpack:///./shared/components/selectable_reveal/0.1.js","webpack:///./shared/js/staging-variables.js","webpack:///./skribble/components/canvas_screen.js","webpack:///./skribble/components/collision_warning.js","webpack:///./skribble/components/friend_screen.js","webpack:///./skribble/components/inbox_screen.js","webpack:///./skribble/components/item_drawer_screen.js","webpack:///./skribble/components/limit_warning.js","webpack:///./skribble/components/menu_screen.js","webpack:///./skribble/components/preview_screen.js","webpack:///./skribble/components/read_screen.js","webpack:///./skribble/components/save_menu.js","webpack:///./skribble/components/send_screen.js","webpack:///./skribble/components/sent_screen.js","webpack:///./skribble/components/title_screen.js","webpack:///./skribble/config.game.js","webpack:///./skribble/index.js","webpack:///../~/shortid/index.js","webpack:///../~/shortid/lib/decode.js","webpack:///../~/shortid/lib/encode.js","webpack:///../~/shortid/lib/index.js","webpack:///../~/shortid/lib/is-valid.js","webpack:///../~/shortid/lib/random/random-byte-browser.js","webpack:///../~/shortid/lib/random/random-from-seed.js","webpack:///../~/shortid/lib/util/cluster-worker-id-browser.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","apply","key","hasOwn","join","hasOwnProperty","undefined","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","source","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_classnames","_classnames2","Selectable","_skoash$Component","this","_this","state","selectFunction","select","start","selectClass","highlight","selectOnStart","setState","started","bootstrap","correctAnswers","requireForComplete","filter","ref","refs","correct","bin","list","getAll","selectHelper","e","dataRef","isCorrect","closest","getAttribute","answers","indexOf","allowDeselect","selectRespond","onSelect","chooseOne","dataTarget","updateGameState","path","data","completeListOnClick","map","complete","getClass","li","className","getClassNames","checkComplete","every","Node","incomplete","renderBin","React","createElement","type","renderList","_this2","message","data-message","data-ref","render","onClick","bind","skoash","Component","defaultProps","_","defaults","noop","reset","shuffled","setCharacters","_alphabet_","alphabet","ORIGINAL","Error","unique","split","item","ind","arr","lastIndexOf","characters","setSeed","seed","randomFromSeed","previousSeed","shuffle","sourceArray","targetArray","r","nextValue","characterIndex","Math","floor","splice","getShuffled","lookup","index","alphabetShuffled","_defineProperty","_typeof","Symbol","iterator","_2","_3","Canvas","background","items","messages","offsetX","offsetY","active","valid","deleteItem","checkItem","deactivateItems","relayerItems","setValid","dom","ReactDOM","findDOMNode","width","offsetWidth","height","offsetHeight","getItems","left","top","scale","rotation","layer","corners","check","mime_type","remove","n","setItems","addItem","forEach","asset","cb","_this3","count","asset_type","trigger","name","media_id","then","d","reduce","v","src","maxInstances","exclude","_this4","tagName","deactivate","_this5","layers","sort","a","b","oldLayer","newLayer","relayer","isInBounds","can_overlap","some","util","doIntersect","x","y","getStyle","backgroundImage","renderItems","_this6","minDim","itemMinDim","renderMessages","_this7","messageMinDim","canvasWidth","canvasHeight","canvas","ACTIVE","preview","style","identity","_shortid","_shortid2","_4","_5","ItemDrawer","_Selectable","selectedItem","category","JSON","stringify","each","categoryName","selectButton","continueButton","cancelButton","cancelRespond","getCategory","categories","ANSWERED","values","getULClass","COMPLETE","white","toLowerCase","renderButtons","renderItemContent","content","thumb","find","subitem","Image","description","aVal","isNaN","window","parseInt","order","Infinity","bVal","ListItem","generate","img","scrollbarImg","shouldComponentUpdate","nextProps","nextState","quickCheck","itemsChanged","Draggable","startX","startY","endX","endY","zoom","mouseDown","mouseUp","moveEvent","touchStart","touchEnd","shouldDrag","markIncorrect","returnToStart","markCorrect","startEvent","pageX","pageY","rect","grabX","grabY","el","targetTouches","getBoundingClientRect","firstX","firstY","isFinite","dragging","return","dragRespond","attachMouseEvents","addEventListener","attachTouchEvents","endEvent","dropRespond","detachMouseEvents","removeEventListener","detachTouchEvents","setCorners","offsetLeft","offsetTop","offsetParent","componentDidMount","setZoom","transform","WebkitTransform","_classNames","draggable","children","EditableAsset","_Draggable","minScale","maxScale","lastValid","adjustScale","offScale","rotate","adjustRotation","offRotate","activate","setTimeout","_delete","parentNode","deltaX","deltaY","atan2","PI","delta","base","pow","max","min","center","distance","angle","cos","sin","getSize","image","onload","offset","maxDim","getLayer","attachEvents","componentDidUpdate","getButtonStyle","extraRotation","getAssetStyle","zIndex","getButtonsStyle","getClasses","DRAGGING","RETURN","INVALID","renderAsset","Inbox","status","read","UNREAD","friendKey","SENT","item-drawer","getStatusText","friends","gameState","timestamp","moment","utc","updated","local","friend","friend_id","_embedded","url","username","sent","format","emptyMessage","Screen","completeDelay","nextDelay","completeOnStart","hidePrev","Loader","Menu","invoke","ul","inactive","keys","gotoObj","isFinal","concat","toString","lastLevel","level","replace","menu","QuitScreen","_skoash$Screen","okay","cancel","close","renderAssets","assets","Audio","Repeater","renderContentList","amount","Reveal","openReveal","currentlyOpen","open","openMultiple","playAudio","completeOnOpen","autoClose","openTarget","onOpen","opts","prevMessage","silent","audio","play","onClose","closeRespond","openOnStart","media","voiceOver","componentWillReceiveProps","closeReveal","SavedMessages","SAVED","renderThumb","firstImg","rules","IMAGE","AREA","CONTENT","SCROLLBAR","SCROLLER","ScrollArea","scrollTop","areaScrollTop","scrollbarHeight","getEndY","getScrollerStyle","shouldRender","SelectableReveal","canSelectOnStart","reveal","incorrect","revealAll","allCorrect","renderSelectable","selectableList","selectableSelectClass","completeOnSelect","selectableCompleteOnSelect","selectableCheckComplete","randomizeList","randomizeSelectableList","renderReveal","revealList","revealAssets","revealCompleteOnOpen","revealCheckComplete","hide","hideReveal","ENVIRONMENT","MEDIA","CanvasScreen","hideNext","_6","_7","load","rightMenuList","send","setHasAssets","getData","hasAssets","addItems","mapRulesStringToNumbers","friend_to","setMenu","parseFloat","draft","getContainerClasses","canvas-container","BACKGROUND","HAS-ASSETS","renderContent","CollisionWarning","toggle","show","getToggleClassNames","FriendScreen","DEFAULT_PROFILE_IMAGE","recipient","goto","updateData","user","user_id","leave","drawer","suggestFriends","location","origin","save","renderOtter","copy","imageSrc","renderFriends","back","buttons","InboxScreen","inboxEmptyMessage","unreadEmptyMessage","readEmptyMessage","sentEmptyMessage","draftsEmptyMessage","getRevealList","readMessage","editMessage","inbox","outbox","saved","unread","skribbles","received","updateGameData","skribble","callback","ItemDrawerScreen","MenuScreen","PreviewScreen","classNameText","skribbleBox","box","leftMenu","rightMenu","leftMenuList","ReadScreen","sender","reply","created_by","creater","skribble_id","getSenderClassNames","HIDE","renderSender","renderBoxContent","SaveMenu","SendScreen","yourMessageTo","isReady","changeFriend","character","gift","header","changeFriendClick","SentScreen","createAnother","text","hasBeenSent","nextIndex","config","version","dimensions","ratio","_config","_config2","_title_screen","_title_screen2","_menu_screen","_menu_screen2","_friend_screen","_friend_screen2","_canvas_screen","_canvas_screen2","_item_drawer_screen","_item_drawer_screen2","_inbox_screen","_inbox_screen2","_preview_screen","_preview_screen2","_send_screen","_send_screen2","_sent_screen","_sent_screen2","_read_screen","_read_screen2","_save_menu","_save_menu2","_collision_warning","_collision_warning2","_limit_warning","_limit_warning2","SkribbleGame","_skoash$Game","getRules","respond","skramble","skribbleData","emit","game","navigator","loadSkribble","getMedia","pathArray","shift","eventManager","currentOpts","clone","showCollisionWarning","collisionWarning","openMenu","showLimitWarning","addRecipient","profile_image","clickRecipient","currentScreenIndex","saveButton","renderRecipient","Game","Skribble","screens","0","1","menus","quit","limitWarning","loader","onBootstrap","getFriends","throttle","getMediaOnReady","updateState","onReady","renderMenu","getGotoOpts","passData","getTriggerEvents","names","decode","substr","worker","encode","number","loopCounter","done","str","randomByte","seconds","Date","now","REDUCE_TIME","previousSeconds","counter","clusterWorkerId","seedValue","workerId","newCharacters","isValid","isShortId","len","crypto","getRandomValues","random","dest","Uint8Array","msCrypto","getNextValue","_seed_"],"mappings":"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","file":"skribble/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(18);\n\tmodule.exports = __webpack_require__(33);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t  Copyright (c) 2016 Jed Watson.\n\t  Licensed under the MIT License (MIT), see\n\t  http://jedwatson.github.io/classnames\n\t*/\n\t/* global define */\n\t\n\t(function () {\n\t\t'use strict';\n\t\n\t\tvar hasOwn = {}.hasOwnProperty;\n\t\n\t\tfunction classNames () {\n\t\t\tvar classes = [];\n\t\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\tvar arg = arguments[i];\n\t\t\t\tif (!arg) continue;\n\t\n\t\t\t\tvar argType = typeof arg;\n\t\n\t\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\t\tclasses.push(arg);\n\t\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn classes.join(' ');\n\t\t}\n\t\n\t\tif (typeof module !== 'undefined' && module.exports) {\n\t\t\tmodule.exports = classNames;\n\t\t} else if (true) {\n\t\t\t// register as 'classnames', consistent with npm package name\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t\t\t\treturn classNames;\n\t\t\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else {\n\t\t\twindow.classNames = classNames;\n\t\t}\n\t}());\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Selectable = function (_skoash$Component) {\n\t  _inherits(Selectable, _skoash$Component);\n\t\n\t  function Selectable() {\n\t    _classCallCheck(this, Selectable);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Selectable.__proto__ || Object.getPrototypeOf(Selectable)).call(this));\n\t\n\t    _this.state = {\n\t      classes: {},\n\t      selectFunction: _this.select\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Selectable, [{\n\t    key: 'start',\n\t    value: function start() {\n\t      _get(Selectable.prototype.__proto__ || Object.getPrototypeOf(Selectable.prototype), 'start', this).call(this);\n\t\n\t      var selectClass,\n\t          selectFunction,\n\t          classes = {};\n\t\n\t      selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n\t      selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\t\n\t      if (this.props.selectOnStart) {\n\t        classes[this.props.selectOnStart] = selectClass;\n\t      }\n\t\n\t      this.setState({\n\t        started: true,\n\t        classes: classes,\n\t        selectFunction: selectFunction,\n\t        selectClass: selectClass\n\t      });\n\t    }\n\t  }, {\n\t    key: 'bootstrap',\n\t    value: function bootstrap() {\n\t      _get(Selectable.prototype.__proto__ || Object.getPrototypeOf(Selectable.prototype), 'bootstrap', this).call(this);\n\t\n\t      var self = this;\n\t\n\t      var correctAnswers = this.requireForComplete.filter(function (ref) {\n\t        return self.refs[ref].props.correct;\n\t      });\n\t\n\t      if (correctAnswers.length > 0) {\n\t        this.requireForComplete = correctAnswers;\n\t      }\n\t\n\t      if (this.refs.bin) {\n\t        this.setState({\n\t          list: this.refs.bin.getAll()\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'selectHelper',\n\t    value: function selectHelper(e, classes) {\n\t      var ref,\n\t          dataRef,\n\t          target,\n\t          id,\n\t          isCorrect,\n\t          self = this;\n\t\n\t      target = e.target.closest('LI');\n\t\n\t      if (!target) return;\n\t\n\t      dataRef = target.getAttribute('data-ref');\n\t      ref = self.refs[dataRef];\n\t\n\t      isCorrect = ref && ref.props && ref.props.correct || !self.props.answers || !self.props.answers.length || self.props.answers.indexOf(dataRef) !== -1;\n\t\n\t      if (self.props.allowDeselect && classes[dataRef]) {\n\t        delete classes[dataRef];\n\t      } else if (isCorrect) {\n\t        classes[dataRef] = self.state.selectClass;\n\t      }\n\t\n\t      self.setState({\n\t        classes: classes\n\t      });\n\t\n\t      self.props.selectRespond.call(self, dataRef);\n\t      self.props.onSelect.call(self, dataRef);\n\t\n\t      if (self.props.chooseOne) {\n\t        self.requireForComplete = [dataRef];\n\t      }\n\t\n\t      if (self.props.dataTarget) {\n\t        self.updateGameState({\n\t          path: self.props.dataTarget,\n\t          data: {\n\t            target: ref\n\t          }\n\t        });\n\t      }\n\t\n\t      if (self.props.completeListOnClick) {\n\t        self.requireForComplete.map(function (key) {\n\t          if (key === id && self.refs[id]) {\n\t            self.refs[id].complete();\n\t          }\n\t        });\n\t      }\n\t\n\t      self.requireForComplete.map(function (key) {\n\t        if (key === dataRef && self.refs[key]) {\n\t          self.refs[key].complete();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'select',\n\t    value: function select(e) {\n\t      var classes = [];\n\t      this.selectHelper(e, classes);\n\t    }\n\t  }, {\n\t    key: 'highlight',\n\t    value: function highlight(e) {\n\t      var classes = this.state.classes;\n\t      this.selectHelper(e, classes);\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key, li) {\n\t      return (0, _classnames2.default)(li.props.className, this.state.classes[key], this.state.classes[li.props['data-ref']]);\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2.default)('selectable', _get(Selectable.prototype.__proto__ || Object.getPrototypeOf(Selectable.prototype), 'getClassNames', this).call(this));\n\t    }\n\t  }, {\n\t    key: 'checkComplete',\n\t    value: function checkComplete() {\n\t      var self = this,\n\t          complete;\n\t\n\t      if (this.props.checkComplete === false) return;\n\t\n\t      complete = self.requireForComplete.every(function (key) {\n\t        if (self.refs[key] instanceof Node) {\n\t          return true;\n\t        }\n\t        if (!self.refs[key].state || self.refs[key].state && !self.refs[key].state.complete) {\n\t          if (typeof self.refs[key].checkComplete === 'function') {\n\t            self.refs[key].checkComplete();\n\t          }\n\t          return false;\n\t        }\n\t        return true;\n\t      });\n\t\n\t      if (complete && !self.state.complete) {\n\t        self.complete();\n\t      } else if (self.state.started && !complete && self.state.complete) {\n\t        self.incomplete();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderBin',\n\t    value: function renderBin() {\n\t      if (!this.props.bin) return null;\n\t\n\t      return React.createElement(this.props.bin.type, _extends({}, this.props.bin.props, {\n\t        ref: 'bin'\n\t      }));\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var _this2 = this;\n\t\n\t      var list = this.props.list || this.state.list;\n\t      return list.map(function (li, key) {\n\t        var dataRef = li.props['data-ref'] || key;\n\t        var ref = li.ref || li.props.id || dataRef;\n\t        var message = li.props.message || '' + key;\n\t        return React.createElement(li.type, _extends({}, li.props, {\n\t          type: 'li',\n\t          className: _this2.getClass(key, li),\n\t          message: message,\n\t          'data-message': message,\n\t          'data-ref': dataRef,\n\t          ref: ref,\n\t          key: key\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        this.renderBin(),\n\t        React.createElement(\n\t          'ul',\n\t          { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t          this.renderList()\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Selectable;\n\t}(skoash.Component);\n\t\n\tSelectable.defaultProps = _.defaults({\n\t  list: [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)],\n\t  selectClass: 'SELECTED',\n\t  completeListOnClick: true,\n\t  selectRespond: _.noop,\n\t  onSelect: _.noop\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = Selectable;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar randomFromSeed = __webpack_require__(40);\n\t\n\tvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n\tvar alphabet;\n\tvar previousSeed;\n\t\n\tvar shuffled;\n\t\n\tfunction reset() {\n\t    shuffled = false;\n\t}\n\t\n\tfunction setCharacters(_alphabet_) {\n\t    if (!_alphabet_) {\n\t        if (alphabet !== ORIGINAL) {\n\t            alphabet = ORIGINAL;\n\t            reset();\n\t        }\n\t        return;\n\t    }\n\t\n\t    if (_alphabet_ === alphabet) {\n\t        return;\n\t    }\n\t\n\t    if (_alphabet_.length !== ORIGINAL.length) {\n\t        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n\t    }\n\t\n\t    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n\t       return ind !== arr.lastIndexOf(item);\n\t    });\n\t\n\t    if (unique.length) {\n\t        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n\t    }\n\t\n\t    alphabet = _alphabet_;\n\t    reset();\n\t}\n\t\n\tfunction characters(_alphabet_) {\n\t    setCharacters(_alphabet_);\n\t    return alphabet;\n\t}\n\t\n\tfunction setSeed(seed) {\n\t    randomFromSeed.seed(seed);\n\t    if (previousSeed !== seed) {\n\t        reset();\n\t        previousSeed = seed;\n\t    }\n\t}\n\t\n\tfunction shuffle() {\n\t    if (!alphabet) {\n\t        setCharacters(ORIGINAL);\n\t    }\n\t\n\t    var sourceArray = alphabet.split('');\n\t    var targetArray = [];\n\t    var r = randomFromSeed.nextValue();\n\t    var characterIndex;\n\t\n\t    while (sourceArray.length > 0) {\n\t        r = randomFromSeed.nextValue();\n\t        characterIndex = Math.floor(r * sourceArray.length);\n\t        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n\t    }\n\t    return targetArray.join('');\n\t}\n\t\n\tfunction getShuffled() {\n\t    if (shuffled) {\n\t        return shuffled;\n\t    }\n\t    shuffled = shuffle();\n\t    return shuffled;\n\t}\n\t\n\t/**\n\t * lookup shuffled letter\n\t * @param index\n\t * @returns {string}\n\t */\n\tfunction lookup(index) {\n\t    var alphabetShuffled = getShuffled();\n\t    return alphabetShuffled[index];\n\t}\n\t\n\tmodule.exports = {\n\t    characters: characters,\n\t    seed: setSeed,\n\t    lookup: lookup,\n\t    shuffled: getShuffled\n\t};\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(7);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Canvas = function (_skoash$Component) {\n\t  _inherits(Canvas, _skoash$Component);\n\t\n\t  function Canvas() {\n\t    _classCallCheck(this, Canvas);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this));\n\t\n\t    _this.state = {\n\t      background: null,\n\t      items: [],\n\t      messages: [],\n\t      offsetX: 0,\n\t      offsetY: 0,\n\t      active: false,\n\t      valid: true\n\t    };\n\t\n\t    _this.deleteItem = _this.deleteItem.bind(_this);\n\t    _this.checkItem = _this.checkItem.bind(_this);\n\t    _this.deactivateItems = _this.deactivateItems.bind(_this);\n\t    _this.relayerItems = _this.relayerItems.bind(_this);\n\t    _this.setValid = _this.setValid.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Canvas, [{\n\t    key: 'start',\n\t    value: function start() {\n\t      var dom = ReactDOM.findDOMNode(this);\n\t\n\t      _get(Canvas.prototype.__proto__ || Object.getPrototypeOf(Canvas.prototype), 'start', this).call(this);\n\t\n\t      this.setState({\n\t        width: dom.offsetWidth,\n\t        height: dom.offsetHeight\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getItems',\n\t    value: function getItems() {\n\t      var items,\n\t          messages,\n\t          self = this;\n\t\n\t      items = this.state.items.map(function (item, key) {\n\t        var state;\n\t\n\t        if (!self.refs['item-' + key]) return item;\n\t\n\t        state = self.refs['item-' + key].state;\n\t\n\t        item.state = {\n\t          left: _.floor(state.left, 14),\n\t          top: _.floor(state.top, 14),\n\t          scale: _.floor(state.scale, 14),\n\t          rotation: _.floor(state.rotation, 14),\n\t          layer: state.layer,\n\t          valid: state.valid,\n\t          corners: state.corners\n\t        };\n\t\n\t        item.check = state.check;\n\t        item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\t\n\t        return item;\n\t      });\n\t\n\t      messages = this.state.messages.map(function (item, key) {\n\t        var state;\n\t\n\t        if (!self.refs['message-' + key]) return item;\n\t\n\t        state = self.refs['message-' + key].state;\n\t\n\t        item.state = {\n\t          left: _.floor(state.left, 14),\n\t          top: _.floor(state.top, 14),\n\t          scale: _.floor(state.scale, 14),\n\t          rotation: _.floor(state.rotation, 14),\n\t          layer: state.layer,\n\t          valid: state.valid,\n\t          corners: state.corners\n\t        };\n\t\n\t        item.check = state.check;\n\t        item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\t\n\t        return item;\n\t      });\n\t\n\t      _.remove(items, function (n) {\n\t        return !n;\n\t      });\n\t\n\t      _.remove(messages, function (n) {\n\t        return !n;\n\t      });\n\t\n\t      return {\n\t        background: this.state.background,\n\t        items: items,\n\t        messages: messages\n\t      };\n\t    }\n\t  }, {\n\t    key: 'reset',\n\t    value: function reset() {\n\t      this.setState({\n\t        background: null,\n\t        items: [],\n\t        messages: []\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setItems',\n\t    value: function setItems(message) {\n\t      var _this2 = this;\n\t\n\t      if (message) {\n\t        /*\n\t         *\n\t         * This makes sure the EditableAssets get cleared.\n\t         *\n\t         * This prevents the new assets from inheriting\n\t         * state from the old assets.\n\t         *\n\t         */\n\t        this.setState({\n\t          background: null,\n\t          items: [],\n\t          messages: []\n\t        }, function () {\n\t          _this2.addItem(message.background);\n\t          message.items.forEach(function (asset) {\n\t            _this2.addItem(asset);\n\t          });\n\t          message.messages.forEach(function (asset) {\n\t            _this2.addItem(asset);\n\t          });\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'addItem',\n\t    value: function addItem(asset, cb) {\n\t      var _this3 = this;\n\t\n\t      var items, messages, index, count;\n\t\n\t      if (!asset) return;\n\t\n\t      if (asset.asset_type === 'background') {\n\t        this.setState({\n\t          background: asset\n\t        }, function () {\n\t          skoash.trigger('emit', {\n\t            name: 'getMedia',\n\t            'media_id': asset.media_id\n\t          }).then(function (d) {\n\t            var background = _this3.state.background;\n\t            background.check = d.check;\n\t            background.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t            _this3.setState({\n\t              background: background\n\t            }, cb);\n\t          });\n\t        });\n\t      } else if (asset.asset_type === 'item') {\n\t        items = this.state.items;\n\t\n\t        count = _.reduce(items, function (c, v) {\n\t          if (asset.src === v.src) c++;\n\t          return c;\n\t        }, 1);\n\t\n\t        if (count > this.props.maxInstances) {\n\t          skoash.trigger('openMenu', {\n\t            id: 'limitWarning'\n\t          });\n\t          return;\n\t        }\n\t\n\t        items.push(asset);\n\t        index = items.indexOf(asset);\n\t\n\t        this.setState({\n\t          items: items\n\t        }, function () {\n\t          skoash.trigger('emit', {\n\t            name: 'getMedia',\n\t            'media_id': asset.media_id\n\t          }).then(function (d) {\n\t            asset.check = d.check;\n\t            asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t            items[index] = asset;\n\t            _this3.setState({\n\t              items: items\n\t            }, cb);\n\t          });\n\t        });\n\t      } else if (asset.asset_type === 'message') {\n\t        messages = this.state.messages;\n\t\n\t        count = _.reduce(items, function (c, v) {\n\t          if (asset.src === v.src) c++;\n\t          return c;\n\t        }, 1);\n\t\n\t        if (count > this.props.maxInstances) return;\n\t\n\t        messages.push(asset);\n\t        index = messages.indexOf(asset);\n\t\n\t        this.setState({\n\t          messages: messages\n\t        }, function () {\n\t          skoash.trigger('emit', {\n\t            name: 'getMedia',\n\t            'media_id': asset.media_id\n\t          }).then(function (d) {\n\t            asset.check = d.check;\n\t            asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t            messages[index] = asset;\n\t            _this3.setState({\n\t              messages: messages\n\t            }, cb);\n\t          });\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'deleteItem',\n\t    value: function deleteItem(key, type) {\n\t      var items;\n\t\n\t      items = this.state[type + 's'];\n\t      delete items[key];\n\t\n\t      this.setState(_defineProperty({}, type + 's', items));\n\t    }\n\t  }, {\n\t    key: 'deactivateItems',\n\t    value: function deactivateItems(exclude, type) {\n\t      var _this4 = this;\n\t\n\t      if ((typeof exclude === 'undefined' ? 'undefined' : _typeof(exclude)) === 'object' && exclude.target) {\n\t        if (exclude.target.tagName !== 'LI') return;\n\t        this.setState({\n\t          active: false\n\t        });\n\t        if (!this.state.valid) {\n\t          skoash.trigger('passData', {\n\t            name: 'showCollisionWarning'\n\t          });\n\t        }\n\t      }\n\t\n\t      if (typeof exclude === 'number') {\n\t        this.setState({\n\t          active: true\n\t        });\n\t      }\n\t\n\t      this.state.items.map(function (item, key) {\n\t        if ((key !== exclude || type !== 'item') && _this4.refs['item-' + key]) {\n\t          _this4.refs['item-' + key].deactivate();\n\t        }\n\t      });\n\t\n\t      this.state.messages.map(function (item, key) {\n\t        if ((key !== exclude || type !== 'message') && _this4.refs['message-' + key]) {\n\t          _this4.refs['message-' + key].deactivate();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'relayerItems',\n\t    value: function relayerItems(type) {\n\t      var _this5 = this;\n\t\n\t      var layers = [];\n\t\n\t      this.state[type + 's'].map(function (item, key) {\n\t        var layer;\n\t\n\t        layer = _this5.refs[type + '-' + key].state.layer;\n\t\n\t        if (layers.indexOf(layer) === -1) {\n\t          layers.push(layer);\n\t        }\n\t      });\n\t\n\t      layers.sort(function (a, b) {\n\t        return a < b;\n\t      });\n\t\n\t      this.state[type + 's'].map(function (item, key) {\n\t        var oldLayer, newLayer;\n\t\n\t        oldLayer = _this5.refs[type + '-' + key].state.layer;\n\t        newLayer = type === 'message' ? 10000 : 1000;\n\t        newLayer = newLayer - layers.indexOf(oldLayer);\n\t\n\t        _this5.refs[type + '-' + key].relayer(newLayer);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'checkItem',\n\t    value: function checkItem(key, type) {\n\t      var self = this;\n\t\n\t      return !self.refs[type + '-' + key].state.corners.length || self.isInBounds(key, type) && (self.refs[type + '-' + key].state.can_overlap || !self.state[type + 's'].some(function (item, index) {\n\t        return key !== index && !self.refs[type + '-' + index].state.can_overlap && self.refs[type + '-' + index].state.corners.length && skoash.util.doIntersect(self.refs[type + '-' + key].state.corners, self.refs[type + '-' + index].state.corners);\n\t      }));\n\t    }\n\t  }, {\n\t    key: 'isInBounds',\n\t    value: function isInBounds(key, type) {\n\t      return !this.state.width || !this.state.height || !(\n\t      // box to left\n\t      skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: 0, y: -this.state.height }, { x: 0, y: 2 * this.state.height }, { x: -this.state.width, y: 2 * this.state.height }, { x: -this.state.width, y: -this.state.height }]) ||\n\t      // box above\n\t      skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: -this.state.width, y: 0 }, { x: 2 * this.state.width, y: 0 }, { x: 2 * this.state.width, y: -this.state.height }, { x: this.state.width, y: -this.state.height }]) ||\n\t      // box to right\n\t      skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: this.state.width, y: -this.state.height }, { x: this.state.width, y: 2 * this.state.height }, { x: 2 * this.state.width, y: 2 * this.state.height }, { x: 2 * this.state.width, y: -this.state.height }]) ||\n\t      // box below\n\t      skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: -this.state.width, y: this.state.height }, { x: 2 * this.state.width, y: this.state.height }, { x: 2 * this.state.width, y: 2 * this.state.height }, { x: -this.state.width, y: 2 * this.state.height }]));\n\t    }\n\t  }, {\n\t    key: 'setValid',\n\t    value: function setValid(valid) {\n\t      this.setState({\n\t        valid: valid\n\t      });\n\t\n\t      this.props.setValid.call(this, valid);\n\t    }\n\t  }, {\n\t    key: 'getStyle',\n\t    value: function getStyle() {\n\t      if (!this.state.background) return;\n\t\n\t      return {\n\t        backgroundImage: 'url(' + this.state.background.src + ')'\n\t      };\n\t    }\n\t  }, {\n\t    key: 'renderItems',\n\t    value: function renderItems() {\n\t      var _this6 = this;\n\t\n\t      var self = this;\n\t\n\t      return this.state.items.map(function (item, key) {\n\t        return React.createElement(_3.default, _extends({}, item, {\n\t          'data-ref': key,\n\t          minDim: _this6.props.itemMinDim,\n\t          deleteItem: self.deleteItem,\n\t          checkItem: self.checkItem,\n\t          deactivateItems: self.deactivateItems,\n\t          relayerItems: self.relayerItems,\n\t          setValid: self.setValid,\n\t          ref: 'item-' + key,\n\t          key: key\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderMessages',\n\t    value: function renderMessages() {\n\t      var _this7 = this;\n\t\n\t      var self = this;\n\t\n\t      return this.state.messages.map(function (item, key) {\n\t        return React.createElement(_3.default, _extends({}, item, {\n\t          'data-ref': key,\n\t          minDim: _this7.props.messageMinDim,\n\t          deleteItem: self.deleteItem,\n\t          checkItem: self.checkItem,\n\t          deactivateItems: self.deactivateItems,\n\t          relayerItems: self.relayerItems,\n\t          setValid: self.setValid,\n\t          canvasWidth: _this7.state.width,\n\t          canvasHeight: _this7.state.height,\n\t          ref: 'message-' + key,\n\t          key: key\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2.default)({\n\t        canvas: true,\n\t        ACTIVE: !this.props.preview && this.state.active\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'ul',\n\t        {\n\t          className: this.getClassNames(),\n\t          style: this.getStyle(),\n\t          onClick: this.deactivateItems\n\t        },\n\t        this.renderItems(),\n\t        this.renderMessages()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Canvas;\n\t}(skoash.Component);\n\t\n\tCanvas.defaultProps = _.defaults({\n\t  maxInstances: 5,\n\t  setValid: _.identity\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = Canvas;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _shortid = __webpack_require__(34);\n\t\n\tvar _shortid2 = _interopRequireDefault(_shortid);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _4 = __webpack_require__(16);\n\t\n\tvar _5 = _interopRequireDefault(_4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar ItemDrawer = function (_Selectable) {\n\t  _inherits(ItemDrawer, _Selectable);\n\t\n\t  function ItemDrawer() {\n\t    _classCallCheck(this, ItemDrawer);\n\t\n\t    return _possibleConstructorReturn(this, (ItemDrawer.__proto__ || Object.getPrototypeOf(ItemDrawer)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(ItemDrawer, [{\n\t    key: 'start',\n\t    value: function start() {\n\t      var items,\n\t          selectedItem,\n\t          selectClass,\n\t          selectFunction,\n\t          classes = {},\n\t          self = this;\n\t\n\t      selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n\t      selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\t\n\t      items = self.props.data || [];\n\t\n\t      if (self.state.category && items[self.state.category]) {\n\t        items = items[self.state.category].items;\n\t      }\n\t\n\t      selectedItem = JSON.stringify(self.props.selectedItem);\n\t\n\t      _.each(items, function (item, key) {\n\t        if (self.props.selectedItem && JSON.stringify(item) === selectedItem) {\n\t          classes[key] = selectClass;\n\t        }\n\t      });\n\t\n\t      if (this.props.selectOnStart) {\n\t        classes[this.props.selectOnStart] = selectClass;\n\t      }\n\t\n\t      this.setState({\n\t        started: true,\n\t        classes: classes,\n\t        selectClass: selectClass,\n\t        selectFunction: selectFunction,\n\t        categoryName: '',\n\t        category: ''\n\t      });\n\t\n\t      _.each(self.refs, function (ref) {\n\t        if (typeof ref.start === 'function') ref.start();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'selectHelper',\n\t    value: function selectHelper(e) {\n\t      var li,\n\t          message,\n\t          key,\n\t          type,\n\t          categoryName,\n\t          classes = [];\n\t\n\t      li = e.target.closest('LI');\n\t      if (!li) return;\n\t\n\t      key = li.getAttribute('data-ref');\n\t      if (!this.refs[key]) return;\n\t\n\t      type = this.refs[key].props.item.asset_type;\n\t      if (!type) return;\n\t\n\t      if (type === 'folder') {\n\t        categoryName = this.refs[key].props.item.name;\n\t        this.setState({\n\t          category: key,\n\t          categoryName: categoryName\n\t        });\n\t      } else {\n\t        message = this.refs[key].props.item;\n\t        classes[key] = this.props.selectClass;\n\t\n\t        this.setState({\n\t          message: message,\n\t          classes: classes\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'selectButton',\n\t    value: function selectButton() {\n\t      if (typeof this.props.selectRespond === 'function' && this.state.message) {\n\t        this.props.selectRespond(this.state.message);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'continueButton',\n\t    value: function continueButton() {\n\t      if (typeof this.props.selectRespond === 'function') {\n\t        this.props.selectRespond({});\n\t      }\n\t    }\n\t  }, {\n\t    key: 'cancelButton',\n\t    value: function cancelButton() {\n\t      if (typeof this.props.cancelRespond === 'function') {\n\t        this.props.cancelRespond.call(this);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getCategory',\n\t    value: function getCategory() {\n\t      if (this.state.categoryName || this.props.categoryName) {\n\t        return this.state.categoryName || this.props.categoryName;\n\t      }\n\t\n\t      if (this.props.categories && this.props.categories.length) {\n\t        return this.props.categories[this.props.categories.length - 1];\n\t      }\n\t      return '';\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2.default)({\n\t        'ANSWERED': _.values(this.state.classes).indexOf(this.state.selectClass) !== -1\n\t      }, this.props.className, 'item-drawer-component');\n\t    }\n\t  }, {\n\t    key: 'getULClass',\n\t    value: function getULClass() {\n\t      return (0, _classnames2.default)('item-drawer', {\n\t        COMPLETE: this.state.complete\n\t      }, this.props.categories ? this.props.categories.join(' ') : '');\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key, item) {\n\t      return (0, _classnames2.default)(this.state.classes[key] || '', {\n\t        white: item && item.name && item.name.toLowerCase()[item.name.length - 1] === 'w'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderButtons',\n\t    value: function renderButtons() {\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'buttons' },\n\t        React.createElement('button', { className: 'select', onClick: this.selectButton.bind(this) }),\n\t        React.createElement('button', { className: 'continue', onClick: this.continueButton.bind(this) }),\n\t        React.createElement('button', { className: 'cancel', onClick: this.cancelButton.bind(this) })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderItemContent',\n\t    value: function renderItemContent(item) {\n\t      var content = [],\n\t          thumb,\n\t          src;\n\t\n\t      if (item.src || item.thumb) {\n\t        src = item.thumb || item.src;\n\t      } else if (item.items) {\n\t        if (!_.isArray(item.items)) {\n\t          item.items = _.values(item.items);\n\t        }\n\t\n\t        thumb = _.find(item.items, function (subitem) {\n\t          if (subitem.name === '_thumb') return true;\n\t        });\n\t\n\t        if (thumb) src = thumb.thumb || thumb.src;\n\t\n\t        if (!src && item.items[0]) src = item.items[0].thumb || item.items[0].src;\n\t      }\n\t\n\t      if (src) {\n\t        content.push(React.createElement(skoash.Image, { src: src, key: 0 }));\n\t      }\n\t\n\t      if (item.name && (item.asset_type === 'folder' || item.asset_type === 'friend')) {\n\t        content.push(React.createElement(\n\t          'span',\n\t          { className: 'name', key: 1 },\n\t          item.name\n\t        ));\n\t      }\n\t\n\t      if (item.description) {\n\t        content.push(React.createElement(\n\t          'span',\n\t          { className: 'description', key: 2 },\n\t          item.description\n\t        ));\n\t      }\n\t\n\t      return content;\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var _this2 = this;\n\t\n\t      var items,\n\t          self = this;\n\t\n\t      if (!this.props.data) return;\n\t\n\t      items = this.props.data;\n\t\n\t      if (this.state.category && items[this.state.category]) {\n\t        items = items[this.state.category].items;\n\t      }\n\t\n\t      if (!_.isArray(items)) {\n\t        items = _.values(items);\n\t      }\n\t\n\t      return items.sort(function (a, b) {\n\t        var aVal = !_.isNaN(window.parseInt(a.order)) ? window.parseInt(a.order) : Infinity;\n\t        var bVal = !_.isNaN(window.parseInt(b.order)) ? window.parseInt(b.order) : Infinity;\n\t        if (aVal === bVal) {\n\t          if (a.name < b.name) return -1;\n\t          if (a.name > b.name) return 1;\n\t          return 0;\n\t        }\n\t        if (aVal < bVal) return -1;\n\t        return 1;\n\t      }).filter(function (item) {\n\t        return item.name !== '_thumb';\n\t      }).map(function (item, key) {\n\t        return React.createElement(\n\t          skoash.ListItem,\n\t          {\n\t            className: _this2.getClass(key, item),\n\t            ref: key,\n\t            'data-ref': key,\n\t            item: item,\n\t            key: _shortid2.default.generate()\n\t          },\n\t          self.renderItemContent(item)\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { className: this.getClassNames() },\n\t        React.createElement(\n\t          'div',\n\t          { className: 'item-drawer-container' },\n\t          React.createElement(\n\t            'h2',\n\t            null,\n\t            this.getCategory()\n\t          ),\n\t          React.createElement(\n\t            _5.default,\n\t            { ref: 'scroll-area', img: this.props.scrollbarImg },\n\t            React.createElement(\n\t              'ul',\n\t              { ref: 'list', className: this.getULClass(), onClick: this.state.selectFunction.bind(this) },\n\t              this.renderList()\n\t            )\n\t          )\n\t        ),\n\t        this.renderButtons()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ItemDrawer;\n\t}(_3.default);\n\t\n\tItemDrawer.defaultProps = _.defaults({\n\t  scrollbarImg: '',\n\t  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n\t    var items, quickCheck, itemsChanged;\n\t\n\t    items = nextProps.data || [];\n\t    if (nextState.category && items[nextState.category]) {\n\t      items = items[nextState.category].items;\n\t    }\n\t\n\t    quickCheck = _.reduce(items, function (a, i) {\n\t      return a + i.name;\n\t    }, '');\n\t\n\t    itemsChanged = this.quickCheck !== quickCheck;\n\t    if (itemsChanged) this.quickCheck = quickCheck;\n\t\n\t    return itemsChanged || nextProps.categoryName !== this.props.categoryName || JSON.stringify(this.state.classes) !== JSON.stringify(nextState.classes);\n\t  }\n\t}, _3.default.defaultProps);\n\t\n\texports.default = ItemDrawer;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Draggable = function (_skoash$Component) {\n\t  _inherits(Draggable, _skoash$Component);\n\t\n\t  function Draggable() {\n\t    _classCallCheck(this, Draggable);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Draggable.__proto__ || Object.getPrototypeOf(Draggable)).call(this));\n\t\n\t    _this.state = {\n\t      startX: 0,\n\t      startY: 0,\n\t      endX: 0,\n\t      endY: 0,\n\t      zoom: 1\n\t    };\n\t\n\t    _this.mouseDown = _this.mouseDown.bind(_this);\n\t    _this.mouseUp = _this.mouseUp.bind(_this);\n\t\n\t    _this.moveEvent = _this.moveEvent.bind(_this);\n\t\n\t    _this.touchStart = _this.touchStart.bind(_this);\n\t    _this.touchEnd = _this.touchEnd.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Draggable, [{\n\t    key: 'shouldDrag',\n\t    value: function shouldDrag() {\n\t      return true;\n\t    }\n\t  }, {\n\t    key: 'incomplete',\n\t    value: function incomplete() {\n\t      this.markIncorrect();\n\t      this.returnToStart();\n\t\n\t      _get(Draggable.prototype.__proto__ || Object.getPrototypeOf(Draggable.prototype), 'incomplete', this).call(this);\n\t    }\n\t  }, {\n\t    key: 'markCorrect',\n\t    value: function markCorrect() {\n\t      this.setState({\n\t        correct: true\n\t      });\n\t    }\n\t  }, {\n\t    key: 'markIncorrect',\n\t    value: function markIncorrect() {\n\t      this.setState({\n\t        correct: false\n\t      });\n\t    }\n\t  }, {\n\t    key: 'startEvent',\n\t    value: function startEvent(e, cb) {\n\t      var pageX, pageY, rect, startX, startY, endX, endY, grabX, grabY;\n\t\n\t      if (e.target !== this.refs.el) return;\n\t      if (!this.shouldDrag()) return;\n\t\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        pageX = e.targetTouches[0].pageX;\n\t        pageY = e.targetTouches[0].pageY;\n\t        rect = e.target.getBoundingClientRect();\n\t        e = e.targetTouches[0];\n\t        e.offsetX = pageX - rect.left;\n\t        e.offsetY = pageY - rect.top;\n\t      }\n\t\n\t      grabX = e.offsetX;\n\t      grabY = e.offsetY;\n\t\n\t      startX = endX = e.pageX - grabX;\n\t      startY = endY = e.pageY - grabY;\n\t\n\t      if (!this.state.firstX) {\n\t        this.setState({\n\t          firstX: startX,\n\t          firstY: startY\n\t        });\n\t      }\n\t\n\t      if (!this.props.return) {\n\t        startX = _.isFinite(this.state.grabX) ? this.state.startX + this.state.grabX - grabX : startX;\n\t        startY = _.isFinite(this.state.grabY) ? this.state.startY + this.state.grabY - grabY : startY;\n\t      }\n\t\n\t      this.setState({\n\t        dragging: true,\n\t        return: false,\n\t        startX: startX,\n\t        startY: startY,\n\t        grabX: grabX,\n\t        grabY: grabY,\n\t        endX: endX,\n\t        endY: endY\n\t      });\n\t\n\t      if (typeof this.props.dragRespond === 'function') {\n\t        this.props.dragRespond(this.props.message);\n\t      }\n\t\n\t      if (typeof cb === 'function') {\n\t        cb.call(this);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'attachMouseEvents',\n\t    value: function attachMouseEvents() {\n\t      window.addEventListener('mousemove', this.moveEvent);\n\t      window.addEventListener('mouseup', this.mouseUp);\n\t    }\n\t  }, {\n\t    key: 'attachTouchEvents',\n\t    value: function attachTouchEvents() {\n\t      window.addEventListener('touchmove', this.moveEvent);\n\t      window.addEventListener('touchend', this.touchEnd);\n\t    }\n\t  }, {\n\t    key: 'mouseDown',\n\t    value: function mouseDown(e) {\n\t      this.startEvent(e, this.attachMouseEvents);\n\t    }\n\t  }, {\n\t    key: 'touchStart',\n\t    value: function touchStart(e) {\n\t      this.startEvent(e, this.attachTouchEvents);\n\t    }\n\t  }, {\n\t    key: 'moveEvent',\n\t    value: function moveEvent(e) {\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        e.pageX = e.targetTouches[0].pageX;\n\t        e.pageY = e.targetTouches[0].pageY;\n\t      }\n\t\n\t      this.setState({\n\t        endX: e.pageX - this.state.grabX,\n\t        endY: e.pageY - this.state.grabY\n\t      });\n\t    }\n\t  }, {\n\t    key: 'returnToStart',\n\t    value: function returnToStart() {\n\t      if (this.state.firstX) {\n\t        this.setState({\n\t          dragging: false,\n\t          return: true,\n\t          endX: this.state.firstX,\n\t          endY: this.state.firstY\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'endEvent',\n\t    value: function endEvent(cb) {\n\t      this.dropRespond();\n\t\n\t      if (this.props.return) {\n\t        this.returnToStart();\n\t      } else {\n\t        this.setState({\n\t          dragging: false,\n\t          return: this.state.return\n\t        });\n\t      }\n\t\n\t      if (typeof cb === 'function') {\n\t        cb.call(this);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'detachMouseEvents',\n\t    value: function detachMouseEvents() {\n\t      window.removeEventListener('mousemove', this.moveEvent);\n\t      window.removeEventListener('mouseup', this.mouseUp);\n\t    }\n\t  }, {\n\t    key: 'detachTouchEvents',\n\t    value: function detachTouchEvents() {\n\t      window.removeEventListener('touchmove', this.moveEvent);\n\t      window.removeEventListener('touchend', this.touchEnd);\n\t    }\n\t  }, {\n\t    key: 'mouseUp',\n\t    value: function mouseUp() {\n\t      this.endEvent(this.detachMouseEvents);\n\t    }\n\t  }, {\n\t    key: 'touchEnd',\n\t    value: function touchEnd() {\n\t      this.endEvent(this.detachTouchEvents);\n\t    }\n\t  }, {\n\t    key: 'dropRespond',\n\t    value: function dropRespond() {\n\t      var corners;\n\t\n\t      corners = this.setCorners();\n\t\n\t      if (typeof this.props.dropRespond === 'function') {\n\t        this.props.dropRespond(this.props.message, corners);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setCorners',\n\t    value: function setCorners() {\n\t      var top,\n\t          left,\n\t          width,\n\t          height,\n\t          el,\n\t          corners = [];\n\t\n\t      left = 0;\n\t      top = 0;\n\t      el = this.refs.el;\n\t      width = el.offsetWidth;\n\t      height = el.offsetHeight;\n\t\n\t      while (el) {\n\t        if (el.className.indexOf('screen') !== -1) {\n\t          break;\n\t        }\n\t\n\t        left += el.offsetLeft || 0;\n\t        top += el.offsetTop || 0;\n\t        el = el.offsetParent;\n\t      }\n\t\n\t      left += (this.state.endX - this.state.startX) / this.state.zoom;\n\t      top += (this.state.endY - this.state.startY) / this.state.zoom;\n\t\n\t      for (var i = 0; i < 4; i++) {\n\t        corners.push({\n\t          x: left + width * (i === 1 || i === 2 ? 1 : 0),\n\t          y: top + height * (i > 1 ? 1 : 0)\n\t        });\n\t      }\n\t\n\t      this.setState({\n\t        corners: corners\n\t      });\n\t\n\t      return corners;\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.bootstrap();\n\t    }\n\t  }, {\n\t    key: 'bootstrap',\n\t    value: function bootstrap() {\n\t      _get(Draggable.prototype.__proto__ || Object.getPrototypeOf(Draggable.prototype), 'bootstrap', this).call(this);\n\t\n\t      this.setZoom();\n\t\n\t      this.refs.el.addEventListener('mousedown', this.mouseDown);\n\t      this.refs.el.addEventListener('touchstart', this.touchStart);\n\t\n\t      window.addEventListener('resize', this.setZoom.bind(this));\n\t    }\n\t  }, {\n\t    key: 'setZoom',\n\t    value: function setZoom() {\n\t      var _this2 = this;\n\t\n\t      skoash.trigger('getState').then(function (state) {\n\t        _this2.setState({\n\t          zoom: state.scale\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getStyle',\n\t    value: function getStyle() {\n\t      var x, y;\n\t\n\t      x = (this.state.endX - this.state.startX) / this.state.zoom;\n\t      y = (this.state.endY - this.state.startY) / this.state.zoom;\n\t\n\t      return {\n\t        transform: 'translateX(' + x + 'px) translateY(' + y + 'px)',\n\t        WebkitTransform: 'translateX(' + x + 'px) translateY(' + y + 'px)'\n\t      };\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      var _classNames;\n\t\n\t      return (0, _classnames2.default)((_classNames = {\n\t        draggable: true\n\t      }, _defineProperty(_classNames, this.props.className, this.props.className), _defineProperty(_classNames, this.props.message, this.props.message), _defineProperty(_classNames, 'DRAGGING', this.state.dragging), _defineProperty(_classNames, 'RETURN', this.state.return), _defineProperty(_classNames, 'CORRECT', this.state.correct), _classNames), _get(Draggable.prototype.__proto__ || Object.getPrototypeOf(Draggable.prototype), 'getClassNames', this).call(this));\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        {\n\t          ref: 'el',\n\t          className: this.getClassNames(),\n\t          style: this.getStyle()\n\t        },\n\t        this.props.children\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Draggable;\n\t}(skoash.Component);\n\t\n\texports.default = Draggable;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(6);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar EditableAsset = function (_Draggable) {\n\t  _inherits(EditableAsset, _Draggable);\n\t\n\t  function EditableAsset() {\n\t    _classCallCheck(this, EditableAsset);\n\t\n\t    var _this = _possibleConstructorReturn(this, (EditableAsset.__proto__ || Object.getPrototypeOf(EditableAsset)).call(this));\n\t\n\t    _this.state = {\n\t      width: 0,\n\t      height: 0,\n\t      left: 0,\n\t      top: 0,\n\t      scale: .5,\n\t      minScale: .1,\n\t      maxScale: 1,\n\t      rotation: 0,\n\t      layer: 1000,\n\t      zoom: 1,\n\t      active: false,\n\t      valid: true,\n\t      corners: [],\n\t      lastValid: {}\n\t    };\n\t\n\t    _this.scale = _this.scale.bind(_this);\n\t    _this.adjustScale = _this.adjustScale.bind(_this);\n\t    _this.offScale = _this.offScale.bind(_this);\n\t\n\t    _this.rotate = _this.rotate.bind(_this);\n\t    _this.adjustRotation = _this.adjustRotation.bind(_this);\n\t    _this.offRotate = _this.offRotate.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(EditableAsset, [{\n\t    key: 'shouldDrag',\n\t    value: function shouldDrag() {\n\t      return this.state.active;\n\t    }\n\t  }, {\n\t    key: 'activate',\n\t    value: function activate() {\n\t      this.setState({\n\t        active: true\n\t      });\n\t\n\t      if (typeof this.props.deactivateItems === 'function') {\n\t        this.props.deactivateItems(this.props['data-ref'], this.props.asset_type);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'deactivate',\n\t    value: function deactivate() {\n\t      var _this2 = this;\n\t\n\t      if (!this.state.valid) {\n\t        this.setState({\n\t          left: this.state.lastValid.left || this.state.left,\n\t          top: this.state.lastValid.top || this.state.top,\n\t          scale: this.state.lastValid.scale || this.state.scale,\n\t          rotation: this.state.lastValid.rotation || this.state.rotation,\n\t          active: false\n\t        }, function () {\n\t          setTimeout(function () {\n\t            _this2.checkItem();\n\t          }, 0);\n\t        });\n\t      } else {\n\t        this.setState({\n\t          active: false\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'moveEvent',\n\t    value: function moveEvent(e) {\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        e.pageX = e.targetTouches[0].pageX;\n\t        e.pageY = e.targetTouches[0].pageY;\n\t      }\n\t\n\t      this.setState({\n\t        endX: e.pageX - this.state.grabX,\n\t        endY: e.pageY - this.state.grabY,\n\t        left: (e.pageX - this.state.grabX - this.state.startX) / this.state.zoom,\n\t        top: (e.pageY - this.state.grabY - this.state.startY) / this.state.zoom\n\t      });\n\t      this.checkItem();\n\t    }\n\t  }, {\n\t    key: 'delete',\n\t    value: function _delete() {\n\t      if (typeof this.props.deleteItem === 'function') {\n\t        this.props.deleteItem(this.props['data-ref'], this.props.asset_type);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'rotate',\n\t    value: function rotate() {\n\t      this.refs.el.parentNode.addEventListener('mousemove', this.adjustRotation);\n\t      this.refs.el.parentNode.addEventListener('mouseup', this.offRotate);\n\t\n\t      this.refs.el.parentNode.addEventListener('touchmove', this.adjustRotation);\n\t      this.refs.el.parentNode.addEventListener('touchend', this.offRotate);\n\t    }\n\t  }, {\n\t    key: 'offRotate',\n\t    value: function offRotate() {\n\t      this.refs.el.parentNode.removeEventListener('mousemove', this.adjustRotation);\n\t      this.refs.el.parentNode.removeEventListener('mouseup', this.offRotate);\n\t\n\t      this.refs.el.parentNode.removeEventListener('touchmove', this.adjustRotation);\n\t      this.refs.el.parentNode.removeEventListener('touchend', this.offRotate);\n\t    }\n\t  }, {\n\t    key: 'adjustRotation',\n\t    value: function adjustRotation(e) {\n\t      var rotation, deltaX, deltaY;\n\t\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        e.pageX = e.targetTouches[0].pageX;\n\t        e.pageY = e.targetTouches[0].pageY;\n\t      }\n\t\n\t      deltaX = e.pageX / this.state.zoom - this.refs.li.offsetParent.offsetLeft - (this.state.left + this.state.width / 2);\n\t      deltaY = e.pageY / this.state.zoom - this.refs.li.offsetParent.offsetTop - (this.state.top + this.state.height / 2);\n\t\n\t      rotation = Math.atan2(deltaY, deltaX) + Math.PI / 4 % (2 * Math.PI);\n\t\n\t      this.setState({\n\t        rotation: rotation\n\t      });\n\t\n\t      this.checkItem();\n\t    }\n\t  }, {\n\t    key: 'layer',\n\t    value: function layer() {\n\t      var layer,\n\t          self = this;\n\t\n\t      layer = this.state.layer - 1;\n\t\n\t      this.setState({\n\t        layer: layer\n\t      }, function () {\n\t        if (typeof self.props.relayerItems === 'function') {\n\t          self.props.relayerItems(self.props.asset_type);\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'relayer',\n\t    value: function relayer(layer) {\n\t      this.setState({\n\t        layer: layer\n\t      });\n\t    }\n\t  }, {\n\t    key: 'scale',\n\t    value: function scale() {\n\t      this.refs.el.parentNode.addEventListener('mousemove', this.adjustScale);\n\t      this.refs.el.parentNode.addEventListener('mouseup', this.offScale);\n\t\n\t      this.refs.el.parentNode.addEventListener('touchmove', this.adjustScale);\n\t      this.refs.el.parentNode.addEventListener('touchend', this.offScale);\n\t    }\n\t  }, {\n\t    key: 'offScale',\n\t    value: function offScale() {\n\t      this.refs.el.parentNode.removeEventListener('mousemove', this.adjustScale);\n\t      this.refs.el.parentNode.removeEventListener('mouseup', this.offScale);\n\t\n\t      this.refs.el.parentNode.removeEventListener('touchmove', this.adjustScale);\n\t      this.refs.el.parentNode.removeEventListener('touchend', this.offScale);\n\t    }\n\t  }, {\n\t    key: 'adjustScale',\n\t    value: function adjustScale(e) {\n\t      var scale, deltaX, deltaY, delta, base;\n\t\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        e.pageX = e.targetTouches[0].pageX;\n\t        e.pageY = e.targetTouches[0].pageY;\n\t      }\n\t\n\t      deltaX = e.pageX / this.state.zoom - this.refs.li.offsetParent.offsetLeft / this.state.zoom - (this.state.left + this.state.width / 2);\n\t      deltaY = e.pageY / this.state.zoom - this.refs.li.offsetParent.offsetTop / this.state.zoom - (this.state.top + this.state.height / 2);\n\t\n\t      delta = Math.pow(Math.pow(deltaX, 2) + Math.pow(deltaY, 2), .5);\n\t      base = Math.pow(Math.pow(this.state.width / 2, 2) + Math.pow(this.state.height / 2, 2), .5);\n\t\n\t      scale = Math.max(Math.min(delta / base, 1), this.state.minScale);\n\t\n\t      this.setState({\n\t        scale: scale\n\t      });\n\t\n\t      this.checkItem();\n\t    }\n\t  }, {\n\t    key: 'checkItem',\n\t    value: function checkItem() {\n\t      var _this3 = this;\n\t\n\t      this.setCorners(function () {\n\t        var valid;\n\t\n\t        if (typeof _this3.props.checkItem === 'function') {\n\t          valid = _this3.props.checkItem(_this3.props['data-ref'], _this3.props.asset_type);\n\t\n\t          if (valid) {\n\t            _this3.setState({\n\t              valid: valid,\n\t              lastValid: new Object(_this3.state)\n\t            });\n\t          } else {\n\t            _this3.setState({\n\t              valid: valid\n\t            });\n\t          }\n\t\n\t          _this3.props.setValid.call(_this3, valid);\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setCorners',\n\t    value: function setCorners(cb) {\n\t      var center,\n\t          distance,\n\t          angle,\n\t          corners = [];\n\t\n\t      center = {\n\t        x: this.state.left + this.state.width / 2,\n\t        y: this.state.top + this.state.height / 2\n\t      };\n\t\n\t      distance = Math.pow(Math.pow(this.state.width * this.state.scale / 2, 2) + Math.pow(this.state.height * this.state.scale / 2, 2), .5);\n\t\n\t      for (var i = 0; i < 4; i++) {\n\t        angle = this.state.rotation;\n\t        angle += i < 2 ? 0 : Math.PI;\n\t        angle += Math.pow(-1, i) * Math.atan2(this.state.height, this.state.width);\n\t\n\t        corners.push({\n\t          x: center.x + distance * Math.cos(angle),\n\t          y: center.y + distance * Math.sin(angle)\n\t        });\n\t      }\n\t\n\t      this.setState({\n\t        corners: corners\n\t      }, cb);\n\t    }\n\t  }, {\n\t    key: 'getSize',\n\t    value: function getSize() {\n\t      var _this4 = this;\n\t\n\t      var image,\n\t          self = this;\n\t\n\t      image = new Image();\n\t\n\t      image.onload = function () {\n\t        var offset, left, top, width, height, minDim, maxDim, minScale, maxScale, scale;\n\t\n\t        minDim = _this4.props.minDim || 40;\n\t        maxDim = _this4.props.maxDim || 400;\n\t        left = _this4.state.left;\n\t        top = _this4.state.top;\n\t        width = image.width;\n\t        height = image.height;\n\t\n\t        minScale = Math.max(minDim / width, minDim / height);\n\t        maxScale = Math.min(maxDim / width, maxDim / height, _this4.state.maxScale);\n\t        scale = self.props.state && self.props.state.scale ? self.props.state.scale : Math.max(Math.min(self.state.scale, maxScale), minScale);\n\t\n\t        if ((!_this4.state.height || !_this4.state.width) && !_this4.state.left && !_this4.state.top) {\n\t          left = (_this4.props.canvasWidth - width) / 2;\n\t          top = (_this4.props.canvasHeight - height) / 2;\n\t        }\n\t\n\t        offset = _this4.refs.el.getBoundingClientRect();\n\t\n\t        self.setState({\n\t          left: left,\n\t          top: top,\n\t          startX: offset.left,\n\t          startY: offset.top,\n\t          grabX: width / 2 * scale,\n\t          grabY: height / 2 * scale,\n\t          width: width,\n\t          height: height,\n\t          minScale: minScale,\n\t          scale: scale\n\t        }, function () {\n\t          self.activate();\n\t          self.checkItem();\n\t        });\n\t      };\n\t\n\t      image.src = this.props.src;\n\t    }\n\t  }, {\n\t    key: 'getLayer',\n\t    value: function getLayer() {\n\t      var layer = 1000;\n\t\n\t      if (this.props.state && this.props.state.layer) {\n\t        layer = this.props.state.layer;\n\t      } else {\n\t        switch (this.props.asset_type) {\n\t          case 'background':\n\t            layer = 1;\n\t            break;\n\t          case 'message':\n\t            layer = 10000;\n\t            break;\n\t        }\n\t      }\n\t\n\t      this.setState({\n\t        layer: layer\n\t      });\n\t    }\n\t  }, {\n\t    key: 'attachEvents',\n\t    value: function attachEvents() {\n\t      this.refs.scale.addEventListener('mousedown', this.scale);\n\t      this.refs.rotate.addEventListener('mousedown', this.rotate);\n\t\n\t      this.refs.scale.addEventListener('touchstart', this.scale);\n\t      this.refs.rotate.addEventListener('touchstart', this.rotate);\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.bootstrap();\n\t    }\n\t  }, {\n\t    key: 'bootstrap',\n\t    value: function bootstrap() {\n\t      var _this5 = this;\n\t\n\t      _get(EditableAsset.prototype.__proto__ || Object.getPrototypeOf(EditableAsset.prototype), 'bootstrap', this).call(this);\n\t\n\t      if (this.props.state) {\n\t        this.setState(this.props.state);\n\t      }\n\t\n\t      this.getSize();\n\t      this.getLayer();\n\t\n\t      this.attachEvents();\n\t\n\t      skoash.trigger('emit', {\n\t        name: 'getMedia',\n\t        'media_id': this.props.media_id\n\t      }).then(function (d) {\n\t        _this5.setState(d, function () {\n\t          _this5.checkItem();\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'componentDidUpdate',\n\t    value: function componentDidUpdate() {\n\t      this.attachEvents();\n\t    }\n\t  }, {\n\t    key: 'getButtonStyle',\n\t    value: function getButtonStyle() {\n\t      var extraRotation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\t\n\t      var style,\n\t          transform = '';\n\t\n\t      transform += 'scale(' + 1 / this.state.scale + ') ';\n\t      transform += 'rotate(' + (-this.state.rotation - extraRotation) + 'rad) ';\n\t\n\t      style = {\n\t        transform: transform\n\t      };\n\t\n\t      return style;\n\t    }\n\t  }, {\n\t    key: 'getAssetStyle',\n\t    value: function getAssetStyle() {\n\t      var style,\n\t          transform = '';\n\t\n\t      transform += 'scale(' + this.state.scale + ') ';\n\t      transform += 'rotate(' + this.state.rotation + 'rad) ';\n\t\n\t      style = {\n\t        backgroundImage: 'url(\"' + this.props.src + '\")',\n\t        width: this.state.width,\n\t        height: this.state.height,\n\t        left: this.state.left,\n\t        top: this.state.top,\n\t        transform: transform,\n\t        zIndex: this.state.layer\n\t      };\n\t\n\t      return style;\n\t    }\n\t  }, {\n\t    key: 'getButtonsStyle',\n\t    value: function getButtonsStyle() {\n\t      var style,\n\t          transform = '';\n\t\n\t      transform += 'scale(' + this.state.scale + ') ';\n\t      transform += 'rotate(' + this.state.rotation + 'rad) ';\n\t\n\t      style = {\n\t        width: this.state.width,\n\t        height: this.state.height,\n\t        left: this.state.left,\n\t        top: this.state.top,\n\t        transform: transform\n\t      };\n\t\n\t      return style;\n\t    }\n\t  }, {\n\t    key: 'getClasses',\n\t    value: function getClasses() {\n\t      return (0, _classnames2.default)({\n\t        DRAGGING: this.state.dragging,\n\t        RETURN: this.state.return,\n\t        ACTIVE: this.state.active,\n\t        INVALID: !this.state.valid\n\t      }, 'editable-asset', this.props.asset_type);\n\t    }\n\t  }, {\n\t    key: 'renderAsset',\n\t    value: function renderAsset() {\n\t      return React.createElement('div', {\n\t        ref: 'el',\n\t        className: 'asset',\n\t        style: this.getAssetStyle()\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderButtons',\n\t    value: function renderButtons() {\n\t      return React.createElement(\n\t        'div',\n\t        {\n\t          className: 'buttons',\n\t          style: this.getButtonsStyle()\n\t        },\n\t        React.createElement('button', {\n\t          className: 'delete',\n\t          style: this.getButtonStyle(),\n\t          onClick: this.delete.bind(this)\n\t        }),\n\t        React.createElement('button', {\n\t          ref: 'rotate',\n\t          className: 'rotate',\n\t          style: this.getButtonStyle()\n\t        }),\n\t        React.createElement('button', {\n\t          className: 'layer',\n\t          onClick: this.layer.bind(this),\n\t          style: this.getButtonStyle()\n\t        }),\n\t        React.createElement('button', {\n\t          ref: 'scale',\n\t          className: 'scale',\n\t          style: this.getButtonStyle(1.5708)\n\t        })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'li',\n\t        {\n\t          ref: 'li',\n\t          className: this.getClasses(),\n\t          onClick: this.activate.bind(this)\n\t        },\n\t        this.renderAsset(),\n\t        this.renderButtons()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return EditableAsset;\n\t}(_3.default);\n\t\n\tEditableAsset.defaultProps = _.defaults({\n\t  canvasWidth: 1280,\n\t  canvasHeight: 720,\n\t  setValid: _.identity\n\t}, _3.default.defaultProps);\n\t\n\texports.default = EditableAsset;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Inbox = function (_Selectable) {\n\t  _inherits(Inbox, _Selectable);\n\t\n\t  function Inbox() {\n\t    _classCallCheck(this, Inbox);\n\t\n\t    return _possibleConstructorReturn(this, (Inbox.__proto__ || Object.getPrototypeOf(Inbox)).call(this));\n\t  }\n\t\n\t  _createClass(Inbox, [{\n\t    key: 'selectHelper',\n\t    value: function selectHelper(e) {\n\t      var li,\n\t          message,\n\t          key,\n\t          classes = [];\n\t\n\t      li = e.target.closest('LI');\n\t\n\t      if (!li) return;\n\t\n\t      key = li.getAttribute('data-ref');\n\t\n\t      if (!this.refs[key]) return;\n\t\n\t      message = this.refs[key].props.item;\n\t      classes[key] = this.props.selectClass;\n\t\n\t      this.setState({\n\t        message: message,\n\t        classes: classes\n\t      });\n\t\n\t      if (message.status !== 'COMPLETE') return;\n\t\n\t      if (typeof this.props.selectRespond === 'function' && message) {\n\t        this.props.selectRespond(message);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key, read) {\n\t      return (0, _classnames2.default)(this.state.classes[key], {\n\t        UNREAD: this.props.friendKey === 'created_by' && !read,\n\t        SENT: this.props.friendKey !== 'created_by'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2.default)({\n\t        'item-drawer': true,\n\t        COMPLETE: this.state.complete\n\t      }, this.props.className);\n\t    }\n\t  }, {\n\t    key: 'getStatusText',\n\t    value: function getStatusText(item) {\n\t      if (!item.status || item.status === 'COMPLETE') return '';\n\t      return item.status;\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var _this2 = this;\n\t\n\t      var items, friends;\n\t\n\t      if (!this.props.data || !this.props.data.items) return;\n\t\n\t      items = this.props.data.items;\n\t\n\t      if (!items.length) {\n\t        return React.createElement(\n\t          'li',\n\t          { className: 'empty' },\n\t          this.props.emptyMessage\n\t        );\n\t      }\n\t\n\t      friends = _.get(this.props.gameState, 'data.user', []);\n\t\n\t      return _.map(items, function (item, key) {\n\t        var timestamp, image, name;\n\t        timestamp = moment.utc(item.updated).local();\n\t        key = 'message-' + key;\n\t\n\t        if (item[_this2.props.friendKey] == null) return null;\n\t\n\t        _.each(friends, function (friend) {\n\t          if (item[_this2.props.friendKey] === friend.friend_id) {\n\t            image = friend._embedded.image ? friend._embedded.image.url : '';\n\t            name = friend.username;\n\t          }\n\t        });\n\t\n\t        if (!name) {\n\t          skoash.trigger('getData', {\n\t            name: 'getFriend',\n\t            'friend_id': item[_this2.props.friendKey]\n\t          });\n\t          name = '';\n\t        }\n\t\n\t        if (_this2.props.friendKey === 'friend_to') {\n\t          item.sent = true;\n\t        }\n\t\n\t        return React.createElement(\n\t          skoash.ListItem,\n\t          {\n\t            className: _this2.getClass(key, item.read),\n\t            ref: key,\n\t            'data-ref': key,\n\t            item: item,\n\t            key: key\n\t          },\n\t          React.createElement(skoash.Image, { src: image }),\n\t          React.createElement(\n\t            'span',\n\t            { className: 'username' + (name.length > 15 ? ' long' : '') },\n\t            name\n\t          ),\n\t          React.createElement(\n\t            'span',\n\t            { className: 'timestamp' },\n\t            React.createElement(\n\t              'span',\n\t              { className: 'date' },\n\t              timestamp.format('MM.DD.YY')\n\t            ),\n\t            React.createElement(\n\t              'span',\n\t              { className: 'time' },\n\t              timestamp.format('h:mm a')\n\t            )\n\t          ),\n\t          React.createElement(\n\t            'span',\n\t            { className: 'status ' + item.status },\n\t            _this2.getStatusText(item)\n\t          )\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'ul',\n\t          { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t          this.renderList()\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Inbox;\n\t}(_3.default);\n\t\n\tInbox.defaultProps = _.defaults({\n\t  friendKey: 'created_by',\n\t  gameState: {}\n\t}, _3.default.defaultProps);\n\t\n\texports.default = Inbox;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = function (props, ref, key) {\n\t  return React.createElement(\n\t    skoash.Screen,\n\t    _extends({}, props, {\n\t      ref: ref,\n\t      key: key,\n\t      id: \"ios-splash\",\n\t      checkComplete: false,\n\t      completeDelay: 6000,\n\t      nextDelay: 3000,\n\t      completeOnStart: true,\n\t      hidePrev: true\n\t    }),\n\t    React.createElement(skoash.Image, { className: \"hidden\", src: \"../shared/images/ios_start_ball.png\" }),\n\t    React.createElement(skoash.Image, { className: \"hidden\", src: \"../shared/images/ios_start_ball_anim.gif\" })\n\t  );\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Loader = function (_skoash$Component) {\n\t  _inherits(Loader, _skoash$Component);\n\t\n\t  function Loader() {\n\t    _classCallCheck(this, Loader);\n\t\n\t    return _possibleConstructorReturn(this, (Loader.__proto__ || Object.getPrototypeOf(Loader)).call(this));\n\t  }\n\t\n\t  _createClass(Loader, [{\n\t    key: \"render\",\n\t    value: function render() {\n\t      return React.createElement(\n\t        \"div\",\n\t        { id: \"loader\", className: \"center\" },\n\t        React.createElement(\n\t          \"div\",\n\t          { className: \"group\" },\n\t          React.createElement(\n\t            \"h2\",\n\t            null,\n\t            \"Loading!\"\n\t          ),\n\t          React.createElement(\n\t            \"div\",\n\t            { className: \"spinner animated\" },\n\t            React.createElement(\n\t              \"div\",\n\t              { className: \"spinner animated\" },\n\t              React.createElement(\"div\", { className: \"spinner animated\" })\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Loader;\n\t}(skoash.Component);\n\t\n\texports.default = Loader;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Menu = function (_Selectable) {\n\t  _inherits(Menu, _Selectable);\n\t\n\t  function Menu() {\n\t    _classCallCheck(this, Menu);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Menu.__proto__ || Object.getPrototypeOf(Menu)).call(this));\n\t\n\t    _this.state = {\n\t      active: false,\n\t      selectClass: 'SELECTED',\n\t      classes: {}\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Menu, [{\n\t    key: 'deactivate',\n\t    value: function deactivate() {\n\t      this.setState({\n\t        active: false\n\t      });\n\t\n\t      _.each(this.refs, function (ref) {\n\t        _.invoke(ref, 'deactivate');\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onClick',\n\t    value: function onClick(e) {\n\t      var li,\n\t          ul,\n\t          dom,\n\t          message,\n\t          active = false,\n\t          classes = [];\n\t\n\t      li = e.target.closest('LI');\n\t\n\t      if (!li) return;\n\t\n\t      ul = li.closest('UL');\n\t      dom = ReactDOM.findDOMNode(this); // eslint-disable-line no-undef\n\t\n\t      if (ul !== dom) return;\n\t\n\t      message = li.getAttribute('data-ref');\n\t\n\t      if (this.state.classes[message] !== this.state.selectClass) {\n\t        classes[message] = this.state.selectClass;\n\t        active = !this.props.inactive;\n\t      }\n\t\n\t      this.setState({\n\t        classes: classes,\n\t        active: active\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderItems',\n\t    value: function renderItems() {\n\t      var _this2 = this;\n\t\n\t      var self = this;\n\t\n\t      if (_typeof(this.props.items) !== 'object') return;\n\t\n\t      return Object.keys(this.props.items).map(function (key) {\n\t        var item, onClick, gotoObj, categories, isFinal;\n\t\n\t        categories = _this2.props.categories ? [].concat(_this2.props.categories) : [];\n\t        categories.push(key);\n\t\n\t        item = _this2.props.items[key];\n\t\n\t        isFinal = _typeof(item.items) !== 'object' || Object.prototype.toString.call(item.items) === '[object Array]' && item.items[0] && !item.items[0].items || typeof self.props.lastLevel === 'number' && self.props.lastLevel === self.props.level;\n\t\n\t        if (isFinal) {\n\t          gotoObj = {\n\t            index: 'item-drawer',\n\t            categories: categories,\n\t            categoryName: item.name\n\t          };\n\t          onClick = skoash.trigger.bind(null, 'goto', gotoObj);\n\t        }\n\t\n\t        return React.createElement(\n\t          skoash.ListItem,\n\t          {\n\t            className: self.getClass(key),\n\t            'data-ref': key,\n\t            ref: key,\n\t            key: key,\n\t            onClick: onClick\n\t          },\n\t          React.createElement(\n\t            'span',\n\t            null,\n\t            item.name || key\n\t          ),\n\t          function () {\n\t            if (isFinal) return;\n\t            return React.createElement(Menu, {\n\t              ref: 'menu-' + key,\n\t              categories: categories,\n\t              items: item.items,\n\t              inactive: true,\n\t              level: (self.props.level || 0) + 1,\n\t              lastLevel: self.props.lastLevel\n\t            });\n\t          }()\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key) {\n\t      var _classNames;\n\t\n\t      return (0, _classnames2.default)((_classNames = {}, _defineProperty(_classNames, key.replace(' ', '-'), true), _defineProperty(_classNames, this.state.classes[key] || '', true), _classNames));\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2.default)({\n\t        menu: true,\n\t        ACTIVE: this.state.active\n\t      }, this.props.className);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'ul',\n\t        {\n\t          className: this.getClassNames(),\n\t          onClick: this.onClick.bind(this)\n\t        },\n\t        this.renderItems()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Menu;\n\t}(_3.default);\n\t\n\texports.default = Menu;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar QuitScreen = function (_skoash$Screen) {\n\t  _inherits(QuitScreen, _skoash$Screen);\n\t\n\t  function QuitScreen() {\n\t    _classCallCheck(this, QuitScreen);\n\t\n\t    return _possibleConstructorReturn(this, (QuitScreen.__proto__ || Object.getPrototypeOf(QuitScreen)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(QuitScreen, [{\n\t    key: 'okay',\n\t    value: function okay() {\n\t      skoash.trigger('quit');\n\t    }\n\t  }, {\n\t    key: 'cancel',\n\t    value: function cancel() {\n\t      this.close();\n\t      skoash.trigger('menuClose', {\n\t        id: this.props.id\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderAssets',\n\t    value: function renderAssets() {\n\t      if (this.props.assets) {\n\t        return this.props.assets.map(function (asset, key) {\n\t          return React.createElement(skoash.Audio, _extends({}, asset.props, {\n\t            ref: asset.ref || asset.props['data-ref'] || 'asset-' + key,\n\t            key: key,\n\t            'data-ref': key\n\t          }));\n\t        });\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { id: this.props.id, className: 'screen ' + this.getClassNames() },\n\t        this.renderAssets(),\n\t        React.createElement(\n\t          'div',\n\t          { className: 'center' },\n\t          React.createElement(\n\t            'div',\n\t            { className: 'frame' },\n\t            React.createElement(\n\t              'h2',\n\t              null,\n\t              'Are you sure you',\n\t              React.createElement('br', null),\n\t              'want to quit?'\n\t            ),\n\t            React.createElement(\n\t              'h3',\n\t              null,\n\t              'Your game progress will be saved'\n\t            ),\n\t            React.createElement('button', { className: 'quit-yes', onClick: this.okay.bind(this) }),\n\t            React.createElement('button', { className: 'quit-no', onClick: this.cancel.bind(this) })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return QuitScreen;\n\t}(skoash.Screen);\n\t\n\texports.default = React.createElement(QuitScreen, {\n\t  id: 'quit'\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Repeater = function (_skoash$Component) {\n\t  _inherits(Repeater, _skoash$Component);\n\t\n\t  function Repeater() {\n\t    _classCallCheck(this, Repeater);\n\t\n\t    return _possibleConstructorReturn(this, (Repeater.__proto__ || Object.getPrototypeOf(Repeater)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(Repeater, [{\n\t    key: 'renderContentList',\n\t    value: function renderContentList() {\n\t      var a = [];\n\t      for (var i = 0; i < this.props.amount; i++) {\n\t        a.push(React.createElement(this.props.item, _extends({ key: i }, this.props.props[i])));\n\t      }\n\t      return a;\n\t    }\n\t  }]);\n\t\n\t  return Repeater;\n\t}(skoash.Component);\n\t\n\tRepeater.defaultProps = _.defaults({\n\t  amount: 1,\n\t  item: 'div',\n\t  props: []\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = Repeater;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Reveal = function (_skoash$Component) {\n\t  _inherits(Reveal, _skoash$Component);\n\t\n\t  function Reveal() {\n\t    _classCallCheck(this, Reveal);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Reveal.__proto__ || Object.getPrototypeOf(Reveal)).call(this));\n\t\n\t    _this.state = {\n\t      openReveal: '',\n\t      currentlyOpen: []\n\t    };\n\t\n\t    _this.index = 0;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Reveal, [{\n\t    key: 'incomplete',\n\t    value: function incomplete() {\n\t      this.setState({\n\t        openReveal: '',\n\t        currentlyOpen: []\n\t      });\n\t\n\t      _get(Reveal.prototype.__proto__ || Object.getPrototypeOf(Reveal.prototype), 'incomplete', this).call(this);\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(message) {\n\t      var self = this;\n\t      var currentlyOpen = this.props.openMultiple ? this.state.currentlyOpen.concat(message) : [message];\n\t\n\t      self.setState({\n\t        open: true,\n\t        currentlyOpen: currentlyOpen,\n\t        openReveal: '' + message\n\t      });\n\t\n\t      self.playAudio(message);\n\t\n\t      if (self.props.completeOnOpen) {\n\t        self.complete();\n\t      } else {\n\t        self.requireForComplete.map(function (key) {\n\t          if (key === message && self.refs[key]) {\n\t            self.refs[key].complete();\n\t          }\n\t        });\n\t      }\n\t\n\t      if (self.props.autoClose) {\n\t        setTimeout(function () {\n\t          self.close();\n\t        }, 2000);\n\t      }\n\t\n\t      if (self.props.openTarget) {\n\t        self.updateGameState({\n\t          path: self.props.openTarget,\n\t          data: {\n\t            open: '' + message\n\t          }\n\t        });\n\t      }\n\t\n\t      self.props.onOpen.call(self, message);\n\t    }\n\t  }, {\n\t    key: 'close',\n\t    value: function close() {\n\t      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t      var prevMessage = this.state.openReveal;\n\t      var currentlyOpen = this.state.currentlyOpen;\n\t      currentlyOpen.splice(currentlyOpen.indexOf(prevMessage), 1);\n\t\n\t      this.setState({\n\t        open: false,\n\t        openReveal: '',\n\t        currentlyOpen: currentlyOpen\n\t      });\n\t\n\t      if (!opts.silent && this.audio['close-sound']) {\n\t        this.audio['close-sound'].play();\n\t      }\n\t\n\t      this.props.onClose.call(this);\n\t\n\t      if (typeof this.props.closeRespond === 'function') {\n\t        this.props.closeRespond(prevMessage);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'start',\n\t    value: function start() {\n\t      _get(Reveal.prototype.__proto__ || Object.getPrototypeOf(Reveal.prototype), 'start', this).call(this);\n\t      if (this.props.openOnStart != null) {\n\t        this.open(this.props.openOnStart);\n\t      } else if (this.props.start && typeof this.props.start === 'function') {\n\t        this.props.start.call(this);\n\t      } else {\n\t        this.close({ silent: true });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'playAudio',\n\t    value: function playAudio(message) {\n\t      var _this2 = this;\n\t\n\t      var messages;\n\t\n\t      if ('' + parseInt(message, 10) === message) {\n\t        message = 'asset-' + message;\n\t      }\n\t\n\t      if (!message) return;\n\t\n\t      if (this.audio['open-sound']) {\n\t        this.audio['open-sound'].play();\n\t      }\n\t\n\t      if (typeof message === 'string') {\n\t        messages = message.split(' ');\n\t        messages.map(function (audio) {\n\t          if (_this2.audio[audio]) {\n\t            _this2.audio[audio].play();\n\t          } else if (_this2.media[audio] && typeof _this2.media[audio].play === 'function') {\n\t            _this2.media[audio].play();\n\t          }\n\t        });\n\t      } else {\n\t        if (this.audio.voiceOver[message]) {\n\t          this.audio.voiceOver[message].play();\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderAssets',\n\t    value: function renderAssets() {\n\t      if (this.props.assets) {\n\t        return this.props.assets.map(function (asset, key) {\n\t          var ref = asset.ref || asset.props['data-ref'] || 'asset-' + key;\n\t          return React.createElement(asset.type, _extends({}, asset.props, {\n\t            'data-ref': key,\n\t            ref: ref,\n\t            key: key\n\t          }));\n\t        });\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var _this3 = this;\n\t\n\t      var list = this.props.list;\n\t\n\t      return list.map(function (li, key) {\n\t        var dataRef = li.props['data-ref'] || key;\n\t        var ref = li.ref || dataRef;\n\t        return React.createElement(li.type, _extends({}, li.props, {\n\t          type: 'li',\n\t          className: _this3.getClass(li, key),\n\t          'data-ref': dataRef,\n\t          ref: ref,\n\t          key: key\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'componentWillReceiveProps',\n\t    value: function componentWillReceiveProps(props) {\n\t      _get(Reveal.prototype.__proto__ || Object.getPrototypeOf(Reveal.prototype), 'componentWillReceiveProps', this).call(this, props);\n\t\n\t      if (props.openReveal != null && props.openReveal !== this.props.openReveal) {\n\t        this.open(props.openReveal);\n\t      }\n\t\n\t      if (props.closeReveal === true && props.closeReveal !== this.props.closeReveal) {\n\t        this.close();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(li, key) {\n\t      var classes = '';\n\t\n\t      if (li.props.className) classes = li.props.className;\n\t\n\t      if (this.state.currentlyOpen.indexOf(key) !== -1 || this.state.currentlyOpen.indexOf('' + key) !== -1 || this.state.currentlyOpen.indexOf(li.props['data-ref']) !== -1 || this.state.currentlyOpen.indexOf(li.ref) !== -1) {\n\t        classes = (0, _classnames2.default)(classes, 'OPEN');\n\t      }\n\t\n\t      return classes;\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      var classes,\n\t          open = 'open-none ';\n\t\n\t      if (this.state.open) {\n\t        open = '';\n\t        this.state.currentlyOpen.forEach(function (ref) {\n\t          open += 'open-' + ref + ' ';\n\t        });\n\t        open += 'OPEN';\n\t      }\n\t\n\t      classes = (0, _classnames2.default)('reveal', open, _get(Reveal.prototype.__proto__ || Object.getPrototypeOf(Reveal.prototype), 'getClassNames', this).call(this));\n\t\n\t      return classes;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { className: this.getClassNames() },\n\t        this.renderAssets(),\n\t        React.createElement(\n\t          'div',\n\t          null,\n\t          React.createElement(\n\t            'ul',\n\t            null,\n\t            this.renderList()\n\t          ),\n\t          React.createElement('button', { className: 'close-reveal', onClick: this.close.bind(this) })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Reveal;\n\t}(skoash.Component);\n\t\n\tReveal.defaultProps = _.defaults({\n\t  list: [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)],\n\t  openMultiple: true,\n\t  onOpen: _.noop,\n\t  onClose: _.noop\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = Reveal;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _ = __webpack_require__(2);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SavedMessages = function (_Selectable) {\n\t  _inherits(SavedMessages, _Selectable);\n\t\n\t  function SavedMessages() {\n\t    _classCallCheck(this, SavedMessages);\n\t\n\t    return _possibleConstructorReturn(this, (SavedMessages.__proto__ || Object.getPrototypeOf(SavedMessages)).call(this));\n\t  }\n\t\n\t  _createClass(SavedMessages, [{\n\t    key: 'selectHelper',\n\t    value: function selectHelper(e) {\n\t      var li,\n\t          message,\n\t          key,\n\t          classes = [];\n\t\n\t      li = e.target.closest('LI');\n\t\n\t      if (!li) return;\n\t\n\t      key = li.getAttribute('data-ref');\n\t\n\t      message = this.refs[key].props.item;\n\t      classes[key] = this.state.selectClass;\n\t\n\t      this.setState({\n\t        message: message,\n\t        classes: classes\n\t      }, this.selectRespond.bind(this));\n\t    }\n\t  }, {\n\t    key: 'selectRespond',\n\t    value: function selectRespond() {\n\t      if (typeof this.props.selectRespond === 'function' && this.state.message) {\n\t        this.props.selectRespond(this.state.message);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key) {\n\t      var _classNames;\n\t\n\t      return (0, _classnames2.default)((_classNames = {}, _defineProperty(_classNames, this.state.classes[key] || '', true), _defineProperty(_classNames, 'DRAFT', true), _classNames));\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2.default)({\n\t        'item-drawer': true,\n\t        SAVED: true,\n\t        COMPLETE: this.state.complete\n\t      }, this.props.className);\n\t    }\n\t  }, {\n\t    key: 'renderThumb',\n\t    value: function renderThumb(item) {\n\t      var firstImg, background;\n\t\n\t      background = item && item.rules && item.rules.background && item.rules.background.src ? item.rules.background.src : '';\n\t\n\t      firstImg = item && item.rules && item.rules.items && item.rules.items[0] && item.rules.items[0].src ? item.rules.items[0].src : item && item.rules && item.rules.messages && item.rules.messages[0] && item.rules.messages[0].src ? item.rules.messages[0].src : '';\n\t\n\t      return React.createElement(\n\t        'div',\n\t        {\n\t          className: 'thumbnail',\n\t          style: {\n\t            backgroundImage: 'url(' + background + ')'\n\t          }\n\t        },\n\t        React.createElement(skoash.Image, { src: firstImg })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var items,\n\t          self = this;\n\t\n\t      if (!self.props.data || !self.props.data.items) return;\n\t\n\t      items = self.props.data.items;\n\t\n\t      if (!items.length) {\n\t        return React.createElement(\n\t          'li',\n\t          { className: 'empty' },\n\t          this.props.emptyMessage\n\t        );\n\t      }\n\t\n\t      return items.map(function (item, key) {\n\t        var timestamp = moment.utc(item.updated).local();\n\t        return React.createElement(\n\t          skoash.ListItem,\n\t          {\n\t            className: self.getClass(key),\n\t            ref: key,\n\t            'data-ref': key,\n\t            item: item,\n\t            key: key\n\t          },\n\t          self.renderThumb(item),\n\t          React.createElement(\n\t            'span',\n\t            { className: 'timestamp' },\n\t            React.createElement(\n\t              'span',\n\t              { className: 'date' },\n\t              timestamp.format('MM.DD.YY')\n\t            ),\n\t            React.createElement(\n\t              'span',\n\t              { className: 'time' },\n\t              timestamp.format('h:mm a')\n\t            )\n\t          )\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'ul',\n\t          { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t          this.renderList()\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SavedMessages;\n\t}(_2.default);\n\t\n\texports.default = SavedMessages;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar IMAGE = 'image';\n\tvar AREA = 'area';\n\tvar CONTENT = 'content';\n\tvar SCROLLBAR = 'scrollbar';\n\tvar SCROLLER = 'scroller';\n\t\n\tvar ScrollArea = function (_skoash$Component) {\n\t  _inherits(ScrollArea, _skoash$Component);\n\t\n\t  function ScrollArea() {\n\t    _classCallCheck(this, ScrollArea);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ScrollArea.__proto__ || Object.getPrototypeOf(ScrollArea)).call(this));\n\t\n\t    _this.state = _.defaults({\n\t      startY: 0,\n\t      endY: 0,\n\t      zoom: 1\n\t    }, _this.state);\n\t\n\t    _this.setZoom = _this.setZoom.bind(_this);\n\t\n\t    _this.mouseDown = _this.mouseDown.bind(_this);\n\t    _this.mouseUp = _this.mouseUp.bind(_this);\n\t\n\t    _this.moveEvent = _this.moveEvent.bind(_this);\n\t\n\t    _this.touchStart = _this.touchStart.bind(_this);\n\t    _this.touchEnd = _this.touchEnd.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ScrollArea, [{\n\t    key: 'bootstrap',\n\t    value: function bootstrap() {\n\t      var _this2 = this;\n\t\n\t      _get(ScrollArea.prototype.__proto__ || Object.getPrototypeOf(ScrollArea.prototype), 'bootstrap', this).call(this);\n\t\n\t      this.setZoom();\n\t      window.addEventListener('resize', this.setZoom);\n\t\n\t      this[AREA] = ReactDOM.findDOMNode(this.refs[AREA]);\n\t      this[CONTENT] = ReactDOM.findDOMNode(this.refs[CONTENT]);\n\t      this[SCROLLBAR] = ReactDOM.findDOMNode(this.refs[SCROLLBAR]);\n\t      this[SCROLLER] = ReactDOM.findDOMNode(this.refs[SCROLLER]);\n\t\n\t      this[AREA].scrollTop = 0;\n\t\n\t      this[AREA].addEventListener('scroll', function (e) {\n\t        var areaScrollTop, endY;\n\t\n\t        if (!e.target || _this2.dragging) return;\n\t\n\t        areaScrollTop = e.target.scrollTop;\n\t        endY = (_this2[SCROLLBAR].offsetHeight - _this2.props.scrollbarHeight) * (areaScrollTop / (_this2[CONTENT].offsetHeight - _this2[AREA].offsetHeight));\n\t\n\t        _this2.setState({\n\t          startY: 0,\n\t          endY: endY\n\t        });\n\t      });\n\t\n\t      this[SCROLLER].addEventListener('mousedown', this.mouseDown);\n\t      this[SCROLLER].addEventListener('touchstart', this.touchStart);\n\t    }\n\t  }, {\n\t    key: 'setZoom',\n\t    value: function setZoom() {\n\t      var _this3 = this;\n\t\n\t      skoash.trigger('getState').then(function (state) {\n\t        _this3.setState({\n\t          zoom: state.scale\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'mouseDown',\n\t    value: function mouseDown(e) {\n\t      this.startEvent(e, this.attachMouseEvents);\n\t    }\n\t  }, {\n\t    key: 'touchStart',\n\t    value: function touchStart(e) {\n\t      this.startEvent(e, this.attachTouchEvents);\n\t    }\n\t  }, {\n\t    key: 'startEvent',\n\t    value: function startEvent(e, cb) {\n\t      var startY, endY;\n\t\n\t      if (e.target !== this[SCROLLER]) return;\n\t\n\t      this.dragging = true;\n\t\n\t      e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\t\n\t      endY = this.getEndY(e);\n\t      startY = this.state.startY || endY;\n\t\n\t      this.setState({\n\t        startY: startY,\n\t        endY: endY\n\t      });\n\t\n\t      if (typeof cb === 'function') cb.call(this);\n\t    }\n\t  }, {\n\t    key: 'getEndY',\n\t    value: function getEndY(e) {\n\t      return Math.min(Math.max(e.pageY / this.state.zoom, this.state.startY), this.state.startY + this[SCROLLBAR].getBoundingClientRect().height / this.state.zoom - this.props.scrollbarHeight);\n\t    }\n\t  }, {\n\t    key: 'attachMouseEvents',\n\t    value: function attachMouseEvents() {\n\t      window.addEventListener('mousemove', this.moveEvent);\n\t      window.addEventListener('mouseup', this.mouseUp);\n\t    }\n\t  }, {\n\t    key: 'attachTouchEvents',\n\t    value: function attachTouchEvents() {\n\t      window.addEventListener('touchmove', this.moveEvent);\n\t      window.addEventListener('touchend', this.touchEnd);\n\t    }\n\t  }, {\n\t    key: 'moveEvent',\n\t    value: function moveEvent(e) {\n\t      var endY;\n\t\n\t      e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\t\n\t      endY = this.getEndY(e);\n\t\n\t      this[AREA].scrollTop = (endY - this.state.startY) * (this[CONTENT].offsetHeight - this[AREA].offsetHeight) / (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight);\n\t\n\t      this.setState({\n\t        endY: endY\n\t      });\n\t    }\n\t  }, {\n\t    key: 'mouseUp',\n\t    value: function mouseUp() {\n\t      this.dragging = false;\n\t      this.detachMouseEvents();\n\t    }\n\t  }, {\n\t    key: 'touchEnd',\n\t    value: function touchEnd() {\n\t      this.dragging = false;\n\t      this.detachTouchEvents();\n\t    }\n\t  }, {\n\t    key: 'detachMouseEvents',\n\t    value: function detachMouseEvents() {\n\t      window.removeEventListener('mousemove', this.moveEvent);\n\t      window.removeEventListener('mouseup', this.mouseUp);\n\t    }\n\t  }, {\n\t    key: 'detachTouchEvents',\n\t    value: function detachTouchEvents() {\n\t      window.removeEventListener('touchmove', this.moveEvent);\n\t      window.removeEventListener('touchend', this.touchEnd);\n\t    }\n\t  }, {\n\t    key: 'getScrollerStyle',\n\t    value: function getScrollerStyle() {\n\t      return {\n\t        backgroundImage: 'url(' + this.props.img + ')',\n\t        top: this.state.endY - this.state.startY\n\t      };\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2.default)('scroll-area', _get(ScrollArea.prototype.__proto__ || Object.getPrototypeOf(ScrollArea.prototype), 'getClassNames', this).call(this));\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      if (!this.props.shouldRender) return null;\n\t\n\t      return React.createElement(\n\t        this.props.type,\n\t        _extends({}, this.props, { className: this.getClassNames() }),\n\t        React.createElement(skoash.Image, { ref: IMAGE, className: 'hidden', src: this.props.img }),\n\t        React.createElement(\n\t          'div',\n\t          { ref: AREA, className: AREA },\n\t          React.createElement(\n\t            'div',\n\t            { ref: CONTENT, className: CONTENT },\n\t            this.renderContentList()\n\t          )\n\t        ),\n\t        React.createElement(\n\t          'div',\n\t          {\n\t            ref: SCROLLBAR,\n\t            className: SCROLLBAR\n\t          },\n\t          React.createElement('div', {\n\t            ref: SCROLLER,\n\t            className: SCROLLER,\n\t            style: this.getScrollerStyle()\n\t          })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ScrollArea;\n\t}(skoash.Component);\n\t\n\tScrollArea.defaultProps = _.defaults({\n\t  img: '',\n\t  scrollbarHeight: 100\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = ScrollArea;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _4 = __webpack_require__(14);\n\t\n\tvar _5 = _interopRequireDefault(_4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SelectableReveal = function (_skoash$Component) {\n\t  _inherits(SelectableReveal, _skoash$Component);\n\t\n\t  function SelectableReveal() {\n\t    _classCallCheck(this, SelectableReveal);\n\t\n\t    return _possibleConstructorReturn(this, (SelectableReveal.__proto__ || Object.getPrototypeOf(SelectableReveal)).call(this));\n\t  }\n\t\n\t  _createClass(SelectableReveal, [{\n\t    key: 'start',\n\t    value: function start() {\n\t      _get(SelectableReveal.prototype.__proto__ || Object.getPrototypeOf(SelectableReveal.prototype), 'start', this).call(this);\n\t      this.setState({\n\t        canSelectOnStart: this.props.canSelectOnStart\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(message) {\n\t      this.refs.reveal.open(message);\n\t    }\n\t  }, {\n\t    key: 'selectRespond',\n\t    value: function selectRespond(message) {\n\t      if (this.props.answers.length) {\n\t        if (this.props.answers.indexOf(message) === -1) {\n\t          if (this.audio.incorrect) this.audio.incorrect.play();\n\t          if (this.props.revealAll) {\n\t            if (typeof this.refs.reveal.open === 'function') {\n\t              this.open(message);\n\t            }\n\t          }\n\t        } else {\n\t          if (this.audio.correct) this.audio.correct.play();\n\t          if (typeof this.refs.reveal.open === 'function') {\n\t            this.open(message);\n\t          }\n\t        }\n\t      } else {\n\t        if (this.props.allCorrect && this.audio.correct) {\n\t          this.audio.correct.play();\n\t        }\n\t        if (typeof this.refs.reveal.open === 'function') {\n\t          this.open(message);\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'closeRespond',\n\t    value: function closeRespond() {\n\t      if (typeof this.props.closeRespond === 'function') {\n\t        this.props.closeRespond();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderAssets',\n\t    value: function renderAssets() {\n\t      if (this.props.assets) {\n\t        return this.props.assets.map(function (asset, key) {\n\t          return React.createElement(skoash.Audio, _extends({}, asset.props, {\n\t            ref: asset.ref || asset.props['data-ref'] || 'asset-' + key,\n\t            key: key,\n\t            'data-ref': key\n\t          }));\n\t        });\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'renderSelectable',\n\t    value: function renderSelectable() {\n\t      return React.createElement(_3.default, {\n\t        ref: 'selectable',\n\t        list: this.props.selectableList,\n\t        selectRespond: this.selectRespond.bind(this),\n\t        selectClass: this.props.selectableSelectClass,\n\t        completeOnSelect: this.props.selectableCompleteOnSelect,\n\t        checkComplete: this.props.selectableCheckComplete,\n\t        randomizeList: this.props.randomizeSelectableList,\n\t        selectOnStart: this.props.selectOnStart,\n\t        chooseOne: this.props.chooseOne\n\t        // answers={this.props.answers}\n\t        , allowDeselect: this.props.allowDeselect\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderReveal',\n\t    value: function renderReveal() {\n\t      return React.createElement(_5.default, {\n\t        ref: 'reveal',\n\t        list: this.props.revealList,\n\t        assets: this.props.revealAssets,\n\t        closeRespond: this.closeRespond.bind(this),\n\t        completeOnOpen: this.props.revealCompleteOnOpen,\n\t        checkComplete: this.props.revealCheckComplete,\n\t        openOnStart: this.props.openOnStart,\n\t        hide: this.props.hideReveal,\n\t        openReveal: this.props.openReveal,\n\t        onOpen: this.props.onOpen,\n\t        openMultiple: false\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClasses',\n\t    value: function getClasses() {\n\t      var classes = '';\n\t\n\t      if (this.state.complete) classes += ' COMPLETE';\n\t\n\t      return classes;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'selectable-reveal' + this.getClasses() },\n\t        this.renderAssets(),\n\t        this.renderSelectable(),\n\t        this.renderReveal()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SelectableReveal;\n\t}(skoash.Component);\n\t\n\tSelectableReveal.defaultProps = _.defaults({\n\t  answers: [],\n\t  canSelectOnStart: true\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = SelectableReveal;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\twindow.ENVIRONMENT = {\n\t  MEDIA: 'https://media-staging.changemyworldnow.com/'\n\t};\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\texports.default = function (props, ref, key) {\n\t  return React.createElement(CanvasScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'canvas',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tvar _2 = __webpack_require__(4);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _4 = __webpack_require__(11);\n\t\n\tvar _5 = _interopRequireDefault(_4);\n\t\n\tvar _6 = __webpack_require__(2);\n\t\n\tvar _7 = _interopRequireDefault(_6);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t// import Reveal from 'shared/components/reveal/0.1';\n\t\n\tvar CanvasScreen = function (_skoash$Screen) {\n\t  _inherits(CanvasScreen, _skoash$Screen);\n\t\n\t  function CanvasScreen() {\n\t    _classCallCheck(this, CanvasScreen);\n\t\n\t    var _this = _possibleConstructorReturn(this, (CanvasScreen.__proto__ || Object.getPrototypeOf(CanvasScreen)).call(this));\n\t\n\t    _this.state = {\n\t      load: true,\n\t      menu: {},\n\t      valid: true\n\t    };\n\t\n\t    _this.rightMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'preview', onClick: _this.preview.bind(_this) },\n\t      React.createElement('span', null)\n\t    ), React.createElement(\n\t      'li',\n\t      { className: 'send', onClick: _this.send.bind(_this) },\n\t      React.createElement('span', null)\n\t    )];\n\t\n\t    _this.setValid = _this.setValid.bind(_this);\n\t    _this.closeReveal = _this.closeReveal.bind(_this);\n\t    _this.setHasAssets = _this.setHasAssets.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(CanvasScreen, [{\n\t    key: 'getData',\n\t    value: function getData() {\n\t      return this.refs.canvas.getItems();\n\t    }\n\t  }, {\n\t    key: 'reset',\n\t    value: function reset() {\n\t      this.refs.canvas.reset();\n\t      this.setState({\n\t        background: false,\n\t        hasAssets: false\n\t      });\n\t    }\n\t  }, {\n\t    key: 'addItem',\n\t    value: function addItem(message) {\n\t      if (message) {\n\t        this.setState({\n\t          hasAssets: true,\n\t          background: this.state.background || message.asset_type === 'background'\n\t        });\n\t        this.refs.canvas.addItem(message, function () {\n\t          skoash.trigger('save');\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'addItems',\n\t    value: function addItems(message) {\n\t      var hasAssets, background;\n\t\n\t      hasAssets = true;\n\t      background = !!message.rules.background;\n\t\n\t      this.mapRulesStringToNumbers(message.rules);\n\t\n\t      this.refs.canvas.setItems(message.rules);\n\t\n\t      this.setState({\n\t        hasAssets: hasAssets,\n\t        background: background\n\t      });\n\t\n\t      if (message.friend_to) {\n\t        skoash.trigger('passData', {\n\t          name: 'add-recipient',\n\t          message: message.friend_to\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setMenu',\n\t    value: function setMenu() {\n\t      var menu,\n\t          state = this.props.gameState;\n\t\n\t      if (state && state.data && state.data.menu) {\n\t        menu = state.data.menu;\n\t        this.setState({\n\t          menu: menu\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'mapRulesStringToNumbers',\n\t    value: function mapRulesStringToNumbers(rules) {\n\t      if (!rules) return;\n\t\n\t      if (_.isArray(rules.items)) {\n\t        rules.items.forEach(function (item) {\n\t          item.state.left = parseFloat(item.state.left);\n\t          item.state.rotation = parseFloat(item.state.rotation);\n\t          item.state.scale = parseFloat(item.state.scale);\n\t          item.state.top = parseFloat(item.state.top);\n\t        });\n\t      }\n\t\n\t      if (_.isArray(rules.messages)) {\n\t        rules.messages.forEach(function (message) {\n\t          message.state.left = parseFloat(message.state.left);\n\t          message.state.rotation = parseFloat(message.state.rotation);\n\t          message.state.scale = parseFloat(message.state.scale);\n\t          message.state.top = parseFloat(message.state.top);\n\t        });\n\t      }\n\t\n\t      return rules;\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open() {\n\t      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t      this.setMenu();\n\t\n\t      if (this.refs && this.refs.menu) {\n\t        this.refs.menu.deactivate();\n\t      }\n\t\n\t      if (!opts.draft) skoash.trigger('save');\n\t\n\t      // interval = setInterval(() => {\n\t      //   skoash.trigger('save');\n\t      // }, 120000);\n\t\n\t      // this.setState({\n\t      //   interval\n\t      // });\n\t\n\t      _get(CanvasScreen.prototype.__proto__ || Object.getPrototypeOf(CanvasScreen.prototype), 'open', this).call(this);\n\t    }\n\t  }, {\n\t    key: 'close',\n\t    value: function close() {\n\t      skoash.trigger('save');\n\t      // clearInterval(this.state.interval);\n\t      // this.setState({\n\t      //   interval: null\n\t      // });\n\t      _get(CanvasScreen.prototype.__proto__ || Object.getPrototypeOf(CanvasScreen.prototype), 'close', this).call(this);\n\t    }\n\t  }, {\n\t    key: 'setValid',\n\t    value: function setValid(valid) {\n\t      this.setState({\n\t        valid: valid\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setHasAssets',\n\t    value: function setHasAssets(hasAssets) {\n\t      this.setState({\n\t        hasAssets: hasAssets\n\t      });\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send() {\n\t      if (!this.state.valid) return;\n\t      this.goto('send');\n\t    }\n\t  }, {\n\t    key: 'preview',\n\t    value: function preview() {\n\t      if (!this.state.valid) return;\n\t      this.goto('preview');\n\t    }\n\t  }, {\n\t    key: 'closeReveal',\n\t    value: function closeReveal() {\n\t      if (this.refs && this.refs.reveal) {\n\t        this.refs.reveal.close();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getContainerClasses',\n\t    value: function getContainerClasses() {\n\t      return (0, _classnames2.default)({\n\t        'canvas-container': true,\n\t        BACKGROUND: this.state.background\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2.default)({\n\t        'HAS-ASSETS': this.state.hasAssets,\n\t        'INVALID': !this.state.valid\n\t      }, skoash.Screen.prototype.getClassNames.call(this));\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Frames/SK_frames_canvas.png' }),\n\t        React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Buttons/SK_btn_friend.png' }),\n\t        React.createElement(_5.default, {\n\t          ref: 'menu',\n\t          items: this.state.menu.items,\n\t          level: 0,\n\t          lastLevel: 1\n\t        }),\n\t        React.createElement(\n\t          'div',\n\t          { className: this.getContainerClasses() },\n\t          React.createElement(_3.default, {\n\t            ref: 'canvas',\n\t            setValid: this.setValid,\n\t            setHasAssets: this.setHasAssets,\n\t            itemMinDim: 150\n\t          })\n\t        ),\n\t        React.createElement(_7.default, { className: 'menu right-menu', list: this.rightMenuList })\n\t      );\n\t      // move this back up below the Selectable when there is an instructional help video\n\t      /*\n\t          <Reveal\n\t            ref=\"reveal\"\n\t            openOnStart=\"0\"\n\t            list={[\n\t              <li>\n\t                <skoash.Image className=\"otter\" src={'media/_Otter/joyful-otter_2.gif'} />\n\t                <div className=\"bubble\">\n\t                  Welcome to your canvas!<br/><br/>\n\t                  Would you like me<br/>\n\t                  to show you around?\n\t                  <div className=\"buttons\">\n\t                    <button\n\t                      className=\"yes\"\n\t                      onClick={skoash.trigger.bind(null, 'openMenu', {id: 'help'})}\n\t                    />\n\t                    <button\n\t                      className=\"no\"\n\t                      onClick={this.closeReveal}\n\t                    />\n\t                  </div>\n\t                </div>\n\t              </li>\n\t            ]}\n\t          />\n\t      */\n\t    }\n\t  }]);\n\t\n\t  return CanvasScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CollisionWarning = function (_skoash$Screen) {\n\t  _inherits(CollisionWarning, _skoash$Screen);\n\t\n\t  function CollisionWarning() {\n\t    _classCallCheck(this, CollisionWarning);\n\t\n\t    var _this = _possibleConstructorReturn(this, (CollisionWarning.__proto__ || Object.getPrototypeOf(CollisionWarning)).call(this));\n\t\n\t    _this.cancel = _this.cancel.bind(_this);\n\t    _this.toggle = _this.toggle.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(CollisionWarning, [{\n\t    key: 'cancel',\n\t    value: function cancel() {\n\t      this.close();\n\t      skoash.trigger('menuClose', {\n\t        id: this.props.id\n\t      });\n\t    }\n\t  }, {\n\t    key: 'toggle',\n\t    value: function toggle() {\n\t      this.updateGameState({\n\t        path: ['collisionWarning'],\n\t        data: {\n\t          show: !_.get(this.props.gameState, 'data.collisionWarning.show')\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getToggleClassNames',\n\t    value: function getToggleClassNames() {\n\t      return (0, _classnames2.default)('toggle-collision-warning', {\n\t        active: !_.get(this.props.gameState, 'data.collisionWarning.show')\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { id: this.props.id, className: this.getClassNames() },\n\t        React.createElement(\n\t          'div',\n\t          { className: 'center' },\n\t          React.createElement(\n\t            'div',\n\t            { className: 'frame' },\n\t            React.createElement(skoash.Image, { className: 'copy', src: 'media/_CollisionWarning/text-youmustnotoverlapimgs.png' }),\n\t            React.createElement('button', { className: this.getToggleClassNames(), onClick: this.toggle }),\n\t            React.createElement('button', { className: 'close-collision-warning', onClick: this.cancel }),\n\t            React.createElement(skoash.Image, { className: 'otter', src: 'media/_CollisionWarning/Peeking-through-Otter.gif' })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return CollisionWarning;\n\t}(skoash.Screen);\n\t\n\texports.default = React.createElement(CollisionWarning, {\n\t  id: 'collisionWarning',\n\t  load: true\n\t});\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t  return React.createElement(FriendScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'friends',\n\t    completeOnStart: true,\n\t    checkComplete: false,\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tvar _ = __webpack_require__(5);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\t\n\tvar FriendScreen = function (_skoash$Screen) {\n\t  _inherits(FriendScreen, _skoash$Screen);\n\t\n\t  function FriendScreen() {\n\t    _classCallCheck(this, FriendScreen);\n\t\n\t    var _this = _possibleConstructorReturn(this, (FriendScreen.__proto__ || Object.getPrototypeOf(FriendScreen)).call(this));\n\t\n\t    _this.state = {\n\t      load: true,\n\t      complete: true,\n\t      recipient: {},\n\t      opts: {}\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(FriendScreen, [{\n\t    key: 'selectRespond',\n\t    value: function selectRespond(message) {\n\t      skoash.trigger('passData', {\n\t        name: 'add-recipient',\n\t        goto: this.state.opts.goto,\n\t        message: message\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateData',\n\t    value: function updateData(d) {\n\t      var data = d && d.user ? d.user : this.props.gameState.data.user || [];\n\t\n\t      data = data.map(function (friend) {\n\t        var src = friend._embedded.image && friend._embedded.image.url ? friend._embedded.image.url : DEFAULT_PROFILE_IMAGE;\n\t        return {\n\t          'user_id': friend.friend_id,\n\t          name: friend.username,\n\t          src: src,\n\t          // I need to get the flips earned back from the backend to do this.\n\t          description: '',\n\t          // description: friend.flips_earned + ' Flips Earned',\n\t          'asset_type': 'friend'\n\t        };\n\t      });\n\t\n\t      this.setState({\n\t        data: data\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(opts) {\n\t      var recipient,\n\t          self = this;\n\t\n\t      self.updateData();\n\t\n\t      skoash.trigger('getData', {\n\t        name: 'getFriends'\n\t      }).then(function (data) {\n\t        self.updateData.call(self, data);\n\t      });\n\t\n\t      recipient = self.props.gameState.recipient;\n\t\n\t      self.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false,\n\t        recipient: recipient,\n\t        opts: opts\n\t      }, function () {\n\t        self.refs.drawer && self.refs.drawer.start();\n\t      });\n\t\n\t      if (!self.state.started) {\n\t        self.start();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'suggestFriends',\n\t    value: function suggestFriends() {\n\t      window.open(window.location.origin.replace('games-', '') + '/friends/suggested');\n\t    }\n\t  }, {\n\t    key: 'save',\n\t    value: function save() {\n\t      skoash.trigger('goto', {\n\t        index: 'canvas'\n\t      });\n\t      skoash.trigger('openMenu', { id: 'save' });\n\t    }\n\t  }, {\n\t    key: 'renderOtter',\n\t    value: function renderOtter() {\n\t      var copy, src, imageSrc;\n\t\n\t      src = 'One';\n\t      imageSrc = 'media/_Otter/Otter_Static_GreetingOne.png';\n\t      copy = React.createElement(\n\t        'span',\n\t        null,\n\t        'Don\\'t have',\n\t        React.createElement('br', null),\n\t        ' friends yet?',\n\t        React.createElement('br', null),\n\t        React.createElement('br', null),\n\t        ' Let me suggest',\n\t        React.createElement('br', null),\n\t        ' some for you.'\n\t      );\n\t\n\t      if (this.state.data && this.state.data.length) {\n\t        src = 'Two';\n\t        imageSrc = 'media/_Otter/Open-wide-Otter2.gif';\n\t        copy = React.createElement(\n\t          'span',\n\t          null,\n\t          'Let me find a friend',\n\t          React.createElement('br', null),\n\t          ' to send your message to.'\n\t        );\n\t      }\n\t\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'otter-container ' + src },\n\t        React.createElement(skoash.Image, { className: 'otter', src: imageSrc }),\n\t        React.createElement(\n\t          'div',\n\t          { className: 'bubble' },\n\t          copy\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderFriends',\n\t    value: function renderFriends() {\n\t      if (this.state.data && this.state.data.length) {\n\t        return React.createElement(_2.default, {\n\t          ref: 'drawer',\n\t          scrollbarImg: './media/_Buttons/sk_btn_slider.png',\n\t          selectRespond: this.selectRespond.bind(this),\n\t          cancelRespond: this.back,\n\t          categories: this.state.opts.categories,\n\t          data: this.state.data,\n\t          selectedItem: this.state.recipient,\n\t          buttons: this.buttons,\n\t          completeOnStart: true,\n\t          checkComplete: false,\n\t          className: 'goto-' + this.state.opts.goto\n\t        });\n\t      }\n\t\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'goto-' + this.state.opts.goto },\n\t        React.createElement(\n\t          'div',\n\t          { className: 'item-drawer-container' },\n\t          React.createElement(\n\t            'div',\n\t            { className: 'suggest-friends-buttons' },\n\t            React.createElement('button', { className: 'continue', onClick: this.selectRespond.bind(this, {}) }),\n\t            React.createElement('button', { className: 'suggest', onClick: this.suggestFriends }),\n\t            React.createElement('button', { className: 'save-to-drafts', onClick: this.save })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement('div', { className: 'header' }),\n\t        this.renderOtter(),\n\t        this.renderFriends()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return FriendScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t  return React.createElement(InboxScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'inbox',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tvar _ = __webpack_require__(17);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tvar _3 = __webpack_require__(8);\n\t\n\tvar _4 = _interopRequireDefault(_3);\n\t\n\tvar _5 = __webpack_require__(15);\n\t\n\tvar _6 = _interopRequireDefault(_5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar inboxEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You haven\\'t received any Skribbles!',\n\t  React.createElement('br', null),\n\t  'Get started by sending some!'\n\t);\n\tvar unreadEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You don\\'t have any',\n\t  React.createElement('br', null),\n\t  'unread Skribbles!'\n\t);\n\tvar readEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You don\\'t have any',\n\t  React.createElement('br', null),\n\t  'read Skribbles!'\n\t);\n\tvar sentEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You haven\\'t sent any Skribbles.',\n\t  React.createElement('br', null),\n\t  'Let\\'s get started!'\n\t);\n\tvar draftsEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You don\\'t have any drafts.',\n\t  React.createElement('br', null),\n\t  'Start Skribbling!'\n\t);\n\t\n\tvar InboxScreen = function (_skoash$Screen) {\n\t  _inherits(InboxScreen, _skoash$Screen);\n\t\n\t  function InboxScreen() {\n\t    _classCallCheck(this, InboxScreen);\n\t\n\t    var _this = _possibleConstructorReturn(this, (InboxScreen.__proto__ || Object.getPrototypeOf(InboxScreen)).call(this));\n\t\n\t    _this.state = {\n\t      load: true\n\t    };\n\t\n\t    _this.selectableList = [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)];\n\t\n\t    _this.revealList = _this.getRevealList();\n\t\n\t    _this.readMessage = _this.readMessage.bind(_this);\n\t    _this.editMessage = _this.editMessage.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(InboxScreen, [{\n\t    key: 'getRevealList',\n\t    value: function getRevealList(inbox, outbox, saved) {\n\t      var read,\n\t          unread,\n\t          props = this.props || {};\n\t\n\t      inbox = inbox || this.state.inbox || [];\n\t\n\t      read = inbox.filter(function (item) {\n\t        return item.read;\n\t      });\n\t\n\t      unread = inbox.filter(function (item) {\n\t        return !item.read;\n\t      });\n\t\n\t      outbox = outbox || this.state.outbox || [];\n\t      saved = saved || this.state.saved || [];\n\t\n\t      return [React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_4.default, {\n\t          'data-ref': 'inbox',\n\t          data: {\n\t            items: inbox\n\t          },\n\t          emptyMessage: inboxEmptyMessage,\n\t          selectRespond: this.readMessage,\n\t          gameState: props.gameState\n\t        })\n\t      ), React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_4.default, {\n\t          'data-ref': 'unread',\n\t          data: {\n\t            items: unread\n\t          },\n\t          emptyMessage: unreadEmptyMessage,\n\t          selectRespond: this.readMessage,\n\t          gameState: props.gameState\n\t        })\n\t      ), React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_4.default, {\n\t          'data-ref': 'read',\n\t          data: {\n\t            items: read\n\t          },\n\t          emptyMessage: readEmptyMessage,\n\t          selectRespond: this.readMessage,\n\t          gameState: props.gameState\n\t        })\n\t      ), React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_4.default, {\n\t          'data-ref': 'outbox',\n\t          data: {\n\t            items: outbox\n\t          },\n\t          emptyMessage: sentEmptyMessage,\n\t          friendKey: 'friend_to',\n\t          selectRespond: this.readMessage,\n\t          gameState: props.gameState\n\t        })\n\t      ), React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_6.default, {\n\t          'data-ref': 'saved',\n\t          data: {\n\t            items: saved\n\t          },\n\t          emptyMessage: draftsEmptyMessage,\n\t          selectRespond: this.editMessage\n\t        })\n\t      )];\n\t    }\n\t  }, {\n\t    key: 'editMessage',\n\t    value: function editMessage(message) {\n\t      skoash.trigger('loadSkribble', {\n\t        message: message\n\t      });\n\t    }\n\t  }, {\n\t    key: 'readMessage',\n\t    value: function readMessage(message) {\n\t      skoash.trigger('goto', {\n\t        index: 'read',\n\t        message: message\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateData',\n\t    value: function updateData() {\n\t      var skribbles, inbox, outbox, saved;\n\t\n\t      skribbles = this.props.gameState.data.skribbles;\n\t      inbox = skribbles.received;\n\t      outbox = skribbles.sent;\n\t      saved = skribbles.draft;\n\t\n\t      this.revealList = this.getRevealList(inbox, outbox, saved);\n\t\n\t      this.setState({\n\t        inbox: inbox,\n\t        outbox: outbox,\n\t        saved: saved\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateGameData',\n\t    value: function updateGameData(data, status) {\n\t      var _this2 = this;\n\t\n\t      var opts = {\n\t        path: ['skribbles'],\n\t        data: _defineProperty({}, status, data.skribble),\n\t        callback: function callback() {\n\t          _this2.updateData();\n\t        }\n\t      };\n\t      this.updateGameState(opts);\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open() {\n\t      var self = this;\n\t\n\t      skoash.trigger('getData', {\n\t        status: 'received'\n\t      }).then(function (data) {\n\t        self.updateGameData(data, 'received');\n\t      });\n\t\n\t      skoash.trigger('getData', {\n\t        status: 'sent'\n\t      }).then(function (data) {\n\t        self.updateGameData(data, 'sent');\n\t      });\n\t\n\t      skoash.trigger('getData', {\n\t        status: 'draft'\n\t      }).then(function (data) {\n\t        self.updateGameData(data, 'draft');\n\t      });\n\t\n\t      self.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false\n\t      });\n\t\n\t      setTimeout(function () {\n\t        if (!self.state.started) {\n\t          self.start();\n\t        }\n\t      }, 250);\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'div',\n\t          { className: 'center' },\n\t          React.createElement(\n\t            'div',\n\t            { className: 'frame' },\n\t            React.createElement(_2.default, {\n\t              ref: 'selectableReveal',\n\t              selectableList: this.selectableList,\n\t              revealList: this.revealList,\n\t              selectOnStart: '0',\n\t              openOnStart: '0'\n\t            })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return InboxScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t  return React.createElement(ItemDrawerScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'item-drawer',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tvar _2 = __webpack_require__(5);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar ItemDrawerScreen = function (_skoash$Screen) {\n\t  _inherits(ItemDrawerScreen, _skoash$Screen);\n\t\n\t  function ItemDrawerScreen() {\n\t    _classCallCheck(this, ItemDrawerScreen);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ItemDrawerScreen.__proto__ || Object.getPrototypeOf(ItemDrawerScreen)).call(this));\n\t\n\t    _this.state = {\n\t      opts: {\n\t        categories: []\n\t      }\n\t    };\n\t\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ItemDrawerScreen, [{\n\t    key: 'selectRespond',\n\t    value: function selectRespond(message) {\n\t      skoash.trigger('passData', {\n\t        name: 'add-item',\n\t        message: message\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateData',\n\t    value: function updateData(d) {\n\t      var data = d ? d : this.props.gameState.data.menu.items;\n\t\n\t      this.state.opts.categories.forEach(function (key) {\n\t        if (data[key]) data = data[key];\n\t        if (data.items) data = data.items;\n\t      });\n\t\n\t      data = _.values(data);\n\t\n\t      this.setState({\n\t        data: data\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(opts) {\n\t      var _this2 = this;\n\t\n\t      this.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false,\n\t        opts: opts,\n\t        data: null\n\t      }, function () {\n\t        _this2.updateData();\n\t      });\n\t\n\t      setTimeout(function () {\n\t        if (!_this2.state.started) _this2.start();\n\t      }, 250);\n\t    }\n\t  }, {\n\t    key: 'cancelRespond',\n\t    value: function cancelRespond() {\n\t      if (this.state.category) {\n\t        this.setState({\n\t          category: '',\n\t          categoryName: ''\n\t        });\n\t      } else {\n\t        skoash.trigger('goto', { index: 'canvas' });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(_3.default, {\n\t          ref: 'drawer',\n\t          scrollbarImg: './media/_Buttons/sk_btn_slider.png',\n\t          selectRespond: this.selectRespond.bind(this),\n\t          cancelRespond: this.cancelRespond,\n\t          categories: this.state.opts.categories,\n\t          categoryName: this.state.opts.categoryName,\n\t          data: this.state.data\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ItemDrawerScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = React.createElement(\n\t  skoash.Screen,\n\t  {\n\t    id: \"limitWarning\",\n\t    load: true,\n\t    hidePrev: true,\n\t    hideNext: true\n\t  },\n\t  React.createElement(skoash.Image, { className: \"hidden\", src: ENVIRONMENT.MEDIA + 'f/a479811171cf084bf86af4eac1f6dc28.png' }),\n\t  React.createElement(skoash.Image, { className: \"hidden\", src: ENVIRONMENT.MEDIA + 'f/027b30f0d279ef41cd30eff22323051c.png' }),\n\t  React.createElement(skoash.Image, { className: \"otter\", src: ENVIRONMENT.MEDIA + 'f/e7c3a0ab64b457334e7be868609ee512.png' }),\n\t  React.createElement(skoash.Image, { className: \"sign\", src: ENVIRONMENT.MEDIA + 'f/7434453a4692d4be9e898b6b8787c108.png' }),\n\t  React.createElement(\n\t    \"div\",\n\t    null,\n\t    \"WARNING:\",\n\t    React.createElement(\"br\", null),\n\t    \"You have exceeded the number of times\",\n\t    React.createElement(\"br\", null),\n\t    \"you can use this item in your message.\",\n\t    React.createElement(\"br\", null),\n\t    \"Please press ok to continue game.\"\n\t  ),\n\t  React.createElement(\"button\", {\n\t    onClick: function onClick() {\n\t      skoash.trigger('menuClose', {\n\t        id: 'limitWarning'\n\t      });\n\t    }\n\t  })\n\t);\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t  return React.createElement(MenuScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: \"menu\",\n\t    hidePrev: true,\n\t    hideNext: true,\n\t    load: true\n\t  }));\n\t};\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar MenuScreen = function (_skoash$Screen) {\n\t  _inherits(MenuScreen, _skoash$Screen);\n\t\n\t  function MenuScreen() {\n\t    _classCallCheck(this, MenuScreen);\n\t\n\t    return _possibleConstructorReturn(this, (MenuScreen.__proto__ || Object.getPrototypeOf(MenuScreen)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(MenuScreen, [{\n\t    key: \"renderContent\",\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        \"div\",\n\t        null,\n\t        React.createElement(skoash.Image, { className: \"hidden\", src: \"media/_Background/SK_BKG_1.png\" }),\n\t        React.createElement(skoash.Image, { className: \"otter\", src: \"media/_Otter/Waving_Otter2.gif\" }),\n\t        React.createElement(\n\t          \"div\",\n\t          { className: \"bubble\" },\n\t          \"Hi there!\",\n\t          React.createElement(\"br\", null),\n\t          \"What would you\",\n\t          React.createElement(\"br\", null),\n\t          \"like to do today?\"\n\t        ),\n\t        React.createElement(\n\t          \"div\",\n\t          { className: \"buttons\" },\n\t          React.createElement(\"button\", { className: \"make\", onClick: this.goto.bind(this, {\n\t              index: 'friend',\n\t              goto: 'canvas'\n\t            }) }),\n\t          React.createElement(\"button\", { className: \"read\", onClick: this.goto.bind(this, 'inbox') })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return MenuScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\texports.default = function (props, ref, key) {\n\t  return React.createElement(PreviewScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'preview',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tvar _ = __webpack_require__(4);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tvar _3 = __webpack_require__(2);\n\t\n\tvar _4 = _interopRequireDefault(_3);\n\t\n\tvar _5 = __webpack_require__(13);\n\t\n\tvar _6 = _interopRequireDefault(_5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t  skribbleBox: 'skribble-box',\n\t  box: 'box',\n\t  leftMenu: 'menu left-menu',\n\t  rightMenu: 'menu right-menu'\n\t};\n\t\n\tvar refs = {\n\t  box: 'box',\n\t  canvas: 'canvas'\n\t};\n\t\n\tvar PreviewScreen = function (_skoash$Screen) {\n\t  _inherits(PreviewScreen, _skoash$Screen);\n\t\n\t  function PreviewScreen() {\n\t    _classCallCheck(this, PreviewScreen);\n\t\n\t    var _this = _possibleConstructorReturn(this, (PreviewScreen.__proto__ || Object.getPrototypeOf(PreviewScreen)).call(this));\n\t\n\t    _this.state = {\n\t      load: true,\n\t      opts: {}\n\t    };\n\t\n\t    _this.leftMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'edit', onClick: _this.goto.bind(_this, 'canvas') },\n\t      React.createElement('span', null)\n\t    )];\n\t\n\t    _this.rightMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'send', onClick: _this.goto.bind(_this, 'send') },\n\t      React.createElement('span', null)\n\t    )];\n\t    return _this;\n\t  }\n\t\n\t  _createClass(PreviewScreen, [{\n\t    key: 'open',\n\t    value: function open(opts) {\n\t      var _this2 = this;\n\t\n\t      skoash.trigger('getRules').then(function (rules) {\n\t        _this2.refs[refs.box].refs[refs.canvas].setItems(rules);\n\t        _get(PreviewScreen.prototype.__proto__ || Object.getPrototypeOf(PreviewScreen.prototype), 'open', _this2).call(_this2, opts);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          skoash.Component,\n\t          { ref: refs.box, className: classNameText.skribbleBox },\n\t          React.createElement(_2.default, { ref: refs.canvas, preview: true }),\n\t          React.createElement(_6.default, {\n\t            className: 'sparkles',\n\t            amount: 40\n\t          }),\n\t          React.createElement('div', { className: classNameText.box })\n\t        ),\n\t        React.createElement(_4.default, { className: classNameText.leftMenu, list: this.leftMenuList }),\n\t        React.createElement(_4.default, { className: classNameText.rightMenu, list: this.rightMenuList })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return PreviewScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t  return React.createElement(ReadScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'read',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t  skribbleBox: 'skribble-box',\n\t  box: 'box',\n\t  leftMenu: 'menu left-menu',\n\t  rightMenu: 'menu right-menu',\n\t  sender: 'menu recipient sender'\n\t};\n\t\n\tvar refs = {\n\t  box: 'box'\n\t};\n\t\n\tvar ReadScreen = function (_skoash$Screen) {\n\t  _inherits(ReadScreen, _skoash$Screen);\n\t\n\t  function ReadScreen() {\n\t    _classCallCheck(this, ReadScreen);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ReadScreen.__proto__ || Object.getPrototypeOf(ReadScreen)).call(this));\n\t\n\t    _this.state.load = true;\n\t    _this.state.message = { user: {} };\n\t\n\t    _this.leftMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'inbox', onClick: _this.goto.bind(_this, 'inbox') },\n\t      React.createElement('span', null)\n\t    )];\n\t\n\t    _this.rightMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'reply', onClick: _this.reply.bind(_this) },\n\t      React.createElement('span', null)\n\t    )];\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ReadScreen, [{\n\t    key: 'reply',\n\t    value: function reply() {\n\t      skoash.trigger('passData', {\n\t        name: 'add-recipient',\n\t        message: this.state.message.created_by\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(opts) {\n\t      var message, friends, creater;\n\t\n\t      message = opts.message || {};\n\t\n\t      friends = this.props.gameState.data.user || [];\n\t      friends.forEach(function (friend) {\n\t        if (message.created_by === friend.friend_id) {\n\t          creater = friend;\n\t        }\n\t      });\n\t\n\t      this.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false,\n\t        message: message,\n\t        creater: creater\n\t      });\n\t\n\t      this.start();\n\t\n\t      skoash.trigger('getData', {\n\t        name: 'markAsRead',\n\t        'skribble_id': message.skribble_id\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getSenderClassNames',\n\t    value: function getSenderClassNames() {\n\t      return (0, _classnames2.default)(classNameText.sender, {\n\t        HIDE: !this.state.creater || this.state.message.sent\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderSender',\n\t    value: function renderSender() {\n\t      var creater,\n\t          content = [];\n\t\n\t      creater = this.state.creater;\n\t\n\t      if (!creater) return;\n\t\n\t      if (creater.username) {\n\t        content.push(React.createElement(\n\t          'span',\n\t          { className: 'name' },\n\t          creater.username\n\t        ));\n\t      }\n\t\n\t      if (creater._embedded.image) {\n\t        content.push(React.createElement('img', { className: 'profile-image', src: creater._embedded.image.url }));\n\t      }\n\t\n\t      return content;\n\t    }\n\t  }, {\n\t    key: 'renderBoxContent',\n\t    value: function renderBoxContent() {\n\t      var url = _.get(this.state, 'message.url');\n\t\n\t      if (!url) return null;\n\t\n\t      return [React.createElement(skoash.Image, { src: this.state.message.url }), React.createElement('div', { className: classNameText.box })];\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'ul',\n\t          { className: this.getSenderClassNames() },\n\t          React.createElement(\n\t            'li',\n\t            null,\n\t            React.createElement(\n\t              'span',\n\t              null,\n\t              this.renderSender()\n\t            )\n\t          )\n\t        ),\n\t        React.createElement(\n\t          skoash.Component,\n\t          { ref: refs.box, className: classNameText.skribbleBox },\n\t          this.renderBoxContent()\n\t        ),\n\t        React.createElement(_3.default, { className: classNameText.leftMenu, list: this.leftMenuList }),\n\t        React.createElement(_3.default, { className: classNameText.rightMenu, list: this.rightMenuList })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ReadScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SaveMenu = function (_skoash$Screen) {\n\t  _inherits(SaveMenu, _skoash$Screen);\n\t\n\t  function SaveMenu() {\n\t    _classCallCheck(this, SaveMenu);\n\t\n\t    return _possibleConstructorReturn(this, (SaveMenu.__proto__ || Object.getPrototypeOf(SaveMenu)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(SaveMenu, [{\n\t    key: \"cancel\",\n\t    value: function cancel() {\n\t      this.close();\n\t      skoash.trigger('menuClose', {\n\t        id: this.props.id\n\t      });\n\t    }\n\t  }, {\n\t    key: \"render\",\n\t    value: function render() {\n\t      return React.createElement(\n\t        \"div\",\n\t        { id: this.props.id, className: this.getClassNames() },\n\t        React.createElement(\n\t          \"div\",\n\t          { className: \"center\" },\n\t          React.createElement(\n\t            \"div\",\n\t            { className: \"frame\" },\n\t            React.createElement(\"button\", { className: \"quit-saved\", onClick: this.cancel.bind(this) }),\n\t            React.createElement(\n\t              \"h2\",\n\t              null,\n\t              \"Your progress\"\n\t            ),\n\t            React.createElement(\n\t              \"h2\",\n\t              null,\n\t              \"has been saved\"\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SaveMenu;\n\t}(skoash.Screen);\n\t\n\texports.default = React.createElement(SaveMenu, {\n\t  id: \"save\",\n\t  load: true\n\t});\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t  return React.createElement(SendScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'send',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tvar _ = __webpack_require__(2);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t  yourMessageTo: 'your-message-to',\n\t  isReady: 'is-ready',\n\t  changeFriend: 'change-friend',\n\t  character: 'character',\n\t  gift: 'gift',\n\t  header: 'header',\n\t  username: 'username'\n\t};\n\t\n\tvar SendScreen = function (_skoash$Screen) {\n\t  _inherits(SendScreen, _skoash$Screen);\n\t\n\t  function SendScreen() {\n\t    _classCallCheck(this, SendScreen);\n\t\n\t    var _this = _possibleConstructorReturn(this, (SendScreen.__proto__ || Object.getPrototypeOf(SendScreen)).call(this));\n\t\n\t    _this.state.load = true;\n\t    _this.state.recipient = {};\n\t\n\t    _this.rightMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'edit-right', onClick: _this.goto.bind(_this, 'canvas') },\n\t      React.createElement('span', null)\n\t    ), React.createElement(\n\t      'li',\n\t      { className: 'send', onClick: _this.send },\n\t      React.createElement('span', null)\n\t    )];\n\t    return _this;\n\t  }\n\t\n\t  _createClass(SendScreen, [{\n\t    key: 'open',\n\t    value: function open() {\n\t      var recipient = this.props.gameState.recipient || {};\n\t\n\t      this.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false,\n\t        recipient: recipient\n\t      });\n\t\n\t      this.start();\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send() {\n\t      skoash.trigger('passData', {\n\t        name: 'send'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      var changeFriendClick = this.goto.bind(this, {\n\t        index: 'friend',\n\t        goto: 'send'\n\t      });\n\t\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'div',\n\t          { className: classNameText.header },\n\t          React.createElement('span', { className: classNameText.yourMessageTo }),\n\t          React.createElement(\n\t            'span',\n\t            { className: classNameText.username },\n\t            this.state.recipient.name\n\t          ),\n\t          React.createElement('br', null),\n\t          React.createElement('span', { className: classNameText.isReady }),\n\t          React.createElement('button', { className: classNameText.changeFriend, onClick: changeFriendClick })\n\t        ),\n\t        React.createElement(\n\t          'div',\n\t          { className: classNameText.character },\n\t          React.createElement(skoash.Image, { className: 'otter', src: 'media/_Otter/proud-of-you2.gif' }),\n\t          React.createElement(\n\t            'div',\n\t            { className: 'bubble' },\n\t            'Are you sure',\n\t            React.createElement('br', null),\n\t            'you are ready to',\n\t            React.createElement('br', null),\n\t            'send your message?'\n\t          )\n\t        ),\n\t        React.createElement('div', { className: classNameText.gift }),\n\t        React.createElement(_2.default, { className: 'menu right-menu', list: this.rightMenuList })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SendScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t  return React.createElement(SentScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'sent',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t  character: 'character',\n\t  header: 'header',\n\t  yourMessageTo: 'your-message-to',\n\t  username: 'username',\n\t  isReady: 'is-ready',\n\t  buttons: 'buttons',\n\t  createAnother: 'create-another',\n\t  inbox: 'inbox'\n\t};\n\t\n\tvar text = {\n\t  yourMessageTo: 'YOUR MESSAGE TO:',\n\t  hasBeenSent: 'IS BEING SENT!'\n\t};\n\t\n\tvar SentScreen = function (_skoash$Screen) {\n\t  _inherits(SentScreen, _skoash$Screen);\n\t\n\t  function SentScreen() {\n\t    _classCallCheck(this, SentScreen);\n\t\n\t    var _this = _possibleConstructorReturn(this, (SentScreen.__proto__ || Object.getPrototypeOf(SentScreen)).call(this));\n\t\n\t    _this.state = {\n\t      load: true,\n\t      opts: {\n\t        recipient: {}\n\t      }\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(SentScreen, [{\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement('div', { className: classNameText.character }),\n\t        React.createElement(\n\t          'div',\n\t          { className: classNameText.header },\n\t          React.createElement(\n\t            'span',\n\t            { className: classNameText.yourMessageTo },\n\t            text.yourMessageTo\n\t          ),\n\t          React.createElement(\n\t            'span',\n\t            { className: classNameText.username },\n\t            this.state.opts.recipient.name\n\t          ),\n\t          React.createElement('br', null),\n\t          React.createElement(\n\t            'span',\n\t            { className: classNameText.isReady },\n\t            text.hasBeenSent\n\t          )\n\t        ),\n\t        React.createElement(\n\t          'div',\n\t          { className: classNameText.buttons },\n\t          React.createElement('button', { className: classNameText.createAnother, onClick: this.goto.bind(this, 'friend') }),\n\t          React.createElement('button', { className: classNameText.inbox, onClick: this.goto.bind(this, 'inbox') })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SentScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = function (props, ref, key) {\n\t  return React.createElement(\n\t    skoash.Screen,\n\t    _extends({}, props, {\n\t      ref: ref,\n\t      key: key,\n\t      id: \"title\",\n\t      hidePrev: true,\n\t      nextDelay: 1000,\n\t      nextIndex: \"menu\"\n\t    }),\n\t    React.createElement(skoash.Image, {\n\t      ref: \"title\",\n\t      className: \"title animated\",\n\t      src: \"media/_Title/SKribble_title.png\"\n\t    }),\n\t    React.createElement(skoash.Image, {\n\t      ref: \"play\",\n\t      className: \"hidden\",\n\t      src: \"media/_Buttons/skribble-play-01.png\"\n\t    }),\n\t    React.createElement(skoash.Image, {\n\t      ref: \"play-hover\",\n\t      className: \"hidden\",\n\t      src: \"media/_Buttons/skribble-hover.png\"\n\t    })\n\t  );\n\t};\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar config = {\n\t  id: 'skribble',\n\t  version: 1,\n\t  skoash: '1.0.5',\n\t  dimensions: {\n\t    width: 1600,\n\t    ratio: 16 / 9\n\t  }\n\t};\n\t\n\texports.default = config;\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _config = __webpack_require__(32);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _2 = __webpack_require__(10);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _4 = __webpack_require__(9);\n\t\n\tvar _5 = _interopRequireDefault(_4);\n\t\n\tvar _title_screen = __webpack_require__(31);\n\t\n\tvar _title_screen2 = _interopRequireDefault(_title_screen);\n\t\n\tvar _menu_screen = __webpack_require__(25);\n\t\n\tvar _menu_screen2 = _interopRequireDefault(_menu_screen);\n\t\n\tvar _friend_screen = __webpack_require__(21);\n\t\n\tvar _friend_screen2 = _interopRequireDefault(_friend_screen);\n\t\n\tvar _canvas_screen = __webpack_require__(19);\n\t\n\tvar _canvas_screen2 = _interopRequireDefault(_canvas_screen);\n\t\n\tvar _item_drawer_screen = __webpack_require__(23);\n\t\n\tvar _item_drawer_screen2 = _interopRequireDefault(_item_drawer_screen);\n\t\n\tvar _inbox_screen = __webpack_require__(22);\n\t\n\tvar _inbox_screen2 = _interopRequireDefault(_inbox_screen);\n\t\n\tvar _preview_screen = __webpack_require__(26);\n\t\n\tvar _preview_screen2 = _interopRequireDefault(_preview_screen);\n\t\n\tvar _send_screen = __webpack_require__(29);\n\t\n\tvar _send_screen2 = _interopRequireDefault(_send_screen);\n\t\n\tvar _sent_screen = __webpack_require__(30);\n\t\n\tvar _sent_screen2 = _interopRequireDefault(_sent_screen);\n\t\n\tvar _read_screen = __webpack_require__(27);\n\t\n\tvar _read_screen2 = _interopRequireDefault(_read_screen);\n\t\n\tvar _6 = __webpack_require__(12);\n\t\n\tvar _7 = _interopRequireDefault(_6);\n\t\n\tvar _save_menu = __webpack_require__(28);\n\t\n\tvar _save_menu2 = _interopRequireDefault(_save_menu);\n\t\n\tvar _collision_warning = __webpack_require__(20);\n\t\n\tvar _collision_warning2 = _interopRequireDefault(_collision_warning);\n\t\n\tvar _limit_warning = __webpack_require__(24);\n\t\n\tvar _limit_warning2 = _interopRequireDefault(_limit_warning);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar DEFAULT_PROFILE_IMAGE = '';\n\t\n\tvar SkribbleGame = function (_skoash$Game) {\n\t  _inherits(SkribbleGame, _skoash$Game);\n\t\n\t  function SkribbleGame() {\n\t    _classCallCheck(this, SkribbleGame);\n\t\n\t    return _possibleConstructorReturn(this, (SkribbleGame.__proto__ || Object.getPrototypeOf(SkribbleGame)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(SkribbleGame, [{\n\t    key: 'getRules',\n\t    value: function getRules() {\n\t      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t      if (typeof opts.respond === 'function') {\n\t        return opts.respond(this.refs['screen-canvas'].getData());\n\t      }\n\t      return this.refs['screen-canvas'].getData();\n\t    }\n\t  }, {\n\t    key: 'save',\n\t    value: function save(skramble) {\n\t      /* eslint-disable camelcase */\n\t      var friend_to,\n\t          rules,\n\t          self = this;\n\t      friend_to = self.state.recipient && self.state.recipient.user_id ? self.state.recipient.user_id : null;\n\t      rules = self.getRules();\n\t      var skribble = _extends({\n\t        'version': _config2.default.version\n\t      }, self.state.skribbleData, {\n\t        friend_to: friend_to,\n\t        skramble: skramble,\n\t        rules: rules\n\t      });\n\t\n\t      if (!rules.background && !rules.items.length && !rules.messages.length) {\n\t        return;\n\t      }\n\t\n\t      if (JSON.stringify(skribble) !== JSON.stringify(this.state.skribble)) {\n\t        self.emit({\n\t          name: 'saveSkribble',\n\t          game: self.config.id,\n\t          skribble: skribble\n\t        }).then(function (skribbleData) {\n\t          self.setState({\n\t            skribbleData: skribbleData,\n\t            skribble: skribble\n\t          });\n\t        });\n\t      }\n\t      /* eslint-enable camelcase */\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send() {\n\t      this.save(true);\n\t\n\t      this.refs['screen-canvas'].reset();\n\t      this.navigator.goto({\n\t        index: 'sent',\n\t        recipient: this.state.recipient\n\t      });\n\t\n\t      this.setState({\n\t        recipient: null,\n\t        skribbleData: null\n\t      });\n\t    }\n\t  }, {\n\t    key: 'loadSkribble',\n\t    value: function loadSkribble(opts) {\n\t      var _this2 = this;\n\t\n\t      this.setState({\n\t        skribbleData: opts.message\n\t      }, function () {\n\t        _this2.refs['screen-canvas'].addItems(opts.message);\n\t        _this2.navigator.goto({\n\t          index: 'canvas',\n\t          draft: true\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getMedia',\n\t    value: function getMedia(path) {\n\t      var pathArray,\n\t          self = this;\n\t\n\t      if ((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object') path = path.path;\n\t      path = path || 'skribble/menu';\n\t      pathArray = path.split('/');\n\t      pathArray.shift();\n\t\n\t      return self.eventManager.emit({\n\t        name: 'getMedia',\n\t        path: path\n\t      }).then(function (d) {\n\t        var opts, currentOpts;\n\t        opts = {\n\t          data: {},\n\t          callback: function callback() {\n\t            self.refs['screen-canvas'].setMenu();\n\t            self.refs['screen-item-drawer'].updateData();\n\t          }\n\t        };\n\t        currentOpts = opts.data;\n\t\n\t        pathArray.forEach(function (key, index) {\n\t          currentOpts[key] = {\n\t            items: {}\n\t          };\n\t          if (index !== pathArray.length - 1) {\n\t            currentOpts = currentOpts[key].items;\n\t          }\n\t        });\n\t\n\t        currentOpts[pathArray[pathArray.length - 1]] = _.clone(d);\n\t        currentOpts[pathArray[pathArray.length - 1]].items = {};\n\t\n\t        if (d.items) {\n\t          d.items.forEach(function (item) {\n\t            if (item.asset_type === 'folder' && item.name) {\n\t              self.getMedia(path + '/' + item.name);\n\t            }\n\t            currentOpts[pathArray[pathArray.length - 1]].items[item.name] = item;\n\t          });\n\t        }\n\t        self.updateData(opts);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'showCollisionWarning',\n\t    value: function showCollisionWarning() {\n\t      if (!this.state.data.collisionWarning.show) return;\n\t      this.navigator.openMenu({ id: 'collisionWarning' });\n\t    }\n\t  }, {\n\t    key: 'showLimitWarning',\n\t    value: function showLimitWarning() {\n\t      this.navigator.openMenu({ id: 'limitWarning' });\n\t    }\n\t  }, {\n\t    key: 'addRecipient',\n\t    value: function addRecipient(recipient, cb) {\n\t      var _this3 = this;\n\t\n\t      var src;\n\t\n\t      if (recipient.src) {\n\t        recipient.profile_image = recipient.src; // eslint-disable-line camelcase\n\t      } else if (typeof recipient === 'string') {\n\t        if (this.state.data && this.state.data.user) {\n\t          this.state.data.user.some(function (friend) {\n\t            if (friend.friend_id === recipient) {\n\t              recipient = friend;\n\t              return true;\n\t            }\n\t            return false;\n\t          });\n\t        }\n\t      }\n\t\n\t      if (typeof recipient === 'string') {\n\t        this.getData({\n\t          name: 'getFriend',\n\t          'friend_id': recipient,\n\t          callback: function callback() {\n\t            _this3.addRecipient(recipient, cb);\n\t          }\n\t        });\n\t      } else {\n\t        src = recipient && recipient._embedded && recipient._embedded.image && recipient._embedded.image.url ? recipient._embedded.image.url : recipient.profile_image || DEFAULT_PROFILE_IMAGE;\n\t        this.setState({\n\t          recipient: {\n\t            'user_id': recipient.user_id || recipient.friend_id,\n\t            name: recipient.name || recipient.username,\n\t            src: src,\n\t            // I need to get the flips earned back from the backend to do this.\n\t            description: '',\n\t            // description: friend.flips_earned + ' Flips Earned',\n\t            'asset_type': 'friend'\n\t          }\n\t        }, cb);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'clickRecipient',\n\t    value: function clickRecipient() {\n\t      this.navigator.goto({\n\t        index: 'friend',\n\t        goto: this.state.currentScreenIndex\n\t      });\n\t    }\n\t  }, {\n\t    key: 'create',\n\t    value: function create() {\n\t      if (this.state.recipient) {\n\t        this.navigator.goto({ index: 'canvas' });\n\t      } else {\n\t        this.navigator.goto({\n\t          index: 'friend',\n\t          goto: 'canvas'\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'saveButton',\n\t    value: function saveButton() {\n\t      this.save();\n\t      this.navigator.openMenu({ id: 'save' });\n\t    }\n\t  }, {\n\t    key: 'renderRecipient',\n\t    value: function renderRecipient() {\n\t      var recipient = this.state.recipient,\n\t          content = [];\n\t\n\t      if (!recipient) return;\n\t\n\t      if (recipient.name) {\n\t        content.push(React.createElement(\n\t          'span',\n\t          { className: 'name' },\n\t          recipient.name\n\t        ));\n\t      }\n\t\n\t      if (recipient.src) {\n\t        content.push(React.createElement('img', { className: 'profile-image', src: recipient.src }));\n\t      }\n\t\n\t      return content;\n\t    }\n\t  }]);\n\t\n\t  return SkribbleGame;\n\t}(skoash.Game);\n\t\n\tvar Skribble = React.createElement(SkribbleGame, {\n\t  config: _config2.default,\n\t  screens: {\n\t    0: _5.default,\n\t    1: _title_screen2.default,\n\t    menu: _menu_screen2.default,\n\t    friend: _friend_screen2.default,\n\t    canvas: _canvas_screen2.default,\n\t    'item-drawer': _item_drawer_screen2.default,\n\t    inbox: _inbox_screen2.default,\n\t    preview: _preview_screen2.default,\n\t    send: _send_screen2.default,\n\t    sent: _sent_screen2.default,\n\t    read: _read_screen2.default\n\t  },\n\t  menus: {\n\t    quit: _7.default,\n\t    save: _save_menu2.default,\n\t    collisionWarning: _collision_warning2.default,\n\t    limitWarning: _limit_warning2.default\n\t  },\n\t  loader: React.createElement(_3.default, null),\n\t  assets: [React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/Waving_Otter2.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/Open-wide-Otter2.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/joyful-otter_2.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/Antipation-Otter3.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/proud-of-you2.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/Peeking-through-Otter2.gif' }), React.createElement('div', { className: 'background-1' }), React.createElement('div', { className: 'background-2' }), React.createElement('div', { className: 'background-3' }), React.createElement('div', { className: 'background-4' }), React.createElement('div', { className: 'background-5' }), React.createElement('div', { className: 'background-6' })],\n\t  onBootstrap: function onBootstrap() {\n\t    this.getFriends = _.throttle(this.getData.bind(this, { name: 'getFriends' }), 1000);\n\t    this.getMediaOnReady = _.throttle(this.getMedia.bind(this), 1000);\n\t\n\t    this.updateState({\n\t      path: ['collisionWarning'],\n\t      data: {\n\t        show: true\n\t      }\n\t    });\n\t  },\n\t  onReady: function onReady() {\n\t    this.getMediaOnReady();\n\t    this.getFriends();\n\t  },\n\t  renderMenu: function renderMenu() {\n\t    return React.createElement(\n\t      'div',\n\t      null,\n\t      React.createElement(\n\t        'div',\n\t        { className: 'game-menu' },\n\t        React.createElement('button', { className: 'save', onClick: this.saveButton.bind(this) }),\n\t        React.createElement('button', { className: 'inbox', onClick: this.navigator.goto.bind(this, { index: 'inbox' }) }),\n\t        React.createElement('button', { className: 'create', onClick: this.create.bind(this) }),\n\t        React.createElement('button', { className: 'help', onClick: this.navigator.openMenu.bind(this, { id: 'help' }) }),\n\t        React.createElement('button', { className: 'close', onClick: this.navigator.openMenu.bind(this, { id: 'quit' }) })\n\t      ),\n\t      React.createElement(\n\t        'ul',\n\t        { className: 'menu recipient' },\n\t        React.createElement(\n\t          'li',\n\t          { onClick: this.clickRecipient.bind(this) },\n\t          React.createElement(\n\t            'span',\n\t            null,\n\t            this.renderRecipient()\n\t          )\n\t        )\n\t      )\n\t    );\n\t  },\n\t  getGotoOpts: function getGotoOpts(opts) {\n\t    if (opts.index === 'send') {\n\t      if (!this.state.recipient || !this.state.recipient.name) {\n\t        opts.index = 'friend';\n\t        opts.goto = 'send';\n\t      }\n\t    }\n\t    return opts;\n\t  },\n\t  passData: function passData(opts) {\n\t    if (opts.name === 'add-item') {\n\t      this.refs['screen-canvas'].addItem(opts.message);\n\t      this.navigator.goto({ index: 'canvas' });\n\t    } else if (opts.name === 'add-recipient') {\n\t      this.addRecipient(opts.message, this.navigator.goto.bind(this, { index: opts.goto || 'canvas' }));\n\t    } else if (opts.name === 'send') {\n\t      this.send();\n\t    } else if (opts.name === 'showCollisionWarning') {\n\t      this.showCollisionWarning();\n\t    } else if (opts.name === 'showLimitWarning') {\n\t      this.showLimitWarning();\n\t    }\n\t  },\n\t  getTriggerEvents: function getTriggerEvents() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    opts.save = this.save;\n\t    opts.getMedia = this.getMedia;\n\t    opts.getRules = this.getRules;\n\t    opts.loadSkribble = this.loadSkribble;\n\t    return opts;\n\t  },\n\t  getData: function getData(opts) {\n\t    var _this4 = this;\n\t\n\t    var names = ['getFriends', 'getFriend', 'markAsRead'];\n\t\n\t    if (names.indexOf(opts.name) === -1) {\n\t      opts.name = 'getData';\n\t    }\n\t\n\t    return this.eventManager.emit(opts).then(function (data) {\n\t      _this4.updateData({\n\t        data: data,\n\t        callback: opts.callback\n\t      });\n\t    });\n\t  }\n\t});\n\t\n\tskoash.start(Skribble);\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tmodule.exports = __webpack_require__(37);\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar alphabet = __webpack_require__(3);\n\t\n\t/**\n\t * Decode the id to get the version and worker\n\t * Mainly for debugging and testing.\n\t * @param id - the shortid-generated id.\n\t */\n\tfunction decode(id) {\n\t    var characters = alphabet.shuffled();\n\t    return {\n\t        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n\t        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n\t    };\n\t}\n\t\n\tmodule.exports = decode;\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar randomByte = __webpack_require__(39);\n\t\n\tfunction encode(lookup, number) {\n\t    var loopCounter = 0;\n\t    var done;\n\t\n\t    var str = '';\n\t\n\t    while (!done) {\n\t        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n\t        done = number < (Math.pow(16, loopCounter + 1 ) );\n\t        loopCounter++;\n\t    }\n\t    return str;\n\t}\n\t\n\tmodule.exports = encode;\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar alphabet = __webpack_require__(3);\n\tvar encode = __webpack_require__(36);\n\tvar decode = __webpack_require__(35);\n\tvar isValid = __webpack_require__(38);\n\t\n\t// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n\t// This number should be updated every year or so to keep the generated id short.\n\t// To regenerate `new Date() - 0` and bump the version. Always bump the version!\n\tvar REDUCE_TIME = 1459707606518;\n\t\n\t// don't change unless we change the algos or REDUCE_TIME\n\t// must be an integer and less than 16\n\tvar version = 6;\n\t\n\t// if you are using cluster or multiple servers use this to make each instance\n\t// has a unique value for worker\n\t// Note: I don't know if this is automatically set when using third\n\t// party cluster solutions such as pm2.\n\tvar clusterWorkerId = __webpack_require__(41) || 0;\n\t\n\t// Counter is used when shortid is called multiple times in one second.\n\tvar counter;\n\t\n\t// Remember the last time shortid was called in case counter is needed.\n\tvar previousSeconds;\n\t\n\t/**\n\t * Generate unique id\n\t * Returns string id\n\t */\n\tfunction generate() {\n\t\n\t    var str = '';\n\t\n\t    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\t\n\t    if (seconds === previousSeconds) {\n\t        counter++;\n\t    } else {\n\t        counter = 0;\n\t        previousSeconds = seconds;\n\t    }\n\t\n\t    str = str + encode(alphabet.lookup, version);\n\t    str = str + encode(alphabet.lookup, clusterWorkerId);\n\t    if (counter > 0) {\n\t        str = str + encode(alphabet.lookup, counter);\n\t    }\n\t    str = str + encode(alphabet.lookup, seconds);\n\t\n\t    return str;\n\t}\n\t\n\t\n\t/**\n\t * Set the seed.\n\t * Highly recommended if you don't want people to try to figure out your id schema.\n\t * exposed as shortid.seed(int)\n\t * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n\t */\n\tfunction seed(seedValue) {\n\t    alphabet.seed(seedValue);\n\t    return module.exports;\n\t}\n\t\n\t/**\n\t * Set the cluster worker or machine id\n\t * exposed as shortid.worker(int)\n\t * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n\t * returns shortid module so it can be chained.\n\t */\n\tfunction worker(workerId) {\n\t    clusterWorkerId = workerId;\n\t    return module.exports;\n\t}\n\t\n\t/**\n\t *\n\t * sets new characters to use in the alphabet\n\t * returns the shuffled alphabet\n\t */\n\tfunction characters(newCharacters) {\n\t    if (newCharacters !== undefined) {\n\t        alphabet.characters(newCharacters);\n\t    }\n\t\n\t    return alphabet.shuffled();\n\t}\n\t\n\t\n\t// Export all other functions as properties of the generate function\n\tmodule.exports = generate;\n\tmodule.exports.generate = generate;\n\tmodule.exports.seed = seed;\n\tmodule.exports.worker = worker;\n\tmodule.exports.characters = characters;\n\tmodule.exports.decode = decode;\n\tmodule.exports.isValid = isValid;\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar alphabet = __webpack_require__(3);\n\t\n\tfunction isShortId(id) {\n\t    if (!id || typeof id !== 'string' || id.length < 6 ) {\n\t        return false;\n\t    }\n\t\n\t    var characters = alphabet.characters();\n\t    var len = id.length;\n\t    for(var i = 0; i < len;i++) {\n\t        if (characters.indexOf(id[i]) === -1) {\n\t            return false;\n\t        }\n\t    }\n\t    return true;\n\t}\n\t\n\tmodule.exports = isShortId;\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\t\n\tfunction randomByte() {\n\t    if (!crypto || !crypto.getRandomValues) {\n\t        return Math.floor(Math.random() * 256) & 0x30;\n\t    }\n\t    var dest = new Uint8Array(1);\n\t    crypto.getRandomValues(dest);\n\t    return dest[0] & 0x30;\n\t}\n\t\n\tmodule.exports = randomByte;\n\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// Found this seed-based random generator somewhere\n\t// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\t\n\tvar seed = 1;\n\t\n\t/**\n\t * return a random number based on a seed\n\t * @param seed\n\t * @returns {number}\n\t */\n\tfunction getNextValue() {\n\t    seed = (seed * 9301 + 49297) % 233280;\n\t    return seed/(233280.0);\n\t}\n\t\n\tfunction setSeed(_seed_) {\n\t    seed = _seed_;\n\t}\n\t\n\tmodule.exports = {\n\t    nextValue: getNextValue,\n\t    seed: setSeed\n\t};\n\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = 0;\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** skribble/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6e817ef6861838ab36b9\n **/","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/classnames/index.js\n ** module id = 1\n ** module chunks = 0\n **/","import classNames from 'classnames';\n\nclass Selectable extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      classes: {},\n      selectFunction: this.select,\n    };\n  }\n\n  start() {\n    super.start();\n\n    var selectClass, selectFunction, classes = {};\n\n    selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n    selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\n    if (this.props.selectOnStart) {\n      classes[this.props.selectOnStart] = selectClass;\n    }\n\n    this.setState({\n      started: true,\n      classes,\n      selectFunction,\n      selectClass,\n    });\n  }\n\n  bootstrap() {\n    super.bootstrap();\n\n    var self = this;\n\n    var correctAnswers = this.requireForComplete.filter((ref) => {\n      return self.refs[ref].props.correct;\n    });\n\n    if (correctAnswers.length > 0) {\n      this.requireForComplete = correctAnswers;\n    }\n\n    if (this.refs.bin) {\n      this.setState({\n        list: this.refs.bin.getAll()\n      });\n    }\n  }\n\n  selectHelper(e, classes) {\n    var ref, dataRef, target, id, isCorrect, self = this;\n\n    target = e.target.closest('LI');\n\n    if (!target) return;\n\n    dataRef = target.getAttribute('data-ref');\n    ref = self.refs[dataRef];\n\n    isCorrect = (ref && ref.props && ref.props.correct) || (!self.props.answers || !self.props.answers.length || self.props.answers.indexOf(dataRef) !== -1);\n\n    if (self.props.allowDeselect && classes[dataRef]) {\n      delete classes[dataRef];\n    } else if (isCorrect) {\n      classes[dataRef] = self.state.selectClass;\n    }\n\n    self.setState({\n      classes,\n    });\n\n    self.props.selectRespond.call(self, dataRef);\n    self.props.onSelect.call(self, dataRef);\n\n    if (self.props.chooseOne) {\n      self.requireForComplete = [dataRef];\n    }\n\n    if (self.props.dataTarget) {\n      self.updateGameState({\n        path: self.props.dataTarget,\n        data: {\n          target: ref\n        }\n      });\n    }\n\n    if (self.props.completeListOnClick) {\n      self.requireForComplete.map(key => {\n        if (key === id && self.refs[id]) {\n          self.refs[id].complete();\n        }\n      });\n    }\n\n    self.requireForComplete.map(key => {\n      if (key === dataRef && self.refs[key]) {\n        self.refs[key].complete();\n      }\n    });\n  }\n\n  select(e) {\n    var classes = [];\n    this.selectHelper(e, classes);\n  }\n\n  highlight(e) {\n    var classes = this.state.classes;\n    this.selectHelper(e, classes);\n  }\n\n  getClass(key, li) {\n    return classNames(\n      li.props.className,\n      this.state.classes[key],\n      this.state.classes[li.props['data-ref']]\n    );\n  }\n\n  getClassNames() {\n    return classNames('selectable', super.getClassNames());\n  }\n\n  checkComplete() {\n    var self = this, complete;\n\n    if (this.props.checkComplete === false) return;\n\n    complete = self.requireForComplete.every(key => {\n      if (self.refs[key] instanceof Node) {\n        return true;\n      }\n      if (!self.refs[key].state || (self.refs[key].state && !self.refs[key].state.complete)) {\n        if (typeof self.refs[key].checkComplete === 'function') {\n          self.refs[key].checkComplete();\n        }\n        return false;\n      }\n      return true;\n    });\n\n    if (complete && !self.state.complete) {\n      self.complete();\n    } else if (self.state.started && !complete && self.state.complete) {\n      self.incomplete();\n    }\n  }\n\n  renderBin() {\n    if (!this.props.bin) return null;\n\n    return (\n      <this.props.bin.type\n        {...this.props.bin.props}\n        ref=\"bin\"\n      />\n    );\n  }\n\n  renderList() {\n    var list = this.props.list || this.state.list;\n    return list.map((li, key) => {\n      var dataRef = li.props['data-ref'] || key;\n      var ref = li.ref || li.props.id || dataRef;\n      var message = li.props.message || '' + key;\n      return (\n        <li.type\n          {...li.props}\n          type=\"li\"\n          className={this.getClass(key, li)}\n          message={message}\n          data-message={message}\n          data-ref={dataRef}\n          ref={ref}\n          key={key}\n        />\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderBin()}\n        <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n          {this.renderList()}\n        </ul>\n      </div>\n    );\n  }\n}\n\nSelectable.defaultProps = _.defaults({\n  list: [\n    <li></li>,\n    <li></li>,\n    <li></li>,\n    <li></li>\n  ],\n  selectClass: 'SELECTED',\n  completeListOnClick: true,\n  selectRespond: _.noop,\n  onSelect: _.noop,\n}, skoash.Component.defaultProps);\n\nexport default Selectable;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/selectable/0.1.js\n **/","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/alphabet.js\n ** module id = 3\n ** module chunks = 0\n **/","import classNames from 'classnames';\n\nimport EditableAsset from '../editable_asset/0.1.js';\n\nclass Canvas extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      background: null,\n      items: [],\n      messages: [],\n      offsetX: 0,\n      offsetY: 0,\n      active: false,\n      valid: true,\n    };\n\n    this.deleteItem = this.deleteItem.bind(this);\n    this.checkItem = this.checkItem.bind(this);\n    this.deactivateItems = this.deactivateItems.bind(this);\n    this.relayerItems = this.relayerItems.bind(this);\n    this.setValid = this.setValid.bind(this);\n  }\n\n  start() {\n    var dom = ReactDOM.findDOMNode(this);\n\n    super.start();\n\n    this.setState({\n      width: dom.offsetWidth,\n      height: dom.offsetHeight,\n    });\n  }\n\n  getItems() {\n    var items, messages, self = this;\n\n    items = this.state.items.map((item, key) => {\n      var state;\n\n      if (!self.refs['item-' + key]) return item;\n\n      state = self.refs['item-' + key].state;\n\n      item.state = {\n        left: _.floor(state.left, 14),\n        top: _.floor(state.top, 14),\n        scale: _.floor(state.scale, 14),\n        rotation: _.floor(state.rotation, 14),\n        layer: state.layer,\n        valid: state.valid,\n        corners: state.corners,\n      };\n\n      item.check = state.check;\n      item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\n      return item;\n    });\n\n    messages = this.state.messages.map((item, key) => {\n      var state;\n\n      if (!self.refs['message-' + key]) return item;\n\n      state = self.refs['message-' + key].state;\n\n      item.state = {\n        left: _.floor(state.left, 14),\n        top: _.floor(state.top, 14),\n        scale: _.floor(state.scale, 14),\n        rotation: _.floor(state.rotation, 14),\n        layer: state.layer,\n        valid: state.valid,\n        corners: state.corners,\n      };\n\n      item.check = state.check;\n      item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\n      return item;\n    });\n\n    _.remove(items, n => {\n      return !n;\n    });\n\n    _.remove(messages, n => {\n      return !n;\n    });\n\n    return {\n      background: this.state.background,\n      items,\n      messages,\n    };\n  }\n\n  reset() {\n    this.setState({\n      background: null,\n      items: [],\n      messages: []\n    });\n  }\n\n  setItems(message) {\n    if (message) {\n      /*\n       *\n       * This makes sure the EditableAssets get cleared.\n       *\n       * This prevents the new assets from inheriting\n       * state from the old assets.\n       *\n       */\n      this.setState({\n        background: null,\n        items: [],\n        messages: [],\n      }, () => {\n        this.addItem(message.background);\n        message.items.forEach(asset => {\n          this.addItem(asset);\n        });\n        message.messages.forEach(asset => {\n          this.addItem(asset);\n        });\n      });\n    }\n  }\n\n  addItem(asset, cb) {\n    var items, messages, index, count;\n\n    if (!asset) return;\n\n    if (asset.asset_type === 'background') {\n      this.setState({\n        background: asset,\n      }, () => {\n        skoash.trigger('emit', {\n          name: 'getMedia',\n          'media_id': asset.media_id\n        }).then(d => {\n          var background = this.state.background;\n          background.check = d.check;\n          background.mime_type = d.mime_type; // eslint-disable-line camelcase\n          this.setState({\n            background\n          }, cb);\n        });\n      });\n    } else if (asset.asset_type === 'item') {\n      items = this.state.items;\n\n      count = _.reduce(items, (c, v) => {\n        if (asset.src === v.src) c++;\n        return c;\n      }, 1);\n\n      if (count > this.props.maxInstances) {\n        skoash.trigger('openMenu', {\n          id: 'limitWarning'\n        });\n        return;\n      }\n\n      items.push(asset);\n      index = items.indexOf(asset);\n\n      this.setState({\n        items,\n      }, () => {\n        skoash.trigger('emit', {\n          name: 'getMedia',\n          'media_id': asset.media_id\n        }).then(d => {\n          asset.check = d.check;\n          asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n          items[index] = asset;\n          this.setState({\n            items\n          }, cb);\n        });\n      });\n    } else if (asset.asset_type === 'message') {\n      messages = this.state.messages;\n\n      count = _.reduce(items, (c, v) => {\n        if (asset.src === v.src) c++;\n        return c;\n      }, 1);\n\n      if (count > this.props.maxInstances) return;\n\n      messages.push(asset);\n      index = messages.indexOf(asset);\n\n      this.setState({\n        messages,\n      }, () => {\n        skoash.trigger('emit', {\n          name: 'getMedia',\n          'media_id': asset.media_id\n        }).then(d => {\n          asset.check = d.check;\n          asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n          messages[index] = asset;\n          this.setState({\n            messages\n          }, cb);\n        });\n      });\n    }\n  }\n\n  deleteItem(key, type) {\n    var items;\n\n    items = this.state[type + 's'];\n    delete items[key];\n\n    this.setState({\n      [type + 's']: items,\n    });\n  }\n\n  deactivateItems(exclude, type) {\n    if (typeof exclude === 'object' && exclude.target) {\n      if (exclude.target.tagName !== 'LI') return;\n      this.setState({\n        active: false,\n      });\n      if (!this.state.valid) {\n        skoash.trigger('passData', {\n          name: 'showCollisionWarning'\n        });\n      }\n    }\n\n    if (typeof exclude === 'number') {\n      this.setState({\n        active: true,\n      });\n    }\n\n    this.state.items.map((item, key) => {\n      if ((key !== exclude || type !== 'item') && this.refs['item-' + key]) {\n        this.refs['item-' + key].deactivate();\n      }\n    });\n\n    this.state.messages.map((item, key) => {\n      if ((key !== exclude || type !== 'message') && this.refs['message-' + key]) {\n        this.refs['message-' + key].deactivate();\n      }\n    });\n  }\n\n  relayerItems(type) {\n    var layers = [];\n\n    this.state[type + 's'].map((item, key) => {\n      var layer;\n\n      layer = this.refs[type + '-' + key].state.layer;\n\n      if (layers.indexOf(layer) === -1) {\n        layers.push(layer);\n      }\n    });\n\n    layers.sort((a, b) => {\n      return a < b;\n    });\n\n    this.state[type + 's'].map((item, key) => {\n      var oldLayer, newLayer;\n\n      oldLayer = this.refs[type + '-' + key].state.layer;\n      newLayer = (type === 'message') ? 10000 : 1000;\n      newLayer = newLayer - layers.indexOf(oldLayer);\n\n      this.refs[type + '-' + key].relayer(newLayer);\n    });\n  }\n\n  checkItem(key, type) {\n    var self = this;\n\n    return (\n      !self.refs[type + '-' + key].state.corners.length ||\n      (\n        self.isInBounds(key, type) && (\n          self.refs[type + '-' + key].state.can_overlap ||\n          !self.state[type + 's'].some((item, index) =>\n            key !== index &&\n            !self.refs[type + '-' + index].state.can_overlap &&\n            self.refs[type + '-' + index].state.corners.length &&\n            skoash.util.doIntersect(\n              self.refs[type + '-' + key].state.corners,\n              self.refs[type + '-' + index].state.corners\n            )\n          )\n        )\n      )\n    );\n  }\n\n  isInBounds(key, type) {\n    return !this.state.width ||\n      !this.state.height ||\n      !(\n      // box to left\n      skoash.util.doIntersect(\n        this.refs[type + '-' + key].state.corners,\n        [\n          {x: 0, y: -this.state.height},\n          {x: 0, y: 2 * this.state.height},\n          {x: -this.state.width, y: 2 * this.state.height},\n          {x: -this.state.width, y: -this.state.height}\n        ]\n      ) ||\n      // box above\n      skoash.util.doIntersect(\n        this.refs[type + '-' + key].state.corners,\n        [\n          {x: -this.state.width, y: 0},\n          {x: 2 * this.state.width, y: 0},\n          {x: 2 * this.state.width, y: -this.state.height},\n          {x: this.state.width, y: -this.state.height}\n        ]\n      ) ||\n      // box to right\n      skoash.util.doIntersect(\n        this.refs[type + '-' + key].state.corners,\n        [\n          {x: this.state.width, y: -this.state.height},\n          {x: this.state.width, y: 2 * this.state.height},\n          {x: 2 * this.state.width, y: 2 * this.state.height},\n          {x: 2 * this.state.width, y: -this.state.height}\n        ]\n      ) ||\n      // box below\n      skoash.util.doIntersect(\n        this.refs[type + '-' + key].state.corners,\n        [\n          {x: -this.state.width, y: this.state.height},\n          {x: 2 * this.state.width, y: this.state.height},\n          {x: 2 * this.state.width, y: 2 * this.state.height},\n          {x: -this.state.width, y: 2 * this.state.height}\n        ]\n      )\n    );\n  }\n\n  setValid(valid) {\n    this.setState({\n      valid\n    });\n\n    this.props.setValid.call(this, valid);\n  }\n\n  getStyle() {\n    if (!this.state.background) return;\n\n    return {\n      backgroundImage: `url(${this.state.background.src})`,\n    };\n  }\n\n  renderItems() {\n    var self = this;\n\n    return this.state.items.map((item, key) => {\n      return (\n        <EditableAsset\n          {...item}\n          data-ref={key}\n          minDim={this.props.itemMinDim}\n          deleteItem={self.deleteItem}\n          checkItem={self.checkItem}\n          deactivateItems={self.deactivateItems}\n          relayerItems={self.relayerItems}\n          setValid={self.setValid}\n          ref={'item-' + key}\n          key={key}\n        />\n      );\n    });\n  }\n\n  renderMessages() {\n    var self = this;\n\n    return this.state.messages.map((item, key) => {\n      return (\n        <EditableAsset\n          {...item}\n          data-ref={key}\n          minDim={this.props.messageMinDim}\n          deleteItem={self.deleteItem}\n          checkItem={self.checkItem}\n          deactivateItems={self.deactivateItems}\n          relayerItems={self.relayerItems}\n          setValid={self.setValid}\n          canvasWidth={this.state.width}\n          canvasHeight={this.state.height}\n          ref={'message-' + key}\n          key={key}\n        />\n      );\n    });\n  }\n\n  getClassNames() {\n    return classNames({\n      canvas: true,\n      ACTIVE: !this.props.preview && this.state.active,\n    });\n  }\n\n  render() {\n    return (\n      <ul\n        className={this.getClassNames()}\n        style={this.getStyle()}\n        onClick={this.deactivateItems}\n      >\n        {this.renderItems()}\n        {this.renderMessages()}\n      </ul>\n    );\n  }\n}\n\nCanvas.defaultProps = _.defaults({\n  maxInstances: 5,\n  setValid: _.identity,\n}, skoash.Component.defaultProps);\n\nexport default Canvas;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/canvas/0.1.js\n **/","import shortid from 'shortid';\nimport classNames from 'classnames';\n\nimport Selectable from 'shared/components/selectable/0.1';\nimport ScrollArea from 'shared/components/scroll_area/0.1';\n\nclass ItemDrawer extends Selectable {\n  start() {\n    var items, selectedItem, selectClass, selectFunction, classes = {}, self = this;\n\n    selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n    selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\n    items = self.props.data || [];\n\n    if (self.state.category && items[self.state.category]) {\n      items = items[self.state.category].items;\n    }\n\n    selectedItem = JSON.stringify(self.props.selectedItem);\n\n    _.each(items, (item, key) => {\n      if (self.props.selectedItem && JSON.stringify(item) === selectedItem) {\n        classes[key] = selectClass;\n      }\n    });\n\n    if (this.props.selectOnStart) {\n      classes[this.props.selectOnStart] = selectClass;\n    }\n\n    this.setState({\n      started: true,\n      classes,\n      selectClass,\n      selectFunction,\n      categoryName: '',\n      category: '',\n    });\n\n    _.each(self.refs, ref => {\n      if (typeof ref.start === 'function') ref.start();\n    });\n  }\n\n  selectHelper(e) {\n    var li, message, key, type, categoryName, classes = [];\n\n    li = e.target.closest('LI');\n    if (!li) return;\n\n    key = li.getAttribute('data-ref');\n    if (!this.refs[key]) return;\n\n    type = this.refs[key].props.item.asset_type;\n    if (!type) return;\n\n    if (type === 'folder') {\n      categoryName = this.refs[key].props.item.name;\n      this.setState({\n        category: key,\n        categoryName\n      });\n    } else {\n      message = this.refs[key].props.item;\n      classes[key] = this.props.selectClass;\n\n      this.setState({\n        message,\n        classes,\n      });\n    }\n  }\n\n  selectButton() {\n    if (typeof this.props.selectRespond === 'function' && this.state.message) {\n      this.props.selectRespond(this.state.message);\n    }\n  }\n\n  continueButton() {\n    if (typeof this.props.selectRespond === 'function') {\n      this.props.selectRespond({});\n    }\n  }\n\n  cancelButton() {\n    if (typeof this.props.cancelRespond === 'function') {\n      this.props.cancelRespond.call(this);\n    }\n  }\n\n  getCategory() {\n    if (this.state.categoryName || this.props.categoryName) {\n      return this.state.categoryName || this.props.categoryName;\n    }\n\n    if (this.props.categories && this.props.categories.length) {\n      return this.props.categories[this.props.categories.length - 1];\n    }\n    return '';\n  }\n\n  getClassNames() {\n    return classNames({\n      'ANSWERED': _.values(this.state.classes).indexOf(this.state.selectClass) !== -1\n    }, this.props.className, 'item-drawer-component');\n  }\n\n  getULClass() {\n    return classNames('item-drawer', {\n      COMPLETE: this.state.complete,\n    }, this.props.categories ? this.props.categories.join(' ') : '');\n  }\n\n  getClass(key, item) {\n    return classNames(this.state.classes[key] || '', {\n      white: item && item.name && item.name.toLowerCase()[item.name.length - 1] === 'w',\n    });\n  }\n\n  renderButtons() {\n    return (\n      <div className=\"buttons\">\n        <button className=\"select\" onClick={this.selectButton.bind(this)} />\n        <button className=\"continue\" onClick={this.continueButton.bind(this)} />\n        <button className=\"cancel\" onClick={this.cancelButton.bind(this)} />\n      </div>\n    );\n  }\n\n  renderItemContent(item) {\n    var content = [], thumb, src;\n\n    if (item.src || item.thumb) {\n      src = item.thumb || item.src;\n    } else if (item.items) {\n      if (!_.isArray(item.items)) {\n        item.items = _.values(item.items);\n      }\n\n      thumb = _.find(item.items, subitem => {\n        if (subitem.name === '_thumb') return true;\n      });\n\n      if (thumb) src = thumb.thumb || thumb.src;\n\n      if (!src && item.items[0]) src = item.items[0].thumb || item.items[0].src;\n    }\n\n    if (src) {\n      content.push(<skoash.Image src={src} key={0} />);\n    }\n\n    if (item.name && (item.asset_type === 'folder' || item.asset_type === 'friend')) {\n      content.push(<span className=\"name\" key={1}>{item.name}</span>);\n    }\n\n    if (item.description) {\n      content.push(<span className=\"description\" key={2}>{item.description}</span>);\n    }\n\n    return content;\n  }\n\n  renderList() {\n    var items, self = this;\n\n    if (!this.props.data) return;\n\n    items = this.props.data;\n\n    if (this.state.category && items[this.state.category]) {\n      items = items[this.state.category].items;\n    }\n\n    if (!_.isArray(items)) {\n      items = _.values(items);\n    }\n\n    return items.sort((a, b) => {\n      var aVal = !_.isNaN(window.parseInt(a.order)) ? window.parseInt(a.order) : Infinity;\n      var bVal = !_.isNaN(window.parseInt(b.order)) ? window.parseInt(b.order) : Infinity;\n      if (aVal === bVal) {\n        if (a.name < b.name) return -1;\n        if (a.name > b.name) return 1;\n        return 0;\n      }\n      if (aVal < bVal) return -1;\n      return 1;\n    }).filter(item =>\n      item.name !== '_thumb'\n    ).map((item, key) =>\n      <skoash.ListItem\n        className={this.getClass(key, item)}\n        ref={key}\n        data-ref={key}\n        item={item}\n        key={shortid.generate()}\n      >\n        {self.renderItemContent(item)}\n      </skoash.ListItem>\n    );\n  }\n\n  render() {\n    return (\n      <div className={this.getClassNames()}>\n        <div className=\"item-drawer-container\">\n          <h2>{this.getCategory()}</h2>\n          <ScrollArea ref=\"scroll-area\" img={this.props.scrollbarImg}>\n            <ul ref=\"list\" className={this.getULClass()} onClick={this.state.selectFunction.bind(this)}>\n              {this.renderList()}\n            </ul>\n          </ScrollArea>\n        </div>\n        {this.renderButtons()}\n      </div>\n    );\n  }\n}\n\nItemDrawer.defaultProps = _.defaults({\n  scrollbarImg: '',\n  shouldComponentUpdate: function (nextProps, nextState) {\n    var items, quickCheck, itemsChanged;\n\n    items = nextProps.data || [];\n    if (nextState.category && items[nextState.category]) {\n      items = items[nextState.category].items;\n    }\n\n    quickCheck = _.reduce(items, (a, i) => a + i.name, '');\n\n    itemsChanged = this.quickCheck !== quickCheck;\n    if (itemsChanged) this.quickCheck = quickCheck;\n\n    return itemsChanged || nextProps.categoryName !== this.props.categoryName ||\n      JSON.stringify(this.state.classes) !== JSON.stringify(nextState.classes);\n  },\n}, Selectable.defaultProps);\n\nexport default ItemDrawer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/item_drawer/0.1.js\n **/","import classNames from 'classnames';\n\nclass Draggable extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      startX: 0,\n      startY: 0,\n      endX: 0,\n      endY: 0,\n      zoom: 1,\n    };\n\n    this.mouseDown = this.mouseDown.bind(this);\n    this.mouseUp = this.mouseUp.bind(this);\n\n    this.moveEvent = this.moveEvent.bind(this);\n\n    this.touchStart = this.touchStart.bind(this);\n    this.touchEnd = this.touchEnd.bind(this);\n  }\n\n  shouldDrag() {\n    return true;\n  }\n\n  incomplete() {\n    this.markIncorrect();\n    this.returnToStart();\n\n    super.incomplete();\n  }\n\n  markCorrect() {\n    this.setState({\n      correct: true,\n    });\n  }\n\n  markIncorrect() {\n    this.setState({\n      correct: false,\n    });\n  }\n\n  startEvent(e, cb) {\n    var pageX, pageY, rect, startX, startY, endX, endY, grabX, grabY;\n\n    if (e.target !== this.refs.el) return;\n    if (!this.shouldDrag()) return;\n\n    if (e.targetTouches && e.targetTouches[0]) {\n      pageX = e.targetTouches[0].pageX;\n      pageY = e.targetTouches[0].pageY;\n      rect = e.target.getBoundingClientRect();\n      e = e.targetTouches[0];\n      e.offsetX = pageX - rect.left;\n      e.offsetY = pageY - rect.top;\n    }\n\n    grabX = e.offsetX;\n    grabY = e.offsetY;\n\n    startX = endX = e.pageX - grabX;\n    startY = endY = e.pageY - grabY;\n\n    if (!this.state.firstX) {\n      this.setState({\n        firstX: startX,\n        firstY: startY,\n      });\n    }\n\n    if (!this.props.return) {\n      startX = _.isFinite(this.state.grabX) ?\n        this.state.startX + this.state.grabX - grabX :\n        startX;\n      startY = _.isFinite(this.state.grabY) ?\n        this.state.startY + this.state.grabY - grabY :\n        startY;\n    }\n\n    this.setState({\n      dragging: true,\n      return: false,\n      startX,\n      startY,\n      grabX,\n      grabY,\n      endX,\n      endY,\n    });\n\n    if (typeof this.props.dragRespond === 'function') {\n      this.props.dragRespond(this.props.message);\n    }\n\n    if (typeof cb === 'function') {\n      cb.call(this);\n    }\n  }\n\n  attachMouseEvents() {\n    window.addEventListener('mousemove', this.moveEvent);\n    window.addEventListener('mouseup', this.mouseUp);\n  }\n\n  attachTouchEvents() {\n    window.addEventListener('touchmove', this.moveEvent);\n    window.addEventListener('touchend', this.touchEnd);\n  }\n\n  mouseDown(e) {\n    this.startEvent(e, this.attachMouseEvents);\n  }\n\n  touchStart(e) {\n    this.startEvent(e, this.attachTouchEvents);\n  }\n\n  moveEvent(e) {\n    if (e.targetTouches && e.targetTouches[0]) {\n      e.pageX = e.targetTouches[0].pageX;\n      e.pageY = e.targetTouches[0].pageY;\n    }\n\n    this.setState({\n      endX: e.pageX - this.state.grabX,\n      endY: e.pageY - this.state.grabY,\n    });\n  }\n\n  returnToStart() {\n    if (this.state.firstX) {\n      this.setState({\n        dragging: false,\n        return: true,\n        endX: this.state.firstX,\n        endY: this.state.firstY,\n      });\n    }\n  }\n\n  endEvent(cb) {\n    this.dropRespond();\n\n    if (this.props.return) {\n      this.returnToStart();\n    } else {\n      this.setState({\n        dragging: false,\n        return: this.state.return,\n      });\n    }\n\n    if (typeof cb === 'function') {\n      cb.call(this);\n    }\n  }\n\n  detachMouseEvents() {\n    window.removeEventListener('mousemove', this.moveEvent);\n    window.removeEventListener('mouseup', this.mouseUp);\n  }\n\n  detachTouchEvents() {\n    window.removeEventListener('touchmove', this.moveEvent);\n    window.removeEventListener('touchend', this.touchEnd);\n  }\n\n  mouseUp() {\n    this.endEvent(this.detachMouseEvents);\n  }\n\n  touchEnd() {\n    this.endEvent(this.detachTouchEvents);\n  }\n\n  dropRespond() {\n    var corners;\n\n    corners = this.setCorners();\n\n    if (typeof this.props.dropRespond === 'function') {\n      this.props.dropRespond(this.props.message, corners);\n    }\n  }\n\n  setCorners() {\n    var top, left, width, height, el, corners = [];\n\n    left = 0;\n    top = 0;\n    el = this.refs.el;\n    width = el.offsetWidth;\n    height = el.offsetHeight;\n\n    while (el) {\n      if (el.className.indexOf('screen') !== -1) {\n        break;\n      }\n\n      left += el.offsetLeft || 0;\n      top += el.offsetTop || 0;\n      el = el.offsetParent;\n    }\n\n    left += ((this.state.endX - this.state.startX) / this.state.zoom);\n    top += ((this.state.endY - this.state.startY) / this.state.zoom);\n\n    for (var i = 0; i < 4; i++) {\n      corners.push({\n        x: left + width * (i === 1 || i === 2 ? 1 : 0),\n        y: top + height * (i > 1 ? 1 : 0),\n      });\n    }\n\n    this.setState({\n      corners,\n    });\n\n    return corners;\n  }\n\n  componentDidMount() {\n    this.bootstrap();\n  }\n\n  bootstrap() {\n    super.bootstrap();\n\n    this.setZoom();\n\n    this.refs.el.addEventListener('mousedown', this.mouseDown);\n    this.refs.el.addEventListener('touchstart', this.touchStart);\n\n    window.addEventListener('resize', this.setZoom.bind(this));\n  }\n\n  setZoom() {\n    skoash.trigger('getState').then(state => {\n      this.setState({\n        zoom: state.scale,\n      });\n    });\n  }\n\n  getStyle() {\n    var x, y;\n\n    x = ((this.state.endX - this.state.startX) / this.state.zoom);\n    y = ((this.state.endY - this.state.startY) / this.state.zoom);\n\n    return {\n      transform: `translateX(${x}px) translateY(${y}px)`,\n      WebkitTransform: `translateX(${x}px) translateY(${y}px)`,\n    };\n  }\n\n  getClassNames() {\n    return classNames({\n      draggable: true,\n      [this.props.className]: this.props.className,\n      [this.props.message]: this.props.message,\n      DRAGGING: this.state.dragging,\n      RETURN: this.state.return,\n      CORRECT: this.state.correct,\n    }, super.getClassNames());\n  }\n\n  render() {\n    return (\n      <div\n        ref=\"el\"\n        className={this.getClassNames()}\n        style={this.getStyle()}\n      >{this.props.children}</div>\n    );\n  }\n}\n\nexport default Draggable;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/draggable/0.1.js\n **/","import classNames from 'classnames';\n\nimport Draggable from '../draggable/0.1.js';\n\nclass EditableAsset extends Draggable {\n  constructor() {\n    super();\n\n    this.state = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0,\n      scale: .5,\n      minScale: .1,\n      maxScale: 1,\n      rotation: 0,\n      layer: 1000,\n      zoom: 1,\n      active: false,\n      valid: true,\n      corners: [],\n      lastValid: {},\n    };\n\n    this.scale = this.scale.bind(this);\n    this.adjustScale = this.adjustScale.bind(this);\n    this.offScale = this.offScale.bind(this);\n\n    this.rotate = this.rotate.bind(this);\n    this.adjustRotation = this.adjustRotation.bind(this);\n    this.offRotate = this.offRotate.bind(this);\n  }\n\n  shouldDrag() {\n    return this.state.active;\n  }\n\n  activate() {\n    this.setState({\n      active: true,\n    });\n\n    if (typeof this.props.deactivateItems === 'function') {\n      this.props.deactivateItems(this.props['data-ref'], this.props.asset_type);\n    }\n  }\n\n  deactivate() {\n    if (!this.state.valid) {\n      this.setState({\n        left: this.state.lastValid.left || this.state.left,\n        top: this.state.lastValid.top || this.state.top,\n        scale: this.state.lastValid.scale || this.state.scale,\n        rotation: this.state.lastValid.rotation || this.state.rotation,\n        active: false,\n      }, () => {\n        setTimeout(() => {\n          this.checkItem();\n        }, 0);\n      });\n    } else {\n      this.setState({\n        active: false,\n      });\n    }\n  }\n\n  moveEvent(e) {\n    if (e.targetTouches && e.targetTouches[0]) {\n      e.pageX = e.targetTouches[0].pageX;\n      e.pageY = e.targetTouches[0].pageY;\n    }\n\n    this.setState({\n      endX: e.pageX - this.state.grabX,\n      endY: e.pageY - this.state.grabY,\n      left: ((e.pageX - this.state.grabX - this.state.startX) / this.state.zoom),\n      top: ((e.pageY - this.state.grabY - this.state.startY) / this.state.zoom),\n    });\n    this.checkItem();\n  }\n\n  delete() {\n    if (typeof this.props.deleteItem === 'function') {\n      this.props.deleteItem(this.props['data-ref'], this.props.asset_type);\n    }\n  }\n\n  rotate() {\n    this.refs.el.parentNode.addEventListener('mousemove', this.adjustRotation);\n    this.refs.el.parentNode.addEventListener('mouseup', this.offRotate);\n\n    this.refs.el.parentNode.addEventListener('touchmove', this.adjustRotation);\n    this.refs.el.parentNode.addEventListener('touchend', this.offRotate);\n  }\n\n  offRotate() {\n    this.refs.el.parentNode.removeEventListener('mousemove', this.adjustRotation);\n    this.refs.el.parentNode.removeEventListener('mouseup', this.offRotate);\n\n    this.refs.el.parentNode.removeEventListener('touchmove', this.adjustRotation);\n    this.refs.el.parentNode.removeEventListener('touchend', this.offRotate);\n  }\n\n  adjustRotation(e) {\n    var rotation, deltaX, deltaY;\n\n    if (e.targetTouches && e.targetTouches[0]) {\n      e.pageX = e.targetTouches[0].pageX;\n      e.pageY = e.targetTouches[0].pageY;\n    }\n\n    deltaX = (e.pageX / this.state.zoom) - (this.refs.li.offsetParent.offsetLeft) - (this.state.left + this.state.width / 2);\n    deltaY = (e.pageY / this.state.zoom) - (this.refs.li.offsetParent.offsetTop) - (this.state.top + this.state.height / 2);\n\n    rotation = Math.atan2(deltaY, deltaX) + (Math.PI / 4) % (2 * Math.PI);\n\n    this.setState({\n      rotation,\n    });\n\n    this.checkItem();\n  }\n\n  layer() {\n    var layer, self = this;\n\n    layer = this.state.layer - 1;\n\n    this.setState({\n      layer,\n    }, () => {\n      if (typeof self.props.relayerItems === 'function') {\n        self.props.relayerItems(self.props.asset_type);\n      }\n    });\n  }\n\n  relayer(layer) {\n    this.setState({\n      layer,\n    });\n  }\n\n  scale() {\n    this.refs.el.parentNode.addEventListener('mousemove', this.adjustScale);\n    this.refs.el.parentNode.addEventListener('mouseup', this.offScale);\n\n    this.refs.el.parentNode.addEventListener('touchmove', this.adjustScale);\n    this.refs.el.parentNode.addEventListener('touchend', this.offScale);\n  }\n\n  offScale() {\n    this.refs.el.parentNode.removeEventListener('mousemove', this.adjustScale);\n    this.refs.el.parentNode.removeEventListener('mouseup', this.offScale);\n\n    this.refs.el.parentNode.removeEventListener('touchmove', this.adjustScale);\n    this.refs.el.parentNode.removeEventListener('touchend', this.offScale);\n  }\n\n  adjustScale(e) {\n    var scale, deltaX, deltaY, delta, base;\n\n    if (e.targetTouches && e.targetTouches[0]) {\n      e.pageX = e.targetTouches[0].pageX;\n      e.pageY = e.targetTouches[0].pageY;\n    }\n\n    deltaX = (e.pageX / this.state.zoom) - (this.refs.li.offsetParent.offsetLeft / this.state.zoom) - (this.state.left + this.state.width / 2);\n    deltaY = (e.pageY / this.state.zoom) - (this.refs.li.offsetParent.offsetTop / this.state.zoom) - (this.state.top + this.state.height / 2);\n\n    delta = Math.pow(Math.pow(deltaX, 2) + Math.pow(deltaY, 2), .5);\n    base = Math.pow(Math.pow(this.state.width / 2, 2) + Math.pow(this.state.height / 2, 2), .5);\n\n    scale = Math.max(Math.min(delta / base, 1), this.state.minScale);\n\n    this.setState({\n      scale,\n    });\n\n    this.checkItem();\n  }\n\n  checkItem() {\n    this.setCorners(() => {\n      var valid;\n\n      if (typeof this.props.checkItem === 'function') {\n        valid = this.props.checkItem(this.props['data-ref'], this.props.asset_type);\n\n        if (valid) {\n          this.setState({\n            valid,\n            lastValid: new Object(this.state),\n          });\n        } else {\n          this.setState({\n            valid,\n          });\n        }\n\n        this.props.setValid.call(this, valid);\n      }\n    });\n  }\n\n  setCorners(cb) {\n    var center, distance, angle, corners = [];\n\n    center = {\n      x: this.state.left + this.state.width / 2,\n      y: this.state.top + this.state.height / 2,\n    };\n\n    distance = Math.pow(Math.pow(this.state.width * this.state.scale / 2, 2) + Math.pow(this.state.height * this.state.scale / 2, 2), .5);\n\n    for (var i = 0; i < 4; i++) {\n      angle = this.state.rotation;\n      angle += (i < 2 ? 0 : Math.PI);\n      angle += Math.pow(-1, i) * Math.atan2(this.state.height, this.state.width);\n\n      corners.push({\n        x: center.x + distance * Math.cos(angle),\n        y: center.y + distance * Math.sin(angle),\n      });\n    }\n\n    this.setState({\n      corners,\n    }, cb);\n  }\n\n  getSize() {\n    var image, self = this;\n\n    image = new Image();\n\n    image.onload = () => {\n      var offset, left, top, width, height, minDim, maxDim, minScale, maxScale, scale;\n\n      minDim = this.props.minDim || 40;\n      maxDim = this.props.maxDim || 400;\n      left = this.state.left;\n      top = this.state.top;\n      width = image.width;\n      height = image.height;\n\n      minScale = Math.max(minDim / width, minDim / height);\n      maxScale = Math.min(maxDim / width, maxDim / height, this.state.maxScale);\n      scale = self.props.state && self.props.state.scale ?\n        self.props.state.scale :\n        Math.max(Math.min(self.state.scale, maxScale), minScale);\n\n      if ((!this.state.height || !this.state.width) &&\n        (!this.state.left && !this.state.top)) {\n        left = (this.props.canvasWidth - width) / 2;\n        top = (this.props.canvasHeight - height) / 2;\n      }\n\n      offset = this.refs.el.getBoundingClientRect();\n\n      self.setState({\n        left,\n        top,\n        startX: offset.left,\n        startY: offset.top,\n        grabX: (width / 2) * scale,\n        grabY: (height / 2) * scale,\n        width,\n        height,\n        minScale,\n        scale,\n      }, () => {\n        self.activate();\n        self.checkItem();\n      });\n    };\n\n    image.src = this.props.src;\n  }\n\n  getLayer() {\n    var layer = 1000;\n\n    if (this.props.state && this.props.state.layer) {\n      layer = this.props.state.layer;\n    } else {\n      switch (this.props.asset_type) {\n      case 'background':\n        layer = 1;\n        break;\n      case 'message':\n        layer = 10000;\n        break;\n      }\n    }\n\n    this.setState({\n      layer,\n    });\n  }\n\n  attachEvents() {\n    this.refs.scale.addEventListener('mousedown', this.scale);\n    this.refs.rotate.addEventListener('mousedown', this.rotate);\n\n    this.refs.scale.addEventListener('touchstart', this.scale);\n    this.refs.rotate.addEventListener('touchstart', this.rotate);\n  }\n\n  componentDidMount() {\n    this.bootstrap();\n  }\n\n  bootstrap() {\n    super.bootstrap();\n\n    if (this.props.state) {\n      this.setState(this.props.state);\n    }\n\n    this.getSize();\n    this.getLayer();\n\n    this.attachEvents();\n\n    skoash.trigger('emit', {\n      name: 'getMedia',\n      'media_id': this.props.media_id\n    }).then(d => {\n      this.setState(d, () => {\n        this.checkItem();\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    this.attachEvents();\n  }\n\n  getButtonStyle(extraRotation = 0) {\n    var style, transform = '';\n\n    transform += `scale(${(1 / this.state.scale)}) `;\n    transform += `rotate(${(-this.state.rotation - extraRotation)}rad) `;\n\n    style = {\n      transform,\n    };\n\n    return style;\n  }\n\n  getAssetStyle() {\n    var style, transform = '';\n\n    transform += `scale(${this.state.scale}) `;\n    transform += `rotate(${this.state.rotation}rad) `;\n\n    style = {\n      backgroundImage: `url(\"${this.props.src}\")`,\n      width: this.state.width,\n      height: this.state.height,\n      left: this.state.left,\n      top: this.state.top,\n      transform,\n      zIndex: this.state.layer,\n    };\n\n    return style;\n  }\n\n  getButtonsStyle() {\n    var style, transform = '';\n\n    transform += `scale(${this.state.scale}) `;\n    transform += `rotate(${this.state.rotation}rad) `;\n\n    style = {\n      width: this.state.width,\n      height: this.state.height,\n      left: this.state.left,\n      top: this.state.top,\n      transform,\n    };\n\n    return style;\n  }\n\n  getClasses() {\n    return classNames({\n      DRAGGING: this.state.dragging,\n      RETURN: this.state.return,\n      ACTIVE: this.state.active,\n      INVALID: !this.state.valid,\n    }, 'editable-asset', this.props.asset_type);\n  }\n\n  renderAsset() {\n    return (\n      <div\n        ref=\"el\"\n        className=\"asset\"\n        style={this.getAssetStyle()}\n      />\n    );\n  }\n\n  renderButtons() {\n    return (\n      <div\n        className=\"buttons\"\n        style={this.getButtonsStyle()}\n      >\n        <button\n          className=\"delete\"\n          style={this.getButtonStyle()}\n          onClick={this.delete.bind(this)}\n        />\n        <button\n          ref=\"rotate\"\n          className=\"rotate\"\n          style={this.getButtonStyle()}\n        />\n        <button\n          className=\"layer\"\n          onClick={this.layer.bind(this)}\n          style={this.getButtonStyle()}\n        />\n        <button\n          ref=\"scale\"\n          className=\"scale\"\n          style={this.getButtonStyle(1.5708)}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <li\n        ref=\"li\"\n        className={this.getClasses()}\n        onClick={this.activate.bind(this)}\n      >\n        {this.renderAsset()}\n        {this.renderButtons()}\n      </li>\n    );\n  }\n}\n\nEditableAsset.defaultProps = _.defaults({\n  canvasWidth: 1280,\n  canvasHeight: 720,\n  setValid: _.identity,\n}, Draggable.defaultProps);\n\nexport default EditableAsset;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/editable_asset/0.1.js\n **/","import classNames from 'classnames';\n\nimport Selectable from '../selectable/0.1';\n\nclass Inbox extends Selectable {\n  constructor() {\n    super();\n  }\n\n  selectHelper(e) {\n    var li, message, key, classes = [];\n\n    li = e.target.closest('LI');\n\n    if (!li) return;\n\n    key = li.getAttribute('data-ref');\n\n    if (!this.refs[key]) return;\n\n    message = this.refs[key].props.item;\n    classes[key] = this.props.selectClass;\n\n    this.setState({\n      message,\n      classes,\n    });\n\n    if (message.status !== 'COMPLETE') return;\n\n    if (typeof this.props.selectRespond === 'function' && message) {\n      this.props.selectRespond(message);\n    }\n  }\n\n  getClass(key, read) {\n    return classNames(\n      this.state.classes[key], {\n        UNREAD: this.props.friendKey === 'created_by' && !read,\n        SENT: this.props.friendKey !== 'created_by'\n      }\n    );\n  }\n\n  getClassNames() {\n    return classNames({\n      'item-drawer': true,\n      COMPLETE: this.state.complete,\n    }, this.props.className);\n  }\n\n  getStatusText(item) {\n    if (!item.status || item.status === 'COMPLETE') return '';\n    return item.status;\n  }\n\n  renderList() {\n    var items, friends;\n\n    if (!this.props.data || !this.props.data.items) return;\n\n    items = this.props.data.items;\n\n    if (!items.length) {\n      return (\n        <li className=\"empty\">\n          {this.props.emptyMessage}\n        </li>\n      );\n    }\n\n    friends = _.get(this.props.gameState, 'data.user', []);\n\n    return _.map(items, (item, key) => {\n      var timestamp, image, name;\n      timestamp = moment.utc(item.updated).local();\n      key = 'message-' + key;\n\n      if (item[this.props.friendKey] == null) return null;\n\n      _.each(friends, friend => {\n        if (item[this.props.friendKey] === friend.friend_id) {\n          image = friend._embedded.image ? friend._embedded.image.url : '';\n          name = friend.username;\n        }\n      });\n\n      if (!name) {\n        skoash.trigger('getData', {\n          name: 'getFriend',\n          'friend_id': item[this.props.friendKey],\n        });\n        name = '';\n      }\n\n      if (this.props.friendKey === 'friend_to') {\n        item.sent = true;\n      }\n\n      return (\n        <skoash.ListItem\n          className={this.getClass(key, item.read)}\n          ref={key}\n          data-ref={key}\n          item={item}\n          key={key}\n        >\n          <skoash.Image src={image} />\n          <span className={'username' + (name.length > 15 ? ' long' : '')}>\n            {name}\n          </span>\n          <span className=\"timestamp\">\n            <span className=\"date\">{timestamp.format('MM.DD.YY')}</span>\n            <span className=\"time\">{timestamp.format('h:mm a')}</span>\n          </span>\n          <span className={'status ' + item.status}>\n            {this.getStatusText(item)}\n          </span>\n        </skoash.ListItem>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n          {this.renderList()}\n        </ul>\n      </div>\n    );\n  }\n}\n\nInbox.defaultProps = _.defaults({\n  friendKey: 'created_by',\n  gameState: {},\n}, Selectable.defaultProps);\n\nexport default Inbox;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/inbox/0.1.js\n **/","export default function (props, ref, key) {\n  return (\n    <skoash.Screen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"ios-splash\"\n      checkComplete={false}\n      completeDelay={6000}\n      nextDelay={3000}\n      completeOnStart\n      hidePrev\n    >\n      <skoash.Image className=\"hidden\" src=\"../shared/images/ios_start_ball.png\" />\n      <skoash.Image className=\"hidden\" src=\"../shared/images/ios_start_ball_anim.gif\" />\n    </skoash.Screen>\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/ios_splash_screen/0.1.js\n **/","class Loader extends skoash.Component {\n  constructor() {\n    super();\n\n  }\n\n  render() {\n    return (\n      <div id=\"loader\" className=\"center\">\n        <div className=\"group\">\n          <h2>Loading!</h2>\n          <div className=\"spinner animated\">\n            <div className=\"spinner animated\">\n              <div className=\"spinner animated\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Loader;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/loader/0.1.js\n **/","import Selectable from '../selectable/0.1.js';\n\nimport classNames from 'classnames';\n\nclass Menu extends Selectable {\n  constructor() {\n    super();\n\n    this.state = {\n      active: false,\n      selectClass: 'SELECTED',\n      classes: {},\n    };\n  }\n\n  deactivate() {\n    this.setState({\n      active: false,\n    });\n\n    _.each(this.refs, ref => {\n      _.invoke(ref, 'deactivate');\n    });\n  }\n\n  onClick(e) {\n    var li, ul, dom, message, active = false, classes = [];\n\n    li = e.target.closest('LI');\n\n    if (!li) return;\n\n    ul = li.closest('UL');\n    dom = ReactDOM.findDOMNode(this); // eslint-disable-line no-undef\n\n    if (ul !== dom) return;\n\n    message = li.getAttribute('data-ref');\n\n    if (this.state.classes[message] !== this.state.selectClass) {\n      classes[message] = this.state.selectClass;\n      active = !this.props.inactive;\n    }\n\n    this.setState({\n      classes,\n      active,\n    });\n  }\n\n  renderItems() {\n    var self = this;\n\n    if (typeof this.props.items !== 'object') return;\n\n    return Object.keys(this.props.items).map((key) => {\n      var item, onClick, gotoObj, categories, isFinal;\n\n      categories = this.props.categories ? [].concat(this.props.categories) : [];\n      categories.push(key);\n\n      item = this.props.items[key];\n\n      isFinal = (\n          typeof item.items !== 'object' ||\n          (\n            Object.prototype.toString.call(item.items) === '[object Array]' &&\n            item.items[0] && !item.items[0].items\n          )\n        ) || (\n          typeof self.props.lastLevel === 'number' &&\n          self.props.lastLevel === self.props.level\n        );\n\n      if (isFinal) {\n        gotoObj = {\n          index: 'item-drawer',\n          categories,\n          categoryName: item.name,\n        };\n        onClick = skoash.trigger.bind(null, 'goto', gotoObj);\n      }\n\n      return (\n        <skoash.ListItem\n          className={self.getClass(key)}\n          data-ref={key}\n          ref={key}\n          key={key}\n          onClick={onClick}\n        >\n          <span>{item.name || key}</span>\n          {(() => {\n            if (isFinal) return;\n            return (\n              <Menu\n                ref={'menu-' + key}\n                categories={categories}\n                items={item.items}\n                inactive={true}\n                level={(self.props.level || 0) + 1}\n                lastLevel={self.props.lastLevel}\n              />\n            );\n          })()}\n        </skoash.ListItem>\n      );\n    });\n  }\n\n  getClass(key) {\n    return classNames({\n      [key.replace(' ', '-')]: true,\n      [this.state.classes[key] || '']: true,\n    });\n  }\n\n  getClassNames() {\n    return classNames({\n      menu: true,\n      ACTIVE: this.state.active,\n    }, this.props.className);\n  }\n\n  render() {\n    return (\n      <ul\n        className={this.getClassNames()}\n        onClick={this.onClick.bind(this)}\n      >\n        {this.renderItems()}\n      </ul>\n    );\n  }\n}\n\nexport default Menu;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/menu/0.1.js\n **/","class QuitScreen extends skoash.Screen {\n  okay() {\n    skoash.trigger('quit');\n  }\n\n  cancel() {\n    this.close();\n    skoash.trigger('menuClose', {\n      id: this.props.id,\n    });\n  }\n\n  renderAssets() {\n    if (this.props.assets) {\n      return this.props.assets.map((asset, key) => {\n        return (\n          <skoash.Audio\n            {...asset.props}\n            ref={asset.ref || asset.props['data-ref'] || ('asset-' + key)}\n            key={key}\n            data-ref={key}\n          />\n        );\n      });\n    }\n\n    return null;\n  }\n\n  render() {\n    return (\n      <div id={this.props.id} className={'screen ' + this.getClassNames()}>\n        {this.renderAssets()}\n        <div className=\"center\">\n          <div className=\"frame\">\n            <h2>Are you sure you<br/>want to quit?</h2>\n            <h3>Your game progress will be saved</h3>\n            <button className=\"quit-yes\" onClick={this.okay.bind(this)}></button>\n            <button className=\"quit-no\" onClick={this.cancel.bind(this)}></button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default (\n  <QuitScreen\n    id=\"quit\"\n  />\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/quit_screen/0.1.js\n **/","class Repeater extends skoash.Component {\n  renderContentList() {\n    var a = [];\n    for (let i = 0; i < this.props.amount; i++) {\n      a.push(<this.props.item key={i} {...this.props.props[i]} />);\n    }\n    return a;\n  }\n}\n\nRepeater.defaultProps = _.defaults({\n  amount: 1,\n  item: 'div',\n  props: [],\n}, skoash.Component.defaultProps);\n\nexport default Repeater;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/repeater/0.1.js\n **/","import classNames from 'classnames';\n\nclass Reveal extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      openReveal: '',\n      currentlyOpen: []\n    };\n\n    this.index = 0;\n  }\n\n  incomplete() {\n    this.setState({\n      openReveal: '',\n      currentlyOpen: []\n    });\n\n    super.incomplete();\n  }\n\n  open(message) {\n    var self = this;\n    var currentlyOpen = this.props.openMultiple ?\n      this.state.currentlyOpen.concat(message) : [message];\n\n    self.setState({\n      open: true,\n      currentlyOpen,\n      openReveal: '' + message,\n    });\n\n    self.playAudio(message);\n\n    if (self.props.completeOnOpen) {\n      self.complete();\n    } else {\n      self.requireForComplete.map(key => {\n        if (key === message && self.refs[key]) {\n          self.refs[key].complete();\n        }\n      });\n    }\n\n    if (self.props.autoClose) {\n      setTimeout(function () {\n        self.close();\n      }, 2000);\n    }\n\n    if (self.props.openTarget) {\n      self.updateGameState({\n        path: self.props.openTarget,\n        data: {\n          open: '' + message\n        }\n      });\n    }\n\n    self.props.onOpen.call(self, message);\n  }\n\n  close(opts = {}) {\n    var prevMessage = this.state.openReveal;\n    var currentlyOpen = this.state.currentlyOpen;\n    currentlyOpen.splice(currentlyOpen.indexOf(prevMessage), 1);\n\n    this.setState({\n      open: false,\n      openReveal: '',\n      currentlyOpen,\n    });\n\n    if (!opts.silent && this.audio['close-sound']) {\n      this.audio['close-sound'].play();\n    }\n\n    this.props.onClose.call(this);\n\n    if (typeof this.props.closeRespond === 'function') {\n      this.props.closeRespond(prevMessage);\n    }\n  }\n\n  start() {\n    super.start();\n    if (this.props.openOnStart != null) {\n      this.open(this.props.openOnStart);\n    } else if (this.props.start && typeof this.props.start === 'function') {\n      this.props.start.call(this);\n    } else {\n      this.close({silent: true});\n    }\n  }\n\n  playAudio(message) {\n    var messages;\n\n    if ('' + parseInt(message, 10) === message) {\n      message = 'asset-' + message;\n    }\n\n    if (!message) return;\n\n    if (this.audio['open-sound']) {\n      this.audio['open-sound'].play();\n    }\n\n    if (typeof message === 'string') {\n      messages = message.split(' ');\n      messages.map(audio => {\n        if (this.audio[audio]) {\n          this.audio[audio].play();\n        } else if (this.media[audio] && typeof this.media[audio].play === 'function') {\n          this.media[audio].play();\n        }\n      });\n    } else {\n      if (this.audio.voiceOver[message]) {\n        this.audio.voiceOver[message].play();\n      }\n    }\n  }\n\n  renderAssets() {\n    if (this.props.assets) {\n      return this.props.assets.map((asset, key) => {\n        var ref = asset.ref || asset.props['data-ref'] || 'asset-' + key;\n        return (\n          <asset.type\n            {...asset.props}\n            data-ref={key}\n            ref={ref}\n            key={key}\n          />\n        );\n      });\n    }\n\n    return null;\n  }\n\n  renderList() {\n    var list = this.props.list;\n\n    return list.map((li, key) => {\n      var dataRef = li.props['data-ref'] || key;\n      var ref = li.ref || dataRef;\n      return (\n        <li.type\n          {...li.props}\n          type=\"li\"\n          className={this.getClass(li, key)}\n          data-ref={dataRef}\n          ref={ref}\n          key={key}\n        />\n      );\n    });\n  }\n\n  componentWillReceiveProps(props) {\n    super.componentWillReceiveProps(props);\n\n    if (props.openReveal != null && props.openReveal !== this.props.openReveal) {\n      this.open(props.openReveal);\n    }\n\n    if (props.closeReveal === true && props.closeReveal !== this.props.closeReveal) {\n      this.close();\n    }\n  }\n\n  getClass(li, key) {\n    var classes = '';\n\n    if (li.props.className) classes = li.props.className;\n\n    if (this.state.currentlyOpen.indexOf(key) !== -1 ||\n        this.state.currentlyOpen.indexOf('' + key) !== -1 ||\n        this.state.currentlyOpen.indexOf(li.props['data-ref']) !== -1 ||\n        this.state.currentlyOpen.indexOf(li.ref) !== -1\n    ) {\n      classes = classNames(classes, 'OPEN');\n    }\n\n    return classes;\n  }\n\n  getClassNames() {\n    var classes, open = 'open-none ';\n\n    if (this.state.open) {\n      open = '';\n      this.state.currentlyOpen.forEach(ref => {\n        open += 'open-' + ref + ' ';\n      });\n      open += 'OPEN';\n    }\n\n    classes = classNames(\n      'reveal',\n      open,\n      super.getClassNames(),\n    );\n\n    return classes;\n  }\n\n  render() {\n    return (\n      <div className={this.getClassNames()}>\n        {this.renderAssets()}\n        <div>\n          <ul>\n            {this.renderList()}\n          </ul>\n          <button className=\"close-reveal\" onClick={this.close.bind(this)}></button>\n        </div>\n      </div>\n    );\n  }\n}\n\nReveal.defaultProps = _.defaults({\n  list: [\n    <li></li>,\n    <li></li>,\n    <li></li>,\n    <li></li>\n  ],\n  openMultiple: true,\n  onOpen: _.noop,\n  onClose: _.noop,\n}, skoash.Component.defaultProps);\n\nexport default Reveal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/reveal/0.1.js\n **/","import Selectable from '../selectable/0.1';\n\nimport classNames from 'classnames';\n\nclass SavedMessages extends Selectable {\n  constructor() {\n    super();\n  }\n\n  selectHelper(e) {\n    var li, message, key, classes = [];\n\n    li = e.target.closest('LI');\n\n    if (!li) return;\n\n    key = li.getAttribute('data-ref');\n\n    message = this.refs[key].props.item;\n    classes[key] = this.state.selectClass;\n\n    this.setState({\n      message,\n      classes,\n    }, this.selectRespond.bind(this));\n  }\n\n  selectRespond() {\n    if (typeof this.props.selectRespond === 'function' && this.state.message) {\n      this.props.selectRespond(this.state.message);\n    }\n  }\n\n  getClass(key) {\n    return classNames({\n      [this.state.classes[key] || '']: true,\n      DRAFT: true,\n    });\n  }\n\n  getClassNames() {\n    return classNames({\n      'item-drawer': true,\n      SAVED: true,\n      COMPLETE: this.state.complete,\n    }, this.props.className);\n  }\n\n  renderThumb(item) {\n    var firstImg, background;\n\n    background = item && item.rules && item.rules.background &&\n      item.rules.background.src ? item.rules.background.src :\n      '';\n\n    firstImg = item && item.rules && item.rules.items &&\n      item.rules.items[0] && item.rules.items[0].src ?\n      item.rules.items[0].src : (\n        item && item.rules && item.rules.messages &&\n        item.rules.messages[0] && item.rules.messages[0].src ?\n        item.rules.messages[0].src : ''\n      );\n\n    return (\n      <div\n        className=\"thumbnail\"\n        style={{\n          backgroundImage: `url(${background})`\n        }}\n      >\n        <skoash.Image src={firstImg} />\n      </div>\n    );\n  }\n\n  renderList() {\n    var items, self = this;\n\n    if (!self.props.data || !self.props.data.items) return;\n\n    items = self.props.data.items;\n\n    if (!items.length) {\n      return (\n        <li className=\"empty\">\n          {this.props.emptyMessage}\n        </li>\n      );\n    }\n\n    return items.map((item, key) => {\n      var timestamp = moment.utc(item.updated).local();\n      return (\n        <skoash.ListItem\n          className={self.getClass(key)}\n          ref={key}\n          data-ref={key}\n          item={item}\n          key={key}\n        >\n          {self.renderThumb(item)}\n          <span className=\"timestamp\">\n            <span className=\"date\">{timestamp.format('MM.DD.YY')}</span>\n            <span className=\"time\">{timestamp.format('h:mm a')}</span>\n          </span>\n        </skoash.ListItem>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n          {this.renderList()}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default SavedMessages;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/saved_messages/0.1.js\n **/","import classNames from 'classnames';\n\nconst IMAGE = 'image';\nconst AREA = 'area';\nconst CONTENT = 'content';\nconst SCROLLBAR = 'scrollbar';\nconst SCROLLER = 'scroller';\n\nclass ScrollArea extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = _.defaults({\n      startY: 0,\n      endY: 0,\n      zoom: 1,\n    }, this.state);\n\n    this.setZoom = this.setZoom.bind(this);\n\n    this.mouseDown = this.mouseDown.bind(this);\n    this.mouseUp = this.mouseUp.bind(this);\n\n    this.moveEvent = this.moveEvent.bind(this);\n\n    this.touchStart = this.touchStart.bind(this);\n    this.touchEnd = this.touchEnd.bind(this);\n  }\n\n  bootstrap() {\n    super.bootstrap();\n\n    this.setZoom();\n    window.addEventListener('resize', this.setZoom);\n\n    this[AREA] = ReactDOM.findDOMNode(this.refs[AREA]);\n    this[CONTENT] = ReactDOM.findDOMNode(this.refs[CONTENT]);\n    this[SCROLLBAR] = ReactDOM.findDOMNode(this.refs[SCROLLBAR]);\n    this[SCROLLER] = ReactDOM.findDOMNode(this.refs[SCROLLER]);\n\n    this[AREA].scrollTop = 0;\n\n    this[AREA].addEventListener('scroll', e => {\n      var areaScrollTop, endY;\n\n      if (!e.target || this.dragging) return;\n\n      areaScrollTop = e.target.scrollTop;\n      endY = (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight) * (areaScrollTop / (this[CONTENT].offsetHeight - this[AREA].offsetHeight));\n\n      this.setState({\n        startY: 0,\n        endY,\n      });\n    });\n\n    this[SCROLLER].addEventListener('mousedown', this.mouseDown);\n    this[SCROLLER].addEventListener('touchstart', this.touchStart);\n  }\n\n  setZoom() {\n    skoash.trigger('getState').then(state => {\n      this.setState({\n        zoom: state.scale,\n      });\n    });\n  }\n\n  mouseDown(e) {\n    this.startEvent(e, this.attachMouseEvents);\n  }\n\n  touchStart(e) {\n    this.startEvent(e, this.attachTouchEvents);\n  }\n\n  startEvent(e, cb) {\n    var startY, endY;\n\n    if (e.target !== this[SCROLLER]) return;\n\n    this.dragging = true;\n\n    e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\n    endY = this.getEndY(e);\n    startY = this.state.startY || endY;\n\n    this.setState({\n      startY,\n      endY,\n    });\n\n    if (typeof cb === 'function') cb.call(this);\n  }\n\n  getEndY(e) {\n    return Math.min(\n      Math.max(\n        e.pageY / this.state.zoom,\n        this.state.startY\n      ),\n      this.state.startY +\n      this[SCROLLBAR].getBoundingClientRect().height / this.state.zoom -\n      this.props.scrollbarHeight\n    );\n  }\n\n  attachMouseEvents() {\n    window.addEventListener('mousemove', this.moveEvent);\n    window.addEventListener('mouseup', this.mouseUp);\n  }\n\n  attachTouchEvents() {\n    window.addEventListener('touchmove', this.moveEvent);\n    window.addEventListener('touchend', this.touchEnd);\n  }\n\n  moveEvent(e) {\n    var endY;\n\n    e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\n    endY = this.getEndY(e);\n\n    this[AREA].scrollTop = (endY - this.state.startY) *\n      (this[CONTENT].offsetHeight - this[AREA].offsetHeight) /\n      (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight);\n\n    this.setState({\n      endY,\n    });\n  }\n\n  mouseUp() {\n    this.dragging = false;\n    this.detachMouseEvents();\n  }\n\n  touchEnd() {\n    this.dragging = false;\n    this.detachTouchEvents();\n  }\n\n  detachMouseEvents() {\n    window.removeEventListener('mousemove', this.moveEvent);\n    window.removeEventListener('mouseup', this.mouseUp);\n  }\n\n  detachTouchEvents() {\n    window.removeEventListener('touchmove', this.moveEvent);\n    window.removeEventListener('touchend', this.touchEnd);\n  }\n\n  getScrollerStyle() {\n    return {\n      backgroundImage: `url(${this.props.img})`,\n      top: this.state.endY - this.state.startY,\n    };\n  }\n\n  getClassNames() {\n    return classNames('scroll-area', super.getClassNames());\n  }\n\n  render() {\n    if (!this.props.shouldRender) return null;\n\n    return (\n      <this.props.type {...this.props} className={this.getClassNames()}>\n        <skoash.Image ref={IMAGE} className=\"hidden\" src={this.props.img} />\n        <div ref={AREA} className={AREA}>\n          <div ref={CONTENT} className={CONTENT}>\n            {this.renderContentList()}\n          </div>\n        </div>\n        <div\n          ref={SCROLLBAR}\n          className={SCROLLBAR}\n        >\n          <div\n            ref={SCROLLER}\n            className={SCROLLER}\n            style={this.getScrollerStyle()}\n          />\n        </div>\n      </this.props.type>\n    );\n  }\n}\n\nScrollArea.defaultProps = _.defaults({\n  img: '',\n  scrollbarHeight: 100,\n}, skoash.Component.defaultProps);\n\nexport default ScrollArea;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/scroll_area/0.1.js\n **/","import Selectable from 'shared/components/selectable/0.1.js';\nimport Reveal from 'shared/components/reveal/0.1.js';\n\nclass SelectableReveal extends skoash.Component {\n  constructor() {\n    super();\n  }\n\n  start() {\n    super.start();\n    this.setState({\n      canSelectOnStart: this.props.canSelectOnStart\n    });\n  }\n\n  open(message) {\n    this.refs.reveal.open(message);\n  }\n\n  selectRespond(message) {\n    if (this.props.answers.length) {\n      if (this.props.answers.indexOf(message) === -1) {\n        if (this.audio.incorrect) this.audio.incorrect.play();\n        if (this.props.revealAll) {\n          if (typeof this.refs.reveal.open === 'function') {\n            this.open(message);\n          }\n        }\n      } else {\n        if (this.audio.correct) this.audio.correct.play();\n        if (typeof this.refs.reveal.open === 'function') {\n          this.open(message);\n        }\n      }\n    } else {\n      if (this.props.allCorrect && this.audio.correct) {\n        this.audio.correct.play();\n      }\n      if (typeof this.refs.reveal.open === 'function') {\n        this.open(message);\n      }\n    }\n  }\n\n  closeRespond() {\n    if (typeof this.props.closeRespond === 'function') {\n      this.props.closeRespond();\n    }\n  }\n\n  renderAssets() {\n    if (this.props.assets) {\n      return this.props.assets.map((asset, key) => {\n        return (\n          <skoash.Audio\n            {...asset.props}\n            ref={asset.ref || asset.props['data-ref'] || ('asset-' + key)}\n            key={key}\n            data-ref={key}\n          />\n        );\n      });\n    }\n\n    return null;\n  }\n\n  renderSelectable() {\n    return (\n      <Selectable\n        ref=\"selectable\"\n        list={this.props.selectableList}\n        selectRespond={this.selectRespond.bind(this)}\n        selectClass={this.props.selectableSelectClass}\n        completeOnSelect={this.props.selectableCompleteOnSelect}\n        checkComplete={this.props.selectableCheckComplete}\n        randomizeList={this.props.randomizeSelectableList}\n        selectOnStart={this.props.selectOnStart}\n        chooseOne={this.props.chooseOne}\n        // answers={this.props.answers}\n        allowDeselect={this.props.allowDeselect}\n      />\n    );\n  }\n\n  renderReveal() {\n    return (\n      <Reveal\n        ref=\"reveal\"\n        list={this.props.revealList}\n        assets={this.props.revealAssets}\n        closeRespond={this.closeRespond.bind(this)}\n        completeOnOpen={this.props.revealCompleteOnOpen}\n        checkComplete={this.props.revealCheckComplete}\n        openOnStart={this.props.openOnStart}\n        hide={this.props.hideReveal}\n        openReveal={this.props.openReveal}\n        onOpen={this.props.onOpen}\n        openMultiple={false}\n      />\n    );\n  }\n\n  getClasses() {\n    var classes = '';\n\n    if (this.state.complete) classes += ' COMPLETE';\n\n    return classes;\n  }\n\n  render() {\n    return (\n      <div className={'selectable-reveal' + this.getClasses()}>\n        {this.renderAssets()}\n        {this.renderSelectable()}\n        {this.renderReveal()}\n      </div>\n    );\n  }\n}\n\nSelectableReveal.defaultProps = _.defaults({\n  answers: [],\n  canSelectOnStart: true\n}, skoash.Component.defaultProps);\n\nexport default SelectableReveal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/selectable_reveal/0.1.js\n **/","window.ENVIRONMENT = {\n  MEDIA: 'https://media-staging.changemyworldnow.com/'\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/staging-variables.js\n **/","import Canvas from 'shared/components/canvas/0.1';\nimport Menu from 'shared/components/menu/0.1';\nimport Selectable from 'shared/components/selectable/0.1';\n// import Reveal from 'shared/components/reveal/0.1';\n\nimport classNames from 'classnames';\n\nclass CanvasScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n      menu: {},\n      valid: true,\n    };\n\n    this.rightMenuList = [\n      <li className=\"preview\" onClick={this.preview.bind(this)}>\n        <span />\n      </li>,\n      <li className=\"send\" onClick={this.send.bind(this)}>\n        <span />\n      </li>\n    ];\n\n    this.setValid = this.setValid.bind(this);\n    this.closeReveal = this.closeReveal.bind(this);\n    this.setHasAssets = this.setHasAssets.bind(this);\n  }\n\n  getData() {\n    return this.refs.canvas.getItems();\n  }\n\n  reset() {\n    this.refs.canvas.reset();\n    this.setState({\n      background: false,\n      hasAssets: false,\n    });\n  }\n\n  addItem(message) {\n    if (message) {\n      this.setState({\n        hasAssets: true,\n        background: this.state.background ||\n              message.asset_type === 'background',\n      });\n      this.refs.canvas.addItem(message, () => {\n        skoash.trigger('save');\n      });\n    }\n  }\n\n  addItems(message) {\n    var hasAssets, background;\n\n    hasAssets = true;\n    background = !!message.rules.background;\n\n    this.mapRulesStringToNumbers(message.rules);\n\n    this.refs.canvas.setItems(message.rules);\n\n    this.setState({\n      hasAssets,\n      background,\n    });\n\n    if (message.friend_to) {\n      skoash.trigger('passData', {\n        name: 'add-recipient',\n        message: message.friend_to\n      });\n    }\n  }\n\n  setMenu() {\n    var menu, state = this.props.gameState;\n\n    if (state && state.data && state.data.menu) {\n      menu = state.data.menu;\n      this.setState({\n        menu,\n      });\n    }\n  }\n\n  mapRulesStringToNumbers(rules) {\n    if (!rules) return;\n\n    if (_.isArray(rules.items)) {\n      rules.items.forEach(item => {\n        item.state.left = parseFloat(item.state.left);\n        item.state.rotation = parseFloat(item.state.rotation);\n        item.state.scale = parseFloat(item.state.scale);\n        item.state.top = parseFloat(item.state.top);\n      });\n    }\n\n    if (_.isArray(rules.messages)) {\n      rules.messages.forEach(message => {\n        message.state.left = parseFloat(message.state.left);\n        message.state.rotation = parseFloat(message.state.rotation);\n        message.state.scale = parseFloat(message.state.scale);\n        message.state.top = parseFloat(message.state.top);\n      });\n    }\n\n    return rules;\n  }\n\n  open(opts = {}) {\n    this.setMenu();\n\n    if (this.refs && this.refs.menu) {\n      this.refs.menu.deactivate();\n    }\n\n    if (!opts.draft) skoash.trigger('save');\n\n    // interval = setInterval(() => {\n    //   skoash.trigger('save');\n    // }, 120000);\n\n    // this.setState({\n    //   interval\n    // });\n\n    super.open();\n  }\n\n  close() {\n    skoash.trigger('save');\n    // clearInterval(this.state.interval);\n    // this.setState({\n    //   interval: null\n    // });\n    super.close();\n  }\n\n  setValid(valid) {\n    this.setState({\n      valid\n    });\n  }\n\n  setHasAssets(hasAssets) {\n    this.setState({\n      hasAssets\n    });\n  }\n\n  send() {\n    if (!this.state.valid) return;\n    this.goto('send');\n  }\n\n  preview() {\n    if (!this.state.valid) return;\n    this.goto('preview');\n  }\n\n  closeReveal() {\n    if (this.refs && this.refs.reveal) {\n      this.refs.reveal.close();\n    }\n  }\n\n  getContainerClasses() {\n    return classNames({\n      'canvas-container': true,\n      BACKGROUND: this.state.background,\n    });\n  }\n\n  getClassNames() {\n    return classNames({\n      'HAS-ASSETS': this.state.hasAssets,\n      'INVALID': !this.state.valid,\n    }, skoash.Screen.prototype.getClassNames.call(this));\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <skoash.Image className=\"hidden\" src=\"media/_Frames/SK_frames_canvas.png\" />\n        <skoash.Image className=\"hidden\" src=\"media/_Buttons/SK_btn_friend.png\" />\n        <Menu\n          ref={'menu'}\n          items={this.state.menu.items}\n          level={0}\n          lastLevel={1}\n        />\n        <div className={this.getContainerClasses()}>\n          <Canvas\n            ref={'canvas'}\n            setValid={this.setValid}\n            setHasAssets={this.setHasAssets}\n            itemMinDim={150}\n          />\n        </div>\n        <Selectable className=\"menu right-menu\" list={this.rightMenuList} />\n      </div>\n    );\n    // move this back up below the Selectable when there is an instructional help video\n    /*\n        <Reveal\n          ref=\"reveal\"\n          openOnStart=\"0\"\n          list={[\n            <li>\n              <skoash.Image className=\"otter\" src={'media/_Otter/joyful-otter_2.gif'} />\n              <div className=\"bubble\">\n                Welcome to your canvas!<br/><br/>\n                Would you like me<br/>\n                to show you around?\n                <div className=\"buttons\">\n                  <button\n                    className=\"yes\"\n                    onClick={skoash.trigger.bind(null, 'openMenu', {id: 'help'})}\n                  />\n                  <button\n                    className=\"no\"\n                    onClick={this.closeReveal}\n                  />\n                </div>\n              </div>\n            </li>\n          ]}\n        />\n    */\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <CanvasScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"canvas\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/canvas_screen.js\n **/","import classNames from 'classnames';\n\nclass CollisionWarning extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.cancel = this.cancel.bind(this);\n    this.toggle = this.toggle.bind(this);\n  }\n\n  cancel() {\n    this.close();\n    skoash.trigger('menuClose', {\n      id: this.props.id,\n    });\n  }\n\n  toggle() {\n    this.updateGameState({\n      path: ['collisionWarning'],\n      data: {\n        show: !_.get(this.props.gameState, 'data.collisionWarning.show')\n      }\n    });\n  }\n\n  getToggleClassNames() {\n    return classNames('toggle-collision-warning', {\n      active: !_.get(this.props.gameState, 'data.collisionWarning.show')\n    });\n  }\n\n  render() {\n    return (\n      <div id={this.props.id} className={this.getClassNames()}>\n        <div className=\"center\">\n          <div className=\"frame\">\n            <skoash.Image className=\"copy\" src=\"media/_CollisionWarning/text-youmustnotoverlapimgs.png\" />\n            <button className={this.getToggleClassNames()} onClick={this.toggle}></button>\n            <button className=\"close-collision-warning\" onClick={this.cancel}></button>\n            <skoash.Image className=\"otter\" src=\"media/_CollisionWarning/Peeking-through-Otter.gif\" />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default (\n  <CollisionWarning\n    id=\"collisionWarning\"\n    load\n  />\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/collision_warning.js\n **/","import ItemDrawer from '../../shared/components/item_drawer/0.1.js';\n\nconst DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\nclass FriendScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n      complete: true,\n      recipient: {},\n      opts: {},\n    };\n  }\n\n  selectRespond(message) {\n    skoash.trigger('passData', {\n      name: 'add-recipient',\n      goto: this.state.opts.goto,\n      message\n    });\n  }\n\n  updateData(d) {\n    var data = d && d.user ? d.user : this.props.gameState.data.user || [];\n\n    data = data.map(friend => {\n      var src = friend._embedded.image && friend._embedded.image.url ?\n        friend._embedded.image.url :\n        DEFAULT_PROFILE_IMAGE;\n      return {\n        'user_id': friend.friend_id,\n        name: friend.username,\n        src,\n        // I need to get the flips earned back from the backend to do this.\n        description: '',\n        // description: friend.flips_earned + ' Flips Earned',\n        'asset_type': 'friend',\n      };\n    });\n\n    this.setState({\n      data,\n    });\n  }\n\n  open(opts) {\n    var recipient, self = this;\n\n    self.updateData();\n\n    skoash.trigger('getData', {\n      name: 'getFriends'\n    }).then(data => {\n      self.updateData.call(self, data);\n    });\n\n    recipient = self.props.gameState.recipient;\n\n    self.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n      recipient,\n      opts,\n    }, () => {\n      self.refs.drawer && self.refs.drawer.start();\n    });\n\n    if (!self.state.started) {\n      self.start();\n    }\n  }\n\n  suggestFriends() {\n    window.open(window.location.origin.replace('games-', '') + '/friends/suggested');\n  }\n\n  save() {\n    skoash.trigger('goto', {\n      index: 'canvas',\n    });\n    skoash.trigger('openMenu', {id: 'save'});\n  }\n\n  renderOtter() {\n    var copy, src, imageSrc;\n\n    src = 'One';\n    imageSrc = 'media/_Otter/Otter_Static_GreetingOne.png';\n    copy = (\n      <span>\n        Don't have<br/> friends yet?<br/><br/> Let me suggest<br/> some for you.\n      </span>\n    );\n\n    if (this.state.data && this.state.data.length) {\n      src = 'Two';\n      imageSrc = 'media/_Otter/Open-wide-Otter2.gif';\n      copy = (\n        <span>\n          Let me find a friend<br/> to send your message to.\n        </span>\n      );\n    }\n\n    return (\n      <div className={'otter-container ' + src}>\n        <skoash.Image className=\"otter\" src={imageSrc} />\n        <div className=\"bubble\">\n          {copy}\n        </div>\n      </div>\n    );\n  }\n\n  renderFriends() {\n    if (this.state.data && this.state.data.length) {\n      return (\n        <ItemDrawer\n          ref=\"drawer\"\n          scrollbarImg=\"./media/_Buttons/sk_btn_slider.png\"\n          selectRespond={this.selectRespond.bind(this)}\n          cancelRespond={this.back}\n          categories={this.state.opts.categories}\n          data={this.state.data}\n          selectedItem={this.state.recipient}\n          buttons={this.buttons}\n          completeOnStart={true}\n          checkComplete={false}\n          className={'goto-' + this.state.opts.goto}\n        />\n      );\n    }\n\n    return (\n      <div className={'goto-' + this.state.opts.goto}>\n        <div className=\"item-drawer-container\">\n          <div className=\"suggest-friends-buttons\">\n            <button className=\"continue\" onClick={this.selectRespond.bind(this, {})} />\n            <button className=\"suggest\" onClick={this.suggestFriends} />\n            <button className=\"save-to-drafts\" onClick={this.save} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <div className=\"header\" />\n        {this.renderOtter()}\n        {this.renderFriends()}\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <FriendScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"friends\"\n      completeOnStart\n      checkComplete={false}\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/friend_screen.js\n **/","import SelectableReveal from '../../shared/components/selectable_reveal/0.1.js';\nimport Inbox from '../../shared/components/inbox/0.1.js';\nimport SavedMessages from '../../shared/components/saved_messages/0.1.js';\n\nconst inboxEmptyMessage = (\n  <span>\n    You haven't received any Skribbles!<br/>\n    Get started by sending some!\n  </span>\n  );\nconst unreadEmptyMessage = (\n  <span>\n    You don't have any<br/>\n    unread Skribbles!\n  </span>\n  );\nconst readEmptyMessage = (\n  <span>\n    You don't have any<br/>\n    read Skribbles!\n  </span>\n  );\nconst sentEmptyMessage = (\n  <span>\n    You haven't sent any Skribbles.<br/>\n    Let's get started!\n  </span>\n  );\nconst draftsEmptyMessage = (\n  <span>\n    You don't have any drafts.<br/>\n    Start Skribbling!\n  </span>\n  );\n\n\nclass InboxScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n    };\n\n    this.selectableList = [\n      <li />,\n      <li />,\n      <li />,\n      <li />,\n      <li />,\n    ];\n\n    this.revealList = this.getRevealList();\n\n    this.readMessage = this.readMessage.bind(this);\n    this.editMessage = this.editMessage.bind(this);\n  }\n\n  getRevealList(inbox, outbox, saved) {\n    var read, unread, props = this.props || {};\n\n    inbox = inbox || this.state.inbox || [];\n\n    read = inbox.filter(item => {\n      return item.read;\n    });\n\n    unread = inbox.filter((item) => {\n      return !item.read;\n    });\n\n    outbox = outbox || this.state.outbox || [];\n    saved = saved || this.state.saved || [];\n\n    return [\n      <li>\n        <Inbox\n          data-ref=\"inbox\"\n          data={{\n            items: inbox,\n          }}\n          emptyMessage={inboxEmptyMessage}\n          selectRespond={this.readMessage}\n          gameState={props.gameState}\n        />\n      </li>,\n      <li>\n        <Inbox\n          data-ref=\"unread\"\n          data={{\n            items: unread,\n          }}\n          emptyMessage={unreadEmptyMessage}\n          selectRespond={this.readMessage}\n          gameState={props.gameState}\n        />\n      </li>,\n      <li>\n        <Inbox\n          data-ref=\"read\"\n          data={{\n            items: read,\n          }}\n          emptyMessage={readEmptyMessage}\n          selectRespond={this.readMessage}\n          gameState={props.gameState}\n        />\n      </li>,\n      <li>\n        <Inbox\n          data-ref=\"outbox\"\n          data={{\n            items: outbox,\n          }}\n          emptyMessage={sentEmptyMessage}\n          friendKey=\"friend_to\"\n          selectRespond={this.readMessage}\n          gameState={props.gameState}\n        />\n      </li>,\n      <li>\n        <SavedMessages\n          data-ref=\"saved\"\n          data={{\n            items: saved,\n          }}\n          emptyMessage={draftsEmptyMessage}\n          selectRespond={this.editMessage}\n        />\n      </li>,\n    ];\n  }\n\n  editMessage(message) {\n    skoash.trigger('loadSkribble', {\n      message,\n    });\n  }\n\n  readMessage(message) {\n    skoash.trigger('goto', {\n      index: 'read',\n      message,\n    });\n  }\n\n  updateData() {\n    var skribbles, inbox, outbox, saved;\n\n    skribbles = this.props.gameState.data.skribbles;\n    inbox = skribbles.received;\n    outbox = skribbles.sent;\n    saved = skribbles.draft;\n\n    this.revealList = this.getRevealList(inbox, outbox, saved);\n\n    this.setState({\n      inbox,\n      outbox,\n      saved,\n    });\n  }\n\n  updateGameData(data, status) {\n    var opts = {\n      path: ['skribbles'],\n      data: {\n        [status]: data.skribble\n      },\n      callback: () => {\n        this.updateData();\n      }\n    };\n    this.updateGameState(opts);\n  }\n\n  open() {\n    var self = this;\n\n    skoash.trigger('getData', {\n      status: 'received',\n    }).then(data => {\n      self.updateGameData(data, 'received');\n    });\n\n    skoash.trigger('getData', {\n      status: 'sent',\n    }).then(data => {\n      self.updateGameData(data, 'sent');\n    });\n\n    skoash.trigger('getData', {\n      status: 'draft',\n    }).then(data => {\n      self.updateGameData(data, 'draft');\n    });\n\n    self.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n    });\n\n    setTimeout(() => {\n      if (!self.state.started) {\n        self.start();\n      }\n    }, 250);\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <div className=\"center\">\n          <div className=\"frame\">\n            <SelectableReveal\n              ref={'selectableReveal'}\n              selectableList={this.selectableList}\n              revealList={this.revealList}\n              selectOnStart={'0'}\n              openOnStart={'0'}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <InboxScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"inbox\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/inbox_screen.js\n **/","import ItemDrawer from '../../shared/components/item_drawer/0.1.js';\n\nclass ItemDrawerScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      opts: {\n        categories: [],\n      },\n    };\n\n  }\n\n  selectRespond(message) {\n    skoash.trigger('passData', {\n      name: 'add-item',\n      message\n    });\n  }\n\n  updateData(d) {\n    var data = d ? d : this.props.gameState.data.menu.items;\n\n    this.state.opts.categories.forEach(key => {\n      if (data[key]) data = data[key];\n      if (data.items) data = data.items;\n    });\n\n    data = _.values(data);\n\n    this.setState({\n      data,\n    });\n  }\n\n  open(opts) {\n    this.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n      opts,\n      data: null\n    }, () => {\n      this.updateData();\n    });\n\n    setTimeout(() => {\n      if (!this.state.started) this.start();\n    }, 250);\n  }\n\n  cancelRespond() {\n    if (this.state.category) {\n      this.setState({\n        category: '',\n        categoryName: '',\n      });\n    } else {\n      skoash.trigger('goto', {index: 'canvas'});\n    }\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <ItemDrawer\n          ref=\"drawer\"\n          scrollbarImg=\"./media/_Buttons/sk_btn_slider.png\"\n          selectRespond={this.selectRespond.bind(this)}\n          cancelRespond={this.cancelRespond}\n          categories={this.state.opts.categories}\n          categoryName={this.state.opts.categoryName}\n          data={this.state.data}\n        />\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <ItemDrawerScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"item-drawer\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/item_drawer_screen.js\n **/","export default (\n  <skoash.Screen\n    id=\"limitWarning\"\n    load\n    hidePrev\n    hideNext\n  >\n    <skoash.Image className=\"hidden\" src={ENVIRONMENT.MEDIA + 'f/a479811171cf084bf86af4eac1f6dc28.png'} />\n    <skoash.Image className=\"hidden\" src={ENVIRONMENT.MEDIA + 'f/027b30f0d279ef41cd30eff22323051c.png'} />\n    <skoash.Image className=\"otter\" src={ENVIRONMENT.MEDIA + 'f/e7c3a0ab64b457334e7be868609ee512.png'} />\n    <skoash.Image className=\"sign\" src={ENVIRONMENT.MEDIA + 'f/7434453a4692d4be9e898b6b8787c108.png'} />\n    <div>\n      WARNING:<br/>\n      You have exceeded the number of times<br/>\n      you can use this item in your message.<br/>\n      Please press ok to continue game.\n    </div>\n    <button\n      onClick={function () {\n        skoash.trigger('menuClose', {\n          id: 'limitWarning',\n        });\n      }}\n    />\n  </skoash.Screen>\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/limit_warning.js\n **/","class MenuScreen extends skoash.Screen {\n  renderContent() {\n    return (\n      <div>\n        <skoash.Image className=\"hidden\" src=\"media/_Background/SK_BKG_1.png\" />\n        <skoash.Image className=\"otter\" src=\"media/_Otter/Waving_Otter2.gif\" />\n        <div className=\"bubble\">\n          Hi there!<br/>\n          What would you<br/>\n          like to do today?\n        </div>\n        <div className=\"buttons\">\n          <button className=\"make\" onClick={this.goto.bind(this, {\n            index: 'friend',\n            goto: 'canvas',\n          })} />\n          <button className=\"read\" onClick={this.goto.bind(this, 'inbox')} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <MenuScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"menu\"\n      hidePrev\n      hideNext\n      load\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/menu_screen.js\n **/","import Canvas from 'shared/components/canvas/0.1';\nimport Selectable from 'shared/components/selectable/0.1.js';\nimport Repeater from 'shared/components/repeater/0.1.js';\n\nconst classNameText = {\n  skribbleBox: 'skribble-box',\n  box: 'box',\n  leftMenu: 'menu left-menu',\n  rightMenu: 'menu right-menu',\n};\n\nconst refs = {\n  box: 'box',\n  canvas: 'canvas'\n};\n\nclass PreviewScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n      opts: {},\n    };\n\n    this.leftMenuList = [\n      <li className=\"edit\" onClick={this.goto.bind(this, 'canvas')}>\n        <span />\n      </li>,\n    ];\n\n    this.rightMenuList = [\n      <li className=\"send\" onClick={this.goto.bind(this, 'send')}>\n        <span />\n      </li>\n    ];\n  }\n\n  open(opts) {\n    skoash.trigger('getRules').then(rules => {\n      this.refs[refs.box].refs[refs.canvas].setItems(rules);\n      super.open(opts);\n    });\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <skoash.Component ref={refs.box} className={classNameText.skribbleBox}>\n          <Canvas ref={refs.canvas} preview />\n          <Repeater\n            className=\"sparkles\"\n            amount={40}\n          />\n          <div className={classNameText.box} />\n        </skoash.Component>\n        <Selectable className={classNameText.leftMenu} list={this.leftMenuList} />\n        <Selectable className={classNameText.rightMenu} list={this.rightMenuList} />\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <PreviewScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"preview\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/preview_screen.js\n **/","import classNames from 'classnames';\n\nimport Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n  skribbleBox: 'skribble-box',\n  box: 'box',\n  leftMenu: 'menu left-menu',\n  rightMenu: 'menu right-menu',\n  sender: 'menu recipient sender',\n};\n\nconst refs = {\n  box: 'box',\n};\n\nclass ReadScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state.load = true;\n    this.state.message = {user: {}};\n\n    this.leftMenuList = [\n      <li className=\"inbox\" onClick={this.goto.bind(this, 'inbox')}>\n        <span />\n      </li>\n    ];\n\n    this.rightMenuList = [\n      <li className=\"reply\" onClick={this.reply.bind(this)}>\n        <span />\n      </li>\n    ];\n  }\n\n  reply() {\n    skoash.trigger('passData', {\n      name: 'add-recipient',\n      message: this.state.message.created_by,\n    });\n  }\n\n  open(opts) {\n    var message, friends, creater;\n\n    message = opts.message || {};\n\n    friends = this.props.gameState.data.user || [];\n    friends.forEach(friend => {\n      if (message.created_by === friend.friend_id) {\n        creater = friend;\n      }\n    });\n\n    this.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n      message,\n      creater\n    });\n\n    this.start();\n\n    skoash.trigger('getData', {\n      name: 'markAsRead',\n      'skribble_id': message.skribble_id,\n    });\n  }\n\n  getSenderClassNames() {\n    return classNames(\n      classNameText.sender, {\n        HIDE: !this.state.creater || this.state.message.sent\n      }\n    );\n  }\n\n  renderSender() {\n    var creater, content = [];\n\n    creater = this.state.creater;\n\n    if (!creater) return;\n\n    if (creater.username) {\n      content.push(<span className=\"name\">{creater.username}</span>);\n    }\n\n    if (creater._embedded.image) {\n      content.push(<img className=\"profile-image\" src={creater._embedded.image.url} />);\n    }\n\n    return content;\n  }\n\n  renderBoxContent() {\n    var url = _.get(this.state, 'message.url');\n\n    if (!url) return null;\n\n    return [\n      <skoash.Image src={this.state.message.url} />,\n      <div className={classNameText.box} />,\n    ];\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <ul className={this.getSenderClassNames()}>\n          <li>\n            <span>\n              {this.renderSender()}\n            </span>\n          </li>\n        </ul>\n        <skoash.Component ref={refs.box} className={classNameText.skribbleBox}>\n          {this.renderBoxContent()}\n        </skoash.Component>\n        <Selectable className={classNameText.leftMenu} list={this.leftMenuList} />\n        <Selectable className={classNameText.rightMenu} list={this.rightMenuList} />\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <ReadScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"read\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/read_screen.js\n **/","class SaveMenu extends skoash.Screen {\n  cancel() {\n    this.close();\n    skoash.trigger('menuClose', {\n      id: this.props.id,\n    });\n  }\n\n  render() {\n    return (\n      <div id={this.props.id} className={this.getClassNames()}>\n        <div className=\"center\">\n          <div className=\"frame\">\n            <button className=\"quit-saved\" onClick={this.cancel.bind(this)}></button>\n            <h2>Your progress</h2>\n            <h2>has been saved</h2>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default (\n  <SaveMenu\n    id=\"save\"\n    load\n  />\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/save_menu.js\n **/","import Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n  yourMessageTo: 'your-message-to',\n  isReady: 'is-ready',\n  changeFriend: 'change-friend',\n  character: 'character',\n  gift: 'gift',\n  header: 'header',\n  username: 'username',\n};\n\nclass SendScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state.load = true;\n    this.state.recipient = {};\n\n    this.rightMenuList = [\n      <li className=\"edit-right\" onClick={this.goto.bind(this, 'canvas')}>\n        <span />\n      </li>,\n      <li className=\"send\" onClick={this.send}>\n        <span />\n      </li>\n    ];\n  }\n\n  open() {\n    var recipient = this.props.gameState.recipient || {};\n\n    this.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n      recipient\n    });\n\n    this.start();\n  }\n\n  send() {\n    skoash.trigger('passData', {\n      name: 'send',\n    });\n  }\n\n  renderContent() {\n    var changeFriendClick = this.goto.bind(this, {\n      index: 'friend',\n      goto: 'send',\n    });\n\n    return (\n      <div>\n        <div className={classNameText.header}>\n          <span className={classNameText.yourMessageTo} />\n          <span className={classNameText.username}>{this.state.recipient.name}</span>\n          <br/>\n          <span className={classNameText.isReady} />\n          <button className={classNameText.changeFriend} onClick={changeFriendClick} />\n        </div>\n        <div className={classNameText.character}>\n          <skoash.Image className=\"otter\" src=\"media/_Otter/proud-of-you2.gif\" />\n          <div className=\"bubble\">\n            Are you sure<br/>\n            you are ready to<br/>\n            send your message?\n          </div>\n        </div>\n        <div className={classNameText.gift} />\n        <Selectable className=\"menu right-menu\" list={this.rightMenuList} />\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <SendScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"send\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/send_screen.js\n **/","const classNameText = {\n  character: 'character',\n  header: 'header',\n  yourMessageTo: 'your-message-to',\n  username: 'username',\n  isReady: 'is-ready',\n  buttons: 'buttons',\n  createAnother: 'create-another',\n  inbox: 'inbox',\n};\n\nconst text = {\n  yourMessageTo: 'YOUR MESSAGE TO:',\n  hasBeenSent: 'IS BEING SENT!',\n};\n\nclass SentScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n      opts: {\n        recipient: {}\n      },\n    };\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <div className={classNameText.character} />\n        <div className={classNameText.header}>\n          <span className={classNameText.yourMessageTo}>{text.yourMessageTo}</span>\n          <span className={classNameText.username}>{this.state.opts.recipient.name}</span>\n          <br/>\n          <span className={classNameText.isReady}>{text.hasBeenSent}</span>\n        </div>\n        <div className={classNameText.buttons}>\n          <button className={classNameText.createAnother} onClick={this.goto.bind(this, 'friend')} />\n          <button className={classNameText.inbox} onClick={this.goto.bind(this, 'inbox')} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <SentScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"sent\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/sent_screen.js\n **/","export default function (props, ref, key) {\n  return (\n    <skoash.Screen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"title\"\n      hidePrev\n      nextDelay={1000}\n      nextIndex=\"menu\"\n    >\n      <skoash.Image\n        ref=\"title\"\n        className=\"title animated\"\n        src=\"media/_Title/SKribble_title.png\"\n      />\n      <skoash.Image\n        ref=\"play\"\n        className=\"hidden\"\n        src=\"media/_Buttons/skribble-play-01.png\"\n      />\n      <skoash.Image\n        ref=\"play-hover\"\n        className=\"hidden\"\n        src=\"media/_Buttons/skribble-hover.png\"\n      />\n    </skoash.Screen>\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/title_screen.js\n **/","var config = {\n  id: 'skribble',\n  version: 1,\n  skoash: '1.0.5',\n  dimensions: {\n    width: 1600,\n    ratio: 16 / 9\n  },\n};\n\nexport default config;\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/config.game.js\n **/","import config from './config.game';\n\nimport Loader from 'shared/components/loader/0.1';\n\nimport iOSScreen from 'shared/components/ios_splash_screen/0.1';\nimport TitleScreen from './components/title_screen';\nimport MenuScreen from './components/menu_screen';\nimport FriendScreen from './components/friend_screen';\nimport CanvasScreen from './components/canvas_screen';\nimport ItemDrawerScreen from './components/item_drawer_screen';\nimport InboxScreen from './components/inbox_screen';\nimport PreviewScreen from './components/preview_screen';\nimport SendScreen from './components/send_screen';\nimport SentScreen from './components/sent_screen';\nimport ReadScreen from './components/read_screen';\n\nimport QuitScreen from 'shared/components/quit_screen/0.1';\nimport SaveMenu from './components/save_menu';\nimport CollisionWarning from './components/collision_warning';\nimport LimitWarning from './components/limit_warning';\n\nconst DEFAULT_PROFILE_IMAGE = '';\n\nclass SkribbleGame extends skoash.Game {\n  getRules(opts = {}) {\n    if (typeof opts.respond === 'function') {\n      return opts.respond(this.refs['screen-canvas'].getData());\n    }\n    return this.refs['screen-canvas'].getData();\n  }\n\n  save(skramble) {\n    /* eslint-disable camelcase */\n    var friend_to, rules, self = this;\n    friend_to = self.state.recipient && self.state.recipient.user_id ? self.state.recipient.user_id : null;\n    rules = self.getRules();\n    var skribble = {\n      'version': config.version,\n      ...self.state.skribbleData,\n      friend_to,\n      skramble,\n      rules\n    };\n\n    if (!rules.background && !rules.items.length && !rules.messages.length) {\n      return;\n    }\n\n    if (JSON.stringify(skribble) !== JSON.stringify(this.state.skribble)) {\n      self.emit({\n        name: 'saveSkribble',\n        game: self.config.id,\n        skribble,\n      }).then(skribbleData => {\n        self.setState({\n          skribbleData,\n          skribble\n        });\n      });\n    }\n    /* eslint-enable camelcase */\n  }\n\n  send() {\n    this.save(true);\n\n    this.refs['screen-canvas'].reset();\n    this.navigator.goto({\n      index: 'sent',\n      recipient: this.state.recipient,\n    });\n\n    this.setState({\n      recipient: null,\n      skribbleData: null,\n    });\n  }\n\n  loadSkribble(opts) {\n    this.setState({\n      skribbleData: opts.message\n    }, () => {\n      this.refs['screen-canvas'].addItems(opts.message);\n      this.navigator.goto({\n        index: 'canvas',\n        draft: true,\n      });\n    });\n  }\n\n  getMedia(path) {\n    var pathArray, self = this;\n\n    if (typeof path === 'object') path = path.path;\n    path = path || 'skribble/menu';\n    pathArray = path.split('/');\n    pathArray.shift();\n\n    return self.eventManager.emit({\n      name: 'getMedia',\n      path\n    }).then(d => {\n      var opts, currentOpts;\n      opts = {\n        data: {},\n        callback: () => {\n          self.refs['screen-canvas'].setMenu();\n          self.refs['screen-item-drawer'].updateData();\n        }\n      };\n      currentOpts = opts.data;\n\n      pathArray.forEach((key, index) => {\n        currentOpts[key] = {\n          items: {}\n        };\n        if (index !== pathArray.length - 1) {\n          currentOpts = currentOpts[key].items;\n        }\n      });\n\n      currentOpts[pathArray[pathArray.length - 1]] = _.clone(d);\n      currentOpts[pathArray[pathArray.length - 1]].items = {};\n\n      if (d.items) {\n        d.items.forEach(item => {\n          if (item.asset_type === 'folder' && item.name) {\n            self.getMedia(path + '/' + item.name);\n          }\n          currentOpts[pathArray[pathArray.length - 1]].items[item.name] = item;\n        });\n      }\n      self.updateData(opts);\n    });\n  }\n\n  showCollisionWarning() {\n    if (!this.state.data.collisionWarning.show) return;\n    this.navigator.openMenu({id: 'collisionWarning'});\n  }\n\n  showLimitWarning() {\n    this.navigator.openMenu({id: 'limitWarning'});\n  }\n\n  addRecipient(recipient, cb) {\n    var src;\n\n    if (recipient.src) {\n      recipient.profile_image = recipient.src; // eslint-disable-line camelcase\n    } else if (typeof recipient === 'string') {\n      if (this.state.data && this.state.data.user) {\n        this.state.data.user.some(friend => {\n          if (friend.friend_id === recipient) {\n            recipient = friend;\n            return true;\n          }\n          return false;\n        });\n      }\n    }\n\n    if (typeof recipient === 'string') {\n      this.getData({\n        name: 'getFriend',\n        'friend_id': recipient,\n        callback: () => {\n          this.addRecipient(recipient, cb);\n        }\n      });\n    } else {\n      src = recipient && recipient._embedded && recipient._embedded.image && recipient._embedded.image.url ?\n        recipient._embedded.image.url :\n        recipient.profile_image || DEFAULT_PROFILE_IMAGE;\n      this.setState({\n        recipient: {\n          'user_id': recipient.user_id || recipient.friend_id,\n          name: recipient.name || recipient.username,\n          src,\n          // I need to get the flips earned back from the backend to do this.\n          description: '',\n          // description: friend.flips_earned + ' Flips Earned',\n          'asset_type': 'friend',\n        }\n      }, cb);\n    }\n  }\n\n  clickRecipient() {\n    this.navigator.goto({\n      index: 'friend',\n      goto: this.state.currentScreenIndex,\n    });\n  }\n\n  create() {\n    if (this.state.recipient) {\n      this.navigator.goto({index: 'canvas'});\n    } else {\n      this.navigator.goto({\n        index: 'friend',\n        goto: 'canvas',\n      });\n    }\n  }\n\n  saveButton() {\n    this.save();\n    this.navigator.openMenu({id: 'save'});\n  }\n\n  renderRecipient() {\n    var recipient = this.state.recipient, content = [];\n\n    if (!recipient) return;\n\n    if (recipient.name) {\n      content.push(<span className=\"name\">{recipient.name}</span>);\n    }\n\n    if (recipient.src) {\n      content.push(<img className=\"profile-image\" src={recipient.src} />);\n    }\n\n    return content;\n  }\n}\n\nvar Skribble = (\n  <SkribbleGame\n    config={config}\n    screens={{\n      0: iOSScreen,\n      1: TitleScreen,\n      menu: MenuScreen,\n      friend: FriendScreen,\n      canvas: CanvasScreen,\n      'item-drawer': ItemDrawerScreen,\n      inbox: InboxScreen,\n      preview: PreviewScreen,\n      send: SendScreen,\n      sent: SentScreen,\n      read: ReadScreen,\n    }}\n    menus={{\n      quit: QuitScreen,\n      save: SaveMenu,\n      collisionWarning: CollisionWarning,\n      limitWarning: LimitWarning,\n    }}\n    loader={<Loader />}\n    assets={[\n      <skoash.Image className=\"hidden\" src=\"media/_Otter/Waving_Otter2.gif\" />,\n      <skoash.Image className=\"hidden\" src=\"media/_Otter/Open-wide-Otter2.gif\" />,\n      <skoash.Image className=\"hidden\" src=\"media/_Otter/joyful-otter_2.gif\" />,\n      <skoash.Image className=\"hidden\" src=\"media/_Otter/Antipation-Otter3.gif\" />,\n      <skoash.Image className=\"hidden\" src=\"media/_Otter/proud-of-you2.gif\" />,\n      <skoash.Image className=\"hidden\" src=\"media/_Otter/Peeking-through-Otter2.gif\" />,\n      <div className=\"background-1\" />,\n      <div className=\"background-2\" />,\n      <div className=\"background-3\" />,\n      <div className=\"background-4\" />,\n      <div className=\"background-5\" />,\n      <div className=\"background-6\" />,\n    ]}\n    onBootstrap={function () {\n      this.getFriends = _.throttle(this.getData.bind(this, {name: 'getFriends'}), 1000);\n      this.getMediaOnReady = _.throttle(this.getMedia.bind(this), 1000);\n\n      this.updateState({\n        path: ['collisionWarning'],\n        data: {\n          show: true\n        }\n      });\n    }}\n    onReady={function () {\n      this.getMediaOnReady();\n      this.getFriends();\n    }}\n    renderMenu={function () {\n      return (\n        <div>\n          <div className=\"game-menu\">\n            <button className=\"save\" onClick={this.saveButton.bind(this)} />\n            <button className=\"inbox\" onClick={this.navigator.goto.bind(this, {index: 'inbox'})} />\n            <button className=\"create\" onClick={this.create.bind(this)} />\n            <button className=\"help\" onClick={this.navigator.openMenu.bind(this, {id: 'help'})} />\n            <button className=\"close\" onClick={this.navigator.openMenu.bind(this, {id: 'quit'})} />\n          </div>\n          <ul className=\"menu recipient\">\n            <li onClick={this.clickRecipient.bind(this)}>\n              <span>\n                {this.renderRecipient()}\n              </span>\n            </li>\n          </ul>\n        </div>\n      );\n    }}\n    getGotoOpts={function (opts) {\n      if (opts.index === 'send') {\n        if (!this.state.recipient || !this.state.recipient.name) {\n          opts.index = 'friend';\n          opts.goto = 'send';\n        }\n      }\n      return opts;\n    }}\n    passData={function (opts) {\n      if (opts.name === 'add-item') {\n        this.refs['screen-canvas'].addItem(opts.message);\n        this.navigator.goto({ index: 'canvas' });\n      } else if (opts.name === 'add-recipient') {\n        this.addRecipient(opts.message, this.navigator.goto.bind(this, { index: opts.goto || 'canvas' }));\n      } else if (opts.name === 'send') {\n        this.send();\n      } else if (opts.name === 'showCollisionWarning') {\n        this.showCollisionWarning();\n      } else if (opts.name === 'showLimitWarning') {\n        this.showLimitWarning();\n      }\n    }}\n    getTriggerEvents={function (opts = {}) {\n      opts.save = this.save;\n      opts.getMedia = this.getMedia;\n      opts.getRules = this.getRules;\n      opts.loadSkribble = this.loadSkribble;\n      return opts;\n    }}\n    getData={function (opts) {\n      var names = [\n        'getFriends',\n        'getFriend',\n        'markAsRead',\n      ];\n\n      if (names.indexOf(opts.name) === -1) {\n        opts.name = 'getData';\n      }\n\n      return this.eventManager.emit(opts).then(data => {\n        this.updateData({\n          data,\n          callback: opts.callback,\n        });\n      });\n    }}\n  />\n);\n\nskoash.start(Skribble);\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/index.js\n **/","'use strict';\nmodule.exports = require('./lib/index');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/index.js\n ** module id = 34\n ** module chunks = 0\n **/","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/decode.js\n ** module id = 35\n ** module chunks = 0\n **/","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/encode.js\n ** module id = 36\n ** module chunks = 0\n **/","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar isValid = require('./is-valid');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/index.js\n ** module id = 37\n ** module chunks = 0\n **/","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/is-valid.js\n ** module id = 38\n ** module chunks = 0\n **/","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/random/random-byte-browser.js\n ** module id = 39\n ** module chunks = 0\n **/","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/random/random-from-seed.js\n ** module id = 40\n ** module chunks = 0\n **/","'use strict';\n\nmodule.exports = 0;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/util/cluster-worker-id-browser.js\n ** module id = 41\n ** module chunks = 0\n **/"],"sourceRoot":""}