{"version":3,"sources":["webpack:///webpack/bootstrap ed8924ffc39ba6fd4f5c","webpack:///../dev-variables.js","webpack:///../make_media_globals.js","webpack:///./game-skribble/index.js","webpack:///./game-skribble/config.json","webpack:///./shared/components/loader/0.1.js","webpack:///./shared/components/ios_splash_screen/0.1.js","webpack:///./game-skribble/components/title_screen.js","webpack:///./game-skribble/components/menu_screen.js","webpack:///./game-skribble/components/friend_screen.js","webpack:///./shared/components/item_drawer/0.1.js","webpack:///../~/shortid/index.js","webpack:///../~/shortid/lib/index.js","webpack:///../~/shortid/lib/alphabet.js","webpack:///../~/shortid/lib/random/random-from-seed.js","webpack:///../~/shortid/lib/encode.js","webpack:///../~/shortid/lib/random/random-byte-browser.js","webpack:///../~/shortid/lib/decode.js","webpack:///../~/shortid/lib/is-valid.js","webpack:///../~/shortid/lib/util/cluster-worker-id-browser.js","webpack:///../~/classnames/index.js","webpack:///./shared/components/selectable/0.1.js","webpack:///./shared/components/scroll_area/0.1.js","webpack:///./game-skribble/components/canvas_screen.js","webpack:///./shared/components/canvas/0.1.js","webpack:///./shared/components/editable_asset/0.1.js","webpack:///./shared/components/draggable/0.1.js","webpack:///./shared/components/menu/0.1.js","webpack:///./game-skribble/components/item_drawer_screen.js","webpack:///./game-skribble/components/inbox_screen.js","webpack:///./shared/components/selectable_reveal/0.1.js","webpack:///./shared/components/reveal/0.1.js","webpack:///./shared/components/inbox/0.1.js","webpack:///./shared/components/saved_messages/0.1.js","webpack:///./game-skribble/components/preview_screen.js","webpack:///./shared/components/repeater/0.1.js","webpack:///./game-skribble/components/send_screen.js","webpack:///./game-skribble/components/sent_screen.js","webpack:///./game-skribble/components/read_screen.js","webpack:///./shared/components/quit_screen/0.1.js","webpack:///./game-skribble/components/save_menu.js","webpack:///./game-skribble/components/collision_warning.js","webpack:///./game-skribble/components/limit_warning.js"],"names":["window","ENVIRONMENT","MEDIA","gameName","BASE","GAME","EFFECT","VO","IMAGE","SPRITE","FRAME","FONT","SHARED","MOCK_GAME","MOCK","CMWN","gameFolder","DEFAULT_PROFILE_IMAGE","SkribbleGame","opts","respond","refs","getData","skramble","friend_to","rules","skribble","self","state","recipient","user_id","getRules","version","skribbleData","background","items","length","messages","JSON","stringify","emit","name","game","props","config","id","then","setState","save","reset","navigator","goto","index","message","addItems","draft","path","pathArray","split","shift","eventManager","currentOpts","data","callback","setMenu","updateData","forEach","key","_","clone","d","item","asset_type","getMedia","collisionWarning","show","openMenu","cb","src","profile_image","user","some","friend","friend_id","addRecipient","_embedded","image","url","username","description","currentScreenIndex","content","push","skoash","Game","start","menu","canvas","inbox","preview","send","sent","read","quit","limitWarning","getFriends","throttle","bind","getMediaOnReady","updateState","saveButton","create","clickRecipient","renderRecipient","addItem","showCollisionWarning","showLimitWarning","loadSkribble","names","indexOf","module","hot","accept","Loader","Component","ref","MenuScreen","undefined","Screen","FriendScreen","load","complete","trigger","gameState","map","call","open","leave","close","drawer","started","location","origin","replace","copy","imageSrc","selectRespond","back","categories","buttons","suggestFriends","renderOtter","renderFriends","ItemDrawer","selectedItem","selectClass","selectFunction","classes","highlight","select","category","each","selectOnStart","categoryName","e","li","type","target","closest","getAttribute","cancelRespond","values","className","COMPLETE","join","white","toLowerCase","selectButton","continueButton","cancelButton","thumb","isArray","find","subitem","sort","a","b","aVal","isNaN","parseInt","order","Infinity","bVal","filter","getClass","generate","renderItemContent","getClassNames","getCategory","scrollbarImg","getULClass","renderList","renderButtons","defaultProps","defaults","shouldComponentUpdate","nextProps","nextState","quickCheck","itemsChanged","reduce","i","console","warn","Selectable","bin","list","getAll","dataRef","isCorrect","correct","answers","allowDeselect","onSelect","chooseOne","dataTarget","updateGameState","completeListOnClick","r","k","invoke","selectHelper","renderBin","noop","AREA","CONTENT","SCROLLBAR","SCROLLER","ScrollArea","startY","endY","zoom","setZoom","mouseDown","mouseUp","moveEvent","touchStart","touchEnd","scrollTop","addEventListener","ReactDOM","findDOMNode","areaScrollTop","dragging","offsetHeight","scrollbarHeight","scale","startEvent","attachMouseEvents","attachTouchEvents","targetTouches","getEndY","Math","min","max","pageY","getBoundingClientRect","height","detachMouseEvents","detachTouchEvents","removeEventListener","backgroundImage","img","top","shouldRender","renderContentList","getScrollerStyle","CanvasScreen","valid","rightMenuList","setValid","closeReveal","setHasAssets","onMouseOver","menuDOM","getItems","hasAssets","mapRulesStringToNumbers","setItems","left","parseFloat","rotation","deactivate","reveal","ul","includes","playMedia","BACKGROUND","prototype","getContainerClasses","Canvas","offsetX","offsetY","active","deleteItem","checkItem","deactivateItems","relayerItems","dom","width","offsetWidth","floor","layer","corners","check","mime_type","remove","n","asset","count","media_id","c","v","maxInstances","exclude","tagName","layers","oldLayer","newLayer","relayer","isInBounds","can_overlap","util","doIntersect","x","y","itemMinDim","messageMinDim","ACTIVE","getStyle","renderItems","renderMessages","EditableAsset","minScale","maxScale","lastValid","adjustScale","offScale","rotate","adjustRotation","offRotate","setTimeout","pageX","endX","grabX","grabY","startX","el","parentNode","deltaX","deltaY","offsetParent","offsetLeft","offsetTop","atan2","PI","delta","base","pow","setCorners","Object","center","distance","angle","cos","sin","Image","onload","offset","minDim","maxDim","canvasWidth","canvasHeight","activate","bootstrap","getSize","getLayer","attachEvents","extraRotation","style","transform","zIndex","DRAGGING","RETURN","return","INVALID","getAssetStyle","getButtonsStyle","getButtonStyle","delete","getClasses","renderAsset","identity","Draggable","markIncorrect","returnToStart","rect","shouldDrag","firstX","firstY","isFinite","dragRespond","dropRespond","endEvent","WebkitTransform","draggable","Menu","inactive","keys","onClick","gotoObj","isFinal","concat","toString","lastLevel","level","ItemDrawerScreen","inboxEmptyMessage","unreadEmptyMessage","readEmptyMessage","sentEmptyMessage","draftsEmptyMessage","InboxScreen","selectableList","revealList","getRevealList","readMessage","editMessage","outbox","saved","unread","skribbles","received","status","updateGameData","SelectableReveal","canSelectOnStart","revealAll","allCorrect","closeRespond","assets","selectableSelectClass","selectableCompleteOnSelect","selectableCheckComplete","randomizeSelectableList","revealAssets","revealCompleteOnOpen","revealCheckComplete","openOnStart","hideReveal","openReveal","onOpen","renderAssets","renderSelectable","renderReveal","Reveal","currentlyOpen","openMultiple","playAudio","completeOnOpen","autoClose","openTarget","prevMessage","splice","silent","onClose","audio","Number","isInteger","Inbox","UNREAD","friendKey","SENT","friends","emptyMessage","get","timestamp","moment","utc","updated","local","format","getStatusText","SavedMessages","SAVED","firstImg","renderThumb","classNameText","skribbleBox","box","leftMenu","rightMenu","PreviewScreen","leftMenuList","Repeater","amount","yourMessageTo","isReady","changeFriend","character","gift","header","SendScreen","changeFriendClick","createAnother","text","hasBeenSent","SentScreen","sender","ReadScreen","reply","created_by","creater","skribble_id","HIDE","getSenderClassNames","renderSender","renderBoxContent","QuitScreen","okay","cancel","SaveMenu","CollisionWarning","toggle","getToggleClassNames"],"mappings":";AAAA;AACA;AACA,mEAA2D;AAC3D;AACA;AACA;;AAEA,oDAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kDAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,mCAA2B;AAC3B;AACA,YAAI;AACJ;AACA,WAAG;AACH;AACA;;AAEA;AACA,sDAA8C;AAC9C;AACA,qCAA6B;;AAE7B,+CAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAS;AACT;AACA;AACA;AACA;AACA,eAAO;AACP,cAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAK;AACL,YAAI;AACJ;AACA;AACA;AACA;;AAEA,8CAAsC;AACtC;AACA;AACA,qCAA6B;AAC7B,qCAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAAoB,gBAAgB;AACpC;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,4BAAoB,gBAAgB;AACpC;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yBAAiB,8BAA8B;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAAkB,qBAAqB;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;;AAEA,4DAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,0BAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,0BAAkB,4BAA4B;AAC9C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,0BAAkB,4BAA4B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAAmB,uCAAuC;AAC1D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAAmB,uCAAuC;AAC1D;AACA;AACA;AACA;AACA;AACA,2BAAmB,sBAAsB;AACzC;AACA;AACA;AACA,eAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAiB,wCAAwC;AACzD;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,eAAO;AACP;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,8CAAsC,uBAAuB;;AAE7D;AACA;;;;;;;;;;;;;;;;;;ACjkBAA,QAAOC,WAAP,GAAqB;AACjBC,YAAO;AADU,EAArB,C;;;;;;;;ACAC,YAAUC,QAAV,EAAoB;AACjB;AACA,SAAID,QAAQF,OAAOE,KAAP,GAAe;AACvBE,eAAMH,YAAYC;AADK,MAA3B;;AAIA,SAAMG,OAAO,QAAb;AACA,SAAMC,SAAS,uBAAf;AACA,SAAMC,KAAK,mBAAX;AACA,SAAMC,QAAQ,eAAd;AACA,SAAMC,SAAS,qBAAf;AACA,SAAMC,QAAQ,SAAd;AACA,SAAMC,OAAO,QAAb;AACA,SAAMC,SAAS,SAAf;AACA,SAAMC,YAAY,YAAlB;;AAEAX,WAAMS,IAAN,GAAaT,MAAME,IAAN,GAAaO,IAA1B;AACAT,WAAMU,MAAN,GAAeV,MAAME,IAAN,GAAaC,IAAb,GAAoBO,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AAA,oBAAU1B,IAAI0B,EAAE1K,IAAhB;AAAA,UAAhB,EAAsC,EAAtC,CAAb;;AAEAwK,wBAAe,KAAKD,UAAL,KAAoBA,UAAnC;AACA,aAAIC,YAAJ,EAAkB,KAAKD,UAAL,GAAkBA,UAAlB;;AAElB,gBAAOC,gBAAgBH,UAAU3C,YAAV,KAA2B,KAAKxH,KAAL,CAAWwH,YAAtD,IACH7H,KAAKC,SAAL,CAAe,KAAKX,KAAL,CAAWiI,OAA1B,MAAuCvH,KAAKC,SAAL,CAAewK,UAAUlD,OAAzB,CAD3C;AAEH;AAnBgC,EAAX,EAoBvB,WAAW8C,YApBY,CAA1B;;mBAsBelD,U;;;;;;ACnQf;AACA;;;;;;;ACDA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnGA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA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","file":"skribble/ai.js","sourcesContent":[" \tvar parentHotUpdateCallback = this[\"webpackHotUpdate\"];\n \tthis[\"webpackHotUpdate\"] = \r\n \tfunction webpackHotUpdateCallback(chunkId, moreModules) { // eslint-disable-line no-unused-vars\r\n \t\thotAddUpdateChunk(chunkId, moreModules);\r\n \t\tif(parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\r\n \t}\r\n \t\r\n \tfunction hotDownloadUpdateChunk(chunkId) { // eslint-disable-line no-unused-vars\r\n \t\tvar head = document.getElementsByTagName(\"head\")[0];\r\n \t\tvar script = document.createElement(\"script\");\r\n \t\tscript.type = \"text/javascript\";\r\n \t\tscript.charset = \"utf-8\";\r\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\";\r\n \t\thead.appendChild(script);\r\n \t}\r\n \t\r\n \tfunction hotDownloadManifest(callback) { // eslint-disable-line no-unused-vars\r\n \t\tif(typeof XMLHttpRequest === \"undefined\")\r\n \t\t\treturn callback(new Error(\"No browser support\"));\r\n \t\ttry {\r\n \t\t\tvar request = new XMLHttpRequest();\r\n \t\t\tvar requestPath = __webpack_require__.p + \"\" + hotCurrentHash + \".hot-update.json\";\r\n \t\t\trequest.open(\"GET\", requestPath, true);\r\n \t\t\trequest.timeout = 10000;\r\n \t\t\trequest.send(null);\r\n \t\t} catch(err) {\r\n \t\t\treturn callback(err);\r\n \t\t}\r\n \t\trequest.onreadystatechange = function() {\r\n \t\t\tif(request.readyState !== 4) return;\r\n \t\t\tif(request.status === 0) {\r\n \t\t\t\t// timeout\r\n \t\t\t\tcallback(new Error(\"Manifest request to \" + requestPath + \" timed out.\"));\r\n \t\t\t} else if(request.status === 404) {\r\n \t\t\t\t// no update available\r\n \t\t\t\tcallback();\r\n \t\t\t} else if(request.status !== 200 && request.status !== 304) {\r\n \t\t\t\t// other failure\r\n \t\t\t\tcallback(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\r\n \t\t\t} else {\r\n \t\t\t\t// success\r\n \t\t\t\ttry {\r\n \t\t\t\t\tvar update = JSON.parse(request.responseText);\r\n \t\t\t\t} catch(e) {\r\n \t\t\t\t\tcallback(e);\r\n \t\t\t\t\treturn;\r\n \t\t\t\t}\r\n \t\t\t\tcallback(null, update);\r\n \t\t\t}\r\n \t\t};\r\n \t}\r\n\n \t\r\n \t\r\n \t// Copied from https://github.com/facebook/react/blob/bef45b0/src/shared/utils/canDefineProperty.js\r\n \tvar canDefineProperty = false;\r\n \ttry {\r\n \t\tObject.defineProperty({}, \"x\", {\r\n \t\t\tget: function() {}\r\n \t\t});\r\n \t\tcanDefineProperty = true;\r\n \t} catch(x) {\r\n \t\t// IE will fail on defineProperty\r\n \t}\r\n \t\r\n \tvar hotApplyOnUpdate = true;\r\n \tvar hotCurrentHash = \"ed8924ffc39ba6fd4f5c\"; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentModuleData = {};\r\n \tvar hotCurrentParents = []; // eslint-disable-line no-unused-vars\r\n \t\r\n \tfunction hotCreateRequire(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar me = installedModules[moduleId];\r\n \t\tif(!me) return __webpack_require__;\r\n \t\tvar fn = function(request) {\r\n \t\t\tif(me.hot.active) {\r\n \t\t\t\tif(installedModules[request]) {\r\n \t\t\t\t\tif(installedModules[request].parents.indexOf(moduleId) < 0)\r\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\r\n \t\t\t\t\tif(me.children.indexOf(request) < 0)\r\n \t\t\t\t\t\tme.children.push(request);\r\n \t\t\t\t} else hotCurrentParents = [moduleId];\r\n \t\t\t} else {\r\n \t\t\t\tconsole.warn(\"[HMR] unexpected require(\" + request + \") from disposed module \" + moduleId);\r\n \t\t\t\thotCurrentParents = [];\r\n \t\t\t}\r\n \t\t\treturn __webpack_require__(request);\r\n \t\t};\r\n \t\tfor(var name in __webpack_require__) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(__webpack_require__, name)) {\r\n \t\t\t\tif(canDefineProperty) {\r\n \t\t\t\t\tObject.defineProperty(fn, name, (function(name) {\r\n \t\t\t\t\t\treturn {\r\n \t\t\t\t\t\t\tconfigurable: true,\r\n \t\t\t\t\t\t\tenumerable: true,\r\n \t\t\t\t\t\t\tget: function() {\r\n \t\t\t\t\t\t\t\treturn __webpack_require__[name];\r\n \t\t\t\t\t\t\t},\r\n \t\t\t\t\t\t\tset: function(value) {\r\n \t\t\t\t\t\t\t\t__webpack_require__[name] = value;\r\n \t\t\t\t\t\t\t}\r\n \t\t\t\t\t\t};\r\n \t\t\t\t\t}(name)));\r\n \t\t\t\t} else {\r\n \t\t\t\t\tfn[name] = __webpack_require__[name];\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\tfunction ensure(chunkId, callback) {\r\n \t\t\tif(hotStatus === \"ready\")\r\n \t\t\t\thotSetStatus(\"prepare\");\r\n \t\t\thotChunksLoading++;\r\n \t\t\t__webpack_require__.e(chunkId, function() {\r\n \t\t\t\ttry {\r\n \t\t\t\t\tcallback.call(null, fn);\r\n \t\t\t\t} finally {\r\n \t\t\t\t\tfinishChunkLoading();\r\n \t\t\t\t}\r\n \t\r\n \t\t\t\tfunction finishChunkLoading() {\r\n \t\t\t\t\thotChunksLoading--;\r\n \t\t\t\t\tif(hotStatus === \"prepare\") {\r\n \t\t\t\t\t\tif(!hotWaitingFilesMap[chunkId]) {\r\n \t\t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\t\t\t\thotUpdateDownloaded();\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t});\r\n \t\t}\r\n \t\tif(canDefineProperty) {\r\n \t\t\tObject.defineProperty(fn, \"e\", {\r\n \t\t\t\tenumerable: true,\r\n \t\t\t\tvalue: ensure\r\n \t\t\t});\r\n \t\t} else {\r\n \t\t\tfn.e = ensure;\r\n \t\t}\r\n \t\treturn fn;\r\n \t}\r\n \t\r\n \tfunction hotCreateModule(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar hot = {\r\n \t\t\t// private stuff\r\n \t\t\t_acceptedDependencies: {},\r\n \t\t\t_declinedDependencies: {},\r\n \t\t\t_selfAccepted: false,\r\n \t\t\t_selfDeclined: false,\r\n \t\t\t_disposeHandlers: [],\r\n \t\r\n \t\t\t// Module API\r\n \t\t\tactive: true,\r\n \t\t\taccept: function(dep, callback) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfAccepted = true;\r\n \t\t\t\telse if(typeof dep === \"function\")\r\n \t\t\t\t\thot._selfAccepted = dep;\r\n \t\t\t\telse if(typeof dep === \"object\")\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback;\r\n \t\t\t\telse\r\n \t\t\t\t\thot._acceptedDependencies[dep] = callback;\r\n \t\t\t},\r\n \t\t\tdecline: function(dep) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfDeclined = true;\r\n \t\t\t\telse if(typeof dep === \"number\")\r\n \t\t\t\t\thot._declinedDependencies[dep] = true;\r\n \t\t\t\telse\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\r\n \t\t\t},\r\n \t\t\tdispose: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\taddDisposeHandler: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\tremoveDisposeHandler: function(callback) {\r\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\r\n \t\t\t\tif(idx >= 0) hot._disposeHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t// Management API\r\n \t\t\tcheck: hotCheck,\r\n \t\t\tapply: hotApply,\r\n \t\t\tstatus: function(l) {\r\n \t\t\t\tif(!l) return hotStatus;\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\taddStatusHandler: function(l) {\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\tremoveStatusHandler: function(l) {\r\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\r\n \t\t\t\tif(idx >= 0) hotStatusHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t//inherit from previous dispose call\r\n \t\t\tdata: hotCurrentModuleData[moduleId]\r\n \t\t};\r\n \t\treturn hot;\r\n \t}\r\n \t\r\n \tvar hotStatusHandlers = [];\r\n \tvar hotStatus = \"idle\";\r\n \t\r\n \tfunction hotSetStatus(newStatus) {\r\n \t\thotStatus = newStatus;\r\n \t\tfor(var i = 0; i < hotStatusHandlers.length; i++)\r\n \t\t\thotStatusHandlers[i].call(null, newStatus);\r\n \t}\r\n \t\r\n \t// while downloading\r\n \tvar hotWaitingFiles = 0;\r\n \tvar hotChunksLoading = 0;\r\n \tvar hotWaitingFilesMap = {};\r\n \tvar hotRequestedFilesMap = {};\r\n \tvar hotAvailibleFilesMap = {};\r\n \tvar hotCallback;\r\n \t\r\n \t// The update info\r\n \tvar hotUpdate, hotUpdateNewHash;\r\n \t\r\n \tfunction toModuleId(id) {\r\n \t\tvar isNumber = (+id) + \"\" === id;\r\n \t\treturn isNumber ? +id : id;\r\n \t}\r\n \t\r\n \tfunction hotCheck(apply, callback) {\r\n \t\tif(hotStatus !== \"idle\") throw new Error(\"check() is only allowed in idle status\");\r\n \t\tif(typeof apply === \"function\") {\r\n \t\t\thotApplyOnUpdate = false;\r\n \t\t\tcallback = apply;\r\n \t\t} else {\r\n \t\t\thotApplyOnUpdate = apply;\r\n \t\t\tcallback = callback || function(err) {\r\n \t\t\t\tif(err) throw err;\r\n \t\t\t};\r\n \t\t}\r\n \t\thotSetStatus(\"check\");\r\n \t\thotDownloadManifest(function(err, update) {\r\n \t\t\tif(err) return callback(err);\r\n \t\t\tif(!update) {\r\n \t\t\t\thotSetStatus(\"idle\");\r\n \t\t\t\tcallback(null, null);\r\n \t\t\t\treturn;\r\n \t\t\t}\r\n \t\r\n \t\t\thotRequestedFilesMap = {};\r\n \t\t\thotAvailibleFilesMap = {};\r\n \t\t\thotWaitingFilesMap = {};\r\n \t\t\tfor(var i = 0; i < update.c.length; i++)\r\n \t\t\t\thotAvailibleFilesMap[update.c[i]] = true;\r\n \t\t\thotUpdateNewHash = update.h;\r\n \t\r\n \t\t\thotSetStatus(\"prepare\");\r\n \t\t\thotCallback = callback;\r\n \t\t\thotUpdate = {};\r\n \t\t\tvar chunkId = 0;\r\n \t\t\t{ // eslint-disable-line no-lone-blocks\r\n \t\t\t\t/*globals chunkId */\r\n \t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t}\r\n \t\t\tif(hotStatus === \"prepare\" && hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\thotUpdateDownloaded();\r\n \t\t\t}\r\n \t\t});\r\n \t}\r\n \t\r\n \tfunction hotAddUpdateChunk(chunkId, moreModules) { // eslint-disable-line no-unused-vars\r\n \t\tif(!hotAvailibleFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\r\n \t\t\treturn;\r\n \t\thotRequestedFilesMap[chunkId] = false;\r\n \t\tfor(var moduleId in moreModules) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\r\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\tif(--hotWaitingFiles === 0 && hotChunksLoading === 0) {\r\n \t\t\thotUpdateDownloaded();\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotEnsureUpdateChunk(chunkId) {\r\n \t\tif(!hotAvailibleFilesMap[chunkId]) {\r\n \t\t\thotWaitingFilesMap[chunkId] = true;\r\n \t\t} else {\r\n \t\t\thotRequestedFilesMap[chunkId] = true;\r\n \t\t\thotWaitingFiles++;\r\n \t\t\thotDownloadUpdateChunk(chunkId);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotUpdateDownloaded() {\r\n \t\thotSetStatus(\"ready\");\r\n \t\tvar callback = hotCallback;\r\n \t\thotCallback = null;\r\n \t\tif(!callback) return;\r\n \t\tif(hotApplyOnUpdate) {\r\n \t\t\thotApply(hotApplyOnUpdate, callback);\r\n \t\t} else {\r\n \t\t\tvar outdatedModules = [];\r\n \t\t\tfor(var id in hotUpdate) {\r\n \t\t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t\tcallback(null, outdatedModules);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotApply(options, callback) {\r\n \t\tif(hotStatus !== \"ready\") throw new Error(\"apply() is only allowed in ready status\");\r\n \t\tif(typeof options === \"function\") {\r\n \t\t\tcallback = options;\r\n \t\t\toptions = {};\r\n \t\t} else if(options && typeof options === \"object\") {\r\n \t\t\tcallback = callback || function(err) {\r\n \t\t\t\tif(err) throw err;\r\n \t\t\t};\r\n \t\t} else {\r\n \t\t\toptions = {};\r\n \t\t\tcallback = callback || function(err) {\r\n \t\t\t\tif(err) throw err;\r\n \t\t\t};\r\n \t\t}\r\n \t\r\n \t\tfunction getAffectedStuff(module) {\r\n \t\t\tvar outdatedModules = [module];\r\n \t\t\tvar outdatedDependencies = {};\r\n \t\r\n \t\t\tvar queue = outdatedModules.slice();\r\n \t\t\twhile(queue.length > 0) {\r\n \t\t\t\tvar moduleId = queue.pop();\r\n \t\t\t\tvar module = installedModules[moduleId];\r\n \t\t\t\tif(!module || module.hot._selfAccepted)\r\n \t\t\t\t\tcontinue;\r\n \t\t\t\tif(module.hot._selfDeclined) {\r\n \t\t\t\t\treturn new Error(\"Aborted because of self decline: \" + moduleId);\r\n \t\t\t\t}\r\n \t\t\t\tif(moduleId === 0) {\r\n \t\t\t\t\treturn;\r\n \t\t\t\t}\r\n \t\t\t\tfor(var i = 0; i < module.parents.length; i++) {\r\n \t\t\t\t\tvar parentId = module.parents[i];\r\n \t\t\t\t\tvar parent = installedModules[parentId];\r\n \t\t\t\t\tif(parent.hot._declinedDependencies[moduleId]) {\r\n \t\t\t\t\t\treturn new Error(\"Aborted because of declined dependency: \" + moduleId + \" in \" + parentId);\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(outdatedModules.indexOf(parentId) >= 0) continue;\r\n \t\t\t\t\tif(parent.hot._acceptedDependencies[moduleId]) {\r\n \t\t\t\t\t\tif(!outdatedDependencies[parentId])\r\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\r\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\r\n \t\t\t\t\t\tcontinue;\r\n \t\t\t\t\t}\r\n \t\t\t\t\tdelete outdatedDependencies[parentId];\r\n \t\t\t\t\toutdatedModules.push(parentId);\r\n \t\t\t\t\tqueue.push(parentId);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\r\n \t\t\treturn [outdatedModules, outdatedDependencies];\r\n \t\t}\r\n \t\r\n \t\tfunction addAllToSet(a, b) {\r\n \t\t\tfor(var i = 0; i < b.length; i++) {\r\n \t\t\t\tvar item = b[i];\r\n \t\t\t\tif(a.indexOf(item) < 0)\r\n \t\t\t\t\ta.push(item);\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// at begin all updates modules are outdated\r\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\r\n \t\tvar outdatedDependencies = {};\r\n \t\tvar outdatedModules = [];\r\n \t\tvar appliedUpdate = {};\r\n \t\tfor(var id in hotUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\tvar moduleId = toModuleId(id);\r\n \t\t\t\tvar result = getAffectedStuff(moduleId);\r\n \t\t\t\tif(!result) {\r\n \t\t\t\t\tif(options.ignoreUnaccepted)\r\n \t\t\t\t\t\tcontinue;\r\n \t\t\t\t\thotSetStatus(\"abort\");\r\n \t\t\t\t\treturn callback(new Error(\"Aborted because \" + moduleId + \" is not accepted\"));\r\n \t\t\t\t}\r\n \t\t\t\tif(result instanceof Error) {\r\n \t\t\t\t\thotSetStatus(\"abort\");\r\n \t\t\t\t\treturn callback(result);\r\n \t\t\t\t}\r\n \t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\r\n \t\t\t\taddAllToSet(outdatedModules, result[0]);\r\n \t\t\t\tfor(var moduleId in result[1]) {\r\n \t\t\t\t\tif(Object.prototype.hasOwnProperty.call(result[1], moduleId)) {\r\n \t\t\t\t\t\tif(!outdatedDependencies[moduleId])\r\n \t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\r\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[moduleId], result[1][moduleId]);\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Store self accepted outdated modules to require them later by the module system\r\n \t\tvar outdatedSelfAcceptedModules = [];\r\n \t\tfor(var i = 0; i < outdatedModules.length; i++) {\r\n \t\t\tvar moduleId = outdatedModules[i];\r\n \t\t\tif(installedModules[moduleId] && installedModules[moduleId].hot._selfAccepted)\r\n \t\t\t\toutdatedSelfAcceptedModules.push({\r\n \t\t\t\t\tmodule: moduleId,\r\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\r\n \t\t\t\t});\r\n \t\t}\r\n \t\r\n \t\t// Now in \"dispose\" phase\r\n \t\thotSetStatus(\"dispose\");\r\n \t\tvar queue = outdatedModules.slice();\r\n \t\twhile(queue.length > 0) {\r\n \t\t\tvar moduleId = queue.pop();\r\n \t\t\tvar module = installedModules[moduleId];\r\n \t\t\tif(!module) continue;\r\n \t\r\n \t\t\tvar data = {};\r\n \t\r\n \t\t\t// Call dispose handlers\r\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\r\n \t\t\tfor(var j = 0; j < disposeHandlers.length; j++) {\r\n \t\t\t\tvar cb = disposeHandlers[j];\r\n \t\t\t\tcb(data);\r\n \t\t\t}\r\n \t\t\thotCurrentModuleData[moduleId] = data;\r\n \t\r\n \t\t\t// disable module (this disables requires from this module)\r\n \t\t\tmodule.hot.active = false;\r\n \t\r\n \t\t\t// remove module from cache\r\n \t\t\tdelete installedModules[moduleId];\r\n \t\r\n \t\t\t// remove \"parents\" references from all children\r\n \t\t\tfor(var j = 0; j < module.children.length; j++) {\r\n \t\t\t\tvar child = installedModules[module.children[j]];\r\n \t\t\t\tif(!child) continue;\r\n \t\t\t\tvar idx = child.parents.indexOf(moduleId);\r\n \t\t\t\tif(idx >= 0) {\r\n \t\t\t\t\tchild.parents.splice(idx, 1);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// remove outdated dependency from module children\r\n \t\tfor(var moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tvar module = installedModules[moduleId];\r\n \t\t\t\tvar moduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\tfor(var j = 0; j < moduleOutdatedDependencies.length; j++) {\r\n \t\t\t\t\tvar dependency = moduleOutdatedDependencies[j];\r\n \t\t\t\t\tvar idx = module.children.indexOf(dependency);\r\n \t\t\t\t\tif(idx >= 0) module.children.splice(idx, 1);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Not in \"apply\" phase\r\n \t\thotSetStatus(\"apply\");\r\n \t\r\n \t\thotCurrentHash = hotUpdateNewHash;\r\n \t\r\n \t\t// insert new code\r\n \t\tfor(var moduleId in appliedUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\r\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// call accept handlers\r\n \t\tvar error = null;\r\n \t\tfor(var moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tvar module = installedModules[moduleId];\r\n \t\t\t\tvar moduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\tvar callbacks = [];\r\n \t\t\t\tfor(var i = 0; i < moduleOutdatedDependencies.length; i++) {\r\n \t\t\t\t\tvar dependency = moduleOutdatedDependencies[i];\r\n \t\t\t\t\tvar cb = module.hot._acceptedDependencies[dependency];\r\n \t\t\t\t\tif(callbacks.indexOf(cb) >= 0) continue;\r\n \t\t\t\t\tcallbacks.push(cb);\r\n \t\t\t\t}\r\n \t\t\t\tfor(var i = 0; i < callbacks.length; i++) {\r\n \t\t\t\t\tvar cb = callbacks[i];\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\tcb(outdatedDependencies);\r\n \t\t\t\t\t} catch(err) {\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Load self accepted modules\r\n \t\tfor(var i = 0; i < outdatedSelfAcceptedModules.length; i++) {\r\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\r\n \t\t\tvar moduleId = item.module;\r\n \t\t\thotCurrentParents = [moduleId];\r\n \t\t\ttry {\r\n \t\t\t\t__webpack_require__(moduleId);\r\n \t\t\t} catch(err) {\r\n \t\t\t\tif(typeof item.errorHandler === \"function\") {\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\titem.errorHandler(err);\r\n \t\t\t\t\t} catch(err) {\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t} else if(!error)\r\n \t\t\t\t\terror = err;\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// handle errors in accept handlers and self accepted module load\r\n \t\tif(error) {\r\n \t\t\thotSetStatus(\"fail\");\r\n \t\t\treturn callback(error);\r\n \t\t}\r\n \t\r\n \t\thotSetStatus(\"idle\");\r\n \t\tcallback(null, outdatedModules);\r\n \t}\r\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false,\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: hotCurrentParents,\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(0)(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ed8924ffc39ba6fd4f5c","window.ENVIRONMENT = {\n    MEDIA: 'https://media-staging.changemyworldnow.com/f/'\n};\n\n\n\n// WEBPACK FOOTER //\n// ../dev-variables.js","(function (gameName) {\n    // remove window.MEDIA once no games reference it\n    var MEDIA = window.MEDIA = {\n        BASE: ENVIRONMENT.MEDIA\n    };\n\n    const GAME = 'games/';\n    const EFFECT = 'sound-assets/effects/';\n    const VO = 'sound-assets/vos/';\n    const IMAGE = 'image-assets/';\n    const SPRITE = 'sprites-animations/';\n    const FRAME = 'frames/';\n    const FONT = 'fonts/';\n    const SHARED = 'shared/';\n    const MOCK_GAME = 'mock-game/';\n\n    MEDIA.FONT = MEDIA.BASE + FONT;\n    MEDIA.SHARED = MEDIA.BASE + GAME + SHARED;\n\n    MEDIA.GAME = MEDIA.BASE + GAME + gameName + '/';\n    MEDIA.EFFECT = MEDIA.GAME + EFFECT;\n    MEDIA.VO = MEDIA.GAME + VO;\n    MEDIA.IMAGE = MEDIA.GAME + IMAGE;\n    MEDIA.SPRITE = MEDIA.GAME + SPRITE;\n    MEDIA.FRAME = MEDIA.GAME + FRAME;\n    MEDIA.FONT = MEDIA.GAME + FONT;\n\n    MEDIA.MOCK = {};\n    MEDIA.MOCK.GAME = MEDIA.BASE + GAME + MOCK_GAME;\n    MEDIA.MOCK.EFFECT = MEDIA.MOCK.GAME + EFFECT;\n    MEDIA.MOCK.VO = MEDIA.MOCK.GAME + VO;\n    MEDIA.MOCK.IMAGE = MEDIA.MOCK.GAME + IMAGE;\n    MEDIA.MOCK.SPRITE = MEDIA.MOCK.GAME + SPRITE;\n    MEDIA.MOCK.FRAME = MEDIA.MOCK.GAME + FRAME;\n    MEDIA.MOCK.FONT = MEDIA.MOCK.GAME + FONT;\n\n    window.CMWN.MEDIA = MEDIA;\n}(window.CMWN.gameFolder));\n\n\n\n// WEBPACK FOOTER //\n// ../make_media_globals.js","import config from './config';\n\nimport Loader from 'shared/components/loader/0.1';\n\nimport iOSScreen from 'shared/components/ios_splash_screen/0.1';\nimport TitleScreen from './components/title_screen';\nimport MenuScreen from './components/menu_screen';\nimport FriendScreen from './components/friend_screen';\nimport CanvasScreen from './components/canvas_screen';\nimport ItemDrawerScreen from './components/item_drawer_screen';\nimport InboxScreen from './components/inbox_screen';\nimport PreviewScreen from './components/preview_screen';\nimport SendScreen from './components/send_screen';\nimport SentScreen from './components/sent_screen';\nimport ReadScreen from './components/read_screen';\n\nimport QuitScreen from 'shared/components/quit_screen/0.1';\nimport SaveMenu from './components/save_menu';\nimport CollisionWarning from './components/collision_warning';\nimport LimitWarning from './components/limit_warning';\n\nconst DEFAULT_PROFILE_IMAGE = '';\n\nclass SkribbleGame extends skoash.Game {\n    getRules(opts = {}) {\n        if (typeof opts.respond === 'function') {\n            return opts.respond(this.refs['screen-canvas'].getData());\n        }\n        return this.refs['screen-canvas'].getData();\n    }\n\n    save(opts = {}, skramble = false) {\n        /* eslint-disable camelcase */\n        var friend_to;\n        var rules;\n        var skribble;\n        var self = this;\n\n        friend_to = self.state.recipient && self.state.recipient.user_id ?\n            self.state.recipient.user_id : null;\n        rules = self.getRules();\n        skribble = {\n            'version': config.version,\n            ...self.state.skribbleData,\n            friend_to,\n            skramble,\n            rules\n        };\n\n        if (!rules.background && !rules.items.length && !rules.messages.length) {\n            return;\n        }\n\n        if (JSON.stringify(skribble) !== JSON.stringify(this.state.skribble)) {\n            self.emit({\n                name: 'saveSkribble',\n                game: self.props.config.id,\n                skribble,\n            }).then(skribbleData => {\n                self.setState({\n                    skribbleData,\n                    skribble\n                });\n            });\n        }\n        /* eslint-enable camelcase */\n    }\n\n    send() {\n        this.save({}, true);\n\n        this.refs['screen-canvas'].reset();\n        this.navigator.goto({\n            index: 'sent',\n            recipient: this.state.recipient,\n        });\n\n        this.setState({\n            recipient: null,\n            skribbleData: null,\n        });\n    }\n\n    loadSkribble(opts) {\n        this.setState({\n            skribbleData: opts.message\n        }, () => {\n            this.refs['screen-canvas'].addItems(opts.message);\n            this.navigator.goto({\n                index: 'canvas',\n                draft: true,\n            });\n        });\n    }\n\n    getMedia(path) {\n        var pathArray;\n        var self = this;\n\n        if (typeof path === 'object') path = path.path;\n        path = path || 'skribble/menu';\n        pathArray = path.split('/');\n        pathArray.shift();\n\n        return self.eventManager.emit({\n            name: 'getMedia',\n            path\n        }).then(d => {\n            var opts;\n            var currentOpts;\n            opts = {\n                data: {},\n                callback: () => {\n                    self.refs['screen-canvas'].setMenu();\n                    self.refs['screen-item-drawer'].updateData();\n                }\n            };\n            currentOpts = opts.data;\n\n            pathArray.forEach((key, index) => {\n                currentOpts[key] = {\n                    items: {}\n                };\n                if (index !== pathArray.length - 1) {\n                    currentOpts = currentOpts[key].items;\n                }\n            });\n\n            currentOpts[pathArray[pathArray.length - 1]] = _.clone(d);\n            currentOpts[pathArray[pathArray.length - 1]].items = {};\n\n            if (d.items) {\n                d.items.forEach(item => {\n                    if (item.asset_type === 'folder' && item.name) {\n                        self.getMedia(path + '/' + item.name);\n                    }\n                    currentOpts[pathArray[pathArray.length - 1]].items[item.name] = item;\n                });\n            }\n            self.updateData(opts);\n        });\n    }\n\n    showCollisionWarning() {\n        if (!this.state.data.collisionWarning.show) return;\n        this.navigator.openMenu({id: 'collisionWarning'});\n    }\n\n    showLimitWarning() {\n        this.navigator.openMenu({id: 'limitWarning'});\n    }\n\n    addRecipient(recipient, cb) {\n        var src;\n\n        if (recipient.src) {\n            recipient.profile_image = recipient.src; // eslint-disable-line camelcase\n        } else if (typeof recipient === 'string') {\n            if (this.state.data && this.state.data.user) {\n                this.state.data.user.some(friend => {\n                    if (friend.friend_id === recipient) {\n                        recipient = friend;\n                        return true;\n                    }\n                    return false;\n                });\n            }\n        }\n\n        if (typeof recipient === 'string') {\n            this.getData({\n                name: 'getFriend',\n                'friend_id': recipient,\n                callback: () => {\n                    this.addRecipient(recipient, cb);\n                }\n            });\n        } else {\n            src = recipient && recipient._embedded && recipient._embedded.image &&\n                recipient._embedded.image.url ?\n                recipient._embedded.image.url :\n                recipient.profile_image || DEFAULT_PROFILE_IMAGE;\n            this.setState({\n                recipient: {\n                    'user_id': recipient.user_id || recipient.friend_id,\n                    name: recipient.name || recipient.username,\n                    src,\n          // I need to get the flips earned back from the backend to do this.\n                    description: '',\n          // description: friend.flips_earned + ' Flips Earned',\n                    'asset_type': 'friend',\n                }\n            }, cb);\n        }\n    }\n\n    clickRecipient() {\n        this.navigator.goto({\n            index: 'friend',\n            goto: this.state.currentScreenIndex,\n        });\n    }\n\n    create() {\n        if (this.state.recipient) {\n            this.navigator.goto({index: 'canvas'});\n        } else {\n            this.navigator.goto({\n                index: 'friend',\n                goto: 'canvas',\n            });\n        }\n    }\n\n    saveButton() {\n        this.save();\n        this.navigator.openMenu({id: 'save'});\n    }\n\n    renderRecipient() {\n        var recipient = this.state.recipient;\n        var content = [];\n\n        if (!recipient) return;\n\n        if (recipient.name) {\n            content.push(<span className=\"name\">{recipient.name}</span>);\n        }\n\n        if (recipient.src) {\n            content.push(<img className=\"profile-image\" src={recipient.src} />);\n        }\n\n        return content;\n    }\n}\n\nskoash.start(\n    <SkribbleGame\n        config={config}\n        screens={{\n            0: iOSScreen,\n            1: TitleScreen,\n            menu: MenuScreen,\n            friend: FriendScreen,\n            canvas: CanvasScreen,\n            'item-drawer': ItemDrawerScreen,\n            inbox: InboxScreen,\n            preview: PreviewScreen,\n            send: SendScreen,\n            sent: SentScreen,\n            read: ReadScreen,\n        }}\n        menus={{\n            quit: QuitScreen,\n            save: SaveMenu,\n            collisionWarning: CollisionWarning,\n            limitWarning: LimitWarning,\n        }}\n        loader={<Loader />}\n        assets={[\n            <skoash.Audio ref=\"bkg1\" type=\"background\" src={`${CMWN.MEDIA.EFFECT}BKG1.mp3`} loop />,\n            <skoash.Audio ref=\"bkg2\" type=\"background\" src={`${CMWN.MEDIA.EFFECT}IntroSequnce.mp3`} loop />,\n            <skoash.Audio ref=\"button\" type=\"sfx\" src={`${CMWN.MEDIA.EFFECT}AllButtons.mp3`} />,\n            <skoash.Image className=\"hidden\" src={`${CMWN.MEDIA.SPRITE}waving-otter-2.gif`} />,\n            <skoash.Image className=\"hidden\" src={`${CMWN.MEDIA.SPRITE}open-wide-otter-2.gif`} />,\n            <skoash.Image className=\"hidden\" src={`${CMWN.MEDIA.SPRITE}joyful-otter-2.gif`} />,\n            <skoash.Image className=\"hidden\" src={`${CMWN.MEDIA.SPRITE}antipation-otter-3.gif`} />,\n            <skoash.Image className=\"hidden\" src={`${CMWN.MEDIA.SPRITE}proud-of-you-2.gif`} />,\n            <skoash.Image className=\"hidden\" src={`${CMWN.MEDIA.SPRITE}peeking-through-otter-2.gif`} />,\n            <div className=\"background-1\" />,\n            <div className=\"background-2\" />,\n            <div className=\"background-3\" />,\n            <div className=\"background-4\" />,\n            <div className=\"background-5\" />,\n            <div className=\"background-6\" />,\n        ]}\n        onBootstrap={function () {\n            this.getFriends = _.throttle(this.getData.bind(this, {name: 'getFriends'}), 1000);\n            this.getMediaOnReady = _.throttle(this.getMedia.bind(this), 1000);\n\n            this.updateState({\n                path: ['collisionWarning'],\n                data: {\n                    show: true\n                }\n            });\n        }}\n        onReady={function () {\n            this.getMediaOnReady();\n            this.getFriends();\n        }}\n        renderMenu={function () {\n            return (\n                <div>\n                    <div className=\"game-menu\">\n                        <button className=\"save\" onClick={this.saveButton.bind(this)} />\n                        <button\n                            className=\"inbox\"\n                            onClick={this.navigator.goto.bind(this, {index: 'inbox'})}\n                        />\n                        <button className=\"create\" onClick={this.create.bind(this)} />\n                        <button className=\"help\" onClick={this.navigator.openMenu.bind(this, {id: 'help'})} />\n                        <button\n                            className=\"close\"\n                            onClick={this.navigator.openMenu.bind(this, {id: 'quit'})}\n                        />\n                    </div>\n                    <ul className=\"menu recipient\">\n                        <li onClick={this.clickRecipient.bind(this)}>\n                            <span>\n                                {this.renderRecipient()}\n                            </span>\n                        </li>\n                    </ul>\n                </div>\n            );\n        }}\n        getGotoOpts={function (opts) {\n            if (opts.index === 'send') {\n                if (!this.state.recipient || !this.state.recipient.name) {\n                    opts.index = 'friend';\n                    opts.goto = 'send';\n                }\n            }\n            return opts;\n        }}\n        passData={function (opts) {\n            if (opts.name === 'add-item') {\n                this.refs['screen-canvas'].addItem(opts.message);\n                this.navigator.goto({ index: 'canvas' });\n            } else if (opts.name === 'add-recipient') {\n                this.addRecipient(opts.message, this.navigator.goto.bind(this, {\n                    index: opts.goto || 'canvas'\n                }));\n            } else if (opts.name === 'send') {\n                this.send();\n            } else if (opts.name === 'showCollisionWarning') {\n                this.showCollisionWarning();\n            } else if (opts.name === 'showLimitWarning') {\n                this.showLimitWarning();\n            }\n        }}\n        getTriggerEvents={function (opts = {}) {\n            opts.save = this.save;\n            opts.getMedia = this.getMedia;\n            opts.getRules = this.getRules;\n            opts.loadSkribble = this.loadSkribble;\n            return opts;\n        }}\n        getData={function (opts) {\n            var names = [\n                'getFriends',\n                'getFriend',\n                'markAsRead',\n            ];\n\n            if (names.indexOf(opts.name) === -1) {\n                opts.name = 'getData';\n            }\n\n            return this.eventManager.emit(opts).then(data => {\n                this.updateData({\n                    data,\n                    callback: opts.callback,\n                });\n            });\n        }}\n    />\n);\n\nif (module.hot) module.hot.accept();\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/index.js","module.exports = {\n\t\"id\": \"skribble\",\n\t\"version\": 1,\n\t\"skoash\": \"1.1.8\",\n\t\"dimensions\": {\n\t\t\"width\": 1600,\n\t\t\"height\": 900\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./game-skribble/config.json\n// module id = 4\n// module chunks = 0","class Loader extends skoash.Component {\n    render() {\n        return (\n            <div id=\"loader\" className=\"center\">\n                <div className=\"group\">\n                    <h2>Loading!</h2>\n                    <div className=\"spinner animated\">\n                        <div className=\"spinner animated\">\n                            <div className=\"spinner animated\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Loader;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/loader/0.1.js","export default function (props, ref, key) {\n    return (\n        <skoash.Screen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"ios-splash\"\n            checkComplete={false}\n            completeDelay={6000}\n            nextDelay={3000}\n            completeOnStart\n            hidePrev\n        >\n            <skoash.Image className=\"hidden\" src={`${CMWN.MEDIA.SHARED}ios-start-ball.png`} />\n            <skoash.Image className=\"hidden\" src={`${CMWN.MEDIA.SHARED}ios-start-ball-anim.gif`} />\n        </skoash.Screen>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/ios_splash_screen/0.1.js","export default function (props, ref, key) {\n    return (\n        <skoash.Screen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"title\"\n            hidePrev\n            nextDelay={1000}\n            nextIndex=\"menu\"\n            backgroundAudio=\"bkg2\"\n        >\n            <skoash.Image\n                ref=\"title\"\n                className=\"title animated\"\n                src={`${CMWN.MEDIA.IMAGE}skribble-title.png`}\n            />\n            <skoash.Image\n                ref=\"play\"\n                className=\"hidden\"\n                src={`${CMWN.MEDIA.IMAGE}skribble-play-01.png`}\n            />\n            <skoash.Image\n                ref=\"play-hover\"\n                className=\"hidden\"\n                src={`${CMWN.MEDIA.IMAGE}skribble-hover.png`}\n            />\n        </skoash.Screen>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/title_screen.js","class MenuScreen extends skoash.Screen {\n    renderContent() {\n        return (\n            <div>\n                <skoash.Audio ref=\"vo\" type=\"voiceOver\" src={`${CMWN.MEDIA.VO}HiThere.mp3`} />\n                <skoash.Image className=\"hidden\" src={`${CMWN.MEDIA.IMAGE}sk-bkg-1.png`} />\n                <skoash.Image className=\"otter\" src={`${CMWN.MEDIA.SPRITE}waving-otter-2.gif`} />\n                <div className=\"bubble\">\n                    Hi there!<br/>\n                    What would you<br/>\n                    like to do today?\n                </div>\n                <div className=\"buttons\">\n                    <button className=\"make\" onClick={this.goto.bind(this, {\n                        index: 'friend',\n                        goto: 'canvas',\n                    }, undefined)} />\n                    <button className=\"read\" onClick={this.goto.bind(this, 'inbox', undefined)} />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <MenuScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"menu\"\n            hidePrev\n            hideNext\n            load\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/menu_screen.js","import ItemDrawer from 'shared/components/item_drawer/0.1.js';\n\nconst DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\nclass FriendScreen extends skoash.Screen {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            load: true,\n            complete: true,\n            recipient: {},\n            opts: {},\n        };\n    }\n\n    selectRespond(message) {\n        skoash.trigger('passData', {\n            name: 'add-recipient',\n            goto: this.state.opts.goto,\n            message\n        });\n    }\n\n    updateData(d) {\n        var data = d && d.user ? d.user : this.props.gameState.data.user || [];\n\n        data = data.map(friend => {\n            var src = friend._embedded.image && friend._embedded.image.url ?\n                friend._embedded.image.url :\n                DEFAULT_PROFILE_IMAGE;\n            return {\n                'user_id': friend.friend_id,\n                name: friend.username,\n                src,\n                // I need to get the flips earned back from the backend to do this.\n                description: '',\n                // description: friend.flips_earned + ' Flips Earned',\n                'asset_type': 'friend',\n            };\n        });\n\n        this.setState({\n            data,\n        });\n    }\n\n    open(opts) {\n        var recipient;\n        var self = this;\n\n        self.updateData();\n\n        skoash.trigger('getData', {\n            name: 'getFriends'\n        }).then(data => {\n            self.updateData.call(self, data);\n        });\n\n        recipient = self.props.gameState.recipient;\n\n        self.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n            recipient,\n            opts,\n        }, () => {\n            self.refs.drawer && self.refs.drawer.start();\n        });\n\n        if (!self.state.started) {\n            self.start();\n        }\n    }\n\n    suggestFriends() {\n        window.open(\n            window.location.origin\n            .replace('games-', '')\n            .replace('games.', '') +\n            '/friends/suggested'\n        );\n    }\n\n    save() {\n        skoash.trigger('goto', {\n            index: 'canvas',\n        });\n        skoash.trigger('openMenu', {id: 'save'});\n    }\n\n    renderOtter() {\n        var copy;\n        var src;\n        var imageSrc;\n\n        src = 'One';\n        imageSrc = `${CMWN.MEDIA.IMAGE}otter-static-greeting-one.png`;\n        copy = (\n            <span>\n                Don't have<br/>\n                friends yet?<br/><br/>\n                Let me suggest<br/>\n                some for you.\n            </span>\n        );\n\n        if (this.state.data && this.state.data.length) {\n            src = 'Two';\n            imageSrc = `${CMWN.MEDIA.SPRITE}open-wide-otter-2.gif`;\n            copy = (\n                <span>\n                    Let me find a friend<br/>\n                    to send your message to.\n                </span>\n            );\n        }\n\n        return (\n            <div className={'otter-container ' + src}>\n                <skoash.Image className=\"otter\" src={imageSrc} />\n                <div className=\"bubble\">\n                    {copy}\n                </div>\n            </div>\n        );\n    }\n\n    renderFriends() {\n        if (this.state.data && this.state.data.length) {\n            return (\n                <ItemDrawer\n                    ref=\"drawer\"\n                    scrollbarImg={`${CMWN.MEDIA.IMAGE}sk-btn-slider.png`}\n                    selectRespond={this.selectRespond.bind(this)}\n                    cancelRespond={this.back}\n                    categories={this.state.opts.categories}\n                    data={this.state.data}\n                    selectedItem={this.state.recipient}\n                    buttons={this.buttons}\n                    completeOnStart={true}\n                    checkComplete={false}\n                    className={'goto-' + this.state.opts.goto}\n                />\n            );\n        }\n\n        return (\n            <div className={'goto-' + this.state.opts.goto}>\n                <skoash.Audio ref=\"vo\" type=\"voiceOver\" src={`${CMWN.MEDIA.VO}FindFriendSend.mp3`} />\n                <div className=\"item-drawer-container\">\n                    <div className=\"suggest-friends-buttons\">\n                        <button className=\"continue\" onClick={this.selectRespond.bind(this, {})} />\n                        <button className=\"suggest\" onClick={this.suggestFriends} />\n                        <button className=\"save-to-drafts\" onClick={this.save} />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <div className=\"header\" />\n                {this.renderOtter()}\n                {this.renderFriends()}\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <FriendScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"friends\"\n            completeOnStart\n            checkComplete={false}\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/friend_screen.js","import shortid from 'shortid';\nimport classNames from 'classnames';\n\nimport Selectable from 'shared/components/selectable/0.1';\nimport ScrollArea from 'shared/components/scroll_area/0.1';\n\nclass ItemDrawer extends Selectable {\n    start() {\n        var items;\n        var selectedItem;\n        var selectClass;\n        var selectFunction;\n        var classes = {};\n        var self = this;\n\n        selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n        selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\n        items = self.props.data || [];\n\n        if (self.state.category && items[self.state.category]) {\n            items = items[self.state.category].items;\n        }\n\n        selectedItem = JSON.stringify(self.props.selectedItem);\n\n        _.each(items, (item, key) => {\n            if (self.props.selectedItem && JSON.stringify(item) === selectedItem) {\n                classes[key] = selectClass;\n            }\n        });\n\n        if (this.props.selectOnStart) {\n            classes[this.props.selectOnStart] = selectClass;\n        }\n\n        this.setState({\n            started: true,\n            classes,\n            selectClass,\n            selectFunction,\n            categoryName: '',\n            category: '',\n        });\n\n        _.each(self.refs, ref => {\n            if (typeof ref.start === 'function') ref.start();\n        });\n    }\n\n    selectHelper(e) {\n        var li;\n        var message;\n        var key;\n        var type;\n        var categoryName;\n        var classes = [];\n\n        li = e.target.closest('LI');\n        if (!li) return;\n\n        key = li.getAttribute('data-ref');\n        if (!this.refs[key]) return;\n\n        type = this.refs[key].props.item.asset_type;\n        if (!type) return;\n\n        if (type === 'folder') {\n            categoryName = this.refs[key].props.item.name;\n            this.setState({\n                category: key,\n                categoryName\n            });\n        } else {\n            message = this.refs[key].props.item;\n            classes[key] = this.props.selectClass;\n\n            this.setState({\n                message,\n                classes,\n            });\n        }\n    }\n\n    selectButton() {\n        if (typeof this.props.selectRespond === 'function' && this.state.message) {\n            this.props.selectRespond(this.state.message);\n        }\n    }\n\n    continueButton() {\n        if (typeof this.props.selectRespond === 'function') {\n            this.props.selectRespond({});\n        }\n    }\n\n    cancelButton() {\n        if (typeof this.props.cancelRespond === 'function') {\n            this.props.cancelRespond.call(this);\n        }\n    }\n\n    getCategory() {\n        if (this.state.categoryName || this.props.categoryName) {\n            return this.state.categoryName || this.props.categoryName;\n        }\n\n        if (this.props.categories && this.props.categories.length) {\n            return this.props.categories[this.props.categories.length - 1];\n        }\n        return '';\n    }\n\n    getClassNames() {\n        return classNames({\n            'ANSWERED': _.values(this.state.classes).indexOf(this.state.selectClass) !== -1\n        }, this.props.className, 'item-drawer-component');\n    }\n\n    getULClass() {\n        return classNames('item-drawer', {\n            COMPLETE: this.state.complete,\n        }, this.props.categories ? this.props.categories.join(' ') : '');\n    }\n\n    getClass(key, item) {\n        return classNames(this.state.classes[key] || '', {\n            white: item && item.name && item.name.toLowerCase()[item.name.length - 1] === 'w',\n        });\n    }\n\n    renderButtons() {\n        return (\n      <div className=\"buttons\">\n        <button className=\"select\" onClick={this.selectButton.bind(this)} />\n        <button className=\"continue\" onClick={this.continueButton.bind(this)} />\n        <button className=\"cancel\" onClick={this.cancelButton.bind(this)} />\n      </div>\n    );\n    }\n\n    renderItemContent(item) {\n        var content = [];\n        var thumb;\n        var src;\n\n        if (item.src || item.thumb) {\n            src = item.thumb || item.src;\n        } else if (item.items) {\n            if (!_.isArray(item.items)) {\n                item.items = _.values(item.items);\n            }\n\n            thumb = _.find(item.items, subitem => subitem.name === '_thumb');\n\n            if (thumb) src = thumb.thumb || thumb.src;\n\n            if (!src && item.items[0]) src = item.items[0].thumb || item.items[0].src;\n        }\n\n        if (src) {\n            content.push(<skoash.Image src={src} key={0} />);\n        }\n\n        if (item.name && (item.asset_type === 'folder' || item.asset_type === 'friend')) {\n            content.push(<span className=\"name\" key={1}>{item.name}</span>);\n        }\n\n        if (item.description) {\n            content.push(<span className=\"description\" key={2}>{item.description}</span>);\n        }\n\n        return content;\n    }\n\n    renderList() {\n        var items;\n        var self = this;\n\n        if (!this.props.data) return;\n\n        items = this.props.data;\n\n        if (this.state.category && items[this.state.category]) {\n            items = items[this.state.category].items;\n        }\n\n        if (!_.isArray(items)) {\n            items = _.values(items);\n        }\n\n        return items.sort((a, b) => {\n            var aVal = !_.isNaN(window.parseInt(a.order)) ? window.parseInt(a.order) : Infinity;\n            var bVal = !_.isNaN(window.parseInt(b.order)) ? window.parseInt(b.order) : Infinity;\n            if (aVal === bVal) {\n                if (a.name < b.name) return -1;\n                if (a.name > b.name) return 1;\n                return 0;\n            }\n            if (aVal < bVal) return -1;\n            return 1;\n        }).filter(item =>\n      item.name !== '_thumb'\n    ).map((item, key) =>\n      <skoash.ListItem\n        className={this.getClass(key, item)}\n        ref={key}\n        data-ref={key}\n        item={item}\n        key={shortid.generate()}\n      >\n        {self.renderItemContent(item)}\n      </skoash.ListItem>\n    );\n    }\n\n    render() {\n        return (\n            <div className={this.getClassNames()}>\n                <div className=\"item-drawer-container\">\n                    <h2>{this.getCategory()}</h2>\n                    <ScrollArea ref=\"scroll-area\" img={this.props.scrollbarImg}>\n                        <ul\n                            ref=\"list\"\n                            className={this.getULClass()}\n                            onClick={this.state.selectFunction.bind(this)}\n                        >\n                            {this.renderList()}\n                        </ul>\n                    </ScrollArea>\n                </div>\n                {this.renderButtons()}\n            </div>\n        );\n    }\n}\n\nItemDrawer.defaultProps = _.defaults({\n    scrollbarImg: '',\n    shouldComponentUpdate: function (nextProps, nextState) {\n        var items;\n        var quickCheck;\n        var itemsChanged;\n\n        items = nextProps.data || [];\n        if (nextState.category && items[nextState.category]) {\n            items = items[nextState.category].items;\n        }\n\n        quickCheck = _.reduce(items, (a, i) => a + i.name, '');\n\n        itemsChanged = this.quickCheck !== quickCheck;\n        if (itemsChanged) this.quickCheck = quickCheck;\n\n        return itemsChanged || nextProps.categoryName !== this.props.categoryName ||\n            JSON.stringify(this.state.classes) !== JSON.stringify(nextState.classes);\n    },\n}, Selectable.defaultProps);\n\nexport default ItemDrawer;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/item_drawer/0.1.js","'use strict';\nmodule.exports = require('./lib/index');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/index.js\n// module id = 11\n// module chunks = 0","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar isValid = require('./is-valid');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/index.js\n// module id = 12\n// module chunks = 0","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/alphabet.js\n// module id = 13\n// module chunks = 0","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/random/random-from-seed.js\n// module id = 14\n// module chunks = 0","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/encode.js\n// module id = 15\n// module chunks = 0","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/random/random-byte-browser.js\n// module id = 16\n// module chunks = 0","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/decode.js\n// module id = 17\n// module chunks = 0","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/is-valid.js\n// module id = 18\n// module chunks = 0","'use strict';\n\nmodule.exports = 0;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/util/cluster-worker-id-browser.js\n// module id = 19\n// module chunks = 0","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/classnames/index.js\n// module id = 20\n// module chunks = 0","// As of skoash 1.1.0 this component can be found at skoash.Selectable\n/* eslint-disable no-console */\nconsole.warn('As of skoash 1.1.0 this component can be found at skoash.Selectable');\n/* eslint-enable no-console */\n\nimport classNames from 'classnames';\n\nclass Selectable extends skoash.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            classes: {},\n            selectFunction: this.select,\n        };\n    }\n\n    start() {\n        var selectClass;\n        var selectFunction;\n        var classes = this.state.classes;\n\n        super.start();\n\n        selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n        selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\n        if (this.props.selectOnStart) {\n            classes[this.props.selectOnStart] = selectClass;\n        }\n\n        this.setState({\n            started: true,\n            classes,\n            selectFunction,\n            selectClass,\n        });\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        if (this.refs.bin) {\n            this.setState({\n                list: this.refs.bin.getAll()\n            });\n        }\n    }\n\n    selectHelper(e, classes) {\n        var ref;\n        var dataRef;\n        var target;\n        var id;\n        var isCorrect;\n        var self = this;\n\n        if (typeof e === 'string') {\n            dataRef = e;\n        } else {\n            target = e.target.closest('LI');\n\n            if (!target) return;\n\n            dataRef = target.getAttribute('data-ref');\n        }\n\n        ref = self.refs[dataRef];\n\n        isCorrect = (ref && ref.props && ref.props.correct) ||\n            (!self.props.answers || !self.props.answers.length ||\n                self.props.answers.indexOf(dataRef) !== -1);\n\n        if (self.props.allowDeselect && classes[dataRef]) {\n            delete classes[dataRef];\n        } else if (isCorrect) {\n            classes[dataRef] = self.state.selectClass;\n        }\n\n        self.setState({\n            classes,\n        });\n\n        self.props.selectRespond.call(self, dataRef);\n        self.props.onSelect.call(self, dataRef);\n\n        if (self.props.chooseOne) self.complete();\n\n        if (self.props.dataTarget) {\n            self.updateGameState({\n                path: self.props.dataTarget,\n                data: {\n                    target: ref\n                }\n            });\n        }\n\n        if (self.props.completeListOnClick) {\n            _.each(self.refs, (r, k) => {\n                if (k === id) _.invoke(r, 'complete');\n            });\n        }\n\n        _.each(self.refs, (r, k) => {\n            if (k === dataRef) _.invoke(r, 'complete');\n        });\n    }\n\n    select(e) {\n        var classes = [];\n        this.selectHelper(e, classes);\n    }\n\n    highlight(e) {\n        var classes = this.state.classes;\n        this.selectHelper(e, classes);\n    }\n\n    getClass(key, li) {\n        return classNames(\n            li.props.className,\n            this.state.classes[key],\n            this.state.classes[li.props['data-ref']],\n            this.state.classes[li.props['data-key']]\n        );\n    }\n\n    getClassNames() {\n        return classNames('selectable', super.getClassNames());\n    }\n\n    componentWillReceiveProps(props) {\n        super.componentWillReceiveProps(props);\n\n        if (props.select && props.select !== this.props.select) {\n            this.state.selectFunction.call(this, props.select);\n        }\n    }\n\n    renderBin() {\n        if (!this.props.bin) return null;\n\n        return (\n            <this.props.bin.type\n                {...this.props.bin.props}\n                ref=\"bin\"\n            />\n        );\n    }\n\n    renderList() {\n        var list = this.props.list || this.state.list || [];\n        return _.map(list, (li, key) => {\n            var dataRef = li.props['data-ref'] || key;\n            var ref = li.ref || li.props.id || dataRef;\n            var message = li.props.message || '' + key;\n            return (\n                <li.type\n                    {...li.props}\n                    type=\"li\"\n                    className={this.getClass(key, li)}\n                    message={message}\n                    data-message={message}\n                    data-ref={dataRef}\n                    ref={ref}\n                    key={key}\n                />\n            );\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                {this.renderBin()}\n                <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n                    {this.renderList()}\n                </ul>\n            </div>\n        );\n    }\n}\n\nSelectable.defaultProps = _.defaults({\n    selectClass: 'SELECTED',\n    completeListOnClick: true,\n    selectRespond: _.noop,\n    onSelect: _.noop,\n}, skoash.Component.defaultProps);\n\nexport default Selectable;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/selectable/0.1.js","// As of skoash 1.1.0 this component can be found at skoash.ScrollArea\n/* eslint-disable no-console */\nconsole.warn('As of skoash 1.1.0 this component can be found at skoash.ScrollArea');\n/* eslint-enable no-console */\n\n\nimport classNames from 'classnames';\n\nconst IMAGE = 'image';\nconst AREA = 'area';\nconst CONTENT = 'content';\nconst SCROLLBAR = 'scrollbar';\nconst SCROLLER = 'scroller';\n\nclass ScrollArea extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = _.defaults({\n            startY: 0,\n            endY: 0,\n            zoom: 1,\n        }, this.state);\n\n        this.setZoom = this.setZoom.bind(this);\n\n        this.mouseDown = this.mouseDown.bind(this);\n        this.mouseUp = this.mouseUp.bind(this);\n\n        this.moveEvent = this.moveEvent.bind(this);\n\n        this.touchStart = this.touchStart.bind(this);\n        this.touchEnd = this.touchEnd.bind(this);\n    }\n\n    start() {\n        super.start(() => {\n            this[AREA].scrollTop = 0;\n            this.setState({\n                startY: 0,\n                endY: 0,\n            });\n        });\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        this.setZoom();\n        window.addEventListener('resize', this.setZoom);\n\n        this[AREA] = ReactDOM.findDOMNode(this.refs[AREA]);\n        this[CONTENT] = ReactDOM.findDOMNode(this.refs[CONTENT]);\n        this[SCROLLBAR] = ReactDOM.findDOMNode(this.refs[SCROLLBAR]);\n        this[SCROLLER] = ReactDOM.findDOMNode(this.refs[SCROLLER]);\n\n        this[AREA].scrollTop = 0;\n\n        this[AREA].addEventListener('scroll', e => {\n            var areaScrollTop;\n            var endY;\n\n            if (!e.target || this.dragging) return;\n\n            areaScrollTop = e.target.scrollTop;\n            endY = (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight) *\n                (areaScrollTop / (this[CONTENT].offsetHeight - this[AREA].offsetHeight));\n\n            this.setState({\n                startY: 0,\n                endY,\n            });\n        });\n\n        this[SCROLLER].addEventListener('mousedown', this.mouseDown);\n        this[SCROLLER].addEventListener('touchstart', this.touchStart);\n    }\n\n    setZoom() {\n        skoash.trigger('getState').then(state => {\n            this.setState({\n                zoom: state.scale,\n            });\n        });\n    }\n\n    mouseDown(e) {\n        this.startEvent(e, this.attachMouseEvents);\n    }\n\n    touchStart(e) {\n        this.startEvent(e, this.attachTouchEvents);\n    }\n\n    startEvent(e, cb) {\n        var startY;\n        var endY;\n\n        if (e.target !== this[SCROLLER]) return;\n\n        this.dragging = true;\n\n        e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\n        endY = this.getEndY(e);\n        startY = this.state.startY || endY;\n\n        this.setState({\n            startY,\n            endY,\n        });\n\n        if (typeof cb === 'function') cb.call(this);\n    }\n\n    getEndY(e) {\n        return Math.min(\n      Math.max(\n        e.pageY / this.state.zoom,\n        this.state.startY\n      ),\n      this.state.startY +\n      this[SCROLLBAR].getBoundingClientRect().height / this.state.zoom -\n      this.props.scrollbarHeight\n    );\n    }\n\n    attachMouseEvents() {\n        window.addEventListener('mousemove', this.moveEvent);\n        window.addEventListener('mouseup', this.mouseUp);\n    }\n\n    attachTouchEvents() {\n        window.addEventListener('touchmove', this.moveEvent);\n        window.addEventListener('touchend', this.touchEnd);\n    }\n\n    moveEvent(e) {\n        var endY;\n\n        e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\n        endY = this.getEndY(e);\n\n        this[AREA].scrollTop = (endY - this.state.startY) *\n      (this[CONTENT].offsetHeight - this[AREA].offsetHeight) /\n      (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight);\n\n        this.setState({\n            endY,\n        });\n    }\n\n    mouseUp() {\n        this.dragging = false;\n        this.detachMouseEvents();\n    }\n\n    touchEnd() {\n        this.dragging = false;\n        this.detachTouchEvents();\n    }\n\n    detachMouseEvents() {\n        window.removeEventListener('mousemove', this.moveEvent);\n        window.removeEventListener('mouseup', this.mouseUp);\n    }\n\n    detachTouchEvents() {\n        window.removeEventListener('touchmove', this.moveEvent);\n        window.removeEventListener('touchend', this.touchEnd);\n    }\n\n    getScrollerStyle() {\n        return {\n            backgroundImage: `url(${this.props.img})`,\n            top: this.state.endY - this.state.startY,\n        };\n    }\n\n    getClassNames() {\n        return classNames('scroll-area', super.getClassNames());\n    }\n\n    render() {\n        if (!this.props.shouldRender) return null;\n\n        return (\n            <this.props.type {...this.props} className={this.getClassNames()}>\n                <skoash.Image ref={IMAGE} className=\"hidden\" src={this.props.img} />\n                <div ref={AREA} className={AREA}>\n                    <div ref={CONTENT} className={CONTENT}>\n                        {this.renderContentList()}\n                    </div>\n                </div>\n                <div\n                    ref={SCROLLBAR}\n                    className={SCROLLBAR}\n                >\n                    <div\n                        ref={SCROLLER}\n                        className={SCROLLER}\n                        style={this.getScrollerStyle()}\n                    />\n                </div>\n            </this.props.type>\n        );\n    }\n}\n\nScrollArea.defaultProps = _.defaults({\n    img: '',\n    scrollbarHeight: 100,\n}, skoash.Component.defaultProps);\n\nexport default ScrollArea;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/scroll_area/0.1.js","import Canvas from 'shared/components/canvas/0.1';\nimport Menu from 'shared/components/menu/0.1';\nimport Selectable from 'shared/components/selectable/0.1';\n// import Reveal from 'shared/components/reveal/0.1';\n\nimport classNames from 'classnames';\n\nclass CanvasScreen extends skoash.Screen {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            load: true,\n            menu: {},\n            valid: true,\n        };\n\n        this.rightMenuList = [\n            <li className=\"preview\" onClick={this.preview.bind(this)}>\n                <span />\n            </li>,\n            <li className=\"send\" onClick={this.send.bind(this)}>\n                <span />\n            </li>\n        ];\n\n        this.setValid = this.setValid.bind(this);\n        this.closeReveal = this.closeReveal.bind(this);\n        this.setHasAssets = this.setHasAssets.bind(this);\n        this.onMouseOver = this.onMouseOver.bind(this);\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        this.menuDOM = ReactDOM.findDOMNode(this.refs.menu);\n    }\n\n    getData() {\n        return this.refs.canvas.getItems();\n    }\n\n    reset() {\n        this.refs.canvas.reset();\n        this.setState({\n            background: false,\n            hasAssets: false,\n        });\n    }\n\n    addItem(message) {\n        if (message) {\n            this.setState({\n                hasAssets: true,\n                background: this.state.background ||\n              message.asset_type === 'background',\n            });\n            this.refs.canvas.addItem(message, () => {\n                skoash.trigger('save');\n            });\n        }\n    }\n\n    addItems(message) {\n        var hasAssets;\n        var background;\n\n        hasAssets = true;\n        background = !!message.rules.background;\n\n        this.mapRulesStringToNumbers(message.rules);\n\n        this.refs.canvas.setItems(message.rules);\n\n        this.setState({\n            hasAssets,\n            background,\n        });\n\n        if (message.friend_to) {\n            skoash.trigger('passData', {\n                name: 'add-recipient',\n                message: message.friend_to\n            });\n        }\n    }\n\n    setMenu() {\n        var menu;\n        var state = this.props.gameState;\n\n        if (state && state.data && state.data.menu) {\n            menu = state.data.menu;\n            this.setState({\n                menu,\n            });\n        }\n    }\n\n    mapRulesStringToNumbers(rules) {\n        if (!rules) return;\n\n        if (_.isArray(rules.items)) {\n            rules.items.forEach(item => {\n                item.state.left = parseFloat(item.state.left);\n                item.state.rotation = parseFloat(item.state.rotation);\n                item.state.scale = parseFloat(item.state.scale);\n                item.state.top = parseFloat(item.state.top);\n            });\n        }\n\n        if (_.isArray(rules.messages)) {\n            rules.messages.forEach(message => {\n                message.state.left = parseFloat(message.state.left);\n                message.state.rotation = parseFloat(message.state.rotation);\n                message.state.scale = parseFloat(message.state.scale);\n                message.state.top = parseFloat(message.state.top);\n            });\n        }\n\n        return rules;\n    }\n\n    open(opts = {}) {\n        this.setMenu();\n\n        if (this.refs && this.refs.menu) {\n            this.refs.menu.deactivate();\n        }\n\n        if (!opts.draft) skoash.trigger('save');\n\n        super.open();\n    }\n\n    close() {\n        skoash.trigger('save');\n        super.close();\n    }\n\n    setValid(valid) {\n        this.setState({\n            valid\n        });\n    }\n\n    setHasAssets(hasAssets) {\n        this.setState({\n            hasAssets\n        });\n    }\n\n    send() {\n        if (!this.state.valid) return;\n        this.goto('send');\n    }\n\n    preview() {\n        if (!this.state.valid) return;\n        this.goto('preview');\n    }\n\n    closeReveal() {\n        if (this.refs && this.refs.reveal) {\n            this.refs.reveal.close();\n        }\n    }\n\n    onMouseOver(e) {\n        let li = e.target.closest('LI');\n        let ul = e.target.closest('UL');\n\n        if (ul === this.menuDOM) {\n            if (!_.includes(li.className, 'SELECTED')) this.playMedia('slide');\n        } else {\n            this.playMedia('highlight');\n        }\n    }\n\n    getContainerClasses() {\n        return classNames({\n            'canvas-container': true,\n            BACKGROUND: this.state.background,\n        });\n    }\n\n    getClassNames() {\n        return classNames({\n            'HAS-ASSETS': this.state.hasAssets,\n            'INVALID': !this.state.valid,\n        }, skoash.Screen.prototype.getClassNames.call(this));\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <skoash.Audio ref=\"slide\" type=\"sfx\" src={`${CMWN.MEDIA.EFFECT}MenuSlide.mp3`} />\n                <skoash.Audio ref=\"highlight\" type=\"sfx\" src={`${CMWN.MEDIA.EFFECT}Highlight.mp3`} />\n                <skoash.Image className=\"hidden\" src={`${CMWN.MEDIA.FRAME}sk-frames-canvas.png`} />\n                <skoash.Image className=\"hidden\" src={`${CMWN.MEDIA.SPRITE}sk-btn-friend.png`} />\n                <Menu\n                      ref={'menu'}\n                      items={this.state.menu.items}\n                      level={0}\n                      lastLevel={1}\n                      onStart={function () {\n                          this.setState({classes: {}});\n                      }}\n                      onMouseOver={this.onMouseOver}\n                />\n                <div className={this.getContainerClasses()}>\n                      <Canvas\n                            ref={'canvas'}\n                            setValid={this.setValid}\n                            setHasAssets={this.setHasAssets}\n                            itemMinDim={150}\n                      />\n                </div>\n                <Selectable className=\"menu right-menu\" list={this.rightMenuList} />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <CanvasScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"canvas\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/canvas_screen.js","import classNames from 'classnames';\n\nimport EditableAsset from '../editable_asset/0.1.js';\n\nclass Canvas extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            background: null,\n            items: [],\n            messages: [],\n            offsetX: 0,\n            offsetY: 0,\n            active: false,\n            valid: true,\n        };\n\n        this.deleteItem = this.deleteItem.bind(this);\n        this.checkItem = this.checkItem.bind(this);\n        this.deactivateItems = this.deactivateItems.bind(this);\n        this.relayerItems = this.relayerItems.bind(this);\n        this.setValid = this.setValid.bind(this);\n    }\n\n    start() {\n        var dom = ReactDOM.findDOMNode(this);\n\n        super.start();\n\n        this.setState({\n            width: dom.offsetWidth,\n            height: dom.offsetHeight,\n        });\n    }\n\n    getItems() {\n        var items;\n        var messages;\n        var self = this;\n\n        items = this.state.items.map((item, key) => {\n            var state;\n\n            if (!self.refs['item-' + key]) return item;\n\n            state = self.refs['item-' + key].state;\n\n            item.state = {\n                left: _.floor(state.left, 14),\n                top: _.floor(state.top, 14),\n                scale: _.floor(state.scale, 14),\n                rotation: _.floor(state.rotation, 14),\n                layer: state.layer,\n                valid: state.valid,\n                corners: state.corners,\n            };\n\n            item.check = state.check;\n            item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\n            return item;\n        });\n\n        messages = this.state.messages.map((item, key) => {\n            var state;\n\n            if (!self.refs['message-' + key]) return item;\n\n            state = self.refs['message-' + key].state;\n\n            item.state = {\n                left: _.floor(state.left, 14),\n                top: _.floor(state.top, 14),\n                scale: _.floor(state.scale, 14),\n                rotation: _.floor(state.rotation, 14),\n                layer: state.layer,\n                valid: state.valid,\n                corners: state.corners,\n            };\n\n            item.check = state.check;\n            item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\n            return item;\n        });\n\n        _.remove(items, n => {\n            return !n;\n        });\n\n        _.remove(messages, n => {\n            return !n;\n        });\n\n        return {\n            background: this.state.background,\n            items,\n            messages,\n        };\n    }\n\n    reset() {\n        this.setState({\n            background: null,\n            items: [],\n            messages: []\n        });\n    }\n\n    setItems(message) {\n        if (message) {\n            /*\n             *\n             * This makes sure the EditableAssets get cleared.\n             *\n             * This prevents the new assets from inheriting\n             * state from the old assets.\n             *\n             */\n            this.setState({\n                background: null,\n                items: [],\n                messages: [],\n            }, () => {\n                this.addItem(message.background);\n                message.items.forEach(asset => {\n                    this.addItem(asset);\n                });\n                message.messages.forEach(asset => {\n                    this.addItem(asset);\n                });\n            });\n        }\n    }\n\n    addItem(asset, cb) {\n        var items;\n        var messages;\n        var index;\n        var count;\n\n        if (!asset) return;\n\n        if (asset.asset_type === 'background') {\n            this.setState({\n                background: asset,\n            }, () => {\n                skoash.trigger('emit', {\n                    name: 'getMedia',\n                    'media_id': asset.media_id\n                }).then(d => {\n                    var background = this.state.background;\n                    background.check = d.check;\n                    background.mime_type = d.mime_type; // eslint-disable-line camelcase\n                    this.setState({\n                        background\n                    }, cb);\n                });\n            });\n        } else if (asset.asset_type === 'item') {\n            items = this.state.items;\n\n            count = _.reduce(items, (c, v) => {\n                if (asset.src === v.src) c++;\n                return c;\n            }, 1);\n\n            if (count > this.props.maxInstances) {\n                skoash.trigger('openMenu', {\n                    id: 'limitWarning'\n                });\n                return;\n            }\n\n            items.push(asset);\n            index = items.indexOf(asset);\n\n            this.setState({\n                items,\n            }, () => {\n                skoash.trigger('emit', {\n                    name: 'getMedia',\n                    'media_id': asset.media_id\n                }).then(d => {\n                    asset.check = d.check;\n                    asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n                    items[index] = asset;\n                    this.setState({\n                        items\n                    }, cb);\n                });\n            });\n        } else if (asset.asset_type === 'message') {\n            messages = this.state.messages;\n\n            count = _.reduce(items, (c, v) => {\n                if (asset.src === v.src) c++;\n                return c;\n            }, 1);\n\n            if (count > this.props.maxInstances) return;\n\n            messages.push(asset);\n            index = messages.indexOf(asset);\n\n            this.setState({\n                messages,\n            }, () => {\n                skoash.trigger('emit', {\n                    name: 'getMedia',\n                    'media_id': asset.media_id\n                }).then(d => {\n                    asset.check = d.check;\n                    asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n                    messages[index] = asset;\n                    this.setState({\n                        messages\n                    }, cb);\n                });\n            });\n        }\n    }\n\n    deleteItem(key, type) {\n        var items;\n\n        items = this.state[type + 's'];\n        delete items[key];\n\n        this.setState({\n            [type + 's']: items,\n        });\n    }\n\n    deactivateItems(exclude, type) {\n        if (typeof exclude === 'object' && exclude.target) {\n            if (exclude.target.tagName !== 'LI') return;\n            this.setState({\n                active: false,\n            });\n            if (!this.state.valid) {\n                skoash.trigger('passData', {\n                    name: 'showCollisionWarning'\n                });\n            }\n        }\n\n        if (typeof exclude === 'number') {\n            this.setState({\n                active: true,\n            });\n        }\n\n        this.state.items.map((item, key) => {\n            if ((key !== exclude || type !== 'item') && this.refs['item-' + key]) {\n                this.refs['item-' + key].deactivate();\n            }\n        });\n\n        this.state.messages.map((item, key) => {\n            if ((key !== exclude || type !== 'message') && this.refs['message-' + key]) {\n                this.refs['message-' + key].deactivate();\n            }\n        });\n    }\n\n    relayerItems(type) {\n        var layers = [];\n\n        this.state[type + 's'].map((item, key) => {\n            var layer;\n\n            layer = this.refs[type + '-' + key].state.layer;\n\n            if (layers.indexOf(layer) === -1) {\n                layers.push(layer);\n            }\n        });\n\n        layers.sort((a, b) => {\n            return a < b;\n        });\n\n        this.state[type + 's'].map((item, key) => {\n            var oldLayer;\n            var newLayer;\n\n            oldLayer = this.refs[type + '-' + key].state.layer;\n            newLayer = (type === 'message') ? 10000 : 1000;\n            newLayer = newLayer - layers.indexOf(oldLayer);\n\n            this.refs[type + '-' + key].relayer(newLayer);\n        });\n    }\n\n    checkItem(key, type) {\n        var self = this;\n\n        return (\n            !self.refs[type + '-' + key].state.corners.length ||\n            (\n                self.isInBounds(key, type) && (\n                    self.refs[type + '-' + key].state.can_overlap ||\n                    !self.state[type + 's'].some((item, index) =>\n                        key !== index &&\n                        !self.refs[type + '-' + index].state.can_overlap &&\n                        self.refs[type + '-' + index].state.corners.length &&\n                        skoash.util.doIntersect(\n                            self.refs[type + '-' + key].state.corners,\n                            self.refs[type + '-' + index].state.corners\n                        )\n                    )\n                )\n            )\n        );\n    }\n\n    isInBounds(key, type) {\n        return !this.state.width ||\n            !this.state.height ||\n            !(\n            // box to left\n            skoash.util.doIntersect(\n                this.refs[type + '-' + key].state.corners,\n                [\n                    {x: 0, y: -this.state.height},\n                    {x: 0, y: 2 * this.state.height},\n                    {x: -this.state.width, y: 2 * this.state.height},\n                    {x: -this.state.width, y: -this.state.height}\n                ]\n            ) ||\n            // box above\n            skoash.util.doIntersect(\n                this.refs[type + '-' + key].state.corners,\n                [\n                    {x: -this.state.width, y: 0},\n                    {x: 2 * this.state.width, y: 0},\n                    {x: 2 * this.state.width, y: -this.state.height},\n                    {x: this.state.width, y: -this.state.height}\n                ]\n            ) ||\n            // box to right\n            skoash.util.doIntersect(\n                this.refs[type + '-' + key].state.corners,\n                [\n                    {x: this.state.width, y: -this.state.height},\n                    {x: this.state.width, y: 2 * this.state.height},\n                    {x: 2 * this.state.width, y: 2 * this.state.height},\n                    {x: 2 * this.state.width, y: -this.state.height}\n                ]\n            ) ||\n            // box below\n            skoash.util.doIntersect(\n                this.refs[type + '-' + key].state.corners,\n                [\n                    {x: -this.state.width, y: this.state.height},\n                    {x: 2 * this.state.width, y: this.state.height},\n                    {x: 2 * this.state.width, y: 2 * this.state.height},\n                    {x: -this.state.width, y: 2 * this.state.height}\n                ]\n            )\n        );\n    }\n\n    setValid(valid) {\n        this.setState({\n            valid\n        });\n\n        this.props.setValid.call(this, valid);\n    }\n\n    getStyle() {\n        if (!this.state.background) return;\n\n        return {\n            backgroundImage: `url(${this.state.background.src})`,\n        };\n    }\n\n    renderItems() {\n        var self = this;\n\n        return this.state.items.map((item, key) => {\n            return (\n                <EditableAsset\n                    {...item}\n                    data-ref={key}\n                    minDim={this.props.itemMinDim}\n                    deleteItem={self.deleteItem}\n                    checkItem={self.checkItem}\n                    deactivateItems={self.deactivateItems}\n                    relayerItems={self.relayerItems}\n                    setValid={self.setValid}\n                    ref={'item-' + key}\n                    key={key}\n                />\n            );\n        });\n    }\n\n    renderMessages() {\n        var self = this;\n\n        return this.state.messages.map((item, key) => {\n            return (\n                <EditableAsset\n                    {...item}\n                    data-ref={key}\n                    minDim={this.props.messageMinDim}\n                    deleteItem={self.deleteItem}\n                    checkItem={self.checkItem}\n                    deactivateItems={self.deactivateItems}\n                    relayerItems={self.relayerItems}\n                    setValid={self.setValid}\n                    canvasWidth={this.state.width}\n                    canvasHeight={this.state.height}\n                    ref={'message-' + key}\n                    key={key}\n                />\n            );\n        });\n    }\n\n    getClassNames() {\n        return classNames({\n            canvas: true,\n            ACTIVE: !this.props.preview && this.state.active,\n        });\n    }\n\n    render() {\n        return (\n            <ul\n                className={this.getClassNames()}\n                style={this.getStyle()}\n                onClick={this.deactivateItems}\n            >\n                {this.renderItems()}\n                {this.renderMessages()}\n            </ul>\n        );\n    }\n}\n\nCanvas.defaultProps = _.defaults({\n    maxInstances: 5,\n    setValid: _.noop,\n}, skoash.Component.defaultProps);\n\nexport default Canvas;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/canvas/0.1.js","import classNames from 'classnames';\n\nimport Draggable from '../draggable/0.1.js';\n\nclass EditableAsset extends Draggable {\n    constructor() {\n        super();\n\n        this.state = {\n            width: 0,\n            height: 0,\n            left: 0,\n            top: 0,\n            scale: .5,\n            minScale: .1,\n            maxScale: 1,\n            rotation: 0,\n            layer: 1000,\n            zoom: 1,\n            active: false,\n            valid: true,\n            corners: [],\n            lastValid: {},\n        };\n\n        this.scale = this.scale.bind(this);\n        this.adjustScale = this.adjustScale.bind(this);\n        this.offScale = this.offScale.bind(this);\n\n        this.rotate = this.rotate.bind(this);\n        this.adjustRotation = this.adjustRotation.bind(this);\n        this.offRotate = this.offRotate.bind(this);\n    }\n\n    shouldDrag() {\n        return this.state.active;\n    }\n\n    activate() {\n        this.setState({\n            active: true,\n        });\n\n        if (typeof this.props.deactivateItems === 'function') {\n            this.props.deactivateItems(this.props['data-ref'], this.props.asset_type);\n        }\n    }\n\n    deactivate() {\n        if (!this.state.valid) {\n            this.setState({\n                left: this.state.lastValid.left || this.state.left,\n                top: this.state.lastValid.top || this.state.top,\n                scale: this.state.lastValid.scale || this.state.scale,\n                rotation: this.state.lastValid.rotation || this.state.rotation,\n                active: false,\n            }, () => {\n                setTimeout(() => {\n                    this.checkItem();\n                }, 0);\n            });\n        } else {\n            this.setState({\n                active: false,\n            });\n        }\n    }\n\n    moveEvent(e) {\n        if (e.targetTouches && e.targetTouches[0]) {\n            e.pageX = e.targetTouches[0].pageX;\n            e.pageY = e.targetTouches[0].pageY;\n        }\n\n        this.setState({\n            endX: e.pageX - this.state.grabX,\n            endY: e.pageY - this.state.grabY,\n            left: ((e.pageX - this.state.grabX - this.state.startX) / this.state.zoom),\n            top: ((e.pageY - this.state.grabY - this.state.startY) / this.state.zoom),\n        });\n        this.checkItem();\n    }\n\n    delete() {\n        if (typeof this.props.deleteItem === 'function') {\n            this.props.deleteItem(this.props['data-ref'], this.props.asset_type);\n        }\n    }\n\n    rotate() {\n        this.refs.el.parentNode.addEventListener('mousemove', this.adjustRotation);\n        this.refs.el.parentNode.addEventListener('mouseup', this.offRotate);\n\n        this.refs.el.parentNode.addEventListener('touchmove', this.adjustRotation);\n        this.refs.el.parentNode.addEventListener('touchend', this.offRotate);\n    }\n\n    offRotate() {\n        this.refs.el.parentNode.removeEventListener('mousemove', this.adjustRotation);\n        this.refs.el.parentNode.removeEventListener('mouseup', this.offRotate);\n\n        this.refs.el.parentNode.removeEventListener('touchmove', this.adjustRotation);\n        this.refs.el.parentNode.removeEventListener('touchend', this.offRotate);\n    }\n\n    adjustRotation(e) {\n        var rotation;\n        var deltaX;\n        var deltaY;\n\n        if (e.targetTouches && e.targetTouches[0]) {\n            e.pageX = e.targetTouches[0].pageX;\n            e.pageY = e.targetTouches[0].pageY;\n        }\n\n        deltaX = (e.pageX / this.state.zoom) - (this.refs.li.offsetParent.offsetLeft) -\n            (this.state.left + this.state.width / 2);\n        deltaY = (e.pageY / this.state.zoom) - (this.refs.li.offsetParent.offsetTop) -\n            (this.state.top + this.state.height / 2);\n\n        rotation = Math.atan2(deltaY, deltaX) + (Math.PI / 4) % (2 * Math.PI);\n\n        this.setState({\n            rotation,\n        });\n\n        this.checkItem();\n    }\n\n    layer() {\n        var layer;\n        var self = this;\n\n        layer = this.state.layer - 1;\n\n        this.setState({\n            layer,\n        }, () => {\n            if (typeof self.props.relayerItems === 'function') {\n                self.props.relayerItems(self.props.asset_type);\n            }\n        });\n    }\n\n    relayer(layer) {\n        this.setState({\n            layer,\n        });\n    }\n\n    scale() {\n        this.refs.el.parentNode.addEventListener('mousemove', this.adjustScale);\n        this.refs.el.parentNode.addEventListener('mouseup', this.offScale);\n\n        this.refs.el.parentNode.addEventListener('touchmove', this.adjustScale);\n        this.refs.el.parentNode.addEventListener('touchend', this.offScale);\n    }\n\n    offScale() {\n        this.refs.el.parentNode.removeEventListener('mousemove', this.adjustScale);\n        this.refs.el.parentNode.removeEventListener('mouseup', this.offScale);\n\n        this.refs.el.parentNode.removeEventListener('touchmove', this.adjustScale);\n        this.refs.el.parentNode.removeEventListener('touchend', this.offScale);\n    }\n\n    adjustScale(e) {\n        var scale;\n        var deltaX;\n        var deltaY;\n        var delta;\n        var base;\n\n        if (e.targetTouches && e.targetTouches[0]) {\n            e.pageX = e.targetTouches[0].pageX;\n            e.pageY = e.targetTouches[0].pageY;\n        }\n\n        deltaX = (e.pageX / this.state.zoom) - (this.refs.li.offsetParent.offsetLeft / this.state.zoom) -\n            (this.state.left + this.state.width / 2);\n        deltaY = (e.pageY / this.state.zoom) - (this.refs.li.offsetParent.offsetTop / this.state.zoom) -\n            (this.state.top + this.state.height / 2);\n\n        delta = Math.pow(Math.pow(deltaX, 2) + Math.pow(deltaY, 2), .5);\n        base = Math.pow(Math.pow(this.state.width / 2, 2) + Math.pow(this.state.height / 2, 2), .5);\n\n        scale = Math.max(Math.min(delta / base, 1), this.state.minScale);\n\n        this.setState({\n            scale,\n        });\n\n        this.checkItem();\n    }\n\n    checkItem() {\n        this.setCorners(() => {\n            var valid;\n\n            if (typeof this.props.checkItem === 'function') {\n                valid = this.props.checkItem(this.props['data-ref'], this.props.asset_type);\n\n                if (valid) {\n                    this.setState({\n                        valid,\n                        lastValid: new Object(this.state),\n                    });\n                } else {\n                    this.setState({\n                        valid,\n                    });\n                }\n\n                this.props.setValid.call(this, valid);\n            }\n        });\n    }\n\n    setCorners(cb) {\n        var center;\n        var distance;\n        var angle;\n        var corners = [];\n\n        center = {\n            x: this.state.left + this.state.width / 2,\n            y: this.state.top + this.state.height / 2,\n        };\n\n        distance = Math.pow(Math.pow(this.state.width * this.state.scale / 2, 2) +\n            Math.pow(this.state.height * this.state.scale / 2, 2), .5);\n\n        for (let i = 0; i < 4; i++) {\n            angle = this.state.rotation;\n            angle += (i < 2 ? 0 : Math.PI);\n            angle += Math.pow(-1, i) * Math.atan2(this.state.height, this.state.width);\n\n            corners.push({\n                x: center.x + distance * Math.cos(angle),\n                y: center.y + distance * Math.sin(angle),\n            });\n        }\n\n        this.setState({\n            corners,\n        }, cb);\n    }\n\n    getSize() {\n        var image;\n        var self = this;\n\n        image = new Image();\n\n        image.onload = () => {\n            var offset;\n            var left;\n            var top;\n            var width;\n            var height;\n            var minDim;\n            var maxDim;\n            var minScale;\n            var maxScale;\n            var scale;\n\n            minDim = this.props.minDim || 40;\n            maxDim = this.props.maxDim || 400;\n            left = this.state.left;\n            top = this.state.top;\n            width = image.width;\n            height = image.height;\n\n            minScale = Math.max(minDim / width, minDim / height);\n            maxScale = Math.min(maxDim / width, maxDim / height, this.state.maxScale);\n            scale = self.props.state && self.props.state.scale ?\n                self.props.state.scale :\n                Math.max(Math.min(self.state.scale, maxScale), minScale);\n\n            if ((!this.state.height || !this.state.width) && (!this.state.left && !this.state.top)) {\n                left = (this.props.canvasWidth - width) / 2;\n                top = (this.props.canvasHeight - height) / 2;\n            }\n\n            offset = this.refs.el.getBoundingClientRect();\n\n            self.setState({\n                left,\n                top,\n                startX: left * scale - offset.left / this.state.zoom,\n                startY: top * scale - offset.top / this.state.zoom,\n                grabX: width / 2,\n                grabY: height / 2,\n                width,\n                height,\n                minScale,\n                scale,\n            }, () => {\n                self.activate();\n                self.checkItem();\n            });\n        };\n\n        image.src = this.props.src;\n    }\n\n    getLayer() {\n        var layer = 1000;\n\n        if (this.props.state && this.props.state.layer) {\n            layer = this.props.state.layer;\n        } else {\n            switch (this.props.asset_type) {\n                case 'background':\n                    layer = 1;\n                    break;\n                case 'message':\n                    layer = 10000;\n                    break;\n            }\n        }\n\n        this.setState({\n            layer,\n        });\n    }\n\n    attachEvents() {\n        this.refs.scale.addEventListener('mousedown', this.scale);\n        this.refs.rotate.addEventListener('mousedown', this.rotate);\n\n        this.refs.scale.addEventListener('touchstart', this.scale);\n        this.refs.rotate.addEventListener('touchstart', this.rotate);\n    }\n\n    componentDidMount() {\n        this.bootstrap();\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        if (this.props.state) {\n            this.setState(this.props.state);\n        }\n\n        this.getSize();\n        this.getLayer();\n\n        this.attachEvents();\n\n        skoash.trigger('emit', {\n            name: 'getMedia',\n            'media_id': this.props.media_id\n        }).then(d => {\n            this.setState(d, () => {\n                this.checkItem();\n            });\n        });\n    }\n\n    componentDidUpdate() {\n        this.attachEvents();\n    }\n\n    getButtonStyle(extraRotation = 0) {\n        var style;\n        var transform = '';\n\n        transform += `scale(${(1 / this.state.scale)}) `;\n        transform += `rotate(${(-this.state.rotation - extraRotation)}rad) `;\n\n        style = {\n            transform,\n        };\n\n        return style;\n    }\n\n    getAssetStyle() {\n        var style;\n        var transform = '';\n\n        transform += `scale(${this.state.scale}) `;\n        transform += `rotate(${this.state.rotation}rad) `;\n\n        style = {\n            backgroundImage: `url(\"${this.props.src}\")`,\n            width: this.state.width,\n            height: this.state.height,\n            left: this.state.left,\n            top: this.state.top,\n            transform,\n            zIndex: this.state.layer,\n        };\n\n        return style;\n    }\n\n    getButtonsStyle() {\n        var style;\n        var transform = '';\n\n        transform += `scale(${this.state.scale}) `;\n        transform += `rotate(${this.state.rotation}rad) `;\n\n        style = {\n            width: this.state.width,\n            height: this.state.height,\n            left: this.state.left,\n            top: this.state.top,\n            transform,\n        };\n\n        return style;\n    }\n\n    getClasses() {\n        return classNames({\n            DRAGGING: this.state.dragging,\n            RETURN: this.state.return,\n            ACTIVE: this.state.active,\n            INVALID: !this.state.valid,\n        }, 'editable-asset', this.props.asset_type);\n    }\n\n    renderAsset() {\n        return (\n            <div\n                ref=\"el\"\n                className=\"asset\"\n                style={this.getAssetStyle()}\n            />\n        );\n    }\n\n    renderButtons() {\n        return (\n            <div\n                className=\"buttons\"\n                style={this.getButtonsStyle()}\n            >\n                <button\n                    className=\"delete\"\n                    style={this.getButtonStyle()}\n                    onClick={this.delete.bind(this)}\n                />\n                <button\n                    ref=\"rotate\"\n                    className=\"rotate\"\n                    style={this.getButtonStyle()}\n                />\n                <button\n                    className=\"layer\"\n                    onClick={this.layer.bind(this)}\n                    style={this.getButtonStyle()}\n                />\n                <button\n                    ref=\"scale\"\n                    className=\"scale\"\n                    style={this.getButtonStyle(1.5708)}\n                />\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <li\n                ref=\"li\"\n                className={this.getClasses()}\n                onClick={this.activate.bind(this)}\n            >\n                {this.renderAsset()}\n                {this.renderButtons()}\n            </li>\n        );\n    }\n}\n\nEditableAsset.defaultProps = _.defaults({\n    canvasWidth: 1280,\n    canvasHeight: 720,\n    setValid: _.identity,\n}, Draggable.defaultProps);\n\nexport default EditableAsset;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/editable_asset/0.1.js","import classNames from 'classnames';\n\nclass Draggable extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            startX: 0,\n            startY: 0,\n            endX: 0,\n            endY: 0,\n            zoom: 1,\n        };\n\n        this.mouseDown = this.mouseDown.bind(this);\n        this.mouseUp = this.mouseUp.bind(this);\n\n        this.moveEvent = this.moveEvent.bind(this);\n\n        this.touchStart = this.touchStart.bind(this);\n        this.touchEnd = this.touchEnd.bind(this);\n    }\n\n    shouldDrag() {\n        return true;\n    }\n\n    incomplete() {\n        this.markIncorrect();\n        this.returnToStart();\n\n        super.incomplete();\n    }\n\n    markCorrect() {\n        this.setState({\n            correct: true,\n        });\n    }\n\n    markIncorrect() {\n        this.setState({\n            correct: false,\n        });\n    }\n\n    startEvent(e, cb) {\n        var pageX;\n        var pageY;\n        var rect;\n        var startX;\n        var startY;\n        var endX;\n        var endY;\n        var grabX;\n        var grabY;\n\n        if (e.target !== this.refs.el) return;\n        if (!this.shouldDrag()) return;\n\n        if (e.targetTouches && e.targetTouches[0]) {\n            pageX = e.targetTouches[0].pageX;\n            pageY = e.targetTouches[0].pageY;\n            rect = e.target.getBoundingClientRect();\n            e = e.targetTouches[0];\n            e.offsetX = pageX - rect.left;\n            e.offsetY = pageY - rect.top;\n        }\n\n        grabX = e.offsetX;\n        grabY = e.offsetY;\n\n        startX = endX = e.pageX - grabX;\n        startY = endY = e.pageY - grabY;\n\n        if (!this.state.firstX) {\n            this.setState({\n                firstX: startX,\n                firstY: startY,\n            });\n        }\n\n        if (!this.props.return) {\n            startX = _.isFinite(this.state.grabX) ?\n        this.state.startX + this.state.grabX - grabX :\n        startX;\n            startY = _.isFinite(this.state.grabY) ?\n        this.state.startY + this.state.grabY - grabY :\n        startY;\n        }\n\n        this.setState({\n            dragging: true,\n            return: false,\n            startX,\n            startY,\n            grabX,\n            grabY,\n            endX,\n            endY,\n        });\n\n        if (typeof this.props.dragRespond === 'function') {\n            this.props.dragRespond(this.props.message);\n        }\n\n        if (typeof cb === 'function') {\n            cb.call(this);\n        }\n    }\n\n    attachMouseEvents() {\n        window.addEventListener('mousemove', this.moveEvent);\n        window.addEventListener('mouseup', this.mouseUp);\n    }\n\n    attachTouchEvents() {\n        window.addEventListener('touchmove', this.moveEvent);\n        window.addEventListener('touchend', this.touchEnd);\n    }\n\n    mouseDown(e) {\n        this.startEvent(e, this.attachMouseEvents);\n    }\n\n    touchStart(e) {\n        this.startEvent(e, this.attachTouchEvents);\n    }\n\n    moveEvent(e) {\n        if (e.targetTouches && e.targetTouches[0]) {\n            e.pageX = e.targetTouches[0].pageX;\n            e.pageY = e.targetTouches[0].pageY;\n        }\n\n        this.setState({\n            endX: e.pageX - this.state.grabX,\n            endY: e.pageY - this.state.grabY,\n        });\n    }\n\n    returnToStart() {\n        if (this.state.firstX) {\n            this.setState({\n                dragging: false,\n                return: true,\n                endX: this.state.firstX,\n                endY: this.state.firstY,\n            });\n        }\n    }\n\n    endEvent(cb) {\n        this.dropRespond();\n\n        if (this.props.return) {\n            this.returnToStart();\n        } else {\n            this.setState({\n                dragging: false,\n                return: this.state.return,\n            });\n        }\n\n        if (typeof cb === 'function') {\n            cb.call(this);\n        }\n    }\n\n    detachMouseEvents() {\n        window.removeEventListener('mousemove', this.moveEvent);\n        window.removeEventListener('mouseup', this.mouseUp);\n    }\n\n    detachTouchEvents() {\n        window.removeEventListener('touchmove', this.moveEvent);\n        window.removeEventListener('touchend', this.touchEnd);\n    }\n\n    mouseUp() {\n        this.endEvent(this.detachMouseEvents);\n    }\n\n    touchEnd() {\n        this.endEvent(this.detachTouchEvents);\n    }\n\n    dropRespond() {\n        var corners;\n\n        corners = this.setCorners();\n\n        if (typeof this.props.dropRespond === 'function') {\n            this.props.dropRespond(this.props.message, corners);\n        }\n    }\n\n    setCorners() {\n        var top;\n        var left;\n        var width;\n        var height;\n        var el;\n        var corners = [];\n\n        left = 0;\n        top = 0;\n        el = this.refs.el;\n        width = el.offsetWidth;\n        height = el.offsetHeight;\n\n        while (el) {\n            if (el.className.indexOf('screen') !== -1) {\n                break;\n            }\n\n            left += el.offsetLeft || 0;\n            top += el.offsetTop || 0;\n            el = el.offsetParent;\n        }\n\n        left += ((this.state.endX - this.state.startX) / this.state.zoom);\n        top += ((this.state.endY - this.state.startY) / this.state.zoom);\n\n        for (let i = 0; i < 4; i++) {\n            corners.push({\n                x: left + width * (i === 1 || i === 2 ? 1 : 0),\n                y: top + height * (i > 1 ? 1 : 0),\n            });\n        }\n\n        this.setState({\n            corners,\n        });\n\n        return corners;\n    }\n\n    componentDidMount() {\n        this.bootstrap();\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        this.setZoom();\n\n        this.refs.el.addEventListener('mousedown', this.mouseDown);\n        this.refs.el.addEventListener('touchstart', this.touchStart);\n\n        window.addEventListener('resize', this.setZoom.bind(this));\n    }\n\n    setZoom() {\n        skoash.trigger('getState').then(state => {\n            this.setState({\n                zoom: state.scale,\n            });\n        });\n    }\n\n    getStyle() {\n        var x;\n        var y;\n\n        x = ((this.state.endX - this.state.startX) / this.state.zoom);\n        y = ((this.state.endY - this.state.startY) / this.state.zoom);\n\n        return {\n            transform: `translateX(${x}px) translateY(${y}px)`,\n            WebkitTransform: `translateX(${x}px) translateY(${y}px)`,\n        };\n    }\n\n    getClassNames() {\n        return classNames({\n            draggable: true,\n            [this.props.className]: this.props.className,\n            [this.props.message]: this.props.message,\n            DRAGGING: this.state.dragging,\n            RETURN: this.state.return,\n            CORRECT: this.state.correct,\n        }, super.getClassNames());\n    }\n\n    render() {\n        return (\n            <div\n                ref=\"el\"\n                className={this.getClassNames()}\n                style={this.getStyle()}\n            >\n                {this.renderContentList()}\n            </div>\n        );\n    }\n}\n\nexport default Draggable;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/draggable/0.1.js","import Selectable from '../selectable/0.1.js';\n\nimport classNames from 'classnames';\n\nclass Menu extends Selectable {\n    constructor() {\n        super();\n\n        this.state = {\n            active: false,\n            selectClass: 'SELECTED',\n            classes: {},\n        };\n    }\n\n    deactivate() {\n        this.setState({\n            active: false,\n        });\n\n        _.each(this.refs, ref => {\n            _.invoke(ref, 'deactivate');\n        });\n    }\n\n    onClick(e) {\n        var li;\n        var ul;\n        var dom;\n        var message;\n        var active = false;\n        var classes = [];\n\n        li = e.target.closest('LI');\n\n        if (!li) return;\n\n        ul = li.closest('UL');\n        dom = ReactDOM.findDOMNode(this); // eslint-disable-line no-undef\n\n        if (ul !== dom) return;\n\n        message = li.getAttribute('data-ref');\n\n        if (this.state.classes[message] !== this.state.selectClass) {\n            classes[message] = this.state.selectClass;\n            active = !this.props.inactive;\n        }\n\n        this.setState({\n            classes,\n            active,\n        });\n    }\n\n    renderItems() {\n        var self = this;\n\n        if (typeof this.props.items !== 'object') return;\n\n        return Object.keys(this.props.items).map((key) => {\n            var item;\n            var onClick;\n            var gotoObj;\n            var categories;\n            var isFinal;\n\n            categories = this.props.categories ? [].concat(this.props.categories) : [];\n            categories.push(key);\n\n            item = this.props.items[key];\n\n            isFinal = (\n          typeof item.items !== 'object' ||\n          (\n            Object.prototype.toString.call(item.items) === '[object Array]' &&\n            item.items[0] && !item.items[0].items\n          )\n        ) || (\n          typeof self.props.lastLevel === 'number' &&\n          self.props.lastLevel === self.props.level\n        );\n\n            if (isFinal) {\n                gotoObj = {\n                    index: 'item-drawer',\n                    categories,\n                    categoryName: item.name,\n                };\n                onClick = skoash.trigger.bind(null, 'goto', gotoObj);\n            }\n\n            return (\n        <skoash.ListItem\n          className={self.getClass(key)}\n          data-ref={key}\n          ref={key}\n          key={key}\n          onClick={onClick}\n        >\n          <span>{item.name || key}</span>\n          {(() => {\n              if (isFinal) return;\n              return (\n              <Menu\n                ref={'menu-' + key}\n                categories={categories}\n                items={item.items}\n                inactive={true}\n                level={(self.props.level || 0) + 1}\n                lastLevel={self.props.lastLevel}\n              />\n            );\n          })()}\n        </skoash.ListItem>\n      );\n        });\n    }\n\n    getClass(key) {\n        return classNames({\n            [key.replace(' ', '-')]: true,\n            [this.state.classes[key] || '']: true,\n        });\n    }\n\n    getClassNames() {\n        return classNames({\n            menu: true,\n            ACTIVE: this.state.active,\n        }, this.props.className);\n    }\n\n    render() {\n        return (\n            <ul\n                className={this.getClassNames()}\n                onClick={this.onClick.bind(this)}\n            >\n                {this.renderItems()}\n            </ul>\n        );\n    }\n}\n\nexport default Menu;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/menu/0.1.js","import ItemDrawer from '../../shared/components/item_drawer/0.1.js';\n\nclass ItemDrawerScreen extends skoash.Screen {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            load: true,\n            opts: {\n                categories: [],\n            },\n        };\n\n    }\n\n    selectRespond(message) {\n        skoash.trigger('passData', {\n            name: 'add-item',\n            message\n        });\n    }\n\n    updateData(d) {\n        var data = d ? d : this.props.gameState.data.menu.items;\n\n        this.state.opts.categories.forEach(key => {\n            if (data[key]) data = data[key];\n            if (data.items) data = data.items;\n        });\n\n        data = _.values(data);\n\n        this.setState({\n            data,\n        });\n    }\n\n    open(opts) {\n        this.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n            opts,\n            data: null\n        }, () => {\n            this.updateData();\n        });\n\n        setTimeout(() => {\n            if (!this.state.started) this.start();\n        }, 250);\n    }\n\n    cancelRespond() {\n        if (this.state.category) {\n            this.setState({\n                category: '',\n                categoryName: '',\n            });\n        } else {\n            skoash.trigger('goto', {index: 'canvas'});\n        }\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <ItemDrawer\n                    ref=\"drawer\"\n                    scrollbarImg={`${CMWN.MEDIA.IMAGE}sk-btn-slider.png`}\n                    selectRespond={this.selectRespond.bind(this)}\n                    cancelRespond={this.cancelRespond}\n                    categories={this.state.opts.categories}\n                    categoryName={this.state.opts.categoryName}\n                    data={this.state.data}\n                />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <ItemDrawerScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"item-drawer\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/item_drawer_screen.js","import SelectableReveal from '../../shared/components/selectable_reveal/0.1.js';\nimport Inbox from '../../shared/components/inbox/0.1.js';\nimport SavedMessages from '../../shared/components/saved_messages/0.1.js';\n\nconst inboxEmptyMessage = (\n    <span>\n        You haven't received any Skribbles!<br/>\n        Get started by sending some!\n    </span>\n);\nconst unreadEmptyMessage = (\n    <span>\n        You don't have any<br/>\n        unread Skribbles!\n    </span>\n);\nconst readEmptyMessage = (\n    <span>\n        You don't have any<br/>\n        read Skribbles!\n    </span>\n);\nconst sentEmptyMessage = (\n    <span>\n        You haven't sent any Skribbles.<br/>\n        Let's get started!\n    </span>\n);\nconst draftsEmptyMessage = (\n    <span>\n        You don't have any drafts.<br/>\n        Start Skribbling!\n    </span>\n);\n\n\nclass InboxScreen extends skoash.Screen {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            load: true,\n        };\n\n        this.selectableList = [\n            <li />,\n            <li />,\n            <li />,\n            <li />,\n            <li />,\n        ];\n\n        this.revealList = this.getRevealList();\n\n        this.readMessage = this.readMessage.bind(this);\n        this.editMessage = this.editMessage.bind(this);\n    }\n\n    getRevealList(inbox, outbox, saved) {\n        var read;\n        var unread;\n        var props = this.props || {};\n\n        inbox = inbox || this.state.inbox || [];\n\n        read = inbox.filter(item => {\n            return item.read;\n        });\n\n        unread = inbox.filter((item) => {\n            return !item.read;\n        });\n\n        outbox = outbox || this.state.outbox || [];\n        saved = saved || this.state.saved || [];\n\n        return [\n            <li>\n                <Inbox\n                    data-ref=\"inbox\"\n                    data={{\n                        items: inbox,\n                    }}\n                    emptyMessage={inboxEmptyMessage}\n                    selectRespond={this.readMessage}\n                    gameState={props.gameState}\n                />\n            </li>,\n            <li>\n                <Inbox\n                    data-ref=\"unread\"\n                    data={{\n                        items: unread,\n                    }}\n                    emptyMessage={unreadEmptyMessage}\n                    selectRespond={this.readMessage}\n                    gameState={props.gameState}\n                />\n            </li>,\n            <li>\n                <Inbox\n                    data-ref=\"read\"\n                    data={{\n                        items: read,\n                    }}\n                    emptyMessage={readEmptyMessage}\n                    selectRespond={this.readMessage}\n                    gameState={props.gameState}\n                />\n            </li>,\n            <li>\n                <Inbox\n                    data-ref=\"outbox\"\n                    data={{\n                        items: outbox,\n                    }}\n                    emptyMessage={sentEmptyMessage}\n                    friendKey=\"friend_to\"\n                    selectRespond={this.readMessage}\n                    gameState={props.gameState}\n                />\n            </li>,\n            <li>\n                <SavedMessages\n                    data-ref=\"saved\"\n                    data={{\n                        items: saved,\n                    }}\n                    emptyMessage={draftsEmptyMessage}\n                    selectRespond={this.editMessage}\n                />\n            </li>,\n        ];\n    }\n\n    editMessage(message) {\n        skoash.trigger('loadSkribble', {\n            message,\n        });\n    }\n\n    readMessage(message) {\n        skoash.trigger('goto', {\n            index: 'read',\n            message,\n        });\n    }\n\n    updateData() {\n        var skribbles;\n        var inbox;\n        var outbox;\n        var saved;\n\n        skribbles = this.props.gameState.data.skribbles;\n        inbox = skribbles.received;\n        outbox = skribbles.sent;\n        saved = skribbles.draft;\n\n        this.revealList = this.getRevealList(inbox, outbox, saved);\n\n        this.setState({\n            inbox,\n            outbox,\n            saved,\n        });\n    }\n\n    updateGameData(data, status) {\n        var opts = {\n            path: ['skribbles'],\n            data: {\n                [status]: data.skribble\n            },\n            callback: () => {\n                this.updateData();\n            }\n        };\n        this.updateGameState(opts);\n    }\n\n    open() {\n        var self = this;\n\n        skoash.trigger('getData', {\n            status: 'received',\n        }).then(data => {\n            self.updateGameData(data, 'received');\n        });\n\n        skoash.trigger('getData', {\n            status: 'sent',\n        }).then(data => {\n            self.updateGameData(data, 'sent');\n        });\n\n        skoash.trigger('getData', {\n            status: 'draft',\n        }).then(data => {\n            self.updateGameData(data, 'draft');\n        });\n\n        self.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n        });\n\n        setTimeout(() => {\n            if (!self.state.started) {\n                self.start();\n            }\n        }, 250);\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <div className=\"center\">\n                    <div className=\"frame\">\n                        <SelectableReveal\n                            ref={'selectableReveal'}\n                            selectableList={this.selectableList}\n                            revealList={this.revealList}\n                            selectOnStart={'0'}\n                            openOnStart={'0'}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <InboxScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"inbox\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/inbox_screen.js","import Selectable from 'shared/components/selectable/0.1.js';\nimport Reveal from 'shared/components/reveal/0.1.js';\n\nclass SelectableReveal extends skoash.Component {\n    constructor() {\n        super();\n    }\n\n    start() {\n        super.start();\n        this.setState({\n            canSelectOnStart: this.props.canSelectOnStart\n        });\n    }\n\n    open(message) {\n        this.refs.reveal.open(message);\n    }\n\n    selectRespond(message) {\n        if (this.props.answers.length) {\n            if (this.props.answers.indexOf(message) === -1) {\n                this.playMedia('incorrect');\n                if (this.props.revealAll) {\n                    if (typeof this.refs.reveal.open === 'function') {\n                        this.open(message);\n                    }\n                }\n            } else {\n                this.playMedia('correct');\n                if (typeof this.refs.reveal.open === 'function') {\n                    this.open(message);\n                }\n            }\n        } else {\n            if (this.props.allCorrect) this.playMedia('correct');\n            if (typeof this.refs.reveal.open === 'function') {\n                this.open(message);\n            }\n        }\n    }\n\n    closeRespond() {\n        if (typeof this.props.closeRespond === 'function') {\n            this.props.closeRespond();\n        }\n    }\n\n    renderAssets() {\n        if (this.props.assets) {\n            return this.props.assets.map((asset, key) => {\n                return (\n                    <skoash.Audio\n                        {...asset.props}\n                        ref={asset.ref || asset.props['data-ref'] || ('asset-' + key)}\n                        key={key}\n                        data-ref={key}\n                    />\n                );\n            });\n        }\n\n        return null;\n    }\n\n    renderSelectable() {\n        return (\n            <Selectable\n                ref=\"selectable\"\n                list={this.props.selectableList}\n                selectRespond={this.selectRespond.bind(this)}\n                selectClass={this.props.selectableSelectClass}\n                completeOnSelect={this.props.selectableCompleteOnSelect}\n                checkComplete={this.props.selectableCheckComplete}\n                randomizeList={this.props.randomizeSelectableList}\n                selectOnStart={this.props.selectOnStart}\n                chooseOne={this.props.chooseOne}\n                answers={this.props.answers}\n                allowDeselect={this.props.allowDeselect}\n            />\n        );\n    }\n\n    renderReveal() {\n        return (\n            <Reveal\n                ref=\"reveal\"\n                list={this.props.revealList}\n                assets={this.props.revealAssets}\n                closeRespond={this.closeRespond.bind(this)}\n                completeOnOpen={this.props.revealCompleteOnOpen}\n                checkComplete={this.props.revealCheckComplete}\n                openOnStart={this.props.openOnStart}\n                hide={this.props.hideReveal}\n                openReveal={this.props.openReveal}\n                onOpen={this.props.onOpen}\n                openMultiple={false}\n            />\n        );\n    }\n\n    getClasses() {\n        var classes = '';\n\n        if (this.state.complete) classes += ' COMPLETE';\n\n        return classes;\n    }\n\n    render() {\n        return (\n            <div className={'selectable-reveal' + this.getClasses()}>\n                {this.renderAssets()}\n                {this.renderSelectable()}\n                {this.renderReveal()}\n            </div>\n        );\n    }\n}\n\nSelectableReveal.defaultProps = _.defaults({\n    answers: [],\n    canSelectOnStart: true\n}, skoash.Component.defaultProps);\n\nexport default SelectableReveal;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/selectable_reveal/0.1.js","// As of skoash 1.1.0 this component can be found at skoash.Reveal\n/* eslint-disable no-console */\nconsole.warn('As of skoash 1.1.0 this component can be found at skoash.Reveal');\n/* eslint-enable no-console */\n\nimport classNames from 'classnames';\n\nclass Reveal extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            openReveal: '',\n            currentlyOpen: []\n        };\n\n        this.index = 0;\n    }\n\n    incomplete() {\n        this.setState({\n            openReveal: '',\n            currentlyOpen: []\n        });\n\n        super.incomplete();\n    }\n\n    open(message) {\n        var self = this;\n        var currentlyOpen = this.props.openMultiple ?\n            this.state.currentlyOpen.concat(message) : [message];\n\n        self.setState({\n            open: true,\n            openReveal: message,\n            currentlyOpen,\n        });\n\n        self.playAudio(message);\n\n        if (self.props.completeOnOpen) {\n            self.complete();\n        } else {\n            _.each(self.refs, (ref, key) => {\n                if (ref && key === message) ref.complete();\n            });\n        }\n\n        if (self.props.autoClose) {\n            setTimeout(function () {\n                self.close();\n            }, 2000);\n        }\n\n        if (self.props.openTarget) {\n            self.updateGameState({\n                path: self.props.openTarget,\n                data: {\n                    open: '' + message,\n                    close: false,\n                }\n            });\n        }\n\n        self.props.onOpen.call(self, message);\n    }\n\n    close(opts = {}) {\n        var prevMessage;\n        var currentlyOpen;\n        var openReveal;\n        var open;\n\n        prevMessage = this.state.openReveal;\n        currentlyOpen = this.state.currentlyOpen;\n        currentlyOpen.splice(currentlyOpen.indexOf(prevMessage), 1);\n        open = currentlyOpen.length > 0;\n        openReveal = open ? currentlyOpen[currentlyOpen.length - 1] : '';\n\n        this.setState({\n            open,\n            openReveal,\n            currentlyOpen,\n        });\n\n        if (!opts.silent) this.playMedia('close-sound');\n\n        this.props.onClose.call(this, prevMessage);\n\n        if (typeof this.props.closeRespond === 'function') {\n            this.props.closeRespond(prevMessage);\n        }\n    }\n\n    start() {\n        super.start();\n        if (this.props.openOnStart != null) {\n            this.open(this.props.openOnStart);\n        } else if (this.props.start && typeof this.props.start === 'function') {\n            this.props.start.call(this);\n        } else {\n            this.close({silent: true});\n        }\n    }\n\n    playAudio(message) {\n        var messages;\n\n        message += '';\n\n        this.playMedia('open-sound');\n\n        messages = message.split(' ');\n        messages.map(audio => {\n            this.playMedia(audio);\n            this.playMedia('asset-' + audio);\n        });\n    }\n\n    renderAssets() {\n        if (this.props.assets) {\n            return this.props.assets.map((asset, key) => {\n                var ref = asset.ref || asset.props['data-ref'] || 'asset-' + key;\n                return (\n                    <asset.type\n                        {...asset.props}\n                        data-ref={key}\n                        ref={ref}\n                        key={key}\n                    />\n                );\n            });\n        }\n\n        return null;\n    }\n\n    renderList() {\n        var list = this.props.list;\n\n        return list.map((li, key) => {\n            var ref = li.ref || li.props['data-ref'] || key;\n            return (\n                <li.type\n                    {...li.props}\n                    type=\"li\"\n                    className={this.getClass(li, key)}\n                    data-ref={ref}\n                    ref={ref}\n                    key={key}\n                />\n            );\n        });\n    }\n\n    componentWillReceiveProps(props) {\n        super.componentWillReceiveProps(props);\n\n        if (props.openReveal != null && props.openReveal !== this.props.openReveal) {\n            this.open(props.openReveal);\n        }\n\n        if (props.closeReveal !== this.props.closeReveal) {\n            if (props.closeReveal === true) {\n                this.close();\n            } else if (Number.isInteger(props.closeReveal)) {\n                for (let i = 0; i < props.closeReveal; i++) {\n                    this.close();\n                }\n            }\n        }\n    }\n\n    getClass(li, key) {\n        var classes = '';\n\n        if (li.props.className) classes = li.props.className;\n\n        if (this.state.currentlyOpen.indexOf(key) !== -1 ||\n            this.state.currentlyOpen.indexOf('' + key) !== -1 ||\n            this.state.currentlyOpen.indexOf(li.props['data-ref']) !== -1 ||\n            this.state.currentlyOpen.indexOf(li.ref) !== -1\n        ) {\n            classes = classNames(classes, 'OPEN');\n        }\n\n        return classes;\n    }\n\n    getClassNames() {\n        var classes;\n        var open = 'open-none';\n\n        if (this.state.open) {\n            open = '';\n            this.state.currentlyOpen.forEach(ref => {\n                open += 'open-' + ref;\n            });\n        }\n\n        classes = classNames(\n            'reveal',\n            open,\n            super.getClassNames()\n        );\n\n        return classes;\n    }\n\n    render() {\n        return (\n            <div className={this.getClassNames()}>\n                {this.renderAssets()}\n                <div>\n                    <ul>\n                        {this.renderList()}\n                    </ul>\n                    <button className=\"close-reveal\" onClick={this.close.bind(this)}></button>\n                </div>\n            </div>\n        );\n    }\n}\n\nReveal.defaultProps = _.defaults({\n    list: [\n        <li></li>,\n        <li></li>,\n        <li></li>,\n        <li></li>\n    ],\n    openMultiple: false,\n    onOpen: _.noop,\n    onClose: _.noop,\n}, skoash.Component.defaultProps);\n\nexport default Reveal;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/reveal/0.1.js","import classNames from 'classnames';\n\nimport Selectable from '../selectable/0.1';\n\nclass Inbox extends Selectable {\n    constructor() {\n        super();\n    }\n\n    selectHelper(e) {\n        var li;\n        var message;\n        var key;\n        var classes = [];\n\n        li = e.target.closest('LI');\n\n        if (!li) return;\n\n        key = li.getAttribute('data-ref');\n\n        if (!this.refs[key]) return;\n\n        message = this.refs[key].props.item;\n        classes[key] = this.props.selectClass;\n\n        this.setState({\n            message,\n            classes,\n        });\n\n        if (message.status !== 'COMPLETE') return;\n\n        if (typeof this.props.selectRespond === 'function' && message) {\n            this.props.selectRespond(message);\n        }\n    }\n\n    getClass(key, read) {\n        return classNames(\n      this.state.classes[key], {\n          UNREAD: this.props.friendKey === 'created_by' && !read,\n          SENT: this.props.friendKey !== 'created_by'\n      }\n    );\n    }\n\n    getClassNames() {\n        return classNames({\n            'item-drawer': true,\n            COMPLETE: this.state.complete,\n        }, this.props.className);\n    }\n\n    getStatusText(item) {\n        if (!item.status || item.status === 'COMPLETE') return '';\n        return item.status;\n    }\n\n    renderList() {\n        var items;\n        var friends;\n\n        if (!this.props.data || !this.props.data.items) return;\n\n        items = this.props.data.items;\n\n        if (!items.length) {\n            return (\n                <li className=\"empty\">\n                    {this.props.emptyMessage}\n                </li>\n            );\n        }\n\n        friends = _.get(this.props.gameState, 'data.user', []);\n\n        return _.map(items, (item, key) => {\n            var timestamp;\n            var image;\n            var name;\n            timestamp = moment.utc(item.updated).local();\n            key = 'message-' + key;\n\n            if (item[this.props.friendKey] == null) return null;\n\n            _.each(friends, friend => {\n                if (item[this.props.friendKey] === friend.friend_id) {\n                    image = friend._embedded.image ? friend._embedded.image.url : '';\n                    name = friend.username;\n                }\n            });\n\n            if (!name) {\n                skoash.trigger('getData', {\n                    name: 'getFriend',\n                    'friend_id': item[this.props.friendKey],\n                });\n                name = '';\n            }\n\n            if (this.props.friendKey === 'friend_to') {\n                item.sent = true;\n            }\n\n            return (\n                <skoash.ListItem\n                    className={this.getClass(key, item.read)}\n                    ref={key}\n                    data-ref={key}\n                    item={item}\n                    key={key}\n                >\n                    <skoash.Image src={image} />\n                    <span className={'username' + (name.length > 15 ? ' long' : '')}>\n                        {name}\n                    </span>\n                    <span className=\"timestamp\">\n                        <span className=\"date\">{timestamp.format('MM.DD.YY')}</span>\n                        <span className=\"time\">{timestamp.format('h:mm a')}</span>\n                    </span>\n                    <span className={'status ' + item.status}>\n                        {this.getStatusText(item)}\n                    </span>\n                </skoash.ListItem>\n            );\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n                    {this.renderList()}\n                </ul>\n            </div>\n        );\n    }\n}\n\nInbox.defaultProps = _.defaults({\n    friendKey: 'created_by',\n    gameState: {},\n}, Selectable.defaultProps);\n\nexport default Inbox;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/inbox/0.1.js","import Selectable from '../selectable/0.1';\n\nimport classNames from 'classnames';\n\nclass SavedMessages extends Selectable {\n    constructor() {\n        super();\n    }\n\n    selectHelper(e) {\n        var li;\n        var message;\n        var key;\n        var classes = [];\n\n        li = e.target.closest('LI');\n\n        if (!li) return;\n\n        key = li.getAttribute('data-ref');\n\n        message = this.refs[key].props.item;\n        classes[key] = this.state.selectClass;\n\n        this.setState({\n            message,\n            classes,\n        }, this.selectRespond.bind(this));\n    }\n\n    selectRespond() {\n        if (typeof this.props.selectRespond === 'function' && this.state.message) {\n            this.props.selectRespond(this.state.message);\n        }\n    }\n\n    getClass(key) {\n        return classNames({\n            [this.state.classes[key] || '']: true,\n            DRAFT: true,\n        });\n    }\n\n    getClassNames() {\n        return classNames({\n            'item-drawer': true,\n            SAVED: true,\n            COMPLETE: this.state.complete,\n        }, this.props.className);\n    }\n\n    renderThumb(item) {\n        var firstImg;\n        var background;\n\n        background = item && item.rules && item.rules.background &&\n      item.rules.background.src ? item.rules.background.src :\n      '';\n\n        firstImg = item && item.rules && item.rules.items &&\n      item.rules.items[0] && item.rules.items[0].src ?\n      item.rules.items[0].src : (\n        item && item.rules && item.rules.messages &&\n        item.rules.messages[0] && item.rules.messages[0].src ?\n        item.rules.messages[0].src : ''\n      );\n\n        return (\n            <div\n                className=\"thumbnail\"\n                style={{\n                    backgroundImage: `url(${background})`\n                }}\n            >\n                <skoash.Image src={firstImg} />\n            </div>\n        );\n    }\n\n    renderList() {\n        var items;\n        var self = this;\n\n        if (!self.props.data || !self.props.data.items) return;\n\n        items = self.props.data.items;\n\n        if (!items.length) {\n            return (\n                <li className=\"empty\">\n                    {this.props.emptyMessage}\n                </li>\n            );\n        }\n\n        return items.map((item, key) => {\n            var timestamp = moment.utc(item.updated).local();\n            return (\n                <skoash.ListItem\n                    className={self.getClass(key)}\n                    ref={key}\n                    data-ref={key}\n                    item={item}\n                    key={key}\n                >\n                    {self.renderThumb(item)}\n                    <span className=\"timestamp\">\n                        <span className=\"date\">{timestamp.format('MM.DD.YY')}</span>\n                        <span className=\"time\">{timestamp.format('h:mm a')}</span>\n                    </span>\n                </skoash.ListItem>\n            );\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n                    {this.renderList()}\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default SavedMessages;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/saved_messages/0.1.js","import Canvas from 'shared/components/canvas/0.1';\nimport Selectable from 'shared/components/selectable/0.1.js';\nimport Repeater from 'shared/components/repeater/0.1.js';\n\nconst classNameText = {\n    skribbleBox: 'skribble-box',\n    box: 'box',\n    leftMenu: 'menu left-menu',\n    rightMenu: 'menu right-menu',\n};\n\nconst refs = {\n    box: 'box',\n    canvas: 'canvas'\n};\n\nclass PreviewScreen extends skoash.Screen {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            load: true,\n            opts: {},\n        };\n\n        this.leftMenuList = [\n            <li className=\"edit\" onClick={this.goto.bind(this, 'canvas')}>\n                <span />\n            </li>,\n        ];\n\n        this.rightMenuList = [\n            <li className=\"send\" onClick={this.goto.bind(this, 'send')}>\n                <span />\n            </li>\n        ];\n    }\n\n    open(opts) {\n        skoash.trigger('getRules').then(rules => {\n            this.refs[refs.box].refs[refs.canvas].setItems(rules);\n            super.open(opts);\n        });\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <skoash.Audio ref=\"start\" type=\"sfx\" src={`${CMWN.MEDIA.EFFECT}PreviewOpen.mp3`} />\n                <skoash.Component ref={refs.box} className={classNameText.skribbleBox}>\n                    <Canvas ref={refs.canvas} preview />\n                    <Repeater\n                        className=\"sparkles\"\n                        amount={40}\n                    />\n                    <div className={classNameText.box} />\n                </skoash.Component>\n                <Selectable className={classNameText.leftMenu} list={this.leftMenuList} />\n                <Selectable className={classNameText.rightMenu} list={this.rightMenuList} />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <PreviewScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"preview\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/preview_screen.js","class Repeater extends skoash.Component {\n    renderContentList() {\n        var a = [];\n        for (let i = 0; i < this.props.amount; i++) {\n            a.push(<this.props.item key={i} {...this.props.props[i]} />);\n        }\n        return a;\n    }\n}\n\nRepeater.defaultProps = _.defaults({\n    amount: 1,\n    item: 'div',\n    props: [],\n}, skoash.Component.defaultProps);\n\nexport default Repeater;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/repeater/0.1.js","import Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n    yourMessageTo: 'your-message-to',\n    isReady: 'is-ready',\n    changeFriend: 'change-friend',\n    character: 'character',\n    gift: 'gift',\n    header: 'header',\n    username: 'username',\n};\n\nclass SendScreen extends skoash.Screen {\n    constructor(props) {\n        super(props);\n\n        this.state.load = true;\n        this.state.recipient = {};\n\n        this.rightMenuList = [\n            <li className=\"edit-right\" onClick={this.goto.bind(this, 'canvas')}>\n                <span />\n            </li>,\n            <li className=\"send\" onClick={this.send}>\n                <span />\n            </li>\n        ];\n    }\n\n    open() {\n        var recipient = this.props.gameState.recipient || {};\n\n        this.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n            recipient\n        });\n\n        this.start();\n    }\n\n    send() {\n        skoash.trigger('passData', {\n            name: 'send',\n        });\n    }\n\n    renderContent() {\n        var changeFriendClick = this.goto.bind(this, {\n            index: 'friend',\n            goto: 'send',\n        });\n\n        return (\n            <div>\n                <div className={classNameText.header}>\n                    <span className={classNameText.yourMessageTo} />\n                    <span className={classNameText.username}>{this.state.recipient.name}</span>\n                    <br/>\n                    <span className={classNameText.isReady} />\n                    <button className={classNameText.changeFriend} onClick={changeFriendClick} />\n                </div>\n                <div className={classNameText.character}>\n                    <skoash.Image className=\"otter\" src={`${CMWN.MEDIA.SPRITE}proud-of-you-2.gif`} />\n                    <div className=\"bubble\">\n                        Are you sure<br/>\n                        you are ready to<br/>\n                        send your message?\n                    </div>\n                </div>\n                <div className={classNameText.gift} />\n                <Selectable className=\"menu right-menu\" list={this.rightMenuList} />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <SendScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"send\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/send_screen.js","const classNameText = {\n    character: 'character',\n    header: 'header',\n    yourMessageTo: 'your-message-to',\n    username: 'username',\n    isReady: 'is-ready',\n    buttons: 'buttons',\n    createAnother: 'create-another',\n    inbox: 'inbox',\n};\n\nconst text = {\n    yourMessageTo: 'YOUR MESSAGE TO:',\n    hasBeenSent: 'IS BEING SENT!',\n};\n\nclass SentScreen extends skoash.Screen {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            load: true,\n            opts: {\n                recipient: {}\n            },\n        };\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <skoash.Audio ref=\"start\" type=\"sfx\" src={`${CMWN.MEDIA.EFFECT}SendSkribble.mp3`} />\n                <div className={classNameText.character} />\n                <div className={classNameText.header}>\n                    <span className={classNameText.yourMessageTo}>{text.yourMessageTo}</span>\n                    <span className={classNameText.username}>{this.state.opts.recipient.name}</span>\n                    <br/>\n                    <span className={classNameText.isReady}>{text.hasBeenSent}</span>\n                </div>\n                <div className={classNameText.buttons}>\n                    <button\n                        className={classNameText.createAnother}\n                        onClick={this.goto.bind(this, 'friend')}\n                    />\n                    <button\n                        className={classNameText.inbox}\n                        onClick={this.goto.bind(this, 'inbox')}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <SentScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"sent\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/sent_screen.js","import classNames from 'classnames';\n\nimport Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n    skribbleBox: 'skribble-box',\n    box: 'box',\n    leftMenu: 'menu left-menu',\n    rightMenu: 'menu right-menu',\n    sender: 'menu recipient sender',\n};\n\nconst refs = {\n    box: 'box',\n};\n\nclass ReadScreen extends skoash.Screen {\n    constructor(props) {\n        super(props);\n\n        this.state.load = true;\n        this.state.message = {user: {}};\n\n        this.leftMenuList = [\n            <li className=\"inbox\" onClick={this.goto.bind(this, 'inbox')}>\n                <span />\n            </li>\n        ];\n\n        this.rightMenuList = [\n            <li className=\"reply\" onClick={this.reply.bind(this)}>\n                <span />\n            </li>\n        ];\n    }\n\n    reply() {\n        skoash.trigger('passData', {\n            name: 'add-recipient',\n            message: this.state.message.created_by,\n        });\n    }\n\n    open(opts) {\n        var message;\n        var friends;\n        var creater;\n\n        message = opts.message || {};\n\n        friends = this.props.gameState.data.user || [];\n        friends.forEach(friend => {\n            if (message.created_by === friend.friend_id) {\n                creater = friend;\n            }\n        });\n\n        this.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n            message,\n            creater\n        });\n\n        this.start();\n\n        skoash.trigger('getData', {\n            name: 'markAsRead',\n            'skribble_id': message.skribble_id,\n        });\n    }\n\n    getSenderClassNames() {\n        return classNames(\n      classNameText.sender, {\n          HIDE: !this.state.creater || this.state.message.sent\n      }\n    );\n    }\n\n    renderSender() {\n        var creater;\n        var content = [];\n\n        creater = this.state.creater;\n\n        if (!creater) return;\n\n        if (creater.username) {\n            content.push(<span className=\"name\">{creater.username}</span>);\n        }\n\n        if (creater._embedded.image) {\n            content.push(<img className=\"profile-image\" src={creater._embedded.image.url} />);\n        }\n\n        return content;\n    }\n\n    renderBoxContent() {\n        var url = _.get(this.state, 'message.url');\n\n        if (!url) return null;\n\n        return [\n            <skoash.Image src={this.state.message.url} />,\n            <div className={classNameText.box} />,\n        ];\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <skoash.Audio ref=\"start\" type=\"sfx\" src={`${CMWN.MEDIA.EFFECT}PreviewOpen.mp3`} />\n                <ul className={this.getSenderClassNames()}>\n                    <li>\n                        <span>\n                            {this.renderSender()}\n                        </span>\n                    </li>\n                </ul>\n                <skoash.Component ref={refs.box} className={classNameText.skribbleBox}>\n                    {this.renderBoxContent()}\n                </skoash.Component>\n                <Selectable className={classNameText.leftMenu} list={this.leftMenuList} />\n                <Selectable className={classNameText.rightMenu} list={this.rightMenuList} />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <ReadScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"read\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/read_screen.js","class QuitScreen extends skoash.Screen {\n    okay() {\n        skoash.trigger('quit');\n    }\n\n    cancel() {\n        this.close();\n        skoash.trigger('menuClose', {\n            id: this.props.id,\n        });\n    }\n\n    renderAssets() {\n        if (this.props.assets) {\n            return this.props.assets.map((asset, key) => {\n                return (\n                    <skoash.Audio\n                        {...asset.props}\n                        ref={asset.ref || asset.props['data-ref'] || ('asset-' + key)}\n                        key={key}\n                        data-ref={key}\n                    />\n                );\n            });\n        }\n\n        return null;\n    }\n\n    render() {\n        return (\n            <div id={this.props.id} className={'screen ' + this.getClassNames()}>\n                {this.renderAssets()}\n                <div className=\"center\">\n                    <div className=\"frame\">\n                        <h2>Are you sure you<br/>want to quit?</h2>\n                        <h3>Your game progress will be saved</h3>\n                        <button className=\"quit-yes\" onClick={this.okay.bind(this)}></button>\n                        <button className=\"quit-no\" onClick={this.cancel.bind(this)}></button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default (\n    <QuitScreen\n        id=\"quit\"\n    />\n);\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/quit_screen/0.1.js","class SaveMenu extends skoash.Screen {\n    cancel() {\n        this.close();\n        skoash.trigger('menuClose', {\n            id: this.props.id,\n        });\n    }\n\n    render() {\n        return (\n            <div id={this.props.id} className={this.getClassNames()}>\n                <skoash.Audio ref=\"start\" type=\"sfx\" src={`${CMWN.MEDIA.EFFECT}SaveSkribble.mp3`} />\n                <div className=\"center\">\n                    <div className=\"frame\">\n                        <button className=\"quit-saved\" onClick={this.cancel.bind(this)}></button>\n                        <h2>Your progress</h2>\n                        <h2>has been saved</h2>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default (\n    <SaveMenu\n        id=\"save\"\n        load\n    />\n);\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/save_menu.js","import classNames from 'classnames';\n\nclass CollisionWarning extends skoash.Screen {\n    constructor(props) {\n        super(props);\n\n        this.cancel = this.cancel.bind(this);\n        this.toggle = this.toggle.bind(this);\n    }\n\n    cancel() {\n        this.close();\n        skoash.trigger('menuClose', {\n            id: this.props.id,\n        });\n    }\n\n    toggle() {\n        this.updateGameState({\n            path: ['collisionWarning'],\n            data: {\n                show: !_.get(this.props.gameState, 'data.collisionWarning.show')\n            }\n        });\n    }\n\n    getToggleClassNames() {\n        return classNames('toggle-collision-warning', {\n            active: !_.get(this.props.gameState, 'data.collisionWarning.show')\n        });\n    }\n\n    render() {\n        return (\n            <div id={this.props.id} className={this.getClassNames()}>\n                <skoash.Audio ref=\"start\" type=\"sfx\" src={`${CMWN.MEDIA.EFFECT}WarningChime.mp3`} />\n                <div className=\"center\">\n                    <div className=\"frame\">\n                        <skoash.Image\n                            ref=\"copy\"\n                            className=\"copy\"\n                            src={`${CMWN.MEDIA.IMAGE}text-youmustnotoverlapimgs.png`}\n                        />\n                        <button className={this.getToggleClassNames()} onClick={this.toggle}></button>\n                        <button className=\"close-collision-warning\" onClick={this.cancel}></button>\n                        <skoash.Image\n                            ref=\"otter\"\n                            className=\"otter\"\n                            src={`${CMWN.MEDIA.SPRITE}peeking-through-otter.gif`}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default (\n    <CollisionWarning\n        id=\"collisionWarning\"\n        load\n    />\n);\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/collision_warning.js","export default (\n    <skoash.Screen\n        id=\"limitWarning\"\n        load\n        hidePrev\n        hideNext\n    >\n        <skoash.Audio ref=\"start\" type=\"sfx\" src={`${CMWN.MEDIA.EFFECT}TooManyWarning.mp3`} />\n        <skoash.Image className=\"hidden\" src={ENVIRONMENT.MEDIA + 'a479811171cf084bf86af4eac1f6dc28.png'} />\n        <skoash.Image className=\"hidden\" src={ENVIRONMENT.MEDIA + '027b30f0d279ef41cd30eff22323051c.png'} />\n        <skoash.Image className=\"otter\" src={ENVIRONMENT.MEDIA + 'e7c3a0ab64b457334e7be868609ee512.png'} />\n        <skoash.Image className=\"sign\" src={ENVIRONMENT.MEDIA + '7434453a4692d4be9e898b6b8787c108.png'} />\n        <div>\n            WARNING:<br/>\n            You have exceeded the number of times<br/>\n            you can use this item in your message.<br/>\n            Please press ok to continue game.\n        </div>\n        <button\n            onClick={function () {\n                skoash.trigger('menuClose', {\n                    id: 'limitWarning',\n                });\n            }}\n        />\n    </skoash.Screen>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./game-skribble/components/limit_warning.js"],"sourceRoot":""}