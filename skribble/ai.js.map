{"version":3,"sources":["webpack:///skribble/ai.js","webpack:///webpack/bootstrap 7799eb772b68cff72ae9","webpack:///../~/classnames/index.js","webpack:///./shared/components/selectable/0.1.js","webpack:///../~/shortid/lib/alphabet.js","webpack:///./shared/components/canvas/0.1.js","webpack:///./shared/components/item_drawer/0.1.js","webpack:///./shared/components/draggable/0.1.js","webpack:///./shared/components/editable_asset/0.1.js","webpack:///./shared/components/inbox/0.1.js","webpack:///./shared/components/ios_splash_screen/0.1.js","webpack:///./shared/components/loader/0.1.js","webpack:///./shared/components/menu/0.1.js","webpack:///./shared/components/quit_screen/0.1.js","webpack:///./shared/components/reveal/0.1.js","webpack:///./shared/components/saved_messages/0.1.js","webpack:///./shared/components/scroll_area/0.1.js","webpack:///./shared/components/selectable_reveal/0.1.js","webpack:///./skribble/components/canvas_screen.js","webpack:///./skribble/components/friend_screen.js","webpack:///./skribble/components/inbox_screen.js","webpack:///./skribble/components/item_drawer_screen.js","webpack:///./skribble/components/menu_screen.js","webpack:///./skribble/components/preview_screen.js","webpack:///./skribble/components/read_screen.js","webpack:///./skribble/components/save_menu.js","webpack:///./skribble/components/send_screen.js","webpack:///./skribble/components/sent_screen.js","webpack:///./skribble/components/title_screen.js","webpack:///./skribble/config.game.js","webpack:///./skribble/index.js","webpack:///../~/shortid/index.js","webpack:///../~/shortid/lib/decode.js","webpack:///../~/shortid/lib/encode.js","webpack:///../~/shortid/lib/index.js","webpack:///../~/shortid/lib/is-valid.js","webpack:///../~/shortid/lib/random/random-byte-browser.js","webpack:///../~/shortid/lib/random/random-from-seed.js","webpack:///../~/shortid/lib/util/cluster-worker-id-browser.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","apply","key","hasOwn","join","hasOwnProperty","undefined","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","source","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","get","_x","_x2","_x3","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","getter","parent","getPrototypeOf","_classnames","_classnames2","Selectable","_skoash$Component","this","state","selectFunction","select","start","_this","selectClass","highlight","selectOnStart","setState","started","bootstrap","keys","refs","map","self","correctAnswers","requireForComplete","filter","ref","correct","bin","list","getAll","selectHelper","e","dataRef","isCorrect","closest","getAttribute","answers","indexOf","allowDeselect","selectRespond","onSelect","chooseOne","dataTarget","updateGameState","path","data","completeListOnClick","complete","getClass","li","className","getClassNames","checkComplete","every","Node","incomplete","renderBin","React","createElement","type","renderList","_this2","message","data-message","data-ref","render","onClick","bind","skoash","Component","defaultProps","_","defaults","identity","reset","shuffled","setCharacters","_alphabet_","alphabet","ORIGINAL","Error","unique","split","item","ind","arr","lastIndexOf","characters","setSeed","seed","randomFromSeed","previousSeed","shuffle","sourceArray","targetArray","r","nextValue","characterIndex","Math","floor","splice","getShuffled","lookup","index","alphabetShuffled","_defineProperty","_editable_asset01Js","_editable_asset01Js2","Canvas","background","items","messages","offsetX","offsetY","active","valid","deleteItem","checkItem","deactivateItems","relayerItems","setValid","dom","ReactDOM","findDOMNode","width","offsetWidth","height","offsetHeight","getItems","left","top","scale","rotation","layer","corners","check","mime_type","remove","n","setItems","addItem","forEach","asset","cb","count","asset_type","trigger","name","media_id","then","d","reduce","v","src","maxInstances","exclude","_this3","tagName","deactivate","_this4","layers","sort","a","b","oldLayer","newLayer","relayer","isInBounds","can_overlap","some","util","doIntersect","x","y","getStyle","backgroundImage","renderItems","_this5","minDim","itemMinDim","renderMessages","_this6","messageMinDim","canvasWidth","canvasHeight","canvas","ACTIVE","preview","style","_shortid","_shortid2","_sharedComponentsSelectable01","_sharedComponentsSelectable012","_sharedComponentsScroll_area01","_sharedComponentsScroll_area012","ItemDrawer","_Selectable","shouldComponentUpdate","nextProps","nextState","quickCheck","itemsChanged","JSON","stringify","category","selectedItem","each","categoryName","selectButton","continueButton","cancelButton","cancelRespond","getCategory","categories","ANSWERED","values","getULClass","_classNames","item-drawer","_classNames2","white","toLowerCase","renderButtons","renderItemContent","content","thumb","subitem","Image","description","aVal","isNaN","window","parseInt","order","Infinity","bVal","ListItem","generate","img","scrollbarImg","Draggable","startX","startY","endX","endY","zoom","mouseDown","mouseUp","moveEvent","touchStart","touchEnd","shouldDrag","markCorrect","markIncorrect","startEvent","pageX","pageY","rect","grabX","grabY","el","targetTouches","getBoundingClientRect","isFinite","dragging","return","dragRespond","attachMouseEvents","addEventListener","attachTouchEvents","endEvent","dropRespond","detachMouseEvents","removeEventListener","detachTouchEvents","setCorners","offsetLeft","offsetTop","offsetParent","componentDidMount","setZoom","transform","WebkitTransform","draggable","DRAGGING","RETURN","CORRECT","children","_x4","_draggable01Js","_draggable01Js2","EditableAsset","_Draggable","minScale","maxScale","lastValid","adjustScale","offScale","rotate","adjustRotation","offRotate","activate","setTimeout","_delete","parentNode","deltaX","deltaY","atan2","PI","delta","base","pow","max","min","center","distance","angle","cos","sin","getSize","image","onload","maxDim","getLayer","attachEvents","componentDidUpdate","getButtonStyle","extraRotation","getAssetStyle","zIndex","getButtonsStyle","getClasses","INVALID","renderAsset","_selectable01","_selectable012","Inbox","status","read","UNREAD","friendKey","SENT","COMPLETE","getStatusText","friends","gameState","timestamp","moment","utc","updated","local","friend","friend_id","_embedded","url","username","sent","format","emptyMessage","Screen","completeDelay","nextDelay","completeOnStart","hidePrev","Loader","_selectable01Js","_selectable01Js2","Menu","ul","inactive","gotoObj","isFinal","concat","toString","lastLevel","level","replace","menu","QuitScreen","_skoash$Screen","okay","cancel","close","renderAssets","assets","Audio","Reveal","openReveal","open","playAudio","completeOnOpen","autoClose","openTarget","onOpen","prevMessage","audio","play","onClose","closeRespond","openOnStart","media","voiceOver","componentWillReceiveProps","closeReveal","SavedMessages","SAVED","renderThumb","firstImg","rules","IMAGE","AREA","CONTENT","SCROLLBAR","SCROLLER","ScrollArea","scrollTop","areaScrollTop","scrollbarHeight","getEndY","getScrollerStyle","shouldRender","renderContentList","_sharedComponentsSelectable01Js","_sharedComponentsSelectable01Js2","_sharedComponentsReveal01Js","_sharedComponentsReveal01Js2","SelectableReveal","canSelectOnStart","reveal","incorrect","revealAll","allCorrect","renderSelectable","selectableList","selectableSelectClass","completeOnSelect","selectableCompleteOnSelect","selectableCheckComplete","randomizeList","randomizeSelectableList","renderReveal","revealList","revealAssets","revealCompleteOnOpen","revealCheckComplete","hide","hideReveal","_sharedComponentsCanvas01","_sharedComponentsCanvas012","_sharedComponentsMenu01","_sharedComponentsMenu012","CanvasScreen","load","rightMenuList","send","setHasAssets","getData","hasAssets","addItems","mapRulesStringToNumbers","friend_to","setMenu","parseFloat","opts","draft","getContainerClasses","canvas-container","BACKGROUND","HAS-ASSETS","renderContent","hideNext","_sharedComponentsItem_drawer01Js","_sharedComponentsItem_drawer01Js2","DEFAULT_PROFILE_IMAGE","FriendScreen","recipient","goto","updateData","user","user_id","leave","drawer","suggestFriends","location","origin","save","renderOtter","copy","renderFriends","back","buttons","_sharedComponentsSelectable_reveal01Js","_sharedComponentsSelectable_reveal01Js2","_sharedComponentsInbox01Js","_sharedComponentsInbox01Js2","_sharedComponentsSaved_messages01Js","_sharedComponentsSaved_messages01Js2","inboxEmptyMessage","unreadEmptyMessage","readEmptyMessage","sentEmptyMessage","draftsEmptyMessage","InboxScreen","getRevealList","readMessage","editMessage","inbox","outbox","saved","unread","received","ItemDrawerScreen","MenuScreen","classNameText","skribbleBox","box","leftMenu","rightMenu","PreviewScreen","leftMenuList","sender","ReadScreen","reply","created_by","creater","skribble_id","getSenderClassNames","HIDE","renderSender","SaveMenu","yourMessageTo","isReady","changeFriend","character","gift","header","SendScreen","changeFriendClick","createAnother","text","hasBeenSent","SentScreen","nextIndex","config","version","dimensions","ratio","_configGame","_configGame2","_sharedComponentsLoader01","_sharedComponentsLoader012","_sharedComponentsIos_splash_screen01","_sharedComponentsIos_splash_screen012","_componentsTitle_screen","_componentsTitle_screen2","_componentsMenu_screen","_componentsMenu_screen2","_componentsFriend_screen","_componentsFriend_screen2","_componentsCanvas_screen","_componentsCanvas_screen2","_componentsItem_drawer_screen","_componentsItem_drawer_screen2","_componentsInbox_screen","_componentsInbox_screen2","_componentsPreview_screen","_componentsPreview_screen2","_componentsSend_screen","_componentsSend_screen2","_componentsSent_screen","_componentsSent_screen2","_componentsRead_screen","_componentsRead_screen2","_sharedComponentsQuit_screen01","_sharedComponentsQuit_screen012","_componentsSave_menu","_componentsSave_menu2","SkribbleGame","_skoash$Game","ready","getMediaOnReady","getFriends","getRules","skramble","skribble","skribbleData","emit","game","event","getMedia","loadSkribble","pathArray","shift","currentOpts","callback","clone","names","addRecipient","profile_image","clickRecipient","saveButton","openMenu","renderRecipient","Game","Skribble","screens","0","1","menus","quit","loader","onBootstrap","throttle","renderMenu","getGotoOpts","passData","decode","substr","worker","encode","number","loopCounter","done","str","randomByte","seconds","Date","now","REDUCE_TIME","previousSeconds","counter","clusterWorkerId","seedValue","workerId","newCharacters","isValid","isShortId","len","crypto","getRandomValues","random","dest","Uint8Array","msCrypto","getNextValue","_seed_"],"mappings":"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","file":"skribble/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(29);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t  Copyright (c) 2016 Jed Watson.\n\t  Licensed under the MIT License (MIT), see\n\t  http://jedwatson.github.io/classnames\n\t*/\n\t/* global define */\n\t\n\t(function () {\n\t\t'use strict';\n\t\n\t\tvar hasOwn = {}.hasOwnProperty;\n\t\n\t\tfunction classNames () {\n\t\t\tvar classes = [];\n\t\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\tvar arg = arguments[i];\n\t\t\t\tif (!arg) continue;\n\t\n\t\t\t\tvar argType = typeof arg;\n\t\n\t\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\t\tclasses.push(arg);\n\t\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn classes.join(' ');\n\t\t}\n\t\n\t\tif (typeof module !== 'undefined' && module.exports) {\n\t\t\tmodule.exports = classNames;\n\t\t} else if (true) {\n\t\t\t// register as 'classnames', consistent with npm package name\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t\t\t\treturn classNames;\n\t\t\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else {\n\t\t\twindow.classNames = classNames;\n\t\t}\n\t}());\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar Selectable = (function (_skoash$Component) {\n\t  _inherits(Selectable, _skoash$Component);\n\t\n\t  function Selectable() {\n\t    _classCallCheck(this, Selectable);\n\t\n\t    _get(Object.getPrototypeOf(Selectable.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      classes: {},\n\t      selectFunction: this.select\n\t    };\n\t  }\n\t\n\t  _createClass(Selectable, [{\n\t    key: 'start',\n\t    value: function start() {\n\t      var _this = this;\n\t\n\t      var selectClass,\n\t          selectFunction,\n\t          classes = {};\n\t\n\t      selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n\t      selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\t\n\t      if (this.props.selectOnStart) {\n\t        classes[this.props.selectOnStart] = selectClass;\n\t      }\n\t\n\t      this.setState({\n\t        started: true,\n\t        classes: classes,\n\t        selectFunction: selectFunction,\n\t        selectClass: selectClass\n\t      });\n\t\n\t      this.bootstrap();\n\t\n\t      Object.keys(this.refs).map(function (key) {\n\t        if (typeof _this.refs[key].start === 'function') _this.refs[key].start();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'bootstrap',\n\t    value: function bootstrap() {\n\t      _get(Object.getPrototypeOf(Selectable.prototype), 'bootstrap', this).call(this);\n\t\n\t      var self = this;\n\t\n\t      var correctAnswers = this.requireForComplete.filter(function (ref) {\n\t        return self.refs[ref].props.correct;\n\t      });\n\t\n\t      if (correctAnswers.length > 0) {\n\t        this.requireForComplete = correctAnswers;\n\t      }\n\t\n\t      if (this.refs.bin) {\n\t        this.setState({\n\t          list: this.refs.bin.getAll()\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'selectHelper',\n\t    value: function selectHelper(e, classes) {\n\t      var ref,\n\t          dataRef,\n\t          target,\n\t          id,\n\t          isCorrect,\n\t          self = this;\n\t\n\t      target = e.target.closest('LI');\n\t\n\t      if (!target) return;\n\t\n\t      dataRef = target.getAttribute('data-ref');\n\t      ref = self.refs[dataRef];\n\t\n\t      isCorrect = ref && ref.props && ref.props.correct || !self.props.answers || !self.props.answers.length || self.props.answers.indexOf(dataRef) !== -1;\n\t\n\t      if (self.props.allowDeselect && classes[dataRef]) {\n\t        delete classes[dataRef];\n\t      } else if (isCorrect) {\n\t        classes[dataRef] = self.state.selectClass;\n\t      }\n\t\n\t      self.setState({\n\t        classes: classes\n\t      });\n\t\n\t      self.props.selectRespond.call(self, dataRef);\n\t      self.props.onSelect.call(self, dataRef);\n\t\n\t      if (self.props.chooseOne) {\n\t        self.requireForComplete = [dataRef];\n\t      }\n\t\n\t      if (self.props.dataTarget) {\n\t        self.updateGameState({\n\t          path: self.props.dataTarget,\n\t          data: {\n\t            target: ref\n\t          }\n\t        });\n\t      }\n\t\n\t      if (self.props.completeListOnClick) {\n\t        self.requireForComplete.map(function (key) {\n\t          if (key === id && self.refs[id]) {\n\t            self.refs[id].complete();\n\t          }\n\t        });\n\t      }\n\t\n\t      self.requireForComplete.map(function (key) {\n\t        if (key === dataRef && self.refs[key]) {\n\t          self.refs[key].complete();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'select',\n\t    value: function select(e) {\n\t      var classes = [];\n\t      this.selectHelper(e, classes);\n\t    }\n\t  }, {\n\t    key: 'highlight',\n\t    value: function highlight(e) {\n\t      var classes = this.state.classes;\n\t      this.selectHelper(e, classes);\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key, li) {\n\t      return (0, _classnames2['default'])(li.props.className, this.state.classes[key], this.state.classes[li.props['data-ref']]);\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])('selectable', _get(Object.getPrototypeOf(Selectable.prototype), 'getClassNames', this).call(this));\n\t    }\n\t  }, {\n\t    key: 'checkComplete',\n\t    value: function checkComplete() {\n\t      var self = this,\n\t          complete;\n\t\n\t      if (this.props.checkComplete === false) return;\n\t\n\t      complete = self.requireForComplete.every(function (key) {\n\t        if (self.refs[key] instanceof Node) {\n\t          return true;\n\t        }\n\t        if (!self.refs[key].state || self.refs[key].state && !self.refs[key].state.complete) {\n\t          if (typeof self.refs[key].checkComplete === 'function') {\n\t            self.refs[key].checkComplete();\n\t          }\n\t          return false;\n\t        }\n\t        return true;\n\t      });\n\t\n\t      if (complete && !self.state.complete) {\n\t        self.complete();\n\t      } else if (self.state.started && !complete && self.state.complete) {\n\t        self.incomplete();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderBin',\n\t    value: function renderBin() {\n\t      if (!this.props.bin) return null;\n\t\n\t      return React.createElement(this.props.bin.type, _extends({}, this.props.bin.props, {\n\t        ref: 'bin'\n\t      }));\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var _this2 = this;\n\t\n\t      var list = this.props.list || this.state.list;\n\t      return list.map(function (li, key) {\n\t        var dataRef = li.props['data-ref'] || key;\n\t        var ref = li.ref || li.props.id || dataRef;\n\t        var message = li.props.message || '' + key;\n\t        return React.createElement(li.type, _extends({}, li.props, {\n\t          type: 'li',\n\t          className: _this2.getClass(key, li),\n\t          message: message,\n\t          'data-message': message,\n\t          'data-ref': dataRef,\n\t          ref: ref,\n\t          key: key\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        this.renderBin(),\n\t        React.createElement(\n\t          'ul',\n\t          { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t          this.renderList()\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Selectable;\n\t})(skoash.Component);\n\t\n\tSelectable.defaultProps = _.defaults({\n\t  list: [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)],\n\t  selectClass: 'SELECTED',\n\t  completeListOnClick: true,\n\t  selectRespond: _.identity,\n\t  onSelect: _.identity\n\t}, skoash.Component.defaultProps);\n\t\n\texports['default'] = Selectable;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar randomFromSeed = __webpack_require__(36);\n\t\n\tvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n\tvar alphabet;\n\tvar previousSeed;\n\t\n\tvar shuffled;\n\t\n\tfunction reset() {\n\t    shuffled = false;\n\t}\n\t\n\tfunction setCharacters(_alphabet_) {\n\t    if (!_alphabet_) {\n\t        if (alphabet !== ORIGINAL) {\n\t            alphabet = ORIGINAL;\n\t            reset();\n\t        }\n\t        return;\n\t    }\n\t\n\t    if (_alphabet_ === alphabet) {\n\t        return;\n\t    }\n\t\n\t    if (_alphabet_.length !== ORIGINAL.length) {\n\t        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n\t    }\n\t\n\t    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n\t       return ind !== arr.lastIndexOf(item);\n\t    });\n\t\n\t    if (unique.length) {\n\t        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n\t    }\n\t\n\t    alphabet = _alphabet_;\n\t    reset();\n\t}\n\t\n\tfunction characters(_alphabet_) {\n\t    setCharacters(_alphabet_);\n\t    return alphabet;\n\t}\n\t\n\tfunction setSeed(seed) {\n\t    randomFromSeed.seed(seed);\n\t    if (previousSeed !== seed) {\n\t        reset();\n\t        previousSeed = seed;\n\t    }\n\t}\n\t\n\tfunction shuffle() {\n\t    if (!alphabet) {\n\t        setCharacters(ORIGINAL);\n\t    }\n\t\n\t    var sourceArray = alphabet.split('');\n\t    var targetArray = [];\n\t    var r = randomFromSeed.nextValue();\n\t    var characterIndex;\n\t\n\t    while (sourceArray.length > 0) {\n\t        r = randomFromSeed.nextValue();\n\t        characterIndex = Math.floor(r * sourceArray.length);\n\t        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n\t    }\n\t    return targetArray.join('');\n\t}\n\t\n\tfunction getShuffled() {\n\t    if (shuffled) {\n\t        return shuffled;\n\t    }\n\t    shuffled = shuffle();\n\t    return shuffled;\n\t}\n\t\n\t/**\n\t * lookup shuffled letter\n\t * @param index\n\t * @returns {string}\n\t */\n\tfunction lookup(index) {\n\t    var alphabetShuffled = getShuffled();\n\t    return alphabetShuffled[index];\n\t}\n\t\n\tmodule.exports = {\n\t    characters: characters,\n\t    seed: setSeed,\n\t    lookup: lookup,\n\t    shuffled: getShuffled\n\t};\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _editable_asset01Js = __webpack_require__(7);\n\t\n\tvar _editable_asset01Js2 = _interopRequireDefault(_editable_asset01Js);\n\t\n\tvar Canvas = (function (_skoash$Component) {\n\t  _inherits(Canvas, _skoash$Component);\n\t\n\t  function Canvas() {\n\t    _classCallCheck(this, Canvas);\n\t\n\t    _get(Object.getPrototypeOf(Canvas.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      background: null,\n\t      items: [],\n\t      messages: [],\n\t      offsetX: 0,\n\t      offsetY: 0,\n\t      active: false,\n\t      valid: true\n\t    };\n\t\n\t    this.deleteItem = this.deleteItem.bind(this);\n\t    this.checkItem = this.checkItem.bind(this);\n\t    this.deactivateItems = this.deactivateItems.bind(this);\n\t    this.relayerItems = this.relayerItems.bind(this);\n\t    this.setValid = this.setValid.bind(this);\n\t  }\n\t\n\t  _createClass(Canvas, [{\n\t    key: 'start',\n\t    value: function start() {\n\t      var dom = ReactDOM.findDOMNode(this);\n\t\n\t      _get(Object.getPrototypeOf(Canvas.prototype), 'start', this).call(this);\n\t\n\t      this.setState({\n\t        width: dom.offsetWidth,\n\t        height: dom.offsetHeight\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getItems',\n\t    value: function getItems() {\n\t      var items,\n\t          messages,\n\t          self = this;\n\t\n\t      items = this.state.items.map(function (item, key) {\n\t        var state;\n\t\n\t        if (!self.refs['item-' + key]) return item;\n\t\n\t        state = self.refs['item-' + key].state;\n\t\n\t        item.state = {\n\t          left: _.floor(state.left, 14),\n\t          top: _.floor(state.top, 14),\n\t          scale: _.floor(state.scale, 14),\n\t          rotation: _.floor(state.rotation, 14),\n\t          layer: state.layer,\n\t          valid: state.valid,\n\t          corners: state.corners\n\t        };\n\t\n\t        item.check = state.check;\n\t        item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\t\n\t        return item;\n\t      });\n\t\n\t      messages = this.state.messages.map(function (item, key) {\n\t        var state;\n\t\n\t        if (!self.refs['message-' + key]) return item;\n\t\n\t        state = self.refs['message-' + key].state;\n\t\n\t        item.state = {\n\t          left: _.floor(state.left, 14),\n\t          top: _.floor(state.top, 14),\n\t          scale: _.floor(state.scale, 14),\n\t          rotation: _.floor(state.rotation, 14),\n\t          layer: state.layer,\n\t          valid: state.valid,\n\t          corners: state.corners\n\t        };\n\t\n\t        item.check = state.check;\n\t        item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\t\n\t        return item;\n\t      });\n\t\n\t      _.remove(items, function (n) {\n\t        return !n;\n\t      });\n\t\n\t      _.remove(messages, function (n) {\n\t        return !n;\n\t      });\n\t\n\t      return {\n\t        background: this.state.background,\n\t        items: items,\n\t        messages: messages\n\t      };\n\t    }\n\t  }, {\n\t    key: 'reset',\n\t    value: function reset() {\n\t      this.setState({\n\t        background: null,\n\t        items: [],\n\t        messages: []\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setItems',\n\t    value: function setItems(message) {\n\t      var _this = this;\n\t\n\t      if (message) {\n\t        /*\n\t         *\n\t         * This makes sure the EditableAssets get cleared.\n\t         *\n\t         * This prevents the new assets from inheriting\n\t         * state from the old assets.\n\t         *\n\t         */\n\t        this.setState({\n\t          background: null,\n\t          items: [],\n\t          messages: []\n\t        }, function () {\n\t          _this.addItem(message.background);\n\t          message.items.forEach(function (asset) {\n\t            _this.addItem(asset);\n\t          });\n\t          message.messages.forEach(function (asset) {\n\t            _this.addItem(asset);\n\t          });\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'addItem',\n\t    value: function addItem(asset, cb) {\n\t      var _this2 = this;\n\t\n\t      var items, messages, index, count;\n\t\n\t      if (!asset) return;\n\t\n\t      if (asset.asset_type === 'background') {\n\t        this.setState({\n\t          background: asset\n\t        }, function () {\n\t          skoash.trigger('emit', {\n\t            name: 'getMedia',\n\t            'media_id': asset.media_id\n\t          }).then(function (d) {\n\t            var background = _this2.state.background;\n\t            background.check = d.check;\n\t            background.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t            _this2.setState({\n\t              background: background\n\t            }, cb);\n\t          });\n\t        });\n\t      } else if (asset.asset_type === 'item') {\n\t        items = this.state.items;\n\t\n\t        count = _.reduce(items, function (c, v) {\n\t          if (asset.src === v.src) c++;\n\t          return c;\n\t        }, 1);\n\t\n\t        if (count > this.props.maxInstances) return;\n\t\n\t        items.push(asset);\n\t        index = items.indexOf(asset);\n\t\n\t        this.setState({\n\t          items: items\n\t        }, function () {\n\t          skoash.trigger('emit', {\n\t            name: 'getMedia',\n\t            'media_id': asset.media_id\n\t          }).then(function (d) {\n\t            asset.check = d.check;\n\t            asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t            items[index] = asset;\n\t            _this2.setState({\n\t              items: items\n\t            }, cb);\n\t          });\n\t        });\n\t      } else if (asset.asset_type === 'message') {\n\t        messages = this.state.messages;\n\t\n\t        count = _.reduce(items, function (c, v) {\n\t          if (asset.src === v.src) c++;\n\t          return c;\n\t        }, 1);\n\t\n\t        if (count > this.props.maxInstances) return;\n\t\n\t        messages.push(asset);\n\t        index = messages.indexOf(asset);\n\t\n\t        this.setState({\n\t          messages: messages\n\t        }, function () {\n\t          skoash.trigger('emit', {\n\t            name: 'getMedia',\n\t            'media_id': asset.media_id\n\t          }).then(function (d) {\n\t            asset.check = d.check;\n\t            asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t            messages[index] = asset;\n\t            _this2.setState({\n\t              messages: messages\n\t            }, cb);\n\t          });\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'deleteItem',\n\t    value: function deleteItem(key, type) {\n\t      var items;\n\t\n\t      items = this.state[type + 's'];\n\t      delete items[key];\n\t\n\t      this.setState(_defineProperty({}, type + 's', items));\n\t    }\n\t  }, {\n\t    key: 'deactivateItems',\n\t    value: function deactivateItems(exclude, type) {\n\t      var _this3 = this;\n\t\n\t      if (typeof exclude === 'object' && exclude.target) {\n\t        if (exclude.target.tagName !== 'LI') {\n\t          return;\n\t        }\n\t        this.setState({\n\t          active: false\n\t        });\n\t      }\n\t\n\t      if (typeof exclude === 'number') {\n\t        this.setState({\n\t          active: true\n\t        });\n\t      }\n\t\n\t      this.state.items.map(function (item, key) {\n\t        if ((key !== exclude || type !== 'item') && _this3.refs['item-' + key]) {\n\t          _this3.refs['item-' + key].deactivate();\n\t        }\n\t      });\n\t\n\t      this.state.messages.map(function (item, key) {\n\t        if ((key !== exclude || type !== 'message') && _this3.refs['message-' + key]) {\n\t          _this3.refs['message-' + key].deactivate();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'relayerItems',\n\t    value: function relayerItems(type) {\n\t      var _this4 = this;\n\t\n\t      var layers = [];\n\t\n\t      this.state[type + 's'].map(function (item, key) {\n\t        var layer;\n\t\n\t        layer = _this4.refs[type + '-' + key].state.layer;\n\t\n\t        if (layers.indexOf(layer) === -1) {\n\t          layers.push(layer);\n\t        }\n\t      });\n\t\n\t      layers.sort(function (a, b) {\n\t        return a < b;\n\t      });\n\t\n\t      this.state[type + 's'].map(function (item, key) {\n\t        var oldLayer, newLayer;\n\t\n\t        oldLayer = _this4.refs[type + '-' + key].state.layer;\n\t        newLayer = type === 'message' ? 10000 : 1000;\n\t        newLayer = newLayer - layers.indexOf(oldLayer);\n\t\n\t        _this4.refs[type + '-' + key].relayer(newLayer);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'checkItem',\n\t    value: function checkItem(key, type) {\n\t      var self = this;\n\t\n\t      return !self.refs[type + '-' + key].state.corners.length || self.isInBounds(key, type) && (self.refs[type + '-' + key].state.can_overlap || !self.state[type + 's'].some(function (item, index) {\n\t        return key !== index && !self.refs[type + '-' + index].state.can_overlap && self.refs[type + '-' + index].state.corners.length && skoash.util.doIntersect(self.refs[type + '-' + key].state.corners, self.refs[type + '-' + index].state.corners);\n\t      }));\n\t    }\n\t  }, {\n\t    key: 'isInBounds',\n\t    value: function isInBounds(key, type) {\n\t      return !this.state.width || !this.state.height || !(\n\t      // box to left\n\t      skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: 0, y: -this.state.height }, { x: 0, y: 2 * this.state.height }, { x: -this.state.width, y: 2 * this.state.height }, { x: -this.state.width, y: -this.state.height }]) ||\n\t      // box above\n\t      skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: -this.state.width, y: 0 }, { x: 2 * this.state.width, y: 0 }, { x: 2 * this.state.width, y: -this.state.height }, { x: this.state.width, y: -this.state.height }]) ||\n\t      // box to right\n\t      skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: this.state.width, y: -this.state.height }, { x: this.state.width, y: 2 * this.state.height }, { x: 2 * this.state.width, y: 2 * this.state.height }, { x: 2 * this.state.width, y: -this.state.height }]) ||\n\t      // box below\n\t      skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: -this.state.width, y: this.state.height }, { x: 2 * this.state.width, y: this.state.height }, { x: 2 * this.state.width, y: 2 * this.state.height }, { x: -this.state.width, y: 2 * this.state.height }]));\n\t    }\n\t  }, {\n\t    key: 'setValid',\n\t    value: function setValid(valid) {\n\t      this.setState({\n\t        valid: valid\n\t      });\n\t\n\t      if (typeof this.props.setValid === 'function') {\n\t        this.props.setValid(valid);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getStyle',\n\t    value: function getStyle() {\n\t      if (!this.state.background) return;\n\t\n\t      return {\n\t        backgroundImage: 'url(' + this.state.background.src + ')'\n\t      };\n\t    }\n\t  }, {\n\t    key: 'renderItems',\n\t    value: function renderItems() {\n\t      var _this5 = this;\n\t\n\t      var self = this;\n\t\n\t      return this.state.items.map(function (item, key) {\n\t        return React.createElement(_editable_asset01Js2['default'], _extends({}, item, {\n\t          'data-ref': key,\n\t          minDim: _this5.props.itemMinDim,\n\t          deleteItem: self.deleteItem,\n\t          checkItem: self.checkItem,\n\t          deactivateItems: self.deactivateItems,\n\t          relayerItems: self.relayerItems,\n\t          setValid: self.setValid,\n\t          ref: 'item-' + key,\n\t          key: key\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderMessages',\n\t    value: function renderMessages() {\n\t      var _this6 = this;\n\t\n\t      var self = this;\n\t\n\t      return this.state.messages.map(function (item, key) {\n\t        return React.createElement(_editable_asset01Js2['default'], _extends({}, item, {\n\t          'data-ref': key,\n\t          minDim: _this6.props.messageMinDim,\n\t          deleteItem: self.deleteItem,\n\t          checkItem: self.checkItem,\n\t          deactivateItems: self.deactivateItems,\n\t          relayerItems: self.relayerItems,\n\t          setValid: self.setValid,\n\t          canvasWidth: _this6.state.width,\n\t          canvasHeight: _this6.state.height,\n\t          ref: 'message-' + key,\n\t          key: key\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        canvas: true,\n\t        ACTIVE: !this.props.preview && this.state.active\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'ul',\n\t        {\n\t          className: this.getClassNames(),\n\t          style: this.getStyle(),\n\t          onClick: this.deactivateItems\n\t        },\n\t        this.renderItems(),\n\t        this.renderMessages()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Canvas;\n\t})(skoash.Component);\n\t\n\tCanvas.defaultProps = _.defaults({\n\t  maxInstances: 5\n\t}, skoash.Component.defaultProps);\n\t\n\texports['default'] = Canvas;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _shortid = __webpack_require__(30);\n\t\n\tvar _shortid2 = _interopRequireDefault(_shortid);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _sharedComponentsSelectable01 = __webpack_require__(2);\n\t\n\tvar _sharedComponentsSelectable012 = _interopRequireDefault(_sharedComponentsSelectable01);\n\t\n\tvar _sharedComponentsScroll_area01 = __webpack_require__(15);\n\t\n\tvar _sharedComponentsScroll_area012 = _interopRequireDefault(_sharedComponentsScroll_area01);\n\t\n\tvar ItemDrawer = (function (_Selectable) {\n\t  _inherits(ItemDrawer, _Selectable);\n\t\n\t  function ItemDrawer() {\n\t    _classCallCheck(this, ItemDrawer);\n\t\n\t    _get(Object.getPrototypeOf(ItemDrawer.prototype), 'constructor', this).apply(this, arguments);\n\t  }\n\t\n\t  _createClass(ItemDrawer, [{\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      var items, quickCheck, itemsChanged;\n\t\n\t      if (JSON.stringify(this.state.classes) !== JSON.stringify(nextState.classes)) {\n\t        return true;\n\t      }\n\t\n\t      items = nextProps.data || [];\n\t\n\t      if (nextState.category && items[nextState.category]) {\n\t        items = items[nextState.category].items;\n\t      }\n\t\n\t      quickCheck = _.reduce(items, function (a, i) {\n\t        a += i.name;\n\t        return a;\n\t      }, '');\n\t\n\t      itemsChanged = this.quickCheck !== quickCheck;\n\t      if (itemsChanged) {\n\t        this.quickCheck = quickCheck;\n\t      }\n\t\n\t      return itemsChanged;\n\t    }\n\t  }, {\n\t    key: 'start',\n\t    value: function start() {\n\t      var items,\n\t          selectedItem,\n\t          selectClass,\n\t          selectFunction,\n\t          classes = {},\n\t          self = this;\n\t\n\t      selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n\t      selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\t\n\t      items = self.props.data || [];\n\t\n\t      if (self.state.category && items[self.state.category]) {\n\t        items = items[self.state.category].items;\n\t      }\n\t\n\t      selectedItem = JSON.stringify(self.props.selectedItem);\n\t\n\t      _.each(items, function (item, key) {\n\t        if (self.props.selectedItem && JSON.stringify(item) === selectedItem) {\n\t          classes[key] = selectClass;\n\t        }\n\t      });\n\t\n\t      if (this.props.selectOnStart) {\n\t        classes[this.props.selectOnStart] = selectClass;\n\t      }\n\t\n\t      this.setState({\n\t        started: true,\n\t        classes: classes,\n\t        selectClass: selectClass,\n\t        selectFunction: selectFunction,\n\t        categoryName: '',\n\t        category: ''\n\t      });\n\t\n\t      _.each(self.refs, function (ref) {\n\t        if (typeof ref.start === 'function') ref.start();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'selectHelper',\n\t    value: function selectHelper(e) {\n\t      var li,\n\t          message,\n\t          key,\n\t          type,\n\t          categoryName,\n\t          classes = [];\n\t\n\t      li = e.target.closest('LI');\n\t      if (!li) return;\n\t\n\t      key = li.getAttribute('data-ref');\n\t      if (!this.refs[key]) return;\n\t\n\t      type = this.refs[key].props.item.asset_type;\n\t      if (!type) return;\n\t\n\t      if (type === 'folder') {\n\t        categoryName = this.refs[key].props.item.name;\n\t        this.setState({\n\t          category: key,\n\t          categoryName: categoryName\n\t        });\n\t      } else {\n\t        message = this.refs[key].props.item;\n\t        classes[key] = this.state.selectClass;\n\t\n\t        this.setState({\n\t          message: message,\n\t          classes: classes\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'selectButton',\n\t    value: function selectButton() {\n\t      if (typeof this.props.selectRespond === 'function' && this.state.message) {\n\t        this.props.selectRespond(this.state.message);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'continueButton',\n\t    value: function continueButton() {\n\t      if (typeof this.props.selectRespond === 'function') {\n\t        this.props.selectRespond({});\n\t      }\n\t    }\n\t  }, {\n\t    key: 'cancelButton',\n\t    value: function cancelButton() {\n\t      if (typeof this.props.cancelRespond === 'function') {\n\t        this.props.cancelRespond.call(this);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getCategory',\n\t    value: function getCategory() {\n\t      if (this.state.categoryName) {\n\t        return this.state.categoryName;\n\t      }\n\t\n\t      if (this.props.categories && this.props.categories.length) {\n\t        return this.props.categories[this.props.categories.length - 1];\n\t      }\n\t      return '';\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        'ANSWERED': _.values(this.state.classes).indexOf(this.state.selectClass) !== -1\n\t      }, this.props.className, 'item-drawer-component');\n\t    }\n\t  }, {\n\t    key: 'getULClass',\n\t    value: function getULClass() {\n\t      var _classNames;\n\t\n\t      var categories = '';\n\t\n\t      if (this.props.categories) {\n\t        categories = this.props.categories.join(' ');\n\t      }\n\t\n\t      return (0, _classnames2['default'])((_classNames = {\n\t        'item-drawer': true\n\t      }, _defineProperty(_classNames, categories, true), _defineProperty(_classNames, 'COMPLETE', this.state.complete), _classNames));\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key, item) {\n\t      var _classNames2;\n\t\n\t      var white = item && item.name && item.name.toLowerCase().indexOf('w.') !== -1;\n\t\n\t      return (0, _classnames2['default'])((_classNames2 = {}, _defineProperty(_classNames2, this.state.classes[key] || '', true), _defineProperty(_classNames2, 'white', white), _classNames2));\n\t    }\n\t  }, {\n\t    key: 'renderButtons',\n\t    value: function renderButtons() {\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'buttons' },\n\t        React.createElement('button', { className: 'select', onClick: this.selectButton.bind(this) }),\n\t        React.createElement('button', { className: 'continue', onClick: this.continueButton.bind(this) }),\n\t        React.createElement('button', { className: 'cancel', onClick: this.cancelButton.bind(this) })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderItemContent',\n\t    value: function renderItemContent(item) {\n\t      var content = [],\n\t          src;\n\t\n\t      if (item.src || item.thumb) {\n\t        src = item.thumb || item.src;\n\t      } else if (item.items) {\n\t        if (!_.isArray(item.items)) {\n\t          item.items = _.values(item.items);\n\t        }\n\t\n\t        if (item.items[0]) {\n\t          src = item.items[0].thumb || item.items[0].src;\n\t        }\n\t\n\t        if (!src) {\n\t          item.items.some(function (subitem) {\n\t            if (subitem.name === '_thumb.png') {\n\t              src = subitem.thumb || subitem.src;\n\t              return true;\n\t            }\n\t          });\n\t        }\n\t      }\n\t\n\t      if (src) {\n\t        content.push(React.createElement(skoash.Image, { src: src, key: 0 }));\n\t      }\n\t\n\t      if (item.name && (item.asset_type === 'folder' || item.asset_type === 'friend')) {\n\t        content.push(React.createElement(\n\t          'span',\n\t          { className: 'name', key: 1 },\n\t          item.name\n\t        ));\n\t      }\n\t\n\t      if (item.description) {\n\t        content.push(React.createElement(\n\t          'span',\n\t          { className: 'description', key: 2 },\n\t          item.description\n\t        ));\n\t      }\n\t\n\t      return content;\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var _this = this;\n\t\n\t      var items,\n\t          self = this;\n\t\n\t      if (!this.props.data) return;\n\t\n\t      items = this.props.data;\n\t\n\t      if (this.state.category && items[this.state.category]) {\n\t        items = items[this.state.category].items;\n\t      }\n\t\n\t      if (!_.isArray(items)) {\n\t        items = _.values(items);\n\t      }\n\t\n\t      return items.sort(function (a, b) {\n\t        var aVal = !_.isNaN(window.parseInt(a.order)) ? window.parseInt(a.order) : Infinity;\n\t        var bVal = !_.isNaN(window.parseInt(b.order)) ? window.parseInt(b.order) : Infinity;\n\t        if (aVal === bVal) {\n\t          if (a.name < b.name) return -1;\n\t          if (a.name > b.name) return 1;\n\t          return 0;\n\t        }\n\t        if (aVal < bVal) return -1;\n\t        return 1;\n\t      }).filter(function (item) {\n\t        return item.name !== '_thumb.png';\n\t      }).map(function (item, key) {\n\t        return React.createElement(\n\t          skoash.ListItem,\n\t          {\n\t            className: _this.getClass(key, item),\n\t            ref: key,\n\t            'data-ref': key,\n\t            item: item,\n\t            key: _shortid2['default'].generate()\n\t          },\n\t          self.renderItemContent(item)\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { className: this.getClassNames() },\n\t        React.createElement(\n\t          'div',\n\t          { className: 'item-drawer-container' },\n\t          React.createElement(\n\t            'h2',\n\t            null,\n\t            this.getCategory()\n\t          ),\n\t          React.createElement(\n\t            _sharedComponentsScroll_area012['default'],\n\t            { ref: 'scroll-area', img: this.props.scrollbarImg },\n\t            React.createElement(\n\t              'ul',\n\t              { ref: 'list', className: this.getULClass(), onClick: this.state.selectFunction.bind(this) },\n\t              this.renderList()\n\t            )\n\t          )\n\t        ),\n\t        this.renderButtons()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ItemDrawer;\n\t})(_sharedComponentsSelectable012['default']);\n\t\n\tItemDrawer.defaultProps = _.defaults({\n\t  scrollbarImg: ''\n\t}, _sharedComponentsSelectable012['default'].defaultProps);\n\t\n\texports['default'] = ItemDrawer;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar Draggable = (function (_skoash$Component) {\n\t  _inherits(Draggable, _skoash$Component);\n\t\n\t  function Draggable() {\n\t    _classCallCheck(this, Draggable);\n\t\n\t    _get(Object.getPrototypeOf(Draggable.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      startX: 0,\n\t      startY: 0,\n\t      endX: 0,\n\t      endY: 0,\n\t      zoom: 1\n\t    };\n\t\n\t    this.mouseDown = this.mouseDown.bind(this);\n\t    this.mouseUp = this.mouseUp.bind(this);\n\t\n\t    this.moveEvent = this.moveEvent.bind(this);\n\t\n\t    this.touchStart = this.touchStart.bind(this);\n\t    this.touchEnd = this.touchEnd.bind(this);\n\t  }\n\t\n\t  _createClass(Draggable, [{\n\t    key: 'shouldDrag',\n\t    value: function shouldDrag() {\n\t      return true;\n\t    }\n\t  }, {\n\t    key: 'markCorrect',\n\t    value: function markCorrect() {\n\t      this.setState({\n\t        correct: true\n\t      });\n\t    }\n\t  }, {\n\t    key: 'markIncorrect',\n\t    value: function markIncorrect() {\n\t      this.setState({\n\t        correct: false\n\t      });\n\t    }\n\t  }, {\n\t    key: 'startEvent',\n\t    value: function startEvent(e, cb) {\n\t      var pageX, pageY, rect, startX, startY, endX, endY, grabX, grabY;\n\t\n\t      if (e.target !== this.refs.el) return;\n\t      if (!this.shouldDrag()) return;\n\t\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        pageX = e.targetTouches[0].pageX;\n\t        pageY = e.targetTouches[0].pageY;\n\t        rect = e.target.getBoundingClientRect();\n\t        e = e.targetTouches[0];\n\t        e.offsetX = pageX - rect.left;\n\t        e.offsetY = pageY - rect.top;\n\t      }\n\t\n\t      grabX = e.offsetX;\n\t      grabY = e.offsetY;\n\t\n\t      startX = endX = e.pageX - grabX;\n\t      startY = endY = e.pageY - grabY;\n\t\n\t      if (!this.props['return']) {\n\t        startX = _.isFinite(this.state.grabX) ? this.state.startX + this.state.grabX - grabX : startX;\n\t        startY = _.isFinite(this.state.grabY) ? this.state.startY + this.state.grabY - grabY : startY;\n\t      }\n\t\n\t      this.setState({\n\t        dragging: true,\n\t        'return': false,\n\t        startX: startX,\n\t        startY: startY,\n\t        grabX: grabX,\n\t        grabY: grabY,\n\t        endX: endX,\n\t        endY: endY\n\t      });\n\t\n\t      if (typeof this.props.dragRespond === 'function') {\n\t        this.props.dragRespond(this.props.message);\n\t      }\n\t\n\t      if (typeof cb === 'function') {\n\t        cb.call(this);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'attachMouseEvents',\n\t    value: function attachMouseEvents() {\n\t      window.addEventListener('mousemove', this.moveEvent);\n\t      window.addEventListener('mouseup', this.mouseUp);\n\t    }\n\t  }, {\n\t    key: 'attachTouchEvents',\n\t    value: function attachTouchEvents() {\n\t      window.addEventListener('touchmove', this.moveEvent);\n\t      window.addEventListener('touchend', this.touchEnd);\n\t    }\n\t  }, {\n\t    key: 'mouseDown',\n\t    value: function mouseDown(e) {\n\t      this.startEvent(e, this.attachMouseEvents);\n\t    }\n\t  }, {\n\t    key: 'touchStart',\n\t    value: function touchStart(e) {\n\t      this.startEvent(e, this.attachTouchEvents);\n\t    }\n\t  }, {\n\t    key: 'moveEvent',\n\t    value: function moveEvent(e) {\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        e.pageX = e.targetTouches[0].pageX;\n\t        e.pageY = e.targetTouches[0].pageY;\n\t      }\n\t\n\t      this.setState({\n\t        endX: e.pageX - this.state.grabX,\n\t        endY: e.pageY - this.state.grabY\n\t      });\n\t    }\n\t  }, {\n\t    key: 'endEvent',\n\t    value: function endEvent(cb) {\n\t      this.dropRespond();\n\t\n\t      if (this.props['return']) {\n\t        this.setState({\n\t          dragging: false,\n\t          'return': this.props['return'],\n\t          endX: this.state.startX,\n\t          endY: this.state.startY\n\t        });\n\t      } else {\n\t        this.setState({\n\t          dragging: false,\n\t          'return': this.props['return']\n\t        });\n\t      }\n\t\n\t      if (typeof cb === 'function') {\n\t        cb.call(this);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'detachMouseEvents',\n\t    value: function detachMouseEvents() {\n\t      window.removeEventListener('mousemove', this.moveEvent);\n\t      window.removeEventListener('mouseup', this.mouseUp);\n\t    }\n\t  }, {\n\t    key: 'detachTouchEvents',\n\t    value: function detachTouchEvents() {\n\t      window.removeEventListener('touchmove', this.moveEvent);\n\t      window.removeEventListener('touchend', this.touchEnd);\n\t    }\n\t  }, {\n\t    key: 'mouseUp',\n\t    value: function mouseUp() {\n\t      this.endEvent(this.detachMouseEvents);\n\t    }\n\t  }, {\n\t    key: 'touchEnd',\n\t    value: function touchEnd() {\n\t      this.endEvent(this.detachTouchEvents);\n\t    }\n\t  }, {\n\t    key: 'dropRespond',\n\t    value: function dropRespond() {\n\t      var corners;\n\t\n\t      corners = this.setCorners();\n\t\n\t      if (typeof this.props.dropRespond === 'function') {\n\t        this.props.dropRespond(this.props.message, corners);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setCorners',\n\t    value: function setCorners() {\n\t      var top,\n\t          left,\n\t          width,\n\t          height,\n\t          el,\n\t          corners = [];\n\t\n\t      left = 0;\n\t      top = 0;\n\t      el = this.refs.el;\n\t      width = el.offsetWidth;\n\t      height = el.offsetHeight;\n\t\n\t      while (el) {\n\t        if (el.className.indexOf('screen') !== -1) {\n\t          break;\n\t        }\n\t\n\t        left += el.offsetLeft || 0;\n\t        top += el.offsetTop || 0;\n\t        el = el.offsetParent;\n\t      }\n\t\n\t      left += (this.state.endX - this.state.startX) / this.state.zoom;\n\t      top += (this.state.endY - this.state.startY) / this.state.zoom;\n\t\n\t      for (var i = 0; i < 4; i++) {\n\t        corners.push({\n\t          x: left + width * (i === 1 || i === 2 ? 1 : 0),\n\t          y: top + height * (i > 1 ? 1 : 0)\n\t        });\n\t      }\n\t\n\t      this.setState({\n\t        corners: corners\n\t      });\n\t\n\t      return corners;\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.bootstrap();\n\t    }\n\t  }, {\n\t    key: 'bootstrap',\n\t    value: function bootstrap() {\n\t      _get(Object.getPrototypeOf(Draggable.prototype), 'bootstrap', this).call(this);\n\t\n\t      this.setZoom();\n\t\n\t      this.refs.el.addEventListener('mousedown', this.mouseDown);\n\t      this.refs.el.addEventListener('touchstart', this.touchStart);\n\t\n\t      window.addEventListener('resize', this.setZoom.bind(this));\n\t    }\n\t  }, {\n\t    key: 'setZoom',\n\t    value: function setZoom() {\n\t      var _this = this;\n\t\n\t      skoash.trigger('getState').then(function (state) {\n\t        _this.setState({\n\t          zoom: state.scale\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getStyle',\n\t    value: function getStyle() {\n\t      var x, y;\n\t\n\t      x = (this.state.endX - this.state.startX) / this.state.zoom;\n\t      y = (this.state.endY - this.state.startY) / this.state.zoom;\n\t\n\t      return {\n\t        transform: 'translateX(' + x + 'px) translateY(' + y + 'px)',\n\t        WebkitTransform: 'translateX(' + x + 'px) translateY(' + y + 'px)'\n\t      };\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        draggable: true,\n\t        DRAGGING: this.state.dragging,\n\t        RETURN: this.state['return'],\n\t        CORRECT: this.state.correct\n\t      }, _get(Object.getPrototypeOf(Draggable.prototype), 'getClassNames', this).call(this));\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        {\n\t          ref: 'el',\n\t          className: this.getClassNames(),\n\t          style: this.getStyle()\n\t        },\n\t        this.props.children\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Draggable;\n\t})(skoash.Component);\n\t\n\texports['default'] = Draggable;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _draggable01Js = __webpack_require__(6);\n\t\n\tvar _draggable01Js2 = _interopRequireDefault(_draggable01Js);\n\t\n\tvar EditableAsset = (function (_Draggable) {\n\t  _inherits(EditableAsset, _Draggable);\n\t\n\t  function EditableAsset() {\n\t    _classCallCheck(this, EditableAsset);\n\t\n\t    _get(Object.getPrototypeOf(EditableAsset.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      width: 0,\n\t      height: 0,\n\t      left: 0,\n\t      top: 0,\n\t      scale: .5,\n\t      minScale: .1,\n\t      maxScale: 1,\n\t      rotation: 0,\n\t      layer: 1000,\n\t      zoom: 1,\n\t      active: false,\n\t      valid: true,\n\t      corners: [],\n\t      lastValid: {}\n\t    };\n\t\n\t    this.scale = this.scale.bind(this);\n\t    this.adjustScale = this.adjustScale.bind(this);\n\t    this.offScale = this.offScale.bind(this);\n\t\n\t    this.rotate = this.rotate.bind(this);\n\t    this.adjustRotation = this.adjustRotation.bind(this);\n\t    this.offRotate = this.offRotate.bind(this);\n\t  }\n\t\n\t  _createClass(EditableAsset, [{\n\t    key: 'shouldDrag',\n\t    value: function shouldDrag() {\n\t      return this.state.active;\n\t    }\n\t  }, {\n\t    key: 'activate',\n\t    value: function activate() {\n\t      this.setState({\n\t        active: true\n\t      });\n\t\n\t      if (typeof this.props.deactivateItems === 'function') {\n\t        this.props.deactivateItems(this.props['data-ref'], this.props.asset_type);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'deactivate',\n\t    value: function deactivate() {\n\t      var _this = this;\n\t\n\t      if (!this.state.valid) {\n\t        this.setState({\n\t          left: this.state.lastValid.left || this.state.left,\n\t          top: this.state.lastValid.top || this.state.top,\n\t          scale: this.state.lastValid.scale || this.state.scale,\n\t          rotation: this.state.lastValid.rotation || this.state.rotation,\n\t          active: false\n\t        }, function () {\n\t          setTimeout(function () {\n\t            _this.checkItem();\n\t          }, 0);\n\t        });\n\t      } else {\n\t        this.setState({\n\t          active: false\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'moveEvent',\n\t    value: function moveEvent(e) {\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        e.pageX = e.targetTouches[0].pageX;\n\t        e.pageY = e.targetTouches[0].pageY;\n\t      }\n\t\n\t      this.setState({\n\t        endX: e.pageX - this.state.grabX,\n\t        endY: e.pageY - this.state.grabY,\n\t        left: (e.pageX - this.state.grabX - this.state.startX) / this.state.zoom,\n\t        top: (e.pageY - this.state.grabY - this.state.startY) / this.state.zoom\n\t      });\n\t      this.checkItem();\n\t    }\n\t  }, {\n\t    key: 'delete',\n\t    value: function _delete() {\n\t      if (typeof this.props.deleteItem === 'function') {\n\t        this.props.deleteItem(this.props['data-ref'], this.props.asset_type);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'rotate',\n\t    value: function rotate() {\n\t      this.refs.el.parentNode.addEventListener('mousemove', this.adjustRotation);\n\t      this.refs.el.parentNode.addEventListener('mouseup', this.offRotate);\n\t\n\t      this.refs.el.parentNode.addEventListener('touchmove', this.adjustRotation);\n\t      this.refs.el.parentNode.addEventListener('touchend', this.offRotate);\n\t    }\n\t  }, {\n\t    key: 'offRotate',\n\t    value: function offRotate() {\n\t      this.refs.el.parentNode.removeEventListener('mousemove', this.adjustRotation);\n\t      this.refs.el.parentNode.removeEventListener('mouseup', this.offRotate);\n\t\n\t      this.refs.el.parentNode.removeEventListener('touchmove', this.adjustRotation);\n\t      this.refs.el.parentNode.removeEventListener('touchend', this.offRotate);\n\t    }\n\t  }, {\n\t    key: 'adjustRotation',\n\t    value: function adjustRotation(e) {\n\t      var rotation, deltaX, deltaY;\n\t\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        e.pageX = e.targetTouches[0].pageX;\n\t        e.pageY = e.targetTouches[0].pageY;\n\t      }\n\t\n\t      deltaX = e.pageX / this.state.zoom - this.refs.li.offsetParent.offsetLeft - (this.state.left + this.state.width / 2);\n\t      deltaY = e.pageY / this.state.zoom - this.refs.li.offsetParent.offsetTop - (this.state.top + this.state.height / 2);\n\t\n\t      rotation = Math.atan2(deltaY, deltaX) + Math.PI / 4 % (2 * Math.PI);\n\t\n\t      this.setState({\n\t        rotation: rotation\n\t      });\n\t\n\t      this.checkItem();\n\t    }\n\t  }, {\n\t    key: 'layer',\n\t    value: function layer() {\n\t      var layer,\n\t          self = this;\n\t\n\t      layer = this.state.layer - 1;\n\t\n\t      this.setState({\n\t        layer: layer\n\t      }, function () {\n\t        if (typeof self.props.relayerItems === 'function') {\n\t          self.props.relayerItems(self.props.asset_type);\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'relayer',\n\t    value: function relayer(layer) {\n\t      this.setState({\n\t        layer: layer\n\t      });\n\t    }\n\t  }, {\n\t    key: 'scale',\n\t    value: function scale() {\n\t      this.refs.el.parentNode.addEventListener('mousemove', this.adjustScale);\n\t      this.refs.el.parentNode.addEventListener('mouseup', this.offScale);\n\t\n\t      this.refs.el.parentNode.addEventListener('touchmove', this.adjustScale);\n\t      this.refs.el.parentNode.addEventListener('touchend', this.offScale);\n\t    }\n\t  }, {\n\t    key: 'offScale',\n\t    value: function offScale() {\n\t      this.refs.el.parentNode.removeEventListener('mousemove', this.adjustScale);\n\t      this.refs.el.parentNode.removeEventListener('mouseup', this.offScale);\n\t\n\t      this.refs.el.parentNode.removeEventListener('touchmove', this.adjustScale);\n\t      this.refs.el.parentNode.removeEventListener('touchend', this.offScale);\n\t    }\n\t  }, {\n\t    key: 'adjustScale',\n\t    value: function adjustScale(e) {\n\t      var scale, deltaX, deltaY, delta, base;\n\t\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        e.pageX = e.targetTouches[0].pageX;\n\t        e.pageY = e.targetTouches[0].pageY;\n\t      }\n\t\n\t      deltaX = e.pageX / this.state.zoom - this.refs.li.offsetParent.offsetLeft / this.state.zoom - (this.state.left / this.state.zoom + this.state.width / 2);\n\t      deltaY = e.pageY / this.state.zoom - this.refs.li.offsetParent.offsetTop / this.state.zoom - (this.state.top / this.state.zoom + this.state.height / 2);\n\t\n\t      delta = Math.pow(Math.pow(deltaX, 2) + Math.pow(deltaY, 2), .5);\n\t      base = Math.pow(Math.pow(this.state.width / 2, 2) + Math.pow(this.state.height / 2, 2), .5);\n\t\n\t      scale = Math.max(Math.min(delta / base, 1), this.state.minScale);\n\t\n\t      this.setState({\n\t        scale: scale\n\t      });\n\t\n\t      this.checkItem();\n\t    }\n\t  }, {\n\t    key: 'checkItem',\n\t    value: function checkItem() {\n\t      var _this2 = this;\n\t\n\t      this.setCorners(function () {\n\t        var valid;\n\t\n\t        if (typeof _this2.props.checkItem === 'function') {\n\t          valid = _this2.props.checkItem(_this2.props['data-ref'], _this2.props.asset_type);\n\t\n\t          if (valid) {\n\t            _this2.setState({\n\t              valid: valid,\n\t              lastValid: new Object(_this2.state)\n\t            });\n\t          } else {\n\t            _this2.setState({\n\t              valid: valid\n\t            });\n\t          }\n\t\n\t          if (typeof _this2.props.setValid === 'function') {\n\t            _this2.props.setValid(valid);\n\t          }\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setCorners',\n\t    value: function setCorners(cb) {\n\t      var center,\n\t          distance,\n\t          angle,\n\t          corners = [];\n\t\n\t      center = {\n\t        x: this.state.left + this.state.width / 2,\n\t        y: this.state.top + this.state.height / 2\n\t      };\n\t\n\t      distance = Math.pow(Math.pow(this.state.width * this.state.scale / 2, 2) + Math.pow(this.state.height * this.state.scale / 2, 2), .5);\n\t\n\t      for (var i = 0; i < 4; i++) {\n\t        angle = this.state.rotation;\n\t        angle += i < 2 ? 0 : Math.PI;\n\t        angle += Math.pow(-1, i) * Math.atan2(this.state.height, this.state.width);\n\t\n\t        corners.push({\n\t          x: center.x + distance * Math.cos(angle),\n\t          y: center.y + distance * Math.sin(angle)\n\t        });\n\t      }\n\t\n\t      this.setState({\n\t        corners: corners\n\t      }, cb);\n\t    }\n\t  }, {\n\t    key: 'getSize',\n\t    value: function getSize() {\n\t      var _this3 = this;\n\t\n\t      var image,\n\t          self = this;\n\t\n\t      image = new Image();\n\t\n\t      image.onload = function () {\n\t        var left, top, width, height, minDim, maxDim, minScale, maxScale, scale;\n\t\n\t        minDim = _this3.props.minDim || 40;\n\t        maxDim = _this3.props.maxDim || 400;\n\t        left = _this3.state.left;\n\t        top = _this3.state.top;\n\t        width = image.width;\n\t        height = image.height;\n\t\n\t        minScale = Math.max(minDim / width, minDim / height);\n\t        maxScale = Math.min(maxDim / width, maxDim / height, _this3.state.maxScale);\n\t        scale = self.props.state && self.props.state.scale ? self.props.state.scale : Math.max(Math.min(self.state.scale, maxScale), minScale);\n\t\n\t        if ((!_this3.state.height || !_this3.state.width) && !_this3.state.left && !_this3.state.top) {\n\t          left = (_this3.props.canvasWidth - width) / 2;\n\t          top = (_this3.props.canvasHeight - height) / 2;\n\t        }\n\t\n\t        self.setState({\n\t          left: left,\n\t          top: top,\n\t          width: width,\n\t          height: height,\n\t          minScale: minScale,\n\t          scale: scale\n\t        }, function () {\n\t          self.activate();\n\t          self.checkItem();\n\t        });\n\t      };\n\t\n\t      image.src = this.props.src;\n\t    }\n\t  }, {\n\t    key: 'getLayer',\n\t    value: function getLayer() {\n\t      var layer = 1000;\n\t\n\t      if (this.props.state && this.props.state.layer) {\n\t        layer = this.props.state.layer;\n\t      } else {\n\t        switch (this.props.asset_type) {\n\t          case 'background':\n\t            layer = 1;\n\t            break;\n\t          case 'message':\n\t            layer = 10000;\n\t            break;\n\t        }\n\t      }\n\t\n\t      this.setState({\n\t        layer: layer\n\t      });\n\t    }\n\t  }, {\n\t    key: 'attachEvents',\n\t    value: function attachEvents() {\n\t      this.refs.scale.addEventListener('mousedown', this.scale);\n\t      this.refs.rotate.addEventListener('mousedown', this.rotate);\n\t\n\t      this.refs.scale.addEventListener('touchstart', this.scale);\n\t      this.refs.rotate.addEventListener('touchstart', this.rotate);\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.bootstrap();\n\t    }\n\t  }, {\n\t    key: 'bootstrap',\n\t    value: function bootstrap() {\n\t      var _this4 = this;\n\t\n\t      _get(Object.getPrototypeOf(EditableAsset.prototype), 'bootstrap', this).call(this);\n\t\n\t      if (this.props.state) {\n\t        this.setState(this.props.state);\n\t      }\n\t\n\t      this.getSize();\n\t      this.getLayer();\n\t\n\t      this.attachEvents();\n\t\n\t      skoash.trigger('emit', {\n\t        name: 'getMedia',\n\t        'media_id': this.props.media_id\n\t      }).then(function (d) {\n\t        _this4.setState(d, function () {\n\t          _this4.checkItem();\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'componentDidUpdate',\n\t    value: function componentDidUpdate() {\n\t      this.attachEvents();\n\t    }\n\t  }, {\n\t    key: 'getButtonStyle',\n\t    value: function getButtonStyle() {\n\t      var extraRotation = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t\n\t      var style,\n\t          transform = '';\n\t\n\t      transform += 'scale(' + 1 / this.state.scale + ') ';\n\t      transform += 'rotate(' + (-this.state.rotation - extraRotation) + 'rad) ';\n\t\n\t      style = {\n\t        transform: transform\n\t      };\n\t\n\t      return style;\n\t    }\n\t  }, {\n\t    key: 'getAssetStyle',\n\t    value: function getAssetStyle() {\n\t      var style,\n\t          transform = '';\n\t\n\t      transform += 'scale(' + this.state.scale + ') ';\n\t      transform += 'rotate(' + this.state.rotation + 'rad) ';\n\t\n\t      style = {\n\t        backgroundImage: 'url(\"' + this.props.src + '\")',\n\t        width: this.state.width,\n\t        height: this.state.height,\n\t        left: this.state.left,\n\t        top: this.state.top,\n\t        transform: transform,\n\t        zIndex: this.state.layer\n\t      };\n\t\n\t      return style;\n\t    }\n\t  }, {\n\t    key: 'getButtonsStyle',\n\t    value: function getButtonsStyle() {\n\t      var style,\n\t          transform = '';\n\t\n\t      transform += 'scale(' + this.state.scale + ') ';\n\t      transform += 'rotate(' + this.state.rotation + 'rad) ';\n\t\n\t      style = {\n\t        width: this.state.width,\n\t        height: this.state.height,\n\t        left: this.state.left,\n\t        top: this.state.top,\n\t        transform: transform\n\t      };\n\t\n\t      return style;\n\t    }\n\t  }, {\n\t    key: 'getClasses',\n\t    value: function getClasses() {\n\t      return (0, _classnames2['default'])({\n\t        DRAGGING: this.state.dragging,\n\t        RETURN: this.state['return'],\n\t        ACTIVE: this.state.active,\n\t        INVALID: !this.state.valid\n\t      }, 'editable-asset', this.props.asset_type);\n\t    }\n\t  }, {\n\t    key: 'renderAsset',\n\t    value: function renderAsset() {\n\t      return React.createElement('div', {\n\t        ref: 'el',\n\t        className: 'asset',\n\t        style: this.getAssetStyle()\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderButtons',\n\t    value: function renderButtons() {\n\t      return React.createElement(\n\t        'div',\n\t        {\n\t          className: 'buttons',\n\t          style: this.getButtonsStyle()\n\t        },\n\t        React.createElement('button', {\n\t          className: 'delete',\n\t          style: this.getButtonStyle(),\n\t          onClick: this['delete'].bind(this)\n\t        }),\n\t        React.createElement('button', {\n\t          ref: 'rotate',\n\t          className: 'rotate',\n\t          style: this.getButtonStyle()\n\t        }),\n\t        React.createElement('button', {\n\t          className: 'layer',\n\t          onClick: this.layer.bind(this),\n\t          style: this.getButtonStyle()\n\t        }),\n\t        React.createElement('button', {\n\t          ref: 'scale',\n\t          className: 'scale',\n\t          style: this.getButtonStyle(1.5708)\n\t        })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'li',\n\t        {\n\t          ref: 'li',\n\t          className: this.getClasses(),\n\t          onClick: this.activate.bind(this)\n\t        },\n\t        this.renderAsset(),\n\t        this.renderButtons()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return EditableAsset;\n\t})(_draggable01Js2['default']);\n\t\n\tEditableAsset.defaultProps = _.defaults({\n\t  canvasWidth: 1280,\n\t  canvasHeight: 720\n\t}, _draggable01Js2['default'].defaultProps);\n\t\n\texports['default'] = EditableAsset;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectable01 = __webpack_require__(2);\n\t\n\tvar _selectable012 = _interopRequireDefault(_selectable01);\n\t\n\tvar Inbox = (function (_Selectable) {\n\t  _inherits(Inbox, _Selectable);\n\t\n\t  function Inbox() {\n\t    _classCallCheck(this, Inbox);\n\t\n\t    _get(Object.getPrototypeOf(Inbox.prototype), 'constructor', this).call(this);\n\t  }\n\t\n\t  _createClass(Inbox, [{\n\t    key: 'selectHelper',\n\t    value: function selectHelper(e) {\n\t      var li,\n\t          message,\n\t          key,\n\t          classes = [];\n\t\n\t      li = e.target.closest('LI');\n\t\n\t      if (!li) return;\n\t\n\t      key = li.getAttribute('data-ref');\n\t\n\t      if (!this.refs[key]) return;\n\t\n\t      message = this.refs[key].props.item;\n\t      classes[key] = this.state.selectClass;\n\t\n\t      this.setState({\n\t        message: message,\n\t        classes: classes\n\t      });\n\t\n\t      if (message.status !== 'COMPLETE') return;\n\t\n\t      if (typeof this.props.selectRespond === 'function' && message) {\n\t        this.props.selectRespond(message);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key, read) {\n\t      return (0, _classnames2['default'])(this.state.classes[key], {\n\t        UNREAD: this.props.friendKey === 'created_by' && !read,\n\t        SENT: this.props.friendKey !== 'created_by'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        'item-drawer': true,\n\t        COMPLETE: this.state.complete\n\t      }, this.props.className);\n\t    }\n\t  }, {\n\t    key: 'getStatusText',\n\t    value: function getStatusText(item) {\n\t      if (!item.status || item.status === 'COMPLETE') return '';\n\t      return item.status;\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var _this = this;\n\t\n\t      var items, friends;\n\t\n\t      if (!this.props.data || !this.props.data.items) return;\n\t\n\t      items = this.props.data.items;\n\t\n\t      if (!items.length) {\n\t        return React.createElement(\n\t          'li',\n\t          { className: 'empty' },\n\t          this.props.emptyMessage\n\t        );\n\t      }\n\t\n\t      friends = _.get(this.props.gameState, 'data.user', []);\n\t\n\t      return items.map(function (item, key) {\n\t        var timestamp, image, name;\n\t        timestamp = moment.utc(item.updated).local();\n\t        key = 'message-' + key;\n\t\n\t        friends.forEach(function (friend) {\n\t          if (item[_this.props.friendKey] === friend.friend_id) {\n\t            image = friend._embedded.image ? friend._embedded.image.url : '';\n\t            name = friend.username;\n\t          }\n\t        });\n\t\n\t        if (!name) {\n\t          skoash.trigger('getData', {\n\t            name: 'getFriend',\n\t            'friend_id': item[_this.props.friendKey]\n\t          });\n\t        }\n\t\n\t        if (_this.props.friendKey === 'friend_to') {\n\t          item.sent = true;\n\t        }\n\t\n\t        return React.createElement(\n\t          skoash.ListItem,\n\t          {\n\t            className: _this.getClass(key, item.read),\n\t            ref: key,\n\t            'data-ref': key,\n\t            item: item,\n\t            key: key\n\t          },\n\t          React.createElement(skoash.Image, { src: image }),\n\t          React.createElement(\n\t            'span',\n\t            { className: 'username' + (name.length > 15 ? ' long' : '') },\n\t            name\n\t          ),\n\t          React.createElement(\n\t            'span',\n\t            { className: 'timestamp' },\n\t            React.createElement(\n\t              'span',\n\t              { className: 'date' },\n\t              timestamp.format('MM.DD.YY')\n\t            ),\n\t            React.createElement(\n\t              'span',\n\t              { className: 'time' },\n\t              timestamp.format('h:mm a')\n\t            )\n\t          ),\n\t          React.createElement(\n\t            'span',\n\t            { className: 'status ' + item.status },\n\t            _this.getStatusText(item)\n\t          )\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'ul',\n\t          { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t          this.renderList()\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Inbox;\n\t})(_selectable012['default']);\n\t\n\tInbox.defaultProps = _.defaults({\n\t  friendKey: 'created_by',\n\t  gameState: {}\n\t}, _selectable012['default'].defaultProps);\n\t\n\texports['default'] = Inbox;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports[\"default\"] = function (props, ref, key) {\n\t  return React.createElement(\n\t    skoash.Screen,\n\t    _extends({}, props, {\n\t      ref: ref,\n\t      key: key,\n\t      id: \"ios-splash\",\n\t      checkComplete: false,\n\t      completeDelay: 6000,\n\t      nextDelay: 3000,\n\t      completeOnStart: true,\n\t      hidePrev: true\n\t    }),\n\t    React.createElement(skoash.Image, { className: \"hidden\", src: \"../shared/images/ios_start_ball.png\" }),\n\t    React.createElement(skoash.Image, { className: \"hidden\", src: \"../shared/images/ios_start_ball_anim.gif\" })\n\t  );\n\t};\n\t\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Loader = (function (_skoash$Component) {\n\t  _inherits(Loader, _skoash$Component);\n\t\n\t  function Loader() {\n\t    _classCallCheck(this, Loader);\n\t\n\t    _get(Object.getPrototypeOf(Loader.prototype), \"constructor\", this).call(this);\n\t  }\n\t\n\t  _createClass(Loader, [{\n\t    key: \"render\",\n\t    value: function render() {\n\t      return React.createElement(\n\t        \"div\",\n\t        { id: \"loader\", className: \"center\" },\n\t        React.createElement(\n\t          \"div\",\n\t          { className: \"group\" },\n\t          React.createElement(\n\t            \"h2\",\n\t            null,\n\t            \"Loading!\"\n\t          ),\n\t          React.createElement(\n\t            \"div\",\n\t            { className: \"spinner animated\" },\n\t            React.createElement(\n\t              \"div\",\n\t              { className: \"spinner animated\" },\n\t              React.createElement(\"div\", { className: \"spinner animated\" })\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Loader;\n\t})(skoash.Component);\n\t\n\texports[\"default\"] = Loader;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _selectable01Js = __webpack_require__(2);\n\t\n\tvar _selectable01Js2 = _interopRequireDefault(_selectable01Js);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar Menu = (function (_Selectable) {\n\t  _inherits(Menu, _Selectable);\n\t\n\t  function Menu() {\n\t    _classCallCheck(this, Menu);\n\t\n\t    _get(Object.getPrototypeOf(Menu.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      active: false,\n\t      selectClass: 'SELECTED',\n\t      classes: {}\n\t    };\n\t  }\n\t\n\t  _createClass(Menu, [{\n\t    key: 'deactivate',\n\t    value: function deactivate() {\n\t      var self = this;\n\t\n\t      this.setState({\n\t        active: false\n\t      });\n\t\n\t      Object.keys(this.refs).map(function (key) {\n\t        if (typeof self.refs[key].deactivate === 'function') {\n\t          self.refs[key].deactivate();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onClick',\n\t    value: function onClick(e) {\n\t      var li,\n\t          ul,\n\t          dom,\n\t          message,\n\t          active = false,\n\t          classes = [];\n\t\n\t      li = e.target.closest('LI');\n\t\n\t      if (!li) return;\n\t\n\t      ul = li.closest('UL');\n\t      dom = ReactDOM.findDOMNode(this); // eslint-disable-line no-undef\n\t\n\t      if (ul !== dom) return;\n\t\n\t      message = li.getAttribute('data-ref');\n\t\n\t      if (this.state.classes[message] !== this.state.selectClass) {\n\t        classes[message] = this.state.selectClass;\n\t        active = !this.props.inactive;\n\t      }\n\t\n\t      this.setState({\n\t        classes: classes,\n\t        active: active\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderItems',\n\t    value: function renderItems() {\n\t      var _this = this;\n\t\n\t      var self = this;\n\t\n\t      if (typeof this.props.items !== 'object') return;\n\t\n\t      return Object.keys(this.props.items).map(function (key) {\n\t        var item, onClick, gotoObj, categories, isFinal;\n\t\n\t        categories = _this.props.categories ? [].concat(_this.props.categories) : [];\n\t        categories.push(key);\n\t\n\t        item = _this.props.items[key];\n\t\n\t        isFinal = typeof item.items !== 'object' || Object.prototype.toString.call(item.items) === '[object Array]' || typeof self.props.lastLevel === 'number' && self.props.lastLevel === self.props.level;\n\t\n\t        if (isFinal) {\n\t          gotoObj = {\n\t            index: 'item-drawer',\n\t            categories: categories\n\t          };\n\t          onClick = skoash.trigger.bind(null, 'goto', gotoObj);\n\t        }\n\t\n\t        return React.createElement(\n\t          skoash.ListItem,\n\t          {\n\t            className: self.getClass(key),\n\t            'data-ref': key,\n\t            ref: key,\n\t            key: key,\n\t            onClick: onClick\n\t          },\n\t          React.createElement(\n\t            'span',\n\t            null,\n\t            key\n\t          ),\n\t          (function () {\n\t            if (isFinal) return;\n\t            return React.createElement(Menu, {\n\t              ref: 'menu-' + key,\n\t              categories: categories,\n\t              items: item.items,\n\t              inactive: true,\n\t              level: (self.props.level || 0) + 1,\n\t              lastLevel: self.props.lastLevel\n\t            });\n\t          })()\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key) {\n\t      var _classNames;\n\t\n\t      return (0, _classnames2['default'])((_classNames = {}, _defineProperty(_classNames, key.replace(' ', '-'), true), _defineProperty(_classNames, this.state.classes[key] || '', true), _classNames));\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        menu: true,\n\t        ACTIVE: this.state.active\n\t      }, this.props.className);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'ul',\n\t        {\n\t          className: this.getClassNames(),\n\t          onClick: this.onClick.bind(this)\n\t        },\n\t        this.renderItems()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Menu;\n\t})(_selectable01Js2['default']);\n\t\n\texports['default'] = Menu;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar QuitScreen = (function (_skoash$Screen) {\n\t  _inherits(QuitScreen, _skoash$Screen);\n\t\n\t  function QuitScreen() {\n\t    _classCallCheck(this, QuitScreen);\n\t\n\t    _get(Object.getPrototypeOf(QuitScreen.prototype), 'constructor', this).apply(this, arguments);\n\t  }\n\t\n\t  _createClass(QuitScreen, [{\n\t    key: 'okay',\n\t    value: function okay() {\n\t      skoash.trigger('quit');\n\t    }\n\t  }, {\n\t    key: 'cancel',\n\t    value: function cancel() {\n\t      this.close();\n\t      skoash.trigger('menuClose', {\n\t        id: this.props.id\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderAssets',\n\t    value: function renderAssets() {\n\t      if (this.props.assets) {\n\t        return this.props.assets.map(function (asset, key) {\n\t          return React.createElement(skoash.Audio, _extends({}, asset.props, {\n\t            ref: asset.ref || asset.props['data-ref'] || 'asset-' + key,\n\t            key: key,\n\t            'data-ref': key\n\t          }));\n\t        });\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { id: this.props.id, className: 'screen ' + this.getClassNames() },\n\t        this.renderAssets(),\n\t        React.createElement(\n\t          'div',\n\t          { className: 'center' },\n\t          React.createElement(\n\t            'div',\n\t            { className: 'frame' },\n\t            React.createElement(\n\t              'h2',\n\t              null,\n\t              'Are you sure you',\n\t              React.createElement('br', null),\n\t              'want to quit?'\n\t            ),\n\t            React.createElement(\n\t              'h3',\n\t              null,\n\t              'Your game progress will be saved'\n\t            ),\n\t            React.createElement('button', { className: 'quit-yes', onClick: this.okay.bind(this) }),\n\t            React.createElement('button', { className: 'quit-no', onClick: this.cancel.bind(this) })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return QuitScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = React.createElement(QuitScreen, {\n\t  id: 'quit'\n\t});\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Reveal = (function (_skoash$Component) {\n\t  _inherits(Reveal, _skoash$Component);\n\t\n\t  function Reveal() {\n\t    _classCallCheck(this, Reveal);\n\t\n\t    _get(Object.getPrototypeOf(Reveal.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      openReveal: ''\n\t    };\n\t\n\t    this.index = 0;\n\t  }\n\t\n\t  _createClass(Reveal, [{\n\t    key: 'open',\n\t    value: function open(message) {\n\t      var self = this;\n\t      self.setState({\n\t        open: true,\n\t        openReveal: '' + message\n\t      });\n\t\n\t      self.playAudio(message);\n\t\n\t      if (self.props.completeOnOpen) {\n\t        self.complete();\n\t      } else {\n\t        self.requireForComplete.map(function (key) {\n\t          if (key === message && self.refs[key]) {\n\t            self.refs[key].complete();\n\t          }\n\t        });\n\t      }\n\t\n\t      if (self.props.autoClose) {\n\t        setTimeout(function () {\n\t          self.close();\n\t        }, 2000);\n\t      }\n\t\n\t      if (self.props.openTarget) {\n\t        self.updateGameState({\n\t          path: self.props.openTarget,\n\t          data: {\n\t            open: '' + message\n\t          }\n\t        });\n\t      }\n\t\n\t      self.props.onOpen.call(self, message);\n\t    }\n\t  }, {\n\t    key: 'close',\n\t    value: function close() {\n\t      var prevMessage = this.state.openReveal;\n\t\n\t      this.setState({\n\t        open: false,\n\t        openReveal: ''\n\t      });\n\t\n\t      if (this.audio['close-sound']) {\n\t        this.audio['close-sound'].play();\n\t      }\n\t\n\t      this.props.onClose.call();\n\t\n\t      if (typeof this.props.closeRespond === 'function') {\n\t        this.props.closeRespond(prevMessage);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'start',\n\t    value: function start() {\n\t      _get(Object.getPrototypeOf(Reveal.prototype), 'start', this).call(this);\n\t      if (this.props.openOnStart != null) {\n\t        this.open(this.props.openOnStart);\n\t      } else if (this.props.start && typeof this.props.start === 'function') {\n\t        this.props.start.call(this);\n\t      } else {\n\t        this.close();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'playAudio',\n\t    value: function playAudio(message) {\n\t      var _this = this;\n\t\n\t      var messages;\n\t\n\t      if ('' + parseInt(message, 10) === message) {\n\t        message = 'asset-' + message;\n\t      }\n\t\n\t      if (this.audio['open-sound']) {\n\t        this.audio['open-sound'].play();\n\t      }\n\t\n\t      if (typeof message === 'string') {\n\t        messages = message.split(' ');\n\t        messages.map(function (audio) {\n\t          if (_this.audio[audio]) {\n\t            _this.audio[audio].play();\n\t          } else if (_this.media[audio] && typeof _this.media[audio].play === 'function') {\n\t            _this.media[audio].play();\n\t          }\n\t        });\n\t      } else {\n\t        if (this.audio.voiceOver[message]) {\n\t          this.audio.voiceOver[message].play();\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderAssets',\n\t    value: function renderAssets() {\n\t      if (this.props.assets) {\n\t        return this.props.assets.map(function (asset, key) {\n\t          var ref = asset.ref || asset.props['data-ref'] || 'asset-' + key;\n\t          return React.createElement(asset.type, _extends({}, asset.props, {\n\t            'data-ref': key,\n\t            ref: ref,\n\t            key: key\n\t          }));\n\t        });\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var _this2 = this;\n\t\n\t      var list = this.props.list || this.list;\n\t\n\t      return list.map(function (li, key) {\n\t        var ref = li.props['data-ref'] == null ? key : li.props['data-ref'];\n\t        return React.createElement(li.type, _extends({}, li.props, {\n\t          type: 'li',\n\t          className: _this2.getClass(li, key),\n\t          'data-ref': ref,\n\t          ref: key,\n\t          key: key\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'componentWillReceiveProps',\n\t    value: function componentWillReceiveProps(props) {\n\t      if (props.openReveal != null && props.openReveal !== this.props.openReveal) {\n\t        this.open(props.openReveal);\n\t      }\n\t\n\t      if (props.closeReveal === true && props.closeReveal !== this.props.closeReveal) {\n\t        this.close();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(li, key) {\n\t      var classes = '';\n\t\n\t      if (li.props.className) classes += li.props.className;\n\t      if (this.state.openReveal.indexOf(key) !== -1) classes += ' OPEN';\n\t      if (this.state.openReveal.indexOf(li.props['data-ref']) !== -1) classes += ' OPEN';\n\t\n\t      return classes;\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      var classes;\n\t      var open = 'open-none ';\n\t\n\t      if (this.state.openReveal) {\n\t        open = 'open-' + this.state.openReveal + ' ';\n\t      }\n\t\n\t      classes = 'reveal ' + open + _get(Object.getPrototypeOf(Reveal.prototype), 'getClassNames', this).call(this);\n\t\n\t      return classes;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { className: this.getClassNames() },\n\t        this.renderAssets(),\n\t        React.createElement(\n\t          'div',\n\t          null,\n\t          React.createElement(\n\t            'ul',\n\t            null,\n\t            this.renderList()\n\t          ),\n\t          React.createElement('button', { className: 'close-reveal', onClick: this.close.bind(this) })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Reveal;\n\t})(skoash.Component);\n\t\n\tReveal.defaultProps = _.defaults({\n\t  list: [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)],\n\t  onOpen: _.identity,\n\t  onClose: _.identity\n\t}, skoash.Component.defaultProps);\n\t\n\texports['default'] = Reveal;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _selectable01 = __webpack_require__(2);\n\t\n\tvar _selectable012 = _interopRequireDefault(_selectable01);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar SavedMessages = (function (_Selectable) {\n\t  _inherits(SavedMessages, _Selectable);\n\t\n\t  function SavedMessages() {\n\t    _classCallCheck(this, SavedMessages);\n\t\n\t    _get(Object.getPrototypeOf(SavedMessages.prototype), 'constructor', this).call(this);\n\t  }\n\t\n\t  _createClass(SavedMessages, [{\n\t    key: 'selectHelper',\n\t    value: function selectHelper(e) {\n\t      var li,\n\t          message,\n\t          key,\n\t          classes = [];\n\t\n\t      li = e.target.closest('LI');\n\t\n\t      if (!li) return;\n\t\n\t      key = li.getAttribute('data-ref');\n\t\n\t      message = this.refs[key].props.item;\n\t      classes[key] = this.state.selectClass;\n\t\n\t      this.setState({\n\t        message: message,\n\t        classes: classes\n\t      }, this.selectRespond.bind(this));\n\t    }\n\t  }, {\n\t    key: 'selectRespond',\n\t    value: function selectRespond() {\n\t      if (typeof this.props.selectRespond === 'function' && this.state.message) {\n\t        this.props.selectRespond(this.state.message);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key) {\n\t      var _classNames;\n\t\n\t      return (0, _classnames2['default'])((_classNames = {}, _defineProperty(_classNames, this.state.classes[key] || '', true), _defineProperty(_classNames, 'DRAFT', true), _classNames));\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        'item-drawer': true,\n\t        SAVED: true,\n\t        COMPLETE: this.state.complete\n\t      }, this.props.className);\n\t    }\n\t  }, {\n\t    key: 'renderThumb',\n\t    value: function renderThumb(item) {\n\t      var firstImg, background;\n\t\n\t      background = item && item.rules && item.rules.background && item.rules.background.src ? item.rules.background.src : '';\n\t\n\t      firstImg = item && item.rules && item.rules.items && item.rules.items[0] && item.rules.items[0].src ? item.rules.items[0].src : item && item.rules && item.rules.messages && item.rules.messages[0] && item.rules.messages[0].src ? item.rules.messages[0].src : '';\n\t\n\t      return React.createElement(\n\t        'div',\n\t        {\n\t          className: 'thumbnail',\n\t          style: {\n\t            backgroundImage: 'url(' + background + ')'\n\t          }\n\t        },\n\t        React.createElement(skoash.Image, { src: firstImg })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var items,\n\t          self = this;\n\t\n\t      if (!self.props.data || !self.props.data.items) return;\n\t\n\t      items = self.props.data.items;\n\t\n\t      if (!items.length) {\n\t        return React.createElement(\n\t          'li',\n\t          { className: 'empty' },\n\t          this.props.emptyMessage\n\t        );\n\t      }\n\t\n\t      return items.map(function (item, key) {\n\t        var timestamp = moment.utc(item.updated).local();\n\t        return React.createElement(\n\t          skoash.ListItem,\n\t          {\n\t            className: self.getClass(key),\n\t            ref: key,\n\t            'data-ref': key,\n\t            item: item,\n\t            key: key\n\t          },\n\t          self.renderThumb(item),\n\t          React.createElement(\n\t            'span',\n\t            { className: 'timestamp' },\n\t            React.createElement(\n\t              'span',\n\t              { className: 'date' },\n\t              timestamp.format('MM.DD.YY')\n\t            ),\n\t            React.createElement(\n\t              'span',\n\t              { className: 'time' },\n\t              timestamp.format('h:mm a')\n\t            )\n\t          )\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'ul',\n\t          { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t          this.renderList()\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SavedMessages;\n\t})(_selectable012['default']);\n\t\n\texports['default'] = SavedMessages;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar IMAGE = 'image';\n\tvar AREA = 'area';\n\tvar CONTENT = 'content';\n\tvar SCROLLBAR = 'scrollbar';\n\tvar SCROLLER = 'scroller';\n\t\n\tvar ScrollArea = (function (_skoash$Component) {\n\t  _inherits(ScrollArea, _skoash$Component);\n\t\n\t  function ScrollArea() {\n\t    _classCallCheck(this, ScrollArea);\n\t\n\t    _get(Object.getPrototypeOf(ScrollArea.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = _.defaults({\n\t      startY: 0,\n\t      endY: 0,\n\t      zoom: 1\n\t    }, this.state);\n\t\n\t    this.setZoom = this.setZoom.bind(this);\n\t\n\t    this.mouseDown = this.mouseDown.bind(this);\n\t    this.mouseUp = this.mouseUp.bind(this);\n\t\n\t    this.moveEvent = this.moveEvent.bind(this);\n\t\n\t    this.touchStart = this.touchStart.bind(this);\n\t    this.touchEnd = this.touchEnd.bind(this);\n\t  }\n\t\n\t  _createClass(ScrollArea, [{\n\t    key: 'bootstrap',\n\t    value: function bootstrap() {\n\t      var _this = this;\n\t\n\t      _get(Object.getPrototypeOf(ScrollArea.prototype), 'bootstrap', this).call(this);\n\t\n\t      this.setZoom();\n\t      window.addEventListener('resize', this.setZoom);\n\t\n\t      this[AREA] = ReactDOM.findDOMNode(this.refs[AREA]);\n\t      this[CONTENT] = ReactDOM.findDOMNode(this.refs[CONTENT]);\n\t      this[SCROLLBAR] = ReactDOM.findDOMNode(this.refs[SCROLLBAR]);\n\t      this[SCROLLER] = ReactDOM.findDOMNode(this.refs[SCROLLER]);\n\t\n\t      this[AREA].scrollTop = 0;\n\t\n\t      this[AREA].addEventListener('scroll', function (e) {\n\t        var areaScrollTop, endY;\n\t\n\t        if (!e.target || _this.dragging) return;\n\t\n\t        areaScrollTop = e.target.scrollTop;\n\t        endY = (_this[SCROLLBAR].offsetHeight - _this.props.scrollbarHeight) * (areaScrollTop / (_this[CONTENT].offsetHeight - _this[AREA].offsetHeight));\n\t\n\t        _this.setState({\n\t          startY: 0,\n\t          endY: endY\n\t        });\n\t      });\n\t\n\t      this[SCROLLER].addEventListener('mousedown', this.mouseDown);\n\t      this[SCROLLER].addEventListener('touchstart', this.touchStart);\n\t    }\n\t  }, {\n\t    key: 'setZoom',\n\t    value: function setZoom() {\n\t      var _this2 = this;\n\t\n\t      skoash.trigger('getState').then(function (state) {\n\t        _this2.setState({\n\t          zoom: state.scale\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'mouseDown',\n\t    value: function mouseDown(e) {\n\t      this.startEvent(e, this.attachMouseEvents);\n\t    }\n\t  }, {\n\t    key: 'touchStart',\n\t    value: function touchStart(e) {\n\t      this.startEvent(e, this.attachTouchEvents);\n\t    }\n\t  }, {\n\t    key: 'startEvent',\n\t    value: function startEvent(e, cb) {\n\t      var startY, endY;\n\t\n\t      if (e.target !== this[SCROLLER]) return;\n\t\n\t      this.dragging = true;\n\t\n\t      e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\t\n\t      endY = this.getEndY(e);\n\t      startY = this.state.startY || endY;\n\t\n\t      this.setState({\n\t        startY: startY,\n\t        endY: endY\n\t      });\n\t\n\t      if (typeof cb === 'function') cb.call(this);\n\t    }\n\t  }, {\n\t    key: 'getEndY',\n\t    value: function getEndY(e) {\n\t      return Math.min(Math.max(e.pageY / this.state.zoom, this.state.startY), this.state.startY + this[SCROLLBAR].getBoundingClientRect().height / this.state.zoom - this.props.scrollbarHeight);\n\t    }\n\t  }, {\n\t    key: 'attachMouseEvents',\n\t    value: function attachMouseEvents() {\n\t      window.addEventListener('mousemove', this.moveEvent);\n\t      window.addEventListener('mouseup', this.mouseUp);\n\t    }\n\t  }, {\n\t    key: 'attachTouchEvents',\n\t    value: function attachTouchEvents() {\n\t      window.addEventListener('touchmove', this.moveEvent);\n\t      window.addEventListener('touchend', this.touchEnd);\n\t    }\n\t  }, {\n\t    key: 'moveEvent',\n\t    value: function moveEvent(e) {\n\t      var endY;\n\t\n\t      e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\t\n\t      endY = this.getEndY(e);\n\t\n\t      this[AREA].scrollTop = (endY - this.state.startY) * (this[CONTENT].offsetHeight - this[AREA].offsetHeight) / (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight);\n\t\n\t      this.setState({\n\t        endY: endY\n\t      });\n\t    }\n\t  }, {\n\t    key: 'mouseUp',\n\t    value: function mouseUp() {\n\t      this.dragging = false;\n\t      this.detachMouseEvents();\n\t    }\n\t  }, {\n\t    key: 'touchEnd',\n\t    value: function touchEnd() {\n\t      this.dragging = false;\n\t      this.detachTouchEvents();\n\t    }\n\t  }, {\n\t    key: 'detachMouseEvents',\n\t    value: function detachMouseEvents() {\n\t      window.removeEventListener('mousemove', this.moveEvent);\n\t      window.removeEventListener('mouseup', this.mouseUp);\n\t    }\n\t  }, {\n\t    key: 'detachTouchEvents',\n\t    value: function detachTouchEvents() {\n\t      window.removeEventListener('touchmove', this.moveEvent);\n\t      window.removeEventListener('touchend', this.touchEnd);\n\t    }\n\t  }, {\n\t    key: 'getScrollerStyle',\n\t    value: function getScrollerStyle() {\n\t      return {\n\t        backgroundImage: 'url(' + this.props.img + ')',\n\t        top: this.state.endY - this.state.startY\n\t      };\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])('scroll-area', _get(Object.getPrototypeOf(ScrollArea.prototype), 'getClassNames', this).call(this));\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      if (!this.props.shouldRender) return null;\n\t\n\t      return React.createElement(\n\t        this.props.type,\n\t        _extends({}, this.props, { className: this.getClassNames() }),\n\t        React.createElement(skoash.Image, { ref: IMAGE, className: 'hidden', src: this.props.img }),\n\t        React.createElement(\n\t          'div',\n\t          { ref: AREA, className: AREA },\n\t          React.createElement(\n\t            'div',\n\t            { ref: CONTENT, className: CONTENT },\n\t            this.renderContentList()\n\t          )\n\t        ),\n\t        React.createElement(\n\t          'div',\n\t          {\n\t            ref: SCROLLBAR,\n\t            className: SCROLLBAR\n\t          },\n\t          React.createElement('div', {\n\t            ref: SCROLLER,\n\t            className: SCROLLER,\n\t            style: this.getScrollerStyle()\n\t          })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ScrollArea;\n\t})(skoash.Component);\n\t\n\tScrollArea.defaultProps = _.defaults({\n\t  img: '',\n\t  scrollbarHeight: 100\n\t}, skoash.Component.defaultProps);\n\t\n\texports['default'] = ScrollArea;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsSelectable01Js = __webpack_require__(2);\n\t\n\tvar _sharedComponentsSelectable01Js2 = _interopRequireDefault(_sharedComponentsSelectable01Js);\n\t\n\tvar _sharedComponentsReveal01Js = __webpack_require__(13);\n\t\n\tvar _sharedComponentsReveal01Js2 = _interopRequireDefault(_sharedComponentsReveal01Js);\n\t\n\tvar SelectableReveal = (function (_skoash$Component) {\n\t  _inherits(SelectableReveal, _skoash$Component);\n\t\n\t  function SelectableReveal() {\n\t    _classCallCheck(this, SelectableReveal);\n\t\n\t    _get(Object.getPrototypeOf(SelectableReveal.prototype), 'constructor', this).call(this);\n\t  }\n\t\n\t  _createClass(SelectableReveal, [{\n\t    key: 'start',\n\t    value: function start() {\n\t      _get(Object.getPrototypeOf(SelectableReveal.prototype), 'start', this).call(this);\n\t      this.setState({\n\t        canSelectOnStart: this.props.canSelectOnStart\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(message) {\n\t      this.refs.reveal.open(message);\n\t    }\n\t  }, {\n\t    key: 'selectRespond',\n\t    value: function selectRespond(message) {\n\t      if (this.props.answers.length) {\n\t        if (this.props.answers.indexOf(message) === -1) {\n\t          if (this.audio.incorrect) this.audio.incorrect.play();\n\t          if (this.props.revealAll) {\n\t            if (typeof this.refs.reveal.open === 'function') {\n\t              this.open(message);\n\t            }\n\t          }\n\t        } else {\n\t          if (this.audio.correct) this.audio.correct.play();\n\t          if (typeof this.refs.reveal.open === 'function') {\n\t            this.open(message);\n\t          }\n\t        }\n\t      } else {\n\t        if (this.props.allCorrect && this.audio.correct) {\n\t          this.audio.correct.play();\n\t        }\n\t        if (typeof this.refs.reveal.open === 'function') {\n\t          this.open(message);\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'closeRespond',\n\t    value: function closeRespond() {\n\t      if (typeof this.props.closeRespond === 'function') {\n\t        this.props.closeRespond();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderAssets',\n\t    value: function renderAssets() {\n\t      if (this.props.assets) {\n\t        return this.props.assets.map(function (asset, key) {\n\t          return React.createElement(skoash.Audio, _extends({}, asset.props, {\n\t            ref: asset.ref || asset.props['data-ref'] || 'asset-' + key,\n\t            key: key,\n\t            'data-ref': key\n\t          }));\n\t        });\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'renderSelectable',\n\t    value: function renderSelectable() {\n\t      return React.createElement(_sharedComponentsSelectable01Js2['default'], {\n\t        ref: 'selectable',\n\t        list: this.props.selectableList,\n\t        selectRespond: this.selectRespond.bind(this),\n\t        selectClass: this.props.selectableSelectClass,\n\t        completeOnSelect: this.props.selectableCompleteOnSelect,\n\t        checkComplete: this.props.selectableCheckComplete,\n\t        randomizeList: this.props.randomizeSelectableList,\n\t        selectOnStart: this.props.selectOnStart,\n\t        chooseOne: this.props.chooseOne,\n\t        // answers={this.props.answers}\n\t        allowDeselect: this.props.allowDeselect\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderReveal',\n\t    value: function renderReveal() {\n\t      return React.createElement(_sharedComponentsReveal01Js2['default'], {\n\t        ref: 'reveal',\n\t        list: this.props.revealList,\n\t        assets: this.props.revealAssets,\n\t        closeRespond: this.closeRespond.bind(this),\n\t        completeOnOpen: this.props.revealCompleteOnOpen,\n\t        checkComplete: this.props.revealCheckComplete,\n\t        openOnStart: this.props.openOnStart,\n\t        hide: this.props.hideReveal,\n\t        openReveal: this.props.openReveal,\n\t        onOpen: this.props.onOpen\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClasses',\n\t    value: function getClasses() {\n\t      var classes = '';\n\t\n\t      if (this.state.complete) classes += ' COMPLETE';\n\t\n\t      return classes;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'selectable-reveal' + this.getClasses() },\n\t        this.renderAssets(),\n\t        this.renderSelectable(),\n\t        this.renderReveal()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SelectableReveal;\n\t})(skoash.Component);\n\t\n\tSelectableReveal.defaultProps = _.defaults({\n\t  answers: [],\n\t  canSelectOnStart: true\n\t}, skoash.Component.defaultProps);\n\t\n\texports['default'] = SelectableReveal;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsCanvas01 = __webpack_require__(4);\n\t\n\tvar _sharedComponentsCanvas012 = _interopRequireDefault(_sharedComponentsCanvas01);\n\t\n\tvar _sharedComponentsMenu01 = __webpack_require__(11);\n\t\n\tvar _sharedComponentsMenu012 = _interopRequireDefault(_sharedComponentsMenu01);\n\t\n\tvar _sharedComponentsSelectable01 = __webpack_require__(2);\n\t\n\tvar _sharedComponentsSelectable012 = _interopRequireDefault(_sharedComponentsSelectable01);\n\t\n\t// import Reveal from 'shared/components/reveal/0.1';\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar CanvasScreen = (function (_skoash$Screen) {\n\t  _inherits(CanvasScreen, _skoash$Screen);\n\t\n\t  function CanvasScreen() {\n\t    _classCallCheck(this, CanvasScreen);\n\t\n\t    _get(Object.getPrototypeOf(CanvasScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      load: true,\n\t      menu: {},\n\t      valid: true\n\t    };\n\t\n\t    this.rightMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'preview', onClick: this.preview.bind(this) },\n\t      React.createElement('span', null)\n\t    ), React.createElement(\n\t      'li',\n\t      { className: 'send', onClick: this.send.bind(this) },\n\t      React.createElement('span', null)\n\t    )];\n\t\n\t    this.setValid = this.setValid.bind(this);\n\t    this.closeReveal = this.closeReveal.bind(this);\n\t    this.setHasAssets = this.setHasAssets.bind(this);\n\t  }\n\t\n\t  _createClass(CanvasScreen, [{\n\t    key: 'getData',\n\t    value: function getData() {\n\t      return this.refs.canvas.getItems();\n\t    }\n\t  }, {\n\t    key: 'reset',\n\t    value: function reset() {\n\t      this.refs.canvas.reset();\n\t      this.setState({\n\t        background: false,\n\t        hasAssets: false\n\t      });\n\t    }\n\t  }, {\n\t    key: 'addItem',\n\t    value: function addItem(message) {\n\t      if (message) {\n\t        this.setState({\n\t          hasAssets: true,\n\t          background: this.state.background || message.asset_type === 'background'\n\t        });\n\t        this.refs.canvas.addItem(message, function () {\n\t          skoash.trigger('save');\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'addItems',\n\t    value: function addItems(message) {\n\t      var hasAssets, background;\n\t\n\t      hasAssets = true;\n\t      background = !!message.rules.background;\n\t\n\t      this.mapRulesStringToNumbers(message.rules);\n\t\n\t      this.refs.canvas.setItems(message.rules);\n\t\n\t      this.setState({\n\t        hasAssets: hasAssets,\n\t        background: background\n\t      });\n\t\n\t      if (message.friend_to) {\n\t        skoash.trigger('passData', {\n\t          name: 'add-recipient',\n\t          message: message.friend_to\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setMenu',\n\t    value: function setMenu() {\n\t      var menu,\n\t          state = this.props.gameState;\n\t\n\t      if (state && state.data && state.data.menu) {\n\t        menu = state.data.menu;\n\t        this.setState({\n\t          menu: menu\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'mapRulesStringToNumbers',\n\t    value: function mapRulesStringToNumbers(rules) {\n\t      if (!rules) return;\n\t\n\t      if (_.isArray(rules.items)) {\n\t        rules.items.forEach(function (item) {\n\t          item.state.left = parseFloat(item.state.left);\n\t          item.state.rotation = parseFloat(item.state.rotation);\n\t          item.state.scale = parseFloat(item.state.scale);\n\t          item.state.top = parseFloat(item.state.top);\n\t        });\n\t      }\n\t\n\t      if (_.isArray(rules.messages)) {\n\t        rules.messages.forEach(function (message) {\n\t          message.state.left = parseFloat(message.state.left);\n\t          message.state.rotation = parseFloat(message.state.rotation);\n\t          message.state.scale = parseFloat(message.state.scale);\n\t          message.state.top = parseFloat(message.state.top);\n\t        });\n\t      }\n\t\n\t      return rules;\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open() {\n\t      var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t      this.setMenu();\n\t\n\t      if (this.refs && this.refs.menu) {\n\t        this.refs.menu.deactivate();\n\t      }\n\t\n\t      if (!opts.draft) skoash.trigger('save');\n\t\n\t      // interval = setInterval(() => {\n\t      //   skoash.trigger('save');\n\t      // }, 120000);\n\t\n\t      // this.setState({\n\t      //   interval\n\t      // });\n\t\n\t      _get(Object.getPrototypeOf(CanvasScreen.prototype), 'open', this).call(this);\n\t    }\n\t  }, {\n\t    key: 'close',\n\t    value: function close() {\n\t      skoash.trigger('save');\n\t      // clearInterval(this.state.interval);\n\t      // this.setState({\n\t      //   interval: null\n\t      // });\n\t      _get(Object.getPrototypeOf(CanvasScreen.prototype), 'close', this).call(this);\n\t    }\n\t  }, {\n\t    key: 'setValid',\n\t    value: function setValid(valid) {\n\t      this.setState({\n\t        valid: valid\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setHasAssets',\n\t    value: function setHasAssets(hasAssets) {\n\t      this.setState({\n\t        hasAssets: hasAssets\n\t      });\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send() {\n\t      if (!this.state.valid) return;\n\t      this.goto('send');\n\t    }\n\t  }, {\n\t    key: 'preview',\n\t    value: function preview() {\n\t      if (!this.state.valid) return;\n\t      this.goto('preview');\n\t    }\n\t  }, {\n\t    key: 'closeReveal',\n\t    value: function closeReveal() {\n\t      if (this.refs && this.refs.reveal) {\n\t        this.refs.reveal.close();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getContainerClasses',\n\t    value: function getContainerClasses() {\n\t      return (0, _classnames2['default'])({\n\t        'canvas-container': true,\n\t        BACKGROUND: this.state.background\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        'HAS-ASSETS': this.state.hasAssets,\n\t        'INVALID': !this.state.valid\n\t      }, skoash.Screen.prototype.getClassNames.call(this));\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Frames/SK_frames_canvas.png' }),\n\t        React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Buttons/SK_btn_friend.png' }),\n\t        React.createElement(_sharedComponentsMenu012['default'], {\n\t          ref: 'menu',\n\t          items: this.state.menu.items,\n\t          level: 0,\n\t          lastLevel: 1\n\t        }),\n\t        React.createElement(\n\t          'div',\n\t          { className: this.getContainerClasses() },\n\t          React.createElement(_sharedComponentsCanvas012['default'], {\n\t            ref: 'canvas',\n\t            setValid: this.setValid,\n\t            setHasAssets: this.setHasAssets,\n\t            itemMinDim: 150\n\t          })\n\t        ),\n\t        React.createElement(_sharedComponentsSelectable012['default'], { className: 'menu right-menu', list: this.rightMenuList })\n\t      );\n\t      // move this back up below the Selectable when there is an instructional help video\n\t      /*\n\t          <Reveal\n\t            ref=\"reveal\"\n\t            openOnStart=\"0\"\n\t            list={[\n\t              <li>\n\t                <skoash.Image className=\"otter\" src={'media/_Otter/Otter_Static_GreetingTwo.png'} />\n\t                <div className=\"bubble\">\n\t                  Welcome to your canvas!<br/><br/>\n\t                  Would you like me<br/>\n\t                  to show you around?\n\t                  <div className=\"buttons\">\n\t                    <button\n\t                      className=\"yes\"\n\t                      onClick={skoash.trigger.bind(null, 'openMenu', {id: 'help'})}\n\t                    />\n\t                    <button\n\t                      className=\"no\"\n\t                      onClick={this.closeReveal}\n\t                    />\n\t                  </div>\n\t                </div>\n\t              </li>\n\t            ]}\n\t          />\n\t      */\n\t    }\n\t  }]);\n\t\n\t  return CanvasScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(CanvasScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'canvas',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsItem_drawer01Js = __webpack_require__(5);\n\t\n\tvar _sharedComponentsItem_drawer01Js2 = _interopRequireDefault(_sharedComponentsItem_drawer01Js);\n\t\n\tvar DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\t\n\tvar FriendScreen = (function (_skoash$Screen) {\n\t  _inherits(FriendScreen, _skoash$Screen);\n\t\n\t  function FriendScreen() {\n\t    _classCallCheck(this, FriendScreen);\n\t\n\t    _get(Object.getPrototypeOf(FriendScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      load: true,\n\t      complete: true,\n\t      recipient: {},\n\t      opts: {}\n\t    };\n\t  }\n\t\n\t  _createClass(FriendScreen, [{\n\t    key: 'selectRespond',\n\t    value: function selectRespond(message) {\n\t      skoash.trigger('pass-data', {\n\t        name: 'add-recipient',\n\t        goto: this.state.opts.goto,\n\t        message: message\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateData',\n\t    value: function updateData(d) {\n\t      var data = d && d.user ? d.user : this.props.gameState.data.user || [];\n\t\n\t      data = data.map(function (friend) {\n\t        var src = friend._embedded.image && friend._embedded.image.url ? friend._embedded.image.url : DEFAULT_PROFILE_IMAGE;\n\t        return {\n\t          'user_id': friend.friend_id,\n\t          name: friend.username,\n\t          src: src,\n\t          // I need to get the flips earned back from the backend to do this.\n\t          description: '',\n\t          // description: friend.flips_earned + ' Flips Earned',\n\t          'asset_type': 'friend'\n\t        };\n\t      });\n\t\n\t      this.setState({\n\t        data: data\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(opts) {\n\t      var recipient,\n\t          self = this;\n\t\n\t      self.updateData();\n\t\n\t      skoash.trigger('getData', {\n\t        name: 'getFriends'\n\t      }).then(function (data) {\n\t        self.updateData.call(self, data);\n\t      });\n\t\n\t      recipient = this.props.gameState.recipient;\n\t\n\t      self.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false,\n\t        recipient: recipient,\n\t        opts: opts\n\t      }, function () {\n\t        self.refs.drawer && self.refs.drawer.start();\n\t      });\n\t\n\t      if (!self.state.started) {\n\t        self.start();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'suggestFriends',\n\t    value: function suggestFriends() {\n\t      window.open(window.location.origin.replace('games-', '') + '/friends/suggested');\n\t    }\n\t  }, {\n\t    key: 'save',\n\t    value: function save() {\n\t      skoash.trigger('goto', {\n\t        index: 'canvas'\n\t      });\n\t      skoash.trigger('openMenu', { id: 'save' });\n\t    }\n\t  }, {\n\t    key: 'renderOtter',\n\t    value: function renderOtter() {\n\t      var copy, src;\n\t\n\t      src = 'One';\n\t      copy = React.createElement(\n\t        'span',\n\t        null,\n\t        'Don\\'t have',\n\t        React.createElement('br', null),\n\t        ' friends yet?',\n\t        React.createElement('br', null),\n\t        React.createElement('br', null),\n\t        ' Let me suggest',\n\t        React.createElement('br', null),\n\t        ' some for you.'\n\t      );\n\t\n\t      if (this.state.data && this.state.data.length) {\n\t        src = 'Two';\n\t        copy = React.createElement(\n\t          'span',\n\t          null,\n\t          'Let me find a friend',\n\t          React.createElement('br', null),\n\t          ' to send your message to.'\n\t        );\n\t      }\n\t\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'otter-container ' + src },\n\t        React.createElement(skoash.Image, { className: 'otter', src: 'media/_Otter/Otter_Static_Greeting' + src + '.png' }),\n\t        React.createElement(\n\t          'div',\n\t          { className: 'bubble' },\n\t          copy\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderFriends',\n\t    value: function renderFriends() {\n\t      if (this.state.data && this.state.data.length) {\n\t        return React.createElement(_sharedComponentsItem_drawer01Js2['default'], {\n\t          ref: 'drawer',\n\t          scrollbarImg: './media/_Buttons/sk_btn_slider.png',\n\t          selectRespond: this.selectRespond.bind(this),\n\t          cancelRespond: this.back,\n\t          categories: this.state.opts.categories,\n\t          data: this.state.data,\n\t          selectedItem: this.state.recipient,\n\t          buttons: this.buttons,\n\t          complete: true,\n\t          className: this.state.opts.goto\n\t        });\n\t      }\n\t\n\t      return React.createElement(\n\t        'div',\n\t        { className: this.state.opts.goto },\n\t        React.createElement(\n\t          'div',\n\t          { className: 'item-drawer-container' },\n\t          React.createElement(\n\t            'div',\n\t            { className: 'suggest-friends-buttons' },\n\t            React.createElement('button', { className: 'continue', onClick: this.selectRespond.bind(this, {}) }),\n\t            React.createElement('button', { className: 'suggest', onClick: this.suggestFriends }),\n\t            React.createElement('button', { className: 'save-to-drafts', onClick: this.save })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement('div', { className: 'header' }),\n\t        this.renderOtter(),\n\t        this.renderFriends()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return FriendScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(FriendScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'friends',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsSelectable_reveal01Js = __webpack_require__(16);\n\t\n\tvar _sharedComponentsSelectable_reveal01Js2 = _interopRequireDefault(_sharedComponentsSelectable_reveal01Js);\n\t\n\tvar _sharedComponentsInbox01Js = __webpack_require__(8);\n\t\n\tvar _sharedComponentsInbox01Js2 = _interopRequireDefault(_sharedComponentsInbox01Js);\n\t\n\tvar _sharedComponentsSaved_messages01Js = __webpack_require__(14);\n\t\n\tvar _sharedComponentsSaved_messages01Js2 = _interopRequireDefault(_sharedComponentsSaved_messages01Js);\n\t\n\tvar inboxEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You haven\\'t received any Skribbles!',\n\t  React.createElement('br', null),\n\t  'Get started by sending some!'\n\t);\n\tvar unreadEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You don\\'t have any',\n\t  React.createElement('br', null),\n\t  'unread Skribbles!'\n\t);\n\tvar readEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You don\\'t have any',\n\t  React.createElement('br', null),\n\t  'read Skribbles!'\n\t);\n\tvar sentEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You haven\\'t sent any Skribbles.',\n\t  React.createElement('br', null),\n\t  'Let\\'s get started!'\n\t);\n\tvar draftsEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You don\\'t have any drafts.',\n\t  React.createElement('br', null),\n\t  'Start Skribbling!'\n\t);\n\t\n\tvar InboxScreen = (function (_skoash$Screen) {\n\t  _inherits(InboxScreen, _skoash$Screen);\n\t\n\t  function InboxScreen() {\n\t    _classCallCheck(this, InboxScreen);\n\t\n\t    _get(Object.getPrototypeOf(InboxScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      load: true\n\t    };\n\t\n\t    this.selectableList = [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)];\n\t\n\t    this.revealList = this.getRevealList();\n\t\n\t    this.readMessage = this.readMessage.bind(this);\n\t    this.editMessage = this.editMessage.bind(this);\n\t  }\n\t\n\t  _createClass(InboxScreen, [{\n\t    key: 'getRevealList',\n\t    value: function getRevealList(inbox, outbox, saved) {\n\t      var read,\n\t          unread,\n\t          props = this.props || {};\n\t\n\t      inbox = inbox || [];\n\t\n\t      read = inbox.filter(function (item) {\n\t        return item.read;\n\t      });\n\t\n\t      unread = inbox.filter(function (item) {\n\t        return !item.read;\n\t      });\n\t\n\t      return [React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_sharedComponentsInbox01Js2['default'], {\n\t          'data-ref': 'inbox',\n\t          data: {\n\t            items: inbox || []\n\t          },\n\t          emptyMessage: inboxEmptyMessage,\n\t          selectRespond: this.readMessage,\n\t          gameState: props.gameState\n\t        })\n\t      ), React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_sharedComponentsInbox01Js2['default'], {\n\t          'data-ref': 'unread',\n\t          data: {\n\t            items: unread || []\n\t          },\n\t          emptyMessage: unreadEmptyMessage,\n\t          selectRespond: this.readMessage,\n\t          gameState: props.gameState\n\t        })\n\t      ), React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_sharedComponentsInbox01Js2['default'], {\n\t          'data-ref': 'read',\n\t          data: {\n\t            items: read || []\n\t          },\n\t          emptyMessage: readEmptyMessage,\n\t          selectRespond: this.readMessage,\n\t          gameState: props.gameState\n\t        })\n\t      ), React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_sharedComponentsInbox01Js2['default'], {\n\t          'data-ref': 'outbox',\n\t          data: {\n\t            items: outbox || []\n\t          },\n\t          emptyMessage: sentEmptyMessage,\n\t          friendKey: 'friend_to',\n\t          selectRespond: this.readMessage,\n\t          gameState: props.gameState\n\t        })\n\t      ), React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_sharedComponentsSaved_messages01Js2['default'], {\n\t          'data-ref': 'saved',\n\t          data: {\n\t            items: saved || []\n\t          },\n\t          emptyMessage: draftsEmptyMessage,\n\t          selectRespond: this.editMessage\n\t        })\n\t      )];\n\t    }\n\t  }, {\n\t    key: 'editMessage',\n\t    value: function editMessage(message) {\n\t      skoash.trigger('loadSkribble', {\n\t        message: message\n\t      });\n\t    }\n\t  }, {\n\t    key: 'readMessage',\n\t    value: function readMessage(message) {\n\t      skoash.trigger('goto', {\n\t        index: 'read',\n\t        message: message\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateData',\n\t    value: function updateData() {\n\t      var data, inbox, outbox, saved;\n\t\n\t      data = this.props.gameState.data;\n\t      inbox = data.received;\n\t      outbox = data.sent;\n\t      saved = data.draft;\n\t\n\t      this.revealList = this.getRevealList(inbox, outbox, saved);\n\t\n\t      this.setState({\n\t        inbox: inbox,\n\t        outbox: outbox,\n\t        saved: saved\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open() {\n\t      var self = this;\n\t\n\t      skoash.trigger('getData', {\n\t        status: 'received'\n\t      }).then(function () {\n\t        self.updateData();\n\t      });\n\t\n\t      skoash.trigger('getData', {\n\t        status: 'sent'\n\t      }).then(function () {\n\t        self.updateData();\n\t      });\n\t\n\t      skoash.trigger('getData', {\n\t        status: 'draft'\n\t      }).then(function () {\n\t        self.updateData();\n\t      });\n\t\n\t      self.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false\n\t      });\n\t\n\t      setTimeout(function () {\n\t        if (!self.state.started) {\n\t          self.start();\n\t        }\n\t      }, 250);\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'div',\n\t          { className: 'center' },\n\t          React.createElement(\n\t            'div',\n\t            { className: 'frame' },\n\t            React.createElement(_sharedComponentsSelectable_reveal01Js2['default'], {\n\t              ref: 'selectableReveal',\n\t              selectableList: this.selectableList,\n\t              revealList: this.revealList,\n\t              selectOnStart: '0',\n\t              openOnStart: '0'\n\t            })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return InboxScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(InboxScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'inbox',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsItem_drawer01Js = __webpack_require__(5);\n\t\n\tvar _sharedComponentsItem_drawer01Js2 = _interopRequireDefault(_sharedComponentsItem_drawer01Js);\n\t\n\tvar ItemDrawerScreen = (function (_skoash$Screen) {\n\t  _inherits(ItemDrawerScreen, _skoash$Screen);\n\t\n\t  function ItemDrawerScreen() {\n\t    _classCallCheck(this, ItemDrawerScreen);\n\t\n\t    _get(Object.getPrototypeOf(ItemDrawerScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      opts: {\n\t        categories: []\n\t      }\n\t    };\n\t  }\n\t\n\t  _createClass(ItemDrawerScreen, [{\n\t    key: 'selectRespond',\n\t    value: function selectRespond(message) {\n\t      skoash.trigger('pass-data', {\n\t        name: 'add-item',\n\t        message: message\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateData',\n\t    value: function updateData(d) {\n\t      var data = d ? d : this.props.gameState.data.menu.items;\n\t\n\t      this.state.opts.categories.forEach(function (key) {\n\t        if (data[key]) data = data[key];\n\t        if (data.items) data = data.items;\n\t      });\n\t\n\t      data = _.values(data);\n\t\n\t      this.setState({\n\t        data: data\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(opts) {\n\t      var self = this;\n\t\n\t      skoash.trigger('getMedia', {\n\t        path: 'skribble/menu/' + opts.categories.join('/')\n\t      }).then(function (data) {\n\t        self.updateData(data);\n\t      });\n\t\n\t      self.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false,\n\t        opts: opts,\n\t        data: null\n\t      }, function () {\n\t        self.updateData();\n\t      });\n\t\n\t      setTimeout(function () {\n\t        if (!self.state.started) {\n\t          self.start();\n\t        }\n\t      }, 250);\n\t    }\n\t  }, {\n\t    key: 'cancelRespond',\n\t    value: function cancelRespond() {\n\t      if (this.state.category) {\n\t        this.setState({\n\t          category: '',\n\t          categoryName: ''\n\t        });\n\t      } else {\n\t        skoash.trigger('goto', { index: 'canvas' });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(_sharedComponentsItem_drawer01Js2['default'], {\n\t          ref: 'drawer',\n\t          scrollbarImg: './media/_Buttons/sk_btn_slider.png',\n\t          selectRespond: this.selectRespond.bind(this),\n\t          cancelRespond: this.cancelRespond,\n\t          categories: this.state.opts.categories,\n\t          data: this.state.data\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ItemDrawerScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(ItemDrawerScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'item-drawer',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar MenuScreen = (function (_skoash$Screen) {\n\t  _inherits(MenuScreen, _skoash$Screen);\n\t\n\t  function MenuScreen() {\n\t    _classCallCheck(this, MenuScreen);\n\t\n\t    _get(Object.getPrototypeOf(MenuScreen.prototype), \"constructor\", this).apply(this, arguments);\n\t  }\n\t\n\t  _createClass(MenuScreen, [{\n\t    key: \"renderContent\",\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        \"div\",\n\t        null,\n\t        React.createElement(skoash.Image, { className: \"hidden\", src: \"media/_Background/SK_BKG_1.png\" }),\n\t        React.createElement(skoash.Image, { className: \"otter\", src: \"media/_Otter/Waving_Otter2.gif\" }),\n\t        React.createElement(\n\t          \"div\",\n\t          { className: \"bubble\" },\n\t          \"Hi there!\",\n\t          React.createElement(\"br\", null),\n\t          \"What would you\",\n\t          React.createElement(\"br\", null),\n\t          \"like to do today?\"\n\t        ),\n\t        React.createElement(\n\t          \"div\",\n\t          { className: \"buttons\" },\n\t          React.createElement(\"button\", { className: \"make\", onClick: this.goto.bind(this, 'friend') }),\n\t          React.createElement(\"button\", { className: \"read\", onClick: this.goto.bind(this, 'inbox') })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return MenuScreen;\n\t})(skoash.Screen);\n\t\n\texports[\"default\"] = function (props, ref, key) {\n\t  return React.createElement(MenuScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: \"menu\",\n\t    hidePrev: true,\n\t    hideNext: true,\n\t    load: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsCanvas01 = __webpack_require__(4);\n\t\n\tvar _sharedComponentsCanvas012 = _interopRequireDefault(_sharedComponentsCanvas01);\n\t\n\tvar _sharedComponentsSelectable01Js = __webpack_require__(2);\n\t\n\tvar _sharedComponentsSelectable01Js2 = _interopRequireDefault(_sharedComponentsSelectable01Js);\n\t\n\tvar classNameText = {\n\t  skribbleBox: 'skribble-box',\n\t  box: 'box',\n\t  leftMenu: 'menu left-menu',\n\t  rightMenu: 'menu right-menu'\n\t};\n\t\n\tvar refs = {\n\t  box: 'box',\n\t  canvas: 'canvas'\n\t};\n\t\n\tvar PreviewScreen = (function (_skoash$Screen) {\n\t  _inherits(PreviewScreen, _skoash$Screen);\n\t\n\t  function PreviewScreen() {\n\t    _classCallCheck(this, PreviewScreen);\n\t\n\t    _get(Object.getPrototypeOf(PreviewScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      load: true,\n\t      opts: {}\n\t    };\n\t\n\t    this.leftMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'edit', onClick: this.goto.bind(this, 'canvas') },\n\t      React.createElement('span', null)\n\t    )];\n\t\n\t    this.rightMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'send', onClick: this.goto.bind(this, 'send') },\n\t      React.createElement('span', null)\n\t    )];\n\t  }\n\t\n\t  _createClass(PreviewScreen, [{\n\t    key: 'open',\n\t    value: function open(opts) {\n\t      var _this = this;\n\t\n\t      skoash.trigger('getRules').then(function (rules) {\n\t        _this.refs[refs.box].refs[refs.canvas].setItems(rules);\n\t        _get(Object.getPrototypeOf(PreviewScreen.prototype), 'open', _this).call(_this, opts);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          skoash.Component,\n\t          { ref: refs.box, className: classNameText.skribbleBox },\n\t          React.createElement(_sharedComponentsCanvas012['default'], { ref: refs.canvas, preview: true }),\n\t          React.createElement('div', { className: classNameText.box })\n\t        ),\n\t        React.createElement(_sharedComponentsSelectable01Js2['default'], { className: classNameText.leftMenu, list: this.leftMenuList }),\n\t        React.createElement(_sharedComponentsSelectable01Js2['default'], { className: classNameText.rightMenu, list: this.rightMenuList })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return PreviewScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(PreviewScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'preview',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _sharedComponentsSelectable01Js = __webpack_require__(2);\n\t\n\tvar _sharedComponentsSelectable01Js2 = _interopRequireDefault(_sharedComponentsSelectable01Js);\n\t\n\tvar classNameText = {\n\t  skribbleBox: 'skribble-box',\n\t  box: 'box',\n\t  leftMenu: 'menu left-menu',\n\t  rightMenu: 'menu right-menu',\n\t  sender: 'menu recipient sender'\n\t};\n\t\n\tvar refs = {\n\t  box: 'box'\n\t};\n\t\n\tvar ReadScreen = (function (_skoash$Screen) {\n\t  _inherits(ReadScreen, _skoash$Screen);\n\t\n\t  function ReadScreen() {\n\t    _classCallCheck(this, ReadScreen);\n\t\n\t    _get(Object.getPrototypeOf(ReadScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state.load = true;\n\t    this.state.message = { user: {} };\n\t\n\t    this.leftMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'inbox', onClick: this.goto.bind(this, 'inbox') },\n\t      React.createElement('span', null)\n\t    )];\n\t\n\t    this.rightMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'reply', onClick: this.reply.bind(this) },\n\t      React.createElement('span', null)\n\t    )];\n\t  }\n\t\n\t  _createClass(ReadScreen, [{\n\t    key: 'reply',\n\t    value: function reply() {\n\t      skoash.trigger('passData', {\n\t        name: 'add-recipient',\n\t        message: this.state.message.created_by\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(opts) {\n\t      var message, friends, creater;\n\t\n\t      message = opts.message || {};\n\t\n\t      friends = this.props.gameState.data.user || [];\n\t      friends.forEach(function (friend) {\n\t        if (message.created_by === friend.friend_id) {\n\t          creater = friend;\n\t        }\n\t      });\n\t\n\t      this.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false,\n\t        message: message,\n\t        creater: creater\n\t      });\n\t\n\t      this.start();\n\t\n\t      skoash.trigger('getData', {\n\t        name: 'markAsRead',\n\t        'skribble_id': message.skribble_id\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getSenderClassNames',\n\t    value: function getSenderClassNames() {\n\t      return (0, _classnames2['default'])(classNameText.sender, {\n\t        HIDE: !this.state.creater || this.state.message.sent\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderSender',\n\t    value: function renderSender() {\n\t      var creater,\n\t          content = [];\n\t\n\t      creater = this.state.creater;\n\t\n\t      if (!creater) return;\n\t\n\t      if (creater.username) {\n\t        content.push(React.createElement(\n\t          'span',\n\t          { className: 'name' },\n\t          creater.username\n\t        ));\n\t      }\n\t\n\t      if (creater._embedded.image) {\n\t        content.push(React.createElement('img', { className: 'profile-image', src: creater._embedded.image.url }));\n\t      }\n\t\n\t      return content;\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'ul',\n\t          { className: this.getSenderClassNames() },\n\t          React.createElement(\n\t            'li',\n\t            null,\n\t            React.createElement(\n\t              'span',\n\t              null,\n\t              this.renderSender()\n\t            )\n\t          )\n\t        ),\n\t        React.createElement(\n\t          skoash.Component,\n\t          { ref: refs.box, className: classNameText.skribbleBox },\n\t          React.createElement(skoash.Image, { src: this.state.message.url }),\n\t          React.createElement('div', { className: classNameText.box })\n\t        ),\n\t        React.createElement(_sharedComponentsSelectable01Js2['default'], { className: classNameText.leftMenu, list: this.leftMenuList }),\n\t        React.createElement(_sharedComponentsSelectable01Js2['default'], { className: classNameText.rightMenu, list: this.rightMenuList })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ReadScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(ReadScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'read',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SaveMenu = (function (_skoash$Screen) {\n\t  _inherits(SaveMenu, _skoash$Screen);\n\t\n\t  function SaveMenu() {\n\t    _classCallCheck(this, SaveMenu);\n\t\n\t    _get(Object.getPrototypeOf(SaveMenu.prototype), \"constructor\", this).apply(this, arguments);\n\t  }\n\t\n\t  _createClass(SaveMenu, [{\n\t    key: \"cancel\",\n\t    value: function cancel() {\n\t      this.close();\n\t      skoash.trigger('menuClose', {\n\t        id: this.state.id\n\t      });\n\t    }\n\t  }, {\n\t    key: \"render\",\n\t    value: function render() {\n\t      return React.createElement(\n\t        \"div\",\n\t        { id: this.props.id, className: this.getClassNames() },\n\t        React.createElement(\n\t          \"div\",\n\t          { className: \"center\" },\n\t          React.createElement(\n\t            \"div\",\n\t            { className: \"frame\" },\n\t            React.createElement(\"button\", { className: \"quit-saved\", onClick: this.cancel.bind(this) }),\n\t            React.createElement(\n\t              \"h2\",\n\t              null,\n\t              \"Your progress\"\n\t            ),\n\t            React.createElement(\n\t              \"h2\",\n\t              null,\n\t              \"has been saved\"\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SaveMenu;\n\t})(skoash.Screen);\n\t\n\texports[\"default\"] = React.createElement(SaveMenu, {\n\t  id: \"save\"\n\t});\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsSelectable01Js = __webpack_require__(2);\n\t\n\tvar _sharedComponentsSelectable01Js2 = _interopRequireDefault(_sharedComponentsSelectable01Js);\n\t\n\tvar classNameText = {\n\t  yourMessageTo: 'your-message-to',\n\t  isReady: 'is-ready',\n\t  changeFriend: 'change-friend',\n\t  character: 'character',\n\t  gift: 'gift',\n\t  header: 'header',\n\t  username: 'username'\n\t};\n\t\n\tvar SendScreen = (function (_skoash$Screen) {\n\t  _inherits(SendScreen, _skoash$Screen);\n\t\n\t  function SendScreen() {\n\t    _classCallCheck(this, SendScreen);\n\t\n\t    _get(Object.getPrototypeOf(SendScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state.load = true;\n\t    this.state.recipient = {};\n\t\n\t    this.rightMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'edit-right', onClick: this.goto.bind(this, 'canvas') },\n\t      React.createElement('span', null)\n\t    ), React.createElement(\n\t      'li',\n\t      { className: 'send', onClick: this.send },\n\t      React.createElement('span', null)\n\t    )];\n\t  }\n\t\n\t  _createClass(SendScreen, [{\n\t    key: 'open',\n\t    value: function open() {\n\t      var recipient = this.props.gameState.recipient || {};\n\t\n\t      this.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false,\n\t        recipient: recipient\n\t      });\n\t\n\t      this.start();\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send() {\n\t      skoash.trigger('pass-data', {\n\t        name: 'send'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      var changeFriendClick = this.goto.bind(this, {\n\t        index: 'friend',\n\t        goto: 'send'\n\t      });\n\t\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'div',\n\t          { className: classNameText.header },\n\t          React.createElement('span', { className: classNameText.yourMessageTo }),\n\t          React.createElement(\n\t            'span',\n\t            { className: classNameText.username },\n\t            this.state.recipient.name\n\t          ),\n\t          React.createElement('br', null),\n\t          React.createElement('span', { className: classNameText.isReady }),\n\t          React.createElement('button', { className: classNameText.changeFriend, onClick: changeFriendClick })\n\t        ),\n\t        React.createElement(\n\t          'div',\n\t          { className: classNameText.character },\n\t          React.createElement(skoash.Image, { className: 'otter', src: 'media/_Otter/Otter_Static_GreetingTwo.png' }),\n\t          React.createElement(\n\t            'div',\n\t            { className: 'bubble' },\n\t            'Are you sure',\n\t            React.createElement('br', null),\n\t            'you are ready to',\n\t            React.createElement('br', null),\n\t            'send your message?'\n\t          )\n\t        ),\n\t        React.createElement('div', { className: classNameText.gift }),\n\t        React.createElement(_sharedComponentsSelectable01Js2['default'], { className: 'menu right-menu', list: this.rightMenuList })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SendScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(SendScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'send',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t  character: 'character',\n\t  header: 'header',\n\t  yourMessageTo: 'your-message-to',\n\t  username: 'username',\n\t  isReady: 'is-ready',\n\t  buttons: 'buttons',\n\t  createAnother: 'create-another',\n\t  inbox: 'inbox'\n\t};\n\t\n\tvar text = {\n\t  yourMessageTo: 'YOUR MESSAGE TO:',\n\t  hasBeenSent: 'IS BEING SENT!'\n\t};\n\t\n\tvar SentScreen = (function (_skoash$Screen) {\n\t  _inherits(SentScreen, _skoash$Screen);\n\t\n\t  function SentScreen() {\n\t    _classCallCheck(this, SentScreen);\n\t\n\t    _get(Object.getPrototypeOf(SentScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      load: true,\n\t      opts: {\n\t        recipient: {}\n\t      }\n\t    };\n\t  }\n\t\n\t  _createClass(SentScreen, [{\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement('div', { className: classNameText.character }),\n\t        React.createElement(\n\t          'div',\n\t          { className: classNameText.header },\n\t          React.createElement(\n\t            'span',\n\t            { className: classNameText.yourMessageTo },\n\t            text.yourMessageTo\n\t          ),\n\t          React.createElement(\n\t            'span',\n\t            { className: classNameText.username },\n\t            this.state.opts.recipient.name\n\t          ),\n\t          React.createElement('br', null),\n\t          React.createElement(\n\t            'span',\n\t            { className: classNameText.isReady },\n\t            text.hasBeenSent\n\t          )\n\t        ),\n\t        React.createElement(\n\t          'div',\n\t          { className: classNameText.buttons },\n\t          React.createElement('button', { className: classNameText.createAnother, onClick: this.goto.bind(this, 'friend') }),\n\t          React.createElement('button', { className: classNameText.inbox, onClick: this.goto.bind(this, 'inbox') })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SentScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(SentScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'sent',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports[\"default\"] = function (props, ref, key) {\n\t  return React.createElement(\n\t    skoash.Screen,\n\t    _extends({}, props, {\n\t      ref: ref,\n\t      key: key,\n\t      id: \"title\",\n\t      hidePrev: true,\n\t      nextDelay: 1000,\n\t      nextIndex: \"menu\"\n\t    }),\n\t    React.createElement(skoash.Image, {\n\t      ref: \"title\",\n\t      className: \"title animated\",\n\t      src: \"media/_Title/SKribble_title.png\"\n\t    }),\n\t    React.createElement(skoash.Image, {\n\t      ref: \"play\",\n\t      className: \"hidden\",\n\t      src: \"media/_Buttons/skribble-play-01.png\"\n\t    }),\n\t    React.createElement(skoash.Image, {\n\t      ref: \"play-hover\",\n\t      className: \"hidden\",\n\t      src: \"media/_Buttons/skribble-hover.png\"\n\t    })\n\t  );\n\t};\n\t\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\tvar config = {\n\t  id: 'skribble',\n\t  version: 1,\n\t  skoash: '1.0.3',\n\t  dimensions: {\n\t    width: 1600,\n\t    ratio: 16 / 9\n\t  }\n\t};\n\t\n\texports['default'] = config;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _configGame = __webpack_require__(28);\n\t\n\tvar _configGame2 = _interopRequireDefault(_configGame);\n\t\n\tvar _sharedComponentsLoader01 = __webpack_require__(10);\n\t\n\tvar _sharedComponentsLoader012 = _interopRequireDefault(_sharedComponentsLoader01);\n\t\n\tvar _sharedComponentsIos_splash_screen01 = __webpack_require__(9);\n\t\n\tvar _sharedComponentsIos_splash_screen012 = _interopRequireDefault(_sharedComponentsIos_splash_screen01);\n\t\n\tvar _componentsTitle_screen = __webpack_require__(27);\n\t\n\tvar _componentsTitle_screen2 = _interopRequireDefault(_componentsTitle_screen);\n\t\n\tvar _componentsMenu_screen = __webpack_require__(21);\n\t\n\tvar _componentsMenu_screen2 = _interopRequireDefault(_componentsMenu_screen);\n\t\n\tvar _componentsFriend_screen = __webpack_require__(18);\n\t\n\tvar _componentsFriend_screen2 = _interopRequireDefault(_componentsFriend_screen);\n\t\n\tvar _componentsCanvas_screen = __webpack_require__(17);\n\t\n\tvar _componentsCanvas_screen2 = _interopRequireDefault(_componentsCanvas_screen);\n\t\n\tvar _componentsItem_drawer_screen = __webpack_require__(20);\n\t\n\tvar _componentsItem_drawer_screen2 = _interopRequireDefault(_componentsItem_drawer_screen);\n\t\n\tvar _componentsInbox_screen = __webpack_require__(19);\n\t\n\tvar _componentsInbox_screen2 = _interopRequireDefault(_componentsInbox_screen);\n\t\n\tvar _componentsPreview_screen = __webpack_require__(22);\n\t\n\tvar _componentsPreview_screen2 = _interopRequireDefault(_componentsPreview_screen);\n\t\n\tvar _componentsSend_screen = __webpack_require__(25);\n\t\n\tvar _componentsSend_screen2 = _interopRequireDefault(_componentsSend_screen);\n\t\n\tvar _componentsSent_screen = __webpack_require__(26);\n\t\n\tvar _componentsSent_screen2 = _interopRequireDefault(_componentsSent_screen);\n\t\n\tvar _componentsRead_screen = __webpack_require__(23);\n\t\n\tvar _componentsRead_screen2 = _interopRequireDefault(_componentsRead_screen);\n\t\n\tvar _sharedComponentsQuit_screen01 = __webpack_require__(12);\n\t\n\tvar _sharedComponentsQuit_screen012 = _interopRequireDefault(_sharedComponentsQuit_screen01);\n\t\n\tvar _componentsSave_menu = __webpack_require__(24);\n\t\n\tvar _componentsSave_menu2 = _interopRequireDefault(_componentsSave_menu);\n\t\n\tvar DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\t\n\tvar SkribbleGame = (function (_skoash$Game) {\n\t  _inherits(SkribbleGame, _skoash$Game);\n\t\n\t  function SkribbleGame() {\n\t    _classCallCheck(this, SkribbleGame);\n\t\n\t    _get(Object.getPrototypeOf(SkribbleGame.prototype), 'constructor', this).apply(this, arguments);\n\t  }\n\t\n\t  _createClass(SkribbleGame, [{\n\t    key: 'ready',\n\t    value: function ready() {\n\t      if (!this.state.ready) {\n\t        this.getMediaOnReady();\n\t        this.getFriends();\n\t      }\n\t\n\t      _get(Object.getPrototypeOf(SkribbleGame.prototype), 'ready', this).call(this);\n\t    }\n\t  }, {\n\t    key: 'getRules',\n\t    value: function getRules() {\n\t      return this.refs['screen-canvas'].getData();\n\t    }\n\t  }, {\n\t    key: 'save',\n\t    value: function save(e, skramble) {\n\t      /* eslint-disable camelcase */\n\t      var friend_to,\n\t          rules,\n\t          self = this;\n\t      friend_to = self.state.recipient && self.state.recipient.user_id ? self.state.recipient.user_id : null;\n\t      rules = self.getRules();\n\t      var skribble = _extends({\n\t        'version': _configGame2['default'].version\n\t      }, self.state.skribbleData, {\n\t        friend_to: friend_to,\n\t        skramble: skramble,\n\t        rules: rules\n\t      });\n\t\n\t      if (!rules.background && !rules.items.length && !rules.messages.length) {\n\t        return;\n\t      }\n\t\n\t      if (JSON.stringify(skribble) !== JSON.stringify(this.state.skribble)) {\n\t        self.emit({\n\t          name: 'saveSkribble',\n\t          game: self.config.id,\n\t          skribble: skribble\n\t        }).then(function (skribbleData) {\n\t          self.setState({\n\t            skribbleData: skribbleData,\n\t            skribble: skribble\n\t          });\n\t        });\n\t      }\n\t      /* eslint-enable camelcase */\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send() {\n\t      this.save(null, true);\n\t\n\t      this.refs['screen-canvas'].reset();\n\t      this.goto({\n\t        index: 'sent',\n\t        recipient: this.state.recipient\n\t      });\n\t\n\t      this.setState({\n\t        recipient: null,\n\t        skribbleData: null\n\t      });\n\t    }\n\t  }, {\n\t    key: 'trigger',\n\t    value: function trigger(event, opts) {\n\t      switch (event) {\n\t        case 'save':\n\t          return this.save();\n\t        case 'getMedia':\n\t          return this.getMedia(opts.path);\n\t        case 'getRules':\n\t          return this.getRules();\n\t        case 'loadSkribble':\n\t          return this.loadSkribble(opts);\n\t      }\n\t\n\t      return _get(Object.getPrototypeOf(SkribbleGame.prototype), 'trigger', this).call(this, event, opts);\n\t    }\n\t  }, {\n\t    key: 'loadSkribble',\n\t    value: function loadSkribble(opts) {\n\t      var _this = this;\n\t\n\t      this.setState({\n\t        skribbleData: opts.message\n\t      }, function () {\n\t        _this.refs['screen-canvas'].addItems(opts.message);\n\t        _this.goto({\n\t          index: 'canvas',\n\t          draft: true\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getMedia',\n\t    value: function getMedia(path) {\n\t      var pathArray,\n\t          self = this;\n\t\n\t      path = path || 'skribble/menu';\n\t      pathArray = path.split('/');\n\t      pathArray.shift();\n\t\n\t      return self.emit({\n\t        name: 'getMedia',\n\t        path: path\n\t      }).then(function (d) {\n\t        var opts, currentOpts;\n\t        opts = {\n\t          data: {},\n\t          callback: function callback() {\n\t            self.refs['screen-canvas'].setMenu();\n\t            self.refs['screen-item-drawer'].updateData();\n\t          }\n\t        };\n\t        currentOpts = opts.data;\n\t\n\t        pathArray.forEach(function (key, index) {\n\t          currentOpts[key] = {\n\t            items: {}\n\t          };\n\t          if (index !== pathArray.length - 1) {\n\t            currentOpts = currentOpts[key].items;\n\t          }\n\t        });\n\t\n\t        currentOpts[pathArray[pathArray.length - 1]] = _.clone(d);\n\t        currentOpts[pathArray[pathArray.length - 1]].items = {};\n\t\n\t        if (d.items) {\n\t          d.items.forEach(function (item) {\n\t            if (item.asset_type === 'folder' && item.name) {\n\t              self.getMedia(path + '/' + item.name);\n\t            } else {\n\t              currentOpts[pathArray[pathArray.length - 1]].items[item.name] = item;\n\t            }\n\t          });\n\t        }\n\t\n\t        self.updateData(opts);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getData',\n\t    value: function getData(opts) {\n\t      var _this2 = this;\n\t\n\t      var names = ['getFriends', 'getFriend', 'markAsRead'];\n\t\n\t      if (names.indexOf(opts.name) === -1) {\n\t        opts.name = 'getData';\n\t      }\n\t\n\t      return this.emit(opts).then(function (data) {\n\t        if (opts.status) {\n\t          data[opts.status] = data.skribble;\n\t          delete data.skribble;\n\t          _this2.updateData({\n\t            data: data\n\t          });\n\t        } else {\n\t          _this2.updateData({\n\t            data: data,\n\t            callback: opts.callback\n\t          });\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'addRecipient',\n\t    value: function addRecipient(recipient, cb) {\n\t      var _this3 = this;\n\t\n\t      var src;\n\t\n\t      if (recipient.src) {\n\t        recipient.profile_image = recipient.src; // eslint-disable-line camelcase\n\t        delete recipient.src;\n\t      } else if (typeof recipient === 'string') {\n\t        if (this.state.data && this.state.data.user) {\n\t          this.state.data.user.some(function (friend) {\n\t            if (friend.friend_id === recipient) {\n\t              recipient = friend;\n\t              return true;\n\t            }\n\t            return false;\n\t          });\n\t        }\n\t      }\n\t\n\t      if (typeof recipient === 'string') {\n\t        this.getData({\n\t          name: 'getFriend',\n\t          'friend_id': recipient,\n\t          callback: function callback() {\n\t            _this3.addRecipient(recipient, cb);\n\t          }\n\t        });\n\t      } else {\n\t        src = recipient && recipient._embedded && recipient._embedded.image && recipient._embedded.image.url ? recipient._embedded.image.url : recipient.profile_image || DEFAULT_PROFILE_IMAGE;\n\t        this.setState({\n\t          recipient: {\n\t            'user_id': recipient.user_id || recipient.friend_id,\n\t            name: recipient.name || recipient.username,\n\t            src: src,\n\t            // I need to get the flips earned back from the backend to do this.\n\t            description: '',\n\t            // description: friend.flips_earned + ' Flips Earned',\n\t            'asset_type': 'friend'\n\t          }\n\t        }, cb);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'clickRecipient',\n\t    value: function clickRecipient() {\n\t      this.goto({\n\t        index: 'friend'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'create',\n\t    value: function create() {\n\t      if (this.state.recipient) {\n\t        this.goto({ index: 'canvas' });\n\t      } else {\n\t        this.goto({ index: 'friend' });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'saveButton',\n\t    value: function saveButton() {\n\t      this.save();\n\t      this.openMenu({ id: 'save' });\n\t    }\n\t  }, {\n\t    key: 'renderRecipient',\n\t    value: function renderRecipient() {\n\t      var recipient = this.state.recipient,\n\t          content = [];\n\t\n\t      if (!recipient) return;\n\t\n\t      if (recipient.name) {\n\t        content.push(React.createElement(\n\t          'span',\n\t          { className: 'name' },\n\t          recipient.name\n\t        ));\n\t      }\n\t\n\t      if (recipient.profile_image) {\n\t        content.push(React.createElement('img', { className: 'profile-image', src: recipient.profile_image }));\n\t      }\n\t\n\t      return content;\n\t    }\n\t  }]);\n\t\n\t  return SkribbleGame;\n\t})(skoash.Game);\n\t\n\tvar Skribble = React.createElement(SkribbleGame, {\n\t  config: _configGame2['default'],\n\t  screens: {\n\t    0: _sharedComponentsIos_splash_screen012['default'],\n\t    1: _componentsTitle_screen2['default'],\n\t    menu: _componentsMenu_screen2['default'],\n\t    friend: _componentsFriend_screen2['default'],\n\t    canvas: _componentsCanvas_screen2['default'],\n\t    'item-drawer': _componentsItem_drawer_screen2['default'],\n\t    inbox: _componentsInbox_screen2['default'],\n\t    preview: _componentsPreview_screen2['default'],\n\t    send: _componentsSend_screen2['default'],\n\t    sent: _componentsSent_screen2['default'],\n\t    read: _componentsRead_screen2['default']\n\t  },\n\t  menus: {\n\t    quit: _sharedComponentsQuit_screen012['default'],\n\t    save: _componentsSave_menu2['default']\n\t  },\n\t  loader: React.createElement(_sharedComponentsLoader012['default'], null),\n\t  assets: [React.createElement('div', { className: 'background-1' }), React.createElement('div', { className: 'background-2' }), React.createElement('div', { className: 'background-3' }), React.createElement('div', { className: 'background-4' }), React.createElement('div', { className: 'background-5' }), React.createElement('div', { className: 'background-6' })],\n\t  onBootstrap: function () {\n\t    this.getFriends = _.throttle(this.getData.bind(this, { name: 'getFriends' }), 1000);\n\t    this.getMediaOnReady = _.throttle(this.getMedia.bind(this), 1000);\n\t  },\n\t  renderMenu: function () {\n\t    return React.createElement(\n\t      'div',\n\t      null,\n\t      React.createElement(\n\t        'div',\n\t        { className: 'game-menu' },\n\t        React.createElement('button', { className: 'save', onClick: this.saveButton.bind(this) }),\n\t        React.createElement('button', { className: 'inbox', onClick: this.goto.bind(this, { index: 'inbox' }) }),\n\t        React.createElement('button', { className: 'create', onClick: this.create.bind(this) }),\n\t        React.createElement('button', { className: 'help', onClick: this.openMenu.bind(this, { id: 'help' }) }),\n\t        React.createElement('button', { className: 'close', onClick: this.openMenu.bind(this, { id: 'quit' }) })\n\t      ),\n\t      React.createElement(\n\t        'ul',\n\t        { className: 'menu recipient' },\n\t        React.createElement(\n\t          'li',\n\t          { onClick: this.clickRecipient.bind(this) },\n\t          React.createElement(\n\t            'span',\n\t            null,\n\t            this.renderRecipient()\n\t          )\n\t        )\n\t      )\n\t    );\n\t  },\n\t  getGotoOpts: function (opts) {\n\t    if (opts.index === 'send') {\n\t      if (!this.state.recipient || !this.state.recipient.name) {\n\t        opts.index = 'friend';\n\t        opts.goto = 'send';\n\t      }\n\t    }\n\t    return opts;\n\t  },\n\t  passData: function (opts) {\n\t    if (opts.name === 'add-item') {\n\t      this.refs['screen-canvas'].addItem(opts.message);\n\t      this.goto({ index: 'canvas' });\n\t    } else if (opts.name === 'add-recipient') {\n\t      this.addRecipient(opts.message, this.goto.bind(this, { index: opts.goto || 'canvas' }));\n\t    } else if (opts.name === 'send') {\n\t      this.send();\n\t    }\n\t  }\n\t});\n\t\n\tskoash.start(Skribble);\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tmodule.exports = __webpack_require__(33);\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar alphabet = __webpack_require__(3);\n\t\n\t/**\n\t * Decode the id to get the version and worker\n\t * Mainly for debugging and testing.\n\t * @param id - the shortid-generated id.\n\t */\n\tfunction decode(id) {\n\t    var characters = alphabet.shuffled();\n\t    return {\n\t        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n\t        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n\t    };\n\t}\n\t\n\tmodule.exports = decode;\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar randomByte = __webpack_require__(35);\n\t\n\tfunction encode(lookup, number) {\n\t    var loopCounter = 0;\n\t    var done;\n\t\n\t    var str = '';\n\t\n\t    while (!done) {\n\t        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n\t        done = number < (Math.pow(16, loopCounter + 1 ) );\n\t        loopCounter++;\n\t    }\n\t    return str;\n\t}\n\t\n\tmodule.exports = encode;\n\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar alphabet = __webpack_require__(3);\n\tvar encode = __webpack_require__(32);\n\tvar decode = __webpack_require__(31);\n\tvar isValid = __webpack_require__(34);\n\t\n\t// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n\t// This number should be updated every year or so to keep the generated id short.\n\t// To regenerate `new Date() - 0` and bump the version. Always bump the version!\n\tvar REDUCE_TIME = 1459707606518;\n\t\n\t// don't change unless we change the algos or REDUCE_TIME\n\t// must be an integer and less than 16\n\tvar version = 6;\n\t\n\t// if you are using cluster or multiple servers use this to make each instance\n\t// has a unique value for worker\n\t// Note: I don't know if this is automatically set when using third\n\t// party cluster solutions such as pm2.\n\tvar clusterWorkerId = __webpack_require__(37) || 0;\n\t\n\t// Counter is used when shortid is called multiple times in one second.\n\tvar counter;\n\t\n\t// Remember the last time shortid was called in case counter is needed.\n\tvar previousSeconds;\n\t\n\t/**\n\t * Generate unique id\n\t * Returns string id\n\t */\n\tfunction generate() {\n\t\n\t    var str = '';\n\t\n\t    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\t\n\t    if (seconds === previousSeconds) {\n\t        counter++;\n\t    } else {\n\t        counter = 0;\n\t        previousSeconds = seconds;\n\t    }\n\t\n\t    str = str + encode(alphabet.lookup, version);\n\t    str = str + encode(alphabet.lookup, clusterWorkerId);\n\t    if (counter > 0) {\n\t        str = str + encode(alphabet.lookup, counter);\n\t    }\n\t    str = str + encode(alphabet.lookup, seconds);\n\t\n\t    return str;\n\t}\n\t\n\t\n\t/**\n\t * Set the seed.\n\t * Highly recommended if you don't want people to try to figure out your id schema.\n\t * exposed as shortid.seed(int)\n\t * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n\t */\n\tfunction seed(seedValue) {\n\t    alphabet.seed(seedValue);\n\t    return module.exports;\n\t}\n\t\n\t/**\n\t * Set the cluster worker or machine id\n\t * exposed as shortid.worker(int)\n\t * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n\t * returns shortid module so it can be chained.\n\t */\n\tfunction worker(workerId) {\n\t    clusterWorkerId = workerId;\n\t    return module.exports;\n\t}\n\t\n\t/**\n\t *\n\t * sets new characters to use in the alphabet\n\t * returns the shuffled alphabet\n\t */\n\tfunction characters(newCharacters) {\n\t    if (newCharacters !== undefined) {\n\t        alphabet.characters(newCharacters);\n\t    }\n\t\n\t    return alphabet.shuffled();\n\t}\n\t\n\t\n\t// Export all other functions as properties of the generate function\n\tmodule.exports = generate;\n\tmodule.exports.generate = generate;\n\tmodule.exports.seed = seed;\n\tmodule.exports.worker = worker;\n\tmodule.exports.characters = characters;\n\tmodule.exports.decode = decode;\n\tmodule.exports.isValid = isValid;\n\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar alphabet = __webpack_require__(3);\n\t\n\tfunction isShortId(id) {\n\t    if (!id || typeof id !== 'string' || id.length < 6 ) {\n\t        return false;\n\t    }\n\t\n\t    var characters = alphabet.characters();\n\t    var len = id.length;\n\t    for(var i = 0; i < len;i++) {\n\t        if (characters.indexOf(id[i]) === -1) {\n\t            return false;\n\t        }\n\t    }\n\t    return true;\n\t}\n\t\n\tmodule.exports = isShortId;\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\t\n\tfunction randomByte() {\n\t    if (!crypto || !crypto.getRandomValues) {\n\t        return Math.floor(Math.random() * 256) & 0x30;\n\t    }\n\t    var dest = new Uint8Array(1);\n\t    crypto.getRandomValues(dest);\n\t    return dest[0] & 0x30;\n\t}\n\t\n\tmodule.exports = randomByte;\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// Found this seed-based random generator somewhere\n\t// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\t\n\tvar seed = 1;\n\t\n\t/**\n\t * return a random number based on a seed\n\t * @param seed\n\t * @returns {number}\n\t */\n\tfunction getNextValue() {\n\t    seed = (seed * 9301 + 49297) % 233280;\n\t    return seed/(233280.0);\n\t}\n\t\n\tfunction setSeed(_seed_) {\n\t    seed = _seed_;\n\t}\n\t\n\tmodule.exports = {\n\t    nextValue: getNextValue,\n\t    seed: setSeed\n\t};\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = 0;\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** skribble/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7799eb772b68cff72ae9\n **/","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/classnames/index.js\n ** module id = 1\n ** module chunks = 0\n **/","import classNames from 'classnames';\n\nclass Selectable extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      classes: {},\n      selectFunction: this.select,\n    };\n  }\n\n  start() {\n    var selectClass, selectFunction, classes = {};\n\n    selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n    selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\n    if (this.props.selectOnStart) {\n      classes[this.props.selectOnStart] = selectClass;\n    }\n\n    this.setState({\n      started: true,\n      classes,\n      selectFunction,\n      selectClass,\n    });\n\n    this.bootstrap();\n\n    Object.keys(this.refs).map(key => {\n      if (typeof this.refs[key].start === 'function') this.refs[key].start();\n    });\n  }\n\n  bootstrap() {\n    super.bootstrap();\n\n    var self = this;\n\n    var correctAnswers = this.requireForComplete.filter((ref) => {\n      return self.refs[ref].props.correct;\n    });\n\n    if (correctAnswers.length > 0) {\n      this.requireForComplete = correctAnswers;\n    }\n\n    if (this.refs.bin) {\n      this.setState({\n        list: this.refs.bin.getAll()\n      });\n    }\n  }\n\n  selectHelper(e, classes) {\n    var ref, dataRef, target, id, isCorrect, self = this;\n\n    target = e.target.closest('LI');\n\n    if (!target) return;\n\n    dataRef = target.getAttribute('data-ref');\n    ref = self.refs[dataRef];\n\n    isCorrect = (ref && ref.props && ref.props.correct) || (!self.props.answers || !self.props.answers.length || self.props.answers.indexOf(dataRef) !== -1);\n\n    if (self.props.allowDeselect && classes[dataRef]) {\n      delete classes[dataRef];\n    } else if (isCorrect) {\n      classes[dataRef] = self.state.selectClass;\n    }\n\n    self.setState({\n      classes,\n    });\n\n    self.props.selectRespond.call(self, dataRef);\n    self.props.onSelect.call(self, dataRef);\n\n    if (self.props.chooseOne) {\n      self.requireForComplete = [dataRef];\n    }\n\n    if (self.props.dataTarget) {\n      self.updateGameState({\n        path: self.props.dataTarget,\n        data: {\n          target: ref\n        }\n      });\n    }\n\n    if (self.props.completeListOnClick) {\n      self.requireForComplete.map(key => {\n        if (key === id && self.refs[id]) {\n          self.refs[id].complete();\n        }\n      });\n    }\n\n    self.requireForComplete.map(key => {\n      if (key === dataRef && self.refs[key]) {\n        self.refs[key].complete();\n      }\n    });\n  }\n\n  select(e) {\n    var classes = [];\n    this.selectHelper(e, classes);\n  }\n\n  highlight(e) {\n    var classes = this.state.classes;\n    this.selectHelper(e, classes);\n  }\n\n  getClass(key, li) {\n    return classNames(\n      li.props.className,\n      this.state.classes[key],\n      this.state.classes[li.props['data-ref']]\n    );\n  }\n\n  getClassNames() {\n    return classNames('selectable', super.getClassNames());\n  }\n\n  checkComplete() {\n    var self = this, complete;\n\n    if (this.props.checkComplete === false) return;\n\n    complete = self.requireForComplete.every(key => {\n      if (self.refs[key] instanceof Node) {\n        return true;\n      }\n      if (!self.refs[key].state || (self.refs[key].state && !self.refs[key].state.complete)) {\n        if (typeof self.refs[key].checkComplete === 'function') {\n          self.refs[key].checkComplete();\n        }\n        return false;\n      }\n      return true;\n    });\n\n    if (complete && !self.state.complete) {\n      self.complete();\n    } else if (self.state.started && !complete && self.state.complete) {\n      self.incomplete();\n    }\n  }\n\n  renderBin() {\n    if (!this.props.bin) return null;\n\n    return (\n      <this.props.bin.type\n        {...this.props.bin.props}\n        ref=\"bin\"\n      />\n    );\n  }\n\n  renderList() {\n    var list = this.props.list || this.state.list;\n    return list.map((li, key) => {\n      var dataRef = li.props['data-ref'] || key;\n      var ref = li.ref || li.props.id || dataRef;\n      var message = li.props.message || '' + key;\n      return (\n        <li.type\n          {...li.props}\n          type=\"li\"\n          className={this.getClass(key, li)}\n          message={message}\n          data-message={message}\n          data-ref={dataRef}\n          ref={ref}\n          key={key}\n        />\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderBin()}\n        <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n          {this.renderList()}\n        </ul>\n      </div>\n    );\n  }\n}\n\nSelectable.defaultProps = _.defaults({\n  list: [\n    <li></li>,\n    <li></li>,\n    <li></li>,\n    <li></li>\n  ],\n  selectClass: 'SELECTED',\n  completeListOnClick: true,\n  selectRespond: _.identity,\n  onSelect: _.identity,\n}, skoash.Component.defaultProps);\n\nexport default Selectable;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/selectable/0.1.js\n **/","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/alphabet.js\n ** module id = 3\n ** module chunks = 0\n **/","import classNames from 'classnames';\n\nimport EditableAsset from '../editable_asset/0.1.js';\n\nclass Canvas extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      background: null,\n      items: [],\n      messages: [],\n      offsetX: 0,\n      offsetY: 0,\n      active: false,\n      valid: true,\n    };\n\n    this.deleteItem = this.deleteItem.bind(this);\n    this.checkItem = this.checkItem.bind(this);\n    this.deactivateItems = this.deactivateItems.bind(this);\n    this.relayerItems = this.relayerItems.bind(this);\n    this.setValid = this.setValid.bind(this);\n  }\n\n  start() {\n    var dom = ReactDOM.findDOMNode(this);\n\n    super.start();\n\n    this.setState({\n      width: dom.offsetWidth,\n      height: dom.offsetHeight,\n    });\n  }\n\n  getItems() {\n    var items, messages, self = this;\n\n    items = this.state.items.map((item, key) => {\n      var state;\n\n      if (!self.refs['item-' + key]) return item;\n\n      state = self.refs['item-' + key].state;\n\n      item.state = {\n        left: _.floor(state.left, 14),\n        top: _.floor(state.top, 14),\n        scale: _.floor(state.scale, 14),\n        rotation: _.floor(state.rotation, 14),\n        layer: state.layer,\n        valid: state.valid,\n        corners: state.corners,\n      };\n\n      item.check = state.check;\n      item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\n      return item;\n    });\n\n    messages = this.state.messages.map((item, key) => {\n      var state;\n\n      if (!self.refs['message-' + key]) return item;\n\n      state = self.refs['message-' + key].state;\n\n      item.state = {\n        left: _.floor(state.left, 14),\n        top: _.floor(state.top, 14),\n        scale: _.floor(state.scale, 14),\n        rotation: _.floor(state.rotation, 14),\n        layer: state.layer,\n        valid: state.valid,\n        corners: state.corners,\n      };\n\n      item.check = state.check;\n      item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\n      return item;\n    });\n\n    _.remove(items, n => {\n      return !n;\n    });\n\n    _.remove(messages, n => {\n      return !n;\n    });\n\n    return {\n      background: this.state.background,\n      items,\n      messages,\n    };\n  }\n\n  reset() {\n    this.setState({\n      background: null,\n      items: [],\n      messages: []\n    });\n  }\n\n  setItems(message) {\n    if (message) {\n      /*\n       *\n       * This makes sure the EditableAssets get cleared.\n       *\n       * This prevents the new assets from inheriting\n       * state from the old assets.\n       *\n       */\n      this.setState({\n        background: null,\n        items: [],\n        messages: [],\n      }, () => {\n        this.addItem(message.background);\n        message.items.forEach(asset => {\n          this.addItem(asset);\n        });\n        message.messages.forEach(asset => {\n          this.addItem(asset);\n        });\n      });\n    }\n  }\n\n  addItem(asset, cb) {\n    var items, messages, index, count;\n\n    if (!asset) return;\n\n    if (asset.asset_type === 'background') {\n      this.setState({\n        background: asset,\n      }, () => {\n        skoash.trigger('emit', {\n          name: 'getMedia',\n          'media_id': asset.media_id\n        }).then(d => {\n          var background = this.state.background;\n          background.check = d.check;\n          background.mime_type = d.mime_type; // eslint-disable-line camelcase\n          this.setState({\n            background\n          }, cb);\n        });\n      });\n    } else if (asset.asset_type === 'item') {\n      items = this.state.items;\n\n      count = _.reduce(items, (c, v) => {\n        if (asset.src === v.src) c++;\n        return c;\n      }, 1);\n\n      if (count > this.props.maxInstances) return;\n\n      items.push(asset);\n      index = items.indexOf(asset);\n\n      this.setState({\n        items,\n      }, () => {\n        skoash.trigger('emit', {\n          name: 'getMedia',\n          'media_id': asset.media_id\n        }).then(d => {\n          asset.check = d.check;\n          asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n          items[index] = asset;\n          this.setState({\n            items\n          }, cb);\n        });\n      });\n    } else if (asset.asset_type === 'message') {\n      messages = this.state.messages;\n\n      count = _.reduce(items, (c, v) => {\n        if (asset.src === v.src) c++;\n        return c;\n      }, 1);\n\n      if (count > this.props.maxInstances) return;\n\n      messages.push(asset);\n      index = messages.indexOf(asset);\n\n      this.setState({\n        messages,\n      }, () => {\n        skoash.trigger('emit', {\n          name: 'getMedia',\n          'media_id': asset.media_id\n        }).then(d => {\n          asset.check = d.check;\n          asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n          messages[index] = asset;\n          this.setState({\n            messages\n          }, cb);\n        });\n      });\n    }\n  }\n\n  deleteItem(key, type) {\n    var items;\n\n    items = this.state[type + 's'];\n    delete items[key];\n\n    this.setState({\n      [type + 's']: items,\n    });\n  }\n\n  deactivateItems(exclude, type) {\n    if (typeof exclude === 'object' && exclude.target) {\n      if (exclude.target.tagName !== 'LI') {\n        return;\n      }\n      this.setState({\n        active: false,\n      });\n    }\n\n    if (typeof exclude === 'number') {\n      this.setState({\n        active: true,\n      });\n    }\n\n    this.state.items.map((item, key) => {\n      if ((key !== exclude || type !== 'item') && this.refs['item-' + key]) {\n        this.refs['item-' + key].deactivate();\n      }\n    });\n\n    this.state.messages.map((item, key) => {\n      if ((key !== exclude || type !== 'message') && this.refs['message-' + key]) {\n        this.refs['message-' + key].deactivate();\n      }\n    });\n  }\n\n  relayerItems(type) {\n    var layers = [];\n\n    this.state[type + 's'].map((item, key) => {\n      var layer;\n\n      layer = this.refs[type + '-' + key].state.layer;\n\n      if (layers.indexOf(layer) === -1) {\n        layers.push(layer);\n      }\n    });\n\n    layers.sort((a, b) => {\n      return a < b;\n    });\n\n    this.state[type + 's'].map((item, key) => {\n      var oldLayer, newLayer;\n\n      oldLayer = this.refs[type + '-' + key].state.layer;\n      newLayer = (type === 'message') ? 10000 : 1000;\n      newLayer = newLayer - layers.indexOf(oldLayer);\n\n      this.refs[type + '-' + key].relayer(newLayer);\n    });\n  }\n\n  checkItem(key, type) {\n    var self = this;\n\n    return (\n      !self.refs[type + '-' + key].state.corners.length ||\n      (\n        self.isInBounds(key, type) && (\n          self.refs[type + '-' + key].state.can_overlap ||\n          !self.state[type + 's'].some((item, index) =>\n            key !== index &&\n            !self.refs[type + '-' + index].state.can_overlap &&\n            self.refs[type + '-' + index].state.corners.length &&\n            skoash.util.doIntersect(\n              self.refs[type + '-' + key].state.corners,\n              self.refs[type + '-' + index].state.corners\n            )\n          )\n        )\n      )\n    );\n  }\n\n  isInBounds(key, type) {\n    return !this.state.width ||\n      !this.state.height ||\n      !(\n      // box to left\n      skoash.util.doIntersect(\n        this.refs[type + '-' + key].state.corners,\n        [\n          {x: 0, y: -this.state.height},\n          {x: 0, y: 2 * this.state.height},\n          {x: -this.state.width, y: 2 * this.state.height},\n          {x: -this.state.width, y: -this.state.height}\n        ]\n      ) ||\n      // box above\n      skoash.util.doIntersect(\n        this.refs[type + '-' + key].state.corners,\n        [\n          {x: -this.state.width, y: 0},\n          {x: 2 * this.state.width, y: 0},\n          {x: 2 * this.state.width, y: -this.state.height},\n          {x: this.state.width, y: -this.state.height}\n        ]\n      ) ||\n      // box to right\n      skoash.util.doIntersect(\n        this.refs[type + '-' + key].state.corners,\n        [\n          {x: this.state.width, y: -this.state.height},\n          {x: this.state.width, y: 2 * this.state.height},\n          {x: 2 * this.state.width, y: 2 * this.state.height},\n          {x: 2 * this.state.width, y: -this.state.height}\n        ]\n      ) ||\n      // box below\n      skoash.util.doIntersect(\n        this.refs[type + '-' + key].state.corners,\n        [\n          {x: -this.state.width, y: this.state.height},\n          {x: 2 * this.state.width, y: this.state.height},\n          {x: 2 * this.state.width, y: 2 * this.state.height},\n          {x: -this.state.width, y: 2 * this.state.height}\n        ]\n      )\n    );\n  }\n\n  setValid(valid) {\n    this.setState({\n      valid\n    });\n\n    if (typeof this.props.setValid === 'function') {\n      this.props.setValid(valid);\n    }\n  }\n\n  getStyle() {\n    if (!this.state.background) return;\n\n    return {\n      backgroundImage: `url(${this.state.background.src})`,\n    };\n  }\n\n  renderItems() {\n    var self = this;\n\n    return this.state.items.map((item, key) => {\n      return (\n        <EditableAsset\n          {...item}\n          data-ref={key}\n          minDim={this.props.itemMinDim}\n          deleteItem={self.deleteItem}\n          checkItem={self.checkItem}\n          deactivateItems={self.deactivateItems}\n          relayerItems={self.relayerItems}\n          setValid={self.setValid}\n          ref={'item-' + key}\n          key={key}\n        />\n      );\n    });\n  }\n\n  renderMessages() {\n    var self = this;\n\n    return this.state.messages.map((item, key) => {\n      return (\n        <EditableAsset\n          {...item}\n          data-ref={key}\n          minDim={this.props.messageMinDim}\n          deleteItem={self.deleteItem}\n          checkItem={self.checkItem}\n          deactivateItems={self.deactivateItems}\n          relayerItems={self.relayerItems}\n          setValid={self.setValid}\n          canvasWidth={this.state.width}\n          canvasHeight={this.state.height}\n          ref={'message-' + key}\n          key={key}\n        />\n      );\n    });\n  }\n\n  getClassNames() {\n    return classNames({\n      canvas: true,\n      ACTIVE: !this.props.preview && this.state.active,\n    });\n  }\n\n  render() {\n    return (\n      <ul\n        className={this.getClassNames()}\n        style={this.getStyle()}\n        onClick={this.deactivateItems}\n      >\n        {this.renderItems()}\n        {this.renderMessages()}\n      </ul>\n    );\n  }\n}\n\nCanvas.defaultProps = _.defaults({\n  maxInstances: 5\n}, skoash.Component.defaultProps);\n\nexport default Canvas;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/canvas/0.1.js\n **/","import shortid from 'shortid';\nimport classNames from 'classnames';\n\nimport Selectable from 'shared/components/selectable/0.1';\nimport ScrollArea from 'shared/components/scroll_area/0.1';\n\nclass ItemDrawer extends Selectable {\n  shouldComponentUpdate(nextProps, nextState) {\n    var items, quickCheck, itemsChanged;\n\n    if (JSON.stringify(this.state.classes) !== JSON.stringify(nextState.classes)) {\n      return true;\n    }\n\n    items = nextProps.data || [];\n\n    if (nextState.category && items[nextState.category]) {\n      items = items[nextState.category].items;\n    }\n\n    quickCheck = _.reduce(items, (a, i) => {\n      a += i.name;\n      return a;\n    }, '');\n\n    itemsChanged = this.quickCheck !== quickCheck;\n    if (itemsChanged) {\n      this.quickCheck = quickCheck;\n    }\n\n    return itemsChanged;\n  }\n\n  start() {\n    var items, selectedItem, selectClass, selectFunction, classes = {}, self = this;\n\n    selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n    selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\n    items = self.props.data || [];\n\n    if (self.state.category && items[self.state.category]) {\n      items = items[self.state.category].items;\n    }\n\n    selectedItem = JSON.stringify(self.props.selectedItem);\n\n    _.each(items, (item, key) => {\n      if (self.props.selectedItem && JSON.stringify(item) === selectedItem) {\n        classes[key] = selectClass;\n      }\n    });\n\n    if (this.props.selectOnStart) {\n      classes[this.props.selectOnStart] = selectClass;\n    }\n\n    this.setState({\n      started: true,\n      classes,\n      selectClass,\n      selectFunction,\n      categoryName: '',\n      category: '',\n    });\n\n    _.each(self.refs, ref => {\n      if (typeof ref.start === 'function') ref.start();\n    });\n  }\n\n  selectHelper(e) {\n    var li, message, key, type, categoryName, classes = [];\n\n    li = e.target.closest('LI');\n    if (!li) return;\n\n    key = li.getAttribute('data-ref');\n    if (!this.refs[key]) return;\n\n    type = this.refs[key].props.item.asset_type;\n    if (!type) return;\n\n    if (type === 'folder') {\n      categoryName = this.refs[key].props.item.name;\n      this.setState({\n        category: key,\n        categoryName\n      });\n    } else {\n      message = this.refs[key].props.item;\n      classes[key] = this.state.selectClass;\n\n      this.setState({\n        message,\n        classes,\n      });\n    }\n  }\n\n  selectButton() {\n    if (typeof this.props.selectRespond === 'function' && this.state.message) {\n      this.props.selectRespond(this.state.message);\n    }\n  }\n\n  continueButton() {\n    if (typeof this.props.selectRespond === 'function') {\n      this.props.selectRespond({});\n    }\n  }\n\n  cancelButton() {\n    if (typeof this.props.cancelRespond === 'function') {\n      this.props.cancelRespond.call(this);\n    }\n  }\n\n  getCategory() {\n    if (this.state.categoryName) {\n      return this.state.categoryName;\n    }\n\n    if (this.props.categories && this.props.categories.length) {\n      return this.props.categories[this.props.categories.length - 1];\n    }\n    return '';\n  }\n\n  getClassNames() {\n    return classNames({\n      'ANSWERED': _.values(this.state.classes).indexOf(this.state.selectClass) !== -1\n    }, this.props.className, 'item-drawer-component');\n  }\n\n  getULClass() {\n    var categories = '';\n\n    if (this.props.categories) {\n      categories = this.props.categories.join(' ');\n    }\n\n    return classNames({\n      'item-drawer': true,\n      [categories]: true,\n      COMPLETE: this.state.complete,\n    });\n  }\n\n  getClass(key, item) {\n    var white = item && item.name && item.name.toLowerCase().indexOf('w.') !== -1;\n\n    return classNames({\n      [this.state.classes[key] || '']: true,\n      white\n    });\n  }\n\n  renderButtons() {\n    return (\n      <div className=\"buttons\">\n        <button className=\"select\" onClick={this.selectButton.bind(this)} />\n        <button className=\"continue\" onClick={this.continueButton.bind(this)} />\n        <button className=\"cancel\" onClick={this.cancelButton.bind(this)} />\n      </div>\n    );\n  }\n\n  renderItemContent(item) {\n    var content = [], src;\n\n    if (item.src || item.thumb) {\n      src = item.thumb || item.src;\n    } else if (item.items) {\n      if (!_.isArray(item.items)) {\n        item.items = _.values(item.items);\n      }\n\n      if (item.items[0]) {\n        src = item.items[0].thumb || item.items[0].src;\n      }\n\n      if (!src) {\n        item.items.some(subitem => {\n          if (subitem.name === '_thumb.png') {\n            src = subitem.thumb || subitem.src;\n            return true;\n          }\n        });\n      }\n    }\n\n    if (src) {\n      content.push(<skoash.Image src={src} key={0} />);\n    }\n\n    if (item.name && (item.asset_type === 'folder' || item.asset_type === 'friend')) {\n      content.push(<span className=\"name\" key={1}>{item.name}</span>);\n    }\n\n    if (item.description) {\n      content.push(<span className=\"description\" key={2}>{item.description}</span>);\n    }\n\n    return content;\n  }\n\n  renderList() {\n    var items, self = this;\n\n    if (!this.props.data) return;\n\n    items = this.props.data;\n\n    if (this.state.category && items[this.state.category]) {\n      items = items[this.state.category].items;\n    }\n\n    if (!_.isArray(items)) {\n      items = _.values(items);\n    }\n\n    return items.sort((a, b) => {\n      var aVal = !_.isNaN(window.parseInt(a.order)) ? window.parseInt(a.order) : Infinity;\n      var bVal = !_.isNaN(window.parseInt(b.order)) ? window.parseInt(b.order) : Infinity;\n      if (aVal === bVal) {\n        if (a.name < b.name) return -1;\n        if (a.name > b.name) return 1;\n        return 0;\n      }\n      if (aVal < bVal) return -1;\n      return 1;\n    }).filter(item =>\n      item.name !== '_thumb.png'\n    ).map((item, key) =>\n      <skoash.ListItem\n        className={this.getClass(key, item)}\n        ref={key}\n        data-ref={key}\n        item={item}\n        key={shortid.generate()}\n      >\n        {self.renderItemContent(item)}\n      </skoash.ListItem>\n    );\n  }\n\n  render() {\n    return (\n      <div className={this.getClassNames()}>\n        <div className=\"item-drawer-container\">\n          <h2>{this.getCategory()}</h2>\n          <ScrollArea ref=\"scroll-area\" img={this.props.scrollbarImg}>\n            <ul ref=\"list\" className={this.getULClass()} onClick={this.state.selectFunction.bind(this)}>\n              {this.renderList()}\n            </ul>\n          </ScrollArea>\n        </div>\n        {this.renderButtons()}\n      </div>\n    );\n  }\n}\n\nItemDrawer.defaultProps = _.defaults({\n  scrollbarImg: ''\n}, Selectable.defaultProps);\n\nexport default ItemDrawer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/item_drawer/0.1.js\n **/","import classNames from 'classnames';\n\nclass Draggable extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      startX: 0,\n      startY: 0,\n      endX: 0,\n      endY: 0,\n      zoom: 1,\n    };\n\n    this.mouseDown = this.mouseDown.bind(this);\n    this.mouseUp = this.mouseUp.bind(this);\n\n    this.moveEvent = this.moveEvent.bind(this);\n\n    this.touchStart = this.touchStart.bind(this);\n    this.touchEnd = this.touchEnd.bind(this);\n  }\n\n  shouldDrag() {\n    return true;\n  }\n\n  markCorrect() {\n    this.setState({\n      correct: true,\n    });\n  }\n\n  markIncorrect() {\n    this.setState({\n      correct: false,\n    });\n  }\n\n  startEvent(e, cb) {\n    var pageX, pageY, rect, startX, startY, endX, endY, grabX, grabY;\n\n    if (e.target !== this.refs.el) return;\n    if (!this.shouldDrag()) return;\n\n    if (e.targetTouches && e.targetTouches[0]) {\n      pageX = e.targetTouches[0].pageX;\n      pageY = e.targetTouches[0].pageY;\n      rect = e.target.getBoundingClientRect();\n      e = e.targetTouches[0];\n      e.offsetX = pageX - rect.left;\n      e.offsetY = pageY - rect.top;\n    }\n\n    grabX = e.offsetX;\n    grabY = e.offsetY;\n\n    startX = endX = e.pageX - grabX;\n    startY = endY = e.pageY - grabY;\n\n    if (!this.props.return) {\n      startX = _.isFinite(this.state.grabX) ?\n        this.state.startX + this.state.grabX - grabX :\n        startX;\n      startY = _.isFinite(this.state.grabY) ?\n        this.state.startY + this.state.grabY - grabY :\n        startY;\n    }\n\n    this.setState({\n      dragging: true,\n      return: false,\n      startX,\n      startY,\n      grabX,\n      grabY,\n      endX,\n      endY,\n    });\n\n    if (typeof this.props.dragRespond === 'function') {\n      this.props.dragRespond(this.props.message);\n    }\n\n    if (typeof cb === 'function') {\n      cb.call(this);\n    }\n  }\n\n  attachMouseEvents() {\n    window.addEventListener('mousemove', this.moveEvent);\n    window.addEventListener('mouseup', this.mouseUp);\n  }\n\n  attachTouchEvents() {\n    window.addEventListener('touchmove', this.moveEvent);\n    window.addEventListener('touchend', this.touchEnd);\n  }\n\n  mouseDown(e) {\n    this.startEvent(e, this.attachMouseEvents);\n  }\n\n  touchStart(e) {\n    this.startEvent(e, this.attachTouchEvents);\n  }\n\n  moveEvent(e) {\n    if (e.targetTouches && e.targetTouches[0]) {\n      e.pageX = e.targetTouches[0].pageX;\n      e.pageY = e.targetTouches[0].pageY;\n    }\n\n    this.setState({\n      endX: e.pageX - this.state.grabX,\n      endY: e.pageY - this.state.grabY,\n    });\n  }\n\n  endEvent(cb) {\n    this.dropRespond();\n\n    if (this.props.return) {\n      this.setState({\n        dragging: false,\n        return: this.props.return,\n        endX: this.state.startX,\n        endY: this.state.startY,\n      });\n    } else {\n      this.setState({\n        dragging: false,\n        return: this.props.return,\n      });\n    }\n\n    if (typeof cb === 'function') {\n      cb.call(this);\n    }\n  }\n\n  detachMouseEvents() {\n    window.removeEventListener('mousemove', this.moveEvent);\n    window.removeEventListener('mouseup', this.mouseUp);\n  }\n\n  detachTouchEvents() {\n    window.removeEventListener('touchmove', this.moveEvent);\n    window.removeEventListener('touchend', this.touchEnd);\n  }\n\n  mouseUp() {\n    this.endEvent(this.detachMouseEvents);\n  }\n\n  touchEnd() {\n    this.endEvent(this.detachTouchEvents);\n  }\n\n  dropRespond() {\n    var corners;\n\n    corners = this.setCorners();\n\n    if (typeof this.props.dropRespond === 'function') {\n      this.props.dropRespond(this.props.message, corners);\n    }\n  }\n\n  setCorners() {\n    var top, left, width, height, el, corners = [];\n\n    left = 0;\n    top = 0;\n    el = this.refs.el;\n    width = el.offsetWidth;\n    height = el.offsetHeight;\n\n    while (el) {\n      if (el.className.indexOf('screen') !== -1) {\n        break;\n      }\n\n      left += el.offsetLeft || 0;\n      top += el.offsetTop || 0;\n      el = el.offsetParent;\n    }\n\n    left += ((this.state.endX - this.state.startX) / this.state.zoom);\n    top += ((this.state.endY - this.state.startY) / this.state.zoom);\n\n    for (var i = 0; i < 4; i++) {\n      corners.push({\n        x: left + width * (i === 1 || i === 2 ? 1 : 0),\n        y: top + height * (i > 1 ? 1 : 0),\n      });\n    }\n\n    this.setState({\n      corners,\n    });\n\n    return corners;\n  }\n\n  componentDidMount() {\n    this.bootstrap();\n  }\n\n  bootstrap() {\n    super.bootstrap();\n\n    this.setZoom();\n\n    this.refs.el.addEventListener('mousedown', this.mouseDown);\n    this.refs.el.addEventListener('touchstart', this.touchStart);\n\n    window.addEventListener('resize', this.setZoom.bind(this));\n  }\n\n  setZoom() {\n    skoash.trigger('getState').then(state => {\n      this.setState({\n        zoom: state.scale,\n      });\n    });\n  }\n\n  getStyle() {\n    var x, y;\n\n    x = ((this.state.endX - this.state.startX) / this.state.zoom);\n    y = ((this.state.endY - this.state.startY) / this.state.zoom);\n\n    return {\n      transform: `translateX(${x}px) translateY(${y}px)`,\n      WebkitTransform: `translateX(${x}px) translateY(${y}px)`,\n    };\n  }\n\n  getClassNames() {\n    return classNames({\n      draggable: true,\n      DRAGGING: this.state.dragging,\n      RETURN: this.state.return,\n      CORRECT: this.state.correct,\n    }, super.getClassNames());\n  }\n\n  render() {\n    return (\n      <div\n        ref=\"el\"\n        className={this.getClassNames()}\n        style={this.getStyle()}\n      >{this.props.children}</div>\n    );\n  }\n}\n\nexport default Draggable;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/draggable/0.1.js\n **/","import classNames from 'classnames';\n\nimport Draggable from '../draggable/0.1.js';\n\nclass EditableAsset extends Draggable {\n  constructor() {\n    super();\n\n    this.state = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0,\n      scale: .5,\n      minScale: .1,\n      maxScale: 1,\n      rotation: 0,\n      layer: 1000,\n      zoom: 1,\n      active: false,\n      valid: true,\n      corners: [],\n      lastValid: {},\n    };\n\n    this.scale = this.scale.bind(this);\n    this.adjustScale = this.adjustScale.bind(this);\n    this.offScale = this.offScale.bind(this);\n\n    this.rotate = this.rotate.bind(this);\n    this.adjustRotation = this.adjustRotation.bind(this);\n    this.offRotate = this.offRotate.bind(this);\n  }\n\n  shouldDrag() {\n    return this.state.active;\n  }\n\n  activate() {\n    this.setState({\n      active: true,\n    });\n\n    if (typeof this.props.deactivateItems === 'function') {\n      this.props.deactivateItems(this.props['data-ref'], this.props.asset_type);\n    }\n  }\n\n  deactivate() {\n    if (!this.state.valid) {\n      this.setState({\n        left: this.state.lastValid.left || this.state.left,\n        top: this.state.lastValid.top || this.state.top,\n        scale: this.state.lastValid.scale || this.state.scale,\n        rotation: this.state.lastValid.rotation || this.state.rotation,\n        active: false,\n      }, () => {\n        setTimeout(() => {\n          this.checkItem();\n        }, 0);\n      });\n    } else {\n      this.setState({\n        active: false,\n      });\n    }\n  }\n\n  moveEvent(e) {\n    if (e.targetTouches && e.targetTouches[0]) {\n      e.pageX = e.targetTouches[0].pageX;\n      e.pageY = e.targetTouches[0].pageY;\n    }\n\n    this.setState({\n      endX: e.pageX - this.state.grabX,\n      endY: e.pageY - this.state.grabY,\n      left: ((e.pageX - this.state.grabX - this.state.startX) / this.state.zoom),\n      top: ((e.pageY - this.state.grabY - this.state.startY) / this.state.zoom),\n    });\n    this.checkItem();\n  }\n\n  delete() {\n    if (typeof this.props.deleteItem === 'function') {\n      this.props.deleteItem(this.props['data-ref'], this.props.asset_type);\n    }\n  }\n\n  rotate() {\n    this.refs.el.parentNode.addEventListener('mousemove', this.adjustRotation);\n    this.refs.el.parentNode.addEventListener('mouseup', this.offRotate);\n\n    this.refs.el.parentNode.addEventListener('touchmove', this.adjustRotation);\n    this.refs.el.parentNode.addEventListener('touchend', this.offRotate);\n  }\n\n  offRotate() {\n    this.refs.el.parentNode.removeEventListener('mousemove', this.adjustRotation);\n    this.refs.el.parentNode.removeEventListener('mouseup', this.offRotate);\n\n    this.refs.el.parentNode.removeEventListener('touchmove', this.adjustRotation);\n    this.refs.el.parentNode.removeEventListener('touchend', this.offRotate);\n  }\n\n  adjustRotation(e) {\n    var rotation, deltaX, deltaY;\n\n    if (e.targetTouches && e.targetTouches[0]) {\n      e.pageX = e.targetTouches[0].pageX;\n      e.pageY = e.targetTouches[0].pageY;\n    }\n\n    deltaX = (e.pageX / this.state.zoom) - (this.refs.li.offsetParent.offsetLeft) - (this.state.left + this.state.width / 2);\n    deltaY = (e.pageY / this.state.zoom) - (this.refs.li.offsetParent.offsetTop) - (this.state.top + this.state.height / 2);\n\n    rotation = Math.atan2(deltaY, deltaX) + (Math.PI / 4) % (2 * Math.PI);\n\n    this.setState({\n      rotation,\n    });\n\n    this.checkItem();\n  }\n\n  layer() {\n    var layer, self = this;\n\n    layer = this.state.layer - 1;\n\n    this.setState({\n      layer,\n    }, () => {\n      if (typeof self.props.relayerItems === 'function') {\n        self.props.relayerItems(self.props.asset_type);\n      }\n    });\n  }\n\n  relayer(layer) {\n    this.setState({\n      layer,\n    });\n  }\n\n  scale() {\n    this.refs.el.parentNode.addEventListener('mousemove', this.adjustScale);\n    this.refs.el.parentNode.addEventListener('mouseup', this.offScale);\n\n    this.refs.el.parentNode.addEventListener('touchmove', this.adjustScale);\n    this.refs.el.parentNode.addEventListener('touchend', this.offScale);\n  }\n\n  offScale() {\n    this.refs.el.parentNode.removeEventListener('mousemove', this.adjustScale);\n    this.refs.el.parentNode.removeEventListener('mouseup', this.offScale);\n\n    this.refs.el.parentNode.removeEventListener('touchmove', this.adjustScale);\n    this.refs.el.parentNode.removeEventListener('touchend', this.offScale);\n  }\n\n  adjustScale(e) {\n    var scale, deltaX, deltaY, delta, base;\n\n    if (e.targetTouches && e.targetTouches[0]) {\n      e.pageX = e.targetTouches[0].pageX;\n      e.pageY = e.targetTouches[0].pageY;\n    }\n\n    deltaX = (e.pageX / this.state.zoom) - (this.refs.li.offsetParent.offsetLeft / this.state.zoom) - (this.state.left / this.state.zoom + this.state.width / 2);\n    deltaY = (e.pageY / this.state.zoom) - (this.refs.li.offsetParent.offsetTop / this.state.zoom) - (this.state.top / this.state.zoom + this.state.height / 2);\n\n    delta = Math.pow(Math.pow(deltaX, 2) + Math.pow(deltaY, 2), .5);\n    base = Math.pow(Math.pow(this.state.width / 2, 2) + Math.pow(this.state.height / 2, 2), .5);\n\n    scale = Math.max(Math.min(delta / base, 1), this.state.minScale);\n\n    this.setState({\n      scale,\n    });\n\n    this.checkItem();\n  }\n\n  checkItem() {\n    this.setCorners(() => {\n      var valid;\n\n      if (typeof this.props.checkItem === 'function') {\n        valid = this.props.checkItem(this.props['data-ref'], this.props.asset_type);\n\n        if (valid) {\n          this.setState({\n            valid,\n            lastValid: new Object(this.state),\n          });\n        } else {\n          this.setState({\n            valid,\n          });\n        }\n\n        if (typeof this.props.setValid === 'function') {\n          this.props.setValid(valid);\n        }\n      }\n    });\n  }\n\n  setCorners(cb) {\n    var center, distance, angle, corners = [];\n\n    center = {\n      x: this.state.left + this.state.width / 2,\n      y: this.state.top + this.state.height / 2,\n    };\n\n    distance = Math.pow(Math.pow(this.state.width * this.state.scale / 2, 2) + Math.pow(this.state.height * this.state.scale / 2, 2), .5);\n\n    for (var i = 0; i < 4; i++) {\n      angle = this.state.rotation;\n      angle += (i < 2 ? 0 : Math.PI);\n      angle += Math.pow(-1, i) * Math.atan2(this.state.height, this.state.width);\n\n      corners.push({\n        x: center.x + distance * Math.cos(angle),\n        y: center.y + distance * Math.sin(angle),\n      });\n    }\n\n    this.setState({\n      corners,\n    }, cb);\n  }\n\n  getSize() {\n    var image, self = this;\n\n    image = new Image();\n\n    image.onload = () => {\n      var left, top, width, height, minDim, maxDim, minScale, maxScale, scale;\n\n      minDim = this.props.minDim || 40;\n      maxDim = this.props.maxDim || 400;\n      left = this.state.left;\n      top = this.state.top;\n      width = image.width;\n      height = image.height;\n\n      minScale = Math.max(minDim / width, minDim / height);\n      maxScale = Math.min(maxDim / width, maxDim / height, this.state.maxScale);\n      scale = self.props.state && self.props.state.scale ?\n        self.props.state.scale :\n        Math.max(Math.min(self.state.scale, maxScale), minScale);\n\n      if ((!this.state.height || !this.state.width) &&\n        (!this.state.left && !this.state.top)) {\n        left = (this.props.canvasWidth - width) / 2;\n        top = (this.props.canvasHeight - height) / 2;\n      }\n\n      self.setState({\n        left,\n        top,\n        width,\n        height,\n        minScale,\n        scale,\n      }, () => {\n        self.activate();\n        self.checkItem();\n      });\n    };\n\n    image.src = this.props.src;\n  }\n\n  getLayer() {\n    var layer = 1000;\n\n    if (this.props.state && this.props.state.layer) {\n      layer = this.props.state.layer;\n    } else {\n      switch (this.props.asset_type) {\n      case 'background':\n        layer = 1;\n        break;\n      case 'message':\n        layer = 10000;\n        break;\n      }\n    }\n\n    this.setState({\n      layer,\n    });\n  }\n\n  attachEvents() {\n    this.refs.scale.addEventListener('mousedown', this.scale);\n    this.refs.rotate.addEventListener('mousedown', this.rotate);\n\n    this.refs.scale.addEventListener('touchstart', this.scale);\n    this.refs.rotate.addEventListener('touchstart', this.rotate);\n  }\n\n  componentDidMount() {\n    this.bootstrap();\n  }\n\n  bootstrap() {\n    super.bootstrap();\n\n    if (this.props.state) {\n      this.setState(this.props.state);\n    }\n\n    this.getSize();\n    this.getLayer();\n\n    this.attachEvents();\n\n    skoash.trigger('emit', {\n      name: 'getMedia',\n      'media_id': this.props.media_id\n    }).then(d => {\n      this.setState(d, () => {\n        this.checkItem();\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    this.attachEvents();\n  }\n\n  getButtonStyle(extraRotation = 0) {\n    var style, transform = '';\n\n    transform += `scale(${(1 / this.state.scale)}) `;\n    transform += `rotate(${(-this.state.rotation - extraRotation)}rad) `;\n\n    style = {\n      transform,\n    };\n\n    return style;\n  }\n\n  getAssetStyle() {\n    var style, transform = '';\n\n    transform += `scale(${this.state.scale}) `;\n    transform += `rotate(${this.state.rotation}rad) `;\n\n    style = {\n      backgroundImage: `url(\"${this.props.src}\")`,\n      width: this.state.width,\n      height: this.state.height,\n      left: this.state.left,\n      top: this.state.top,\n      transform,\n      zIndex: this.state.layer,\n    };\n\n    return style;\n  }\n\n  getButtonsStyle() {\n    var style, transform = '';\n\n    transform += `scale(${this.state.scale}) `;\n    transform += `rotate(${this.state.rotation}rad) `;\n\n    style = {\n      width: this.state.width,\n      height: this.state.height,\n      left: this.state.left,\n      top: this.state.top,\n      transform,\n    };\n\n    return style;\n  }\n\n  getClasses() {\n    return classNames({\n      DRAGGING: this.state.dragging,\n      RETURN: this.state.return,\n      ACTIVE: this.state.active,\n      INVALID: !this.state.valid,\n    }, 'editable-asset', this.props.asset_type);\n  }\n\n  renderAsset() {\n    return (\n      <div\n        ref=\"el\"\n        className=\"asset\"\n        style={this.getAssetStyle()}\n      />\n    );\n  }\n\n  renderButtons() {\n    return (\n      <div\n        className=\"buttons\"\n        style={this.getButtonsStyle()}\n      >\n        <button\n          className=\"delete\"\n          style={this.getButtonStyle()}\n          onClick={this.delete.bind(this)}\n        />\n        <button\n          ref=\"rotate\"\n          className=\"rotate\"\n          style={this.getButtonStyle()}\n        />\n        <button\n          className=\"layer\"\n          onClick={this.layer.bind(this)}\n          style={this.getButtonStyle()}\n        />\n        <button\n          ref=\"scale\"\n          className=\"scale\"\n          style={this.getButtonStyle(1.5708)}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <li\n        ref=\"li\"\n        className={this.getClasses()}\n        onClick={this.activate.bind(this)}\n      >\n        {this.renderAsset()}\n        {this.renderButtons()}\n      </li>\n    );\n  }\n}\n\nEditableAsset.defaultProps = _.defaults({\n  canvasWidth: 1280,\n  canvasHeight: 720,\n}, Draggable.defaultProps);\n\nexport default EditableAsset;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/editable_asset/0.1.js\n **/","import classNames from 'classnames';\n\nimport Selectable from '../selectable/0.1';\n\nclass Inbox extends Selectable {\n  constructor() {\n    super();\n  }\n\n  selectHelper(e) {\n    var li, message, key, classes = [];\n\n    li = e.target.closest('LI');\n\n    if (!li) return;\n\n    key = li.getAttribute('data-ref');\n\n    if (!this.refs[key]) return;\n\n    message = this.refs[key].props.item;\n    classes[key] = this.state.selectClass;\n\n    this.setState({\n      message,\n      classes,\n    });\n\n    if (message.status !== 'COMPLETE') return;\n\n    if (typeof this.props.selectRespond === 'function' && message) {\n      this.props.selectRespond(message);\n    }\n  }\n\n  getClass(key, read) {\n    return classNames(\n      this.state.classes[key], {\n        UNREAD: this.props.friendKey === 'created_by' && !read,\n        SENT: this.props.friendKey !== 'created_by'\n      }\n    );\n  }\n\n  getClassNames() {\n    return classNames({\n      'item-drawer': true,\n      COMPLETE: this.state.complete,\n    }, this.props.className);\n  }\n\n  getStatusText(item) {\n    if (!item.status || item.status === 'COMPLETE') return '';\n    return item.status;\n  }\n\n  renderList() {\n    var items, friends;\n\n    if (!this.props.data || !this.props.data.items) return;\n\n    items = this.props.data.items;\n\n    if (!items.length) {\n      return (\n        <li className=\"empty\">\n          {this.props.emptyMessage}\n        </li>\n      );\n    }\n\n    friends = _.get(this.props.gameState, 'data.user', []);\n\n    return items.map((item, key) => {\n      var timestamp, image, name;\n      timestamp = moment.utc(item.updated).local();\n      key = 'message-' + key;\n\n      friends.forEach(friend => {\n        if (item[this.props.friendKey] === friend.friend_id) {\n          image = friend._embedded.image ? friend._embedded.image.url : '';\n          name = friend.username;\n        }\n      });\n\n      if (!name) {\n        skoash.trigger('getData', {\n          name: 'getFriend',\n          'friend_id': item[this.props.friendKey],\n        });\n      }\n\n      if (this.props.friendKey === 'friend_to') {\n        item.sent = true;\n      }\n\n      return (\n        <skoash.ListItem\n          className={this.getClass(key, item.read)}\n          ref={key}\n          data-ref={key}\n          item={item}\n          key={key}\n        >\n          <skoash.Image src={image} />\n          <span className={'username' + (name.length > 15 ? ' long' : '')}>\n            {name}\n          </span>\n          <span className=\"timestamp\">\n            <span className=\"date\">{timestamp.format('MM.DD.YY')}</span>\n            <span className=\"time\">{timestamp.format('h:mm a')}</span>\n          </span>\n          <span className={'status ' + item.status}>\n            {this.getStatusText(item)}\n          </span>\n        </skoash.ListItem>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n          {this.renderList()}\n        </ul>\n      </div>\n    );\n  }\n}\n\nInbox.defaultProps = _.defaults({\n  friendKey: 'created_by',\n  gameState: {},\n}, Selectable.defaultProps);\n\nexport default Inbox;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/inbox/0.1.js\n **/","export default function (props, ref, key) {\n  return (\n    <skoash.Screen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"ios-splash\"\n      checkComplete={false}\n      completeDelay={6000}\n      nextDelay={3000}\n      completeOnStart\n      hidePrev\n    >\n      <skoash.Image className=\"hidden\" src=\"../shared/images/ios_start_ball.png\" />\n      <skoash.Image className=\"hidden\" src=\"../shared/images/ios_start_ball_anim.gif\" />\n    </skoash.Screen>\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/ios_splash_screen/0.1.js\n **/","class Loader extends skoash.Component {\n  constructor() {\n    super();\n\n  }\n\n  render() {\n    return (\n      <div id=\"loader\" className=\"center\">\n        <div className=\"group\">\n          <h2>Loading!</h2>\n          <div className=\"spinner animated\">\n            <div className=\"spinner animated\">\n              <div className=\"spinner animated\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Loader;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/loader/0.1.js\n **/","import Selectable from '../selectable/0.1.js';\n\nimport classNames from 'classnames';\n\nclass Menu extends Selectable {\n  constructor() {\n    super();\n\n    this.state = {\n      active: false,\n      selectClass: 'SELECTED',\n      classes: {},\n    };\n  }\n\n  deactivate() {\n    var self = this;\n\n    this.setState({\n      active: false,\n    });\n\n    Object.keys(this.refs).map(key => {\n      if (typeof self.refs[key].deactivate === 'function') {\n        self.refs[key].deactivate();\n      }\n    });\n  }\n\n  onClick(e) {\n    var li, ul, dom, message, active = false, classes = [];\n\n    li = e.target.closest('LI');\n\n    if (!li) return;\n\n    ul = li.closest('UL');\n    dom = ReactDOM.findDOMNode(this); // eslint-disable-line no-undef\n\n    if (ul !== dom) return;\n\n    message = li.getAttribute('data-ref');\n\n    if (this.state.classes[message] !== this.state.selectClass) {\n      classes[message] = this.state.selectClass;\n      active = !this.props.inactive;\n    }\n\n    this.setState({\n      classes,\n      active,\n    });\n  }\n\n  renderItems() {\n    var self = this;\n\n    if (typeof this.props.items !== 'object') return;\n\n    return Object.keys(this.props.items).map((key) => {\n      var item, onClick, gotoObj, categories, isFinal;\n\n      categories = this.props.categories ? [].concat(this.props.categories) : [];\n      categories.push(key);\n\n      item = this.props.items[key];\n\n      isFinal = (\n          typeof item.items !== 'object' ||\n          Object.prototype.toString.call(item.items) === '[object Array]'\n        ) || (\n          typeof self.props.lastLevel === 'number' &&\n          self.props.lastLevel === self.props.level\n        );\n\n      if (isFinal) {\n        gotoObj = {\n          index: 'item-drawer',\n          categories,\n        };\n        onClick = skoash.trigger.bind(null, 'goto', gotoObj);\n      }\n\n      return (\n        <skoash.ListItem\n          className={self.getClass(key)}\n          data-ref={key}\n          ref={key}\n          key={key}\n          onClick={onClick}\n        >\n          <span>{key}</span>\n          {(() => {\n            if (isFinal) return;\n            return (\n              <Menu\n                ref={'menu-' + key}\n                categories={categories}\n                items={item.items}\n                inactive={true}\n                level={(self.props.level || 0) + 1}\n                lastLevel={self.props.lastLevel}\n              />\n            );\n          })()}\n        </skoash.ListItem>\n      );\n    });\n  }\n\n  getClass(key) {\n    return classNames({\n      [key.replace(' ', '-')]: true,\n      [this.state.classes[key] || '']: true,\n    });\n  }\n\n  getClassNames() {\n    return classNames({\n      menu: true,\n      ACTIVE: this.state.active,\n    }, this.props.className);\n  }\n\n  render() {\n    return (\n      <ul\n        className={this.getClassNames()}\n        onClick={this.onClick.bind(this)}\n      >\n        {this.renderItems()}\n      </ul>\n    );\n  }\n}\n\nexport default Menu;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/menu/0.1.js\n **/","class QuitScreen extends skoash.Screen {\n  okay() {\n    skoash.trigger('quit');\n  }\n\n  cancel() {\n    this.close();\n    skoash.trigger('menuClose', {\n      id: this.props.id,\n    });\n  }\n\n  renderAssets() {\n    if (this.props.assets) {\n      return this.props.assets.map((asset, key) => {\n        return (\n          <skoash.Audio\n            {...asset.props}\n            ref={asset.ref || asset.props['data-ref'] || ('asset-' + key)}\n            key={key}\n            data-ref={key}\n          />\n        );\n      });\n    }\n\n    return null;\n  }\n\n  render() {\n    return (\n      <div id={this.props.id} className={'screen ' + this.getClassNames()}>\n        {this.renderAssets()}\n        <div className=\"center\">\n          <div className=\"frame\">\n            <h2>Are you sure you<br/>want to quit?</h2>\n            <h3>Your game progress will be saved</h3>\n            <button className=\"quit-yes\" onClick={this.okay.bind(this)}></button>\n            <button className=\"quit-no\" onClick={this.cancel.bind(this)}></button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default (\n  <QuitScreen\n    id=\"quit\"\n  />\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/quit_screen/0.1.js\n **/","class Reveal extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      openReveal: '',\n    };\n\n    this.index = 0;\n  }\n\n  open(message) {\n    var self = this;\n    self.setState({\n      open: true,\n      openReveal: '' + message,\n    });\n\n    self.playAudio(message);\n\n    if (self.props.completeOnOpen) {\n      self.complete();\n    } else {\n      self.requireForComplete.map(key => {\n        if (key === message && self.refs[key]) {\n          self.refs[key].complete();\n        }\n      });\n    }\n\n    if (self.props.autoClose) {\n      setTimeout(function () {\n        self.close();\n      }, 2000);\n    }\n\n    if (self.props.openTarget) {\n      self.updateGameState({\n        path: self.props.openTarget,\n        data: {\n          open: '' + message\n        }\n      });\n    }\n\n    self.props.onOpen.call(self, message);\n  }\n\n  close() {\n    var prevMessage = this.state.openReveal;\n\n    this.setState({\n      open: false,\n      openReveal: '',\n    });\n\n    if (this.audio['close-sound']) {\n      this.audio['close-sound'].play();\n    }\n\n    this.props.onClose.call();\n\n    if (typeof this.props.closeRespond === 'function') {\n      this.props.closeRespond(prevMessage);\n    }\n  }\n\n  start() {\n    super.start();\n    if (this.props.openOnStart != null) {\n      this.open(this.props.openOnStart);\n    } else if (this.props.start && typeof this.props.start === 'function') {\n      this.props.start.call(this);\n    } else {\n      this.close();\n    }\n  }\n\n  playAudio(message) {\n    var messages;\n\n    if ('' + parseInt(message, 10) === message) {\n      message = 'asset-' + message;\n    }\n\n    if (this.audio['open-sound']) {\n      this.audio['open-sound'].play();\n    }\n\n    if (typeof message === 'string') {\n      messages = message.split(' ');\n      messages.map(audio => {\n        if (this.audio[audio]) {\n          this.audio[audio].play();\n        } else if (this.media[audio] && typeof this.media[audio].play === 'function') {\n          this.media[audio].play();\n        }\n      });\n    } else {\n      if (this.audio.voiceOver[message]) {\n        this.audio.voiceOver[message].play();\n      }\n    }\n  }\n\n  renderAssets() {\n    if (this.props.assets) {\n      return this.props.assets.map((asset, key) => {\n        var ref = asset.ref || asset.props['data-ref'] || ('asset-' + key);\n        return (\n          <asset.type\n            {...asset.props}\n            data-ref={key}\n            ref={ref}\n            key={key}\n          />\n        );\n      });\n    }\n\n    return null;\n  }\n\n  renderList() {\n    var list = this.props.list || this.list;\n\n    return list.map((li, key) => {\n      var ref = li.props['data-ref'] == null ? key : li.props['data-ref'];\n      return (\n        <li.type\n          {...li.props}\n          type=\"li\"\n          className={this.getClass(li, key)}\n          data-ref={ref}\n          ref={key}\n          key={key}\n        />\n      );\n    });\n  }\n\n  componentWillReceiveProps(props) {\n    if (props.openReveal != null && props.openReveal !== this.props.openReveal) {\n      this.open(props.openReveal);\n    }\n\n    if (props.closeReveal === true && props.closeReveal !== this.props.closeReveal) {\n      this.close();\n    }\n  }\n\n  getClass(li, key) {\n    var classes = '';\n\n    if (li.props.className) classes += li.props.className;\n    if (this.state.openReveal.indexOf(key) !== -1) classes += ' OPEN';\n    if (this.state.openReveal.indexOf(li.props['data-ref']) !== -1) classes += ' OPEN';\n\n    return classes;\n  }\n\n  getClassNames() {\n    var classes;\n    var open = 'open-none ';\n\n    if (this.state.openReveal) {\n      open = 'open-' + this.state.openReveal + ' ';\n    }\n\n    classes = 'reveal ' + open + super.getClassNames();\n\n    return classes;\n  }\n\n  render() {\n    return (\n      <div className={this.getClassNames()}>\n        {this.renderAssets()}\n        <div>\n          <ul>\n            {this.renderList()}\n          </ul>\n          <button className=\"close-reveal\" onClick={this.close.bind(this)}></button>\n        </div>\n      </div>\n    );\n  }\n}\n\nReveal.defaultProps = _.defaults({\n  list: [\n    <li></li>,\n    <li></li>,\n    <li></li>,\n    <li></li>\n  ],\n  onOpen: _.identity,\n  onClose: _.identity,\n}, skoash.Component.defaultProps);\n\nexport default Reveal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/reveal/0.1.js\n **/","import Selectable from '../selectable/0.1';\n\nimport classNames from 'classnames';\n\nclass SavedMessages extends Selectable {\n  constructor() {\n    super();\n  }\n\n  selectHelper(e) {\n    var li, message, key, classes = [];\n\n    li = e.target.closest('LI');\n\n    if (!li) return;\n\n    key = li.getAttribute('data-ref');\n\n    message = this.refs[key].props.item;\n    classes[key] = this.state.selectClass;\n\n    this.setState({\n      message,\n      classes,\n    }, this.selectRespond.bind(this));\n  }\n\n  selectRespond() {\n    if (typeof this.props.selectRespond === 'function' && this.state.message) {\n      this.props.selectRespond(this.state.message);\n    }\n  }\n\n  getClass(key) {\n    return classNames({\n      [this.state.classes[key] || '']: true,\n      DRAFT: true,\n    });\n  }\n\n  getClassNames() {\n    return classNames({\n      'item-drawer': true,\n      SAVED: true,\n      COMPLETE: this.state.complete,\n    }, this.props.className);\n  }\n\n  renderThumb(item) {\n    var firstImg, background;\n\n    background = item && item.rules && item.rules.background &&\n      item.rules.background.src ? item.rules.background.src :\n      '';\n\n    firstImg = item && item.rules && item.rules.items &&\n      item.rules.items[0] && item.rules.items[0].src ?\n      item.rules.items[0].src : (\n        item && item.rules && item.rules.messages &&\n        item.rules.messages[0] && item.rules.messages[0].src ?\n        item.rules.messages[0].src : ''\n      );\n\n    return (\n      <div\n        className=\"thumbnail\"\n        style={{\n          backgroundImage: `url(${background})`\n        }}\n      >\n        <skoash.Image src={firstImg} />\n      </div>\n    );\n  }\n\n  renderList() {\n    var items, self = this;\n\n    if (!self.props.data || !self.props.data.items) return;\n\n    items = self.props.data.items;\n\n    if (!items.length) {\n      return (\n        <li className=\"empty\">\n          {this.props.emptyMessage}\n        </li>\n      );\n    }\n\n    return items.map((item, key) => {\n      var timestamp = moment.utc(item.updated).local();\n      return (\n        <skoash.ListItem\n          className={self.getClass(key)}\n          ref={key}\n          data-ref={key}\n          item={item}\n          key={key}\n        >\n          {self.renderThumb(item)}\n          <span className=\"timestamp\">\n            <span className=\"date\">{timestamp.format('MM.DD.YY')}</span>\n            <span className=\"time\">{timestamp.format('h:mm a')}</span>\n          </span>\n        </skoash.ListItem>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n          {this.renderList()}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default SavedMessages;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/saved_messages/0.1.js\n **/","import classNames from 'classnames';\n\nconst IMAGE = 'image';\nconst AREA = 'area';\nconst CONTENT = 'content';\nconst SCROLLBAR = 'scrollbar';\nconst SCROLLER = 'scroller';\n\nclass ScrollArea extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = _.defaults({\n      startY: 0,\n      endY: 0,\n      zoom: 1,\n    }, this.state);\n\n    this.setZoom = this.setZoom.bind(this);\n\n    this.mouseDown = this.mouseDown.bind(this);\n    this.mouseUp = this.mouseUp.bind(this);\n\n    this.moveEvent = this.moveEvent.bind(this);\n\n    this.touchStart = this.touchStart.bind(this);\n    this.touchEnd = this.touchEnd.bind(this);\n  }\n\n  bootstrap() {\n    super.bootstrap();\n\n    this.setZoom();\n    window.addEventListener('resize', this.setZoom);\n\n    this[AREA] = ReactDOM.findDOMNode(this.refs[AREA]);\n    this[CONTENT] = ReactDOM.findDOMNode(this.refs[CONTENT]);\n    this[SCROLLBAR] = ReactDOM.findDOMNode(this.refs[SCROLLBAR]);\n    this[SCROLLER] = ReactDOM.findDOMNode(this.refs[SCROLLER]);\n\n    this[AREA].scrollTop = 0;\n\n    this[AREA].addEventListener('scroll', e => {\n      var areaScrollTop, endY;\n\n      if (!e.target || this.dragging) return;\n\n      areaScrollTop = e.target.scrollTop;\n      endY = (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight) * (areaScrollTop / (this[CONTENT].offsetHeight - this[AREA].offsetHeight));\n\n      this.setState({\n        startY: 0,\n        endY,\n      });\n    });\n\n    this[SCROLLER].addEventListener('mousedown', this.mouseDown);\n    this[SCROLLER].addEventListener('touchstart', this.touchStart);\n  }\n\n  setZoom() {\n    skoash.trigger('getState').then(state => {\n      this.setState({\n        zoom: state.scale,\n      });\n    });\n  }\n\n  mouseDown(e) {\n    this.startEvent(e, this.attachMouseEvents);\n  }\n\n  touchStart(e) {\n    this.startEvent(e, this.attachTouchEvents);\n  }\n\n  startEvent(e, cb) {\n    var startY, endY;\n\n    if (e.target !== this[SCROLLER]) return;\n\n    this.dragging = true;\n\n    e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\n    endY = this.getEndY(e);\n    startY = this.state.startY || endY;\n\n    this.setState({\n      startY,\n      endY,\n    });\n\n    if (typeof cb === 'function') cb.call(this);\n  }\n\n  getEndY(e) {\n    return Math.min(\n      Math.max(\n        e.pageY / this.state.zoom,\n        this.state.startY\n      ),\n      this.state.startY +\n      this[SCROLLBAR].getBoundingClientRect().height / this.state.zoom -\n      this.props.scrollbarHeight\n    );\n  }\n\n  attachMouseEvents() {\n    window.addEventListener('mousemove', this.moveEvent);\n    window.addEventListener('mouseup', this.mouseUp);\n  }\n\n  attachTouchEvents() {\n    window.addEventListener('touchmove', this.moveEvent);\n    window.addEventListener('touchend', this.touchEnd);\n  }\n\n  moveEvent(e) {\n    var endY;\n\n    e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\n    endY = this.getEndY(e);\n\n    this[AREA].scrollTop = (endY - this.state.startY) *\n      (this[CONTENT].offsetHeight - this[AREA].offsetHeight) /\n      (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight);\n\n    this.setState({\n      endY,\n    });\n  }\n\n  mouseUp() {\n    this.dragging = false;\n    this.detachMouseEvents();\n  }\n\n  touchEnd() {\n    this.dragging = false;\n    this.detachTouchEvents();\n  }\n\n  detachMouseEvents() {\n    window.removeEventListener('mousemove', this.moveEvent);\n    window.removeEventListener('mouseup', this.mouseUp);\n  }\n\n  detachTouchEvents() {\n    window.removeEventListener('touchmove', this.moveEvent);\n    window.removeEventListener('touchend', this.touchEnd);\n  }\n\n  getScrollerStyle() {\n    return {\n      backgroundImage: `url(${this.props.img})`,\n      top: this.state.endY - this.state.startY,\n    };\n  }\n\n  getClassNames() {\n    return classNames('scroll-area', super.getClassNames());\n  }\n\n  render() {\n    if (!this.props.shouldRender) return null;\n\n    return (\n      <this.props.type {...this.props} className={this.getClassNames()}>\n        <skoash.Image ref={IMAGE} className=\"hidden\" src={this.props.img} />\n        <div ref={AREA} className={AREA}>\n          <div ref={CONTENT} className={CONTENT}>\n            {this.renderContentList()}\n          </div>\n        </div>\n        <div\n          ref={SCROLLBAR}\n          className={SCROLLBAR}\n        >\n          <div\n            ref={SCROLLER}\n            className={SCROLLER}\n            style={this.getScrollerStyle()}\n          />\n        </div>\n      </this.props.type>\n    );\n  }\n}\n\nScrollArea.defaultProps = _.defaults({\n  img: '',\n  scrollbarHeight: 100,\n}, skoash.Component.defaultProps);\n\nexport default ScrollArea;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/scroll_area/0.1.js\n **/","import Selectable from 'shared/components/selectable/0.1.js';\nimport Reveal from 'shared/components/reveal/0.1.js';\n\nclass SelectableReveal extends skoash.Component {\n  constructor() {\n    super();\n  }\n\n  start() {\n    super.start();\n    this.setState({\n      canSelectOnStart: this.props.canSelectOnStart\n    });\n  }\n\n  open(message) {\n    this.refs.reveal.open(message);\n  }\n\n  selectRespond(message) {\n    if (this.props.answers.length) {\n      if (this.props.answers.indexOf(message) === -1) {\n        if (this.audio.incorrect) this.audio.incorrect.play();\n        if (this.props.revealAll) {\n          if (typeof this.refs.reveal.open === 'function') {\n            this.open(message);\n          }\n        }\n      } else {\n        if (this.audio.correct) this.audio.correct.play();\n        if (typeof this.refs.reveal.open === 'function') {\n          this.open(message);\n        }\n      }\n    } else {\n      if (this.props.allCorrect && this.audio.correct) {\n        this.audio.correct.play();\n      }\n      if (typeof this.refs.reveal.open === 'function') {\n        this.open(message);\n      }\n    }\n  }\n\n  closeRespond() {\n    if (typeof this.props.closeRespond === 'function') {\n      this.props.closeRespond();\n    }\n  }\n\n  renderAssets() {\n    if (this.props.assets) {\n      return this.props.assets.map((asset, key) => {\n        return (\n          <skoash.Audio\n            {...asset.props}\n            ref={asset.ref || asset.props['data-ref'] || ('asset-' + key)}\n            key={key}\n            data-ref={key}\n          />\n        );\n      });\n    }\n\n    return null;\n  }\n\n  renderSelectable() {\n    return (\n      <Selectable\n        ref=\"selectable\"\n        list={this.props.selectableList}\n        selectRespond={this.selectRespond.bind(this)}\n        selectClass={this.props.selectableSelectClass}\n        completeOnSelect={this.props.selectableCompleteOnSelect}\n        checkComplete={this.props.selectableCheckComplete}\n        randomizeList={this.props.randomizeSelectableList}\n        selectOnStart={this.props.selectOnStart}\n        chooseOne={this.props.chooseOne}\n        // answers={this.props.answers}\n        allowDeselect={this.props.allowDeselect}\n      />\n    );\n  }\n\n  renderReveal() {\n    return (\n      <Reveal\n        ref=\"reveal\"\n        list={this.props.revealList}\n        assets={this.props.revealAssets}\n        closeRespond={this.closeRespond.bind(this)}\n        completeOnOpen={this.props.revealCompleteOnOpen}\n        checkComplete={this.props.revealCheckComplete}\n        openOnStart={this.props.openOnStart}\n        hide={this.props.hideReveal}\n        openReveal={this.props.openReveal}\n        onOpen={this.props.onOpen}\n      />\n    );\n  }\n\n  getClasses() {\n    var classes = '';\n\n    if (this.state.complete) classes += ' COMPLETE';\n\n    return classes;\n  }\n\n  render() {\n    return (\n      <div className={'selectable-reveal' + this.getClasses()}>\n        {this.renderAssets()}\n        {this.renderSelectable()}\n        {this.renderReveal()}\n      </div>\n    );\n  }\n}\n\nSelectableReveal.defaultProps = _.defaults({\n  answers: [],\n  canSelectOnStart: true\n}, skoash.Component.defaultProps);\n\nexport default SelectableReveal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/selectable_reveal/0.1.js\n **/","import Canvas from 'shared/components/canvas/0.1';\nimport Menu from 'shared/components/menu/0.1';\nimport Selectable from 'shared/components/selectable/0.1';\n// import Reveal from 'shared/components/reveal/0.1';\n\nimport classNames from 'classnames';\n\nclass CanvasScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n      menu: {},\n      valid: true,\n    };\n\n    this.rightMenuList = [\n      <li className=\"preview\" onClick={this.preview.bind(this)}>\n        <span />\n      </li>,\n      <li className=\"send\" onClick={this.send.bind(this)}>\n        <span />\n      </li>\n    ];\n\n    this.setValid = this.setValid.bind(this);\n    this.closeReveal = this.closeReveal.bind(this);\n    this.setHasAssets = this.setHasAssets.bind(this);\n  }\n\n  getData() {\n    return this.refs.canvas.getItems();\n  }\n\n  reset() {\n    this.refs.canvas.reset();\n    this.setState({\n      background: false,\n      hasAssets: false,\n    });\n  }\n\n  addItem(message) {\n    if (message) {\n      this.setState({\n        hasAssets: true,\n        background: this.state.background ||\n              message.asset_type === 'background',\n      });\n      this.refs.canvas.addItem(message, () => {\n        skoash.trigger('save');\n      });\n    }\n  }\n\n  addItems(message) {\n    var hasAssets, background;\n\n    hasAssets = true;\n    background = !!message.rules.background;\n\n    this.mapRulesStringToNumbers(message.rules);\n\n    this.refs.canvas.setItems(message.rules);\n\n    this.setState({\n      hasAssets,\n      background,\n    });\n\n    if (message.friend_to) {\n      skoash.trigger('passData', {\n        name: 'add-recipient',\n        message: message.friend_to\n      });\n    }\n  }\n\n  setMenu() {\n    var menu, state = this.props.gameState;\n\n    if (state && state.data && state.data.menu) {\n      menu = state.data.menu;\n      this.setState({\n        menu,\n      });\n    }\n  }\n\n  mapRulesStringToNumbers(rules) {\n    if (!rules) return;\n\n    if (_.isArray(rules.items)) {\n      rules.items.forEach(item => {\n        item.state.left = parseFloat(item.state.left);\n        item.state.rotation = parseFloat(item.state.rotation);\n        item.state.scale = parseFloat(item.state.scale);\n        item.state.top = parseFloat(item.state.top);\n      });\n    }\n\n    if (_.isArray(rules.messages)) {\n      rules.messages.forEach(message => {\n        message.state.left = parseFloat(message.state.left);\n        message.state.rotation = parseFloat(message.state.rotation);\n        message.state.scale = parseFloat(message.state.scale);\n        message.state.top = parseFloat(message.state.top);\n      });\n    }\n\n    return rules;\n  }\n\n  open(opts = {}) {\n    this.setMenu();\n\n    if (this.refs && this.refs.menu) {\n      this.refs.menu.deactivate();\n    }\n\n    if (!opts.draft) skoash.trigger('save');\n\n    // interval = setInterval(() => {\n    //   skoash.trigger('save');\n    // }, 120000);\n\n    // this.setState({\n    //   interval\n    // });\n\n    super.open();\n  }\n\n  close() {\n    skoash.trigger('save');\n    // clearInterval(this.state.interval);\n    // this.setState({\n    //   interval: null\n    // });\n    super.close();\n  }\n\n  setValid(valid) {\n    this.setState({\n      valid\n    });\n  }\n\n  setHasAssets(hasAssets) {\n    this.setState({\n      hasAssets\n    });\n  }\n\n  send() {\n    if (!this.state.valid) return;\n    this.goto('send');\n  }\n\n  preview() {\n    if (!this.state.valid) return;\n    this.goto('preview');\n  }\n\n  closeReveal() {\n    if (this.refs && this.refs.reveal) {\n      this.refs.reveal.close();\n    }\n  }\n\n  getContainerClasses() {\n    return classNames({\n      'canvas-container': true,\n      BACKGROUND: this.state.background,\n    });\n  }\n\n  getClassNames() {\n    return classNames({\n      'HAS-ASSETS': this.state.hasAssets,\n      'INVALID': !this.state.valid,\n    }, skoash.Screen.prototype.getClassNames.call(this));\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <skoash.Image className=\"hidden\" src=\"media/_Frames/SK_frames_canvas.png\" />\n        <skoash.Image className=\"hidden\" src=\"media/_Buttons/SK_btn_friend.png\" />\n        <Menu\n          ref={'menu'}\n          items={this.state.menu.items}\n          level={0}\n          lastLevel={1}\n        />\n        <div className={this.getContainerClasses()}>\n          <Canvas\n            ref={'canvas'}\n            setValid={this.setValid}\n            setHasAssets={this.setHasAssets}\n            itemMinDim={150}\n          />\n        </div>\n        <Selectable className=\"menu right-menu\" list={this.rightMenuList} />\n      </div>\n    );\n    // move this back up below the Selectable when there is an instructional help video\n    /*\n        <Reveal\n          ref=\"reveal\"\n          openOnStart=\"0\"\n          list={[\n            <li>\n              <skoash.Image className=\"otter\" src={'media/_Otter/Otter_Static_GreetingTwo.png'} />\n              <div className=\"bubble\">\n                Welcome to your canvas!<br/><br/>\n                Would you like me<br/>\n                to show you around?\n                <div className=\"buttons\">\n                  <button\n                    className=\"yes\"\n                    onClick={skoash.trigger.bind(null, 'openMenu', {id: 'help'})}\n                  />\n                  <button\n                    className=\"no\"\n                    onClick={this.closeReveal}\n                  />\n                </div>\n              </div>\n            </li>\n          ]}\n        />\n    */\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <CanvasScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"canvas\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/canvas_screen.js\n **/","import ItemDrawer from '../../shared/components/item_drawer/0.1.js';\n\nconst DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\nclass FriendScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n      complete: true,\n      recipient: {},\n      opts: {},\n    };\n  }\n\n  selectRespond(message) {\n    skoash.trigger('pass-data', {\n      name: 'add-recipient',\n      goto: this.state.opts.goto,\n      message\n    });\n  }\n\n  updateData(d) {\n    var data = d && d.user ? d.user : this.props.gameState.data.user || [];\n\n    data = data.map(friend => {\n      var src = friend._embedded.image && friend._embedded.image.url ?\n        friend._embedded.image.url :\n        DEFAULT_PROFILE_IMAGE;\n      return {\n        'user_id': friend.friend_id,\n        name: friend.username,\n        src,\n        // I need to get the flips earned back from the backend to do this.\n        description: '',\n        // description: friend.flips_earned + ' Flips Earned',\n        'asset_type': 'friend',\n      };\n    });\n\n    this.setState({\n      data,\n    });\n  }\n\n  open(opts) {\n    var recipient, self = this;\n\n    self.updateData();\n\n    skoash.trigger('getData', {\n      name: 'getFriends'\n    }).then(data => {\n      self.updateData.call(self, data);\n    });\n\n    recipient = this.props.gameState.recipient;\n\n    self.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n      recipient,\n      opts,\n    }, () => {\n      self.refs.drawer && self.refs.drawer.start();\n    });\n\n    if (!self.state.started) {\n      self.start();\n    }\n  }\n\n  suggestFriends() {\n    window.open(window.location.origin.replace('games-', '') + '/friends/suggested');\n  }\n\n  save() {\n    skoash.trigger('goto', {\n      index: 'canvas',\n    });\n    skoash.trigger('openMenu', {id: 'save'});\n  }\n\n  renderOtter() {\n    var copy, src;\n\n    src = 'One';\n    copy = (\n      <span>\n        Don't have<br/> friends yet?<br/><br/> Let me suggest<br/> some for you.\n      </span>\n    );\n\n    if (this.state.data && this.state.data.length) {\n      src = 'Two';\n      copy = (\n        <span>\n          Let me find a friend<br/> to send your message to.\n        </span>\n      );\n    }\n\n    return (\n      <div className={'otter-container ' + src}>\n        <skoash.Image className=\"otter\" src={`media/_Otter/Otter_Static_Greeting${src}.png`} />\n        <div className=\"bubble\">\n          {copy}\n        </div>\n      </div>\n    );\n  }\n\n  renderFriends() {\n    if (this.state.data && this.state.data.length) {\n      return (\n        <ItemDrawer\n          ref=\"drawer\"\n          scrollbarImg=\"./media/_Buttons/sk_btn_slider.png\"\n          selectRespond={this.selectRespond.bind(this)}\n          cancelRespond={this.back}\n          categories={this.state.opts.categories}\n          data={this.state.data}\n          selectedItem={this.state.recipient}\n          buttons={this.buttons}\n          complete={true}\n          className={this.state.opts.goto}\n        />\n      );\n    }\n\n    return (\n      <div className={this.state.opts.goto}>\n        <div className=\"item-drawer-container\">\n          <div className=\"suggest-friends-buttons\">\n            <button className=\"continue\" onClick={this.selectRespond.bind(this, {})} />\n            <button className=\"suggest\" onClick={this.suggestFriends} />\n            <button className=\"save-to-drafts\" onClick={this.save} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <div className=\"header\" />\n        {this.renderOtter()}\n        {this.renderFriends()}\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <FriendScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"friends\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/friend_screen.js\n **/","import SelectableReveal from '../../shared/components/selectable_reveal/0.1.js';\nimport Inbox from '../../shared/components/inbox/0.1.js';\nimport SavedMessages from '../../shared/components/saved_messages/0.1.js';\n\nconst inboxEmptyMessage = (\n  <span>\n    You haven't received any Skribbles!<br/>\n    Get started by sending some!\n  </span>\n  );\nconst unreadEmptyMessage = (\n  <span>\n    You don't have any<br/>\n    unread Skribbles!\n  </span>\n  );\nconst readEmptyMessage = (\n  <span>\n    You don't have any<br/>\n    read Skribbles!\n  </span>\n  );\nconst sentEmptyMessage = (\n  <span>\n    You haven't sent any Skribbles.<br/>\n    Let's get started!\n  </span>\n  );\nconst draftsEmptyMessage = (\n  <span>\n    You don't have any drafts.<br/>\n    Start Skribbling!\n  </span>\n  );\n\n\nclass InboxScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n    };\n\n    this.selectableList = [\n      <li />,\n      <li />,\n      <li />,\n      <li />,\n      <li />,\n    ];\n\n    this.revealList = this.getRevealList();\n\n    this.readMessage = this.readMessage.bind(this);\n    this.editMessage = this.editMessage.bind(this);\n  }\n\n  getRevealList(inbox, outbox, saved) {\n    var read, unread, props = this.props || {};\n\n    inbox = inbox || [];\n\n    read = inbox.filter(item => {\n      return item.read;\n    });\n\n    unread = inbox.filter((item) => {\n      return !item.read;\n    });\n\n    return [\n      <li>\n        <Inbox\n          data-ref=\"inbox\"\n          data={{\n            items: inbox || [],\n          }}\n          emptyMessage={inboxEmptyMessage}\n          selectRespond={this.readMessage}\n          gameState={props.gameState}\n        />\n      </li>,\n      <li>\n        <Inbox\n          data-ref=\"unread\"\n          data={{\n            items: unread || [],\n          }}\n          emptyMessage={unreadEmptyMessage}\n          selectRespond={this.readMessage}\n          gameState={props.gameState}\n        />\n      </li>,\n      <li>\n        <Inbox\n          data-ref=\"read\"\n          data={{\n            items: read || [],\n          }}\n          emptyMessage={readEmptyMessage}\n          selectRespond={this.readMessage}\n          gameState={props.gameState}\n        />\n      </li>,\n      <li>\n        <Inbox\n          data-ref=\"outbox\"\n          data={{\n            items: outbox || [],\n          }}\n          emptyMessage={sentEmptyMessage}\n          friendKey=\"friend_to\"\n          selectRespond={this.readMessage}\n          gameState={props.gameState}\n        />\n      </li>,\n      <li>\n        <SavedMessages\n          data-ref=\"saved\"\n          data={{\n            items: saved || [],\n          }}\n          emptyMessage={draftsEmptyMessage}\n          selectRespond={this.editMessage}\n        />\n      </li>,\n    ];\n  }\n\n  editMessage(message) {\n    skoash.trigger('loadSkribble', {\n      message,\n    });\n  }\n\n  readMessage(message) {\n    skoash.trigger('goto', {\n      index: 'read',\n      message,\n    });\n  }\n\n  updateData() {\n    var data, inbox, outbox, saved;\n\n    data = this.props.gameState.data;\n    inbox = data.received;\n    outbox = data.sent;\n    saved = data.draft;\n\n    this.revealList = this.getRevealList(inbox, outbox, saved);\n\n    this.setState({\n      inbox,\n      outbox,\n      saved,\n    });\n  }\n\n  open() {\n    var self = this;\n\n    skoash.trigger('getData', {\n      status: 'received',\n    }).then(() => {\n      self.updateData();\n    });\n\n    skoash.trigger('getData', {\n      status: 'sent',\n    }).then(() => {\n      self.updateData();\n    });\n\n    skoash.trigger('getData', {\n      status: 'draft',\n    }).then(() => {\n      self.updateData();\n    });\n\n    self.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n    });\n\n    setTimeout(() => {\n      if (!self.state.started) {\n        self.start();\n      }\n    }, 250);\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <div className=\"center\">\n          <div className=\"frame\">\n            <SelectableReveal\n              ref={'selectableReveal'}\n              selectableList={this.selectableList}\n              revealList={this.revealList}\n              selectOnStart={'0'}\n              openOnStart={'0'}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <InboxScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"inbox\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/inbox_screen.js\n **/","import ItemDrawer from '../../shared/components/item_drawer/0.1.js';\n\nclass ItemDrawerScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      opts: {\n        categories: [],\n      },\n    };\n\n  }\n\n  selectRespond(message) {\n    skoash.trigger('pass-data', {\n      name: 'add-item',\n      message\n    });\n  }\n\n  updateData(d) {\n    var data = d ? d : this.props.gameState.data.menu.items;\n\n    this.state.opts.categories.forEach(key => {\n      if (data[key]) data = data[key];\n      if (data.items) data = data.items;\n    });\n\n    data = _.values(data);\n\n    this.setState({\n      data,\n    });\n  }\n\n  open(opts) {\n    var self = this;\n\n    skoash.trigger('getMedia', {\n      path: 'skribble/menu/' + opts.categories.join('/')\n    }).then(data => {\n      self.updateData(data);\n    });\n\n    self.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n      opts,\n      data: null\n    }, () => {\n      self.updateData();\n    });\n\n    setTimeout(() => {\n      if (!self.state.started) {\n        self.start();\n      }\n    }, 250);\n  }\n\n  cancelRespond() {\n    if (this.state.category) {\n      this.setState({\n        category: '',\n        categoryName: '',\n      });\n    } else {\n      skoash.trigger('goto', {index: 'canvas'});\n    }\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <ItemDrawer\n          ref=\"drawer\"\n          scrollbarImg=\"./media/_Buttons/sk_btn_slider.png\"\n          selectRespond={this.selectRespond.bind(this)}\n          cancelRespond={this.cancelRespond}\n          categories={this.state.opts.categories}\n          data={this.state.data}\n        />\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <ItemDrawerScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"item-drawer\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/item_drawer_screen.js\n **/","class MenuScreen extends skoash.Screen {\n  renderContent() {\n    return (\n      <div>\n        <skoash.Image className=\"hidden\" src=\"media/_Background/SK_BKG_1.png\" />\n        <skoash.Image className=\"otter\" src=\"media/_Otter/Waving_Otter2.gif\" />\n        <div className=\"bubble\">\n          Hi there!<br/>\n          What would you<br/>\n          like to do today?\n        </div>\n        <div className=\"buttons\">\n          <button className=\"make\" onClick={this.goto.bind(this, 'friend')} />\n          <button className=\"read\" onClick={this.goto.bind(this, 'inbox')} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <MenuScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"menu\"\n      hidePrev\n      hideNext\n      load\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/menu_screen.js\n **/","import Canvas from 'shared/components/canvas/0.1';\nimport Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n  skribbleBox: 'skribble-box',\n  box: 'box',\n  leftMenu: 'menu left-menu',\n  rightMenu: 'menu right-menu',\n};\n\nconst refs = {\n  box: 'box',\n  canvas: 'canvas'\n};\n\nclass PreviewScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n      opts: {},\n    };\n\n    this.leftMenuList = [\n      <li className=\"edit\" onClick={this.goto.bind(this, 'canvas')}>\n        <span />\n      </li>,\n    ];\n\n    this.rightMenuList = [\n      <li className=\"send\" onClick={this.goto.bind(this, 'send')}>\n        <span />\n      </li>\n    ];\n  }\n\n  open(opts) {\n    skoash.trigger('getRules').then(rules => {\n      this.refs[refs.box].refs[refs.canvas].setItems(rules);\n      super.open(opts);\n    });\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <skoash.Component ref={refs.box} className={classNameText.skribbleBox}>\n          <Canvas ref={refs.canvas} preview />\n          <div className={classNameText.box} />\n        </skoash.Component>\n        <Selectable className={classNameText.leftMenu} list={this.leftMenuList} />\n        <Selectable className={classNameText.rightMenu} list={this.rightMenuList} />\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <PreviewScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"preview\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/preview_screen.js\n **/","import classNames from 'classnames';\n\nimport Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n  skribbleBox: 'skribble-box',\n  box: 'box',\n  leftMenu: 'menu left-menu',\n  rightMenu: 'menu right-menu',\n  sender: 'menu recipient sender',\n};\n\nconst refs = {\n  box: 'box',\n};\n\nclass ReadScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state.load = true;\n    this.state.message = {user: {}};\n\n    this.leftMenuList = [\n      <li className=\"inbox\" onClick={this.goto.bind(this, 'inbox')}>\n        <span />\n      </li>\n    ];\n\n    this.rightMenuList = [\n      <li className=\"reply\" onClick={this.reply.bind(this)}>\n        <span />\n      </li>\n    ];\n  }\n\n  reply() {\n    skoash.trigger('passData', {\n      name: 'add-recipient',\n      message: this.state.message.created_by,\n    });\n  }\n\n  open(opts) {\n    var message, friends, creater;\n\n    message = opts.message || {};\n\n    friends = this.props.gameState.data.user || [];\n    friends.forEach(friend => {\n      if (message.created_by === friend.friend_id) {\n        creater = friend;\n      }\n    });\n\n    this.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n      message,\n      creater\n    });\n\n    this.start();\n\n    skoash.trigger('getData', {\n      name: 'markAsRead',\n      'skribble_id': message.skribble_id,\n    });\n  }\n\n  getSenderClassNames() {\n    return classNames(\n      classNameText.sender, {\n        HIDE: !this.state.creater || this.state.message.sent\n      }\n    );\n  }\n\n  renderSender() {\n    var creater, content = [];\n\n    creater = this.state.creater;\n\n    if (!creater) return;\n\n    if (creater.username) {\n      content.push(<span className=\"name\">{creater.username}</span>);\n    }\n\n    if (creater._embedded.image) {\n      content.push(<img className=\"profile-image\" src={creater._embedded.image.url} />);\n    }\n\n    return content;\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <ul className={this.getSenderClassNames()}>\n          <li>\n            <span>\n              {this.renderSender()}\n            </span>\n          </li>\n        </ul>\n        <skoash.Component ref={refs.box} className={classNameText.skribbleBox}>\n          <skoash.Image src={this.state.message.url} />\n          <div className={classNameText.box} />\n        </skoash.Component>\n        <Selectable className={classNameText.leftMenu} list={this.leftMenuList} />\n        <Selectable className={classNameText.rightMenu} list={this.rightMenuList} />\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <ReadScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"read\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/read_screen.js\n **/","class SaveMenu extends skoash.Screen {\n  cancel() {\n    this.close();\n    skoash.trigger('menuClose', {\n      id: this.state.id,\n    });\n  }\n\n  render() {\n    return (\n      <div id={this.props.id} className={this.getClassNames()}>\n        <div className=\"center\">\n          <div className=\"frame\">\n            <button className=\"quit-saved\" onClick={this.cancel.bind(this)}></button>\n            <h2>Your progress</h2>\n            <h2>has been saved</h2>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default (\n  <SaveMenu\n    id=\"save\"\n  />\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/save_menu.js\n **/","import Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n  yourMessageTo: 'your-message-to',\n  isReady: 'is-ready',\n  changeFriend: 'change-friend',\n  character: 'character',\n  gift: 'gift',\n  header: 'header',\n  username: 'username',\n};\n\nclass SendScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state.load = true;\n    this.state.recipient = {};\n\n    this.rightMenuList = [\n      <li className=\"edit-right\" onClick={this.goto.bind(this, 'canvas')}>\n        <span />\n      </li>,\n      <li className=\"send\" onClick={this.send}>\n        <span />\n      </li>\n    ];\n  }\n\n  open() {\n    var recipient = this.props.gameState.recipient || {};\n\n    this.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n      recipient\n    });\n\n    this.start();\n  }\n\n  send() {\n    skoash.trigger('pass-data', {\n      name: 'send',\n    });\n  }\n\n  renderContent() {\n    var changeFriendClick = this.goto.bind(this, {\n      index: 'friend',\n      goto: 'send',\n    });\n\n    return (\n      <div>\n        <div className={classNameText.header}>\n          <span className={classNameText.yourMessageTo} />\n          <span className={classNameText.username}>{this.state.recipient.name}</span>\n          <br/>\n          <span className={classNameText.isReady} />\n          <button className={classNameText.changeFriend} onClick={changeFriendClick} />\n        </div>\n        <div className={classNameText.character}>\n          <skoash.Image className=\"otter\" src=\"media/_Otter/Otter_Static_GreetingTwo.png\" />\n          <div className=\"bubble\">\n            Are you sure<br/>\n            you are ready to<br/>\n            send your message?\n          </div>\n        </div>\n        <div className={classNameText.gift} />\n        <Selectable className=\"menu right-menu\" list={this.rightMenuList} />\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <SendScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"send\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/send_screen.js\n **/","const classNameText = {\n  character: 'character',\n  header: 'header',\n  yourMessageTo: 'your-message-to',\n  username: 'username',\n  isReady: 'is-ready',\n  buttons: 'buttons',\n  createAnother: 'create-another',\n  inbox: 'inbox',\n};\n\nconst text = {\n  yourMessageTo: 'YOUR MESSAGE TO:',\n  hasBeenSent: 'IS BEING SENT!',\n};\n\nclass SentScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n      opts: {\n        recipient: {}\n      },\n    };\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <div className={classNameText.character} />\n        <div className={classNameText.header}>\n          <span className={classNameText.yourMessageTo}>{text.yourMessageTo}</span>\n          <span className={classNameText.username}>{this.state.opts.recipient.name}</span>\n          <br/>\n          <span className={classNameText.isReady}>{text.hasBeenSent}</span>\n        </div>\n        <div className={classNameText.buttons}>\n          <button className={classNameText.createAnother} onClick={this.goto.bind(this, 'friend')} />\n          <button className={classNameText.inbox} onClick={this.goto.bind(this, 'inbox')} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <SentScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"sent\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/sent_screen.js\n **/","export default function (props, ref, key) {\n  return (\n    <skoash.Screen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"title\"\n      hidePrev\n      nextDelay={1000}\n      nextIndex=\"menu\"\n    >\n      <skoash.Image\n        ref=\"title\"\n        className=\"title animated\"\n        src=\"media/_Title/SKribble_title.png\"\n      />\n      <skoash.Image\n        ref=\"play\"\n        className=\"hidden\"\n        src=\"media/_Buttons/skribble-play-01.png\"\n      />\n      <skoash.Image\n        ref=\"play-hover\"\n        className=\"hidden\"\n        src=\"media/_Buttons/skribble-hover.png\"\n      />\n    </skoash.Screen>\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/title_screen.js\n **/","var config = {\n  id: 'skribble',\n  version: 1,\n  skoash: '1.0.3',\n  dimensions: {\n    width: 1600,\n    ratio: 16 / 9\n  },\n};\n\nexport default config;\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/config.game.js\n **/","import config from './config.game';\n\nimport Loader from 'shared/components/loader/0.1';\n\nimport iOSScreen from 'shared/components/ios_splash_screen/0.1';\nimport TitleScreen from './components/title_screen';\nimport MenuScreen from './components/menu_screen';\nimport FriendScreen from './components/friend_screen';\nimport CanvasScreen from './components/canvas_screen';\nimport ItemDrawerScreen from './components/item_drawer_screen';\nimport InboxScreen from './components/inbox_screen';\nimport PreviewScreen from './components/preview_screen';\nimport SendScreen from './components/send_screen';\nimport SentScreen from './components/sent_screen';\nimport ReadScreen from './components/read_screen';\n\nimport QuitScreen from 'shared/components/quit_screen/0.1';\nimport SaveMenu from './components/save_menu';\n\nconst DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\nclass SkribbleGame extends skoash.Game {\n  ready() {\n    if (!this.state.ready) {\n      this.getMediaOnReady();\n      this.getFriends();\n    }\n\n    super.ready();\n  }\n\n  getRules() {\n    return this.refs['screen-canvas'].getData();\n  }\n\n  save(e, skramble) {\n    /* eslint-disable camelcase */\n    var friend_to, rules, self = this;\n    friend_to = self.state.recipient && self.state.recipient.user_id ? self.state.recipient.user_id : null;\n    rules = self.getRules();\n    var skribble = {\n      'version': config.version,\n      ...self.state.skribbleData,\n      friend_to,\n      skramble,\n      rules\n    };\n\n    if (!rules.background && !rules.items.length && !rules.messages.length) {\n      return;\n    }\n\n    if (JSON.stringify(skribble) !== JSON.stringify(this.state.skribble)) {\n      self.emit({\n        name: 'saveSkribble',\n        game: self.config.id,\n        skribble,\n      }).then(skribbleData => {\n        self.setState({\n          skribbleData,\n          skribble\n        });\n      });\n    }\n    /* eslint-enable camelcase */\n  }\n\n  send() {\n    this.save(null, true);\n\n    this.refs['screen-canvas'].reset();\n    this.goto({\n      index: 'sent',\n      recipient: this.state.recipient,\n    });\n\n    this.setState({\n      recipient: null,\n      skribbleData: null,\n    });\n  }\n\n  trigger(event, opts) {\n    switch (event) {\n    case 'save':\n      return this.save();\n    case 'getMedia':\n      return this.getMedia(opts.path);\n    case 'getRules':\n      return this.getRules();\n    case 'loadSkribble':\n      return this.loadSkribble(opts);\n    }\n\n    return super.trigger(event, opts);\n  }\n\n  loadSkribble(opts) {\n    this.setState({\n      skribbleData: opts.message\n    }, () => {\n      this.refs['screen-canvas'].addItems(opts.message);\n      this.goto({\n        index: 'canvas',\n        draft: true,\n      });\n    });\n  }\n\n  getMedia(path) {\n    var pathArray, self = this;\n\n    path = path || 'skribble/menu';\n    pathArray = path.split('/');\n    pathArray.shift();\n\n    return self.emit({\n      name: 'getMedia',\n      path\n    }).then(d => {\n      var opts, currentOpts;\n      opts = {\n        data: {},\n        callback: () => {\n          self.refs['screen-canvas'].setMenu();\n          self.refs['screen-item-drawer'].updateData();\n        }\n      };\n      currentOpts = opts.data;\n\n      pathArray.forEach((key, index) => {\n        currentOpts[key] = {\n          items: {}\n        };\n        if (index !== pathArray.length - 1) {\n          currentOpts = currentOpts[key].items;\n        }\n      });\n\n      currentOpts[pathArray[pathArray.length - 1]] = _.clone(d);\n      currentOpts[pathArray[pathArray.length - 1]].items = {};\n\n      if (d.items) {\n        d.items.forEach(item => {\n          if (item.asset_type === 'folder' && item.name) {\n            self.getMedia(path + '/' + item.name);\n          } else {\n            currentOpts[pathArray[pathArray.length - 1]].items[item.name] = item;\n          }\n        });\n      }\n\n      self.updateData(opts);\n    });\n  }\n\n  getData(opts) {\n    var names = [\n      'getFriends',\n      'getFriend',\n      'markAsRead',\n    ];\n\n    if (names.indexOf(opts.name) === -1) {\n      opts.name = 'getData';\n    }\n\n    return this.emit(opts).then(data => {\n      if (opts.status) {\n        data[opts.status] = data.skribble;\n        delete data.skribble;\n        this.updateData({\n          data\n        });\n      } else {\n        this.updateData({\n          data,\n          callback: opts.callback,\n        });\n      }\n    });\n  }\n\n  addRecipient(recipient, cb) {\n    var src;\n\n    if (recipient.src) {\n      recipient.profile_image = recipient.src; // eslint-disable-line camelcase\n      delete recipient.src;\n    } else if (typeof recipient === 'string') {\n      if (this.state.data && this.state.data.user) {\n        this.state.data.user.some(friend => {\n          if (friend.friend_id === recipient) {\n            recipient = friend;\n            return true;\n          }\n          return false;\n        });\n      }\n    }\n\n    if (typeof recipient === 'string') {\n      this.getData({\n        name: 'getFriend',\n        'friend_id': recipient,\n        callback: () => {\n          this.addRecipient(recipient, cb);\n        }\n      });\n    } else {\n      src = recipient && recipient._embedded && recipient._embedded.image && recipient._embedded.image.url ?\n        recipient._embedded.image.url :\n        recipient.profile_image || DEFAULT_PROFILE_IMAGE;\n      this.setState({\n        recipient: {\n          'user_id': recipient.user_id || recipient.friend_id,\n          name: recipient.name || recipient.username,\n          src,\n          // I need to get the flips earned back from the backend to do this.\n          description: '',\n          // description: friend.flips_earned + ' Flips Earned',\n          'asset_type': 'friend',\n        }\n      }, cb);\n    }\n  }\n\n  clickRecipient() {\n    this.goto({\n      index: 'friend'\n    });\n  }\n\n  create() {\n    if (this.state.recipient) {\n      this.goto({index: 'canvas'});\n    } else {\n      this.goto({index: 'friend'});\n    }\n  }\n\n  saveButton() {\n    this.save();\n    this.openMenu({id: 'save'});\n  }\n\n  renderRecipient() {\n    var recipient = this.state.recipient, content = [];\n\n    if (!recipient) return;\n\n    if (recipient.name) {\n      content.push(<span className=\"name\">{recipient.name}</span>);\n    }\n\n    if (recipient.profile_image) {\n      content.push(<img className=\"profile-image\" src={recipient.profile_image} />);\n    }\n\n    return content;\n  }\n}\n\nvar Skribble = (\n  <SkribbleGame\n    config={config}\n    screens={{\n      0: iOSScreen,\n      1: TitleScreen,\n      menu: MenuScreen,\n      friend: FriendScreen,\n      canvas: CanvasScreen,\n      'item-drawer': ItemDrawerScreen,\n      inbox: InboxScreen,\n      preview: PreviewScreen,\n      send: SendScreen,\n      sent: SentScreen,\n      read: ReadScreen,\n    }}\n    menus={{\n      quit: QuitScreen,\n      save: SaveMenu,\n    }}\n    loader={<Loader />}\n    assets={[\n      <div className=\"background-1\" />,\n      <div className=\"background-2\" />,\n      <div className=\"background-3\" />,\n      <div className=\"background-4\" />,\n      <div className=\"background-5\" />,\n      <div className=\"background-6\" />,\n    ]}\n    onBootstrap={function () {\n      this.getFriends = _.throttle(this.getData.bind(this, {name: 'getFriends'}), 1000);\n      this.getMediaOnReady = _.throttle(this.getMedia.bind(this), 1000);\n    }}\n    renderMenu={function () {\n      return (\n        <div>\n          <div className=\"game-menu\">\n            <button className=\"save\" onClick={this.saveButton.bind(this)} />\n            <button className=\"inbox\" onClick={this.goto.bind(this, {index: 'inbox'})} />\n            <button className=\"create\" onClick={this.create.bind(this)} />\n            <button className=\"help\" onClick={this.openMenu.bind(this, {id: 'help'})} />\n            <button className=\"close\" onClick={this.openMenu.bind(this, {id: 'quit'})} />\n          </div>\n          <ul className=\"menu recipient\">\n            <li onClick={this.clickRecipient.bind(this)}>\n              <span>\n                {this.renderRecipient()}\n              </span>\n            </li>\n          </ul>\n        </div>\n      );\n    }}\n    getGotoOpts={function (opts) {\n      if (opts.index === 'send') {\n        if (!this.state.recipient || !this.state.recipient.name) {\n          opts.index = 'friend';\n          opts.goto = 'send';\n        }\n      }\n      return opts;\n    }}\n    passData={function (opts) {\n      if (opts.name === 'add-item') {\n        this.refs['screen-canvas'].addItem(opts.message);\n        this.goto({ index: 'canvas' });\n      } else if (opts.name === 'add-recipient') {\n        this.addRecipient(opts.message, this.goto.bind(this, { index: opts.goto || 'canvas' }));\n      } else if (opts.name === 'send') {\n        this.send();\n      }\n    }}\n  />\n);\n\nskoash.start(Skribble);\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/index.js\n **/","'use strict';\nmodule.exports = require('./lib/index');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/index.js\n ** module id = 30\n ** module chunks = 0\n **/","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/decode.js\n ** module id = 31\n ** module chunks = 0\n **/","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/encode.js\n ** module id = 32\n ** module chunks = 0\n **/","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar isValid = require('./is-valid');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/index.js\n ** module id = 33\n ** module chunks = 0\n **/","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/is-valid.js\n ** module id = 34\n ** module chunks = 0\n **/","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/random/random-byte-browser.js\n ** module id = 35\n ** module chunks = 0\n **/","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/random/random-from-seed.js\n ** module id = 36\n ** module chunks = 0\n **/","'use strict';\n\nmodule.exports = 0;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/util/cluster-worker-id-browser.js\n ** module id = 37\n ** module chunks = 0\n **/"],"sourceRoot":""}