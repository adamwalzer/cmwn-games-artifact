{"version":3,"sources":["webpack:///skribble/ai.js","webpack:///webpack/bootstrap f617b61eaf96015d0d60","webpack:///../~/classnames/index.js","webpack:///./shared/components/selectable/0.1.js","webpack:///../~/shortid/lib/alphabet.js","webpack:///./shared/components/canvas/0.1.js","webpack:///./shared/components/item_drawer/0.1.js","webpack:///./shared/components/draggable/0.1.js","webpack:///./shared/components/editable_asset/0.1.js","webpack:///./shared/components/inbox/0.1.js","webpack:///./shared/components/ios_splash_screen/0.1.js","webpack:///./shared/components/loader/0.1.js","webpack:///./shared/components/menu/0.1.js","webpack:///./shared/components/quit_screen/0.1.js","webpack:///./shared/components/reveal/0.1.js","webpack:///./shared/components/saved_messages/0.1.js","webpack:///./shared/components/selectable_reveal/0.1.js","webpack:///./skribble/components/canvas_screen.js","webpack:///./skribble/components/friend_screen.js","webpack:///./skribble/components/inbox_screen.js","webpack:///./skribble/components/item_drawer_screen.js","webpack:///./skribble/components/menu_screen.js","webpack:///./skribble/components/preview_screen.js","webpack:///./skribble/components/read_screen.js","webpack:///./skribble/components/save_menu.js","webpack:///./skribble/components/send_screen.js","webpack:///./skribble/components/sent_screen.js","webpack:///./skribble/components/title_screen.js","webpack:///./skribble/config.game.js","webpack:///./skribble/index.js","webpack:///../~/shortid/index.js","webpack:///../~/shortid/lib/decode.js","webpack:///../~/shortid/lib/encode.js","webpack:///../~/shortid/lib/index.js","webpack:///../~/shortid/lib/is-valid.js","webpack:///../~/shortid/lib/random/random-byte-browser.js","webpack:///../~/shortid/lib/random/random-from-seed.js","webpack:///../~/shortid/lib/util/cluster-worker-id-browser.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","apply","key","hasOwn","join","hasOwnProperty","undefined","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","source","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","get","_x","_x2","_x3","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","getter","parent","getPrototypeOf","_classnames","_classnames2","Selectable","_skoash$Component","this","state","selectFunction","select","start","_this","selectClass","highlight","selectOnStart","setState","started","bootstrap","keys","refs","map","self","correctAnswers","requireForComplete","filter","ref","correct","bin","list","getAll","selectHelper","e","dataRef","isCorrect","closest","getAttribute","answers","indexOf","allowDeselect","callProp","chooseOne","dataTarget","updateGameState","path","data","completeListOnClick","complete","getClass","li","className","getClassNames","checkComplete","every","Node","incomplete","renderBin","React","createElement","type","renderList","_this2","message","data-message","data-ref","render","onClick","bind","skoash","Component","defaultProps","_","defaults","reset","shuffled","setCharacters","_alphabet_","alphabet","ORIGINAL","Error","unique","split","item","ind","arr","lastIndexOf","characters","setSeed","seed","randomFromSeed","previousSeed","shuffle","sourceArray","targetArray","r","nextValue","characterIndex","Math","floor","splice","getShuffled","lookup","index","alphabetShuffled","_defineProperty","_editable_asset01Js","_editable_asset01Js2","Canvas","background","items","messages","offsetX","offsetY","active","valid","deleteItem","checkItem","deactivateItems","relayerItems","setValid","dom","ReactDOM","findDOMNode","width","offsetWidth","height","offsetHeight","getItems","left","top","scale","rotation","layer","corners","check","mime_type","remove","n","setItems","addItem","forEach","asset","cb","count","asset_type","trigger","name","media_id","then","d","reduce","v","src","maxInstances","exclude","_this3","tagName","deactivate","_this4","layers","sort","a","b","oldLayer","newLayer","relayer","isInBounds","can_overlap","some","util","doIntersect","x","y","getStyle","backgroundImage","renderItems","_this5","minDim","itemMinDim","renderMessages","_this6","messageMinDim","canvasWidth","canvasHeight","canvas","ACTIVE","preview","style","_shortid","_shortid2","_selectable01","_selectable012","ItemDrawer","_Selectable","shouldComponentUpdate","nextProps","nextState","quickCheck","itemsChanged","JSON","stringify","category","selectedItem","each","categoryName","scrollTop","selectButton","selectRespond","continueButton","cancelButton","cancelRespond","getCategory","categories","ANSWERED","values","getULClass","_classNames","item-drawer","_classNames2","white","toLowerCase","renderButtons","renderItemContent","content","thumb","subitem","Image","description","aVal","isNaN","window","parseInt","order","Infinity","bVal","ListItem","generate","Draggable","startX","startY","endX","endY","zoom","mouseDown","mouseUp","moveEvent","touchStart","touchEnd","shouldDrag","markCorrect","markIncorrect","startEvent","pageX","pageY","rect","grabX","grabY","el","targetTouches","getBoundingClientRect","isFinite","dragging","return","dragRespond","attachMouseEvents","addEventListener","attachTouchEvents","endEvent","dropRespond","detachMouseEvents","removeEventListener","detachTouchEvents","setCorners","offsetLeft","offsetTop","offsetParent","componentDidMount","setZoom","transform","WebkitTransform","draggable","DRAGGING","RETURN","CORRECT","children","_x4","_draggable01Js","_draggable01Js2","EditableAsset","_Draggable","minScale","maxScale","lastValid","adjustScale","offScale","rotate","adjustRotation","offRotate","activate","setTimeout","_delete","parentNode","deltaX","deltaY","atan2","PI","delta","base","pow","max","min","center","distance","angle","cos","sin","getSize","image","onload","maxDim","getLayer","attachEvents","componentDidUpdate","getButtonStyle","extraRotation","getAssetStyle","zIndex","getButtonsStyle","getClasses","INVALID","renderAsset","Inbox","status","read","UNREAD","friendKey","SENT","COMPLETE","getStatusText","friends","gameState","timestamp","moment","utc","updated","local","friend","friend_id","_embedded","url","username","sent","format","emptyMessage","Screen","completeDelay","nextDelay","completeOnStart","hidePrev","Loader","_selectable01Js","_selectable01Js2","Menu","ul","inactive","gotoObj","isFinal","concat","toString","lastLevel","level","replace","menu","QuitScreen","_skoash$Screen","okay","cancel","close","renderAssets","assets","Audio","Reveal","openReveal","open","playAudio","completeOnOpen","autoClose","openTarget","prevMessage","audio","play","closeRespond","openOnStart","media","voiceOver","componentWillReceiveProps","closeReveal","SavedMessages","SAVED","renderThumb","firstImg","rules","_sharedComponentsSelectable01Js","_sharedComponentsSelectable01Js2","_sharedComponentsReveal01Js","_sharedComponentsReveal01Js2","SelectableReveal","canSelectOnStart","reveal","incorrect","revealAll","allCorrect","renderSelectable","selectableList","selectableSelectClass","completeOnSelect","selectableCompleteOnSelect","selectableCheckComplete","randomizeList","randomizeSelectableList","renderReveal","revealList","revealAssets","revealCompleteOnOpen","revealCheckComplete","hide","hideReveal","onOpen","_sharedComponentsCanvas01","_sharedComponentsCanvas012","_sharedComponentsMenu01","_sharedComponentsMenu012","_sharedComponentsSelectable01","_sharedComponentsSelectable012","CanvasScreen","load","rightMenuList","send","setHasAssets","getData","hasAssets","addItems","mapRulesStringToNumbers","friend_to","setMenu","parseFloat","opts","draft","getContainerClasses","canvas-container","BACKGROUND","HAS-ASSETS","renderContent","hideNext","_sharedComponentsItem_drawer01Js","_sharedComponentsItem_drawer01Js2","DEFAULT_PROFILE_IMAGE","FriendScreen","recipient","goto","updateData","user","user_id","leave","drawer","suggestFriends","location","origin","save","renderOtter","copy","renderFriends","back","buttons","_sharedComponentsSelectable_reveal01Js","_sharedComponentsSelectable_reveal01Js2","_sharedComponentsInbox01Js","_sharedComponentsInbox01Js2","_sharedComponentsSaved_messages01Js","_sharedComponentsSaved_messages01Js2","inboxEmptyMessage","unreadEmptyMessage","readEmptyMessage","sentEmptyMessage","draftsEmptyMessage","InboxScreen","getRevealList","readMessage","editMessage","inbox","outbox","saved","unread","received","ItemDrawerScreen","MenuScreen","classNameText","skribbleBox","box","leftMenu","rightMenu","PreviewScreen","leftMenuList","sender","ReadScreen","reply","created_by","creater","skribble_id","getSenderClassNames","HIDE","renderSender","SaveMenu","yourMessageTo","isReady","changeFriend","character","gift","header","SendScreen","changeFriendClick","createAnother","text","hasBeenSent","SentScreen","nextIndex","config","version","dimensions","ratio","_configGame","_configGame2","_sharedComponentsLoader01","_sharedComponentsLoader012","_sharedComponentsIos_splash_screen01","_sharedComponentsIos_splash_screen012","_componentsTitle_screen","_componentsTitle_screen2","_componentsMenu_screen","_componentsMenu_screen2","_componentsFriend_screen","_componentsFriend_screen2","_componentsCanvas_screen","_componentsCanvas_screen2","_componentsItem_drawer_screen","_componentsItem_drawer_screen2","_componentsInbox_screen","_componentsInbox_screen2","_componentsPreview_screen","_componentsPreview_screen2","_componentsSend_screen","_componentsSend_screen2","_componentsSent_screen","_componentsSent_screen2","_componentsRead_screen","_componentsRead_screen2","_sharedComponentsQuit_screen01","_sharedComponentsQuit_screen012","_componentsSave_menu","_componentsSave_menu2","Skribble","_skoash$Game","screens","0","1","menus","quit","getFriends","throttle","getMediaOnReady","getMedia","ready","getRules","skramble","skribble","skribbleData","emit","game","event","loadSkribble","pathArray","shift","currentOpts","callback","clone","names","passData","addRecipient","profile_image","clickRecipient","saveButton","openMenu","renderLoader","renderRecipient","renderMenu","Game","decode","substr","worker","encode","number","loopCounter","done","str","randomByte","seconds","Date","now","REDUCE_TIME","previousSeconds","counter","clusterWorkerId","seedValue","workerId","newCharacters","isValid","isShortId","len","crypto","getRandomValues","random","dest","Uint8Array","msCrypto","getNextValue","_seed_"],"mappings":"CAAS,SAAUA,SCInB,QAAAC,qBAAAC,UAGA,GAAAC,iBAAAD,UACA,MAAAC,kBAAAD,UAAAE,OAGA,IAAAC,QAAAF,iBAAAD,WACAE,WACAE,GAAAJ,SACAK,QAAA,EAUA,OANAP,SAAAE,UAAAM,KAAAH,OAAAD,QAAAC,cAAAD,QAAAH,qBAGAI,OAAAE,QAAA,EAGAF,OAAAD,QAvBA,GAAAD,oBAqCA,OATAF,qBAAAQ,EAAAT,QAGAC,oBAAAS,EAAAP,iBAGAF,oBAAAU,EAAA,UAGAV,oBAAA,KDMM,SAASI,OAAQD,QAASH,qBAE/BI,OAAOD,QAAUH,oBAAoB,KAKhC,SAASI,OAAQD,QAASH,qBEnDhC,GAAAW,8BAAAC;;;;;CAOA,WACA,YAIA,SAAAC,cAGA,OAFAC,YAEAC,EAAA,EAAiBA,EAAAC,UAAAC,OAAsBF,IAAA,CACvC,GAAAG,KAAAF,UAAAD,EACA,IAAAG,IAAA,CAEA,GAAAC,eAAAD,IAEA,eAAAC,SAAA,WAAAA,QACAL,QAAAM,KAAAF,SACI,IAAAG,MAAAC,QAAAJ,KACJJ,QAAAM,KAAAP,WAAAU,MAAA,KAAAL,UACI,eAAAC,QACJ,OAAAK,OAAAN,KACAO,OAAAlB,KAAAW,IAAAM,MAAAN,IAAAM,MACAV,QAAAM,KAAAI,MAMA,MAAAV,SAAAY,KAAA,KAxBA,GAAAD,WAAgBE,cA2BhB,oBAAAvB,gBAAAD,QACAC,OAAAD,QAAAU,YAGAF,gCAAAC,8BAAA,WACA,MAAAC,aACGU,MAAApB,QAAAQ,gCAAAiB,SAAAhB,gCAAAR,OAAAD,QAAAS,qCF8DG,SAASR,OAAQD,QAASH,qBAE/B,YAYA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAdjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQxcgD,YAAc5E,oBG7HI,GH+HlB6E,aAAehD,uBAAuB+C,aG7HrCE,WAAU,SAAAC,mBACH,QADPD,cHmID7C,gBAAgB+C,KGnIfF,YAEFjB,KAAApB,OAAAkC,eAFEG,WAAUtC,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIZA,KAAKC,OACHnE,WACAoE,eAAgBF,KAAKG,QHkVxB,MAxNA9C,WGhIGyC,WAAUC,mBH6IbxB,aG7IGuB,aH8IDtD,IAAK,QACLoB,MGrIE,QAAAwC,SHsIA,GAAIC,OAAQL,KGrIXM,YAAaJ,eAAgBpE,UAEjCwE,aAAcN,KAAKvB,MAAM6B,aAAeN,KAAKC,MAAMK,aAAe,WAClEJ,eAAiC,gBAAhBI,YAAgCN,KAAKO,UAAYP,KAAKG,OAEnEH,KAAKvB,MAAM+B,gBACb1E,QAAQkE,KAAKvB,MAAM+B,eAAiBF,aAGtCN,KAAKS,UACHC,SAAS,EACT5E,gBACAoE,8BACAI,0BAGFN,KAAKW,YAELlD,OAAOmD,KAAKZ,KAAKa,MAAMC,IAAI,SAAAtE,KACW,kBAAzB6D,OAAKQ,KAAKrE,KAAK4D,OAAsBC,MAAKQ,KAAKrE,KAAK4D,aH6IhE5D,IAAK,YACLoB,MG1IM,QAAA+C,aACP9B,KAAApB,OAAAkC,eAnCEG,WAAUtC,WAAA,YAAAwC,MAAAzE,KAAAyE,KAqCZ,IAAIe,MAAOf,KAEPgB,eAAiBhB,KAAKiB,mBAAmBC,OAAO,SAACC,KACnD,MAAOJ,MAAKF,KAAKM,KAAK1C,MAAM2C,SAG1BJ,gBAAe/E,OAAS,IAC1B+D,KAAKiB,mBAAqBD,gBAGxBhB,KAAKa,KAAKQ,KACZrB,KAAKS,UACHa,KAAMtB,KAAKa,KAAKQ,IAAIE,cH+IvB/E,IAAK,eACLoB,MG3IS,QAAA4D,cAACC,EAAG3F,SACd,GAAIqF,KAAKO,QAASrD,OAAQhD,GAAIsG,UAAWZ,KAAOf,IAEhD3B,QAASoD,EAAEpD,OAAOuD,QAAQ,MAErBvD,SAELqD,QAAUrD,OAAOwD,aAAa,YAC9BV,IAAMJ,KAAKF,KAAKa,SAEhBC,UAAaR,KAAOA,IAAI1C,OAAS0C,IAAI1C,MAAM2C,UAAcL,KAAKtC,MAAMqD,UAAYf,KAAKtC,MAAMqD,QAAQ7F,QAAkD,KAAxC8E,KAAKtC,MAAMqD,QAAQC,QAAQL,SAEpIX,KAAKtC,MAAMuD,eAAiBlG,QAAQ4F,eAC/B5F,SAAQ4F,SACNC,YACT7F,QAAQ4F,SAAWX,KAAKd,MAAMK,aAGhCS,KAAKN,UACH3E,kBAGFiF,KAAKkB,SAAS,gBAAiBP,SAE3BX,KAAKtC,MAAMyD,YACbnB,KAAKE,oBAAsBS,UAGzBX,KAAKtC,MAAM0D,YACbpB,KAAKqB,iBACHC,KAAMtB,KAAKtC,MAAM0D,WACjBG,MACEjE,OAAQ8C,OAKVJ,KAAKtC,MAAM8D,qBACbxB,KAAKE,mBAAmBH,IAAI,SAAAtE,KACtBA,MAAQnB,IAAM0F,KAAKF,KAAKxF,KAC1B0F,KAAKF,KAAKxF,IAAImH,aAKpBzB,KAAKE,mBAAmBH,IAAI,SAAAtE,KACtBA,MAAQkF,SAAWX,KAAKF,KAAKrE,MAC/BuE,KAAKF,KAAKrE,KAAKgG,iBHqJlBhG,IAAK,SACLoB,MGjJG,QAAAuC,QAACsB,GACL,GAAI3F,WACJkE,MAAKwB,aAAaC,EAAG3F,YHoJpBU,IAAK,YACLoB,MGlJM,QAAA2C,WAACkB,GACR,GAAI3F,SAAUkE,KAAKC,MAAMnE,OACzBkE,MAAKwB,aAAaC,EAAG3F,YHqJpBU,IAAK,WACLoB,MGnJK,QAAA6E,UAACjG,IAAKkG,IACZ,OAAO,EAAA7C,aAAA,YACL6C,GAAGjE,MAAMkE,UACT3C,KAAKC,MAAMnE,QAAQU,KACnBwD,KAAKC,MAAMnE,QAAQ4G,GAAGjE,MAAM,iBHmJ7BjC,IAAK,gBACLoB,MGhJU,QAAAgF,iBACX,OAAO,EAAA/C,aAAA,YAAW,aAAYhB,KAAApB,OAAAkC,eA7H5BG,WAAUtC,WAAA,gBAAAwC,MAAAzE,KAAAyE,UHgRXxD,IAAK,gBACLoB,MGjJU,QAAAiF,iBACX,GAAI9B,MAAOf,KAAMwC,QAEbxC,MAAKvB,MAAMoE,iBAAkB,IAEjCL,SAAWzB,KAAKE,mBAAmB6B,MAAM,SAAAtG,KACvC,MAAIuE,MAAKF,KAAKrE,cAAgBuG,OACrB,GAEJhC,KAAKF,KAAKrE,KAAKyD,OAAUc,KAAKF,KAAKrE,KAAKyD,QAAUc,KAAKF,KAAKrE,KAAKyD,MAAMuC,UAC9B,kBAAjCzB,MAAKF,KAAKrE,KAAKqG,eACxB9B,KAAKF,KAAKrE,KAAKqG,iBAEV,IAEF,IAGLL,WAAazB,KAAKd,MAAMuC,SAC1BzB,KAAKyB,WACIzB,KAAKd,MAAMS,UAAY8B,UAAYzB,KAAKd,MAAMuC,UACvDzB,KAAKiC,iBHsJNxG,IAAK,YACLoB,MGnJM,QAAAqF,aACP,MAAKjD,MAAKvB,MAAM4C,IAGd6B,MAAAC,cAACnD,KAAKvB,MAAM4C,IAAI+B,KAAIjF,YACd6B,KAAKvB,MAAM4C,IAAI5C,OACnB0C,IAAI,SALoB,QH0J3B3E,IAAK,aACLoB,MGjJO,QAAAyF,cHkJL,GAAIC,QAAStD,KGjJZsB,KAAOtB,KAAKvB,MAAM6C,MAAQtB,KAAKC,MAAMqB,IACzC,OAAOA,MAAKR,IAAI,SAAC4B,GAAIlG,KACnB,GAAIkF,SAAUgB,GAAGjE,MAAM,aAAejC,IAClC2E,IAAMuB,GAAGvB,KAAOuB,GAAGjE,MAAMpD,IAAMqG,QAC/B6B,QAAUb,GAAGjE,MAAM8E,SAAW,GAAK/G,GACvC,OACE0G,OAAAC,cAACT,GAAGU,KAAIjF,YACFuE,GAAGjE,OACP2E,KAAK,KACLT,UAAWW,OAAKb,SAASjG,IAAKkG,IAC9Ba,QAASA,QACTC,eAAcD,QACdE,WAAU/B,QACVP,IAAKA,IACL3E,IAAKA,YHsJVA,IAAK,SACLoB,MGjJG,QAAA8F,UACJ,MACER,OAAAC,cHiJG,MACA,KGjJAnD,KAAKiD,YACNC,MAAAC,cHmJG,MGnJCR,UAAW3C,KAAK4C,gBAAiBe,QAAS3D,KAAKC,MAAMC,eAAe0D,KAAK5D,OAC1EA,KAAKqD,mBA9LVvD,YAAmB+D,OAAOC,UAqMhChE,YAAWiE,aAAeC,EAAEC,UAC1B3C,MACE4B,MAAAC,cAAA,WACAD,MAAAC,cAAA,WACAD,MAAAC,cAAA,WACAD,MAAAC,cAAA,YAEF7C,YAAa,WACbiC,qBAAqB,GACpBsB,OAAOC,UAAUC,cHmJnB5I,QAAQ,WGjJM2E,WHkJd1E,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBIxWhC,YAUA,SAAAkJ,SACAC,UAAA,EAGA,QAAAC,eAAAC,YACA,IAAAA,WAKA,YAJAC,WAAAC,WACAD,SAAAC,SACAL,SAKA,IAAAG,aAAAC,SAAA,CAIA,GAAAD,WAAApI,SAAAsI,SAAAtI,OACA,SAAAuI,OAAA,uCAAAD,SAAAtI,OAAA,qCAAAoI,WAAApI,OAAA,gBAAAoI,WAGA,IAAAI,QAAAJ,WAAAK,MAAA,IAAAxD,OAAA,SAAAyD,KAAAC,IAAAC,KACA,MAAAD,OAAAC,IAAAC,YAAAH,OAGA,IAAAF,OAAAxI,OACA,SAAAuI,OAAA,uCAAAD,SAAAtI,OAAA,yDAAAwI,OAAA/H,KAAA,MAGA4H,UAAAD,WACAH,SAGA,QAAAa,YAAAV,YAEA,MADAD,eAAAC,YACAC,SAGA,QAAAU,SAAAC,MACAC,eAAAD,WACAE,eAAAF,OACAf,QACAiB,aAAAF,MAIA,QAAAG,WACAd,UACAF,cAAAG,SAQA,KALA,GAAAc,aAAAf,SAAAI,MAAA,IACAY,eACAC,EAAAL,eAAAM,YACAC,eAEAJ,YAAApJ,OAAA,GACAsJ,EAAAL,eAAAM,YACAC,eAAAC,KAAAC,MAAAJ,EAAAF,YAAApJ,QACAqJ,YAAAlJ,KAAAiJ,YAAAO,OAAAH,eAAA,MAEA,OAAAH,aAAA5I,KAAA,IAGA,QAAAmJ,eACA,MAAA1B,UACAA,SAEAA,SAAAiB,UASA,QAAAU,QAAAC,OACA,GAAAC,kBAAAH,aACA,OAAAG,kBAAAD,OAvFA,GAAAb,gBAAAlK,oBAAA,IAEAuJ,SAAA,mEACAD,SACAa,aAEAhB,QAoFA/I,QAAAD,SACA4J,sBACAE,KAAAD,QACAc,cACA3B,SAAA0B,cJgXM,SAASzK,OAAQD,QAASH,qBAE/B,YAYA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASmJ,iBAAgBnJ,IAAKN,IAAKoB,OAAiK,MAApJpB,OAAOM,KAAOW,OAAOS,eAAepB,IAAKN,KAAOoB,MAAOA,MAAOC,YAAY,EAAME,cAAc,EAAMD,UAAU,IAAkBhB,IAAIN,KAAOoB,MAAgBd,IAE3M,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAhBjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAUxcgD,YAAc5E,oBKteI,GLwelB6E,aAAehD,uBAAuB+C,aAEtCsG,oBAAsBlL,oBKxeD,GL0erBmL,qBAAuBtJ,uBAAuBqJ,qBKxe7CE,OAAM,SAAArG,mBACC,QADPqG,UL8eDnJ,gBAAgB+C,KK9efoG,QAEFvH,KAAApB,OAAAkC,eAFEyG,OAAM5I,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIRA,KAAKC,OACHoG,WAAY,KACZC,SACAC,YACAC,QAAS,EACTC,QAAS,EACTC,QAAQ,EACRC,OAAO,GAGT3G,KAAK4G,WAAa5G,KAAK4G,WAAWhD,KAAK5D,MACvCA,KAAK6G,UAAY7G,KAAK6G,UAAUjD,KAAK5D,MACrCA,KAAK8G,gBAAkB9G,KAAK8G,gBAAgBlD,KAAK5D,MACjDA,KAAK+G,aAAe/G,KAAK+G,aAAanD,KAAK5D,MAC3CA,KAAKgH,SAAWhH,KAAKgH,SAASpD,KAAK5D,MLg3BpC,MAvZA3C,WK3eG+I,OAAMrG,mBLmgBTxB,aKngBG6H,SLogBD5J,IAAK,QACLoB,MKhfE,QAAAwC,SACH,GAAI6G,KAAMC,SAASC,YAAYnH,KAE/BnB,MAAApB,OAAAkC,eAxBEyG,OAAM5I,WAAA,QAAAwC,MAAAzE,KAAAyE,MA0BRA,KAAKS,UACH2G,MAAOH,IAAII,YACXC,OAAQL,IAAIM,kBLofb/K,IAAK,WACLoB,MKjfK,QAAA4J,YACN,GAAIlB,OAAOC,SAAUxF,KAAOf,IAwD5B,OAtDAsG,OAAQtG,KAAKC,MAAMqG,MAAMxF,IAAI,SAAC6D,KAAMnI,KAClC,GAAIyD,MAEJ,OAAKc,MAAKF,KAAK,QAAUrE,MAEzByD,MAAQc,KAAKF,KAAK,QAAUrE,KAAKyD,MAEjC0E,KAAK1E,OACHwH,KAAMzD,EAAE2B,MAAM1F,MAAMwH,KAAM,IAC1BC,IAAK1D,EAAE2B,MAAM1F,MAAMyH,IAAK,IACxBC,MAAO3D,EAAE2B,MAAM1F,MAAM0H,MAAO,IAC5BC,SAAU5D,EAAE2B,MAAM1F,MAAM2H,SAAU,IAClCC,MAAO5H,MAAM4H,MACblB,MAAO1G,MAAM0G,MACbmB,QAAS7H,MAAM6H,SAGjBnD,KAAKoD,MAAQ9H,MAAM8H,MACnBpD,KAAKqD,UAAY/H,MAAM+H,UAEhBrD,MAjB+BA,OAoBxC4B,SAAWvG,KAAKC,MAAMsG,SAASzF,IAAI,SAAC6D,KAAMnI,KACxC,GAAIyD,MAEJ,OAAKc,MAAKF,KAAK,WAAarE,MAE5ByD,MAAQc,KAAKF,KAAK,WAAarE,KAAKyD,MAEpC0E,KAAK1E,OACHwH,KAAMzD,EAAE2B,MAAM1F,MAAMwH,KAAM,IAC1BC,IAAK1D,EAAE2B,MAAM1F,MAAMyH,IAAK,IACxBC,MAAO3D,EAAE2B,MAAM1F,MAAM0H,MAAO,IAC5BC,SAAU5D,EAAE2B,MAAM1F,MAAM2H,SAAU,IAClCC,MAAO5H,MAAM4H,MACblB,MAAO1G,MAAM0G,MACbmB,QAAS7H,MAAM6H,SAGjBnD,KAAKoD,MAAQ9H,MAAM8H,MACnBpD,KAAKqD,UAAY/H,MAAM+H,UAEhBrD,MAjBkCA,OAoB3CX,EAAEiE,OAAO3B,MAAO,SAAA4B,GACd,OAAQA,IAGVlE,EAAEiE,OAAO1B,SAAU,SAAA2B,GACjB,OAAQA,KAIR7B,WAAYrG,KAAKC,MAAMoG,WACvBC,YACAC,sBLufD/J,IAAK,QACLoB,MKpfE,QAAAsG,SACHlE,KAAKS,UACH4F,WAAY,KACZC,SACAC,iBLwfD/J,IAAK,WACLoB,MKrfK,QAAAuK,UAAC5E,SLsfJ,GAAIlD,OAAQL,IKrfXuD,UASFvD,KAAKS,UACH4F,WAAY,KACZC,SACAC,aACC,WACDlG,MAAK+H,QAAQ7E,QAAQ8C,YACrB9C,QAAQ+C,MAAM+B,QAAQ,SAAAC,OACpBjI,MAAK+H,QAAQE,SAEf/E,QAAQgD,SAAS8B,QAAQ,SAAAC,OACvBjI,MAAK+H,QAAQE,cL6flB9L,IAAK,UACLoB,MKxfI,QAAAwK,SAACE,MAAOC,ILyfV,GAAIjF,QAAStD,KKxfZsG,MAAOC,SAAUR,MAAOyC,KAE5B,IAAKF,MAEL,GAAyB,eAArBA,MAAMG,WACRzI,KAAKS,UACH4F,WAAYiC,OACX,WACDzE,OAAO6E,QAAQ,QACbC,KAAM,WACNC,SAAYN,MAAMM,WACjBC,KAAK,SAAAC,GACN,GAAIzC,YAAa/C,OAAKrD,MAAMoG,UAC5BA,YAAW0B,MAAQe,EAAEf,MACrB1B,WAAW2B,UAAYc,EAAEd,UACzB1E,OAAK7C,UACH4F,uBACCkC,YAGF,IAAyB,SAArBD,MAAMG,WAAuB,CAQtC,GAPAnC,MAAQtG,KAAKC,MAAMqG,MAEnBkC,MAAQxE,EAAE+E,OAAOzC,MAAO,SAAC7K,EAAGuN,GAE1B,MADIV,OAAMW,MAAQD,EAAEC,KAAKxN,IAClBA,GACN,GAEC+M,MAAQxI,KAAKvB,MAAMyK,aAAc,MAErC5C,OAAMlK,KAAKkM,OACXvC,MAAQO,MAAMvE,QAAQuG,OAEtBtI,KAAKS,UACH6F,aACC,WACDzC,OAAO6E,QAAQ,QACbC,KAAM,WACNC,SAAYN,MAAMM,WACjBC,KAAK,SAAAC,GACNR,MAAMP,MAAQe,EAAEf,MAChBO,MAAMN,UAAYc,EAAEd,UACpB1B,MAAMP,OAASuC,MACfhF,OAAK7C,UACH6F,aACCiC,YAGF,IAAyB,YAArBD,MAAMG,WAA0B,CAQzC,GAPAlC,SAAWvG,KAAKC,MAAMsG,SAEtBiC,MAAQxE,EAAE+E,OAAOzC,MAAO,SAAC7K,EAAGuN,GAE1B,MADIV,OAAMW,MAAQD,EAAEC,KAAKxN,IAClBA,GACN,GAEC+M,MAAQxI,KAAKvB,MAAMyK,aAAc,MAErC3C,UAASnK,KAAKkM,OACdvC,MAAQQ,SAASxE,QAAQuG,OAEzBtI,KAAKS,UACH8F,mBACC,WACD1C,OAAO6E,QAAQ,QACbC,KAAM,WACNC,SAAYN,MAAMM,WACjBC,KAAK,SAAAC,GACNR,MAAMP,MAAQe,EAAEf,MAChBO,MAAMN,UAAYc,EAAEd,UACpBzB,SAASR,OAASuC,MAClBhF,OAAK7C,UACH8F,mBACCgC,YLggBR/L,IAAK,aACLoB,MK3fO,QAAAgJ,YAACpK,IAAK4G,MACd,GAAIkD,MAEJA,OAAQtG,KAAKC,MAAMmD,KAAO,WACnBkD,OAAM9J,KAEbwD,KAAKS,SAAQwF,mBACV7C,KAAO,IAAMkD,WL6ff9J,IAAK,kBACLoB,MK1fY,QAAAkJ,iBAACqC,QAAS/F,ML2fpB,GAAIgG,QAASpJ,IK1fhB,IAAuB,gBAAZmJ,UAAwBA,QAAQ9K,OAAQ,CACjD,GAA+B,OAA3B8K,QAAQ9K,OAAOgL,QACjB,MAEFrJ,MAAKS,UACHiG,QAAQ,IAIW,gBAAZyC,UACTnJ,KAAKS,UACHiG,QAAQ,IAIZ1G,KAAKC,MAAMqG,MAAMxF,IAAI,SAAC6D,KAAMnI,KACrBA,MAAQ2M,SAAoB,SAAT/F,OAAoBgG,OAAKvI,KAAK,QAAUrE,MAC9D4M,OAAKvI,KAAK,QAAUrE,KAAK8M,eAI7BtJ,KAAKC,MAAMsG,SAASzF,IAAI,SAAC6D,KAAMnI,KACxBA,MAAQ2M,SAAoB,YAAT/F,OAAuBgG,OAAKvI,KAAK,WAAarE,MACpE4M,OAAKvI,KAAK,WAAarE,KAAK8M,kBLigB/B9M,IAAK,eACLoB,MK7fS,QAAAmJ,cAAC3D,ML8fR,GAAImG,QAASvJ,KK7fZwJ,SAEJxJ,MAAKC,MAAMmD,KAAO,KAAKtC,IAAI,SAAC6D,KAAMnI,KAChC,GAAIqL,MAEJA,OAAQ0B,OAAK1I,KAAKuC,KAAO,IAAM5G,KAAKyD,MAAM4H,MAEZ,KAA1B2B,OAAOzH,QAAQ8F,QACjB2B,OAAOpN,KAAKyL,SAIhB2B,OAAOC,KAAK,SAACC,EAAGC,GACd,MAAWA,GAAJD,IAGT1J,KAAKC,MAAMmD,KAAO,KAAKtC,IAAI,SAAC6D,KAAMnI,KAChC,GAAIoN,UAAUC,QAEdD,UAAWL,OAAK1I,KAAKuC,KAAO,IAAM5G,KAAKyD,MAAM4H,MAC7CgC,SAAqB,YAATzG,KAAsB,IAAQ,IAC1CyG,UAAsBL,OAAOzH,QAAQ6H,UAErCL,OAAK1I,KAAKuC,KAAO,IAAM5G,KAAKsN,QAAQD,eLmgBrCrN,IAAK,YACLoB,MKhgBM,QAAAiJ,WAACrK,IAAK4G,MACb,GAAIrC,MAAOf,IAEX,QACGe,KAAKF,KAAKuC,KAAO,IAAM5G,KAAKyD,MAAM6H,QAAQ7L,QAEzC8E,KAAKgJ,WAAWvN,IAAK4G,QACnBrC,KAAKF,KAAKuC,KAAO,IAAM5G,KAAKyD,MAAM+J,cACjCjJ,KAAKd,MAAMmD,KAAO,KAAK6G,KAAK,SAACtF,KAAMoB,OL4frC,MK3fGvJ,OAAQuJ,QACPhF,KAAKF,KAAKuC,KAAO,IAAM2C,OAAO9F,MAAM+J,aACrCjJ,KAAKF,KAAKuC,KAAO,IAAM2C,OAAO9F,MAAM6H,QAAQ7L,QAC5C4H,OAAOqG,KAAKC,YACVpJ,KAAKF,KAAKuC,KAAO,IAAM5G,KAAKyD,MAAM6H,QAClC/G,KAAKF,KAAKuC,KAAO,IAAM2C,OAAO9F,MAAM6H,eL0f7CtL,IAAK,aACLoB,MKnfO,QAAAmM,YAACvN,IAAK4G,MACd,OAAQpD,KAAKC,MAAMmH,QAChBpH,KAAKC,MAAMqH,UAGZzD,OAAOqG,KAAKC,YACVnK,KAAKa,KAAKuC,KAAO,IAAM5G,KAAKyD,MAAM6H,UAE/BsC,EAAG,EAAGC,GAAIrK,KAAKC,MAAMqH,SACrB8C,EAAG,EAAGC,EAAG,EAAIrK,KAAKC,MAAMqH,SACxB8C,GAAIpK,KAAKC,MAAMmH,MAAOiD,EAAG,EAAIrK,KAAKC,MAAMqH,SACxC8C,GAAIpK,KAAKC,MAAMmH,MAAOiD,GAAIrK,KAAKC,MAAMqH,WAI1CzD,OAAOqG,KAAKC,YACVnK,KAAKa,KAAKuC,KAAO,IAAM5G,KAAKyD,MAAM6H,UAE/BsC,GAAIpK,KAAKC,MAAMmH,MAAOiD,EAAG,IACzBD,EAAG,EAAIpK,KAAKC,MAAMmH,MAAOiD,EAAG,IAC5BD,EAAG,EAAIpK,KAAKC,MAAMmH,MAAOiD,GAAIrK,KAAKC,MAAMqH,SACxC8C,EAAGpK,KAAKC,MAAMmH,MAAOiD,GAAIrK,KAAKC,MAAMqH,WAIzCzD,OAAOqG,KAAKC,YACVnK,KAAKa,KAAKuC,KAAO,IAAM5G,KAAKyD,MAAM6H,UAE/BsC,EAAGpK,KAAKC,MAAMmH,MAAOiD,GAAIrK,KAAKC,MAAMqH,SACpC8C,EAAGpK,KAAKC,MAAMmH,MAAOiD,EAAG,EAAIrK,KAAKC,MAAMqH,SACvC8C,EAAG,EAAIpK,KAAKC,MAAMmH,MAAOiD,EAAG,EAAIrK,KAAKC,MAAMqH,SAC3C8C,EAAG,EAAIpK,KAAKC,MAAMmH,MAAOiD,GAAIrK,KAAKC,MAAMqH,WAI7CzD,OAAOqG,KAAKC,YACVnK,KAAKa,KAAKuC,KAAO,IAAM5G,KAAKyD,MAAM6H,UAE/BsC,GAAIpK,KAAKC,MAAMmH,MAAOiD,EAAGrK,KAAKC,MAAMqH,SACpC8C,EAAG,EAAIpK,KAAKC,MAAMmH,MAAOiD,EAAGrK,KAAKC,MAAMqH,SACvC8C,EAAG,EAAIpK,KAAKC,MAAMmH,MAAOiD,EAAG,EAAIrK,KAAKC,MAAMqH,SAC3C8C,GAAIpK,KAAKC,MAAMmH,MAAOiD,EAAG,EAAIrK,KAAKC,MAAMqH,cLsd9C9K,IAAK,WACLoB,MKjdK,QAAAoJ,UAACL,OACP3G,KAAKS,UACHkG,cAGiC,kBAAxB3G,MAAKvB,MAAMuI,UACpBhH,KAAKvB,MAAMuI,SAASL,ULqdrBnK,IAAK,WACLoB,MKldK,QAAA0M,YACN,MAAKtK,MAAKC,MAAMoG,YAGdkE,gBAAe,OAASvK,KAAKC,MAAMoG,WAAW4C,IAAG,KAHnD,ULydCzM,IAAK,cACLoB,MKndQ,QAAA4M,eLodN,GAAIC,QAASzK,KKndZe,KAAOf,IAEX,OAAOA,MAAKC,MAAMqG,MAAMxF,IAAI,SAAC6D,KAAMnI,KACjC,MACE0G,OAAAC,cAAAgD,qBAAA,WAAAhI,YACMwG,MACJlB,WAAUjH,IACVkO,OAAQD,OAAKhM,MAAMkM,WACnB/D,WAAY7F,KAAK6F,WACjBC,UAAW9F,KAAK8F,UAChBC,gBAAiB/F,KAAK+F,gBACtBC,aAAchG,KAAKgG,aACnBC,SAAUjG,KAAKiG,SACf7F,IAAK,QAAU3E,IACfA,IAAKA,YLwdVA,IAAK,iBACLoB,MKndW,QAAAgN,kBLodT,GAAIC,QAAS7K,KKndZe,KAAOf,IAEX,OAAOA,MAAKC,MAAMsG,SAASzF,IAAI,SAAC6D,KAAMnI,KACpC,MACE0G,OAAAC,cAAAgD,qBAAA,WAAAhI,YACMwG,MACJlB,WAAUjH,IACVkO,OAAQG,OAAKpM,MAAMqM,cACnBlE,WAAY7F,KAAK6F,WACjBC,UAAW9F,KAAK8F,UAChBC,gBAAiB/F,KAAK+F,gBACtBC,aAAchG,KAAKgG,aACnBC,SAAUjG,KAAKiG,SACf+D,YAAaF,OAAK5K,MAAMmH,MACxB4D,aAAcH,OAAK5K,MAAMqH,OACzBnG,IAAK,WAAa3E,IAClBA,IAAKA,YLwdVA,IAAK,gBACLoB,MKndU,QAAAgF,iBACX,OAAO,EAAA/C,aAAA,aACLoL,QAAQ,EACRC,QAASlL,KAAKvB,MAAM0M,SAAWnL,KAAKC,MAAMyG,YLud3ClK,IAAK,SACLoB,MKpdG,QAAA8F,UACJ,MACER,OAAAC,cLodG,MKndDR,UAAW3C,KAAK4C,gBAChBwI,MAAOpL,KAAKsK,WACZ3G,QAAS3D,KAAK8G,iBAEb9G,KAAKwK,cACLxK,KAAK4K,sBAxaRxE,QAAevC,OAAOC,UA8a5BsC,QAAOrC,aAAeC,EAAEC,UACtBiF,aAAc,GACbrF,OAAOC,UAAUC,cLydnB5I,QAAQ,WKvdMiL,OLwddhL,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAUA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASmJ,iBAAgBnJ,IAAKN,IAAKoB,OAAiK,MAApJpB,OAAOM,KAAOW,OAAOS,eAAepB,IAAKN,KAAOoB,MAAOA,MAAOC,YAAY,EAAME,cAAc,EAAMD,UAAU,IAAkBhB,IAAIN,KAAOoB,MAAgBd,IAE3M,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAdjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIW,cAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAUxcyO,SAAWrQ,oBMt6BI,INw6BfsQ,UAAYzO,uBAAuBwO,UAEnCzL,YAAc5E,oBMz6BI,GN26BlB6E,aAAehD,uBAAuB+C,aAEtC2L,cAAgBvQ,oBM36BE,GN66BlBwQ,eAAiB3O,uBAAuB0O,eM36BvCE,WAAU,SAAAC,aACH,QADPD,cNi7BDxO,gBAAgB+C,KMj7BfyL,YAEF5M,KAAApB,OAAAkC,eAFE8L,WAAUjO,WAAA,cAAAwC,MAAAzE,KAAAyE,MN8tCb,MAhTA3C,WM96BGoO,WAAUC,aNs7BbnN,aMt7BGkN,aNu7BDjP,IAAK,wBACLoB,MMn7BkB,QAAA+N,uBAACC,UAAWC,WAC/B,GAAIvF,OAAOwF,WAAYC,YAEvB,OAAIC,MAAKC,UAAUjM,KAAKC,MAAMnE,WAAakQ,KAAKC,UAAUJ,UAAU/P,UAC3D,GAGTwK,MAAQsF,UAAUtJ,SAEduJ,UAAUK,UAAY5F,MAAMuF,UAAUK,YACxC5F,MAAQA,MAAMuF,UAAUK,UAAU5F,OAGpCwF,WAAa9H,EAAE+E,OAAOzC,MAAO,SAACoD,EAAG3N,GAE/B,MADA2N,IAAK3N,EAAE4M,MAEN,IAEHoD,aAAe/L,KAAK8L,aAAeA,WAC/BC,eACF/L,KAAK8L,WAAaA,YAGbC,iBNs7BNvP,IAAK,QACLoB,MMp7BE,QAAAwC,SACH,GAAIkG,OAAO6F,aAAcjM,eAAgBpE,WAAciF,KAAOf,IAE9DE,gBAA4C,gBAA3BF,KAAKC,MAAMK,YAAgCN,KAAKO,UAAYP,KAAKG,OAElFmG,MAAQvF,KAAKtC,MAAM6D,SAEfvB,KAAKd,MAAMiM,UAAY5F,MAAMvF,KAAKd,MAAMiM,YAC1C5F,MAAQA,MAAMvF,KAAKd,MAAMiM,UAAU5F,OAGrC6F,aAAeH,KAAKC,UAAUlL,KAAKtC,MAAM0N,cAEzCnI,EAAEoI,KAAK9F,MAAO,SAAC3B,KAAMnI,KACfuE,KAAKtC,MAAM0N,cAAgBH,KAAKC,UAAUtH,QAAUwH,eACtDrQ,QAAQU,KAAOuE,KAAKd,MAAMK,eAI1BN,KAAKvB,MAAM+B,gBACb1E,QAAQkE,KAAKvB,MAAM+B,eAAiBR,KAAKC,MAAMK,aAGjDN,KAAKS,UACHC,SAAS,EACT5E,gBACAoE,8BACAmM,aAAc,GACdH,SAAU,KAGZlM,KAAKa,KAAKS,KAAKgL,UAAY,EAE3BtI,EAAEoI,KAAKrL,KAAKF,KAAM,SAAAM,KACS,kBAAdA,KAAIf,OAAsBe,IAAIf,aN47B1C5D,IAAK,eACLoB,MMz7BS,QAAA4D,cAACC,GACX,GAAIiB,IAAIa,QAAS/G,IAAK4G,KAAMiJ,aAAcvQ,UAE1C4G,IAAKjB,EAAEpD,OAAOuD,QAAQ,MACjBc,KAELlG,IAAMkG,GAAGb,aAAa,YACjB7B,KAAKa,KAAKrE,OAEf4G,KAAOpD,KAAKa,KAAKrE,KAAKiC,MAAMkG,KAAK8D,WAC5BrF,OAEQ,WAATA,MACFiJ,aAAerM,KAAKa,KAAKrE,KAAKiC,MAAMkG,KAAKgE,KACzC3I,KAAKS,UACHyL,SAAU1P,IACV6P,8BAGF9I,QAAUvD,KAAKa,KAAKrE,KAAKiC,MAAMkG,KAC/B7I,QAAQU,KAAOwD,KAAKC,MAAMK,YAE1BN,KAAKS,UACH8C,gBACAzH,yBNm8BHU,IAAK,eACLoB,MM/7BS,QAAA2O,gBAC8B,kBAA7BvM,MAAKvB,MAAM+N,eAAgCxM,KAAKC,MAAMsD,SAC/DvD,KAAKvB,MAAM+N,cAAcxM,KAAKC,MAAMsD,YNm8BrC/G,IAAK,iBACLoB,MMh8BW,QAAA6O,kBAC4B,kBAA7BzM,MAAKvB,MAAM+N,eACpBxM,KAAKvB,MAAM+N,qBNo8BZhQ,IAAK,eACLoB,MMj8BS,QAAA8O,gBAC8B,kBAA7B1M,MAAKvB,MAAMkO,eACpB3M,KAAKvB,MAAMkO,cAAcpR,KAAKyE,SNq8B/BxD,IAAK,cACLoB,MMl8BQ,QAAAgP,eACT,MAAI5M,MAAKC,MAAMoM,aACNrM,KAAKC,MAAMoM,aAGhBrM,KAAKvB,MAAMoO,YAAc7M,KAAKvB,MAAMoO,WAAW5Q,OAC1C+D,KAAKvB,MAAMoO,WAAW7M,KAAKvB,MAAMoO,WAAW5Q,OAAS,GAEvD,MNq8BNO,IAAK,gBACLoB,MMn8BU,QAAAgF,iBACX,OAAO,EAAA/C,aAAA,aACLiN,SAA6E,KAAjE9I,EAAE+I,OAAO/M,KAAKC,MAAMnE,SAASiG,QAAQ/B,KAAKC,MAAMK,cAC3DN,KAAKvB,MAAMkE,UAAW,4BNs8BxBnG,IAAK,aACLoB,MMp8BO,QAAAoP,cNq8BL,GAAIC,aMp8BHJ,WAAa,EAMjB,OAJI7M,MAAKvB,MAAMoO,aACbA,WAAa7M,KAAKvB,MAAMoO,WAAWnQ,KAAK,OAGnC,EAAAmD,aAAA,aAAAoN,aACLC,eAAe,GNu8BXjH,gBAAgBgH,YMt8BnBJ,YAAa,GAAI5G,gBAAAgH,YAAA,WACRjN,KAAKC,MAAMuC,UAAQyK,iBNw8B9BzQ,IAAK,WACLoB,MMr8BK,QAAA6E,UAACjG,IAAKmI,MNs8BT,GAAIwI,cMr8BHC,MAAQzI,MAAQA,KAAKgE,MAAkD,KAA1ChE,KAAKgE,KAAK0E,cAActL,QAAQ,KAEjE,QAAO,EAAAlC,aAAA,aAAAsN,gBAAAlH,gBAAAkH,aACJnN,KAAKC,MAAMnE,QAAQU,MAAQ,IAAK,GAAIyJ,gBAAAkH,aAAA,QACrCC,OAAKD,kBNw8BN3Q,IAAK,gBACLoB,MMr8BU,QAAA0P,iBACX,MACEpK,OAAAC,cNq8BG,OMr8BER,UAAU,WACbO,MAAAC,cAAA,UAAQR,UAAU,SAASgB,QAAS3D,KAAKuM,aAAa3I,KAAK5D,QAC3DkD,MAAAC,cAAA,UAAQR,UAAU,WAAWgB,QAAS3D,KAAKyM,eAAe7I,KAAK5D,QAC/DkD,MAAAC,cAAA,UAAQR,UAAU,SAASgB,QAAS3D,KAAK0M,aAAa9I,KAAK5D,YN08B9DxD,IAAK,oBACLoB,MMt8Bc,QAAA2P,mBAAC5I,MAChB,GAAI6I,YAAcvE,GAiClB,OA/BItE,MAAKsE,KAAOtE,KAAK8I,MACnBxE,IAAMtE,KAAK8I,OAAS9I,KAAKsE,IAChBtE,KAAK2B,QACTtC,EAAE1H,QAAQqI,KAAK2B,SAClB3B,KAAK2B,MAAQtC,EAAE+I,OAAOpI,KAAK2B,QAGzB3B,KAAK2B,MAAM,KACb2C,IAAMtE,KAAK2B,MAAM,GAAGmH,OAAS9I,KAAK2B,MAAM,GAAG2C,KAG7CtE,KAAK2B,MAAM2D,KAAK,SAAAyD,SACd,MAAqB,eAAjBA,QAAQ/E,MACVM,IAAMyE,QAAQD,OAASC,QAAQzE,KACxB,GAFT,UAOAA,KACFuE,QAAQpR,KAAK8G,MAAAC,cAACU,OAAO8J,OAAM1E,IAAKA,IAAKzM,IAAK,MAGxCmI,KAAKgE,MAA6B,WAApBhE,KAAK8D,YAA+C,WAApB9D,KAAK8D,YACrD+E,QAAQpR,KAAK8G,MAAAC,cNw8BR,QMx8BcR,UAAU,OAAOnG,IAAK,GAAImI,KAAKgE,OAGhDhE,KAAKiJ,aACPJ,QAAQpR,KAAK8G,MAAAC,cN48BR,QM58BcR,UAAU,cAAcnG,IAAK,GAAImI,KAAKiJ,cAGpDJ,WNk9BNhR,IAAK,aACLoB,MMh9BO,QAAAyF,cNi9BL,GAAIhD,OAAQL,KMh9BXsG,MAAOvF,KAAOf,IAElB,OAAKA,MAAKvB,MAAM6D,MAEhBgE,MAAQtG,KAAKvB,MAAM6D,KAEftC,KAAKC,MAAMiM,UAAY5F,MAAMtG,KAAKC,MAAMiM,YAC1C5F,MAAQA,MAAMtG,KAAKC,MAAMiM,UAAU5F,OAGhCtC,EAAE1H,QAAQgK,SACbA,MAAQtC,EAAE+I,OAAOzG,QAGZA,MAAMmD,KAAK,SAACC,EAAGC,GACpB,GAAIkE,MAAQ7J,EAAE8J,MAAMC,OAAOC,SAAStE,EAAEuE,QAAqCC,IAA3BH,OAAOC,SAAStE,EAAEuE,OAC9DE,KAAQnK,EAAE8J,MAAMC,OAAOC,SAASrE,EAAEsE,QAAqCC,IAA3BH,OAAOC,SAASrE,EAAEsE,MAClE,OAAIJ,QAASM,KACPzE,EAAEf,KAAOgB,EAAEhB,KAAa,GACxBe,EAAEf,KAAOgB,EAAEhB,KAAa,EACrB,EAEEwF,KAAPN,KAAoB,GACjB,IACN/M,IAAI,SAAC6D,KAAMnI,KNo9BT,MMn9BH0G,OAAAC,cAACU,OAAOuK,UACNzL,UAAWtC,MAAKoC,SAASjG,IAAKmI,MAC9BxD,IAAK3E,IACLiH,WAAUjH,IACVmI,KAAMA,KACNnI,IAAK8O,UAAA,WAAQ+C,YAEZtN,KAAKwM,kBAAkB5I,UA9B5B,UNw/BCnI,IAAK,SACLoB,MMt9BG,QAAA8F,UACJ,MACER,OAAAC,cNs9BG,OMt9BER,UAAW3C,KAAK4C,iBACnBM,MAAAC,cNw9BG,OMx9BER,UAAU,yBACbO,MAAAC,cN09BG,KACA,KM39BEnD,KAAK4M,eACV1J,MAAAC,cN89BG,MM99BChC,IAAI,OAAOwB,UAAW3C,KAAKgN,aAAcrJ,QAAS3D,KAAKC,MAAMC,eAAe0D,KAAK5D,OAClFA,KAAKqD,eAGTrD,KAAKsN,qBA1PR7B,YN+tCFD,eAAe,WAElBrQ,SAAQ,WMj+BMsQ,WNk+BdrQ,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAUA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAZjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIW,cAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQxcgD,YAAc5E,oBO7vCI,GP+vClB6E,aAAehD,uBAAuB+C,aO7vCrC0O,UAAS,SAAAvO,mBACF,QADPuO,aPmwCDrR,gBAAgB+C,KOnwCfsO,WAEFzP,KAAApB,OAAAkC,eAFE2O,UAAS9Q,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIXA,KAAKC,OACHsO,OAAQ,EACRC,OAAQ,EACRC,KAAM,EACNC,KAAM,EACNC,KAAM,GAGR3O,KAAK4O,UAAY5O,KAAK4O,UAAUhL,KAAK5D,MACrCA,KAAK6O,QAAU7O,KAAK6O,QAAQjL,KAAK5D,MAEjCA,KAAK8O,UAAY9O,KAAK8O,UAAUlL,KAAK5D,MAErCA,KAAK+O,WAAa/O,KAAK+O,WAAWnL,KAAK5D,MACvCA,KAAKgP,SAAWhP,KAAKgP,SAASpL,KAAK5D,MP+gDpC,MAjSA3C,WOhwCGiR,UAASvO,mBPwxCZxB,aOxxCG+P,YPyxCD9R,IAAK,aACLoB,MOrwCO,QAAAqR,cACR,OAAO,KPwwCNzS,IAAK,cACLoB,MOtwCQ,QAAAsR,eACTlP,KAAKS,UACHW,SAAS,OP0wCV5E,IAAK,gBACLoB,MOvwCU,QAAAuR,iBACXnP,KAAKS,UACHW,SAAS,OP2wCV5E,IAAK,aACLoB,MOxwCO,QAAAwR,YAAC3N,EAAG8G,IACZ,GAAI8G,OAAOC,MAAOC,KAAMhB,OAAQC,OAAQC,KAAMC,KAAMc,MAAOC,KAEvDhO,GAAEpD,SAAW2B,KAAKa,KAAK6O,IACtB1P,KAAKiP,eAENxN,EAAEkO,eAAiBlO,EAAEkO,cAAc,KACrCN,MAAQ5N,EAAEkO,cAAc,GAAGN,MAC3BC,MAAQ7N,EAAEkO,cAAc,GAAGL,MAC3BC,KAAO9N,EAAEpD,OAAOuR,wBAChBnO,EAAIA,EAAEkO,cAAc,GACpBlO,EAAE+E,QAAU6I,MAAQE,KAAK9H,KACzBhG,EAAEgF,QAAU6I,MAAQC,KAAK7H,KAG3B8H,MAAQ/N,EAAE+E,QACViJ,MAAQhO,EAAEgF,QAEV8H,OAASE,KAAOhN,EAAE4N,MAAQG,MAC1BhB,OAASE,KAAOjN,EAAE6N,MAAQG,MAErBzP,KAAKvB,MAAK,YACb8P,OAASvK,EAAE6L,SAAS7P,KAAKC,MAAMuP,OAC7BxP,KAAKC,MAAMsO,OAASvO,KAAKC,MAAMuP,MAAQA,MACvCjB,OACFC,OAASxK,EAAE6L,SAAS7P,KAAKC,MAAMwP,OAC7BzP,KAAKC,MAAMuO,OAASxO,KAAKC,MAAMwP,MAAQA,MACvCjB,QAGJxO,KAAKS,UACHqP,UAAU,EACVC,UAAQ,EACRxB,cACAC,cACAgB,YACAC,YACAhB,UACAC,YAGoC,kBAA3B1O,MAAKvB,MAAMuR,aACpBhQ,KAAKvB,MAAMuR,YAAYhQ,KAAKvB,MAAM8E,SAGlB,kBAAPgF,KACTA,GAAGhN,KAAKyE,UPwwCTxD,IAAK,oBACLoB,MOrwCc,QAAAqS,qBACflC,OAAOmC,iBAAiB,YAAalQ,KAAK8O,WAC1Cf,OAAOmC,iBAAiB,UAAWlQ,KAAK6O,YPwwCvCrS,IAAK,oBACLoB,MOtwCc,QAAAuS,qBACfpC,OAAOmC,iBAAiB,YAAalQ,KAAK8O,WAC1Cf,OAAOmC,iBAAiB,WAAYlQ,KAAKgP,aPywCxCxS,IAAK,YACLoB,MOvwCM,QAAAgR,WAACnN,GACRzB,KAAKoP,WAAW3N,EAAGzB,KAAKiQ,sBP0wCvBzT,IAAK,aACLoB,MOxwCO,QAAAmR,YAACtN,GACTzB,KAAKoP,WAAW3N,EAAGzB,KAAKmQ,sBP2wCvB3T,IAAK,YACLoB,MOzwCM,QAAAkR,WAACrN,GACJA,EAAEkO,eAAiBlO,EAAEkO,cAAc,KACrClO,EAAE4N,MAAQ5N,EAAEkO,cAAc,GAAGN,MAC7B5N,EAAE6N,MAAQ7N,EAAEkO,cAAc,GAAGL,OAG/BtP,KAAKS,UACHgO,KAAMhN,EAAE4N,MAAQrP,KAAKC,MAAMuP,MAC3Bd,KAAMjN,EAAE6N,MAAQtP,KAAKC,MAAMwP,WP6wC5BjT,IAAK,WACLoB,MO1wCK,QAAAwS,UAAC7H,IACPvI,KAAKqQ,cAEDrQ,KAAKvB,MAAK,UACZuB,KAAKS,UACHqP,UAAU,EACVC,SAAQ/P,KAAKvB,MAAK,UAClBgQ,KAAMzO,KAAKC,MAAMsO,OACjBG,KAAM1O,KAAKC,MAAMuO,SAGnBxO,KAAKS,UACHqP,UAAU,EACVC,SAAQ/P,KAAKvB,MAAK,YAIJ,kBAAP8J,KACTA,GAAGhN,KAAKyE,SP8wCTxD,IAAK,oBACLoB,MO3wCc,QAAA0S,qBACfvC,OAAOwC,oBAAoB,YAAavQ,KAAK8O,WAC7Cf,OAAOwC,oBAAoB,UAAWvQ,KAAK6O,YP8wC1CrS,IAAK,oBACLoB,MO5wCc,QAAA4S,qBACfzC,OAAOwC,oBAAoB,YAAavQ,KAAK8O,WAC7Cf,OAAOwC,oBAAoB,WAAYvQ,KAAKgP,aP+wC3CxS,IAAK,UACLoB,MO7wCI,QAAAiR,WACL7O,KAAKoQ,SAASpQ,KAAKsQ,sBPgxClB9T,IAAK,WACLoB,MO9wCK,QAAAoR,YACNhP,KAAKoQ,SAASpQ,KAAKwQ,sBPixClBhU,IAAK,cACLoB,MO/wCQ,QAAAyS,eACT,GAAIvI,QAEJA,SAAU9H,KAAKyQ,aAEuB,kBAA3BzQ,MAAKvB,MAAM4R,aACpBrQ,KAAKvB,MAAM4R,YAAYrQ,KAAKvB,MAAM8E,QAASuE,YPmxC5CtL,IAAK,aACLoB,MOhxCO,QAAA6S,cACR,GAAI/I,KAAKD,KAAML,MAAOE,OAAQoI,GAAI5H,UAQlC,KANAL,KAAO,EACPC,IAAM,EACNgI,GAAK1P,KAAKa,KAAK6O,GACftI,MAAQsI,GAAGrI,YACXC,OAASoI,GAAGnI,aAELmI,IACkC,KAAnCA,GAAG/M,UAAUZ,QAAQ,WAIzB0F,MAAQiI,GAAGgB,YAAc,EACzBhJ,KAAOgI,GAAGiB,WAAa;AACvBjB,GAAKA,GAAGkB,YAGVnJ,QAAUzH,KAAKC,MAAMwO,KAAOzO,KAAKC,MAAMsO,QAAUvO,KAAKC,MAAM0O,KAC5DjH,MAAS1H,KAAKC,MAAMyO,KAAO1O,KAAKC,MAAMuO,QAAUxO,KAAKC,MAAM0O,IAE3D,KAAK,GAAI5S,GAAI,EAAO,EAAJA,EAAOA,IACrB+L,QAAQ1L,MACNgO,EAAG3C,KAAOL,OAAe,IAANrL,GAAiB,IAANA,EAAU,EAAI,GAC5CsO,EAAG3C,IAAMJ,QAAUvL,EAAI,EAAI,EAAI,IAQnC,OAJAiE,MAAKS,UACHqH,kBAGKA,WPwxCNtL,IAAK,oBACLoB,MOtxCc,QAAAiT,qBACf7Q,KAAKW,ePyxCJnE,IAAK,YACLoB,MOvxCM,QAAA+C,aACP9B,KAAApB,OAAAkC,eAhNE2O,UAAS9Q,WAAA,YAAAwC,MAAAzE,KAAAyE,MAkNXA,KAAK8Q,UAEL9Q,KAAKa,KAAK6O,GAAGQ,iBAAiB,YAAalQ,KAAK4O,WAChD5O,KAAKa,KAAK6O,GAAGQ,iBAAiB,aAAclQ,KAAK+O,YAEjDhB,OAAOmC,iBAAiB,SAAUlQ,KAAK8Q,QAAQlN,KAAK5D,UP0xCnDxD,IAAK,UACLoB,MOxxCI,QAAAkT,WPyxCF,GAAIzQ,OAAQL,IOxxCf6D,QAAO6E,QAAQ,YAAYG,KAAK,SAAA5I,OAC9BI,MAAKI,UACHkO,KAAM1O,MAAM0H,aP+xCfnL,IAAK,WACLoB,MO3xCK,QAAA0M,YACN,GAAIF,GAAGC,CAKP,OAHAD,IAAMpK,KAAKC,MAAMwO,KAAOzO,KAAKC,MAAMsO,QAAUvO,KAAKC,MAAM0O,KACxDtE,GAAMrK,KAAKC,MAAMyO,KAAO1O,KAAKC,MAAMuO,QAAUxO,KAAKC,MAAM0O,MAGtDoC,UAAS,cAAgB3G,EAAC,kBAAkBC,EAAC,MAC7C2G,gBAAe,cAAgB5G,EAAC,kBAAkBC,EAAC,UP+xCpD7N,IAAK,gBACLoB,MO5xCU,QAAAgF,iBACX,OAAO,EAAA/C,aAAA,aACLoR,WAAW,EACXC,SAAUlR,KAAKC,MAAM6P,SACrBqB,OAAQnR,KAAKC,MAAK,UAClBmR,QAASpR,KAAKC,MAAMmB,SACrBvC,KAAApB,OAAAkC,eApPC2O,UAAS9Q,WAAA,gBAAAwC,MAAAzE,KAAAyE,UPmhDVxD,IAAK,SACLoB,MO7xCG,QAAA8F,UACJ,MACER,OAAAC,cP6xCG,OO5xCDhC,IAAI,KACJwB,UAAW3C,KAAK4C,gBAChBwI,MAAOpL,KAAKsK,YACZtK,KAAKvB,MAAM4S,cA7Pb/C,WAAkBzK,OAAOC,UPoiD9B3I,SAAQ,WOlyCMmT,UPmyCdlT,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAUA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAZjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIW,cAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIE,IAAKC,IAAKqS,KAAqC,IAA9B,GAAIpS,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASH,IAAKI,SAAWH,IAAKI,SAAWiS,GAAKpS,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA6O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAAhW,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BV,KAAMU,OAAQT,IAAMG,SAAUkS,IAAMjS,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQ3cgD,YAAc5E,oBQ7jDI,GR+jDlB6E,aAAehD,uBAAuB+C,aAEtC2R,eAAiBvW,oBQ/jDA,GRikDjBwW,gBAAkB3U,uBAAuB0U,gBQ/jDxCE,cAAa,SAAAC,YACN,QADPD,iBRqkDDxU,gBAAgB+C,KQrkDfyR,eAEF5S,KAAApB,OAAAkC,eAFE8R,cAAajU,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIfA,KAAKC,OACHmH,MAAO,EACPE,OAAQ,EACRG,KAAM,EACNC,IAAK,EACLC,MAAO,GACPgK,SAAU,GACVC,SAAU,EACVhK,SAAU,EACVC,MAAO,IACP8G,KAAM,EACNjI,QAAQ,EACRC,OAAO,EACPmB,WACA+J,cAGF7R,KAAK2H,MAAQ3H,KAAK2H,MAAM/D,KAAK5D,MAC7BA,KAAK8R,YAAc9R,KAAK8R,YAAYlO,KAAK5D,MACzCA,KAAK+R,SAAW/R,KAAK+R,SAASnO,KAAK5D,MAEnCA,KAAKgS,OAAShS,KAAKgS,OAAOpO,KAAK5D,MAC/BA,KAAKiS,eAAiBjS,KAAKiS,eAAerO,KAAK5D,MAC/CA,KAAKkS,UAAYlS,KAAKkS,UAAUtO,KAAK5D,MRihEtC,MA1eA3C,WQlkDGoU,cAAaC,YRmmDhBnT,aQnmDGkT,gBRomDDjV,IAAK,aACLoB,MQvkDO,QAAAqR,cACR,MAAOjP,MAAKC,MAAMyG,UR0kDjBlK,IAAK,WACLoB,MQxkDK,QAAAuU,YACNnS,KAAKS,UACHiG,QAAQ,IAGgC,kBAA/B1G,MAAKvB,MAAMqI,iBACpB9G,KAAKvB,MAAMqI,gBAAgB9G,KAAKvB,MAAM,YAAauB,KAAKvB,MAAMgK,eR4kD/DjM,IAAK,aACLoB,MQzkDO,QAAA0L,cR0kDL,GAAIjJ,OAAQL,IQzkDVA,MAAKC,MAAM0G,MAad3G,KAAKS,UACHiG,QAAQ,IAbV1G,KAAKS,UACHgH,KAAMzH,KAAKC,MAAM4R,UAAUpK,MAAQzH,KAAKC,MAAMwH,KAC9CC,IAAK1H,KAAKC,MAAM4R,UAAUnK,KAAO1H,KAAKC,MAAMyH,IAC5CC,MAAO3H,KAAKC,MAAM4R,UAAUlK,OAAS3H,KAAKC,MAAM0H,MAChDC,SAAU5H,KAAKC,MAAM4R,UAAUjK,UAAY5H,KAAKC,MAAM2H,SACtDlB,QAAQ,GACP,WACD0L,WAAW,WACT/R,MAAKwG,aACJ,QRolDNrK,IAAK,YACLoB,MQ5kDM,QAAAkR,WAACrN,GACJA,EAAEkO,eAAiBlO,EAAEkO,cAAc,KACrClO,EAAE4N,MAAQ5N,EAAEkO,cAAc,GAAGN,MAC7B5N,EAAE6N,MAAQ7N,EAAEkO,cAAc,GAAGL,OAG/BtP,KAAKS,UACHgO,KAAMhN,EAAE4N,MAAQrP,KAAKC,MAAMuP,MAC3Bd,KAAMjN,EAAE6N,MAAQtP,KAAKC,MAAMwP,MAC3BhI,MAAQhG,EAAE4N,MAAQrP,KAAKC,MAAMuP,MAAQxP,KAAKC,MAAMsO,QAAUvO,KAAKC,MAAM0O,KACrEjH,KAAOjG,EAAE6N,MAAQtP,KAAKC,MAAMwP,MAAQzP,KAAKC,MAAMuO,QAAUxO,KAAKC,MAAM0O,OAEtE3O,KAAK6G,eR+kDJrK,IAAK,SACLoB,MQ7kDG,QAAAyU,WACiC,kBAA1BrS,MAAKvB,MAAMmI,YACpB5G,KAAKvB,MAAMmI,WAAW5G,KAAKvB,MAAM,YAAauB,KAAKvB,MAAMgK,eRilD1DjM,IAAK,SACLoB,MQ9kDG,QAAAoU,UACJhS,KAAKa,KAAK6O,GAAG4C,WAAWpC,iBAAiB,YAAalQ,KAAKiS,gBAC3DjS,KAAKa,KAAK6O,GAAG4C,WAAWpC,iBAAiB,UAAWlQ,KAAKkS,WAEzDlS,KAAKa,KAAK6O,GAAG4C,WAAWpC,iBAAiB,YAAalQ,KAAKiS,gBAC3DjS,KAAKa,KAAK6O,GAAG4C,WAAWpC,iBAAiB,WAAYlQ,KAAKkS,cRilDzD1V,IAAK,YACLoB,MQ/kDM,QAAAsU,aACPlS,KAAKa,KAAK6O,GAAG4C,WAAW/B,oBAAoB,YAAavQ,KAAKiS,gBAC9DjS,KAAKa,KAAK6O,GAAG4C,WAAW/B,oBAAoB,UAAWvQ,KAAKkS,WAE5DlS,KAAKa,KAAK6O,GAAG4C,WAAW/B,oBAAoB,YAAavQ,KAAKiS,gBAC9DjS,KAAKa,KAAK6O,GAAG4C,WAAW/B,oBAAoB,WAAYvQ,KAAKkS,cRklD5D1V,IAAK,iBACLoB,MQhlDW,QAAAqU,gBAACxQ,GACb,GAAImG,UAAU2K,OAAQC,MAElB/Q,GAAEkO,eAAiBlO,EAAEkO,cAAc,KACrClO,EAAE4N,MAAQ5N,EAAEkO,cAAc,GAAGN,MAC7B5N,EAAE6N,MAAQ7N,EAAEkO,cAAc,GAAGL,OAG/BiD,OAAU9Q,EAAE4N,MAAQrP,KAAKC,MAAM0O,KAAS3O,KAAKa,KAAK6B,GAAGkO,aAAaF,YAAe1Q,KAAKC,MAAMwH,KAAOzH,KAAKC,MAAMmH,MAAQ,GACtHoL,OAAU/Q,EAAE6N,MAAQtP,KAAKC,MAAM0O,KAAS3O,KAAKa,KAAK6B,GAAGkO,aAAaD,WAAc3Q,KAAKC,MAAMyH,IAAM1H,KAAKC,MAAMqH,OAAS,GAErHM,SAAWlC,KAAK+M,MAAMD,OAAQD,QAAW7M,KAAKgN,GAAK,GAAM,EAAIhN,KAAKgN,IAElE1S,KAAKS,UACHmH,oBAGF5H,KAAK6G,eRmlDJrK,IAAK,QACLoB,MQjlDE,QAAAiK,SACH,GAAIA,OAAO9G,KAAOf,IAElB6H,OAAQ7H,KAAKC,MAAM4H,MAAQ,EAE3B7H,KAAKS,UACHoH,aACC,WACsC,kBAA5B9G,MAAKtC,MAAMsI,cACpBhG,KAAKtC,MAAMsI,aAAahG,KAAKtC,MAAMgK,iBRulDtCjM,IAAK,UACLoB,MQnlDI,QAAAkM,SAACjC,OACN7H,KAAKS,UACHoH,iBRulDDrL,IAAK,QACLoB,MQplDE,QAAA+J,SACH3H,KAAKa,KAAK6O,GAAG4C,WAAWpC,iBAAiB,YAAalQ,KAAK8R,aAC3D9R,KAAKa,KAAK6O,GAAG4C,WAAWpC,iBAAiB,UAAWlQ,KAAK+R,UAEzD/R,KAAKa,KAAK6O,GAAG4C,WAAWpC,iBAAiB,YAAalQ,KAAK8R,aAC3D9R,KAAKa,KAAK6O,GAAG4C,WAAWpC,iBAAiB,WAAYlQ,KAAK+R,aRulDzDvV,IAAK,WACLoB,MQrlDK,QAAAmU,YACN/R,KAAKa,KAAK6O,GAAG4C,WAAW/B,oBAAoB,YAAavQ,KAAK8R,aAC9D9R,KAAKa,KAAK6O,GAAG4C,WAAW/B,oBAAoB,UAAWvQ,KAAK+R,UAE5D/R,KAAKa,KAAK6O,GAAG4C,WAAW/B,oBAAoB,YAAavQ,KAAK8R,aAC9D9R,KAAKa,KAAK6O,GAAG4C,WAAW/B,oBAAoB,WAAYvQ,KAAK+R,aRwlD5DvV,IAAK,cACLoB,MQtlDQ,QAAAkU,aAACrQ,GACV,GAAIkG,OAAO4K,OAAQC,OAAQG,MAAOC,IAE9BnR,GAAEkO,eAAiBlO,EAAEkO,cAAc,KACrClO,EAAE4N,MAAQ5N,EAAEkO,cAAc,GAAGN,MAC7B5N,EAAE6N,MAAQ7N,EAAEkO,cAAc,GAAGL,OAG/BiD,OAAU9Q,EAAE4N,MAAQrP,KAAKC,MAAM0O,KAAS3O,KAAKa,KAAK6B,GAAGkO,aAAaF,WAAa1Q,KAAKC,MAAM0O,MAAS3O,KAAKC,MAAMwH,KAAOzH,KAAKC,MAAM0O,KAAO3O,KAAKC,MAAMmH,MAAQ,GAC1JoL,OAAU/Q,EAAE6N,MAAQtP,KAAKC,MAAM0O,KAAS3O,KAAKa,KAAK6B,GAAGkO,aAAaD,UAAY3Q,KAAKC,MAAM0O,MAAS3O,KAAKC,MAAMyH,IAAM1H,KAAKC,MAAM0O,KAAO3O,KAAKC,MAAMqH,OAAS,GAEzJqL,MAAQjN,KAAKmN,IAAInN,KAAKmN,IAAIN,OAAQ,GAAK7M,KAAKmN,IAAIL,OAAQ,GAAI,IAC5DI,KAAOlN,KAAKmN,IAAInN,KAAKmN,IAAI7S,KAAKC,MAAMmH,MAAQ,EAAG,GAAK1B,KAAKmN,IAAI7S,KAAKC,MAAMqH,OAAS,EAAG,GAAI,IAExFK,MAAQjC,KAAKoN,IAAIpN,KAAKqN,IAAIJ,MAAQC,KAAM,GAAI5S,KAAKC,MAAM0R,UAEvD3R,KAAKS,UACHkH,cAGF3H,KAAK6G,eRylDJrK,IAAK,YACLoB,MQvlDM,QAAAiJ,aRwlDJ,GAAIvD,QAAStD,IQvlDhBA,MAAKyQ,WAAW,WACd,GAAI9J,MAEgC,mBAAzBrD,QAAK7E,MAAMoI,YACpBF,MAAQrD,OAAK7E,MAAMoI,UAAUvD,OAAK7E,MAAM,YAAa6E,OAAK7E,MAAMgK,YAE5D9B,MACFrD,OAAK7C,UACHkG,YACAkL,UAAW,GAAIpU,QAAO6F,OAAKrD,SAG7BqD,OAAK7C,UACHkG,cAI+B,kBAAxBrD,QAAK7E,MAAMuI,UACpB1D,OAAK7E,MAAMuI,SAASL,aR+lDzBnK,IAAK,aACLoB,MQ1lDO,QAAA6S,YAAClI,IACT,GAAIyK,QAAQC,SAAUC,MAAOpL,UAE7BkL,SACE5I,EAAGpK,KAAKC,MAAMwH,KAAOzH,KAAKC,MAAMmH,MAAQ,EACxCiD,EAAGrK,KAAKC,MAAMyH,IAAM1H,KAAKC,MAAMqH,OAAS,GAG1C2L,SAAWvN,KAAKmN,IAAInN,KAAKmN,IAAI7S,KAAKC,MAAMmH,MAAQpH,KAAKC,MAAM0H,MAAQ,EAAG,GAAKjC,KAAKmN,IAAI7S,KAAKC,MAAMqH,OAAStH,KAAKC,MAAM0H,MAAQ,EAAG,GAAI,GAElI,KAAK,GAAI5L,GAAI,EAAO,EAAJA,EAAOA,IACrBmX,MAAQlT,KAAKC,MAAM2H,SACnBsL,OAAc,EAAJnX,EAAQ,EAAI2J,KAAKgN,GAC3BQ,OAASxN,KAAKmN,IAAI,GAAI9W,GAAK2J,KAAK+M,MAAMzS,KAAKC,MAAMqH,OAAQtH,KAAKC,MAAMmH,OAEpEU,QAAQ1L,MACNgO,EAAG4I,OAAO5I,EAAI6I,SAAWvN,KAAKyN,IAAID,OAClC7I,EAAG2I,OAAO3I,EAAI4I,SAAWvN,KAAK0N,IAAIF,QAItClT,MAAKS,UACHqH,iBACCS,ORgmDF/L,IAAK,UACLoB,MQ9lDI,QAAAyV,WR+lDF,GAAIjK,QAASpJ,KQ9lDZsT,MAAOvS,KAAOf,IAElBsT,OAAQ,GAAI3F,OAEZ2F,MAAMC,OAAS,WACb,GAAI9L,MAAMC,IAAKN,MAAOE,OAAQoD,OAAQ8I,OAAQ7B,SAAUC,SAAUjK,KAElE+C,QAAStB,OAAK3K,MAAMiM,QAAU,GAC9B8I,OAASpK,OAAK3K,MAAM+U,QAAU,IAC9B/L,KAAO2B,OAAKnJ,MAAMwH,KAClBC,IAAM0B,OAAKnJ,MAAMyH,IACjBN,MAAQkM,MAAMlM,MACdE,OAASgM,MAAMhM,OAEfqK,SAAWjM,KAAKoN,IAAIpI,OAAStD,MAAOsD,OAASpD,QAC7CsK,SAAWlM,KAAKqN,IAAIS,OAASpM,MAAOoM,OAASlM,OAAQ8B,OAAKnJ,MAAM2R,UAChEjK,MAAQ5G,KAAKtC,MAAMwB,OAASc,KAAKtC,MAAMwB,MAAM0H,MAC3C5G,KAAKtC,MAAMwB,MAAM0H,MACjBjC,KAAKoN,IAAIpN,KAAKqN,IAAIhS,KAAKd,MAAM0H,MAAOiK,UAAWD,UAE3CvI,OAAKnJ,MAAMqH,QAAW8B,OAAKnJ,MAAMmH,OACnCgC,OAAKnJ,MAAMwH,MAAS2B,OAAKnJ,MAAMyH,MACjCD,MAAQ2B,OAAK3K,MAAMsM,YAAc3D,OAAS,EAC1CM,KAAO0B,OAAK3K,MAAMuM,aAAe1D,QAAU,GAG7CvG,KAAKN,UACHgH,UACAC,QACAN,YACAE,cACAqK,kBACAhK,aACC,WACD5G,KAAKoR,WACLpR,KAAK8F,eAITyM,MAAMrK,IAAMjJ,KAAKvB,MAAMwK,ORimDtBzM,IAAK,WACLoB,MQ/lDK,QAAA6V,YACN,GAAI5L,OAAQ,GAEZ,IAAI7H,KAAKvB,MAAMwB,OAASD,KAAKvB,MAAMwB,MAAM4H,MACvCA,MAAQ7H,KAAKvB,MAAMwB,MAAM4H,UAEzB,QAAQ7H,KAAKvB,MAAMgK,YACnB,IAAK,aACHZ,MAAQ,CACR,MACF,KAAK,UACHA,MAAQ,IAKZ7H,KAAKS,UACHoH,iBRmmDDrL,IAAK,eACLoB,MQhmDS,QAAA8V,gBACV1T,KAAKa,KAAK8G,MAAMuI,iBAAiB,YAAalQ,KAAK2H,OACnD3H,KAAKa,KAAKmR,OAAO9B,iBAAiB,YAAalQ,KAAKgS,QAEpDhS,KAAKa,KAAK8G,MAAMuI,iBAAiB,aAAclQ,KAAK2H,OACpD3H,KAAKa,KAAKmR,OAAO9B,iBAAiB,aAAclQ,KAAKgS,WRmmDpDxV,IAAK,oBACLoB,MQjmDc,QAAAiT,qBACf7Q,KAAKW,eRomDJnE,IAAK,YACLoB,MQlmDM,QAAA+C,aRmmDJ,GAAI4I,QAASvJ,IQlmDhBnB,MAAApB,OAAAkC,eApTE8R,cAAajU,WAAA,YAAAwC,MAAAzE,KAAAyE,MAsTXA,KAAKvB,MAAMwB,OACbD,KAAKS,SAAST,KAAKvB,MAAMwB,OAG3BD,KAAKqT,UACLrT,KAAKyT,WAELzT,KAAK0T,eAEL7P,OAAO6E,QAAQ,QACbC,KAAM,WACNC,SAAY5I,KAAKvB,MAAMmK,WACtBC,KAAK,SAAAC,GACNS,OAAK9I,SAASqI,EAAG,WACfS,OAAK1C,mBRymDRrK,IAAK,qBACLoB,MQrmDe,QAAA+V,sBAChB3T,KAAK0T,kBRwmDJlX,IAAK,iBACLoB,MQtmDW,QAAAgW,kBRumDT,GQvmDUC,eAAa7X,UAAAC,QAAA,GAAAW,SAAAZ,UAAA,GAAG,EAACA,UAAA,GAC1BoP,MAAO2F,UAAY,EASvB,OAPAA,YAAS,SAAc,EAAI/Q,KAAKC,MAAM0H,MAAK,KAC3CoJ,WAAS,YAAgB/Q,KAAKC,MAAM2H,SAAWiM,eAAa,QAE5DzI,OACE2F,wBR+mDDvU,IAAK,gBACLoB,MQ1mDU,QAAAkW,iBACX,GAAI1I,OAAO2F,UAAY,EAevB,OAbAA,YAAS,SAAa/Q,KAAKC,MAAM0H,MAAK,KACtCoJ,WAAS,UAAc/Q,KAAKC,MAAM2H,SAAQ,QAE1CwD,OACEb,gBAAe,QAAUvK,KAAKvB,MAAMwK,IAAG,KACvC7B,MAAOpH,KAAKC,MAAMmH,MAClBE,OAAQtH,KAAKC,MAAMqH,OACnBG,KAAMzH,KAAKC,MAAMwH,KACjBC,IAAK1H,KAAKC,MAAMyH,IAChBqJ,oBACAgD,OAAQ/T,KAAKC,MAAM4H,URinDpBrL,IAAK,kBACLoB,MQ5mDY,QAAAoW,mBACb,GAAI5I,OAAO2F,UAAY,EAavB,OAXAA,YAAS,SAAa/Q,KAAKC,MAAM0H,MAAK,KACtCoJ,WAAS,UAAc/Q,KAAKC,MAAM2H,SAAQ,QAE1CwD,OACEhE,MAAOpH,KAAKC,MAAMmH,MAClBE,OAAQtH,KAAKC,MAAMqH,OACnBG,KAAMzH,KAAKC,MAAMwH,KACjBC,IAAK1H,KAAKC,MAAMyH,IAChBqJ,wBRmnDDvU,IAAK,aACLoB,MQ9mDO,QAAAqW,cACR,OAAO,EAAApU,aAAA,aACLqR,SAAUlR,KAAKC,MAAM6P,SACrBqB,OAAQnR,KAAKC,MAAK,UAClBiL,OAAQlL,KAAKC,MAAMyG,OACnBwN,SAAUlU,KAAKC,MAAM0G,OACpB,iBAAkB3G,KAAKvB,MAAMgK,eRinD/BjM,IAAK,cACLoB,MQ/mDQ,QAAAuW,eACT,MACEjR,OAAAC,cAAA,OACEhC,IAAI,KACJwB,UAAU,QACVyI,MAAOpL,KAAK8T,qBRknDftX,IAAK,gBACLoB,MQ9mDU,QAAA0P,iBACX,MACEpK,OAAAC,cR8mDG,OQ7mDDR,UAAU,UACVyI,MAAOpL,KAAKgU,mBAEZ9Q,MAAAC,cAAA,UACER,UAAU,SACVyI,MAAOpL,KAAK4T,iBACZjQ,QAAS3D,KAAI,UAAQ4D,KAAK5D,QAE5BkD,MAAAC,cAAA,UACEhC,IAAI,SACJwB,UAAU,SACVyI,MAAOpL,KAAK4T,mBAEd1Q,MAAAC,cAAA,UACER,UAAU,QACVgB,QAAS3D,KAAK6H,MAAMjE,KAAK5D,MACzBoL,MAAOpL,KAAK4T,mBAEd1Q,MAAAC,cAAA,UACEhC,IAAI,QACJwB,UAAU,QACVyI,MAAOpL,KAAK4T,eAAe,cRonDhCpX,IAAK,SACLoB,MQ/mDG,QAAA8F,UACJ,MACER,OAAAC,cR+mDG,MQ9mDDhC,IAAI,KACJwB,UAAW3C,KAAKiU,aAChBtQ,QAAS3D,KAAKmS,SAASvO,KAAK5D,OAE3BA,KAAKmU,cACLnU,KAAKsN,qBAvbRmE,eR6iEFD,gBAAgB,WQhnDpBC,eAAc1N,aAAeC,EAAEC,UAC7B8G,YAAa,KACbC,aAAc,KACbwG,gBAAA,WAAUzN,cRonDZ5I,QAAQ,WQlnDMsW,cRmnDdrW,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAUA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAZjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIW,cAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQxcgD,YAAc5E,oBS/kEI,GTilElB6E,aAAehD,uBAAuB+C,aAEtC2L,cAAgBvQ,oBSjlEE,GTmlElBwQ,eAAiB3O,uBAAuB0O,eSjlEvC6I,MAAK,SAAA1I,aACE,QADP0I,STulEDnX,gBAAgB+C,KSvlEfoU,OAEFvV,KAAApB,OAAAkC,eAFEyU,MAAK5W,WAAA,cAAAwC,MAAAzE,KAAAyE,MTgvER,MA5JA3C,WSplEG+W,MAAK1I,aT4lERnN,aS5lEG6V,QT6lED5X,IAAK,eACLoB,MSzlES,QAAA4D,cAACC,GACX,GAAIiB,IAAIa,QAAS/G,IAAKV,UAEtB4G,IAAKjB,EAAEpD,OAAOuD,QAAQ,MAEjBc,KAELlG,IAAMkG,GAAGb,aAAa,YAEjB7B,KAAKa,KAAKrE,OAEf+G,QAAUvD,KAAKa,KAAKrE,KAAKiC,MAAMkG,KAC/B7I,QAAQU,KAAOwD,KAAKC,MAAMK,YAE1BN,KAAKS,UACH8C,gBACAzH,kBAGqB,aAAnByH,QAAQ8Q,QAE4B,kBAA7BrU,MAAKvB,MAAM+N,eAAgCjJ,SACpDvD,KAAKvB,MAAM+N,cAAcjJ,cTgmE1B/G,IAAK,WACLoB,MS7lEK,QAAA6E,UAACjG,IAAK8X,MACZ,OAAO,EAAAzU,aAAA,YACLG,KAAKC,MAAMnE,QAAQU,MACjB+X,OAAiC,eAAzBvU,KAAKvB,MAAM+V,YAA+BF,KAClDG,KAA+B,eAAzBzU,KAAKvB,MAAM+V,eTgmEpBhY,IAAK,gBACLoB,MS5lEU,QAAAgF,iBACX,OAAO,EAAA/C,aAAA,aACLqN,eAAe,EACfwH,SAAU1U,KAAKC,MAAMuC,UACpBxC,KAAKvB,MAAMkE,cT+lEbnG,IAAK,gBACLoB,MS7lEU,QAAA+W,eAAChQ,MACZ,MAAKA,MAAK0P,QAA0B,aAAhB1P,KAAK0P,OAClB1P,KAAK0P,OAD2C,MTimEtD7X,IAAK,aACLoB,MS9lEO,QAAAyF,cT+lEL,GAAIhD,OAAQL,KS9lEXsG,MAAOsO,OAEX,OAAK5U,MAAKvB,MAAM6D,MAAStC,KAAKvB,MAAM6D,KAAKgE,OAEzCA,MAAQtG,KAAKvB,MAAM6D,KAAKgE,MAEnBA,MAAMrK,QAQX2Y,QAAU5Q,EAAElF,IAAIkB,KAAKvB,MAAMoW,UAAW,gBAE/BvO,MAAMxF,IAAI,SAAC6D,KAAMnI,KACtB,GAAIsY,WAAWxB,MAAO3K,IAsBtB,OArBAmM,WAAYC,OAAOC,IAAIrQ,KAAKsQ,SAASC,QACrC1Y,IAAM,WAAaA,IAEnBoY,QAAQvM,QAAQ,SAAA8M,QACVxQ,KAAKtE,MAAK5B,MAAM+V,aAAeW,OAAOC,YACxC9B,MAAQ6B,OAAOE,UAAU/B,MAAQ6B,OAAOE,UAAU/B,MAAMgC,IAAM,GAC9D3M,KAAOwM,OAAOI,YAIb5M,MACH9E,OAAO6E,QAAQ,WACbC,KAAM,YACNyM,UAAazQ,KAAKtE,MAAK5B,MAAM+V,aAIJ,cAAzBnU,MAAK5B,MAAM+V,YACb7P,KAAK6Q,MAAO,GAIZtS,MAAAC,cAACU,OAAOuK,UACNzL,UAAWtC,MAAKoC,SAASjG,IAAKmI,KAAK2P,MACnCnT,IAAK3E,IACLiH,WAAUjH,IACVmI,KAAMA,KACNnI,IAAKA,KAEL0G,MAAAC,cAACU,OAAO8J,OAAM1E,IAAKqK,QACnBpQ,MAAAC,cTkmEG,QSlmEGR,UAAW,YAAcgG,KAAK1M,OAAS,GAAK,QAAU,KACzD0M,MAEHzF,MAAAC,cTomEG,QSpmEGR,UAAU,aACdO,MAAAC,cTsmEG,QStmEGR,UAAU,QAAQmS,UAAUW,OAAO,aACzCvS,MAAAC,cT0mEG,QS1mEGR,UAAU,QAAQmS,UAAUW,OAAO,YAE3CvS,MAAAC,cT8mEG,QS9mEGR,UAAW,UAAYgC,KAAK0P,QAC/BhU,MAAKsU,cAAchQ,WAhDxBzB,MAAAC,cTgmEG,MShmECR,UAAU,SACX3C,KAAKvB,MAAMiX,eAPlB,UT2qEClZ,IAAK,SACLoB,MS/mEG,QAAA8F,UACJ,MACER,OAAAC,cT+mEG,MACA,KS/mEDD,MAAAC,cTinEG,MSjnECR,UAAW3C,KAAK4C,gBAAiBe,QAAS3D,KAAKC,MAAMC,eAAe0D,KAAK5D,OAC1EA,KAAKqD,mBAxHV+Q,OTivEF5I,eAAe,WSlnEnB4I,OAAMrQ,aAAeC,EAAEC,UACrBuQ,UAAW,aACXK,cACCrJ,eAAA,WAAWzH,cTsnEb5I,QAAQ,WSpnEMiZ,MTqnEdhZ,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,SAEtB,YAEAsC,QAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,QAEvPlD,SAAQ,WU3wEM,SAAUsD,MAAO0C,IAAK3E,KACnC,MACE0G,OAAAC,cAACU,OAAO8R,OV4wEPxX,YU3wEKM,OACJ0C,IAAKA,IACL3E,IAAKA,IACLnB,GAAG,aACHwH,eAAe,EACf+S,cAAe,IACfC,UAAW,IACXC,iBAAe,EACfC,UAAQ,IAER7S,MAAAC,cAACU,OAAO8J,OAAMhL,UAAU,SAASsG,IAAI,wCACrC/F,MAAAC,cAACU,OAAO8J,OAAMhL,UAAU,SAASsG,IAAI,+CV+wE1C7N,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,SAEtB,YAUA,SAAS8B,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAVjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIW,cAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SW3yEvcoZ,OAAM,SAAAjW,mBACC,QADPiW,UXqzED/Y,gBAAgB+C,KWrzEfgW,QAEFnX,KAAApB,OAAAkC,eAFEqW,OAAMxY,WAAA,cAAAwC,MAAAzE,KAAAyE,MXs1ET,MApCA3C,WWlzEG2Y,OAAMjW,mBX0zETxB,aW1zEGyX,SX2zEDxZ,IAAK,SACLoB,MWtzEG,QAAA8F,UACJ,MACER,OAAAC,cXszEG,OWtzEE9H,GAAG,SAASsH,UAAU,UACzBO,MAAAC,cXwzEG,OWxzEER,UAAU,SACbO,MAAAC,cX0zEG,KACA,KACA,YW3zEHD,MAAAC,cX8zEG,OW9zEER,UAAU,oBACbO,MAAAC,cXg0EG,OWh0EER,UAAU,oBACbO,MAAAC,cAAA,OAAKR,UAAU,6BAbvBqT,QAAenS,OAAOC,UXy1E3B3I,SAAQ,WWn0EM6a,OXo0Ed5a,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAUA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASmJ,iBAAgBnJ,IAAKN,IAAKoB,OAAiK,MAApJpB,OAAOM,KAAOW,OAAOS,eAAepB,IAAKN,KAAOoB,MAAOA,MAAOC,YAAY,EAAME,cAAc,EAAMD,UAAU,IAAkBhB,IAAIN,KAAOoB,MAAgBd,IAE3M,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAdjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIW,cAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAUxcqZ,gBAAkBjb,oBYl3EA,GZo3ElBkb,iBAAmBrZ,uBAAuBoZ,iBAE1CrW,YAAc5E,oBYp3EI,GZs3ElB6E,aAAehD,uBAAuB+C,aYp3ErCuW,KAAI,SAAAzK,aACG,QADPyK,QZ03EDlZ,gBAAgB+C,KY13EfmW,MAEFtX,KAAApB,OAAAkC,eAFEwW,KAAI3Y,WAAA,cAAAwC,MAAAzE,KAAAyE,MAINA,KAAKC,OACHyG,QAAQ,EACRpG,YAAa,WACbxE,YZggFH,MAhJAuB,WYv3EG8Y,KAAIzK,aZq4EPnN,aYr4EG4X,OZs4ED3Z,IAAK,aACLoB,MY53EO,QAAA0L,cACR,GAAIvI,MAAOf,IAEXA,MAAKS,UACHiG,QAAQ,IAGVjJ,OAAOmD,KAAKZ,KAAKa,MAAMC,IAAI,SAAAtE,KACgB,kBAA9BuE,MAAKF,KAAKrE,KAAK8M,YACxBvI,KAAKF,KAAKrE,KAAK8M,kBZi4ElB9M,IAAK,UACLoB,MY73EI,QAAA+F,SAAClC,GACN,GAAIiB,IAAI0T,GAAInP,IAAK1D,QAASmD,QAAS,EAAO5K,UAE1C4G,IAAKjB,EAAEpD,OAAOuD,QAAQ,MAEjBc,KAEL0T,GAAK1T,GAAGd,QAAQ,MAChBqF,IAAMC,SAASC,YAAYnH,MAEvBoW,KAAOnP,MAEX1D,QAAUb,GAAGb,aAAa,YAEtB7B,KAAKC,MAAMnE,QAAQyH,WAAavD,KAAKC,MAAMK,cAC7CxE,QAAQyH,SAAWvD,KAAKC,MAAMK,YAC9BoG,QAAU1G,KAAKvB,MAAM4X,UAGvBrW,KAAKS,UACH3E,gBACA4K,qBZs4EDlK,IAAK,cACLoB,MYn4EQ,QAAA4M,eZo4EN,GAAInK,OAAQL,KYn4EXe,KAAOf,IAEX,OAAgC,gBAArBA,MAAKvB,MAAM6H,MAEf7I,OAAOmD,KAAKZ,KAAKvB,MAAM6H,OAAOxF,IAAI,SAACtE,KACxC,GAAImI,MAAMhB,QAAS2S,QAASzJ,WAAY0J,OAuBxC,OArBA1J,YAAaxM,MAAK5B,MAAMoO,cAAgB2J,OAAOnW,MAAK5B,MAAMoO,eAC1DA,WAAWzQ,KAAKI,KAEhBmI,KAAOtE,MAAK5B,MAAM6H,MAAM9J,KAExB+Z,QAC0B,gBAAf5R,MAAK2B,OACmC,mBAA/C7I,OAAOD,UAAUiZ,SAASlb,KAAKoJ,KAAK2B,QAEJ,gBAAzBvF,MAAKtC,MAAMiY,WAClB3V,KAAKtC,MAAMiY,YAAc3V,KAAKtC,MAAMkY,MAGpCJ,UACFD,SACEvQ,MAAO,cACP8G,uBAEFlJ,QAAUE,OAAO6E,QAAQ9E,KAAK,KAAM,OAAQ0S,UAI5CpT,MAAAC,cAACU,OAAOuK,UACNzL,UAAW5B,KAAK0B,SAASjG,KACzBiH,WAAUjH,IACV2E,IAAK3E,IACLA,IAAKA,IACLmH,QAASA,SAETT,MAAAC,cZi4EG,OACA,KYl4EI3G,KACN,WACC,MAAI+Z,SAAJ,OAEErT,MAAAC,cAACgT,MACChV,IAAK,QAAU3E,IACfqQ,WAAYA,WACZvG,MAAO3B,KAAK2B,MACZ+P,UAAU,EACVM,OAAQ5V,KAAKtC,MAAMkY,OAAS,GAAK,EACjCD,UAAW3V,KAAKtC,MAAMiY,kBA5ClC,UZs7ECla,IAAK,WACLoB,MYl4EK,QAAA6E,UAACjG,KZm4EJ,GAAIyQ,YYl4EP,QAAO,EAAApN,aAAA,aAAAoN,eAAAhH,gBAAAgH,YACJzQ,IAAIoa,QAAQ,IAAK,MAAO,GAAI3Q,gBAAAgH,YAC5BjN,KAAKC,MAAMnE,QAAQU,MAAQ,IAAK,GAAIyQ,iBZq4EtCzQ,IAAK,gBACLoB,MYl4EU,QAAAgF,iBACX,OAAO,EAAA/C,aAAA,aACLgX,MAAM,EACN3L,OAAQlL,KAAKC,MAAMyG,QAClB1G,KAAKvB,MAAMkE,cZq4EbnG,IAAK,SACLoB,MYn4EG,QAAA8F,UACJ,MACER,OAAAC,cZm4EG,MYl4EDR,UAAW3C,KAAK4C,gBAChBe,QAAS3D,KAAK2D,QAAQC,KAAK5D,OAE1BA,KAAKwK,mBA9HR2L,MZwgFFD,iBAAiB,WAEpB/a,SAAQ,WYt4EMgb,KZu4Ed/a,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,SAEtB,YAYA,SAAS8B,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAZjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,Sa/hFvcka,WAAU,SAAAC,gBbwiFb,QaxiFGD,cbyiFD7Z,gBAAgB+C,KaziFf8W,Yb2iFDjY,KAAKpB,OAAOkC,ea3iFXmX,WAAUtZ,WAAA,cAAAwC,MAAAzD,MAAAyD,KAAAhE,Wb2mFb,MArEAqB,WatiFGyZ,WAAUC,gBb8iFbxY,aa9iFGuY,ab+iFDta,IAAK,OACLoB,Ma/iFC,QAAAoZ,QACFnT,OAAO6E,QAAQ,WbkjFdlM,IAAK,SACLoB,MahjFG,QAAAqZ,UACJjX,KAAKkX,QACLrT,OAAO6E,QAAQ,aACbrN,GAAI2E,KAAKvB,MAAMpD,QbojFhBmB,IAAK,eACLoB,MajjFS,QAAAuZ,gBACV,MAAInX,MAAKvB,MAAM2Y,OACNpX,KAAKvB,MAAM2Y,OAAOtW,IAAI,SAACwH,MAAO9L,KACnC,MACE0G,OAAAC,cAACU,OAAOwT,MAAKlZ,YACPmK,MAAM7J,OACV0C,IAAKmH,MAAMnH,KAAOmH,MAAM7J,MAAM,aAAgB,SAAWjC,IACzDA,IAAKA,IACLiH,WAAUjH,SAMX,QbijFNA,IAAK,SACLoB,Ma/iFG,QAAA8F,UACJ,MACER,OAAAC,cb+iFG,Oa/iFE9H,GAAI2E,KAAKvB,MAAMpD,GAAIsH,UAAW,UAAY3C,KAAK4C,iBACjD5C,KAAKmX,eACNjU,MAAAC,cbijFG,OajjFER,UAAU,UACbO,MAAAC,cbmjFG,OanjFER,UAAU,SACbO,MAAAC,cbqjFG,KACA,KACA,mBavjFiBD,MAAAC,cAAA,WbyjFjB,iBaxjFHD,MAAAC,cb2jFG,KACA,KACA,oCa5jFHD,MAAAC,cAAA,UAAQR,UAAU,WAAWgB,QAAS3D,KAAKgX,KAAKpT,KAAK5D,QACrDkD,MAAAC,cAAA,UAAQR,UAAU,UAAUgB,QAAS3D,KAAKiX,OAAOrT,KAAK5D,eAtC5D8W,YAAmBjT,OAAO8R,Ob8mF/Bxa,SAAQ,Wa/jFP+H,MAAAC,cAAC2T,YACCzb,GAAG,SbikFND,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,SAEtB,YAYA,SAAS8B,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAZjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,ScjoFvc0a,OAAM,SAAAvX,mBACC,QADPuX,Ud2oFDra,gBAAgB+C,Kc3oFfsX,QAEFzY,KAAApB,OAAAkC,eAFE2X,OAAM9Z,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIRA,KAAKC,OACHsX,WAAY,IAGdvX,KAAK+F,MAAQ,Ed60Fd,MA7MA1I,WcxoFGia,OAAMvX,mBdspFTxB,actpFG+Y,SdupFD9a,IAAK,OACLoB,Mc7oFC,QAAA4Z,MAACjU,SACH,GAAIxC,MAAOf,IACXe,MAAKN,UACH+W,MAAM,EACND,WAAY,GAAKhU,UAGnBxC,KAAK0W,UAAUlU,SAEXxC,KAAKtC,MAAMiZ,eACb3W,KAAKyB,WAELzB,KAAKE,mBAAmBH,IAAI,SAAAtE,KACtBA,MAAQ+G,SAAWxC,KAAKF,KAAKrE,MAC/BuE,KAAKF,KAAKrE,KAAKgG,aAKjBzB,KAAKtC,MAAMkZ,WACbvF,WAAW,WACTrR,KAAKmW,SACJ,KAGDlX,KAAKvB,MAAMmZ,YACb5X,KAAKoC,iBACHC,KAAMrC,KAAKvB,MAAMmZ,WACjBtV,MACEkV,KAAM,GAAKjU,WAKjBxC,KAAKkB,SAAS,SAAUsB,YdgpFvB/G,IAAK,QACLoB,Mc9oFE,QAAAsZ,SACH,GAAIW,aAAc7X,KAAKC,MAAMsX,UAE7BvX,MAAKS,UACH+W,MAAM,EACND,WAAY,KAGVvX,KAAK8X,MAAM,gBACb9X,KAAK8X,MAAM,eAAeC,OAG5B/X,KAAKiC,SAAS,WAEyB,kBAA5BjC,MAAKvB,MAAMuZ,cACpBhY,KAAKvB,MAAMuZ,aAAaH,gBdkpFzBrb,IAAK,QACLoB,Mc/oFE,QAAAwC,SACHvB,KAAApB,OAAAkC,eApEE2X,OAAM9Z,WAAA,QAAAwC,MAAAzE,KAAAyE,MAqEsB,MAA1BA,KAAKvB,MAAMwZ,YACbjY,KAAKwX,KAAKxX,KAAKvB,MAAMwZ,aACZjY,KAAKvB,MAAM2B,OAAqC,kBAArBJ,MAAKvB,MAAM2B,MAC/CJ,KAAKvB,MAAM2B,MAAM7E,KAAKyE,MAEtBA,KAAKkX;IdmpFN1a,IAAK,YACLoB,MchpFM,QAAA6Z,WAAClU,SdipFL,GAAIlD,OAAQL,KchpFXuG,QAEA,IAAKyH,SAASzK,QAAS,MAAQA,UACjCA,QAAU,SAAWA,SAGnBvD,KAAK8X,MAAM,eACb9X,KAAK8X,MAAM,cAAcC,OAGJ,gBAAZxU,UACTgD,SAAWhD,QAAQmB,MAAM,KACzB6B,SAASzF,IAAI,SAAAgX,OACPzX,MAAKyX,MAAMA,OACbzX,MAAKyX,MAAMA,OAAOC,OACT1X,MAAK6X,MAAMJ,QAA4C,kBAA3BzX,OAAK6X,MAAMJ,OAAOC,MACvD1X,MAAK6X,MAAMJ,OAAOC,UAIlB/X,KAAK8X,MAAMK,UAAU5U,UACvBvD,KAAK8X,MAAMK,UAAU5U,SAASwU,UdupFjCvb,IAAK,eACLoB,McnpFS,QAAAuZ,gBACV,MAAInX,MAAKvB,MAAM2Y,OACNpX,KAAKvB,MAAM2Y,OAAOtW,IAAI,SAACwH,MAAO9L,KACnC,GAAI2E,KAAMmH,MAAMnH,KAAOmH,MAAM7J,MAAM,aAAgB,SAAWjC,GAC9D,OACE0G,OAAAC,cAACmF,MAAMlF,KAAIjF,YACLmK,MAAM7J,OACVgF,WAAUjH,IACV2E,IAAKA,IACL3E,IAAKA,SAMN,QdmpFNA,IAAK,aACLoB,McjpFO,QAAAyF,cdkpFL,GAAIC,QAAStD,KcjpFZsB,KAAOtB,KAAKvB,MAAM6C,MAAQtB,KAAKsB,IAEnC,OAAOA,MAAKR,IAAI,SAAC4B,GAAIlG,KACnB,GAAI2E,KAA8B,MAAxBuB,GAAGjE,MAAM,YAAsBjC,IAAMkG,GAAGjE,MAAM,WACxD,OACEyE,OAAAC,cAACT,GAAGU,KAAIjF,YACFuE,GAAGjE,OACP2E,KAAK,KACLT,UAAWW,OAAKb,SAASC,GAAIlG,KAC7BiH,WAAUtC,IACVA,IAAK3E,IACLA,IAAKA,YdspFVA,IAAK,4BACLoB,McjpFsB,QAAAwa,2BAAC3Z,OACA,MAApBA,MAAM8Y,YAAsB9Y,MAAM8Y,aAAevX,KAAKvB,MAAM8Y,YAC9DvX,KAAKwX,KAAK/Y,MAAM8Y,YAGd9Y,MAAM4Z,eAAgB,GAAQ5Z,MAAM4Z,cAAgBrY,KAAKvB,MAAM4Z,aACjErY,KAAKkX,WdqpFN1a,IAAK,WACLoB,MclpFK,QAAA6E,UAACC,GAAIlG,KACX,GAAIV,SAAU,EAMd,OAJI4G,IAAGjE,MAAMkE,YAAW7G,SAAW4G,GAAGjE,MAAMkE,WACD,KAAvC3C,KAAKC,MAAMsX,WAAWxV,QAAQvF,OAAaV,SAAW,SACE,KAAxDkE,KAAKC,MAAMsX,WAAWxV,QAAQW,GAAGjE,MAAM,eAAqB3C,SAAW,SAEpEA,WdqpFNU,IAAK,gBACLoB,McnpFU,QAAAgF,iBACX,GAAI9G,SACA0b,KAAO,YAQX,OANIxX,MAAKC,MAAMsX,aACbC,KAAO,QAAUxX,KAAKC,MAAMsX,WAAa,KAG3Czb,QAAU,UAAY0b,KAAI3Y,KAAApB,OAAAkC,eAzKxB2X,OAAM9Z,WAAA,gBAAAwC,MAAAzE,KAAAyE,Sdi0FPxD,IAAK,SACLoB,McppFG,QAAA8F,UACJ,MACER,OAAAC,cdopFG,OcppFER,UAAW3C,KAAK4C,iBAClB5C,KAAKmX,eACNjU,MAAAC,cdspFG,MACA,KctpFDD,MAAAC,cdwpFG,KACA,KcxpFAnD,KAAKqD,cAERH,MAAAC,cAAA,UAAQR,UAAU,eAAegB,QAAS3D,KAAKkX,MAAMtT,KAAK5D,cAtL9DsX,QAAezT,OAAOC,UA6L5BwT,QAAOvT,aAAeC,EAAEC,UACtB3C,MACE4B,MAAAC,cAAA,WACAD,MAAAC,cAAA,WACAD,MAAAC,cAAA,WACAD,MAAAC,cAAA,aAEDU,OAAOC,UAAUC,cdwpFnB5I,QAAQ,WctpFMmc,OdupFdlc,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAUA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASmJ,iBAAgBnJ,IAAKN,IAAKoB,OAAiK,MAApJpB,OAAOM,KAAOW,OAAOS,eAAepB,IAAKN,KAAOoB,MAAOA,MAAOC,YAAY,EAAME,cAAc,EAAMD,UAAU,IAAkBhB,IAAIN,KAAOoB,MAAgBd,IAE3M,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAdjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIW,cAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAUxc2O,cAAgBvQ,oBer3FE,Gfu3FlBwQ,eAAiB3O,uBAAuB0O,eAExC3L,YAAc5E,oBev3FI,Gfy3FlB6E,aAAehD,uBAAuB+C,aev3FrC0Y,cAAa,SAAA5M,aACN,QADP4M,iBf63FDrb,gBAAgB+C,Ke73FfsY,eAEFzZ,KAAApB,OAAAkC,eAFE2Y,cAAa9a,WAAA,cAAAwC,MAAAzE,KAAAyE,MfigGhB,MAvIA3C,We13FGib,cAAa5M,afk4FhBnN,ael4FG+Z,gBfm4FD9b,IAAK,eACLoB,Me/3FS,QAAA4D,cAACC,GACX,GAAIiB,IAAIa,QAAS/G,IAAKV,UAEtB4G,IAAKjB,EAAEpD,OAAOuD,QAAQ,MAEjBc,KAELlG,IAAMkG,GAAGb,aAAa,YAEtB0B,QAAUvD,KAAKa,KAAKrE,KAAKiC,MAAMkG,KAC/B7I,QAAQU,KAAOwD,KAAKC,MAAMK,YAE1BN,KAAKS,UACH8C,gBACAzH,iBACCkE,KAAKwM,cAAc5I,KAAK5D,Wfq4F1BxD,IAAK,gBACLoB,Men4FU,QAAA4O,iBAC6B,kBAA7BxM,MAAKvB,MAAM+N,eAAgCxM,KAAKC,MAAMsD,SAC/DvD,KAAKvB,MAAM+N,cAAcxM,KAAKC,MAAMsD,Yfu4FrC/G,IAAK,WACLoB,Mep4FK,QAAA6E,UAACjG,Kfq4FJ,GAAIyQ,Yep4FP,QAAO,EAAApN,aAAA,aAAAoN,eAAAhH,gBAAAgH,YACJjN,KAAKC,MAAMnE,QAAQU,MAAQ,IAAK,GAAIyJ,gBAAAgH,YAAA,SAC9B,GAAIA,iBfu4FZzQ,IAAK,gBACLoB,Mep4FU,QAAAgF,iBACX,OAAO,EAAA/C,aAAA,aACLqN,eAAe,EACfqL,OAAO,EACP7D,SAAU1U,KAAKC,MAAMuC,UACpBxC,KAAKvB,MAAMkE,cfu4FbnG,IAAK,cACLoB,Mer4FQ,QAAA4a,aAAC7T,MACV,GAAI8T,UAAUpS,UAcd,OAZAA,YAAa1B,MAAQA,KAAK+T,OAAS/T,KAAK+T,MAAMrS,YAC5C1B,KAAK+T,MAAMrS,WAAW4C,IAAMtE,KAAK+T,MAAMrS,WAAW4C,IAClD,GAEFwP,SAAW9T,MAAQA,KAAK+T,OAAS/T,KAAK+T,MAAMpS,OAC1C3B,KAAK+T,MAAMpS,MAAM,IAAM3B,KAAK+T,MAAMpS,MAAM,GAAG2C,IAC3CtE,KAAK+T,MAAMpS,MAAM,GAAG2C,IAClBtE,MAAQA,KAAK+T,OAAS/T,KAAK+T,MAAMnS,UACjC5B,KAAK+T,MAAMnS,SAAS,IAAM5B,KAAK+T,MAAMnS,SAAS,GAAG0C,IACjDtE,KAAK+T,MAAMnS,SAAS,GAAG0C,IAAM,GAI/B/F,MAAAC,cf63FG,Oe53FDR,UAAU,YACVyI,OACEb,gBAAe,OAASlE,WAAU,MAGpCnD,MAAAC,cAACU,OAAO8J,OAAM1E,IAAKwP,efk4FtBjc,IAAK,aACLoB,Me93FO,QAAAyF,cACR,GAAIiD,OAAOvF,KAAOf,IAElB,IAAKe,KAAKtC,MAAM6D,MAASvB,KAAKtC,MAAM6D,KAAKgE,MAIzC,MAFAA,OAAQvF,KAAKtC,MAAM6D,KAAKgE,MAEnBA,MAAMrK,OAQJqK,MAAMxF,IAAI,SAAC6D,KAAMnI,KACtB,GAAIsY,WAAYC,OAAOC,IAAIrQ,KAAKsQ,SAASC,OACzC,OACEhS,OAAAC,cAACU,OAAOuK,UACNzL,UAAW5B,KAAK0B,SAASjG,KACzB2E,IAAK3E,IACLiH,WAAUjH,IACVmI,KAAMA,KACNnI,IAAKA,KAEJuE,KAAKyX,YAAY7T,MAClBzB,MAAAC,cfi4FG,Qej4FGR,UAAU,aACdO,MAAAC,cfm4FG,Qen4FGR,UAAU,QAAQmS,UAAUW,OAAO,aACzCvS,MAAAC,cfu4FG,Qev4FGR,UAAU,QAAQmS,UAAUW,OAAO,eAnB7CvS,MAAAC,cf+3FG,Me/3FCR,UAAU,SACX3C,KAAKvB,MAAMiX,iBfk6FjBlZ,IAAK,SACLoB,Me14FG,QAAA8F,UACJ,MACER,OAAAC,cf04FG,MACA,Ke14FDD,MAAAC,cf44FG,Me54FCR,UAAW3C,KAAK4C,gBAAiBe,QAAS3D,KAAKC,MAAMC,eAAe0D,KAAK5D,OAC1EA,KAAKqD,mBA9GViV,efkgGF9M,eAAe,WAElBrQ,SAAQ,We/4FMmd,cfg5Fdld,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAYA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAdjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQxc+b,gCAAkC3d,oBgBjiGhB,GhBmiGlB4d,iCAAmC/b,uBAAuB8b,iCAE1DE,4BAA8B7d,oBgBpiGhB,IhBsiGd8d,6BAA+Bjc,uBAAuBgc,6BgBpiGrDE,iBAAgB,SAAAhZ,mBACT,QADPgZ,oBhB0iGD9b,gBAAgB+C,KgB1iGf+Y,kBAEFla,KAAApB,OAAAkC,eAFEoZ,iBAAgBvb,WAAA,cAAAwC,MAAAzE,KAAAyE,MhBmqGnB,MA5HA3C,WgBviGG0b,iBAAgBhZ,mBhB+iGnBxB,agB/iGGwa,mBhBgjGDvc,IAAK,QACLoB,MgB5iGE,QAAAwC,SACHvB,KAAApB,OAAAkC,eANEoZ,iBAAgBvb,WAAA,QAAAwC,MAAAzE,KAAAyE,MAOlBA,KAAKS,UACHuY,iBAAkBhZ,KAAKvB,MAAMua,sBhBgjG9Bxc,IAAK,OACLoB,MgB7iGC,QAAA4Z,MAACjU,SACHvD,KAAKa,KAAKoY,OAAOzB,KAAKjU,YhBgjGrB/G,IAAK,gBACLoB,MgB9iGU,QAAA4O,eAACjJ,SACRvD,KAAKvB,MAAMqD,QAAQ7F,OACuB,KAAxC+D,KAAKvB,MAAMqD,QAAQC,QAAQwB,UACzBvD,KAAK8X,MAAMoB,WAAWlZ,KAAK8X,MAAMoB,UAAUnB,OAC3C/X,KAAKvB,MAAM0a,WACwB,kBAA1BnZ,MAAKa,KAAKoY,OAAOzB,MAC1BxX,KAAKwX,KAAKjU,WAIVvD,KAAK8X,MAAM1W,SAASpB,KAAK8X,MAAM1W,QAAQ2W,OACN,kBAA1B/X,MAAKa,KAAKoY,OAAOzB,MAC1BxX,KAAKwX,KAAKjU,WAIVvD,KAAKvB,MAAM2a,YAAcpZ,KAAK8X,MAAM1W,SACtCpB,KAAK8X,MAAM1W,QAAQ2W,OAEgB,kBAA1B/X,MAAKa,KAAKoY,OAAOzB,MAC1BxX,KAAKwX,KAAKjU,ahBmjGb/G,IAAK,eACLoB,MgB/iGS,QAAAoa,gBAC6B,kBAA5BhY,MAAKvB,MAAMuZ,cACpBhY,KAAKvB,MAAMuZ,kBhBmjGZxb,IAAK,eACLoB,MgBhjGS,QAAAuZ,gBACV,MAAInX,MAAKvB,MAAM2Y,OACNpX,KAAKvB,MAAM2Y,OAAOtW,IAAI,SAACwH,MAAO9L,KACnC,MACE0G,OAAAC,cAACU,OAAOwT,MAAKlZ,YACPmK,MAAM7J,OACV0C,IAAKmH,MAAMnH,KAAOmH,MAAM7J,MAAM,aAAgB,SAAWjC,IACzDA,IAAKA,IACLiH,WAAUjH,SAMX,QhBgjGNA,IAAK,mBACLoB,MgB9iGa,QAAAyb,oBACd,MACEnW,OAAAC,cAAAyV,iCAAA,YACEzX,IAAI,aACJG,KAAMtB,KAAKvB,MAAM6a,eACjB9M,cAAexM,KAAKwM,cAAc5I,KAAK5D,MACvCM,YAAaN,KAAKvB,MAAM8a,sBACxBC,iBAAkBxZ,KAAKvB,MAAMgb,2BAC7B5W,cAAe7C,KAAKvB,MAAMib,wBAC1BC,cAAe3Z,KAAKvB,MAAMmb,wBAC1BpZ,cAAeR,KAAKvB,MAAM+B,cAC1B0B,UAAWlC,KAAKvB,MAAMyD,UAEtBF,cAAehC,KAAKvB,MAAMuD,mBhBijG7BxF,IAAK,eACLoB,MgB7iGS,QAAAic,gBACV,MACE3W,OAAAC,cAAA2V,6BAAA,YACE3X,IAAI,SACJG,KAAMtB,KAAKvB,MAAMqb,WACjB1C,OAAQpX,KAAKvB,MAAMsb,aACnB/B,aAAchY,KAAKgY,aAAapU,KAAK5D,MACrC0X,eAAgB1X,KAAKvB,MAAMub,qBAC3BnX,cAAe7C,KAAKvB,MAAMwb,oBAC1BhC,YAAajY,KAAKvB,MAAMwZ,YACxBiC,KAAMla,KAAKvB,MAAM0b,WACjB5C,WAAYvX,KAAKvB,MAAM8Y,WACvB6C,OAAQpa,KAAKvB,MAAM2b,YhBgjGtB5d,IAAK,aACLoB,MgB5iGO,QAAAqW,cACR,GAAInY,SAAU,EAId,OAFIkE,MAAKC,MAAMuC,WAAU1G,SAAW,aAE7BA,WhB+iGNU,IAAK,SACLoB,MgB7iGG,QAAA8F,UACJ,MACER,OAAAC,chB6iGG,OgB7iGER,UAAW,oBAAsB3C,KAAKiU,cACxCjU,KAAKmX,eACLnX,KAAKqZ,mBACLrZ,KAAK6Z,oBAhHRd,kBAAyBlV,OAAOC,UAsHtCiV,kBAAiBhV,aAAeC,EAAEC,UAChCnC,WACAkX,kBAAkB,GACjBnV,OAAOC,UAAUC,chBkjGnB5I,QAAQ,WgBhjGM4d,iBhBijGd3d,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAYA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAdjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIE,IAAKC,IAAKqS,KAAqC,IAA9B,GAAIpS,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASH,IAAKI,SAAWH,IAAKI,SAAWiS,GAAKpS,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA6O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAAhW,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BV,KAAMU,OAAQT,IAAMG,SAAUkS,IAAMjS,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQ3cyd,0BAA4Brf,oBiBvsGd,GjBysGdsf,2BAA6Bzd,uBAAuBwd,2BAEpDE,wBAA0Bvf,oBiB1sGd,IjB4sGZwf,yBAA2B3d,uBAAuB0d,yBAElDE,8BAAgCzf,oBiB7sGd,GjB+sGlB0f,+BAAiC7d,uBAAuB4d,+BAIxD7a,YAAc5E,oBiBhtGI,GjBktGlB6E,aAAehD,uBAAuB+C,aiBhtGrC+a,aAAY,SAAA5D,gBACL,QADP4D,gBjBstGD1d,gBAAgB+C,KiBttGf2a,cAEF9b,KAAApB,OAAAkC,eAFEgb,aAAYnd,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIdA,KAAKC,OACH2a,MAAM,EACN/D,QACAlQ,OAAO,GAGT3G,KAAK6a,eACH3X,MAAAC,cjBstGC,MiBttGGR,UAAU,UAAUgB,QAAS3D,KAAKmL,QAAQvH,KAAK5D,OACjDkD,MAAAC,cAAA,cAEFD,MAAAC,cjButGC,MiBvtGGR,UAAU,OAAOgB,QAAS3D,KAAK8a,KAAKlX,KAAK5D,OAC3CkD,MAAAC,cAAA,eAIJnD,KAAKgH,SAAWhH,KAAKgH,SAASpD,KAAK5D,MACnCA,KAAKqY,YAAcrY,KAAKqY,YAAYzU,KAAK5D,MACzCA,KAAK+a,aAAe/a,KAAK+a,aAAanX,KAAK5D,MjB67G5C,MA/PA3C,WiBntGGsd,aAAY5D,gBjB+uGfxY,aiB/uGGoc,ejBgvGDne,IAAK,UACLoB,MiBztGI,QAAAod,WACL,MAAOhb,MAAKa,KAAKoK,OAAOzD,cjB4tGvBhL,IAAK,QACLoB,MiB1tGE,QAAAsG,SACHlE,KAAKa,KAAKoK,OAAO/G,QACjBlE,KAAKS,UACH4F,YAAY,EACZ4U,WAAW,OjB8tGZze,IAAK,UACLoB,MiB3tGI,QAAAwK,SAAC7E,SACFA,UACFvD,KAAKS,UACHwa,WAAW,EACX5U,WAAYrG,KAAKC,MAAMoG,YACM,eAAvB9C,QAAQkF,aAEhBzI,KAAKa,KAAKoK,OAAO7C,QAAQ7E,QAAS,WAChCM,OAAO6E,QAAQ,cjB+tGlBlM,IAAK,WACLoB,MiB3tGK,QAAAsd,UAAC3X,SACP,GAAI0X,WAAW5U,UAEf4U,YAAY,EACZ5U,aAAe9C,QAAQmV,MAAMrS,WAE7BrG,KAAKmb,wBAAwB5X,QAAQmV,OAErC1Y,KAAKa,KAAKoK,OAAO9C,SAAS5E,QAAQmV,OAElC1Y,KAAKS,UACHwa,oBACA5U,wBAGE9C,QAAQ6X,WACVvX,OAAO6E,QAAQ,YACbC,KAAM,gBACNpF,QAASA,QAAQ6X,ejBguGpB5e,IAAK,UACLoB,MiB5tGI,QAAAyd,WACL,GAAIxE,MAAM5W,MAAQD,KAAKvB,MAAMoW,SAEzB5U,QAASA,MAAMqC,MAAQrC,MAAMqC,KAAKuU,OACpCA,KAAO5W,MAAMqC,KAAKuU,KAClB7W,KAAKS,UACHoW,gBjBkuGHra,IAAK,0BACLoB,MiB9tGoB,QAAAud,yBAACzC,OACtB,MAAKA,QAED1U,EAAE1H,QAAQoc,MAAMpS,QAClBoS,MAAMpS,MAAM+B,QAAQ,SAAA1D,MAClBA,KAAK1E,MAAMwH,KAAO6T,WAAW3W,KAAK1E,MAAMwH,MACxC9C,KAAK1E,MAAM2H,SAAW0T,WAAW3W,KAAK1E,MAAM2H,UAC5CjD,KAAK1E,MAAM0H,MAAQ2T,WAAW3W,KAAK1E,MAAM0H,OACzChD,KAAK1E,MAAMyH,IAAM4T,WAAW3W,KAAK1E,MAAMyH,OAIvC1D,EAAE1H,QAAQoc,MAAMnS,WAClBmS,MAAMnS,SAAS8B,QAAQ,SAAA9E,SACrBA,QAAQtD,MAAMwH,KAAO6T,WAAW/X,QAAQtD,MAAMwH,MAC9ClE,QAAQtD,MAAM2H,SAAW0T,WAAW/X,QAAQtD,MAAM2H,UAClDrE,QAAQtD,MAAM0H,MAAQ2T,WAAW/X,QAAQtD,MAAM0H,OAC/CpE,QAAQtD,MAAMyH,IAAM4T,WAAW/X,QAAQtD,MAAMyH,OAI1CgR,OApBP,UjBqvGClc,IAAK,OACLoB,MiB/tGC,QAAA4Z,QjBguGC,GiBhuGA+D,MAAIvf,UAAAC,QAAA,GAAAW,SAAAZ,UAAA,MAAKA,UAAA,EACZgE,MAAKqb,UAEDrb,KAAKa,MAAQb,KAAKa,KAAKgW,MACzB7W,KAAKa,KAAKgW,KAAKvN,aAGZiS,KAAKC,OAAO3X,OAAO6E,QAAQ,QAUhC7J,KAAApB,OAAAkC,eA5HEgb,aAAYnd,WAAA,OAAAwC,MAAAzE,KAAAyE,SjBg2GbxD,IAAK,QACLoB,MiBluGE,QAAAsZ,SACHrT,OAAO6E,QAAQ,QAKf7J,KAAApB,OAAAkC,eArIEgb,aAAYnd,WAAA,QAAAwC,MAAAzE,KAAAyE,SjB02GbxD,IAAK,WACLoB,MiBnuGK,QAAAoJ,UAACL,OACP3G,KAAKS,UACHkG,iBjBuuGDnK,IAAK,eACLoB,MiBpuGS,QAAAmd,cAACE,WACXjb,KAAKS,UACHwa,yBjBwuGDze,IAAK,OACLoB,MiBruGC,QAAAkd,QACG9a,KAAKC,MAAM0G,OAChB3G,aAAU,WjBwuGTxD,IAAK,UACLoB,MiBtuGI,QAAAuN,WACAnL,KAAKC,MAAM0G,OAChB3G,aAAU,cjByuGTxD,IAAK,cACLoB,MiBvuGQ,QAAAya,eACLrY,KAAKa,MAAQb,KAAKa,KAAKoY,QACzBjZ,KAAKa,KAAKoY,OAAO/B,WjB2uGlB1a,IAAK,sBACLoB,MiBxuGgB,QAAA6d,uBACjB,OAAO,EAAA5b,aAAA,aACL6b,oBAAoB,EACpBC,WAAY3b,KAAKC,MAAMoG,gBjB4uGxB7J,IAAK,gBACLoB,MiBzuGU,QAAAgF,iBACX,OAAO,EAAA/C,aAAA,aACL+b,aAAc5b,KAAKC,MAAMgb,UACzB/G,SAAYlU,KAAKC,MAAM0G,OACtB9C,OAAO8R,OAAOnY,UAAUoF,cAAcrH,KAAKyE,UjB4uG7CxD,IAAK,gBACLoB,MiB1uGU,QAAAie,iBACX,MACE3Y,OAAAC,cjB0uGG,MACA,KiB1uGDD,MAAAC,cAACU,OAAO8J,OAAMhL,UAAU,SAASsG,IAAI,uCACrC/F,MAAAC,cAACU,OAAO8J,OAAMhL,UAAU,SAASsG,IAAI,qCACrC/F,MAAAC,cAAAqX,yBAAA,YACErZ,IAAK,OACLmF,MAAOtG,KAAKC,MAAM4W,KAAKvQ,MACvBqQ,MAAO,EACPD,UAAW,IAEbxT,MAAAC,cjB4uGG,OiB5uGER,UAAW3C,KAAKyb,uBACnBvY,MAAAC,cAAAmX,2BAAA,YACEnZ,IAAK,SACL6F,SAAUhH,KAAKgH,SACf+T,aAAc/a,KAAK+a,aACnBpQ,WAAY,OAGhBzH,MAAAC,cAAAuX,+BAAA,YAAY/X,UAAU,kBAAkBrB,KAAMtB,KAAK6a,qBArMrDF,cAAqB9W,OAAO8R,OjBq9GjCxa,SAAQ,WiB/uGM,SAAUsD,MAAO0C,IAAK3E,KACnC,MACE0G,OAAAC,cAACwX,aAAYxc,YACPM,OACJ0C,IAAKA,IACL3E,IAAKA,IACLnB,GAAG,SACHygB,UAAQ,EACR/F,UAAQ,MjBivGb3a,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAYA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAdjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQxcmf,iCAAmC/gB,oBkB9/GjB,GlBggHlBghB,kCAAoCnf,uBAAuBkf,kCkB9/G1DE,sBAAwB,oEAExBC,aAAY,SAAAnF,gBACL,QADPmF,gBlBogHDjf,gBAAgB+C,KkBpgHfkc,cAEFrd,KAAApB,OAAAkC,eAFEuc,aAAY1e,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIdA,KAAKC,OACH2a,MAAM,EACNpY,UAAU,EACV2Z,aACAZ,SlB0qHH,MAjLAle,WkBjgHG6e,aAAYnF,gBlBghHfxY,akBhhHG2d,elBihHD1f,IAAK,gBACLoB,MkBtgHU,QAAA4O,eAACjJ,SACZM,OAAO6E,QAAQ,aACbC,KAAM,gBACNyT,OAAMpc,KAAKC,MAAMsb,KAAXvb,QACNuD,qBlB0gHD/G,IAAK,aACLoB,MkBvgHO,QAAAye,YAACvT,GACT,GAAIxG,MAAOwG,GAAKA,EAAEwT,KAAOxT,EAAEwT,KAAOtc,KAAKvB,MAAMoW,UAAUvS,KAAKga,QAE5Dha,MAAOA,KAAKxB,IAAI,SAAAqU,QACd,GAAIlM,KAAMkM,OAAOE,UAAU/B,OAAS6B,OAAOE,UAAU/B,MAAMgC,IACzDH,OAAOE,UAAU/B,MAAMgC,IACvB2G,qBACF,QACEM,QAAWpH,OAAOC,UAClBzM,KAAMwM,OAAOI,SACbtM,QAEA2E,YAAa,GAEbnF,WAAc,YAIlBzI,KAAKS,UACH6B,elBygHD9F,IAAK,OACLoB,MkBtgHC,QAAA4Z,MAAC+D,MACH,GAAIY,WAAWpb,KAAOf,IAEtBe,MAAKsb,aAELxY,OAAO6E,QAAQ,WACbC,KAAM,eACLE,KAAK,SAAAvG,MACNvB,KAAKsb,WAAW9gB,KAAKwF,KAAMuB,QAG7B6Z,UAAYnc,KAAKvB,MAAMoW,UAAUsH,UAEjCpb,KAAKN,UACHma,MAAM,EACNpD,MAAM,EACNgF,OAAO,EACPtF,OAAO,EACPiF,oBACAZ,WACC,WACDxa,KAAKF,KAAK4b,QAAU1b,KAAKF,KAAK4b,OAAOrc,UAGlCW,KAAKd,MAAMS,SACdK,KAAKX,WlB2gHN5D,IAAK,iBACLoB,MkBxgHW,QAAA8e,kBACZ3O,OAAOyJ,KAAKzJ,OAAO4O,SAASC,OAAOhG,QAAQ,SAAU,IAAM,yBlB2gH1Dpa,IAAK,OACLoB,MkBzgHC,QAAAif,QACFhZ,OAAO6E,QAAQ,QACb3C,MAAO,WAETlC,OAAO6E,QAAQ,YAAarN,GAAI,YlB4gH/BmB,IAAK,cACLoB,MkB1gHQ,QAAAkf,eACT,GAAIC,MAAM9T,GAkBV,OAhBAA,KAAM,MACN8T,KACE7Z,MAAAC,clB0gHG,OACA,KACA,akB3gHSD,MAAAC,cAAA,WlB6gHT,gBkB7gH2BD,MAAAC,cAAA,WAAKD,MAAAC,cAAA,WlBghHhC,kBkBhhHoDD,MAAAC,cAAA,WlBkhHpD,kBkB9gHDnD,KAAKC,MAAMqC,MAAQtC,KAAKC,MAAMqC,KAAKrG,SACrCgN,IAAM,MACN8T,KACE7Z,MAAAC,clBihHG,OACA,KACA,uBkBlhHmBD,MAAAC,cAAA,WlBohHnB,8BkB9gHLD,MAAAC,clBmhHG,OkBnhHER,UAAW,mBAAqBsG,KACnC/F,MAAAC,cAACU,OAAO8J,OAAMhL,UAAU,QAAQsG,IAAG,qCAAuCA,IAAG,SAC7E/F,MAAAC,clBqhHG,OkBrhHER,UAAU,UACZoa,UlB2hHNvgB,IAAK,gBACLoB,MkBthHU,QAAAof,iBACX,MAAIhd,MAAKC,MAAMqC,MAAQtC,KAAKC,MAAMqC,KAAKrG,OAEnCiH,MAAAC,cAAA6Y,kCAAA,YACE7a,IAAI,SACJqL,cAAexM,KAAKwM,cAAc5I,KAAK5D,MACvC2M,cAAe3M,KAAKid,KACpBpQ,WAAY7M,KAAKC,MAAMsb,KAAK1O,WAC5BvK,KAAMtC,KAAKC,MAAMqC,KACjB6J,aAAcnM,KAAKC,MAAMkc,UACzBe,QAASld,KAAKkd,QACd1a,UAAU,EACVG,UAAW3C,KAAKC,MAAMsb,KAAXvb,UAMfkD,MAAAC,clBohHG,OkBphHER,UAAW3C,KAAKC,MAAMsb,KAAXvb,SACdkD,MAAAC,clBshHG,OkBthHER,UAAU,yBACbO,MAAAC,clBwhHG,OkBxhHER,UAAU,2BACbO,MAAAC,cAAA,UAAQR,UAAU,WAAWgB,QAAS3D,KAAKwM,cAAc5I,KAAK5D,WAC9DkD,MAAAC,cAAA,UAAQR,UAAU,UAAUgB,QAAS3D,KAAK0c,iBAC1CxZ,MAAAC,cAAA,UAAQR,UAAU,iBAAiBgB,QAAS3D,KAAK6c,alB+hHxDrgB,IAAK,gBACLoB,MkBzhHU,QAAAie,iBACX,MACE3Y,OAAAC,clByhHG,MACA,KkBzhHDD,MAAAC,cAAA,OAAKR,UAAU,WACd3C,KAAK8c,cACL9c,KAAKgd,qBAnJRd,cAAqBrY,OAAO8R,OlBqrHjCxa,SAAQ,WkB5hHM,SAAUsD,MAAO0C,IAAK3E,KACnC,MACE0G,OAAAC,cAAC+Y,aAAY/d,YACPM,OACJ0C,IAAKA,IACL3E,IAAKA,IACLnB,GAAG,UACHygB,UAAQ,EACR/F,UAAQ,MlB8hHb3a,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAYA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAdjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQxcugB,uCAAyCniB,oBmB3tHjB,InB6tHxBoiB,wCAA0CvgB,uBAAuBsgB,wCAEjEE,2BAA6BriB,oBmB9tHhB,GnBguHbsiB,4BAA8BzgB,uBAAuBwgB,4BAErDE,oCAAsCviB,oBmBjuHjB,InBmuHrBwiB,qCAAuC3gB,uBAAuB0gB,qCmBjuH7DE,kBACJva,MAAAC,cnBmuHC,OACA,KACA,sCmBpuHoCD,MAAAC,cAAA,WnBsuHpC,gCmBluHGua,mBACJxa,MAAAC,cnBouHC,OACA,KACA,qBmBruHmBD,MAAAC,cAAA,WnBuuHnB,qBmBnuHGwa,iBACJza,MAAAC,cnBquHC,OACA,KACA,qBmBtuHmBD,MAAAC,cAAA,WnBwuHnB,mBmBpuHGya,iBACJ1a,MAAAC,cnBsuHC,OACA,KACA,kCmBvuHgCD,MAAAC,cAAA,WnByuHhC,sBmBruHG0a,mBACJ3a,MAAAC,cnBuuHC,OACA,KACA,6BmBxuH2BD,MAAAC,cAAA,WnB0uH3B,qBmBpuHG2a,YAAW,SAAA/G,gBACJ,QADP+G,enB2uHD7gB,gBAAgB+C,KmB3uHf8d,aAEFjf,KAAApB,OAAAkC,eAFEme,YAAWtgB,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIbA,KAAKC,OACH2a,MAAM,GAGR5a,KAAKsZ,gBACHpW,MAAAC,cAAA,WACAD,MAAAC,cAAA,WACAD,MAAAC,cAAA,WACAD,MAAAC,cAAA,WACAD,MAAAC,cAAA,YAGFnD,KAAK8Z,WAAa9Z,KAAK+d,gBAEvB/d,KAAKge,YAAche,KAAKge,YAAYpa,KAAK5D,MACzCA,KAAKie,YAAcje,KAAKie,YAAYra,KAAK5D,MnBq5H1C,MAhMA3C,WmBxuHGygB,YAAW/G,gBnB2vHdxY,amB3vHGuf,cnB4vHDthB,IAAK,gBACLoB,MmBvuHU,QAAAmgB,eAACG,MAAOC,OAAQC,OAC3B,GAAI9J,MAAM+J,OAAQ5f,MAAQuB,KAAKvB,SAY/B,OAVAyf,OAAQA,UAER5J,KAAO4J,MAAMhd,OAAO,SAAAyD,MAClB,MAAOA,MAAK2P,OAGd+J,OAASH,MAAMhd,OAAO,SAACyD,MACrB,OAAQA,KAAK2P,QAIbpR,MAAAC,cnByuHG,KACA,KmBzuHDD,MAAAC,cAAAma,4BAAA,YACE7Z,WAAS,QACTnB,MACEgE,MAAO4X,WAETxI,aAAc+H,kBACdjR,cAAexM,KAAKge,YACpBnJ,UAAWpW,MAAMoW,aAGrB3R,MAAAC,cnB0uHG,KACA,KmB1uHDD,MAAAC,cAAAma,4BAAA,YACE7Z,WAAS,SACTnB,MACEgE,MAAO+X,YAET3I,aAAcgI,mBACdlR,cAAexM,KAAKge,YACpBnJ,UAAWpW,MAAMoW,aAGrB3R,MAAAC,cnB2uHG,KACA,KmB3uHDD,MAAAC,cAAAma,4BAAA,YACE7Z,WAAS,OACTnB,MACEgE,MAAOgO,UAEToB,aAAciI,iBACdnR,cAAexM,KAAKge,YACpBnJ,UAAWpW,MAAMoW,aAGrB3R,MAAAC,cnB4uHG,KACA,KmB5uHDD,MAAAC,cAAAma,4BAAA,YACE7Z,WAAS,SACTnB,MACEgE,MAAO6X,YAETzI,aAAckI,iBACdpJ,UAAU,YACVhI,cAAexM,KAAKge,YACpBnJ,UAAWpW,MAAMoW,aAGrB3R,MAAAC,cnB6uHG,KACA,KmB7uHDD,MAAAC,cAAAqa,qCAAA,YACE/Z,WAAS,QACTnB,MACEgE,MAAO8X,WAET1I,aAAcmI,mBACdrR,cAAexM,KAAKie,mBnBmvHzBzhB,IAAK,cACLoB,MmB9uHQ,QAAAqgB,aAAC1a,SACVM,OAAO6E,QAAQ,gBACbnF,qBnBkvHD/G,IAAK,cACLoB,MmB/uHQ,QAAAogB,aAACza,SACVM,OAAO6E,QAAQ,QACb3C,MAAO,OACPxC,qBnBmvHD/G,IAAK,aACLoB,MmBhvHO,QAAAye,cACR,GAAI/Z,MAAM4b,MAAOC,OAAQC,KAEzB9b,MAAOtC,KAAKvB,MAAMoW,UAAUvS,KAC5B4b,MAAQ5b,KAAKgc,SACbH,OAAS7b,KAAKkT,KACd4I,MAAQ9b,KAAKkZ,MAEbxb,KAAK8Z,WAAa9Z,KAAK+d,cAAcG,MAAOC,OAAQC,OAEpDpe,KAAKS,UACHyd,YACAC,cACAC,iBnBovHD5hB,IAAK,OACLoB,MmBjvHC,QAAA4Z,QACF,GAAIzW,MAAOf,IAEX6D,QAAO6E,QAAQ,WACb2L,OAAQ,aACPxL,KAAK,WACN9H,KAAKsb,eAGPxY,OAAO6E,QAAQ,WACb2L,OAAQ,SACPxL,KAAK,WACN9H,KAAKsb,eAGPxY,OAAO6E,QAAQ,WACb2L,OAAQ,UACPxL,KAAK,WACN9H,KAAKsb,eAGPtb,KAAKN,UACHma,MAAM,EACNpD,MAAM,EACNgF,OAAO,EACPtF,OAAO,IAGT9E,WAAW,WACJrR,KAAKd,MAAMS,SACdK,KAAKX,SAEN,QnBovHF5D,IAAK,gBACLoB,MmBlvHU,QAAAie,iBACX,MACE3Y,OAAAC,cnBkvHG,MACA,KmBlvHDD,MAAAC,cnBovHG,OmBpvHER,UAAU,UACbO,MAAAC,cnBsvHG,OmBtvHER,UAAU,SACbO,MAAAC,cAAAia,wCAAA,YACEjc,IAAK,mBACLmY,eAAgBtZ,KAAKsZ,eACrBQ,WAAY9Z,KAAK8Z,WACjBtZ,cAAe,IACfyX,YAAa,aAzKrB6F,aAAoBja,OAAO8R,OnB26HhCxa,SAAQ,WmBzvHM,SAAUsD,MAAO0C,IAAK3E,KACnC,MACE0G,OAAAC,cAAC2a,YAAW3f,YACNM,OACJ0C,IAAKA,IACL3E,IAAKA,IACLnB,GAAG,QACHygB,UAAQ,EACR/F,UAAQ,MnB2vHb3a,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAYA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV;CAdjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQxcmf,iCAAmC/gB,oBoBj/HjB,GpBm/HlBghB,kCAAoCnf,uBAAuBkf,kCoBj/H1DwC,iBAAgB,SAAAxH,gBACT,QADPwH,oBpBu/HDthB,gBAAgB+C,KoBv/Hfue,kBAEF1f,KAAApB,OAAAkC,eAFE4e,iBAAgB/gB,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIlBA,KAAKC,OACHsb,MACE1O,gBpB6kIL,MA/FAxP,WoBp/HGkhB,iBAAgBxH,gBpBkgInBxY,aoBlgIGggB,mBpBmgID/hB,IAAK,gBACLoB,MoBx/HU,QAAA4O,eAACjJ,SACZM,OAAO6E,QAAQ,aACbC,KAAM,WACNpF,qBpB4/HD/G,IAAK,aACLoB,MoBz/HO,QAAAye,YAACvT,GACT,GAAIxG,MAAOwG,EAAIA,EAAI9I,KAAKvB,MAAMoW,UAAUvS,KAAKuU,KAAKvQ,KAElDtG,MAAKC,MAAMsb,KAAK1O,WAAWxE,QAAQ,SAAA7L,KAC7B8F,KAAK9F,OAAM8F,KAAOA,KAAK9F,MACvB8F,KAAKgE,QAAOhE,KAAOA,KAAKgE,SAG9BhE,KAAO0B,EAAE+I,OAAOzK,MAEhBtC,KAAKS,UACH6B,epB6/HD9F,IAAK,OACLoB,MoB1/HC,QAAA4Z,MAAC+D,MACH,GAAIxa,MAAOf,IAEX6D,QAAO6E,QAAQ,YACbrG,KAAM,iBAAmBkZ,KAAK1O,WAAWnQ,KAAK,OAC7CmM,KAAK,SAAAvG,MACNvB,KAAKsb,WAAW/Z,QAGlBvB,KAAKN,UACHma,MAAM,EACNpD,MAAM,EACNgF,OAAO,EACPtF,OAAO,EACPqE,UACAjZ,KAAM,MACL,WACDvB,KAAKsb,eAGPjK,WAAW,WACJrR,KAAKd,MAAMS,SACdK,KAAKX,SAEN,QpB6/HF5D,IAAK,gBACLoB,MoB3/HU,QAAA+O,iBACP3M,KAAKC,MAAMiM,SACblM,KAAKS,UACHyL,SAAU,GACVG,aAAc,KAGhBxI,OAAO6E,QAAQ,QAAS3C,MAAO,cpB+/HhCvJ,IAAK,gBACLoB,MoB5/HU,QAAAie,iBACX,MACE3Y,OAAAC,cpB4/HG,MACA,KoB5/HDD,MAAAC,cAAA6Y,kCAAA,YACE7a,IAAI,SACJqL,cAAexM,KAAKwM,cAAc5I,KAAK5D,MACvC2M,cAAe3M,KAAK2M,cACpBE,WAAY7M,KAAKC,MAAMsb,KAAK1O,WAC5BvK,KAAMtC,KAAKC,MAAMqC,YAhFrBic,kBAAyB1a,OAAO8R,OpBslIrCxa,SAAQ,WoB//HM,SAAUsD,MAAO0C,IAAK3E,KACnC,MACE0G,OAAAC,cAACob,iBAAgBpgB,YACXM,OACJ0C,IAAKA,IACL3E,IAAKA,IACLnB,GAAG,cACHygB,UAAQ,EACR/F,UAAQ,MpBigIb3a,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,SAEtB,YAYA,SAAS8B,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAZjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SqBlnIvc4hB,WAAU,SAAAzH,gBrB2nIb,QqB3nIGyH,crB4nIDvhB,gBAAgB+C,KqB5nIfwe,YrB8nID3f,KAAKpB,OAAOkC,eqB9nIX6e,WAAUhhB,WAAA,cAAAwC,MAAAzD,MAAAyD,KAAAhE,WrB4pIb,MAnCAqB,WqBznIGmhB,WAAUzH,gBrBioIbxY,aqBjoIGigB,arBkoIDhiB,IAAK,gBACLoB,MqBloIU,QAAAie,iBACX,MACE3Y,OAAAC,crBkoIG,MACA,KqBloIDD,MAAAC,cAACU,OAAO8J,OAAMhL,UAAU,SAASsG,IAAI,mCACrC/F,MAAAC,cAACU,OAAO8J,OAAMhL,UAAU,QAAQsG,IAAI,mCACpC/F,MAAAC,crBooIG,OqBpoIER,UAAU,UrBsoIZ,YqBroIQO,MAAAC,cAAA,WrBuoIR,iBqBtoIaD,MAAAC,cAAA,WrBwoIb,qBqBroIHD,MAAAC,crBwoIG,OqBxoIER,UAAU,WACbO,MAAAC,cAAA,UAAQR,UAAU,OAAOgB,QAAS3D,aAAU4D,KAAK5D,KAAM,YACvDkD,MAAAC,cAAA,UAAQR,UAAU,OAAOgB,QAAS3D,aAAU4D,KAAK5D,KAAM,iBAb3Dwe,YAAmB3a,OAAO8R,OrB+pI/Bxa,SAAQ,WqB3oIM,SAAUsD,MAAO0C,IAAK3E,KACnC,MACE0G,OAAAC,cAACqb,WAAUrgB,YACLM,OACJ0C,IAAKA,IACL3E,IAAKA,IACLnB,GAAG,OACH0a,UAAQ,EACR+F,UAAQ,EACRlB,MAAI,MrB6oITxf,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAYA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAdjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQxcyd,0BAA4Brf,oBsBlsId,GtBosIdsf,2BAA6Bzd,uBAAuBwd,2BAEpD1B,gCAAkC3d,oBsBrsIhB,GtBusIlB4d,iCAAmC/b,uBAAuB8b,iCsBrsIzD8F,eACJC,YAAa,eACbC,IAAK,MACLC,SAAU,iBACVC,UAAW,mBAGPhe,MACJ8d,IAAK,MACL1T,OAAQ,UAGJ6T,cAAa,SAAA/H,gBACN,QADP+H,iBtB2sID7hB,gBAAgB+C,KsB3sIf8e,eAEFjgB,KAAApB,OAAAkC,eAFEmf,cAAathB,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIfA,KAAKC,OACH2a,MAAM,EACNW,SAGFvb,KAAK+e,cACH7b,MAAAC,ctB2sIC,MsB3sIGR,UAAU,OAAOgB,QAAS3D,aAAU4D,KAAK5D,KAAM,WACjDkD,MAAAC,cAAA,eAIJnD,KAAK6a,eACH3X,MAAAC,ctB2sIC,MsB3sIGR,UAAU,OAAOgB,QAAS3D,aAAU4D,KAAK5D,KAAM,SACjDkD,MAAAC,cAAA,etB4uIL,MArDA9F,WsBxsIGyhB,cAAa/H,gBtBiuIhBxY,asBjuIGugB,gBtBkuIDtiB,IAAK,OACLoB,MsB7sIC,QAAA4Z,MAAC+D,MtB8sIA,GAAIlb,OAAQL,IsB7sIf6D,QAAO6E,QAAQ,YAAYG,KAAK,SAAA6P,OAC9BrY,MAAKQ,KAAKA,KAAK8d,KAAK9d,KAAKA,KAAKoK,QAAQ9C,SAASuQ,OAC/C7Z,KAAApB,OAAAkC,eAzBAmf,cAAathB,WAAA,OAAA6C,OAAA9E,KAAA8E,MAyBFkb,WtBmtIZ/e,IAAK,gBACLoB,MsBhtIU,QAAAie,iBACX,MACE3Y,OAAAC,ctBgtIG,MACA,KsBhtIDD,MAAAC,cAACU,OAAOC,WAAU3C,IAAKN,KAAK8d,IAAKhc,UAAW8b,cAAcC,aACxDxb,MAAAC,cAAAmX,2BAAA,YAAQnZ,IAAKN,KAAKoK,OAAQE,SAAO,IACjCjI,MAAAC,cAAA,OAAKR,UAAW8b,cAAcE,OAEhCzb,MAAAC,cAAAyV,iCAAA,YAAYjW,UAAW8b,cAAcG,SAAUtd,KAAMtB,KAAK+e,eAC1D7b,MAAAC,cAAAyV,iCAAA,YAAYjW,UAAW8b,cAAcI,UAAWvd,KAAMtB,KAAK6a,qBArC7DiE,eAAsBjb,OAAO8R,OtBgwIlCxa,SAAQ,WsBrtIM,SAAUsD,MAAO0C,IAAK3E,KACnC,MACE0G,OAAAC,cAAC2b,cAAa3gB,YACRM,OACJ0C,IAAKA,IACL3E,IAAKA,IACLnB,GAAG,UACHygB,UAAQ,EACR/F,UAAQ,MtButIb3a,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAYA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAdjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQxcgD,YAAc5E,oBuBjzII,GvBmzIlB6E,aAAehD,uBAAuB+C,aAEtC+Y,gCAAkC3d,oBuBnzIhB,GvBqzIlB4d,iCAAmC/b,uBAAuB8b,iCuBnzIzD8F,eACJC,YAAa,eACbC,IAAK,MACLC,SAAU,iBACVC,UAAW,kBACXG,OAAQ,yBAGJne,MACJ8d,IAAK,OAGDM,WAAU,SAAAlI,gBACH,QADPkI,cvByzIDhiB,gBAAgB+C,KuBzzIfif,YAEFpgB,KAAApB,OAAAkC,eAFEsf,WAAUzhB,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIZA,KAAKC,MAAM2a,MAAO,EAClB5a,KAAKC,MAAMsD,SAAW+Y,SAEtBtc,KAAK+e,cACH7b,MAAAC,cvByzIC,MuBzzIGR,UAAU,QAAQgB,QAAS3D,aAAU4D,KAAK5D,KAAM,UAClDkD,MAAAC,cAAA,eAIJnD,KAAK6a,eACH3X,MAAAC,cvByzIC,MuBzzIGR,UAAU,QAAQgB,QAAS3D,KAAKkf,MAAMtb,KAAK5D,OAC7CkD,MAAAC,cAAA,evBk6IL,MA3HA9F,WuBtzIG4hB,WAAUlI,gBvB60IbxY,auB70IG0gB,avB80IDziB,IAAK,QACLoB,MuB3zIE,QAAAshB,SACHrb,OAAO6E,QAAQ,YACbC,KAAM,gBACNpF,QAASvD,KAAKC,MAAMsD,QAAQ4b,gBvB+zI7B3iB,IAAK,OACLoB,MuB5zIC,QAAA4Z,MAAC+D,MACH,GAAIhY,SAASqR,QAASwK,OAEtB7b,SAAUgY,KAAKhY,YAEfqR,QAAU5U,KAAKvB,MAAMoW,UAAUvS,KAAKga,SACpC1H,QAAQvM,QAAQ,SAAA8M,QACV5R,QAAQ4b,aAAehK,OAAOC,YAChCgK,QAAUjK,UAIdnV,KAAKS,UACHma,MAAM,EACNpD,MAAM,EACNgF,OAAO,EACPtF,OAAO,EACP3T,gBACA6b,kBAGFpf,KAAKI,QAELyD,OAAO6E,QAAQ,WACbC,KAAM,aACN0W,YAAe9b,QAAQ8b,iBvBg0IxB7iB,IAAK,sBACLoB,MuB7zIgB,QAAA0hB,uBACjB,OAAO,EAAAzf,aAAA,YACL4e,cAAcO,QACZO,MAAOvf,KAAKC,MAAMmf,SAAWpf,KAAKC,MAAMsD,QAAQiS,UvBg0InDhZ,IAAK,eACLoB,MuB5zIS,QAAA4hB,gBACV,GAAIJ,SAAS5R,UAIb,QAFA4R,QAAUpf,KAAKC,MAAMmf,UAIjBA,QAAQ7J,UACV/H,QAAQpR,KAAK8G,MAAAC,cvB8zIR,QuB9zIcR,UAAU,QAAQyc,QAAQ7J,WAG3C6J,QAAQ/J,UAAU/B,OACpB9F,QAAQpR,KAAK8G,MAAAC,cAAA,OAAKR,UAAU,gBAAgBsG,IAAKmW,QAAQ/J,UAAU/B,MAAMgC,OAGpE9H,SAVP,UvB80IChR,IAAK,gBACLoB,MuBl0IU,QAAAie,iBACX,MACE3Y,OAAAC,cvBk0IG,MACA,KuBl0IDD,MAAAC,cvBo0IG,MuBp0ICR,UAAW3C,KAAKsf,uBAClBpc,MAAAC,cvBs0IG,KACA,KuBt0IDD,MAAAC,cvBw0IG,OACA,KuBx0IAnD,KAAKwf,kBAIZtc,MAAAC,cAACU,OAAOC,WAAU3C,IAAKN,KAAK8d,IAAKhc,UAAW8b,cAAcC,aACxDxb,MAAAC,cAACU,OAAO8J,OAAM1E,IAAKjJ,KAAKC,MAAMsD,QAAQ+R,MACtCpS,MAAAC,cAAA,OAAKR,UAAW8b,cAAcE,OAEhCzb,MAAAC,cAAAyV,iCAAA,YAAYjW,UAAW8b,cAAcG,SAAUtd,KAAMtB,KAAK+e,eAC1D7b,MAAAC,cAAAyV,iCAAA,YAAYjW,UAAW8b,cAAcI,UAAWvd,KAAMtB,KAAK6a,qBAjG7DoE,YAAmBpb,OAAO8R,OvBo7I/Bxa,SAAQ,WuB70IM,SAAUsD,MAAO0C,IAAK3E,KACnC,MACE0G,OAAAC,cAAC8b,WAAU9gB,YACLM,OACJ0C,IAAKA,IACL3E,IAAKA,IACLnB,GAAG,OACHygB,UAAQ,EACR/F,UAAQ,MvB+0Ib3a,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,SAEtB,YAUA,SAAS8B,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAVjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIW,cAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SwB59Ivc6iB,SAAQ,SAAA1I,gBxBq+IX,QwBr+IG0I,YxBs+IDxiB,gBAAgB+C,KwBt+Ifyf,UxBw+ID5gB,KAAKpB,OAAOkC,ewBx+IX8f,SAAQjiB,WAAA,cAAAwC,MAAAzD,MAAAyD,KAAAhE,WxBghJX,MA7CAqB,WwBn+IGoiB,SAAQ1I,gBxB2+IXxY,awB3+IGkhB,WxB4+IDjjB,IAAK,SACLoB,MwB5+IG,QAAAqZ,UACJjX,KAAKkX,QACLrT,OAAO6E,QAAQ,aACbrN,GAAI2E,KAAKC,MAAM5E,QxBg/IhBmB,IAAK,SACLoB,MwB7+IG,QAAA8F,UACJ,MACER,OAAAC,cxB6+IG,OwB7+IE9H,GAAI2E,KAAKvB,MAAMpD,GAAIsH,UAAW3C,KAAK4C,iBACtCM,MAAAC,cxB++IG,OwB/+IER,UAAU,UACbO,MAAAC,cxBi/IG,OwBj/IER,UAAU,SACbO,MAAAC,cAAA,UAAQR,UAAU,aAAagB,QAAS3D,KAAKiX,OAAOrT,KAAK5D,QACzDkD,MAAAC,cxBm/IG,KACA,KACA,iBwBp/IHD,MAAAC,cxBu/IG,KACA,KACA,yBwBxgJTsc,UAAiB5b,OAAO8R,OxBmhJ7Bxa,SAAQ,WwB3/IP+H,MAAAC,cAACsc,UACCpkB,GAAG,SxB6/IND,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAYA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAdjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQxc+b,gCAAkC3d,oByB9iJhB,GzBgjJlB4d,iCAAmC/b,uBAAuB8b,iCyB9iJzD8F,eACJiB,cAAe,kBACfC,QAAS,WACTC,aAAc,gBACdC,UAAW,YACXC,KAAM,OACNC,OAAQ,SACRxK,SAAU,YAGNyK,WAAU,SAAAjJ,gBACH,QADPiJ,czBojJD/iB,gBAAgB+C,KyBpjJfggB,YAEFnhB,KAAApB,OAAAkC,eAFEqgB,WAAUxiB,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIZA,KAAKC,MAAM2a,MAAO,EAClB5a,KAAKC,MAAMkc,aAEXnc,KAAK6a,eACH3X,MAAAC,czBojJC,MyBpjJGR,UAAU,aAAagB,QAAS3D,aAAU4D,KAAK5D,KAAM,WACvDkD,MAAAC,cAAA,cAEFD,MAAAC,czBqjJC,MyBrjJGR,UAAU,OAAOgB,QAAS3D,KAAK8a,MACjC5X,MAAAC,cAAA,ezB4nJL,MAvFA9F,WyBjjJG2iB,WAAUjJ,gBzBskJbxY,ayBtkJGyhB,azBukJDxjB,IAAK,OACLoB,MyBvjJC,QAAA4Z,QACF,GAAI2E,WAAYnc,KAAKvB,MAAMoW,UAAUsH,aAErCnc,MAAKS,UACHma,MAAM,EACNpD,MAAM,EACNgF,OAAO,EACPtF,OAAO,EACPiF,sBAGFnc,KAAKI,WzB0jJJ5D,IAAK,OACLoB,MyBxjJC,QAAAkd,QACFjX,OAAO6E,QAAQ,aACbC,KAAM,YzB4jJPnM,IAAK,gBACLoB,MyBzjJU,QAAAie,iBACX,GAAIoE,mBAAoBjgB,aAAU4D,KAAK5D,MACrC+F,MAAO,SACPqW,OAAM,QAGR,OACElZ,OAAAC,czByjJG,MACA,KyBzjJDD,MAAAC,czB2jJG,OyB3jJER,UAAW8b,cAAcsB,QAC5B7c,MAAAC,cAAA,QAAMR,UAAW8b,cAAciB,gBAC/Bxc,MAAAC,czB6jJG,QyB7jJGR,UAAW8b,cAAclJ,UAAWvV,KAAKC,MAAMkc,UAAUxT,MAC/DzF,MAAAC,cAAA,WACAD,MAAAC,cAAA,QAAMR,UAAW8b,cAAckB,UAC/Bzc,MAAAC,cAAA,UAAQR,UAAW8b,cAAcmB,aAAcjc,QAASsc,qBAE1D/c,MAAAC,czBikJG,OyBjkJER,UAAW8b,cAAcoB,WAC5B3c,MAAAC,cAACU,OAAO8J,OAAMhL,UAAU,QAAQsG,IAAI,8CACpC/F,MAAAC,czBmkJG,OyBnkJER,UAAU,UzBqkJZ,eyBpkJWO,MAAAC,cAAA,WzBskJX,mByBrkJeD,MAAAC,cAAA,WzBukJf,uByBnkJLD,MAAAC,cAAA,OAAKR,UAAW8b,cAAcqB,OAC9B5c,MAAAC,cAAAyV,iCAAA,YAAYjW,UAAU,kBAAkBrB,KAAMtB,KAAK6a,qBA7DrDmF,YAAmBnc,OAAO8R,OzB2oJ/Bxa,SAAQ,WyBxkJM,SAAUsD,MAAO0C,IAAK3E,KACnC,MACE0G,OAAAC,cAAC6c,WAAU7hB,YACLM,OACJ0C,IAAKA,IACL3E,IAAKA,IACLnB,GAAG,OACHygB,UAAQ,EACR/F,UAAQ,MzB0kJb3a,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,SAEtB,YAYA,SAAS8B,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAZjeE,OAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,S0BjrJvc6hB,eACJoB,UAAW,YACXE,OAAQ,SACRL,cAAe,kBACfnK,SAAU,WACVoK,QAAS,WACTzC,QAAS,UACTgD,cAAe,iBACfhC,MAAO,SAGHiC,MACJT,cAAe,mBACfU,YAAa,kBAGTC,WAAU,SAAAtJ,gBACH,QADPsJ,c1B2rJDpjB,gBAAgB+C,K0B3rJfqgB,YAEFxhB,KAAApB,OAAAkC,eAFE0gB,WAAU7iB,WAAA,cAAAwC,MAAAzE,KAAAyE,MAIZA,KAAKC,OACH2a,MAAM,EACNW,MACEY,e1BquJL,MApDA9e,W0BxrJGgjB,WAAUtJ,gB1BusJbxY,a0BvsJG8hB,a1BwsJD7jB,IAAK,gBACLoB,M0B7rJU,QAAAie,iBACX,MACE3Y,OAAAC,c1B6rJG,MACA,K0B7rJDD,MAAAC,cAAA,OAAKR,UAAW8b,cAAcoB,YAC9B3c,MAAAC,c1B+rJG,O0B/rJER,UAAW8b,cAAcsB,QAC5B7c,MAAAC,c1BisJG,Q0BjsJGR,UAAW8b,cAAciB,eAAgBS,KAAKT,eACpDxc,MAAAC,c1BqsJG,Q0BrsJGR,UAAW8b,cAAclJ,UAAWvV,KAAKC,MAAMsb,KAAKY,UAAUxT,MACpEzF,MAAAC,cAAA,WACAD,MAAAC,c1BysJG,Q0BzsJGR,UAAW8b,cAAckB,SAAUQ,KAAKC,cAEhDld,MAAAC,c1B6sJG,O0B7sJER,UAAW8b,cAAcvB,SAC5Bha,MAAAC,cAAA,UAAQR,UAAW8b,cAAcyB,cAAevc,QAAS3D,aAAU4D,KAAK5D,KAAM,YAC9EkD,MAAAC,cAAA,UAAQR,UAAW8b,cAAcP,MAAOva,QAAS3D,aAAU4D,KAAK5D,KAAM,iBAxB1EqgB,YAAmBxc,OAAO8R,O1B+uJ/Bxa,SAAQ,W0BhtJM,SAAUsD,MAAO0C,IAAK3E,KACnC,MACE0G,OAAAC,cAACkd,WAAUliB,YACLM,OACJ0C,IAAKA,IACL3E,IAAKA,IACLnB,GAAG,OACHygB,UAAQ,EACR/F,UAAQ,M1BktJb3a,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,SAEtB,YAEAsC,QAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,GAGT,IAAIO,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,QAEvPlD,SAAQ,W2BvxJM,SAAUsD,MAAO0C,IAAK3E,KACnC,MACE0G,OAAAC,cAACU,OAAO8R,O3BwxJPxX,Y2BvxJKM,OACJ0C,IAAKA,IACL3E,IAAKA,IACLnB,GAAG,QACH0a,UAAQ,EACRF,UAAW,IACXyK,UAAU,SAEVpd,MAAAC,cAACU,OAAO8J,OACNxM,IAAI,QACJwB,UAAU,iBACVsG,IAAI,oCAEN/F,MAAAC,cAACU,OAAO8J,OACNxM,IAAI,OACJwB,UAAU,SACVsG,IAAI,wCAEN/F,MAAAC,cAACU,OAAO8J,OACNxM,IAAI,aACJwB,UAAU,SACVsG,IAAI,wC3B4xJX7N,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,SAEtB,YAEAsC,QAAOS,eAAe/C,QAAS,cAC7ByC,OAAO,G4B7zJV,IAAI2iB,SACFllB,GAAI,WACJmlB,QAAS,EACT3c,OAAQ,QACR4c,YACErZ,MAAO,KACPsZ,MAAO,GAAK,G5Bm0JfvlB,SAAQ,W4B/zJMolB,O5Bg0JdnlB,OAAOD,QAAUA,QAAQ,YAIpB,SAASC,OAAQD,QAASH,qBAE/B,YAQA,SAAS6B,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzF,QAASG,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,SAAUC,YAAc,GAA0B,kBAAfA,aAA4C,OAAfA,WAAuB,KAAM,IAAIH,WAAU,iEAAoEG,YAAeD,UAASE,UAAYC,OAAOC,OAAOH,YAAcA,WAAWC,WAAaG,aAAeC,MAAON,SAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,aAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,SAAUC,YAAcD,SAASW,UAAYV,YAVje,GAAIY,UAAWV,OAAOW,QAAU,SAAUC,QAAU,IAAK,GAAItC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIuC,QAAStC,UAAUD,EAAI,KAAK,GAAIS,OAAO8B,QAAcb,OAAOD,UAAUb,eAAepB,KAAK+C,OAAQ9B,OAAQ6B,OAAO7B,KAAO8B,OAAO9B,MAAY,MAAO6B,SAEnPE,aAAe,WAAe,QAASC,kBAAiBH,OAAQI,OAAS,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,MAAMxC,OAAQF,IAAK,CAAE,GAAI2C,YAAaD,MAAM1C,EAAI2C,YAAWb,WAAaa,WAAWb,aAAc,EAAOa,WAAWX,cAAe,EAAU,SAAWW,cAAYA,WAAWZ,UAAW,GAAML,OAAOS,eAAeG,OAAQK,WAAWlC,IAAKkC,aAAiB,MAAO,UAAUvB,YAAawB,WAAYC,aAAiJ,MAA9HD,aAAYH,iBAAiBrB,YAAYK,UAAWmB,YAAiBC,aAAaJ,iBAAiBrB,YAAayB,aAAqBzB,gBAE7hB0B,KAAO,QAASC,KAAIC,GAAIC,IAAKC,KAAqC,IAA9B,GAAIC,SAAS,EAAwBA,QAAQ,CAAE,GAAIC,QAASJ,GAAIK,SAAWJ,IAAKK,SAAWJ,GAAKC,SAAS,EAAsB,OAAXC,SAAiBA,OAASG,SAAS9B,UAAW,IAAI+B,MAAO9B,OAAO+B,yBAAyBL,OAAQC,SAAW,IAAaxC,SAAT2C,KAAJ,CAA4O,GAAI,SAAWA,MAAQ,MAAOA,MAAK3B,KAAgB,IAAI6B,QAASF,KAAKT,GAAK,IAAelC,SAAX6C,OAAwB,MAAoB,OAAOA,QAAOlE,KAAK8D,UAA/V,GAAIK,QAASjC,OAAOkC,eAAeR,OAAS,IAAe,OAAXO,OAAmB,MAA2BX,IAAKW,OAAQV,IAAMI,SAAUH,IAAMI,SAAUH,QAAS,EAAMK,KAAOG,OAAS9C,SAQxc+jB,YAAc3lB,oB6B91JA,I7Bg2Jd4lB,aAAe/jB,uBAAuB8jB,aAEtCE,0BAA4B7lB,oB6Bh2Jd,I7Bk2Jd8lB,2BAA6BjkB,uBAAuBgkB,2BAEpDE,qCAAuC/lB,oB6Bl2JtB,G7Bo2JjBgmB,sCAAwCnkB,uBAAuBkkB,sCAE/DE,wBAA0BjmB,oB6Br2JP,I7Bu2JnBkmB,yBAA2BrkB,uBAAuBokB,yBAElDE,uBAAyBnmB,oB6Bx2JP,I7B02JlBomB,wBAA0BvkB,uBAAuBskB,wBAEjDE,yBAA2BrmB,oB6B32JP,I7B62JpBsmB,0BAA4BzkB,uBAAuBwkB,0BAEnDE,yBAA2BvmB,oB6B92JP,I7Bg3JpBwmB,0BAA4B3kB,uBAAuB0kB,0BAEnDE,8BAAgCzmB,oB6Bj3JR,I7Bm3JxB0mB,+BAAiC7kB,uBAAuB4kB,+BAExDE,wBAA0B3mB,oB6Bp3JP,I7Bs3JnB4mB,yBAA2B/kB,uBAAuB8kB,yBAElDE,0BAA4B7mB,oB6Bv3JP,I7By3JrB8mB,2BAA6BjlB,uBAAuBglB,2BAEpDE,uBAAyB/mB,oB6B13JP,I7B43JlBgnB,wBAA0BnlB,uBAAuBklB,wBAEjDE,uBAAyBjnB,oB6B73JP,I7B+3JlBknB,wBAA0BrlB,uBAAuBolB,wBAEjDE,uBAAyBnnB,oB6Bh4JP,I7Bk4JlBonB,wBAA0BvlB,uBAAuBslB,wBAEjDE,+BAAiCrnB,oB6Bl4Jf,I7Bo4JlBsnB,gCAAkCzlB,uBAAuBwlB,gCAEzDE,qBAAuBvnB,oB6Br4JP,I7Bu4JhBwnB,sBAAwB3lB,uBAAuB0lB,sB6Br4J9CtG,sBAAwB,oEAExBwG,SAAQ,SAAAC,cACD,QADPD,Y7B24JDxlB,gBAAgB+C,K6B34JfyiB,UAEF5jB,KAAApB,OAAAkC,eAFE8iB,SAAQjlB,WAAA,cAAAwC,MAAAzE,KAAAyE,KAAA4gB,aAAA,YAIV5gB,KAAK2iB,SACHC,EAAC5B,sCAAA,WACD6B,EAAC3B,yBAAA,WACDrK,KAAIuK,wBAAA,WACJjM,OAAMmM,0BAAA,WACNrW,OAAMuW,0BAAA,WACNtU,cAAawU,+BAAA,WACbxD,MAAK0D,yBAAA,WACLzW,QAAO2W,2BAAA,WACPhH,KAAIkH,wBAAA,WACJxM,KAAI0M,wBAAA,WACJ5N,KAAI8N,wBAAA,YAGNpiB,KAAK8iB,OACHC,KAAIT,gCAAA,WACJzF,KAAI2F,sBAAA,YAGNxiB,KAAKC,MAAMqC,KAAKqgB,QAAU3e,EAAElD,IAAId,KAAK2iB,QAAS,W7B44J3C,W6B14JH3iB,KAAKgjB,WAAahf,EAAEif,SAASjjB,KAAKgb,QAAQpX,KAAK5D,MAAO2I,KAAM,eAAgB,KAC5E3I,KAAKkjB,gBAAkBlf,EAAEif,SAASjjB,KAAKmjB,SAASvf,KAAK5D,MAAO,K7BguK7D,MAlXA3C,W6Bx4JGolB,SAAQC,c7B06JXnkB,a6B16JGkkB,W7B26JDjmB,IAAK,OACLoB,M6B/4JC,QAAAwe,MAACb,MACgB,SAAfA,KAAKxV,QACF/F,KAAKC,MAAMkc,WAAcnc,KAAKC,MAAMkc,UAAUxT,OACjD4S,KAAKxV,MAAQ,SACbwV,aAAY,SAIhB1c,KAAApB,OAAAkC,eArCE8iB,SAAQjlB,WAAA,OAAAwC,MAAAzE,KAAAyE,KAqCCub,S7Bk5JV/e,IAAK,QACLoB,M6Bh5JE,QAAAwlB,SACEpjB,KAAKC,MAAMmjB,QACdpjB,KAAKkjB,kBACLljB,KAAKgjB,cAGPnkB,KAAApB,OAAAkC,eA9CE8iB,SAAQjlB,WAAA,QAAAwC,MAAAzE,KAAAyE,S7Bi8JTxD,IAAK,WACLoB,M6Bj5JK,QAAAylB,YACN,MAAOrjB,MAAKa,KAAK,iBAAiBma,a7Bo5JjCxe,IAAK,OACLoB,M6Bl5JC,QAAAif,MAACpb,EAAG6hB,UAEN,GAAIlI,WAAW1C,MAAO3X,KAAOf,IAC7Bob,WAAYra,KAAKd,MAAMkc,WAAapb,KAAKd,MAAMkc,UAAUI,QAAUxb,KAAKd,MAAMkc,UAAUI,QAAU,KAClG7D,MAAQ3X,KAAKsiB,UACb,IAAIE,UAAQplB,UACVqiB,QAAWI,aAAA,WAAOJ,SACfzf,KAAKd,MAAMujB,cACdpI,oBACAkI,kBACA5K,eAGGA,MAAMrS,YAAeqS,MAAMpS,MAAMrK,QAAWyc,MAAMnS,SAAStK,SAI5D+P,KAAKC,UAAUsX,YAAcvX,KAAKC,UAAUjM,KAAKC,MAAMsjB,WACzDxiB,KAAK0iB;AACH9a,KAAM,eACN+a,KAAM3iB,KAAKwf,OAAOllB,GAClBkoB,oBACC1a,KAAK,SAAA2a,cACNziB,KAAKN,UACH+iB,0BACAD,yB7B25JL/mB,IAAK,OACLoB,M6Br5JC,QAAAkd,QACF9a,KAAK6c,KAAK,MAAM,GAEhB7c,KAAKa,KAAK,iBAAiBqD,QAC3BlE,cACE+F,MAAO,OACPoW,UAAWnc,KAAKC,MAAMkc,YAGxBnc,KAAKS,UACH0b,UAAW,KACXqH,aAAc,U7By5JfhnB,IAAK,UACLoB,M6Bt5JI,QAAA8K,SAACib,MAAOpI,MACb,OAAQoI,OACR,IAAK,OACH,MAAO3jB,MAAK6c,MACd,KAAK,WACH,MAAO7c,MAAKmjB,SAAS5H,KAAKlZ,KAC5B,KAAK,WACH,MAAOrC,MAAKqjB,UACd,KAAK,eACH,MAAOrjB,MAAK4jB,aAAarI,MAG3B,MAAA1c,MAAApB,OAAAkC,eAhHE8iB,SAAQjlB,WAAA,UAAAwC,MAAAzE,KAAAyE,KAgHW2jB,MAAOpI,S7By5J3B/e,IAAK,eACLoB,M6Bv5JS,QAAAgmB,cAACrI,M7Bw5JR,GAAIlb,OAAQL,I6Bv5JfA,MAAKS,UACH+iB,aAAcjI,KAAKhY,SAClB,WACDlD,MAAKQ,KAAK,iBAAiBqa,SAASK,KAAKhY,SACzClD,eACE0F,MAAO,SACPyV,OAAO,S7B85JVhf,IAAK,WACLoB,M6B15JK,QAAAulB,UAAC9gB,MACP,GAAIwhB,WAAW9iB,KAAOf,IAMtB,OAJAqC,MAAOA,MAAQ,gBACfwhB,UAAYxhB,KAAKqC,MAAM,KACvBmf,UAAUC,QAEH/iB,KAAK0iB,MACV9a,KAAM,WACNtG,YACCwG,KAAK,SAAAC,GACN,GAAIyS,MAAMwI,WACVxI,OACEjZ,QACA0hB,SAAU,QAAAA,YACRjjB,KAAKF,KAAK,iBAAiBwa,UAC3Bta,KAAKF,KAAK,sBAAsBwb,eAGpC0H,YAAcxI,KAAKjZ,KAEnBuhB,UAAUxb,QAAQ,SAAC7L,IAAKuJ,OACtBge,YAAYvnB,MACV8J,UAEEP,QAAU8d,UAAU5nB,OAAS,IAC/B8nB,YAAcA,YAAYvnB,KAAK8J,SAInCyd,YAAYF,UAAUA,UAAU5nB,OAAS,IAAM+H,EAAEigB,MAAMnb,GACvDib,YAAYF,UAAUA,UAAU5nB,OAAS,IAAIqK,SAEzCwC,EAAExC,OACJwC,EAAExC,MAAM+B,QAAQ,SAAA1D,MACU,WAApBA,KAAK8D,YAA2B9D,KAAKgE,KACvC5H,KAAKoiB,SAAS9gB,KAAO,IAAMsC,KAAKgE,MAEhCob,YAAYF,UAAUA,UAAU5nB,OAAS,IAAIqK,MAAM3B,KAAKgE,MAAQhE,OAKtE5D,KAAKsb,WAAWd,W7B+5JjB/e,IAAK,UACLoB,M6B55JI,QAAAod,SAACO,M7B65JH,GAAIjY,QAAStD,K6B55JZkkB,OACF,aACA,YACA,aAOF,OAJiC,KAA7BA,MAAMniB,QAAQwZ,KAAK5S,QACrB4S,KAAK5S,KAAO,WAGP3I,KAAKyjB,KAAKlI,MAAM1S,KAAK,SAAAvG,MACtBiZ,KAAKlH,QACP/R,KAAKiZ,KAAKlH,QAAU/R,KAAKihB,eAClBjhB,MAAKihB,SACZjgB,OAAK+Y,YACH/Z,aAGFgB,OAAK+Y,YACH/Z,UACA0hB,SAAUzI,KAAKyI,gB7Bg6JpBxnB,IAAK,WACLoB,M6B35JK,QAAAumB,UAAC5I,MACW,aAAdA,KAAK5S,MACP3I,KAAKa,KAAK,iBAAiBuH,QAAQmT,KAAKhY,SACxCvD,cAAY+F,MAAO,YACI,kBAAdwV,KAAK5S,KACd3I,KAAKokB,aAAa7I,KAAKhY,QAASvD,aAAU4D,KAAK5D,MAAQ+F,MAAOwV,cAAa,YACpD,SAAdA,KAAK5S,MACd3I,KAAK8a,U7B+5JNte,IAAK,eACLoB,M6B55JS,QAAAwmB,cAACjI,UAAW5T,I7B65JnB,GAAIa,QAASpJ,K6B55JZiJ,GAEAkT,WAAUlT,KACZkT,UAAUkI,cAAgBlI,UAAUlT,UAC7BkT,WAAUlT,KACa,gBAAdkT,YACZnc,KAAKC,MAAMqC,MAAQtC,KAAKC,MAAMqC,KAAKga,MACrCtc,KAAKC,MAAMqC,KAAKga,KAAKrS,KAAK,SAAAkL,QACxB,MAAIA,QAAOC,YAAc+G,WACvBA,UAAYhH,QACL,IAEF,IAKY,gBAAdgH,WACTnc,KAAKgb,SACHrS,KAAM,YACNyM,UAAa+G,UACb6H,SAAU,QAAAA,YACR5a,OAAKgb,aAAajI,UAAW5T,QAIjCU,IAAMkT,WAAaA,UAAU9G,WAAa8G,UAAU9G,UAAU/B,OAAS6I,UAAU9G,UAAU/B,MAAMgC,IAC/F6G,UAAU9G,UAAU/B,MAAMgC,IAC1B6G,UAAUkI,eAAiBpI,sBAC7Bjc,KAAKS,UACH0b,WACEI,QAAWJ,UAAUI,SAAWJ,UAAU/G,UAC1CzM,KAAMwT,UAAUxT,MAAQwT,UAAU5G,SAClCtM,QAEA2E,YAAa,GAEbnF,WAAc,WAEfF,Q7Bg6JJ/L,IAAK,iBACLoB,M6B75JW,QAAA0mB,kBACZtkB,cACE+F,MAAO,c7Bi6JRvJ,IAAK,SACLoB,M6B95JG,QAAAF,UACAsC,KAAKC,MAAMkc,UACbnc,cAAW+F,MAAO,WAElB/F,cAAW+F,MAAO,c7Bk6JnBvJ,IAAK,aACLoB,M6B/5JO,QAAA2mB,cACRvkB,KAAK6c,OACL7c,KAAKwkB,UAAUnpB,GAAI,Y7Bk6JlBmB,IAAK,eACLoB,M6Bh6JS,QAAA6mB,gBACV,MACEvhB,OAAAC,cAAA2d,2BAAA,oB7Bk6JDtkB,IAAK,eACLoB,M6B/5JS,QAAAuZ,gBACV,MACEjU,OAAAC,c7B+5JG,MACA,K6B/5JDD,MAAAC,cAAA,OAAKR,UAAU,iBACfO,MAAAC,cAAA,OAAKR,UAAU,iBACfO,MAAAC,cAAA,OAAKR,UAAU,iBACfO,MAAAC,cAAA,OAAKR,UAAU,iBACfO,MAAAC,cAAA,OAAKR,UAAU,iBACfO,MAAAC,cAAA,OAAKR,UAAU,qB7Bo6JlBnG,IAAK,kBACLoB,M6Bh6JY,QAAA8mB,mBACb,GAAIvI,WAAYnc,KAAKC,MAAMkc,UAAW3O,UAEtC,IAAK2O,UAUL,MARIA,WAAUxT,MACZ6E,QAAQpR,KAAK8G,MAAAC,c7Bk6JR,Q6Bl6JcR,UAAU,QAAQwZ,UAAUxT,OAG7CwT,UAAUkI,eACZ7W,QAAQpR,KAAK8G,MAAAC,cAAA,OAAKR,UAAU,gBAAgBsG,IAAKkT,UAAUkI,iBAGtD7W,W7Bw6JNhR,IAAK,aACLoB,M6Bt6JO,QAAA+mB,cACR,MACEzhB,OAAAC,c7Bs6JG,MACA,K6Bt6JDD,MAAAC,c7Bw6JG,O6Bx6JER,UAAU,aACbO,MAAAC,cAAA,UAAQR,UAAU,OAAOgB,QAAS3D,KAAKukB,WAAW3gB,KAAK5D,QACvDkD,MAAAC,cAAA,UAAQR,UAAU,QAAQgB,QAAS3D,aAAU4D,KAAK5D,MAAO+F,MAAO,YAChE7C,MAAAC,cAAA,UAAQR,UAAU,SAASgB,QAAS3D,KAAKtC,OAAOkG,KAAK5D,QACrDkD,MAAAC,cAAA,UAAQR,UAAU,OAAOgB,QAAS3D,KAAKwkB,SAAS5gB,KAAK5D,MAAO3E,GAAI,WAChE6H,MAAAC,cAAA,UAAQR,UAAU,QAAQgB,QAAS3D,KAAKwkB,SAAS5gB,KAAK5D,MAAO3E,GAAI,YAEnE6H,MAAAC,c7B06JG,M6B16JCR,UAAU,kBACZO,MAAAC,c7B46JG,M6B56JCQ,QAAS3D,KAAKskB,eAAe1gB,KAAK5D,OACpCkD,MAAAC,c7B86JG,OACA,K6B96JAnD,KAAK0kB,0BAnUdjC,UAAiB5e,OAAO+gB,KA6U9B/gB,QAAOzD,MAAMqiB,SAAU7B,aAAA,WAAOvlB,K7Bo7JxB,SAASD,OAAQD,QAASH,qB8BtxKhC,YACAI,QAAAD,QAAAH,oBAAA,K9B6xKM,SAASI,OAAQD,QAASH,qB+B9xKhC,YAQA,SAAA6pB,QAAAxpB,IACA,GAAA0J,YAAAT,SAAAH,UACA,QACAqc,QAAA,GAAAzb,WAAAhD,QAAA1G,GAAAypB,OAAA,MACAC,OAAA,GAAAhgB,WAAAhD,QAAA1G,GAAAypB,OAAA,OAXA,GAAAxgB,UAAAtJ,oBAAA,EAeAI,QAAAD,QAAA0pB,Q/BqyKM,SAASzpB,OAAQD,QAASH,qBgCrzKhC,YAIA,SAAAgqB,QAAAlf,OAAAmf,QAMA,IALA,GAAAC,aAAA,EACAC,KAEAC,IAAA,IAEAD,MACAC,KAAAtf,OAAAmf,QAAA,EAAAC,YAAA,GAAAG,cACAF,KAAAF,OAAAvf,KAAAmN,IAAA,GAAAqS,YAAA,GACAA,aAEA,OAAAE,KAbA,GAAAC,YAAArqB,oBAAA,GAgBAI,QAAAD,QAAA6pB,QhC4zKM,SAAS5pB,OAAQD,QAASH,qBiC90KhC,YAgCA,SAAAqT,YAEA,GAAA+W,KAAA,GAEAE,QAAA5f,KAAAC,MAAA,MAAA4f,KAAAC,MAAAC,aAgBA,OAdAH,WAAAI,gBACAC,WAEAA,QAAA,EACAD,gBAAAJ,SAGAF,KAAAJ,OAAA1gB,SAAAwB,OAAA0a,SACA4E,KAAAJ,OAAA1gB,SAAAwB,OAAA8f,iBACAD,QAAA,IACAP,KAAAJ,OAAA1gB,SAAAwB,OAAA6f,UAEAP,KAAAJ,OAAA1gB,SAAAwB,OAAAwf,SAYA,QAAArgB,MAAA4gB,WAEA,MADAvhB,UAAAW,KAAA4gB,WACAzqB,OAAAD,QASA,QAAA4pB,QAAAe,UAEA,MADAF,iBAAAE,SACA1qB,OAAAD,QAQA,QAAA4J,YAAAghB,eAKA,MAJAnpB,UAAAmpB,eACAzhB,SAAAS,WAAAghB,eAGAzhB,SAAAH,WAtFA,GAAAG,UAAAtJ,oBAAA,GACAgqB,OAAAhqB,oBAAA,IACA6pB,OAAA7pB,oBAAA,IACAgrB,QAAAhrB,oBAAA,IAKAyqB,YAAA,cAIAjF,QAAA,EAMAoF,gBAAA5qB,oBAAA,OAGA2qB,QAGAD,eAmEAtqB,QAAAD,QAAAkT,SACAjT,OAAAD,QAAAkT,kBACAjT,OAAAD,QAAA8J,UACA7J,OAAAD,QAAA4pB,cACA3pB,OAAAD,QAAA4J,sBACA3J,OAAAD,QAAA0pB,cACAzpB,OAAAD,QAAA6qB,iBjCq1KM,SAAS5qB,OAAQD,QAASH,qBkCx7KhC,YAGA,SAAAirB,WAAA5qB,IACA,IAAAA,IAAA,gBAAAA,QAAAY,OAAA,EACA,QAKA,QAFA8I,YAAAT,SAAAS,aACAmhB,IAAA7qB,GAAAY,OACAF,EAAA,EAAkBmqB,IAAAnqB,EAASA,IAC3B,QAAAgJ,WAAAhD,QAAA1G,GAAAU,IACA,QAGA,UAdA,GAAAuI,UAAAtJ,oBAAA,EAiBAI,QAAAD,QAAA8qB,WlC+7KM,SAAS7qB,OAAQD,SmCj9KvB,YAIA,SAAAkqB,cACA,IAAAc,gBAAAC,gBACA,UAAA1gB,KAAAC,MAAA,IAAAD,KAAA2gB,SAEA,IAAAC,MAAA,GAAAC,YAAA,EAEA,OADAJ,QAAAC,gBAAAE,MACA,GAAAA,KAAA,GARA,GAAAH,QAAA,gBAAApY,iBAAAoY,QAAApY,OAAAyY,SAWAprB,QAAAD,QAAAkqB,YnCw9KM,SAASjqB,OAAQD,SoCr+KvB,YAYA,SAAAsrB,gBAEA,MADAxhB,OAAA,KAAAA,KAAA,cACAA,KAAA,OAGA,QAAAD,SAAA0hB,QACAzhB,KAAAyhB,OAbA,GAAAzhB,MAAA,CAgBA7J,QAAAD,SACAqK,UAAAihB,aACAxhB,KAAAD,UpC6+KM,SAAS5J,OAAQD,SqCpgLvB,YAEAC,QAAAD,QAAA","file":"skribble/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(28);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t  Copyright (c) 2016 Jed Watson.\n\t  Licensed under the MIT License (MIT), see\n\t  http://jedwatson.github.io/classnames\n\t*/\n\t/* global define */\n\t\n\t(function () {\n\t\t'use strict';\n\t\n\t\tvar hasOwn = {}.hasOwnProperty;\n\t\n\t\tfunction classNames () {\n\t\t\tvar classes = [];\n\t\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\tvar arg = arguments[i];\n\t\t\t\tif (!arg) continue;\n\t\n\t\t\t\tvar argType = typeof arg;\n\t\n\t\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\t\tclasses.push(arg);\n\t\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn classes.join(' ');\n\t\t}\n\t\n\t\tif (typeof module !== 'undefined' && module.exports) {\n\t\t\tmodule.exports = classNames;\n\t\t} else if (true) {\n\t\t\t// register as 'classnames', consistent with npm package name\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t\t\t\treturn classNames;\n\t\t\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else {\n\t\t\twindow.classNames = classNames;\n\t\t}\n\t}());\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar Selectable = (function (_skoash$Component) {\n\t  _inherits(Selectable, _skoash$Component);\n\t\n\t  function Selectable() {\n\t    _classCallCheck(this, Selectable);\n\t\n\t    _get(Object.getPrototypeOf(Selectable.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      classes: {},\n\t      selectFunction: this.select\n\t    };\n\t  }\n\t\n\t  _createClass(Selectable, [{\n\t    key: 'start',\n\t    value: function start() {\n\t      var _this = this;\n\t\n\t      var selectClass,\n\t          selectFunction,\n\t          classes = {};\n\t\n\t      selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n\t      selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\t\n\t      if (this.props.selectOnStart) {\n\t        classes[this.props.selectOnStart] = selectClass;\n\t      }\n\t\n\t      this.setState({\n\t        started: true,\n\t        classes: classes,\n\t        selectFunction: selectFunction,\n\t        selectClass: selectClass\n\t      });\n\t\n\t      this.bootstrap();\n\t\n\t      Object.keys(this.refs).map(function (key) {\n\t        if (typeof _this.refs[key].start === 'function') _this.refs[key].start();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'bootstrap',\n\t    value: function bootstrap() {\n\t      _get(Object.getPrototypeOf(Selectable.prototype), 'bootstrap', this).call(this);\n\t\n\t      var self = this;\n\t\n\t      var correctAnswers = this.requireForComplete.filter(function (ref) {\n\t        return self.refs[ref].props.correct;\n\t      });\n\t\n\t      if (correctAnswers.length > 0) {\n\t        this.requireForComplete = correctAnswers;\n\t      }\n\t\n\t      if (this.refs.bin) {\n\t        this.setState({\n\t          list: this.refs.bin.getAll()\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'selectHelper',\n\t    value: function selectHelper(e, classes) {\n\t      var ref,\n\t          dataRef,\n\t          target,\n\t          id,\n\t          isCorrect,\n\t          self = this;\n\t\n\t      target = e.target.closest('LI');\n\t\n\t      if (!target) return;\n\t\n\t      dataRef = target.getAttribute('data-ref');\n\t      ref = self.refs[dataRef];\n\t\n\t      isCorrect = ref && ref.props && ref.props.correct || !self.props.answers || !self.props.answers.length || self.props.answers.indexOf(dataRef) !== -1;\n\t\n\t      if (self.props.allowDeselect && classes[dataRef]) {\n\t        delete classes[dataRef];\n\t      } else if (isCorrect) {\n\t        classes[dataRef] = self.state.selectClass;\n\t      }\n\t\n\t      self.setState({\n\t        classes: classes\n\t      });\n\t\n\t      self.callProp('selectRespond', dataRef);\n\t\n\t      if (self.props.chooseOne) {\n\t        self.requireForComplete = [dataRef];\n\t      }\n\t\n\t      if (self.props.dataTarget) {\n\t        self.updateGameState({\n\t          path: self.props.dataTarget,\n\t          data: {\n\t            target: ref\n\t          }\n\t        });\n\t      }\n\t\n\t      if (self.props.completeListOnClick) {\n\t        self.requireForComplete.map(function (key) {\n\t          if (key === id && self.refs[id]) {\n\t            self.refs[id].complete();\n\t          }\n\t        });\n\t      }\n\t\n\t      self.requireForComplete.map(function (key) {\n\t        if (key === dataRef && self.refs[key]) {\n\t          self.refs[key].complete();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'select',\n\t    value: function select(e) {\n\t      var classes = [];\n\t      this.selectHelper(e, classes);\n\t    }\n\t  }, {\n\t    key: 'highlight',\n\t    value: function highlight(e) {\n\t      var classes = this.state.classes;\n\t      this.selectHelper(e, classes);\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key, li) {\n\t      return (0, _classnames2['default'])(li.props.className, this.state.classes[key], this.state.classes[li.props['data-ref']]);\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])('selectable', _get(Object.getPrototypeOf(Selectable.prototype), 'getClassNames', this).call(this));\n\t    }\n\t  }, {\n\t    key: 'checkComplete',\n\t    value: function checkComplete() {\n\t      var self = this,\n\t          complete;\n\t\n\t      if (this.props.checkComplete === false) return;\n\t\n\t      complete = self.requireForComplete.every(function (key) {\n\t        if (self.refs[key] instanceof Node) {\n\t          return true;\n\t        }\n\t        if (!self.refs[key].state || self.refs[key].state && !self.refs[key].state.complete) {\n\t          if (typeof self.refs[key].checkComplete === 'function') {\n\t            self.refs[key].checkComplete();\n\t          }\n\t          return false;\n\t        }\n\t        return true;\n\t      });\n\t\n\t      if (complete && !self.state.complete) {\n\t        self.complete();\n\t      } else if (self.state.started && !complete && self.state.complete) {\n\t        self.incomplete();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderBin',\n\t    value: function renderBin() {\n\t      if (!this.props.bin) return null;\n\t\n\t      return React.createElement(this.props.bin.type, _extends({}, this.props.bin.props, {\n\t        ref: 'bin'\n\t      }));\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var _this2 = this;\n\t\n\t      var list = this.props.list || this.state.list;\n\t      return list.map(function (li, key) {\n\t        var dataRef = li.props['data-ref'] || key;\n\t        var ref = li.ref || li.props.id || dataRef;\n\t        var message = li.props.message || '' + key;\n\t        return React.createElement(li.type, _extends({}, li.props, {\n\t          type: 'li',\n\t          className: _this2.getClass(key, li),\n\t          message: message,\n\t          'data-message': message,\n\t          'data-ref': dataRef,\n\t          ref: ref,\n\t          key: key\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        this.renderBin(),\n\t        React.createElement(\n\t          'ul',\n\t          { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t          this.renderList()\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Selectable;\n\t})(skoash.Component);\n\t\n\tSelectable.defaultProps = _.defaults({\n\t  list: [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)],\n\t  selectClass: 'SELECTED',\n\t  completeListOnClick: true\n\t}, skoash.Component.defaultProps);\n\t\n\texports['default'] = Selectable;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar randomFromSeed = __webpack_require__(35);\n\t\n\tvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n\tvar alphabet;\n\tvar previousSeed;\n\t\n\tvar shuffled;\n\t\n\tfunction reset() {\n\t    shuffled = false;\n\t}\n\t\n\tfunction setCharacters(_alphabet_) {\n\t    if (!_alphabet_) {\n\t        if (alphabet !== ORIGINAL) {\n\t            alphabet = ORIGINAL;\n\t            reset();\n\t        }\n\t        return;\n\t    }\n\t\n\t    if (_alphabet_ === alphabet) {\n\t        return;\n\t    }\n\t\n\t    if (_alphabet_.length !== ORIGINAL.length) {\n\t        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n\t    }\n\t\n\t    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n\t       return ind !== arr.lastIndexOf(item);\n\t    });\n\t\n\t    if (unique.length) {\n\t        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n\t    }\n\t\n\t    alphabet = _alphabet_;\n\t    reset();\n\t}\n\t\n\tfunction characters(_alphabet_) {\n\t    setCharacters(_alphabet_);\n\t    return alphabet;\n\t}\n\t\n\tfunction setSeed(seed) {\n\t    randomFromSeed.seed(seed);\n\t    if (previousSeed !== seed) {\n\t        reset();\n\t        previousSeed = seed;\n\t    }\n\t}\n\t\n\tfunction shuffle() {\n\t    if (!alphabet) {\n\t        setCharacters(ORIGINAL);\n\t    }\n\t\n\t    var sourceArray = alphabet.split('');\n\t    var targetArray = [];\n\t    var r = randomFromSeed.nextValue();\n\t    var characterIndex;\n\t\n\t    while (sourceArray.length > 0) {\n\t        r = randomFromSeed.nextValue();\n\t        characterIndex = Math.floor(r * sourceArray.length);\n\t        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n\t    }\n\t    return targetArray.join('');\n\t}\n\t\n\tfunction getShuffled() {\n\t    if (shuffled) {\n\t        return shuffled;\n\t    }\n\t    shuffled = shuffle();\n\t    return shuffled;\n\t}\n\t\n\t/**\n\t * lookup shuffled letter\n\t * @param index\n\t * @returns {string}\n\t */\n\tfunction lookup(index) {\n\t    var alphabetShuffled = getShuffled();\n\t    return alphabetShuffled[index];\n\t}\n\t\n\tmodule.exports = {\n\t    characters: characters,\n\t    seed: setSeed,\n\t    lookup: lookup,\n\t    shuffled: getShuffled\n\t};\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _editable_asset01Js = __webpack_require__(7);\n\t\n\tvar _editable_asset01Js2 = _interopRequireDefault(_editable_asset01Js);\n\t\n\tvar Canvas = (function (_skoash$Component) {\n\t  _inherits(Canvas, _skoash$Component);\n\t\n\t  function Canvas() {\n\t    _classCallCheck(this, Canvas);\n\t\n\t    _get(Object.getPrototypeOf(Canvas.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      background: null,\n\t      items: [],\n\t      messages: [],\n\t      offsetX: 0,\n\t      offsetY: 0,\n\t      active: false,\n\t      valid: true\n\t    };\n\t\n\t    this.deleteItem = this.deleteItem.bind(this);\n\t    this.checkItem = this.checkItem.bind(this);\n\t    this.deactivateItems = this.deactivateItems.bind(this);\n\t    this.relayerItems = this.relayerItems.bind(this);\n\t    this.setValid = this.setValid.bind(this);\n\t  }\n\t\n\t  _createClass(Canvas, [{\n\t    key: 'start',\n\t    value: function start() {\n\t      var dom = ReactDOM.findDOMNode(this);\n\t\n\t      _get(Object.getPrototypeOf(Canvas.prototype), 'start', this).call(this);\n\t\n\t      this.setState({\n\t        width: dom.offsetWidth,\n\t        height: dom.offsetHeight\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getItems',\n\t    value: function getItems() {\n\t      var items,\n\t          messages,\n\t          self = this;\n\t\n\t      items = this.state.items.map(function (item, key) {\n\t        var state;\n\t\n\t        if (!self.refs['item-' + key]) return item;\n\t\n\t        state = self.refs['item-' + key].state;\n\t\n\t        item.state = {\n\t          left: _.floor(state.left, 14),\n\t          top: _.floor(state.top, 14),\n\t          scale: _.floor(state.scale, 14),\n\t          rotation: _.floor(state.rotation, 14),\n\t          layer: state.layer,\n\t          valid: state.valid,\n\t          corners: state.corners\n\t        };\n\t\n\t        item.check = state.check;\n\t        item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\t\n\t        return item;\n\t      });\n\t\n\t      messages = this.state.messages.map(function (item, key) {\n\t        var state;\n\t\n\t        if (!self.refs['message-' + key]) return item;\n\t\n\t        state = self.refs['message-' + key].state;\n\t\n\t        item.state = {\n\t          left: _.floor(state.left, 14),\n\t          top: _.floor(state.top, 14),\n\t          scale: _.floor(state.scale, 14),\n\t          rotation: _.floor(state.rotation, 14),\n\t          layer: state.layer,\n\t          valid: state.valid,\n\t          corners: state.corners\n\t        };\n\t\n\t        item.check = state.check;\n\t        item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\t\n\t        return item;\n\t      });\n\t\n\t      _.remove(items, function (n) {\n\t        return !n;\n\t      });\n\t\n\t      _.remove(messages, function (n) {\n\t        return !n;\n\t      });\n\t\n\t      return {\n\t        background: this.state.background,\n\t        items: items,\n\t        messages: messages\n\t      };\n\t    }\n\t  }, {\n\t    key: 'reset',\n\t    value: function reset() {\n\t      this.setState({\n\t        background: null,\n\t        items: [],\n\t        messages: []\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setItems',\n\t    value: function setItems(message) {\n\t      var _this = this;\n\t\n\t      if (message) {\n\t        /*\n\t         *\n\t         * This makes sure the EditableAssets get cleared.\n\t         *\n\t         * This prevents the new assets from inheriting\n\t         * state from the old assets.\n\t         *\n\t         */\n\t        this.setState({\n\t          background: null,\n\t          items: [],\n\t          messages: []\n\t        }, function () {\n\t          _this.addItem(message.background);\n\t          message.items.forEach(function (asset) {\n\t            _this.addItem(asset);\n\t          });\n\t          message.messages.forEach(function (asset) {\n\t            _this.addItem(asset);\n\t          });\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'addItem',\n\t    value: function addItem(asset, cb) {\n\t      var _this2 = this;\n\t\n\t      var items, messages, index, count;\n\t\n\t      if (!asset) return;\n\t\n\t      if (asset.asset_type === 'background') {\n\t        this.setState({\n\t          background: asset\n\t        }, function () {\n\t          skoash.trigger('emit', {\n\t            name: 'getMedia',\n\t            'media_id': asset.media_id\n\t          }).then(function (d) {\n\t            var background = _this2.state.background;\n\t            background.check = d.check;\n\t            background.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t            _this2.setState({\n\t              background: background\n\t            }, cb);\n\t          });\n\t        });\n\t      } else if (asset.asset_type === 'item') {\n\t        items = this.state.items;\n\t\n\t        count = _.reduce(items, function (c, v) {\n\t          if (asset.src === v.src) c++;\n\t          return c;\n\t        }, 1);\n\t\n\t        if (count > this.props.maxInstances) return;\n\t\n\t        items.push(asset);\n\t        index = items.indexOf(asset);\n\t\n\t        this.setState({\n\t          items: items\n\t        }, function () {\n\t          skoash.trigger('emit', {\n\t            name: 'getMedia',\n\t            'media_id': asset.media_id\n\t          }).then(function (d) {\n\t            asset.check = d.check;\n\t            asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t            items[index] = asset;\n\t            _this2.setState({\n\t              items: items\n\t            }, cb);\n\t          });\n\t        });\n\t      } else if (asset.asset_type === 'message') {\n\t        messages = this.state.messages;\n\t\n\t        count = _.reduce(items, function (c, v) {\n\t          if (asset.src === v.src) c++;\n\t          return c;\n\t        }, 1);\n\t\n\t        if (count > this.props.maxInstances) return;\n\t\n\t        messages.push(asset);\n\t        index = messages.indexOf(asset);\n\t\n\t        this.setState({\n\t          messages: messages\n\t        }, function () {\n\t          skoash.trigger('emit', {\n\t            name: 'getMedia',\n\t            'media_id': asset.media_id\n\t          }).then(function (d) {\n\t            asset.check = d.check;\n\t            asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t            messages[index] = asset;\n\t            _this2.setState({\n\t              messages: messages\n\t            }, cb);\n\t          });\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'deleteItem',\n\t    value: function deleteItem(key, type) {\n\t      var items;\n\t\n\t      items = this.state[type + 's'];\n\t      delete items[key];\n\t\n\t      this.setState(_defineProperty({}, type + 's', items));\n\t    }\n\t  }, {\n\t    key: 'deactivateItems',\n\t    value: function deactivateItems(exclude, type) {\n\t      var _this3 = this;\n\t\n\t      if (typeof exclude === 'object' && exclude.target) {\n\t        if (exclude.target.tagName !== 'LI') {\n\t          return;\n\t        }\n\t        this.setState({\n\t          active: false\n\t        });\n\t      }\n\t\n\t      if (typeof exclude === 'number') {\n\t        this.setState({\n\t          active: true\n\t        });\n\t      }\n\t\n\t      this.state.items.map(function (item, key) {\n\t        if ((key !== exclude || type !== 'item') && _this3.refs['item-' + key]) {\n\t          _this3.refs['item-' + key].deactivate();\n\t        }\n\t      });\n\t\n\t      this.state.messages.map(function (item, key) {\n\t        if ((key !== exclude || type !== 'message') && _this3.refs['message-' + key]) {\n\t          _this3.refs['message-' + key].deactivate();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'relayerItems',\n\t    value: function relayerItems(type) {\n\t      var _this4 = this;\n\t\n\t      var layers = [];\n\t\n\t      this.state[type + 's'].map(function (item, key) {\n\t        var layer;\n\t\n\t        layer = _this4.refs[type + '-' + key].state.layer;\n\t\n\t        if (layers.indexOf(layer) === -1) {\n\t          layers.push(layer);\n\t        }\n\t      });\n\t\n\t      layers.sort(function (a, b) {\n\t        return a < b;\n\t      });\n\t\n\t      this.state[type + 's'].map(function (item, key) {\n\t        var oldLayer, newLayer;\n\t\n\t        oldLayer = _this4.refs[type + '-' + key].state.layer;\n\t        newLayer = type === 'message' ? 10000 : 1000;\n\t        newLayer = newLayer - layers.indexOf(oldLayer);\n\t\n\t        _this4.refs[type + '-' + key].relayer(newLayer);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'checkItem',\n\t    value: function checkItem(key, type) {\n\t      var self = this;\n\t\n\t      return !self.refs[type + '-' + key].state.corners.length || self.isInBounds(key, type) && (self.refs[type + '-' + key].state.can_overlap || !self.state[type + 's'].some(function (item, index) {\n\t        return key !== index && !self.refs[type + '-' + index].state.can_overlap && self.refs[type + '-' + index].state.corners.length && skoash.util.doIntersect(self.refs[type + '-' + key].state.corners, self.refs[type + '-' + index].state.corners);\n\t      }));\n\t    }\n\t  }, {\n\t    key: 'isInBounds',\n\t    value: function isInBounds(key, type) {\n\t      return !this.state.width || !this.state.height || !(\n\t      // box to left\n\t      skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: 0, y: -this.state.height }, { x: 0, y: 2 * this.state.height }, { x: -this.state.width, y: 2 * this.state.height }, { x: -this.state.width, y: -this.state.height }]) ||\n\t      // box above\n\t      skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: -this.state.width, y: 0 }, { x: 2 * this.state.width, y: 0 }, { x: 2 * this.state.width, y: -this.state.height }, { x: this.state.width, y: -this.state.height }]) ||\n\t      // box to right\n\t      skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: this.state.width, y: -this.state.height }, { x: this.state.width, y: 2 * this.state.height }, { x: 2 * this.state.width, y: 2 * this.state.height }, { x: 2 * this.state.width, y: -this.state.height }]) ||\n\t      // box below\n\t      skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: -this.state.width, y: this.state.height }, { x: 2 * this.state.width, y: this.state.height }, { x: 2 * this.state.width, y: 2 * this.state.height }, { x: -this.state.width, y: 2 * this.state.height }]));\n\t    }\n\t  }, {\n\t    key: 'setValid',\n\t    value: function setValid(valid) {\n\t      this.setState({\n\t        valid: valid\n\t      });\n\t\n\t      if (typeof this.props.setValid === 'function') {\n\t        this.props.setValid(valid);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getStyle',\n\t    value: function getStyle() {\n\t      if (!this.state.background) return;\n\t\n\t      return {\n\t        backgroundImage: 'url(' + this.state.background.src + ')'\n\t      };\n\t    }\n\t  }, {\n\t    key: 'renderItems',\n\t    value: function renderItems() {\n\t      var _this5 = this;\n\t\n\t      var self = this;\n\t\n\t      return this.state.items.map(function (item, key) {\n\t        return React.createElement(_editable_asset01Js2['default'], _extends({}, item, {\n\t          'data-ref': key,\n\t          minDim: _this5.props.itemMinDim,\n\t          deleteItem: self.deleteItem,\n\t          checkItem: self.checkItem,\n\t          deactivateItems: self.deactivateItems,\n\t          relayerItems: self.relayerItems,\n\t          setValid: self.setValid,\n\t          ref: 'item-' + key,\n\t          key: key\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderMessages',\n\t    value: function renderMessages() {\n\t      var _this6 = this;\n\t\n\t      var self = this;\n\t\n\t      return this.state.messages.map(function (item, key) {\n\t        return React.createElement(_editable_asset01Js2['default'], _extends({}, item, {\n\t          'data-ref': key,\n\t          minDim: _this6.props.messageMinDim,\n\t          deleteItem: self.deleteItem,\n\t          checkItem: self.checkItem,\n\t          deactivateItems: self.deactivateItems,\n\t          relayerItems: self.relayerItems,\n\t          setValid: self.setValid,\n\t          canvasWidth: _this6.state.width,\n\t          canvasHeight: _this6.state.height,\n\t          ref: 'message-' + key,\n\t          key: key\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        canvas: true,\n\t        ACTIVE: !this.props.preview && this.state.active\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'ul',\n\t        {\n\t          className: this.getClassNames(),\n\t          style: this.getStyle(),\n\t          onClick: this.deactivateItems\n\t        },\n\t        this.renderItems(),\n\t        this.renderMessages()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Canvas;\n\t})(skoash.Component);\n\t\n\tCanvas.defaultProps = _.defaults({\n\t  maxInstances: 5\n\t}, skoash.Component.defaultProps);\n\t\n\texports['default'] = Canvas;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _shortid = __webpack_require__(29);\n\t\n\tvar _shortid2 = _interopRequireDefault(_shortid);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectable01 = __webpack_require__(2);\n\t\n\tvar _selectable012 = _interopRequireDefault(_selectable01);\n\t\n\tvar ItemDrawer = (function (_Selectable) {\n\t  _inherits(ItemDrawer, _Selectable);\n\t\n\t  function ItemDrawer() {\n\t    _classCallCheck(this, ItemDrawer);\n\t\n\t    _get(Object.getPrototypeOf(ItemDrawer.prototype), 'constructor', this).call(this);\n\t  }\n\t\n\t  _createClass(ItemDrawer, [{\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      var items, quickCheck, itemsChanged;\n\t\n\t      if (JSON.stringify(this.state.classes) !== JSON.stringify(nextState.classes)) {\n\t        return true;\n\t      }\n\t\n\t      items = nextProps.data || [];\n\t\n\t      if (nextState.category && items[nextState.category]) {\n\t        items = items[nextState.category].items;\n\t      }\n\t\n\t      quickCheck = _.reduce(items, function (a, i) {\n\t        a += i.name;\n\t        return a;\n\t      }, '');\n\t\n\t      itemsChanged = this.quickCheck !== quickCheck;\n\t      if (itemsChanged) {\n\t        this.quickCheck = quickCheck;\n\t      }\n\t\n\t      return itemsChanged;\n\t    }\n\t  }, {\n\t    key: 'start',\n\t    value: function start() {\n\t      var items,\n\t          selectedItem,\n\t          selectFunction,\n\t          classes = {},\n\t          self = this;\n\t\n\t      selectFunction = this.state.selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\t\n\t      items = self.props.data || [];\n\t\n\t      if (self.state.category && items[self.state.category]) {\n\t        items = items[self.state.category].items;\n\t      }\n\t\n\t      selectedItem = JSON.stringify(self.props.selectedItem);\n\t\n\t      _.each(items, function (item, key) {\n\t        if (self.props.selectedItem && JSON.stringify(item) === selectedItem) {\n\t          classes[key] = self.state.selectClass;\n\t        }\n\t      });\n\t\n\t      if (this.props.selectOnStart) {\n\t        classes[this.props.selectOnStart] = this.state.selectClass;\n\t      }\n\t\n\t      this.setState({\n\t        started: true,\n\t        classes: classes,\n\t        selectFunction: selectFunction,\n\t        categoryName: '',\n\t        category: ''\n\t      });\n\t\n\t      this.refs.list.scrollTop = 0;\n\t\n\t      _.each(self.refs, function (ref) {\n\t        if (typeof ref.start === 'function') ref.start();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'selectHelper',\n\t    value: function selectHelper(e) {\n\t      var li,\n\t          message,\n\t          key,\n\t          type,\n\t          categoryName,\n\t          classes = [];\n\t\n\t      li = e.target.closest('LI');\n\t      if (!li) return;\n\t\n\t      key = li.getAttribute('data-ref');\n\t      if (!this.refs[key]) return;\n\t\n\t      type = this.refs[key].props.item.asset_type;\n\t      if (!type) return;\n\t\n\t      if (type === 'folder') {\n\t        categoryName = this.refs[key].props.item.name;\n\t        this.setState({\n\t          category: key,\n\t          categoryName: categoryName\n\t        });\n\t      } else {\n\t        message = this.refs[key].props.item;\n\t        classes[key] = this.state.selectClass;\n\t\n\t        this.setState({\n\t          message: message,\n\t          classes: classes\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'selectButton',\n\t    value: function selectButton() {\n\t      if (typeof this.props.selectRespond === 'function' && this.state.message) {\n\t        this.props.selectRespond(this.state.message);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'continueButton',\n\t    value: function continueButton() {\n\t      if (typeof this.props.selectRespond === 'function') {\n\t        this.props.selectRespond({});\n\t      }\n\t    }\n\t  }, {\n\t    key: 'cancelButton',\n\t    value: function cancelButton() {\n\t      if (typeof this.props.cancelRespond === 'function') {\n\t        this.props.cancelRespond.call(this);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getCategory',\n\t    value: function getCategory() {\n\t      if (this.state.categoryName) {\n\t        return this.state.categoryName;\n\t      }\n\t\n\t      if (this.props.categories && this.props.categories.length) {\n\t        return this.props.categories[this.props.categories.length - 1];\n\t      }\n\t      return '';\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        'ANSWERED': _.values(this.state.classes).indexOf(this.state.selectClass) !== -1\n\t      }, this.props.className, 'item-drawer-component');\n\t    }\n\t  }, {\n\t    key: 'getULClass',\n\t    value: function getULClass() {\n\t      var _classNames;\n\t\n\t      var categories = '';\n\t\n\t      if (this.props.categories) {\n\t        categories = this.props.categories.join(' ');\n\t      }\n\t\n\t      return (0, _classnames2['default'])((_classNames = {\n\t        'item-drawer': true\n\t      }, _defineProperty(_classNames, categories, true), _defineProperty(_classNames, 'COMPLETE', this.state.complete), _classNames));\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key, item) {\n\t      var _classNames2;\n\t\n\t      var white = item && item.name && item.name.toLowerCase().indexOf('w.') !== -1;\n\t\n\t      return (0, _classnames2['default'])((_classNames2 = {}, _defineProperty(_classNames2, this.state.classes[key] || '', true), _defineProperty(_classNames2, 'white', white), _classNames2));\n\t    }\n\t  }, {\n\t    key: 'renderButtons',\n\t    value: function renderButtons() {\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'buttons' },\n\t        React.createElement('button', { className: 'select', onClick: this.selectButton.bind(this) }),\n\t        React.createElement('button', { className: 'continue', onClick: this.continueButton.bind(this) }),\n\t        React.createElement('button', { className: 'cancel', onClick: this.cancelButton.bind(this) })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderItemContent',\n\t    value: function renderItemContent(item) {\n\t      var content = [],\n\t          src;\n\t\n\t      if (item.src || item.thumb) {\n\t        src = item.thumb || item.src;\n\t      } else if (item.items) {\n\t        if (!_.isArray(item.items)) {\n\t          item.items = _.values(item.items);\n\t        }\n\t\n\t        if (item.items[0]) {\n\t          src = item.items[0].thumb || item.items[0].src;\n\t        }\n\t\n\t        item.items.some(function (subitem) {\n\t          if (subitem.name === '_thumb.png') {\n\t            src = subitem.thumb || subitem.src;\n\t            return true;\n\t          }\n\t        });\n\t      }\n\t\n\t      if (src) {\n\t        content.push(React.createElement(skoash.Image, { src: src, key: 0 }));\n\t      }\n\t\n\t      if (item.name && (item.asset_type === 'folder' || item.asset_type === 'friend')) {\n\t        content.push(React.createElement(\n\t          'span',\n\t          { className: 'name', key: 1 },\n\t          item.name\n\t        ));\n\t      }\n\t\n\t      if (item.description) {\n\t        content.push(React.createElement(\n\t          'span',\n\t          { className: 'description', key: 2 },\n\t          item.description\n\t        ));\n\t      }\n\t\n\t      return content;\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var _this = this;\n\t\n\t      var items,\n\t          self = this;\n\t\n\t      if (!this.props.data) return;\n\t\n\t      items = this.props.data;\n\t\n\t      if (this.state.category && items[this.state.category]) {\n\t        items = items[this.state.category].items;\n\t      }\n\t\n\t      if (!_.isArray(items)) {\n\t        items = _.values(items);\n\t      }\n\t\n\t      return items.sort(function (a, b) {\n\t        var aVal = !_.isNaN(window.parseInt(a.order)) ? window.parseInt(a.order) : Infinity;\n\t        var bVal = !_.isNaN(window.parseInt(b.order)) ? window.parseInt(b.order) : Infinity;\n\t        if (aVal === bVal) {\n\t          if (a.name < b.name) return -1;\n\t          if (a.name > b.name) return 1;\n\t          return 0;\n\t        }\n\t        if (aVal < bVal) return -1;\n\t        return 1;\n\t      }).map(function (item, key) {\n\t        return React.createElement(\n\t          skoash.ListItem,\n\t          {\n\t            className: _this.getClass(key, item),\n\t            ref: key,\n\t            'data-ref': key,\n\t            item: item,\n\t            key: _shortid2['default'].generate()\n\t          },\n\t          self.renderItemContent(item)\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { className: this.getClassNames() },\n\t        React.createElement(\n\t          'div',\n\t          { className: 'item-drawer-container' },\n\t          React.createElement(\n\t            'h2',\n\t            null,\n\t            this.getCategory()\n\t          ),\n\t          React.createElement(\n\t            'ul',\n\t            { ref: 'list', className: this.getULClass(), onClick: this.state.selectFunction.bind(this) },\n\t            this.renderList()\n\t          )\n\t        ),\n\t        this.renderButtons()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ItemDrawer;\n\t})(_selectable012['default']);\n\t\n\texports['default'] = ItemDrawer;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar Draggable = (function (_skoash$Component) {\n\t  _inherits(Draggable, _skoash$Component);\n\t\n\t  function Draggable() {\n\t    _classCallCheck(this, Draggable);\n\t\n\t    _get(Object.getPrototypeOf(Draggable.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      startX: 0,\n\t      startY: 0,\n\t      endX: 0,\n\t      endY: 0,\n\t      zoom: 1\n\t    };\n\t\n\t    this.mouseDown = this.mouseDown.bind(this);\n\t    this.mouseUp = this.mouseUp.bind(this);\n\t\n\t    this.moveEvent = this.moveEvent.bind(this);\n\t\n\t    this.touchStart = this.touchStart.bind(this);\n\t    this.touchEnd = this.touchEnd.bind(this);\n\t  }\n\t\n\t  _createClass(Draggable, [{\n\t    key: 'shouldDrag',\n\t    value: function shouldDrag() {\n\t      return true;\n\t    }\n\t  }, {\n\t    key: 'markCorrect',\n\t    value: function markCorrect() {\n\t      this.setState({\n\t        correct: true\n\t      });\n\t    }\n\t  }, {\n\t    key: 'markIncorrect',\n\t    value: function markIncorrect() {\n\t      this.setState({\n\t        correct: false\n\t      });\n\t    }\n\t  }, {\n\t    key: 'startEvent',\n\t    value: function startEvent(e, cb) {\n\t      var pageX, pageY, rect, startX, startY, endX, endY, grabX, grabY;\n\t\n\t      if (e.target !== this.refs.el) return;\n\t      if (!this.shouldDrag()) return;\n\t\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        pageX = e.targetTouches[0].pageX;\n\t        pageY = e.targetTouches[0].pageY;\n\t        rect = e.target.getBoundingClientRect();\n\t        e = e.targetTouches[0];\n\t        e.offsetX = pageX - rect.left;\n\t        e.offsetY = pageY - rect.top;\n\t      }\n\t\n\t      grabX = e.offsetX;\n\t      grabY = e.offsetY;\n\t\n\t      startX = endX = e.pageX - grabX;\n\t      startY = endY = e.pageY - grabY;\n\t\n\t      if (!this.props['return']) {\n\t        startX = _.isFinite(this.state.grabX) ? this.state.startX + this.state.grabX - grabX : startX;\n\t        startY = _.isFinite(this.state.grabY) ? this.state.startY + this.state.grabY - grabY : startY;\n\t      }\n\t\n\t      this.setState({\n\t        dragging: true,\n\t        'return': false,\n\t        startX: startX,\n\t        startY: startY,\n\t        grabX: grabX,\n\t        grabY: grabY,\n\t        endX: endX,\n\t        endY: endY\n\t      });\n\t\n\t      if (typeof this.props.dragRespond === 'function') {\n\t        this.props.dragRespond(this.props.message);\n\t      }\n\t\n\t      if (typeof cb === 'function') {\n\t        cb.call(this);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'attachMouseEvents',\n\t    value: function attachMouseEvents() {\n\t      window.addEventListener('mousemove', this.moveEvent);\n\t      window.addEventListener('mouseup', this.mouseUp);\n\t    }\n\t  }, {\n\t    key: 'attachTouchEvents',\n\t    value: function attachTouchEvents() {\n\t      window.addEventListener('touchmove', this.moveEvent);\n\t      window.addEventListener('touchend', this.touchEnd);\n\t    }\n\t  }, {\n\t    key: 'mouseDown',\n\t    value: function mouseDown(e) {\n\t      this.startEvent(e, this.attachMouseEvents);\n\t    }\n\t  }, {\n\t    key: 'touchStart',\n\t    value: function touchStart(e) {\n\t      this.startEvent(e, this.attachTouchEvents);\n\t    }\n\t  }, {\n\t    key: 'moveEvent',\n\t    value: function moveEvent(e) {\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        e.pageX = e.targetTouches[0].pageX;\n\t        e.pageY = e.targetTouches[0].pageY;\n\t      }\n\t\n\t      this.setState({\n\t        endX: e.pageX - this.state.grabX,\n\t        endY: e.pageY - this.state.grabY\n\t      });\n\t    }\n\t  }, {\n\t    key: 'endEvent',\n\t    value: function endEvent(cb) {\n\t      this.dropRespond();\n\t\n\t      if (this.props['return']) {\n\t        this.setState({\n\t          dragging: false,\n\t          'return': this.props['return'],\n\t          endX: this.state.startX,\n\t          endY: this.state.startY\n\t        });\n\t      } else {\n\t        this.setState({\n\t          dragging: false,\n\t          'return': this.props['return']\n\t        });\n\t      }\n\t\n\t      if (typeof cb === 'function') {\n\t        cb.call(this);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'detachMouseEvents',\n\t    value: function detachMouseEvents() {\n\t      window.removeEventListener('mousemove', this.moveEvent);\n\t      window.removeEventListener('mouseup', this.mouseUp);\n\t    }\n\t  }, {\n\t    key: 'detachTouchEvents',\n\t    value: function detachTouchEvents() {\n\t      window.removeEventListener('touchmove', this.moveEvent);\n\t      window.removeEventListener('touchend', this.touchEnd);\n\t    }\n\t  }, {\n\t    key: 'mouseUp',\n\t    value: function mouseUp() {\n\t      this.endEvent(this.detachMouseEvents);\n\t    }\n\t  }, {\n\t    key: 'touchEnd',\n\t    value: function touchEnd() {\n\t      this.endEvent(this.detachTouchEvents);\n\t    }\n\t  }, {\n\t    key: 'dropRespond',\n\t    value: function dropRespond() {\n\t      var corners;\n\t\n\t      corners = this.setCorners();\n\t\n\t      if (typeof this.props.dropRespond === 'function') {\n\t        this.props.dropRespond(this.props.message, corners);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setCorners',\n\t    value: function setCorners() {\n\t      var top,\n\t          left,\n\t          width,\n\t          height,\n\t          el,\n\t          corners = [];\n\t\n\t      left = 0;\n\t      top = 0;\n\t      el = this.refs.el;\n\t      width = el.offsetWidth;\n\t      height = el.offsetHeight;\n\t\n\t      while (el) {\n\t        if (el.className.indexOf('screen') !== -1) {\n\t          break;\n\t        }\n\t\n\t        left += el.offsetLeft || 0;\n\t        top += el.offsetTop || 0;\n\t        el = el.offsetParent;\n\t      }\n\t\n\t      left += (this.state.endX - this.state.startX) / this.state.zoom;\n\t      top += (this.state.endY - this.state.startY) / this.state.zoom;\n\t\n\t      for (var i = 0; i < 4; i++) {\n\t        corners.push({\n\t          x: left + width * (i === 1 || i === 2 ? 1 : 0),\n\t          y: top + height * (i > 1 ? 1 : 0)\n\t        });\n\t      }\n\t\n\t      this.setState({\n\t        corners: corners\n\t      });\n\t\n\t      return corners;\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.bootstrap();\n\t    }\n\t  }, {\n\t    key: 'bootstrap',\n\t    value: function bootstrap() {\n\t      _get(Object.getPrototypeOf(Draggable.prototype), 'bootstrap', this).call(this);\n\t\n\t      this.setZoom();\n\t\n\t      this.refs.el.addEventListener('mousedown', this.mouseDown);\n\t      this.refs.el.addEventListener('touchstart', this.touchStart);\n\t\n\t      window.addEventListener('resize', this.setZoom.bind(this));\n\t    }\n\t  }, {\n\t    key: 'setZoom',\n\t    value: function setZoom() {\n\t      var _this = this;\n\t\n\t      skoash.trigger('getState').then(function (state) {\n\t        _this.setState({\n\t          zoom: state.scale\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getStyle',\n\t    value: function getStyle() {\n\t      var x, y;\n\t\n\t      x = (this.state.endX - this.state.startX) / this.state.zoom;\n\t      y = (this.state.endY - this.state.startY) / this.state.zoom;\n\t\n\t      return {\n\t        transform: 'translateX(' + x + 'px) translateY(' + y + 'px)',\n\t        WebkitTransform: 'translateX(' + x + 'px) translateY(' + y + 'px)'\n\t      };\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        draggable: true,\n\t        DRAGGING: this.state.dragging,\n\t        RETURN: this.state['return'],\n\t        CORRECT: this.state.correct\n\t      }, _get(Object.getPrototypeOf(Draggable.prototype), 'getClassNames', this).call(this));\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        {\n\t          ref: 'el',\n\t          className: this.getClassNames(),\n\t          style: this.getStyle()\n\t        },\n\t        this.props.children\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Draggable;\n\t})(skoash.Component);\n\t\n\texports['default'] = Draggable;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _draggable01Js = __webpack_require__(6);\n\t\n\tvar _draggable01Js2 = _interopRequireDefault(_draggable01Js);\n\t\n\tvar EditableAsset = (function (_Draggable) {\n\t  _inherits(EditableAsset, _Draggable);\n\t\n\t  function EditableAsset() {\n\t    _classCallCheck(this, EditableAsset);\n\t\n\t    _get(Object.getPrototypeOf(EditableAsset.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      width: 0,\n\t      height: 0,\n\t      left: 0,\n\t      top: 0,\n\t      scale: .5,\n\t      minScale: .1,\n\t      maxScale: 1,\n\t      rotation: 0,\n\t      layer: 1000,\n\t      zoom: 1,\n\t      active: false,\n\t      valid: true,\n\t      corners: [],\n\t      lastValid: {}\n\t    };\n\t\n\t    this.scale = this.scale.bind(this);\n\t    this.adjustScale = this.adjustScale.bind(this);\n\t    this.offScale = this.offScale.bind(this);\n\t\n\t    this.rotate = this.rotate.bind(this);\n\t    this.adjustRotation = this.adjustRotation.bind(this);\n\t    this.offRotate = this.offRotate.bind(this);\n\t  }\n\t\n\t  _createClass(EditableAsset, [{\n\t    key: 'shouldDrag',\n\t    value: function shouldDrag() {\n\t      return this.state.active;\n\t    }\n\t  }, {\n\t    key: 'activate',\n\t    value: function activate() {\n\t      this.setState({\n\t        active: true\n\t      });\n\t\n\t      if (typeof this.props.deactivateItems === 'function') {\n\t        this.props.deactivateItems(this.props['data-ref'], this.props.asset_type);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'deactivate',\n\t    value: function deactivate() {\n\t      var _this = this;\n\t\n\t      if (!this.state.valid) {\n\t        this.setState({\n\t          left: this.state.lastValid.left || this.state.left,\n\t          top: this.state.lastValid.top || this.state.top,\n\t          scale: this.state.lastValid.scale || this.state.scale,\n\t          rotation: this.state.lastValid.rotation || this.state.rotation,\n\t          active: false\n\t        }, function () {\n\t          setTimeout(function () {\n\t            _this.checkItem();\n\t          }, 0);\n\t        });\n\t      } else {\n\t        this.setState({\n\t          active: false\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'moveEvent',\n\t    value: function moveEvent(e) {\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        e.pageX = e.targetTouches[0].pageX;\n\t        e.pageY = e.targetTouches[0].pageY;\n\t      }\n\t\n\t      this.setState({\n\t        endX: e.pageX - this.state.grabX,\n\t        endY: e.pageY - this.state.grabY,\n\t        left: (e.pageX - this.state.grabX - this.state.startX) / this.state.zoom,\n\t        top: (e.pageY - this.state.grabY - this.state.startY) / this.state.zoom\n\t      });\n\t      this.checkItem();\n\t    }\n\t  }, {\n\t    key: 'delete',\n\t    value: function _delete() {\n\t      if (typeof this.props.deleteItem === 'function') {\n\t        this.props.deleteItem(this.props['data-ref'], this.props.asset_type);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'rotate',\n\t    value: function rotate() {\n\t      this.refs.el.parentNode.addEventListener('mousemove', this.adjustRotation);\n\t      this.refs.el.parentNode.addEventListener('mouseup', this.offRotate);\n\t\n\t      this.refs.el.parentNode.addEventListener('touchmove', this.adjustRotation);\n\t      this.refs.el.parentNode.addEventListener('touchend', this.offRotate);\n\t    }\n\t  }, {\n\t    key: 'offRotate',\n\t    value: function offRotate() {\n\t      this.refs.el.parentNode.removeEventListener('mousemove', this.adjustRotation);\n\t      this.refs.el.parentNode.removeEventListener('mouseup', this.offRotate);\n\t\n\t      this.refs.el.parentNode.removeEventListener('touchmove', this.adjustRotation);\n\t      this.refs.el.parentNode.removeEventListener('touchend', this.offRotate);\n\t    }\n\t  }, {\n\t    key: 'adjustRotation',\n\t    value: function adjustRotation(e) {\n\t      var rotation, deltaX, deltaY;\n\t\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        e.pageX = e.targetTouches[0].pageX;\n\t        e.pageY = e.targetTouches[0].pageY;\n\t      }\n\t\n\t      deltaX = e.pageX / this.state.zoom - this.refs.li.offsetParent.offsetLeft - (this.state.left + this.state.width / 2);\n\t      deltaY = e.pageY / this.state.zoom - this.refs.li.offsetParent.offsetTop - (this.state.top + this.state.height / 2);\n\t\n\t      rotation = Math.atan2(deltaY, deltaX) + Math.PI / 4 % (2 * Math.PI);\n\t\n\t      this.setState({\n\t        rotation: rotation\n\t      });\n\t\n\t      this.checkItem();\n\t    }\n\t  }, {\n\t    key: 'layer',\n\t    value: function layer() {\n\t      var layer,\n\t          self = this;\n\t\n\t      layer = this.state.layer - 1;\n\t\n\t      this.setState({\n\t        layer: layer\n\t      }, function () {\n\t        if (typeof self.props.relayerItems === 'function') {\n\t          self.props.relayerItems(self.props.asset_type);\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'relayer',\n\t    value: function relayer(layer) {\n\t      this.setState({\n\t        layer: layer\n\t      });\n\t    }\n\t  }, {\n\t    key: 'scale',\n\t    value: function scale() {\n\t      this.refs.el.parentNode.addEventListener('mousemove', this.adjustScale);\n\t      this.refs.el.parentNode.addEventListener('mouseup', this.offScale);\n\t\n\t      this.refs.el.parentNode.addEventListener('touchmove', this.adjustScale);\n\t      this.refs.el.parentNode.addEventListener('touchend', this.offScale);\n\t    }\n\t  }, {\n\t    key: 'offScale',\n\t    value: function offScale() {\n\t      this.refs.el.parentNode.removeEventListener('mousemove', this.adjustScale);\n\t      this.refs.el.parentNode.removeEventListener('mouseup', this.offScale);\n\t\n\t      this.refs.el.parentNode.removeEventListener('touchmove', this.adjustScale);\n\t      this.refs.el.parentNode.removeEventListener('touchend', this.offScale);\n\t    }\n\t  }, {\n\t    key: 'adjustScale',\n\t    value: function adjustScale(e) {\n\t      var scale, deltaX, deltaY, delta, base;\n\t\n\t      if (e.targetTouches && e.targetTouches[0]) {\n\t        e.pageX = e.targetTouches[0].pageX;\n\t        e.pageY = e.targetTouches[0].pageY;\n\t      }\n\t\n\t      deltaX = e.pageX / this.state.zoom - this.refs.li.offsetParent.offsetLeft / this.state.zoom - (this.state.left / this.state.zoom + this.state.width / 2);\n\t      deltaY = e.pageY / this.state.zoom - this.refs.li.offsetParent.offsetTop / this.state.zoom - (this.state.top / this.state.zoom + this.state.height / 2);\n\t\n\t      delta = Math.pow(Math.pow(deltaX, 2) + Math.pow(deltaY, 2), .5);\n\t      base = Math.pow(Math.pow(this.state.width / 2, 2) + Math.pow(this.state.height / 2, 2), .5);\n\t\n\t      scale = Math.max(Math.min(delta / base, 1), this.state.minScale);\n\t\n\t      this.setState({\n\t        scale: scale\n\t      });\n\t\n\t      this.checkItem();\n\t    }\n\t  }, {\n\t    key: 'checkItem',\n\t    value: function checkItem() {\n\t      var _this2 = this;\n\t\n\t      this.setCorners(function () {\n\t        var valid;\n\t\n\t        if (typeof _this2.props.checkItem === 'function') {\n\t          valid = _this2.props.checkItem(_this2.props['data-ref'], _this2.props.asset_type);\n\t\n\t          if (valid) {\n\t            _this2.setState({\n\t              valid: valid,\n\t              lastValid: new Object(_this2.state)\n\t            });\n\t          } else {\n\t            _this2.setState({\n\t              valid: valid\n\t            });\n\t          }\n\t\n\t          if (typeof _this2.props.setValid === 'function') {\n\t            _this2.props.setValid(valid);\n\t          }\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setCorners',\n\t    value: function setCorners(cb) {\n\t      var center,\n\t          distance,\n\t          angle,\n\t          corners = [];\n\t\n\t      center = {\n\t        x: this.state.left + this.state.width / 2,\n\t        y: this.state.top + this.state.height / 2\n\t      };\n\t\n\t      distance = Math.pow(Math.pow(this.state.width * this.state.scale / 2, 2) + Math.pow(this.state.height * this.state.scale / 2, 2), .5);\n\t\n\t      for (var i = 0; i < 4; i++) {\n\t        angle = this.state.rotation;\n\t        angle += i < 2 ? 0 : Math.PI;\n\t        angle += Math.pow(-1, i) * Math.atan2(this.state.height, this.state.width);\n\t\n\t        corners.push({\n\t          x: center.x + distance * Math.cos(angle),\n\t          y: center.y + distance * Math.sin(angle)\n\t        });\n\t      }\n\t\n\t      this.setState({\n\t        corners: corners\n\t      }, cb);\n\t    }\n\t  }, {\n\t    key: 'getSize',\n\t    value: function getSize() {\n\t      var _this3 = this;\n\t\n\t      var image,\n\t          self = this;\n\t\n\t      image = new Image();\n\t\n\t      image.onload = function () {\n\t        var left, top, width, height, minDim, maxDim, minScale, maxScale, scale;\n\t\n\t        minDim = _this3.props.minDim || 40;\n\t        maxDim = _this3.props.maxDim || 400;\n\t        left = _this3.state.left;\n\t        top = _this3.state.top;\n\t        width = image.width;\n\t        height = image.height;\n\t\n\t        minScale = Math.max(minDim / width, minDim / height);\n\t        maxScale = Math.min(maxDim / width, maxDim / height, _this3.state.maxScale);\n\t        scale = self.props.state && self.props.state.scale ? self.props.state.scale : Math.max(Math.min(self.state.scale, maxScale), minScale);\n\t\n\t        if ((!_this3.state.height || !_this3.state.width) && !_this3.state.left && !_this3.state.top) {\n\t          left = (_this3.props.canvasWidth - width) / 2;\n\t          top = (_this3.props.canvasHeight - height) / 2;\n\t        }\n\t\n\t        self.setState({\n\t          left: left,\n\t          top: top,\n\t          width: width,\n\t          height: height,\n\t          minScale: minScale,\n\t          scale: scale\n\t        }, function () {\n\t          self.activate();\n\t          self.checkItem();\n\t        });\n\t      };\n\t\n\t      image.src = this.props.src;\n\t    }\n\t  }, {\n\t    key: 'getLayer',\n\t    value: function getLayer() {\n\t      var layer = 1000;\n\t\n\t      if (this.props.state && this.props.state.layer) {\n\t        layer = this.props.state.layer;\n\t      } else {\n\t        switch (this.props.asset_type) {\n\t          case 'background':\n\t            layer = 1;\n\t            break;\n\t          case 'message':\n\t            layer = 10000;\n\t            break;\n\t        }\n\t      }\n\t\n\t      this.setState({\n\t        layer: layer\n\t      });\n\t    }\n\t  }, {\n\t    key: 'attachEvents',\n\t    value: function attachEvents() {\n\t      this.refs.scale.addEventListener('mousedown', this.scale);\n\t      this.refs.rotate.addEventListener('mousedown', this.rotate);\n\t\n\t      this.refs.scale.addEventListener('touchstart', this.scale);\n\t      this.refs.rotate.addEventListener('touchstart', this.rotate);\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.bootstrap();\n\t    }\n\t  }, {\n\t    key: 'bootstrap',\n\t    value: function bootstrap() {\n\t      var _this4 = this;\n\t\n\t      _get(Object.getPrototypeOf(EditableAsset.prototype), 'bootstrap', this).call(this);\n\t\n\t      if (this.props.state) {\n\t        this.setState(this.props.state);\n\t      }\n\t\n\t      this.getSize();\n\t      this.getLayer();\n\t\n\t      this.attachEvents();\n\t\n\t      skoash.trigger('emit', {\n\t        name: 'getMedia',\n\t        'media_id': this.props.media_id\n\t      }).then(function (d) {\n\t        _this4.setState(d, function () {\n\t          _this4.checkItem();\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'componentDidUpdate',\n\t    value: function componentDidUpdate() {\n\t      this.attachEvents();\n\t    }\n\t  }, {\n\t    key: 'getButtonStyle',\n\t    value: function getButtonStyle() {\n\t      var extraRotation = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t\n\t      var style,\n\t          transform = '';\n\t\n\t      transform += 'scale(' + 1 / this.state.scale + ') ';\n\t      transform += 'rotate(' + (-this.state.rotation - extraRotation) + 'rad) ';\n\t\n\t      style = {\n\t        transform: transform\n\t      };\n\t\n\t      return style;\n\t    }\n\t  }, {\n\t    key: 'getAssetStyle',\n\t    value: function getAssetStyle() {\n\t      var style,\n\t          transform = '';\n\t\n\t      transform += 'scale(' + this.state.scale + ') ';\n\t      transform += 'rotate(' + this.state.rotation + 'rad) ';\n\t\n\t      style = {\n\t        backgroundImage: 'url(\"' + this.props.src + '\")',\n\t        width: this.state.width,\n\t        height: this.state.height,\n\t        left: this.state.left,\n\t        top: this.state.top,\n\t        transform: transform,\n\t        zIndex: this.state.layer\n\t      };\n\t\n\t      return style;\n\t    }\n\t  }, {\n\t    key: 'getButtonsStyle',\n\t    value: function getButtonsStyle() {\n\t      var style,\n\t          transform = '';\n\t\n\t      transform += 'scale(' + this.state.scale + ') ';\n\t      transform += 'rotate(' + this.state.rotation + 'rad) ';\n\t\n\t      style = {\n\t        width: this.state.width,\n\t        height: this.state.height,\n\t        left: this.state.left,\n\t        top: this.state.top,\n\t        transform: transform\n\t      };\n\t\n\t      return style;\n\t    }\n\t  }, {\n\t    key: 'getClasses',\n\t    value: function getClasses() {\n\t      return (0, _classnames2['default'])({\n\t        DRAGGING: this.state.dragging,\n\t        RETURN: this.state['return'],\n\t        ACTIVE: this.state.active,\n\t        INVALID: !this.state.valid\n\t      }, 'editable-asset', this.props.asset_type);\n\t    }\n\t  }, {\n\t    key: 'renderAsset',\n\t    value: function renderAsset() {\n\t      return React.createElement('div', {\n\t        ref: 'el',\n\t        className: 'asset',\n\t        style: this.getAssetStyle()\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderButtons',\n\t    value: function renderButtons() {\n\t      return React.createElement(\n\t        'div',\n\t        {\n\t          className: 'buttons',\n\t          style: this.getButtonsStyle()\n\t        },\n\t        React.createElement('button', {\n\t          className: 'delete',\n\t          style: this.getButtonStyle(),\n\t          onClick: this['delete'].bind(this)\n\t        }),\n\t        React.createElement('button', {\n\t          ref: 'rotate',\n\t          className: 'rotate',\n\t          style: this.getButtonStyle()\n\t        }),\n\t        React.createElement('button', {\n\t          className: 'layer',\n\t          onClick: this.layer.bind(this),\n\t          style: this.getButtonStyle()\n\t        }),\n\t        React.createElement('button', {\n\t          ref: 'scale',\n\t          className: 'scale',\n\t          style: this.getButtonStyle(1.5708)\n\t        })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'li',\n\t        {\n\t          ref: 'li',\n\t          className: this.getClasses(),\n\t          onClick: this.activate.bind(this)\n\t        },\n\t        this.renderAsset(),\n\t        this.renderButtons()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return EditableAsset;\n\t})(_draggable01Js2['default']);\n\t\n\tEditableAsset.defaultProps = _.defaults({\n\t  canvasWidth: 1280,\n\t  canvasHeight: 720\n\t}, _draggable01Js2['default'].defaultProps);\n\t\n\texports['default'] = EditableAsset;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectable01 = __webpack_require__(2);\n\t\n\tvar _selectable012 = _interopRequireDefault(_selectable01);\n\t\n\tvar Inbox = (function (_Selectable) {\n\t  _inherits(Inbox, _Selectable);\n\t\n\t  function Inbox() {\n\t    _classCallCheck(this, Inbox);\n\t\n\t    _get(Object.getPrototypeOf(Inbox.prototype), 'constructor', this).call(this);\n\t  }\n\t\n\t  _createClass(Inbox, [{\n\t    key: 'selectHelper',\n\t    value: function selectHelper(e) {\n\t      var li,\n\t          message,\n\t          key,\n\t          classes = [];\n\t\n\t      li = e.target.closest('LI');\n\t\n\t      if (!li) return;\n\t\n\t      key = li.getAttribute('data-ref');\n\t\n\t      if (!this.refs[key]) return;\n\t\n\t      message = this.refs[key].props.item;\n\t      classes[key] = this.state.selectClass;\n\t\n\t      this.setState({\n\t        message: message,\n\t        classes: classes\n\t      });\n\t\n\t      if (message.status !== 'COMPLETE') return;\n\t\n\t      if (typeof this.props.selectRespond === 'function' && message) {\n\t        this.props.selectRespond(message);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key, read) {\n\t      return (0, _classnames2['default'])(this.state.classes[key], {\n\t        UNREAD: this.props.friendKey === 'created_by' && !read,\n\t        SENT: this.props.friendKey !== 'created_by'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        'item-drawer': true,\n\t        COMPLETE: this.state.complete\n\t      }, this.props.className);\n\t    }\n\t  }, {\n\t    key: 'getStatusText',\n\t    value: function getStatusText(item) {\n\t      if (!item.status || item.status === 'COMPLETE') return '';\n\t      return item.status;\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var _this = this;\n\t\n\t      var items, friends;\n\t\n\t      if (!this.props.data || !this.props.data.items) return;\n\t\n\t      items = this.props.data.items;\n\t\n\t      if (!items.length) {\n\t        return React.createElement(\n\t          'li',\n\t          { className: 'empty' },\n\t          this.props.emptyMessage\n\t        );\n\t      }\n\t\n\t      friends = _.get(this.props.gameState, 'data.user', []);\n\t\n\t      return items.map(function (item, key) {\n\t        var timestamp, image, name;\n\t        timestamp = moment.utc(item.updated).local();\n\t        key = 'message-' + key;\n\t\n\t        friends.forEach(function (friend) {\n\t          if (item[_this.props.friendKey] === friend.friend_id) {\n\t            image = friend._embedded.image ? friend._embedded.image.url : '';\n\t            name = friend.username;\n\t          }\n\t        });\n\t\n\t        if (!name) {\n\t          skoash.trigger('getData', {\n\t            name: 'getFriend',\n\t            'friend_id': item[_this.props.friendKey]\n\t          });\n\t        }\n\t\n\t        if (_this.props.friendKey === 'friend_to') {\n\t          item.sent = true;\n\t        }\n\t\n\t        return React.createElement(\n\t          skoash.ListItem,\n\t          {\n\t            className: _this.getClass(key, item.read),\n\t            ref: key,\n\t            'data-ref': key,\n\t            item: item,\n\t            key: key\n\t          },\n\t          React.createElement(skoash.Image, { src: image }),\n\t          React.createElement(\n\t            'span',\n\t            { className: 'username' + (name.length > 15 ? ' long' : '') },\n\t            name\n\t          ),\n\t          React.createElement(\n\t            'span',\n\t            { className: 'timestamp' },\n\t            React.createElement(\n\t              'span',\n\t              { className: 'date' },\n\t              timestamp.format('MM.DD.YY')\n\t            ),\n\t            React.createElement(\n\t              'span',\n\t              { className: 'time' },\n\t              timestamp.format('h:mm a')\n\t            )\n\t          ),\n\t          React.createElement(\n\t            'span',\n\t            { className: 'status ' + item.status },\n\t            _this.getStatusText(item)\n\t          )\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'ul',\n\t          { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t          this.renderList()\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Inbox;\n\t})(_selectable012['default']);\n\t\n\tInbox.defaultProps = _.defaults({\n\t  friendKey: 'created_by',\n\t  gameState: {}\n\t}, _selectable012['default'].defaultProps);\n\t\n\texports['default'] = Inbox;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports[\"default\"] = function (props, ref, key) {\n\t  return React.createElement(\n\t    skoash.Screen,\n\t    _extends({}, props, {\n\t      ref: ref,\n\t      key: key,\n\t      id: \"ios-splash\",\n\t      checkComplete: false,\n\t      completeDelay: 6000,\n\t      nextDelay: 3000,\n\t      completeOnStart: true,\n\t      hidePrev: true\n\t    }),\n\t    React.createElement(skoash.Image, { className: \"hidden\", src: \"../shared/images/ios_start_ball.png\" }),\n\t    React.createElement(skoash.Image, { className: \"hidden\", src: \"../shared/images/ios_start_ball_anim.gif\" })\n\t  );\n\t};\n\t\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Loader = (function (_skoash$Component) {\n\t  _inherits(Loader, _skoash$Component);\n\t\n\t  function Loader() {\n\t    _classCallCheck(this, Loader);\n\t\n\t    _get(Object.getPrototypeOf(Loader.prototype), \"constructor\", this).call(this);\n\t  }\n\t\n\t  _createClass(Loader, [{\n\t    key: \"render\",\n\t    value: function render() {\n\t      return React.createElement(\n\t        \"div\",\n\t        { id: \"loader\", className: \"center\" },\n\t        React.createElement(\n\t          \"div\",\n\t          { className: \"group\" },\n\t          React.createElement(\n\t            \"h2\",\n\t            null,\n\t            \"Loading!\"\n\t          ),\n\t          React.createElement(\n\t            \"div\",\n\t            { className: \"spinner animated\" },\n\t            React.createElement(\n\t              \"div\",\n\t              { className: \"spinner animated\" },\n\t              React.createElement(\"div\", { className: \"spinner animated\" })\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Loader;\n\t})(skoash.Component);\n\t\n\texports[\"default\"] = Loader;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _selectable01Js = __webpack_require__(2);\n\t\n\tvar _selectable01Js2 = _interopRequireDefault(_selectable01Js);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar Menu = (function (_Selectable) {\n\t  _inherits(Menu, _Selectable);\n\t\n\t  function Menu() {\n\t    _classCallCheck(this, Menu);\n\t\n\t    _get(Object.getPrototypeOf(Menu.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      active: false,\n\t      selectClass: 'SELECTED',\n\t      classes: {}\n\t    };\n\t  }\n\t\n\t  _createClass(Menu, [{\n\t    key: 'deactivate',\n\t    value: function deactivate() {\n\t      var self = this;\n\t\n\t      this.setState({\n\t        active: false\n\t      });\n\t\n\t      Object.keys(this.refs).map(function (key) {\n\t        if (typeof self.refs[key].deactivate === 'function') {\n\t          self.refs[key].deactivate();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onClick',\n\t    value: function onClick(e) {\n\t      var li,\n\t          ul,\n\t          dom,\n\t          message,\n\t          active = false,\n\t          classes = [];\n\t\n\t      li = e.target.closest('LI');\n\t\n\t      if (!li) return;\n\t\n\t      ul = li.closest('UL');\n\t      dom = ReactDOM.findDOMNode(this); // eslint-disable-line no-undef\n\t\n\t      if (ul !== dom) return;\n\t\n\t      message = li.getAttribute('data-ref');\n\t\n\t      if (this.state.classes[message] !== this.state.selectClass) {\n\t        classes[message] = this.state.selectClass;\n\t        active = !this.props.inactive;\n\t      }\n\t\n\t      this.setState({\n\t        classes: classes,\n\t        active: active\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderItems',\n\t    value: function renderItems() {\n\t      var _this = this;\n\t\n\t      var self = this;\n\t\n\t      if (typeof this.props.items !== 'object') return;\n\t\n\t      return Object.keys(this.props.items).map(function (key) {\n\t        var item, onClick, gotoObj, categories, isFinal;\n\t\n\t        categories = _this.props.categories ? [].concat(_this.props.categories) : [];\n\t        categories.push(key);\n\t\n\t        item = _this.props.items[key];\n\t\n\t        isFinal = typeof item.items !== 'object' || Object.prototype.toString.call(item.items) === '[object Array]' || typeof self.props.lastLevel === 'number' && self.props.lastLevel === self.props.level;\n\t\n\t        if (isFinal) {\n\t          gotoObj = {\n\t            index: 'item-drawer',\n\t            categories: categories\n\t          };\n\t          onClick = skoash.trigger.bind(null, 'goto', gotoObj);\n\t        }\n\t\n\t        return React.createElement(\n\t          skoash.ListItem,\n\t          {\n\t            className: self.getClass(key),\n\t            'data-ref': key,\n\t            ref: key,\n\t            key: key,\n\t            onClick: onClick\n\t          },\n\t          React.createElement(\n\t            'span',\n\t            null,\n\t            key\n\t          ),\n\t          (function () {\n\t            if (isFinal) return;\n\t            return React.createElement(Menu, {\n\t              ref: 'menu-' + key,\n\t              categories: categories,\n\t              items: item.items,\n\t              inactive: true,\n\t              level: (self.props.level || 0) + 1,\n\t              lastLevel: self.props.lastLevel\n\t            });\n\t          })()\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key) {\n\t      var _classNames;\n\t\n\t      return (0, _classnames2['default'])((_classNames = {}, _defineProperty(_classNames, key.replace(' ', '-'), true), _defineProperty(_classNames, this.state.classes[key] || '', true), _classNames));\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        menu: true,\n\t        ACTIVE: this.state.active\n\t      }, this.props.className);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'ul',\n\t        {\n\t          className: this.getClassNames(),\n\t          onClick: this.onClick.bind(this)\n\t        },\n\t        this.renderItems()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Menu;\n\t})(_selectable01Js2['default']);\n\t\n\texports['default'] = Menu;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar QuitScreen = (function (_skoash$Screen) {\n\t  _inherits(QuitScreen, _skoash$Screen);\n\t\n\t  function QuitScreen() {\n\t    _classCallCheck(this, QuitScreen);\n\t\n\t    _get(Object.getPrototypeOf(QuitScreen.prototype), 'constructor', this).apply(this, arguments);\n\t  }\n\t\n\t  _createClass(QuitScreen, [{\n\t    key: 'okay',\n\t    value: function okay() {\n\t      skoash.trigger('quit');\n\t    }\n\t  }, {\n\t    key: 'cancel',\n\t    value: function cancel() {\n\t      this.close();\n\t      skoash.trigger('menuClose', {\n\t        id: this.props.id\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderAssets',\n\t    value: function renderAssets() {\n\t      if (this.props.assets) {\n\t        return this.props.assets.map(function (asset, key) {\n\t          return React.createElement(skoash.Audio, _extends({}, asset.props, {\n\t            ref: asset.ref || asset.props['data-ref'] || 'asset-' + key,\n\t            key: key,\n\t            'data-ref': key\n\t          }));\n\t        });\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { id: this.props.id, className: 'screen ' + this.getClassNames() },\n\t        this.renderAssets(),\n\t        React.createElement(\n\t          'div',\n\t          { className: 'center' },\n\t          React.createElement(\n\t            'div',\n\t            { className: 'frame' },\n\t            React.createElement(\n\t              'h2',\n\t              null,\n\t              'Are you sure you',\n\t              React.createElement('br', null),\n\t              'want to quit?'\n\t            ),\n\t            React.createElement(\n\t              'h3',\n\t              null,\n\t              'Your game progress will be saved'\n\t            ),\n\t            React.createElement('button', { className: 'quit-yes', onClick: this.okay.bind(this) }),\n\t            React.createElement('button', { className: 'quit-no', onClick: this.cancel.bind(this) })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return QuitScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = React.createElement(QuitScreen, {\n\t  id: 'quit'\n\t});\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Reveal = (function (_skoash$Component) {\n\t  _inherits(Reveal, _skoash$Component);\n\t\n\t  function Reveal() {\n\t    _classCallCheck(this, Reveal);\n\t\n\t    _get(Object.getPrototypeOf(Reveal.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      openReveal: ''\n\t    };\n\t\n\t    this.index = 0;\n\t  }\n\t\n\t  _createClass(Reveal, [{\n\t    key: 'open',\n\t    value: function open(message) {\n\t      var self = this;\n\t      self.setState({\n\t        open: true,\n\t        openReveal: '' + message\n\t      });\n\t\n\t      self.playAudio(message);\n\t\n\t      if (self.props.completeOnOpen) {\n\t        self.complete();\n\t      } else {\n\t        self.requireForComplete.map(function (key) {\n\t          if (key === message && self.refs[key]) {\n\t            self.refs[key].complete();\n\t          }\n\t        });\n\t      }\n\t\n\t      if (self.props.autoClose) {\n\t        setTimeout(function () {\n\t          self.close();\n\t        }, 2000);\n\t      }\n\t\n\t      if (this.props.openTarget) {\n\t        this.updateGameState({\n\t          path: this.props.openTarget,\n\t          data: {\n\t            open: '' + message\n\t          }\n\t        });\n\t      }\n\t\n\t      self.callProp('onOpen', message);\n\t    }\n\t  }, {\n\t    key: 'close',\n\t    value: function close() {\n\t      var prevMessage = this.state.openReveal;\n\t\n\t      this.setState({\n\t        open: false,\n\t        openReveal: ''\n\t      });\n\t\n\t      if (this.audio['close-sound']) {\n\t        this.audio['close-sound'].play();\n\t      }\n\t\n\t      this.callProp('onClose');\n\t\n\t      if (typeof this.props.closeRespond === 'function') {\n\t        this.props.closeRespond(prevMessage);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'start',\n\t    value: function start() {\n\t      _get(Object.getPrototypeOf(Reveal.prototype), 'start', this).call(this);\n\t      if (this.props.openOnStart != null) {\n\t        this.open(this.props.openOnStart);\n\t      } else if (this.props.start && typeof this.props.start === 'function') {\n\t        this.props.start.call(this);\n\t      } else {\n\t        this.close();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'playAudio',\n\t    value: function playAudio(message) {\n\t      var _this = this;\n\t\n\t      var messages;\n\t\n\t      if ('' + parseInt(message, 10) === message) {\n\t        message = 'asset-' + message;\n\t      }\n\t\n\t      if (this.audio['open-sound']) {\n\t        this.audio['open-sound'].play();\n\t      }\n\t\n\t      if (typeof message === 'string') {\n\t        messages = message.split(' ');\n\t        messages.map(function (audio) {\n\t          if (_this.audio[audio]) {\n\t            _this.audio[audio].play();\n\t          } else if (_this.media[audio] && typeof _this.media[audio].play === 'function') {\n\t            _this.media[audio].play();\n\t          }\n\t        });\n\t      } else {\n\t        if (this.audio.voiceOver[message]) {\n\t          this.audio.voiceOver[message].play();\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderAssets',\n\t    value: function renderAssets() {\n\t      if (this.props.assets) {\n\t        return this.props.assets.map(function (asset, key) {\n\t          var ref = asset.ref || asset.props['data-ref'] || 'asset-' + key;\n\t          return React.createElement(asset.type, _extends({}, asset.props, {\n\t            'data-ref': key,\n\t            ref: ref,\n\t            key: key\n\t          }));\n\t        });\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var _this2 = this;\n\t\n\t      var list = this.props.list || this.list;\n\t\n\t      return list.map(function (li, key) {\n\t        var ref = li.props['data-ref'] == null ? key : li.props['data-ref'];\n\t        return React.createElement(li.type, _extends({}, li.props, {\n\t          type: 'li',\n\t          className: _this2.getClass(li, key),\n\t          'data-ref': ref,\n\t          ref: key,\n\t          key: key\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'componentWillReceiveProps',\n\t    value: function componentWillReceiveProps(props) {\n\t      if (props.openReveal != null && props.openReveal !== this.props.openReveal) {\n\t        this.open(props.openReveal);\n\t      }\n\t\n\t      if (props.closeReveal === true && props.closeReveal !== this.props.closeReveal) {\n\t        this.close();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(li, key) {\n\t      var classes = '';\n\t\n\t      if (li.props.className) classes += li.props.className;\n\t      if (this.state.openReveal.indexOf(key) !== -1) classes += ' OPEN';\n\t      if (this.state.openReveal.indexOf(li.props['data-ref']) !== -1) classes += ' OPEN';\n\t\n\t      return classes;\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      var classes;\n\t      var open = 'open-none ';\n\t\n\t      if (this.state.openReveal) {\n\t        open = 'open-' + this.state.openReveal + ' ';\n\t      }\n\t\n\t      classes = 'reveal ' + open + _get(Object.getPrototypeOf(Reveal.prototype), 'getClassNames', this).call(this);\n\t\n\t      return classes;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { className: this.getClassNames() },\n\t        this.renderAssets(),\n\t        React.createElement(\n\t          'div',\n\t          null,\n\t          React.createElement(\n\t            'ul',\n\t            null,\n\t            this.renderList()\n\t          ),\n\t          React.createElement('button', { className: 'close-reveal', onClick: this.close.bind(this) })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Reveal;\n\t})(skoash.Component);\n\t\n\tReveal.defaultProps = _.defaults({\n\t  list: [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)]\n\t}, skoash.Component.defaultProps);\n\t\n\texports['default'] = Reveal;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _selectable01 = __webpack_require__(2);\n\t\n\tvar _selectable012 = _interopRequireDefault(_selectable01);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar SavedMessages = (function (_Selectable) {\n\t  _inherits(SavedMessages, _Selectable);\n\t\n\t  function SavedMessages() {\n\t    _classCallCheck(this, SavedMessages);\n\t\n\t    _get(Object.getPrototypeOf(SavedMessages.prototype), 'constructor', this).call(this);\n\t  }\n\t\n\t  _createClass(SavedMessages, [{\n\t    key: 'selectHelper',\n\t    value: function selectHelper(e) {\n\t      var li,\n\t          message,\n\t          key,\n\t          classes = [];\n\t\n\t      li = e.target.closest('LI');\n\t\n\t      if (!li) return;\n\t\n\t      key = li.getAttribute('data-ref');\n\t\n\t      message = this.refs[key].props.item;\n\t      classes[key] = this.state.selectClass;\n\t\n\t      this.setState({\n\t        message: message,\n\t        classes: classes\n\t      }, this.selectRespond.bind(this));\n\t    }\n\t  }, {\n\t    key: 'selectRespond',\n\t    value: function selectRespond() {\n\t      if (typeof this.props.selectRespond === 'function' && this.state.message) {\n\t        this.props.selectRespond(this.state.message);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getClass',\n\t    value: function getClass(key) {\n\t      var _classNames;\n\t\n\t      return (0, _classnames2['default'])((_classNames = {}, _defineProperty(_classNames, this.state.classes[key] || '', true), _defineProperty(_classNames, 'DRAFT', true), _classNames));\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        'item-drawer': true,\n\t        SAVED: true,\n\t        COMPLETE: this.state.complete\n\t      }, this.props.className);\n\t    }\n\t  }, {\n\t    key: 'renderThumb',\n\t    value: function renderThumb(item) {\n\t      var firstImg, background;\n\t\n\t      background = item && item.rules && item.rules.background && item.rules.background.src ? item.rules.background.src : '';\n\t\n\t      firstImg = item && item.rules && item.rules.items && item.rules.items[0] && item.rules.items[0].src ? item.rules.items[0].src : item && item.rules && item.rules.messages && item.rules.messages[0] && item.rules.messages[0].src ? item.rules.messages[0].src : '';\n\t\n\t      return React.createElement(\n\t        'div',\n\t        {\n\t          className: 'thumbnail',\n\t          style: {\n\t            backgroundImage: 'url(' + background + ')'\n\t          }\n\t        },\n\t        React.createElement(skoash.Image, { src: firstImg })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderList',\n\t    value: function renderList() {\n\t      var items,\n\t          self = this;\n\t\n\t      if (!self.props.data || !self.props.data.items) return;\n\t\n\t      items = self.props.data.items;\n\t\n\t      if (!items.length) {\n\t        return React.createElement(\n\t          'li',\n\t          { className: 'empty' },\n\t          this.props.emptyMessage\n\t        );\n\t      }\n\t\n\t      return items.map(function (item, key) {\n\t        var timestamp = moment.utc(item.updated).local();\n\t        return React.createElement(\n\t          skoash.ListItem,\n\t          {\n\t            className: self.getClass(key),\n\t            ref: key,\n\t            'data-ref': key,\n\t            item: item,\n\t            key: key\n\t          },\n\t          self.renderThumb(item),\n\t          React.createElement(\n\t            'span',\n\t            { className: 'timestamp' },\n\t            React.createElement(\n\t              'span',\n\t              { className: 'date' },\n\t              timestamp.format('MM.DD.YY')\n\t            ),\n\t            React.createElement(\n\t              'span',\n\t              { className: 'time' },\n\t              timestamp.format('h:mm a')\n\t            )\n\t          )\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'ul',\n\t          { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t          this.renderList()\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SavedMessages;\n\t})(_selectable012['default']);\n\t\n\texports['default'] = SavedMessages;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsSelectable01Js = __webpack_require__(2);\n\t\n\tvar _sharedComponentsSelectable01Js2 = _interopRequireDefault(_sharedComponentsSelectable01Js);\n\t\n\tvar _sharedComponentsReveal01Js = __webpack_require__(13);\n\t\n\tvar _sharedComponentsReveal01Js2 = _interopRequireDefault(_sharedComponentsReveal01Js);\n\t\n\tvar SelectableReveal = (function (_skoash$Component) {\n\t  _inherits(SelectableReveal, _skoash$Component);\n\t\n\t  function SelectableReveal() {\n\t    _classCallCheck(this, SelectableReveal);\n\t\n\t    _get(Object.getPrototypeOf(SelectableReveal.prototype), 'constructor', this).call(this);\n\t  }\n\t\n\t  _createClass(SelectableReveal, [{\n\t    key: 'start',\n\t    value: function start() {\n\t      _get(Object.getPrototypeOf(SelectableReveal.prototype), 'start', this).call(this);\n\t      this.setState({\n\t        canSelectOnStart: this.props.canSelectOnStart\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(message) {\n\t      this.refs.reveal.open(message);\n\t    }\n\t  }, {\n\t    key: 'selectRespond',\n\t    value: function selectRespond(message) {\n\t      if (this.props.answers.length) {\n\t        if (this.props.answers.indexOf(message) === -1) {\n\t          if (this.audio.incorrect) this.audio.incorrect.play();\n\t          if (this.props.revealAll) {\n\t            if (typeof this.refs.reveal.open === 'function') {\n\t              this.open(message);\n\t            }\n\t          }\n\t        } else {\n\t          if (this.audio.correct) this.audio.correct.play();\n\t          if (typeof this.refs.reveal.open === 'function') {\n\t            this.open(message);\n\t          }\n\t        }\n\t      } else {\n\t        if (this.props.allCorrect && this.audio.correct) {\n\t          this.audio.correct.play();\n\t        }\n\t        if (typeof this.refs.reveal.open === 'function') {\n\t          this.open(message);\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'closeRespond',\n\t    value: function closeRespond() {\n\t      if (typeof this.props.closeRespond === 'function') {\n\t        this.props.closeRespond();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderAssets',\n\t    value: function renderAssets() {\n\t      if (this.props.assets) {\n\t        return this.props.assets.map(function (asset, key) {\n\t          return React.createElement(skoash.Audio, _extends({}, asset.props, {\n\t            ref: asset.ref || asset.props['data-ref'] || 'asset-' + key,\n\t            key: key,\n\t            'data-ref': key\n\t          }));\n\t        });\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'renderSelectable',\n\t    value: function renderSelectable() {\n\t      return React.createElement(_sharedComponentsSelectable01Js2['default'], {\n\t        ref: 'selectable',\n\t        list: this.props.selectableList,\n\t        selectRespond: this.selectRespond.bind(this),\n\t        selectClass: this.props.selectableSelectClass,\n\t        completeOnSelect: this.props.selectableCompleteOnSelect,\n\t        checkComplete: this.props.selectableCheckComplete,\n\t        randomizeList: this.props.randomizeSelectableList,\n\t        selectOnStart: this.props.selectOnStart,\n\t        chooseOne: this.props.chooseOne,\n\t        // answers={this.props.answers}\n\t        allowDeselect: this.props.allowDeselect\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderReveal',\n\t    value: function renderReveal() {\n\t      return React.createElement(_sharedComponentsReveal01Js2['default'], {\n\t        ref: 'reveal',\n\t        list: this.props.revealList,\n\t        assets: this.props.revealAssets,\n\t        closeRespond: this.closeRespond.bind(this),\n\t        completeOnOpen: this.props.revealCompleteOnOpen,\n\t        checkComplete: this.props.revealCheckComplete,\n\t        openOnStart: this.props.openOnStart,\n\t        hide: this.props.hideReveal,\n\t        openReveal: this.props.openReveal,\n\t        onOpen: this.props.onOpen\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClasses',\n\t    value: function getClasses() {\n\t      var classes = '';\n\t\n\t      if (this.state.complete) classes += ' COMPLETE';\n\t\n\t      return classes;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'selectable-reveal' + this.getClasses() },\n\t        this.renderAssets(),\n\t        this.renderSelectable(),\n\t        this.renderReveal()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SelectableReveal;\n\t})(skoash.Component);\n\t\n\tSelectableReveal.defaultProps = _.defaults({\n\t  answers: [],\n\t  canSelectOnStart: true\n\t}, skoash.Component.defaultProps);\n\t\n\texports['default'] = SelectableReveal;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsCanvas01 = __webpack_require__(4);\n\t\n\tvar _sharedComponentsCanvas012 = _interopRequireDefault(_sharedComponentsCanvas01);\n\t\n\tvar _sharedComponentsMenu01 = __webpack_require__(11);\n\t\n\tvar _sharedComponentsMenu012 = _interopRequireDefault(_sharedComponentsMenu01);\n\t\n\tvar _sharedComponentsSelectable01 = __webpack_require__(2);\n\t\n\tvar _sharedComponentsSelectable012 = _interopRequireDefault(_sharedComponentsSelectable01);\n\t\n\t// import Reveal from 'shared/components/reveal/0.1';\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar CanvasScreen = (function (_skoash$Screen) {\n\t  _inherits(CanvasScreen, _skoash$Screen);\n\t\n\t  function CanvasScreen() {\n\t    _classCallCheck(this, CanvasScreen);\n\t\n\t    _get(Object.getPrototypeOf(CanvasScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      load: true,\n\t      menu: {},\n\t      valid: true\n\t    };\n\t\n\t    this.rightMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'preview', onClick: this.preview.bind(this) },\n\t      React.createElement('span', null)\n\t    ), React.createElement(\n\t      'li',\n\t      { className: 'send', onClick: this.send.bind(this) },\n\t      React.createElement('span', null)\n\t    )];\n\t\n\t    this.setValid = this.setValid.bind(this);\n\t    this.closeReveal = this.closeReveal.bind(this);\n\t    this.setHasAssets = this.setHasAssets.bind(this);\n\t  }\n\t\n\t  _createClass(CanvasScreen, [{\n\t    key: 'getData',\n\t    value: function getData() {\n\t      return this.refs.canvas.getItems();\n\t    }\n\t  }, {\n\t    key: 'reset',\n\t    value: function reset() {\n\t      this.refs.canvas.reset();\n\t      this.setState({\n\t        background: false,\n\t        hasAssets: false\n\t      });\n\t    }\n\t  }, {\n\t    key: 'addItem',\n\t    value: function addItem(message) {\n\t      if (message) {\n\t        this.setState({\n\t          hasAssets: true,\n\t          background: this.state.background || message.asset_type === 'background'\n\t        });\n\t        this.refs.canvas.addItem(message, function () {\n\t          skoash.trigger('save');\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'addItems',\n\t    value: function addItems(message) {\n\t      var hasAssets, background;\n\t\n\t      hasAssets = true;\n\t      background = !!message.rules.background;\n\t\n\t      this.mapRulesStringToNumbers(message.rules);\n\t\n\t      this.refs.canvas.setItems(message.rules);\n\t\n\t      this.setState({\n\t        hasAssets: hasAssets,\n\t        background: background\n\t      });\n\t\n\t      if (message.friend_to) {\n\t        skoash.trigger('passData', {\n\t          name: 'add-recipient',\n\t          message: message.friend_to\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setMenu',\n\t    value: function setMenu() {\n\t      var menu,\n\t          state = this.props.gameState;\n\t\n\t      if (state && state.data && state.data.menu) {\n\t        menu = state.data.menu;\n\t        this.setState({\n\t          menu: menu\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'mapRulesStringToNumbers',\n\t    value: function mapRulesStringToNumbers(rules) {\n\t      if (!rules) return;\n\t\n\t      if (_.isArray(rules.items)) {\n\t        rules.items.forEach(function (item) {\n\t          item.state.left = parseFloat(item.state.left);\n\t          item.state.rotation = parseFloat(item.state.rotation);\n\t          item.state.scale = parseFloat(item.state.scale);\n\t          item.state.top = parseFloat(item.state.top);\n\t        });\n\t      }\n\t\n\t      if (_.isArray(rules.messages)) {\n\t        rules.messages.forEach(function (message) {\n\t          message.state.left = parseFloat(message.state.left);\n\t          message.state.rotation = parseFloat(message.state.rotation);\n\t          message.state.scale = parseFloat(message.state.scale);\n\t          message.state.top = parseFloat(message.state.top);\n\t        });\n\t      }\n\t\n\t      return rules;\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open() {\n\t      var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t      this.setMenu();\n\t\n\t      if (this.refs && this.refs.menu) {\n\t        this.refs.menu.deactivate();\n\t      }\n\t\n\t      if (!opts.draft) skoash.trigger('save');\n\t\n\t      // interval = setInterval(() => {\n\t      //   skoash.trigger('save');\n\t      // }, 120000);\n\t\n\t      // this.setState({\n\t      //   interval\n\t      // });\n\t\n\t      _get(Object.getPrototypeOf(CanvasScreen.prototype), 'open', this).call(this);\n\t    }\n\t  }, {\n\t    key: 'close',\n\t    value: function close() {\n\t      skoash.trigger('save');\n\t      // clearInterval(this.state.interval);\n\t      // this.setState({\n\t      //   interval: null\n\t      // });\n\t      _get(Object.getPrototypeOf(CanvasScreen.prototype), 'close', this).call(this);\n\t    }\n\t  }, {\n\t    key: 'setValid',\n\t    value: function setValid(valid) {\n\t      this.setState({\n\t        valid: valid\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setHasAssets',\n\t    value: function setHasAssets(hasAssets) {\n\t      this.setState({\n\t        hasAssets: hasAssets\n\t      });\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send() {\n\t      if (!this.state.valid) return;\n\t      this.goto('send');\n\t    }\n\t  }, {\n\t    key: 'preview',\n\t    value: function preview() {\n\t      if (!this.state.valid) return;\n\t      this.goto('preview');\n\t    }\n\t  }, {\n\t    key: 'closeReveal',\n\t    value: function closeReveal() {\n\t      if (this.refs && this.refs.reveal) {\n\t        this.refs.reveal.close();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getContainerClasses',\n\t    value: function getContainerClasses() {\n\t      return (0, _classnames2['default'])({\n\t        'canvas-container': true,\n\t        BACKGROUND: this.state.background\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getClassNames',\n\t    value: function getClassNames() {\n\t      return (0, _classnames2['default'])({\n\t        'HAS-ASSETS': this.state.hasAssets,\n\t        'INVALID': !this.state.valid\n\t      }, skoash.Screen.prototype.getClassNames.call(this));\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Frames/SK_frames_canvas.png' }),\n\t        React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Buttons/SK_btn_friend.png' }),\n\t        React.createElement(_sharedComponentsMenu012['default'], {\n\t          ref: 'menu',\n\t          items: this.state.menu.items,\n\t          level: 0,\n\t          lastLevel: 1\n\t        }),\n\t        React.createElement(\n\t          'div',\n\t          { className: this.getContainerClasses() },\n\t          React.createElement(_sharedComponentsCanvas012['default'], {\n\t            ref: 'canvas',\n\t            setValid: this.setValid,\n\t            setHasAssets: this.setHasAssets,\n\t            itemMinDim: 150\n\t          })\n\t        ),\n\t        React.createElement(_sharedComponentsSelectable012['default'], { className: 'menu right-menu', list: this.rightMenuList })\n\t      );\n\t      // move this back up below the Selectable when there is an instructional help video\n\t      /*\n\t          <Reveal\n\t            ref=\"reveal\"\n\t            openOnStart=\"0\"\n\t            list={[\n\t              <li>\n\t                <skoash.Image className=\"otter\" src={'media/_Otter/Otter_Static_GreetingTwo.png'} />\n\t                <div className=\"bubble\">\n\t                  Welcome to your canvas!<br/><br/>\n\t                  Would you like me<br/>\n\t                  to show you around?\n\t                  <div className=\"buttons\">\n\t                    <button\n\t                      className=\"yes\"\n\t                      onClick={skoash.trigger.bind(null, 'openMenu', {id: 'help'})}\n\t                    />\n\t                    <button\n\t                      className=\"no\"\n\t                      onClick={this.closeReveal}\n\t                    />\n\t                  </div>\n\t                </div>\n\t              </li>\n\t            ]}\n\t          />\n\t      */\n\t    }\n\t  }]);\n\t\n\t  return CanvasScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(CanvasScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'canvas',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsItem_drawer01Js = __webpack_require__(5);\n\t\n\tvar _sharedComponentsItem_drawer01Js2 = _interopRequireDefault(_sharedComponentsItem_drawer01Js);\n\t\n\tvar DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\t\n\tvar FriendScreen = (function (_skoash$Screen) {\n\t  _inherits(FriendScreen, _skoash$Screen);\n\t\n\t  function FriendScreen() {\n\t    _classCallCheck(this, FriendScreen);\n\t\n\t    _get(Object.getPrototypeOf(FriendScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      load: true,\n\t      complete: true,\n\t      recipient: {},\n\t      opts: {}\n\t    };\n\t  }\n\t\n\t  _createClass(FriendScreen, [{\n\t    key: 'selectRespond',\n\t    value: function selectRespond(message) {\n\t      skoash.trigger('pass-data', {\n\t        name: 'add-recipient',\n\t        goto: this.state.opts.goto,\n\t        message: message\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateData',\n\t    value: function updateData(d) {\n\t      var data = d && d.user ? d.user : this.props.gameState.data.user || [];\n\t\n\t      data = data.map(function (friend) {\n\t        var src = friend._embedded.image && friend._embedded.image.url ? friend._embedded.image.url : DEFAULT_PROFILE_IMAGE;\n\t        return {\n\t          'user_id': friend.friend_id,\n\t          name: friend.username,\n\t          src: src,\n\t          // I need to get the flips earned back from the backend to do this.\n\t          description: '',\n\t          // description: friend.flips_earned + ' Flips Earned',\n\t          'asset_type': 'friend'\n\t        };\n\t      });\n\t\n\t      this.setState({\n\t        data: data\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(opts) {\n\t      var recipient,\n\t          self = this;\n\t\n\t      self.updateData();\n\t\n\t      skoash.trigger('getData', {\n\t        name: 'getFriends'\n\t      }).then(function (data) {\n\t        self.updateData.call(self, data);\n\t      });\n\t\n\t      recipient = this.props.gameState.recipient;\n\t\n\t      self.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false,\n\t        recipient: recipient,\n\t        opts: opts\n\t      }, function () {\n\t        self.refs.drawer && self.refs.drawer.start();\n\t      });\n\t\n\t      if (!self.state.started) {\n\t        self.start();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'suggestFriends',\n\t    value: function suggestFriends() {\n\t      window.open(window.location.origin.replace('games-', '') + '/friends/suggested');\n\t    }\n\t  }, {\n\t    key: 'save',\n\t    value: function save() {\n\t      skoash.trigger('goto', {\n\t        index: 'canvas'\n\t      });\n\t      skoash.trigger('openMenu', { id: 'save' });\n\t    }\n\t  }, {\n\t    key: 'renderOtter',\n\t    value: function renderOtter() {\n\t      var copy, src;\n\t\n\t      src = 'One';\n\t      copy = React.createElement(\n\t        'span',\n\t        null,\n\t        'Don\\'t have',\n\t        React.createElement('br', null),\n\t        ' friends yet?',\n\t        React.createElement('br', null),\n\t        React.createElement('br', null),\n\t        ' Let me suggest',\n\t        React.createElement('br', null),\n\t        ' some for you.'\n\t      );\n\t\n\t      if (this.state.data && this.state.data.length) {\n\t        src = 'Two';\n\t        copy = React.createElement(\n\t          'span',\n\t          null,\n\t          'Let me find a friend',\n\t          React.createElement('br', null),\n\t          ' to send your message to.'\n\t        );\n\t      }\n\t\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'otter-container ' + src },\n\t        React.createElement(skoash.Image, { className: 'otter', src: 'media/_Otter/Otter_Static_Greeting' + src + '.png' }),\n\t        React.createElement(\n\t          'div',\n\t          { className: 'bubble' },\n\t          copy\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderFriends',\n\t    value: function renderFriends() {\n\t      if (this.state.data && this.state.data.length) {\n\t        return React.createElement(_sharedComponentsItem_drawer01Js2['default'], {\n\t          ref: 'drawer',\n\t          selectRespond: this.selectRespond.bind(this),\n\t          cancelRespond: this.back,\n\t          categories: this.state.opts.categories,\n\t          data: this.state.data,\n\t          selectedItem: this.state.recipient,\n\t          buttons: this.buttons,\n\t          complete: true,\n\t          className: this.state.opts.goto\n\t        });\n\t      }\n\t\n\t      return React.createElement(\n\t        'div',\n\t        { className: this.state.opts.goto },\n\t        React.createElement(\n\t          'div',\n\t          { className: 'item-drawer-container' },\n\t          React.createElement(\n\t            'div',\n\t            { className: 'suggest-friends-buttons' },\n\t            React.createElement('button', { className: 'continue', onClick: this.selectRespond.bind(this, {}) }),\n\t            React.createElement('button', { className: 'suggest', onClick: this.suggestFriends }),\n\t            React.createElement('button', { className: 'save-to-drafts', onClick: this.save })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement('div', { className: 'header' }),\n\t        this.renderOtter(),\n\t        this.renderFriends()\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return FriendScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(FriendScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'friends',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsSelectable_reveal01Js = __webpack_require__(15);\n\t\n\tvar _sharedComponentsSelectable_reveal01Js2 = _interopRequireDefault(_sharedComponentsSelectable_reveal01Js);\n\t\n\tvar _sharedComponentsInbox01Js = __webpack_require__(8);\n\t\n\tvar _sharedComponentsInbox01Js2 = _interopRequireDefault(_sharedComponentsInbox01Js);\n\t\n\tvar _sharedComponentsSaved_messages01Js = __webpack_require__(14);\n\t\n\tvar _sharedComponentsSaved_messages01Js2 = _interopRequireDefault(_sharedComponentsSaved_messages01Js);\n\t\n\tvar inboxEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You haven\\'t received any Skribbles!',\n\t  React.createElement('br', null),\n\t  'Get started by sending some!'\n\t);\n\tvar unreadEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You don\\'t have any',\n\t  React.createElement('br', null),\n\t  'unread Skribbles!'\n\t);\n\tvar readEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You don\\'t have any',\n\t  React.createElement('br', null),\n\t  'read Skribbles!'\n\t);\n\tvar sentEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You haven\\'t sent any Skribbles.',\n\t  React.createElement('br', null),\n\t  'Let\\'s get started!'\n\t);\n\tvar draftsEmptyMessage = React.createElement(\n\t  'span',\n\t  null,\n\t  'You don\\'t have any drafts.',\n\t  React.createElement('br', null),\n\t  'Start Skribbling!'\n\t);\n\t\n\tvar InboxScreen = (function (_skoash$Screen) {\n\t  _inherits(InboxScreen, _skoash$Screen);\n\t\n\t  function InboxScreen() {\n\t    _classCallCheck(this, InboxScreen);\n\t\n\t    _get(Object.getPrototypeOf(InboxScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      load: true\n\t    };\n\t\n\t    this.selectableList = [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)];\n\t\n\t    this.revealList = this.getRevealList();\n\t\n\t    this.readMessage = this.readMessage.bind(this);\n\t    this.editMessage = this.editMessage.bind(this);\n\t  }\n\t\n\t  _createClass(InboxScreen, [{\n\t    key: 'getRevealList',\n\t    value: function getRevealList(inbox, outbox, saved) {\n\t      var read,\n\t          unread,\n\t          props = this.props || {};\n\t\n\t      inbox = inbox || [];\n\t\n\t      read = inbox.filter(function (item) {\n\t        return item.read;\n\t      });\n\t\n\t      unread = inbox.filter(function (item) {\n\t        return !item.read;\n\t      });\n\t\n\t      return [React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_sharedComponentsInbox01Js2['default'], {\n\t          'data-ref': 'inbox',\n\t          data: {\n\t            items: inbox || []\n\t          },\n\t          emptyMessage: inboxEmptyMessage,\n\t          selectRespond: this.readMessage,\n\t          gameState: props.gameState\n\t        })\n\t      ), React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_sharedComponentsInbox01Js2['default'], {\n\t          'data-ref': 'unread',\n\t          data: {\n\t            items: unread || []\n\t          },\n\t          emptyMessage: unreadEmptyMessage,\n\t          selectRespond: this.readMessage,\n\t          gameState: props.gameState\n\t        })\n\t      ), React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_sharedComponentsInbox01Js2['default'], {\n\t          'data-ref': 'read',\n\t          data: {\n\t            items: read || []\n\t          },\n\t          emptyMessage: readEmptyMessage,\n\t          selectRespond: this.readMessage,\n\t          gameState: props.gameState\n\t        })\n\t      ), React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_sharedComponentsInbox01Js2['default'], {\n\t          'data-ref': 'outbox',\n\t          data: {\n\t            items: outbox || []\n\t          },\n\t          emptyMessage: sentEmptyMessage,\n\t          friendKey: 'friend_to',\n\t          selectRespond: this.readMessage,\n\t          gameState: props.gameState\n\t        })\n\t      ), React.createElement(\n\t        'li',\n\t        null,\n\t        React.createElement(_sharedComponentsSaved_messages01Js2['default'], {\n\t          'data-ref': 'saved',\n\t          data: {\n\t            items: saved || []\n\t          },\n\t          emptyMessage: draftsEmptyMessage,\n\t          selectRespond: this.editMessage\n\t        })\n\t      )];\n\t    }\n\t  }, {\n\t    key: 'editMessage',\n\t    value: function editMessage(message) {\n\t      skoash.trigger('loadSkribble', {\n\t        message: message\n\t      });\n\t    }\n\t  }, {\n\t    key: 'readMessage',\n\t    value: function readMessage(message) {\n\t      skoash.trigger('goto', {\n\t        index: 'read',\n\t        message: message\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateData',\n\t    value: function updateData() {\n\t      var data, inbox, outbox, saved;\n\t\n\t      data = this.props.gameState.data;\n\t      inbox = data.received;\n\t      outbox = data.sent;\n\t      saved = data.draft;\n\t\n\t      this.revealList = this.getRevealList(inbox, outbox, saved);\n\t\n\t      this.setState({\n\t        inbox: inbox,\n\t        outbox: outbox,\n\t        saved: saved\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open() {\n\t      var self = this;\n\t\n\t      skoash.trigger('getData', {\n\t        status: 'received'\n\t      }).then(function () {\n\t        self.updateData();\n\t      });\n\t\n\t      skoash.trigger('getData', {\n\t        status: 'sent'\n\t      }).then(function () {\n\t        self.updateData();\n\t      });\n\t\n\t      skoash.trigger('getData', {\n\t        status: 'draft'\n\t      }).then(function () {\n\t        self.updateData();\n\t      });\n\t\n\t      self.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false\n\t      });\n\t\n\t      setTimeout(function () {\n\t        if (!self.state.started) {\n\t          self.start();\n\t        }\n\t      }, 250);\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'div',\n\t          { className: 'center' },\n\t          React.createElement(\n\t            'div',\n\t            { className: 'frame' },\n\t            React.createElement(_sharedComponentsSelectable_reveal01Js2['default'], {\n\t              ref: 'selectableReveal',\n\t              selectableList: this.selectableList,\n\t              revealList: this.revealList,\n\t              selectOnStart: '0',\n\t              openOnStart: '0'\n\t            })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return InboxScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(InboxScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'inbox',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsItem_drawer01Js = __webpack_require__(5);\n\t\n\tvar _sharedComponentsItem_drawer01Js2 = _interopRequireDefault(_sharedComponentsItem_drawer01Js);\n\t\n\tvar ItemDrawerScreen = (function (_skoash$Screen) {\n\t  _inherits(ItemDrawerScreen, _skoash$Screen);\n\t\n\t  function ItemDrawerScreen() {\n\t    _classCallCheck(this, ItemDrawerScreen);\n\t\n\t    _get(Object.getPrototypeOf(ItemDrawerScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      opts: {\n\t        categories: []\n\t      }\n\t    };\n\t  }\n\t\n\t  _createClass(ItemDrawerScreen, [{\n\t    key: 'selectRespond',\n\t    value: function selectRespond(message) {\n\t      skoash.trigger('pass-data', {\n\t        name: 'add-item',\n\t        message: message\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateData',\n\t    value: function updateData(d) {\n\t      var data = d ? d : this.props.gameState.data.menu.items;\n\t\n\t      this.state.opts.categories.forEach(function (key) {\n\t        if (data[key]) data = data[key];\n\t        if (data.items) data = data.items;\n\t      });\n\t\n\t      data = _.values(data);\n\t\n\t      this.setState({\n\t        data: data\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(opts) {\n\t      var self = this;\n\t\n\t      skoash.trigger('getMedia', {\n\t        path: 'skribble/menu/' + opts.categories.join('/')\n\t      }).then(function (data) {\n\t        self.updateData(data);\n\t      });\n\t\n\t      self.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false,\n\t        opts: opts,\n\t        data: null\n\t      }, function () {\n\t        self.updateData();\n\t      });\n\t\n\t      setTimeout(function () {\n\t        if (!self.state.started) {\n\t          self.start();\n\t        }\n\t      }, 250);\n\t    }\n\t  }, {\n\t    key: 'cancelRespond',\n\t    value: function cancelRespond() {\n\t      if (this.state.category) {\n\t        this.setState({\n\t          category: '',\n\t          categoryName: ''\n\t        });\n\t      } else {\n\t        skoash.trigger('goto', { index: 'canvas' });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(_sharedComponentsItem_drawer01Js2['default'], {\n\t          ref: 'drawer',\n\t          selectRespond: this.selectRespond.bind(this),\n\t          cancelRespond: this.cancelRespond,\n\t          categories: this.state.opts.categories,\n\t          data: this.state.data\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ItemDrawerScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(ItemDrawerScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'item-drawer',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar MenuScreen = (function (_skoash$Screen) {\n\t  _inherits(MenuScreen, _skoash$Screen);\n\t\n\t  function MenuScreen() {\n\t    _classCallCheck(this, MenuScreen);\n\t\n\t    _get(Object.getPrototypeOf(MenuScreen.prototype), \"constructor\", this).apply(this, arguments);\n\t  }\n\t\n\t  _createClass(MenuScreen, [{\n\t    key: \"renderContent\",\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        \"div\",\n\t        null,\n\t        React.createElement(skoash.Image, { className: \"hidden\", src: \"media/_Background/SK_BKG_1.png\" }),\n\t        React.createElement(skoash.Image, { className: \"otter\", src: \"media/_Otter/Waving_Otter2.gif\" }),\n\t        React.createElement(\n\t          \"div\",\n\t          { className: \"bubble\" },\n\t          \"Hi there!\",\n\t          React.createElement(\"br\", null),\n\t          \"What would you\",\n\t          React.createElement(\"br\", null),\n\t          \"like to do today?\"\n\t        ),\n\t        React.createElement(\n\t          \"div\",\n\t          { className: \"buttons\" },\n\t          React.createElement(\"button\", { className: \"make\", onClick: this.goto.bind(this, 'friend') }),\n\t          React.createElement(\"button\", { className: \"read\", onClick: this.goto.bind(this, 'inbox') })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return MenuScreen;\n\t})(skoash.Screen);\n\t\n\texports[\"default\"] = function (props, ref, key) {\n\t  return React.createElement(MenuScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: \"menu\",\n\t    hidePrev: true,\n\t    hideNext: true,\n\t    load: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsCanvas01 = __webpack_require__(4);\n\t\n\tvar _sharedComponentsCanvas012 = _interopRequireDefault(_sharedComponentsCanvas01);\n\t\n\tvar _sharedComponentsSelectable01Js = __webpack_require__(2);\n\t\n\tvar _sharedComponentsSelectable01Js2 = _interopRequireDefault(_sharedComponentsSelectable01Js);\n\t\n\tvar classNameText = {\n\t  skribbleBox: 'skribble-box',\n\t  box: 'box',\n\t  leftMenu: 'menu left-menu',\n\t  rightMenu: 'menu right-menu'\n\t};\n\t\n\tvar refs = {\n\t  box: 'box',\n\t  canvas: 'canvas'\n\t};\n\t\n\tvar PreviewScreen = (function (_skoash$Screen) {\n\t  _inherits(PreviewScreen, _skoash$Screen);\n\t\n\t  function PreviewScreen() {\n\t    _classCallCheck(this, PreviewScreen);\n\t\n\t    _get(Object.getPrototypeOf(PreviewScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      load: true,\n\t      opts: {}\n\t    };\n\t\n\t    this.leftMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'edit', onClick: this.goto.bind(this, 'canvas') },\n\t      React.createElement('span', null)\n\t    )];\n\t\n\t    this.rightMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'send', onClick: this.goto.bind(this, 'send') },\n\t      React.createElement('span', null)\n\t    )];\n\t  }\n\t\n\t  _createClass(PreviewScreen, [{\n\t    key: 'open',\n\t    value: function open(opts) {\n\t      var _this = this;\n\t\n\t      skoash.trigger('getRules').then(function (rules) {\n\t        _this.refs[refs.box].refs[refs.canvas].setItems(rules);\n\t        _get(Object.getPrototypeOf(PreviewScreen.prototype), 'open', _this).call(_this, opts);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          skoash.Component,\n\t          { ref: refs.box, className: classNameText.skribbleBox },\n\t          React.createElement(_sharedComponentsCanvas012['default'], { ref: refs.canvas, preview: true }),\n\t          React.createElement('div', { className: classNameText.box })\n\t        ),\n\t        React.createElement(_sharedComponentsSelectable01Js2['default'], { className: classNameText.leftMenu, list: this.leftMenuList }),\n\t        React.createElement(_sharedComponentsSelectable01Js2['default'], { className: classNameText.rightMenu, list: this.rightMenuList })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return PreviewScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(PreviewScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'preview',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _sharedComponentsSelectable01Js = __webpack_require__(2);\n\t\n\tvar _sharedComponentsSelectable01Js2 = _interopRequireDefault(_sharedComponentsSelectable01Js);\n\t\n\tvar classNameText = {\n\t  skribbleBox: 'skribble-box',\n\t  box: 'box',\n\t  leftMenu: 'menu left-menu',\n\t  rightMenu: 'menu right-menu',\n\t  sender: 'menu recipient sender'\n\t};\n\t\n\tvar refs = {\n\t  box: 'box'\n\t};\n\t\n\tvar ReadScreen = (function (_skoash$Screen) {\n\t  _inherits(ReadScreen, _skoash$Screen);\n\t\n\t  function ReadScreen() {\n\t    _classCallCheck(this, ReadScreen);\n\t\n\t    _get(Object.getPrototypeOf(ReadScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state.load = true;\n\t    this.state.message = { user: {} };\n\t\n\t    this.leftMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'inbox', onClick: this.goto.bind(this, 'inbox') },\n\t      React.createElement('span', null)\n\t    )];\n\t\n\t    this.rightMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'reply', onClick: this.reply.bind(this) },\n\t      React.createElement('span', null)\n\t    )];\n\t  }\n\t\n\t  _createClass(ReadScreen, [{\n\t    key: 'reply',\n\t    value: function reply() {\n\t      skoash.trigger('passData', {\n\t        name: 'add-recipient',\n\t        message: this.state.message.created_by\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(opts) {\n\t      var message, friends, creater;\n\t\n\t      message = opts.message || {};\n\t\n\t      friends = this.props.gameState.data.user || [];\n\t      friends.forEach(function (friend) {\n\t        if (message.created_by === friend.friend_id) {\n\t          creater = friend;\n\t        }\n\t      });\n\t\n\t      this.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false,\n\t        message: message,\n\t        creater: creater\n\t      });\n\t\n\t      this.start();\n\t\n\t      skoash.trigger('getData', {\n\t        name: 'markAsRead',\n\t        'skribble_id': message.skribble_id\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getSenderClassNames',\n\t    value: function getSenderClassNames() {\n\t      return (0, _classnames2['default'])(classNameText.sender, {\n\t        HIDE: !this.state.creater || this.state.message.sent\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderSender',\n\t    value: function renderSender() {\n\t      var creater,\n\t          content = [];\n\t\n\t      creater = this.state.creater;\n\t\n\t      if (!creater) return;\n\t\n\t      if (creater.username) {\n\t        content.push(React.createElement(\n\t          'span',\n\t          { className: 'name' },\n\t          creater.username\n\t        ));\n\t      }\n\t\n\t      if (creater._embedded.image) {\n\t        content.push(React.createElement('img', { className: 'profile-image', src: creater._embedded.image.url }));\n\t      }\n\t\n\t      return content;\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'ul',\n\t          { className: this.getSenderClassNames() },\n\t          React.createElement(\n\t            'li',\n\t            null,\n\t            React.createElement(\n\t              'span',\n\t              null,\n\t              this.renderSender()\n\t            )\n\t          )\n\t        ),\n\t        React.createElement(\n\t          skoash.Component,\n\t          { ref: refs.box, className: classNameText.skribbleBox },\n\t          React.createElement(skoash.Image, { src: this.state.message.url }),\n\t          React.createElement('div', { className: classNameText.box })\n\t        ),\n\t        React.createElement(_sharedComponentsSelectable01Js2['default'], { className: classNameText.leftMenu, list: this.leftMenuList }),\n\t        React.createElement(_sharedComponentsSelectable01Js2['default'], { className: classNameText.rightMenu, list: this.rightMenuList })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ReadScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(ReadScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'read',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SaveMenu = (function (_skoash$Screen) {\n\t  _inherits(SaveMenu, _skoash$Screen);\n\t\n\t  function SaveMenu() {\n\t    _classCallCheck(this, SaveMenu);\n\t\n\t    _get(Object.getPrototypeOf(SaveMenu.prototype), \"constructor\", this).apply(this, arguments);\n\t  }\n\t\n\t  _createClass(SaveMenu, [{\n\t    key: \"cancel\",\n\t    value: function cancel() {\n\t      this.close();\n\t      skoash.trigger('menuClose', {\n\t        id: this.state.id\n\t      });\n\t    }\n\t  }, {\n\t    key: \"render\",\n\t    value: function render() {\n\t      return React.createElement(\n\t        \"div\",\n\t        { id: this.props.id, className: this.getClassNames() },\n\t        React.createElement(\n\t          \"div\",\n\t          { className: \"center\" },\n\t          React.createElement(\n\t            \"div\",\n\t            { className: \"frame\" },\n\t            React.createElement(\"button\", { className: \"quit-saved\", onClick: this.cancel.bind(this) }),\n\t            React.createElement(\n\t              \"h2\",\n\t              null,\n\t              \"Your progress\"\n\t            ),\n\t            React.createElement(\n\t              \"h2\",\n\t              null,\n\t              \"has been saved\"\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SaveMenu;\n\t})(skoash.Screen);\n\t\n\texports[\"default\"] = React.createElement(SaveMenu, {\n\t  id: \"save\"\n\t});\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _sharedComponentsSelectable01Js = __webpack_require__(2);\n\t\n\tvar _sharedComponentsSelectable01Js2 = _interopRequireDefault(_sharedComponentsSelectable01Js);\n\t\n\tvar classNameText = {\n\t  yourMessageTo: 'your-message-to',\n\t  isReady: 'is-ready',\n\t  changeFriend: 'change-friend',\n\t  character: 'character',\n\t  gift: 'gift',\n\t  header: 'header',\n\t  username: 'username'\n\t};\n\t\n\tvar SendScreen = (function (_skoash$Screen) {\n\t  _inherits(SendScreen, _skoash$Screen);\n\t\n\t  function SendScreen() {\n\t    _classCallCheck(this, SendScreen);\n\t\n\t    _get(Object.getPrototypeOf(SendScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state.load = true;\n\t    this.state.recipient = {};\n\t\n\t    this.rightMenuList = [React.createElement(\n\t      'li',\n\t      { className: 'edit-right', onClick: this.goto.bind(this, 'canvas') },\n\t      React.createElement('span', null)\n\t    ), React.createElement(\n\t      'li',\n\t      { className: 'send', onClick: this.send },\n\t      React.createElement('span', null)\n\t    )];\n\t  }\n\t\n\t  _createClass(SendScreen, [{\n\t    key: 'open',\n\t    value: function open() {\n\t      var recipient = this.props.gameState.recipient || {};\n\t\n\t      this.setState({\n\t        load: true,\n\t        open: true,\n\t        leave: false,\n\t        close: false,\n\t        recipient: recipient\n\t      });\n\t\n\t      this.start();\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send() {\n\t      skoash.trigger('pass-data', {\n\t        name: 'send'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      var changeFriendClick = this.goto.bind(this, {\n\t        index: 'friend',\n\t        goto: 'send'\n\t      });\n\t\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'div',\n\t          { className: classNameText.header },\n\t          React.createElement('span', { className: classNameText.yourMessageTo }),\n\t          React.createElement(\n\t            'span',\n\t            { className: classNameText.username },\n\t            this.state.recipient.name\n\t          ),\n\t          React.createElement('br', null),\n\t          React.createElement('span', { className: classNameText.isReady }),\n\t          React.createElement('button', { className: classNameText.changeFriend, onClick: changeFriendClick })\n\t        ),\n\t        React.createElement(\n\t          'div',\n\t          { className: classNameText.character },\n\t          React.createElement(skoash.Image, { className: 'otter', src: 'media/_Otter/Otter_Static_GreetingTwo.png' }),\n\t          React.createElement(\n\t            'div',\n\t            { className: 'bubble' },\n\t            'Are you sure',\n\t            React.createElement('br', null),\n\t            'you are ready to',\n\t            React.createElement('br', null),\n\t            'send your message?'\n\t          )\n\t        ),\n\t        React.createElement('div', { className: classNameText.gift }),\n\t        React.createElement(_sharedComponentsSelectable01Js2['default'], { className: 'menu right-menu', list: this.rightMenuList })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SendScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(SendScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'send',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t  character: 'character',\n\t  header: 'header',\n\t  yourMessageTo: 'your-message-to',\n\t  username: 'username',\n\t  isReady: 'is-ready',\n\t  buttons: 'buttons',\n\t  createAnother: 'create-another',\n\t  inbox: 'inbox'\n\t};\n\t\n\tvar text = {\n\t  yourMessageTo: 'YOUR MESSAGE TO:',\n\t  hasBeenSent: 'IS BEING SENT!'\n\t};\n\t\n\tvar SentScreen = (function (_skoash$Screen) {\n\t  _inherits(SentScreen, _skoash$Screen);\n\t\n\t  function SentScreen() {\n\t    _classCallCheck(this, SentScreen);\n\t\n\t    _get(Object.getPrototypeOf(SentScreen.prototype), 'constructor', this).call(this);\n\t\n\t    this.state = {\n\t      load: true,\n\t      opts: {\n\t        recipient: {}\n\t      }\n\t    };\n\t  }\n\t\n\t  _createClass(SentScreen, [{\n\t    key: 'renderContent',\n\t    value: function renderContent() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement('div', { className: classNameText.character }),\n\t        React.createElement(\n\t          'div',\n\t          { className: classNameText.header },\n\t          React.createElement(\n\t            'span',\n\t            { className: classNameText.yourMessageTo },\n\t            text.yourMessageTo\n\t          ),\n\t          React.createElement(\n\t            'span',\n\t            { className: classNameText.username },\n\t            this.state.opts.recipient.name\n\t          ),\n\t          React.createElement('br', null),\n\t          React.createElement(\n\t            'span',\n\t            { className: classNameText.isReady },\n\t            text.hasBeenSent\n\t          )\n\t        ),\n\t        React.createElement(\n\t          'div',\n\t          { className: classNameText.buttons },\n\t          React.createElement('button', { className: classNameText.createAnother, onClick: this.goto.bind(this, 'friend') }),\n\t          React.createElement('button', { className: classNameText.inbox, onClick: this.goto.bind(this, 'inbox') })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SentScreen;\n\t})(skoash.Screen);\n\t\n\texports['default'] = function (props, ref, key) {\n\t  return React.createElement(SentScreen, _extends({}, props, {\n\t    ref: ref,\n\t    key: key,\n\t    id: 'sent',\n\t    hideNext: true,\n\t    hidePrev: true\n\t  }));\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports[\"default\"] = function (props, ref, key) {\n\t  return React.createElement(\n\t    skoash.Screen,\n\t    _extends({}, props, {\n\t      ref: ref,\n\t      key: key,\n\t      id: \"title\",\n\t      hidePrev: true,\n\t      nextDelay: 1000,\n\t      nextIndex: \"menu\"\n\t    }),\n\t    React.createElement(skoash.Image, {\n\t      ref: \"title\",\n\t      className: \"title animated\",\n\t      src: \"media/_Title/SKribble_title.png\"\n\t    }),\n\t    React.createElement(skoash.Image, {\n\t      ref: \"play\",\n\t      className: \"hidden\",\n\t      src: \"media/_Buttons/skribble-play-01.png\"\n\t    }),\n\t    React.createElement(skoash.Image, {\n\t      ref: \"play-hover\",\n\t      className: \"hidden\",\n\t      src: \"media/_Buttons/skribble-hover.png\"\n\t    })\n\t  );\n\t};\n\t\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\tvar config = {\n\t  id: 'skribble',\n\t  version: 1,\n\t  skoash: '1.0.3',\n\t  dimensions: {\n\t    width: 1600,\n\t    ratio: 16 / 9\n\t  }\n\t};\n\t\n\texports['default'] = config;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _configGame = __webpack_require__(27);\n\t\n\tvar _configGame2 = _interopRequireDefault(_configGame);\n\t\n\tvar _sharedComponentsLoader01 = __webpack_require__(10);\n\t\n\tvar _sharedComponentsLoader012 = _interopRequireDefault(_sharedComponentsLoader01);\n\t\n\tvar _sharedComponentsIos_splash_screen01 = __webpack_require__(9);\n\t\n\tvar _sharedComponentsIos_splash_screen012 = _interopRequireDefault(_sharedComponentsIos_splash_screen01);\n\t\n\tvar _componentsTitle_screen = __webpack_require__(26);\n\t\n\tvar _componentsTitle_screen2 = _interopRequireDefault(_componentsTitle_screen);\n\t\n\tvar _componentsMenu_screen = __webpack_require__(20);\n\t\n\tvar _componentsMenu_screen2 = _interopRequireDefault(_componentsMenu_screen);\n\t\n\tvar _componentsFriend_screen = __webpack_require__(17);\n\t\n\tvar _componentsFriend_screen2 = _interopRequireDefault(_componentsFriend_screen);\n\t\n\tvar _componentsCanvas_screen = __webpack_require__(16);\n\t\n\tvar _componentsCanvas_screen2 = _interopRequireDefault(_componentsCanvas_screen);\n\t\n\tvar _componentsItem_drawer_screen = __webpack_require__(19);\n\t\n\tvar _componentsItem_drawer_screen2 = _interopRequireDefault(_componentsItem_drawer_screen);\n\t\n\tvar _componentsInbox_screen = __webpack_require__(18);\n\t\n\tvar _componentsInbox_screen2 = _interopRequireDefault(_componentsInbox_screen);\n\t\n\tvar _componentsPreview_screen = __webpack_require__(21);\n\t\n\tvar _componentsPreview_screen2 = _interopRequireDefault(_componentsPreview_screen);\n\t\n\tvar _componentsSend_screen = __webpack_require__(24);\n\t\n\tvar _componentsSend_screen2 = _interopRequireDefault(_componentsSend_screen);\n\t\n\tvar _componentsSent_screen = __webpack_require__(25);\n\t\n\tvar _componentsSent_screen2 = _interopRequireDefault(_componentsSent_screen);\n\t\n\tvar _componentsRead_screen = __webpack_require__(22);\n\t\n\tvar _componentsRead_screen2 = _interopRequireDefault(_componentsRead_screen);\n\t\n\tvar _sharedComponentsQuit_screen01 = __webpack_require__(12);\n\t\n\tvar _sharedComponentsQuit_screen012 = _interopRequireDefault(_sharedComponentsQuit_screen01);\n\t\n\tvar _componentsSave_menu = __webpack_require__(23);\n\t\n\tvar _componentsSave_menu2 = _interopRequireDefault(_componentsSave_menu);\n\t\n\tvar DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\t\n\tvar Skribble = (function (_skoash$Game) {\n\t  _inherits(Skribble, _skoash$Game);\n\t\n\t  function Skribble() {\n\t    _classCallCheck(this, Skribble);\n\t\n\t    _get(Object.getPrototypeOf(Skribble.prototype), 'constructor', this).call(this, _configGame2['default']);\n\t\n\t    this.screens = {\n\t      0: _sharedComponentsIos_splash_screen012['default'],\n\t      1: _componentsTitle_screen2['default'],\n\t      menu: _componentsMenu_screen2['default'],\n\t      friend: _componentsFriend_screen2['default'],\n\t      canvas: _componentsCanvas_screen2['default'],\n\t      'item-drawer': _componentsItem_drawer_screen2['default'],\n\t      inbox: _componentsInbox_screen2['default'],\n\t      preview: _componentsPreview_screen2['default'],\n\t      send: _componentsSend_screen2['default'],\n\t      sent: _componentsSent_screen2['default'],\n\t      read: _componentsRead_screen2['default']\n\t    };\n\t\n\t    this.menus = {\n\t      quit: _sharedComponentsQuit_screen012['default'],\n\t      save: _componentsSave_menu2['default']\n\t    };\n\t\n\t    this.state.data.screens = _.map(this.screens, function () {\n\t      return {};\n\t    });\n\t\n\t    this.getFriends = _.throttle(this.getData.bind(this, { name: 'getFriends' }), 1000);\n\t    this.getMediaOnReady = _.throttle(this.getMedia.bind(this), 1000);\n\t  }\n\t\n\t  _createClass(Skribble, [{\n\t    key: 'goto',\n\t    value: function goto(opts) {\n\t      if (opts.index === 'send') {\n\t        if (!this.state.recipient || !this.state.recipient.name) {\n\t          opts.index = 'friend';\n\t          opts.goto = 'send';\n\t        }\n\t      }\n\t\n\t      _get(Object.getPrototypeOf(Skribble.prototype), 'goto', this).call(this, opts);\n\t    }\n\t  }, {\n\t    key: 'ready',\n\t    value: function ready() {\n\t      if (!this.state.ready) {\n\t        this.getMediaOnReady();\n\t        this.getFriends();\n\t      }\n\t\n\t      _get(Object.getPrototypeOf(Skribble.prototype), 'ready', this).call(this);\n\t    }\n\t  }, {\n\t    key: 'getRules',\n\t    value: function getRules() {\n\t      return this.refs['screen-canvas'].getData();\n\t    }\n\t  }, {\n\t    key: 'save',\n\t    value: function save(e, skramble) {\n\t      /* eslint-disable camelcase */\n\t      var friend_to,\n\t          rules,\n\t          self = this;\n\t      friend_to = self.state.recipient && self.state.recipient.user_id ? self.state.recipient.user_id : null;\n\t      rules = self.getRules();\n\t      var skribble = _extends({\n\t        'version': _configGame2['default'].version\n\t      }, self.state.skribbleData, {\n\t        friend_to: friend_to,\n\t        skramble: skramble,\n\t        rules: rules\n\t      });\n\t\n\t      if (!rules.background && !rules.items.length && !rules.messages.length) {\n\t        return;\n\t      }\n\t\n\t      if (JSON.stringify(skribble) !== JSON.stringify(this.state.skribble)) {\n\t        self.emit({\n\t          name: 'saveSkribble',\n\t          game: self.config.id,\n\t          skribble: skribble\n\t        }).then(function (skribbleData) {\n\t          self.setState({\n\t            skribbleData: skribbleData,\n\t            skribble: skribble\n\t          });\n\t        });\n\t      }\n\t      /* eslint-enable camelcase */\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send() {\n\t      this.save(null, true);\n\t\n\t      this.refs['screen-canvas'].reset();\n\t      this.goto({\n\t        index: 'sent',\n\t        recipient: this.state.recipient\n\t      });\n\t\n\t      this.setState({\n\t        recipient: null,\n\t        skribbleData: null\n\t      });\n\t    }\n\t  }, {\n\t    key: 'trigger',\n\t    value: function trigger(event, opts) {\n\t      switch (event) {\n\t        case 'save':\n\t          return this.save();\n\t        case 'getMedia':\n\t          return this.getMedia(opts.path);\n\t        case 'getRules':\n\t          return this.getRules();\n\t        case 'loadSkribble':\n\t          return this.loadSkribble(opts);\n\t      }\n\t\n\t      return _get(Object.getPrototypeOf(Skribble.prototype), 'trigger', this).call(this, event, opts);\n\t    }\n\t  }, {\n\t    key: 'loadSkribble',\n\t    value: function loadSkribble(opts) {\n\t      var _this = this;\n\t\n\t      this.setState({\n\t        skribbleData: opts.message\n\t      }, function () {\n\t        _this.refs['screen-canvas'].addItems(opts.message);\n\t        _this.goto({\n\t          index: 'canvas',\n\t          draft: true\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getMedia',\n\t    value: function getMedia(path) {\n\t      var pathArray,\n\t          self = this;\n\t\n\t      path = path || 'skribble/menu';\n\t      pathArray = path.split('/');\n\t      pathArray.shift();\n\t\n\t      return self.emit({\n\t        name: 'getMedia',\n\t        path: path\n\t      }).then(function (d) {\n\t        var opts, currentOpts;\n\t        opts = {\n\t          data: {},\n\t          callback: function callback() {\n\t            self.refs['screen-canvas'].setMenu();\n\t            self.refs['screen-item-drawer'].updateData();\n\t          }\n\t        };\n\t        currentOpts = opts.data;\n\t\n\t        pathArray.forEach(function (key, index) {\n\t          currentOpts[key] = {\n\t            items: {}\n\t          };\n\t          if (index !== pathArray.length - 1) {\n\t            currentOpts = currentOpts[key].items;\n\t          }\n\t        });\n\t\n\t        currentOpts[pathArray[pathArray.length - 1]] = _.clone(d);\n\t        currentOpts[pathArray[pathArray.length - 1]].items = {};\n\t\n\t        if (d.items) {\n\t          d.items.forEach(function (item) {\n\t            if (item.asset_type === 'folder' && item.name) {\n\t              self.getMedia(path + '/' + item.name);\n\t            } else {\n\t              currentOpts[pathArray[pathArray.length - 1]].items[item.name] = item;\n\t            }\n\t          });\n\t        }\n\t\n\t        self.updateData(opts);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getData',\n\t    value: function getData(opts) {\n\t      var _this2 = this;\n\t\n\t      var names = ['getFriends', 'getFriend', 'markAsRead'];\n\t\n\t      if (names.indexOf(opts.name) === -1) {\n\t        opts.name = 'getData';\n\t      }\n\t\n\t      return this.emit(opts).then(function (data) {\n\t        if (opts.status) {\n\t          data[opts.status] = data.skribble;\n\t          delete data.skribble;\n\t          _this2.updateData({\n\t            data: data\n\t          });\n\t        } else {\n\t          _this2.updateData({\n\t            data: data,\n\t            callback: opts.callback\n\t          });\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'passData',\n\t    value: function passData(opts) {\n\t      if (opts.name === 'add-item') {\n\t        this.refs['screen-canvas'].addItem(opts.message);\n\t        this.goto({ index: 'canvas' });\n\t      } else if (opts.name === 'add-recipient') {\n\t        this.addRecipient(opts.message, this.goto.bind(this, { index: opts.goto || 'canvas' }));\n\t      } else if (opts.name === 'send') {\n\t        this.send();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'addRecipient',\n\t    value: function addRecipient(recipient, cb) {\n\t      var _this3 = this;\n\t\n\t      var src;\n\t\n\t      if (recipient.src) {\n\t        recipient.profile_image = recipient.src; // eslint-disable-line camelcase\n\t        delete recipient.src;\n\t      } else if (typeof recipient === 'string') {\n\t        if (this.state.data && this.state.data.user) {\n\t          this.state.data.user.some(function (friend) {\n\t            if (friend.friend_id === recipient) {\n\t              recipient = friend;\n\t              return true;\n\t            }\n\t            return false;\n\t          });\n\t        }\n\t      }\n\t\n\t      if (typeof recipient === 'string') {\n\t        this.getData({\n\t          name: 'getFriend',\n\t          'friend_id': recipient,\n\t          callback: function callback() {\n\t            _this3.addRecipient(recipient, cb);\n\t          }\n\t        });\n\t      } else {\n\t        src = recipient && recipient._embedded && recipient._embedded.image && recipient._embedded.image.url ? recipient._embedded.image.url : recipient.profile_image || DEFAULT_PROFILE_IMAGE;\n\t        this.setState({\n\t          recipient: {\n\t            'user_id': recipient.user_id || recipient.friend_id,\n\t            name: recipient.name || recipient.username,\n\t            src: src,\n\t            // I need to get the flips earned back from the backend to do this.\n\t            description: '',\n\t            // description: friend.flips_earned + ' Flips Earned',\n\t            'asset_type': 'friend'\n\t          }\n\t        }, cb);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'clickRecipient',\n\t    value: function clickRecipient() {\n\t      this.goto({\n\t        index: 'friend'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'create',\n\t    value: function create() {\n\t      if (this.state.recipient) {\n\t        this.goto({ index: 'canvas' });\n\t      } else {\n\t        this.goto({ index: 'friend' });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'saveButton',\n\t    value: function saveButton() {\n\t      this.save();\n\t      this.openMenu({ id: 'save' });\n\t    }\n\t  }, {\n\t    key: 'renderLoader',\n\t    value: function renderLoader() {\n\t      return React.createElement(_sharedComponentsLoader012['default'], null);\n\t    }\n\t  }, {\n\t    key: 'renderAssets',\n\t    value: function renderAssets() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement('div', { className: 'background-1' }),\n\t        React.createElement('div', { className: 'background-2' }),\n\t        React.createElement('div', { className: 'background-3' }),\n\t        React.createElement('div', { className: 'background-4' }),\n\t        React.createElement('div', { className: 'background-5' }),\n\t        React.createElement('div', { className: 'background-6' })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderRecipient',\n\t    value: function renderRecipient() {\n\t      var recipient = this.state.recipient,\n\t          content = [];\n\t\n\t      if (!recipient) return;\n\t\n\t      if (recipient.name) {\n\t        content.push(React.createElement(\n\t          'span',\n\t          { className: 'name' },\n\t          recipient.name\n\t        ));\n\t      }\n\t\n\t      if (recipient.profile_image) {\n\t        content.push(React.createElement('img', { className: 'profile-image', src: recipient.profile_image }));\n\t      }\n\t\n\t      return content;\n\t    }\n\t  }, {\n\t    key: 'renderMenu',\n\t    value: function renderMenu() {\n\t      return React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'div',\n\t          { className: 'game-menu' },\n\t          React.createElement('button', { className: 'save', onClick: this.saveButton.bind(this) }),\n\t          React.createElement('button', { className: 'inbox', onClick: this.goto.bind(this, { index: 'inbox' }) }),\n\t          React.createElement('button', { className: 'create', onClick: this.create.bind(this) }),\n\t          React.createElement('button', { className: 'help', onClick: this.openMenu.bind(this, { id: 'help' }) }),\n\t          React.createElement('button', { className: 'close', onClick: this.openMenu.bind(this, { id: 'quit' }) })\n\t        ),\n\t        React.createElement(\n\t          'ul',\n\t          { className: 'menu recipient' },\n\t          React.createElement(\n\t            'li',\n\t            { onClick: this.clickRecipient.bind(this) },\n\t            React.createElement(\n\t              'span',\n\t              null,\n\t              this.renderRecipient()\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Skribble;\n\t})(skoash.Game);\n\t\n\tskoash.start(Skribble, _configGame2['default'].id);\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tmodule.exports = __webpack_require__(32);\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar alphabet = __webpack_require__(3);\n\t\n\t/**\n\t * Decode the id to get the version and worker\n\t * Mainly for debugging and testing.\n\t * @param id - the shortid-generated id.\n\t */\n\tfunction decode(id) {\n\t    var characters = alphabet.shuffled();\n\t    return {\n\t        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n\t        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n\t    };\n\t}\n\t\n\tmodule.exports = decode;\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar randomByte = __webpack_require__(34);\n\t\n\tfunction encode(lookup, number) {\n\t    var loopCounter = 0;\n\t    var done;\n\t\n\t    var str = '';\n\t\n\t    while (!done) {\n\t        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n\t        done = number < (Math.pow(16, loopCounter + 1 ) );\n\t        loopCounter++;\n\t    }\n\t    return str;\n\t}\n\t\n\tmodule.exports = encode;\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar alphabet = __webpack_require__(3);\n\tvar encode = __webpack_require__(31);\n\tvar decode = __webpack_require__(30);\n\tvar isValid = __webpack_require__(33);\n\t\n\t// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n\t// This number should be updated every year or so to keep the generated id short.\n\t// To regenerate `new Date() - 0` and bump the version. Always bump the version!\n\tvar REDUCE_TIME = 1459707606518;\n\t\n\t// don't change unless we change the algos or REDUCE_TIME\n\t// must be an integer and less than 16\n\tvar version = 6;\n\t\n\t// if you are using cluster or multiple servers use this to make each instance\n\t// has a unique value for worker\n\t// Note: I don't know if this is automatically set when using third\n\t// party cluster solutions such as pm2.\n\tvar clusterWorkerId = __webpack_require__(36) || 0;\n\t\n\t// Counter is used when shortid is called multiple times in one second.\n\tvar counter;\n\t\n\t// Remember the last time shortid was called in case counter is needed.\n\tvar previousSeconds;\n\t\n\t/**\n\t * Generate unique id\n\t * Returns string id\n\t */\n\tfunction generate() {\n\t\n\t    var str = '';\n\t\n\t    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\t\n\t    if (seconds === previousSeconds) {\n\t        counter++;\n\t    } else {\n\t        counter = 0;\n\t        previousSeconds = seconds;\n\t    }\n\t\n\t    str = str + encode(alphabet.lookup, version);\n\t    str = str + encode(alphabet.lookup, clusterWorkerId);\n\t    if (counter > 0) {\n\t        str = str + encode(alphabet.lookup, counter);\n\t    }\n\t    str = str + encode(alphabet.lookup, seconds);\n\t\n\t    return str;\n\t}\n\t\n\t\n\t/**\n\t * Set the seed.\n\t * Highly recommended if you don't want people to try to figure out your id schema.\n\t * exposed as shortid.seed(int)\n\t * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n\t */\n\tfunction seed(seedValue) {\n\t    alphabet.seed(seedValue);\n\t    return module.exports;\n\t}\n\t\n\t/**\n\t * Set the cluster worker or machine id\n\t * exposed as shortid.worker(int)\n\t * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n\t * returns shortid module so it can be chained.\n\t */\n\tfunction worker(workerId) {\n\t    clusterWorkerId = workerId;\n\t    return module.exports;\n\t}\n\t\n\t/**\n\t *\n\t * sets new characters to use in the alphabet\n\t * returns the shuffled alphabet\n\t */\n\tfunction characters(newCharacters) {\n\t    if (newCharacters !== undefined) {\n\t        alphabet.characters(newCharacters);\n\t    }\n\t\n\t    return alphabet.shuffled();\n\t}\n\t\n\t\n\t// Export all other functions as properties of the generate function\n\tmodule.exports = generate;\n\tmodule.exports.generate = generate;\n\tmodule.exports.seed = seed;\n\tmodule.exports.worker = worker;\n\tmodule.exports.characters = characters;\n\tmodule.exports.decode = decode;\n\tmodule.exports.isValid = isValid;\n\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar alphabet = __webpack_require__(3);\n\t\n\tfunction isShortId(id) {\n\t    if (!id || typeof id !== 'string' || id.length < 6 ) {\n\t        return false;\n\t    }\n\t\n\t    var characters = alphabet.characters();\n\t    var len = id.length;\n\t    for(var i = 0; i < len;i++) {\n\t        if (characters.indexOf(id[i]) === -1) {\n\t            return false;\n\t        }\n\t    }\n\t    return true;\n\t}\n\t\n\tmodule.exports = isShortId;\n\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\t\n\tfunction randomByte() {\n\t    if (!crypto || !crypto.getRandomValues) {\n\t        return Math.floor(Math.random() * 256) & 0x30;\n\t    }\n\t    var dest = new Uint8Array(1);\n\t    crypto.getRandomValues(dest);\n\t    return dest[0] & 0x30;\n\t}\n\t\n\tmodule.exports = randomByte;\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// Found this seed-based random generator somewhere\n\t// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\t\n\tvar seed = 1;\n\t\n\t/**\n\t * return a random number based on a seed\n\t * @param seed\n\t * @returns {number}\n\t */\n\tfunction getNextValue() {\n\t    seed = (seed * 9301 + 49297) % 233280;\n\t    return seed/(233280.0);\n\t}\n\t\n\tfunction setSeed(_seed_) {\n\t    seed = _seed_;\n\t}\n\t\n\tmodule.exports = {\n\t    nextValue: getNextValue,\n\t    seed: setSeed\n\t};\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = 0;\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** skribble/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f617b61eaf96015d0d60\n **/","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/classnames/index.js\n ** module id = 1\n ** module chunks = 0\n **/","import classNames from 'classnames';\n\nclass Selectable extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      classes: {},\n      selectFunction: this.select,\n    };\n  }\n\n  start() {\n    var selectClass, selectFunction, classes = {};\n\n    selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n    selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\n    if (this.props.selectOnStart) {\n      classes[this.props.selectOnStart] = selectClass;\n    }\n\n    this.setState({\n      started: true,\n      classes,\n      selectFunction,\n      selectClass,\n    });\n\n    this.bootstrap();\n\n    Object.keys(this.refs).map(key => {\n      if (typeof this.refs[key].start === 'function') this.refs[key].start();\n    });\n  }\n\n  bootstrap() {\n    super.bootstrap();\n\n    var self = this;\n\n    var correctAnswers = this.requireForComplete.filter((ref) => {\n      return self.refs[ref].props.correct;\n    });\n\n    if (correctAnswers.length > 0) {\n      this.requireForComplete = correctAnswers;\n    }\n\n    if (this.refs.bin) {\n      this.setState({\n        list: this.refs.bin.getAll()\n      });\n    }\n  }\n\n  selectHelper(e, classes) {\n    var ref, dataRef, target, id, isCorrect, self = this;\n\n    target = e.target.closest('LI');\n\n    if (!target) return;\n\n    dataRef = target.getAttribute('data-ref');\n    ref = self.refs[dataRef];\n\n    isCorrect = (ref && ref.props && ref.props.correct) || (!self.props.answers || !self.props.answers.length || self.props.answers.indexOf(dataRef) !== -1);\n\n    if (self.props.allowDeselect && classes[dataRef]) {\n      delete classes[dataRef];\n    } else if (isCorrect) {\n      classes[dataRef] = self.state.selectClass;\n    }\n\n    self.setState({\n      classes,\n    });\n\n    self.callProp('selectRespond', dataRef);\n\n    if (self.props.chooseOne) {\n      self.requireForComplete = [dataRef];\n    }\n\n    if (self.props.dataTarget) {\n      self.updateGameState({\n        path: self.props.dataTarget,\n        data: {\n          target: ref\n        }\n      });\n    }\n\n    if (self.props.completeListOnClick) {\n      self.requireForComplete.map(key => {\n        if (key === id && self.refs[id]) {\n          self.refs[id].complete();\n        }\n      });\n    }\n\n    self.requireForComplete.map(key => {\n      if (key === dataRef && self.refs[key]) {\n        self.refs[key].complete();\n      }\n    });\n  }\n\n  select(e) {\n    var classes = [];\n    this.selectHelper(e, classes);\n  }\n\n  highlight(e) {\n    var classes = this.state.classes;\n    this.selectHelper(e, classes);\n  }\n\n  getClass(key, li) {\n    return classNames(\n      li.props.className,\n      this.state.classes[key],\n      this.state.classes[li.props['data-ref']]\n    );\n  }\n\n  getClassNames() {\n    return classNames('selectable', super.getClassNames());\n  }\n\n  checkComplete() {\n    var self = this, complete;\n\n    if (this.props.checkComplete === false) return;\n\n    complete = self.requireForComplete.every(key => {\n      if (self.refs[key] instanceof Node) {\n        return true;\n      }\n      if (!self.refs[key].state || (self.refs[key].state && !self.refs[key].state.complete)) {\n        if (typeof self.refs[key].checkComplete === 'function') {\n          self.refs[key].checkComplete();\n        }\n        return false;\n      }\n      return true;\n    });\n\n    if (complete && !self.state.complete) {\n      self.complete();\n    } else if (self.state.started && !complete && self.state.complete) {\n      self.incomplete();\n    }\n  }\n\n  renderBin() {\n    if (!this.props.bin) return null;\n\n    return (\n      <this.props.bin.type\n        {...this.props.bin.props}\n        ref=\"bin\"\n      />\n    );\n  }\n\n  renderList() {\n    var list = this.props.list || this.state.list;\n    return list.map((li, key) => {\n      var dataRef = li.props['data-ref'] || key;\n      var ref = li.ref || li.props.id || dataRef;\n      var message = li.props.message || '' + key;\n      return (\n        <li.type\n          {...li.props}\n          type=\"li\"\n          className={this.getClass(key, li)}\n          message={message}\n          data-message={message}\n          data-ref={dataRef}\n          ref={ref}\n          key={key}\n        />\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderBin()}\n        <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n          {this.renderList()}\n        </ul>\n      </div>\n    );\n  }\n}\n\nSelectable.defaultProps = _.defaults({\n  list: [\n    <li></li>,\n    <li></li>,\n    <li></li>,\n    <li></li>\n  ],\n  selectClass: 'SELECTED',\n  completeListOnClick: true\n}, skoash.Component.defaultProps);\n\nexport default Selectable;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/selectable/0.1.js\n **/","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/alphabet.js\n ** module id = 3\n ** module chunks = 0\n **/","import classNames from 'classnames';\n\nimport EditableAsset from '../editable_asset/0.1.js';\n\nclass Canvas extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      background: null,\n      items: [],\n      messages: [],\n      offsetX: 0,\n      offsetY: 0,\n      active: false,\n      valid: true,\n    };\n\n    this.deleteItem = this.deleteItem.bind(this);\n    this.checkItem = this.checkItem.bind(this);\n    this.deactivateItems = this.deactivateItems.bind(this);\n    this.relayerItems = this.relayerItems.bind(this);\n    this.setValid = this.setValid.bind(this);\n  }\n\n  start() {\n    var dom = ReactDOM.findDOMNode(this);\n\n    super.start();\n\n    this.setState({\n      width: dom.offsetWidth,\n      height: dom.offsetHeight,\n    });\n  }\n\n  getItems() {\n    var items, messages, self = this;\n\n    items = this.state.items.map((item, key) => {\n      var state;\n\n      if (!self.refs['item-' + key]) return item;\n\n      state = self.refs['item-' + key].state;\n\n      item.state = {\n        left: _.floor(state.left, 14),\n        top: _.floor(state.top, 14),\n        scale: _.floor(state.scale, 14),\n        rotation: _.floor(state.rotation, 14),\n        layer: state.layer,\n        valid: state.valid,\n        corners: state.corners,\n      };\n\n      item.check = state.check;\n      item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\n      return item;\n    });\n\n    messages = this.state.messages.map((item, key) => {\n      var state;\n\n      if (!self.refs['message-' + key]) return item;\n\n      state = self.refs['message-' + key].state;\n\n      item.state = {\n        left: _.floor(state.left, 14),\n        top: _.floor(state.top, 14),\n        scale: _.floor(state.scale, 14),\n        rotation: _.floor(state.rotation, 14),\n        layer: state.layer,\n        valid: state.valid,\n        corners: state.corners,\n      };\n\n      item.check = state.check;\n      item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\n      return item;\n    });\n\n    _.remove(items, n => {\n      return !n;\n    });\n\n    _.remove(messages, n => {\n      return !n;\n    });\n\n    return {\n      background: this.state.background,\n      items,\n      messages,\n    };\n  }\n\n  reset() {\n    this.setState({\n      background: null,\n      items: [],\n      messages: []\n    });\n  }\n\n  setItems(message) {\n    if (message) {\n      /*\n       *\n       * This makes sure the EditableAssets get cleared.\n       *\n       * This prevents the new assets from inheriting\n       * state from the old assets.\n       *\n       */\n      this.setState({\n        background: null,\n        items: [],\n        messages: [],\n      }, () => {\n        this.addItem(message.background);\n        message.items.forEach(asset => {\n          this.addItem(asset);\n        });\n        message.messages.forEach(asset => {\n          this.addItem(asset);\n        });\n      });\n    }\n  }\n\n  addItem(asset, cb) {\n    var items, messages, index, count;\n\n    if (!asset) return;\n\n    if (asset.asset_type === 'background') {\n      this.setState({\n        background: asset,\n      }, () => {\n        skoash.trigger('emit', {\n          name: 'getMedia',\n          'media_id': asset.media_id\n        }).then(d => {\n          var background = this.state.background;\n          background.check = d.check;\n          background.mime_type = d.mime_type; // eslint-disable-line camelcase\n          this.setState({\n            background\n          }, cb);\n        });\n      });\n    } else if (asset.asset_type === 'item') {\n      items = this.state.items;\n\n      count = _.reduce(items, (c, v) => {\n        if (asset.src === v.src) c++;\n        return c;\n      }, 1);\n\n      if (count > this.props.maxInstances) return;\n\n      items.push(asset);\n      index = items.indexOf(asset);\n\n      this.setState({\n        items,\n      }, () => {\n        skoash.trigger('emit', {\n          name: 'getMedia',\n          'media_id': asset.media_id\n        }).then(d => {\n          asset.check = d.check;\n          asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n          items[index] = asset;\n          this.setState({\n            items\n          }, cb);\n        });\n      });\n    } else if (asset.asset_type === 'message') {\n      messages = this.state.messages;\n\n      count = _.reduce(items, (c, v) => {\n        if (asset.src === v.src) c++;\n        return c;\n      }, 1);\n\n      if (count > this.props.maxInstances) return;\n\n      messages.push(asset);\n      index = messages.indexOf(asset);\n\n      this.setState({\n        messages,\n      }, () => {\n        skoash.trigger('emit', {\n          name: 'getMedia',\n          'media_id': asset.media_id\n        }).then(d => {\n          asset.check = d.check;\n          asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n          messages[index] = asset;\n          this.setState({\n            messages\n          }, cb);\n        });\n      });\n    }\n  }\n\n  deleteItem(key, type) {\n    var items;\n\n    items = this.state[type + 's'];\n    delete items[key];\n\n    this.setState({\n      [type + 's']: items,\n    });\n  }\n\n  deactivateItems(exclude, type) {\n    if (typeof exclude === 'object' && exclude.target) {\n      if (exclude.target.tagName !== 'LI') {\n        return;\n      }\n      this.setState({\n        active: false,\n      });\n    }\n\n    if (typeof exclude === 'number') {\n      this.setState({\n        active: true,\n      });\n    }\n\n    this.state.items.map((item, key) => {\n      if ((key !== exclude || type !== 'item') && this.refs['item-' + key]) {\n        this.refs['item-' + key].deactivate();\n      }\n    });\n\n    this.state.messages.map((item, key) => {\n      if ((key !== exclude || type !== 'message') && this.refs['message-' + key]) {\n        this.refs['message-' + key].deactivate();\n      }\n    });\n  }\n\n  relayerItems(type) {\n    var layers = [];\n\n    this.state[type + 's'].map((item, key) => {\n      var layer;\n\n      layer = this.refs[type + '-' + key].state.layer;\n\n      if (layers.indexOf(layer) === -1) {\n        layers.push(layer);\n      }\n    });\n\n    layers.sort((a, b) => {\n      return a < b;\n    });\n\n    this.state[type + 's'].map((item, key) => {\n      var oldLayer, newLayer;\n\n      oldLayer = this.refs[type + '-' + key].state.layer;\n      newLayer = (type === 'message') ? 10000 : 1000;\n      newLayer = newLayer - layers.indexOf(oldLayer);\n\n      this.refs[type + '-' + key].relayer(newLayer);\n    });\n  }\n\n  checkItem(key, type) {\n    var self = this;\n\n    return (\n      !self.refs[type + '-' + key].state.corners.length ||\n      (\n        self.isInBounds(key, type) && (\n          self.refs[type + '-' + key].state.can_overlap ||\n          !self.state[type + 's'].some((item, index) =>\n            key !== index &&\n            !self.refs[type + '-' + index].state.can_overlap &&\n            self.refs[type + '-' + index].state.corners.length &&\n            skoash.util.doIntersect(\n              self.refs[type + '-' + key].state.corners,\n              self.refs[type + '-' + index].state.corners\n            )\n          )\n        )\n      )\n    );\n  }\n\n  isInBounds(key, type) {\n    return !this.state.width ||\n      !this.state.height ||\n      !(\n      // box to left\n      skoash.util.doIntersect(\n        this.refs[type + '-' + key].state.corners,\n        [\n          {x: 0, y: -this.state.height},\n          {x: 0, y: 2 * this.state.height},\n          {x: -this.state.width, y: 2 * this.state.height},\n          {x: -this.state.width, y: -this.state.height}\n        ]\n      ) ||\n      // box above\n      skoash.util.doIntersect(\n        this.refs[type + '-' + key].state.corners,\n        [\n          {x: -this.state.width, y: 0},\n          {x: 2 * this.state.width, y: 0},\n          {x: 2 * this.state.width, y: -this.state.height},\n          {x: this.state.width, y: -this.state.height}\n        ]\n      ) ||\n      // box to right\n      skoash.util.doIntersect(\n        this.refs[type + '-' + key].state.corners,\n        [\n          {x: this.state.width, y: -this.state.height},\n          {x: this.state.width, y: 2 * this.state.height},\n          {x: 2 * this.state.width, y: 2 * this.state.height},\n          {x: 2 * this.state.width, y: -this.state.height}\n        ]\n      ) ||\n      // box below\n      skoash.util.doIntersect(\n        this.refs[type + '-' + key].state.corners,\n        [\n          {x: -this.state.width, y: this.state.height},\n          {x: 2 * this.state.width, y: this.state.height},\n          {x: 2 * this.state.width, y: 2 * this.state.height},\n          {x: -this.state.width, y: 2 * this.state.height}\n        ]\n      )\n    );\n  }\n\n  setValid(valid) {\n    this.setState({\n      valid\n    });\n\n    if (typeof this.props.setValid === 'function') {\n      this.props.setValid(valid);\n    }\n  }\n\n  getStyle() {\n    if (!this.state.background) return;\n\n    return {\n      backgroundImage: `url(${this.state.background.src})`,\n    };\n  }\n\n  renderItems() {\n    var self = this;\n\n    return this.state.items.map((item, key) => {\n      return (\n        <EditableAsset\n          {...item}\n          data-ref={key}\n          minDim={this.props.itemMinDim}\n          deleteItem={self.deleteItem}\n          checkItem={self.checkItem}\n          deactivateItems={self.deactivateItems}\n          relayerItems={self.relayerItems}\n          setValid={self.setValid}\n          ref={'item-' + key}\n          key={key}\n        />\n      );\n    });\n  }\n\n  renderMessages() {\n    var self = this;\n\n    return this.state.messages.map((item, key) => {\n      return (\n        <EditableAsset\n          {...item}\n          data-ref={key}\n          minDim={this.props.messageMinDim}\n          deleteItem={self.deleteItem}\n          checkItem={self.checkItem}\n          deactivateItems={self.deactivateItems}\n          relayerItems={self.relayerItems}\n          setValid={self.setValid}\n          canvasWidth={this.state.width}\n          canvasHeight={this.state.height}\n          ref={'message-' + key}\n          key={key}\n        />\n      );\n    });\n  }\n\n  getClassNames() {\n    return classNames({\n      canvas: true,\n      ACTIVE: !this.props.preview && this.state.active,\n    });\n  }\n\n  render() {\n    return (\n      <ul\n        className={this.getClassNames()}\n        style={this.getStyle()}\n        onClick={this.deactivateItems}\n      >\n        {this.renderItems()}\n        {this.renderMessages()}\n      </ul>\n    );\n  }\n}\n\nCanvas.defaultProps = _.defaults({\n  maxInstances: 5\n}, skoash.Component.defaultProps);\n\nexport default Canvas;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/canvas/0.1.js\n **/","import shortid from 'shortid';\nimport classNames from 'classnames';\n\nimport Selectable from '../selectable/0.1';\n\nclass ItemDrawer extends Selectable {\n  constructor() {\n    super();\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    var items, quickCheck, itemsChanged;\n\n    if (JSON.stringify(this.state.classes) !== JSON.stringify(nextState.classes)) {\n      return true;\n    }\n\n    items = nextProps.data || [];\n\n    if (nextState.category && items[nextState.category]) {\n      items = items[nextState.category].items;\n    }\n\n    quickCheck = _.reduce(items, (a, i) => {\n      a += i.name;\n      return a;\n    }, '');\n\n    itemsChanged = this.quickCheck !== quickCheck;\n    if (itemsChanged) {\n      this.quickCheck = quickCheck;\n    }\n\n    return itemsChanged;\n  }\n\n  start() {\n    var items, selectedItem, selectFunction, classes = {}, self = this;\n\n    selectFunction = this.state.selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\n    items = self.props.data || [];\n\n    if (self.state.category && items[self.state.category]) {\n      items = items[self.state.category].items;\n    }\n\n    selectedItem = JSON.stringify(self.props.selectedItem);\n\n    _.each(items, (item, key) => {\n      if (self.props.selectedItem && JSON.stringify(item) === selectedItem) {\n        classes[key] = self.state.selectClass;\n      }\n    });\n\n    if (this.props.selectOnStart) {\n      classes[this.props.selectOnStart] = this.state.selectClass;\n    }\n\n    this.setState({\n      started: true,\n      classes,\n      selectFunction,\n      categoryName: '',\n      category: '',\n    });\n\n    this.refs.list.scrollTop = 0;\n\n    _.each(self.refs, ref => {\n      if (typeof ref.start === 'function') ref.start();\n    });\n  }\n\n  selectHelper(e) {\n    var li, message, key, type, categoryName, classes = [];\n\n    li = e.target.closest('LI');\n    if (!li) return;\n\n    key = li.getAttribute('data-ref');\n    if (!this.refs[key]) return;\n\n    type = this.refs[key].props.item.asset_type;\n    if (!type) return;\n\n    if (type === 'folder') {\n      categoryName = this.refs[key].props.item.name;\n      this.setState({\n        category: key,\n        categoryName\n      });\n    } else {\n      message = this.refs[key].props.item;\n      classes[key] = this.state.selectClass;\n\n      this.setState({\n        message,\n        classes,\n      });\n    }\n  }\n\n  selectButton() {\n    if (typeof this.props.selectRespond === 'function' && this.state.message) {\n      this.props.selectRespond(this.state.message);\n    }\n  }\n\n  continueButton() {\n    if (typeof this.props.selectRespond === 'function') {\n      this.props.selectRespond({});\n    }\n  }\n\n  cancelButton() {\n    if (typeof this.props.cancelRespond === 'function') {\n      this.props.cancelRespond.call(this);\n    }\n  }\n\n  getCategory() {\n    if (this.state.categoryName) {\n      return this.state.categoryName;\n    }\n\n    if (this.props.categories && this.props.categories.length) {\n      return this.props.categories[this.props.categories.length - 1];\n    }\n    return '';\n  }\n\n  getClassNames() {\n    return classNames({\n      'ANSWERED': _.values(this.state.classes).indexOf(this.state.selectClass) !== -1\n    }, this.props.className, 'item-drawer-component');\n  }\n\n  getULClass() {\n    var categories = '';\n\n    if (this.props.categories) {\n      categories = this.props.categories.join(' ');\n    }\n\n    return classNames({\n      'item-drawer': true,\n      [categories]: true,\n      COMPLETE: this.state.complete,\n    });\n  }\n\n  getClass(key, item) {\n    var white = item && item.name && item.name.toLowerCase().indexOf('w.') !== -1;\n\n    return classNames({\n      [this.state.classes[key] || '']: true,\n      white\n    });\n  }\n\n  renderButtons() {\n    return (\n      <div className=\"buttons\">\n        <button className=\"select\" onClick={this.selectButton.bind(this)} />\n        <button className=\"continue\" onClick={this.continueButton.bind(this)} />\n        <button className=\"cancel\" onClick={this.cancelButton.bind(this)} />\n      </div>\n    );\n  }\n\n  renderItemContent(item) {\n    var content = [], src;\n\n    if (item.src || item.thumb) {\n      src = item.thumb || item.src;\n    } else if (item.items) {\n      if (!_.isArray(item.items)) {\n        item.items = _.values(item.items);\n      }\n\n      if (item.items[0]) {\n        src = item.items[0].thumb || item.items[0].src;\n      }\n\n      item.items.some(subitem => {\n        if (subitem.name === '_thumb.png') {\n          src = subitem.thumb || subitem.src;\n          return true;\n        }\n      });\n    }\n\n    if (src) {\n      content.push(<skoash.Image src={src} key={0} />);\n    }\n\n    if (item.name && (item.asset_type === 'folder' || item.asset_type === 'friend')) {\n      content.push(<span className=\"name\" key={1}>{item.name}</span>);\n    }\n\n    if (item.description) {\n      content.push(<span className=\"description\" key={2}>{item.description}</span>);\n    }\n\n    return content;\n  }\n\n  renderList() {\n    var items, self = this;\n\n    if (!this.props.data) return;\n\n    items = this.props.data;\n\n    if (this.state.category && items[this.state.category]) {\n      items = items[this.state.category].items;\n    }\n\n    if (!_.isArray(items)) {\n      items = _.values(items);\n    }\n\n    return items.sort((a, b) => {\n      var aVal = !_.isNaN(window.parseInt(a.order)) ? window.parseInt(a.order) : Infinity;\n      var bVal = !_.isNaN(window.parseInt(b.order)) ? window.parseInt(b.order) : Infinity;\n      if (aVal === bVal) {\n        if (a.name < b.name) return -1;\n        if (a.name > b.name) return 1;\n        return 0;\n      }\n      if (aVal < bVal) return -1;\n      return 1;\n    }).map((item, key) =>\n      <skoash.ListItem\n        className={this.getClass(key, item)}\n        ref={key}\n        data-ref={key}\n        item={item}\n        key={shortid.generate()}\n      >\n        {self.renderItemContent(item)}\n      </skoash.ListItem>\n    );\n  }\n\n  render() {\n    return (\n      <div className={this.getClassNames()}>\n        <div className=\"item-drawer-container\">\n          <h2>{this.getCategory()}</h2>\n          <ul ref=\"list\" className={this.getULClass()} onClick={this.state.selectFunction.bind(this)}>\n            {this.renderList()}\n          </ul>\n        </div>\n        {this.renderButtons()}\n      </div>\n    );\n  }\n}\n\nexport default ItemDrawer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/item_drawer/0.1.js\n **/","import classNames from 'classnames';\n\nclass Draggable extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      startX: 0,\n      startY: 0,\n      endX: 0,\n      endY: 0,\n      zoom: 1,\n    };\n\n    this.mouseDown = this.mouseDown.bind(this);\n    this.mouseUp = this.mouseUp.bind(this);\n\n    this.moveEvent = this.moveEvent.bind(this);\n\n    this.touchStart = this.touchStart.bind(this);\n    this.touchEnd = this.touchEnd.bind(this);\n  }\n\n  shouldDrag() {\n    return true;\n  }\n\n  markCorrect() {\n    this.setState({\n      correct: true,\n    });\n  }\n\n  markIncorrect() {\n    this.setState({\n      correct: false,\n    });\n  }\n\n  startEvent(e, cb) {\n    var pageX, pageY, rect, startX, startY, endX, endY, grabX, grabY;\n\n    if (e.target !== this.refs.el) return;\n    if (!this.shouldDrag()) return;\n\n    if (e.targetTouches && e.targetTouches[0]) {\n      pageX = e.targetTouches[0].pageX;\n      pageY = e.targetTouches[0].pageY;\n      rect = e.target.getBoundingClientRect();\n      e = e.targetTouches[0];\n      e.offsetX = pageX - rect.left;\n      e.offsetY = pageY - rect.top;\n    }\n\n    grabX = e.offsetX;\n    grabY = e.offsetY;\n\n    startX = endX = e.pageX - grabX;\n    startY = endY = e.pageY - grabY;\n\n    if (!this.props.return) {\n      startX = _.isFinite(this.state.grabX) ?\n        this.state.startX + this.state.grabX - grabX :\n        startX;\n      startY = _.isFinite(this.state.grabY) ?\n        this.state.startY + this.state.grabY - grabY :\n        startY;\n    }\n\n    this.setState({\n      dragging: true,\n      return: false,\n      startX,\n      startY,\n      grabX,\n      grabY,\n      endX,\n      endY,\n    });\n\n    if (typeof this.props.dragRespond === 'function') {\n      this.props.dragRespond(this.props.message);\n    }\n\n    if (typeof cb === 'function') {\n      cb.call(this);\n    }\n  }\n\n  attachMouseEvents() {\n    window.addEventListener('mousemove', this.moveEvent);\n    window.addEventListener('mouseup', this.mouseUp);\n  }\n\n  attachTouchEvents() {\n    window.addEventListener('touchmove', this.moveEvent);\n    window.addEventListener('touchend', this.touchEnd);\n  }\n\n  mouseDown(e) {\n    this.startEvent(e, this.attachMouseEvents);\n  }\n\n  touchStart(e) {\n    this.startEvent(e, this.attachTouchEvents);\n  }\n\n  moveEvent(e) {\n    if (e.targetTouches && e.targetTouches[0]) {\n      e.pageX = e.targetTouches[0].pageX;\n      e.pageY = e.targetTouches[0].pageY;\n    }\n\n    this.setState({\n      endX: e.pageX - this.state.grabX,\n      endY: e.pageY - this.state.grabY,\n    });\n  }\n\n  endEvent(cb) {\n    this.dropRespond();\n\n    if (this.props.return) {\n      this.setState({\n        dragging: false,\n        return: this.props.return,\n        endX: this.state.startX,\n        endY: this.state.startY,\n      });\n    } else {\n      this.setState({\n        dragging: false,\n        return: this.props.return,\n      });\n    }\n\n    if (typeof cb === 'function') {\n      cb.call(this);\n    }\n  }\n\n  detachMouseEvents() {\n    window.removeEventListener('mousemove', this.moveEvent);\n    window.removeEventListener('mouseup', this.mouseUp);\n  }\n\n  detachTouchEvents() {\n    window.removeEventListener('touchmove', this.moveEvent);\n    window.removeEventListener('touchend', this.touchEnd);\n  }\n\n  mouseUp() {\n    this.endEvent(this.detachMouseEvents);\n  }\n\n  touchEnd() {\n    this.endEvent(this.detachTouchEvents);\n  }\n\n  dropRespond() {\n    var corners;\n\n    corners = this.setCorners();\n\n    if (typeof this.props.dropRespond === 'function') {\n      this.props.dropRespond(this.props.message, corners);\n    }\n  }\n\n  setCorners() {\n    var top, left, width, height, el, corners = [];\n\n    left = 0;\n    top = 0;\n    el = this.refs.el;\n    width = el.offsetWidth;\n    height = el.offsetHeight;\n\n    while (el) {\n      if (el.className.indexOf('screen') !== -1) {\n        break;\n      }\n\n      left += el.offsetLeft || 0;\n      top += el.offsetTop || 0;\n      el = el.offsetParent;\n    }\n\n    left += ((this.state.endX - this.state.startX) / this.state.zoom);\n    top += ((this.state.endY - this.state.startY) / this.state.zoom);\n\n    for (var i = 0; i < 4; i++) {\n      corners.push({\n        x: left + width * (i === 1 || i === 2 ? 1 : 0),\n        y: top + height * (i > 1 ? 1 : 0),\n      });\n    }\n\n    this.setState({\n      corners,\n    });\n\n    return corners;\n  }\n\n  componentDidMount() {\n    this.bootstrap();\n  }\n\n  bootstrap() {\n    super.bootstrap();\n\n    this.setZoom();\n\n    this.refs.el.addEventListener('mousedown', this.mouseDown);\n    this.refs.el.addEventListener('touchstart', this.touchStart);\n\n    window.addEventListener('resize', this.setZoom.bind(this));\n  }\n\n  setZoom() {\n    skoash.trigger('getState').then(state => {\n      this.setState({\n        zoom: state.scale,\n      });\n    });\n  }\n\n  getStyle() {\n    var x, y;\n\n    x = ((this.state.endX - this.state.startX) / this.state.zoom);\n    y = ((this.state.endY - this.state.startY) / this.state.zoom);\n\n    return {\n      transform: `translateX(${x}px) translateY(${y}px)`,\n      WebkitTransform: `translateX(${x}px) translateY(${y}px)`,\n    };\n  }\n\n  getClassNames() {\n    return classNames({\n      draggable: true,\n      DRAGGING: this.state.dragging,\n      RETURN: this.state.return,\n      CORRECT: this.state.correct,\n    }, super.getClassNames());\n  }\n\n  render() {\n    return (\n      <div\n        ref=\"el\"\n        className={this.getClassNames()}\n        style={this.getStyle()}\n      >{this.props.children}</div>\n    );\n  }\n}\n\nexport default Draggable;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/draggable/0.1.js\n **/","import classNames from 'classnames';\n\nimport Draggable from '../draggable/0.1.js';\n\nclass EditableAsset extends Draggable {\n  constructor() {\n    super();\n\n    this.state = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0,\n      scale: .5,\n      minScale: .1,\n      maxScale: 1,\n      rotation: 0,\n      layer: 1000,\n      zoom: 1,\n      active: false,\n      valid: true,\n      corners: [],\n      lastValid: {},\n    };\n\n    this.scale = this.scale.bind(this);\n    this.adjustScale = this.adjustScale.bind(this);\n    this.offScale = this.offScale.bind(this);\n\n    this.rotate = this.rotate.bind(this);\n    this.adjustRotation = this.adjustRotation.bind(this);\n    this.offRotate = this.offRotate.bind(this);\n  }\n\n  shouldDrag() {\n    return this.state.active;\n  }\n\n  activate() {\n    this.setState({\n      active: true,\n    });\n\n    if (typeof this.props.deactivateItems === 'function') {\n      this.props.deactivateItems(this.props['data-ref'], this.props.asset_type);\n    }\n  }\n\n  deactivate() {\n    if (!this.state.valid) {\n      this.setState({\n        left: this.state.lastValid.left || this.state.left,\n        top: this.state.lastValid.top || this.state.top,\n        scale: this.state.lastValid.scale || this.state.scale,\n        rotation: this.state.lastValid.rotation || this.state.rotation,\n        active: false,\n      }, () => {\n        setTimeout(() => {\n          this.checkItem();\n        }, 0);\n      });\n    } else {\n      this.setState({\n        active: false,\n      });\n    }\n  }\n\n  moveEvent(e) {\n    if (e.targetTouches && e.targetTouches[0]) {\n      e.pageX = e.targetTouches[0].pageX;\n      e.pageY = e.targetTouches[0].pageY;\n    }\n\n    this.setState({\n      endX: e.pageX - this.state.grabX,\n      endY: e.pageY - this.state.grabY,\n      left: ((e.pageX - this.state.grabX - this.state.startX) / this.state.zoom),\n      top: ((e.pageY - this.state.grabY - this.state.startY) / this.state.zoom),\n    });\n    this.checkItem();\n  }\n\n  delete() {\n    if (typeof this.props.deleteItem === 'function') {\n      this.props.deleteItem(this.props['data-ref'], this.props.asset_type);\n    }\n  }\n\n  rotate() {\n    this.refs.el.parentNode.addEventListener('mousemove', this.adjustRotation);\n    this.refs.el.parentNode.addEventListener('mouseup', this.offRotate);\n\n    this.refs.el.parentNode.addEventListener('touchmove', this.adjustRotation);\n    this.refs.el.parentNode.addEventListener('touchend', this.offRotate);\n  }\n\n  offRotate() {\n    this.refs.el.parentNode.removeEventListener('mousemove', this.adjustRotation);\n    this.refs.el.parentNode.removeEventListener('mouseup', this.offRotate);\n\n    this.refs.el.parentNode.removeEventListener('touchmove', this.adjustRotation);\n    this.refs.el.parentNode.removeEventListener('touchend', this.offRotate);\n  }\n\n  adjustRotation(e) {\n    var rotation, deltaX, deltaY;\n\n    if (e.targetTouches && e.targetTouches[0]) {\n      e.pageX = e.targetTouches[0].pageX;\n      e.pageY = e.targetTouches[0].pageY;\n    }\n\n    deltaX = (e.pageX / this.state.zoom) - (this.refs.li.offsetParent.offsetLeft) - (this.state.left + this.state.width / 2);\n    deltaY = (e.pageY / this.state.zoom) - (this.refs.li.offsetParent.offsetTop) - (this.state.top + this.state.height / 2);\n\n    rotation = Math.atan2(deltaY, deltaX) + (Math.PI / 4) % (2 * Math.PI);\n\n    this.setState({\n      rotation,\n    });\n\n    this.checkItem();\n  }\n\n  layer() {\n    var layer, self = this;\n\n    layer = this.state.layer - 1;\n\n    this.setState({\n      layer,\n    }, () => {\n      if (typeof self.props.relayerItems === 'function') {\n        self.props.relayerItems(self.props.asset_type);\n      }\n    });\n  }\n\n  relayer(layer) {\n    this.setState({\n      layer,\n    });\n  }\n\n  scale() {\n    this.refs.el.parentNode.addEventListener('mousemove', this.adjustScale);\n    this.refs.el.parentNode.addEventListener('mouseup', this.offScale);\n\n    this.refs.el.parentNode.addEventListener('touchmove', this.adjustScale);\n    this.refs.el.parentNode.addEventListener('touchend', this.offScale);\n  }\n\n  offScale() {\n    this.refs.el.parentNode.removeEventListener('mousemove', this.adjustScale);\n    this.refs.el.parentNode.removeEventListener('mouseup', this.offScale);\n\n    this.refs.el.parentNode.removeEventListener('touchmove', this.adjustScale);\n    this.refs.el.parentNode.removeEventListener('touchend', this.offScale);\n  }\n\n  adjustScale(e) {\n    var scale, deltaX, deltaY, delta, base;\n\n    if (e.targetTouches && e.targetTouches[0]) {\n      e.pageX = e.targetTouches[0].pageX;\n      e.pageY = e.targetTouches[0].pageY;\n    }\n\n    deltaX = (e.pageX / this.state.zoom) - (this.refs.li.offsetParent.offsetLeft / this.state.zoom) - (this.state.left / this.state.zoom + this.state.width / 2);\n    deltaY = (e.pageY / this.state.zoom) - (this.refs.li.offsetParent.offsetTop / this.state.zoom) - (this.state.top / this.state.zoom + this.state.height / 2);\n\n    delta = Math.pow(Math.pow(deltaX, 2) + Math.pow(deltaY, 2), .5);\n    base = Math.pow(Math.pow(this.state.width / 2, 2) + Math.pow(this.state.height / 2, 2), .5);\n\n    scale = Math.max(Math.min(delta / base, 1), this.state.minScale);\n\n    this.setState({\n      scale,\n    });\n\n    this.checkItem();\n  }\n\n  checkItem() {\n    this.setCorners(() => {\n      var valid;\n\n      if (typeof this.props.checkItem === 'function') {\n        valid = this.props.checkItem(this.props['data-ref'], this.props.asset_type);\n\n        if (valid) {\n          this.setState({\n            valid,\n            lastValid: new Object(this.state),\n          });\n        } else {\n          this.setState({\n            valid,\n          });\n        }\n\n        if (typeof this.props.setValid === 'function') {\n          this.props.setValid(valid);\n        }\n      }\n    });\n  }\n\n  setCorners(cb) {\n    var center, distance, angle, corners = [];\n\n    center = {\n      x: this.state.left + this.state.width / 2,\n      y: this.state.top + this.state.height / 2,\n    };\n\n    distance = Math.pow(Math.pow(this.state.width * this.state.scale / 2, 2) + Math.pow(this.state.height * this.state.scale / 2, 2), .5);\n\n    for (var i = 0; i < 4; i++) {\n      angle = this.state.rotation;\n      angle += (i < 2 ? 0 : Math.PI);\n      angle += Math.pow(-1, i) * Math.atan2(this.state.height, this.state.width);\n\n      corners.push({\n        x: center.x + distance * Math.cos(angle),\n        y: center.y + distance * Math.sin(angle),\n      });\n    }\n\n    this.setState({\n      corners,\n    }, cb);\n  }\n\n  getSize() {\n    var image, self = this;\n\n    image = new Image();\n\n    image.onload = () => {\n      var left, top, width, height, minDim, maxDim, minScale, maxScale, scale;\n\n      minDim = this.props.minDim || 40;\n      maxDim = this.props.maxDim || 400;\n      left = this.state.left;\n      top = this.state.top;\n      width = image.width;\n      height = image.height;\n\n      minScale = Math.max(minDim / width, minDim / height);\n      maxScale = Math.min(maxDim / width, maxDim / height, this.state.maxScale);\n      scale = self.props.state && self.props.state.scale ?\n        self.props.state.scale :\n        Math.max(Math.min(self.state.scale, maxScale), minScale);\n\n      if ((!this.state.height || !this.state.width) &&\n        (!this.state.left && !this.state.top)) {\n        left = (this.props.canvasWidth - width) / 2;\n        top = (this.props.canvasHeight - height) / 2;\n      }\n\n      self.setState({\n        left,\n        top,\n        width,\n        height,\n        minScale,\n        scale,\n      }, () => {\n        self.activate();\n        self.checkItem();\n      });\n    };\n\n    image.src = this.props.src;\n  }\n\n  getLayer() {\n    var layer = 1000;\n\n    if (this.props.state && this.props.state.layer) {\n      layer = this.props.state.layer;\n    } else {\n      switch (this.props.asset_type) {\n      case 'background':\n        layer = 1;\n        break;\n      case 'message':\n        layer = 10000;\n        break;\n      }\n    }\n\n    this.setState({\n      layer,\n    });\n  }\n\n  attachEvents() {\n    this.refs.scale.addEventListener('mousedown', this.scale);\n    this.refs.rotate.addEventListener('mousedown', this.rotate);\n\n    this.refs.scale.addEventListener('touchstart', this.scale);\n    this.refs.rotate.addEventListener('touchstart', this.rotate);\n  }\n\n  componentDidMount() {\n    this.bootstrap();\n  }\n\n  bootstrap() {\n    super.bootstrap();\n\n    if (this.props.state) {\n      this.setState(this.props.state);\n    }\n\n    this.getSize();\n    this.getLayer();\n\n    this.attachEvents();\n\n    skoash.trigger('emit', {\n      name: 'getMedia',\n      'media_id': this.props.media_id\n    }).then(d => {\n      this.setState(d, () => {\n        this.checkItem();\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    this.attachEvents();\n  }\n\n  getButtonStyle(extraRotation = 0) {\n    var style, transform = '';\n\n    transform += `scale(${(1 / this.state.scale)}) `;\n    transform += `rotate(${(-this.state.rotation - extraRotation)}rad) `;\n\n    style = {\n      transform,\n    };\n\n    return style;\n  }\n\n  getAssetStyle() {\n    var style, transform = '';\n\n    transform += `scale(${this.state.scale}) `;\n    transform += `rotate(${this.state.rotation}rad) `;\n\n    style = {\n      backgroundImage: `url(\"${this.props.src}\")`,\n      width: this.state.width,\n      height: this.state.height,\n      left: this.state.left,\n      top: this.state.top,\n      transform,\n      zIndex: this.state.layer,\n    };\n\n    return style;\n  }\n\n  getButtonsStyle() {\n    var style, transform = '';\n\n    transform += `scale(${this.state.scale}) `;\n    transform += `rotate(${this.state.rotation}rad) `;\n\n    style = {\n      width: this.state.width,\n      height: this.state.height,\n      left: this.state.left,\n      top: this.state.top,\n      transform,\n    };\n\n    return style;\n  }\n\n  getClasses() {\n    return classNames({\n      DRAGGING: this.state.dragging,\n      RETURN: this.state.return,\n      ACTIVE: this.state.active,\n      INVALID: !this.state.valid,\n    }, 'editable-asset', this.props.asset_type);\n  }\n\n  renderAsset() {\n    return (\n      <div\n        ref=\"el\"\n        className=\"asset\"\n        style={this.getAssetStyle()}\n      />\n    );\n  }\n\n  renderButtons() {\n    return (\n      <div\n        className=\"buttons\"\n        style={this.getButtonsStyle()}\n      >\n        <button\n          className=\"delete\"\n          style={this.getButtonStyle()}\n          onClick={this.delete.bind(this)}\n        />\n        <button\n          ref=\"rotate\"\n          className=\"rotate\"\n          style={this.getButtonStyle()}\n        />\n        <button\n          className=\"layer\"\n          onClick={this.layer.bind(this)}\n          style={this.getButtonStyle()}\n        />\n        <button\n          ref=\"scale\"\n          className=\"scale\"\n          style={this.getButtonStyle(1.5708)}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <li\n        ref=\"li\"\n        className={this.getClasses()}\n        onClick={this.activate.bind(this)}\n      >\n        {this.renderAsset()}\n        {this.renderButtons()}\n      </li>\n    );\n  }\n}\n\nEditableAsset.defaultProps = _.defaults({\n  canvasWidth: 1280,\n  canvasHeight: 720,\n}, Draggable.defaultProps);\n\nexport default EditableAsset;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/editable_asset/0.1.js\n **/","import classNames from 'classnames';\n\nimport Selectable from '../selectable/0.1';\n\nclass Inbox extends Selectable {\n  constructor() {\n    super();\n  }\n\n  selectHelper(e) {\n    var li, message, key, classes = [];\n\n    li = e.target.closest('LI');\n\n    if (!li) return;\n\n    key = li.getAttribute('data-ref');\n\n    if (!this.refs[key]) return;\n\n    message = this.refs[key].props.item;\n    classes[key] = this.state.selectClass;\n\n    this.setState({\n      message,\n      classes,\n    });\n\n    if (message.status !== 'COMPLETE') return;\n\n    if (typeof this.props.selectRespond === 'function' && message) {\n      this.props.selectRespond(message);\n    }\n  }\n\n  getClass(key, read) {\n    return classNames(\n      this.state.classes[key], {\n        UNREAD: this.props.friendKey === 'created_by' && !read,\n        SENT: this.props.friendKey !== 'created_by'\n      }\n    );\n  }\n\n  getClassNames() {\n    return classNames({\n      'item-drawer': true,\n      COMPLETE: this.state.complete,\n    }, this.props.className);\n  }\n\n  getStatusText(item) {\n    if (!item.status || item.status === 'COMPLETE') return '';\n    return item.status;\n  }\n\n  renderList() {\n    var items, friends;\n\n    if (!this.props.data || !this.props.data.items) return;\n\n    items = this.props.data.items;\n\n    if (!items.length) {\n      return (\n        <li className=\"empty\">\n          {this.props.emptyMessage}\n        </li>\n      );\n    }\n\n    friends = _.get(this.props.gameState, 'data.user', []);\n\n    return items.map((item, key) => {\n      var timestamp, image, name;\n      timestamp = moment.utc(item.updated).local();\n      key = 'message-' + key;\n\n      friends.forEach(friend => {\n        if (item[this.props.friendKey] === friend.friend_id) {\n          image = friend._embedded.image ? friend._embedded.image.url : '';\n          name = friend.username;\n        }\n      });\n\n      if (!name) {\n        skoash.trigger('getData', {\n          name: 'getFriend',\n          'friend_id': item[this.props.friendKey],\n        });\n      }\n\n      if (this.props.friendKey === 'friend_to') {\n        item.sent = true;\n      }\n\n      return (\n        <skoash.ListItem\n          className={this.getClass(key, item.read)}\n          ref={key}\n          data-ref={key}\n          item={item}\n          key={key}\n        >\n          <skoash.Image src={image} />\n          <span className={'username' + (name.length > 15 ? ' long' : '')}>\n            {name}\n          </span>\n          <span className=\"timestamp\">\n            <span className=\"date\">{timestamp.format('MM.DD.YY')}</span>\n            <span className=\"time\">{timestamp.format('h:mm a')}</span>\n          </span>\n          <span className={'status ' + item.status}>\n            {this.getStatusText(item)}\n          </span>\n        </skoash.ListItem>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n          {this.renderList()}\n        </ul>\n      </div>\n    );\n  }\n}\n\nInbox.defaultProps = _.defaults({\n  friendKey: 'created_by',\n  gameState: {},\n}, Selectable.defaultProps);\n\nexport default Inbox;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/inbox/0.1.js\n **/","export default function (props, ref, key) {\n  return (\n    <skoash.Screen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"ios-splash\"\n      checkComplete={false}\n      completeDelay={6000}\n      nextDelay={3000}\n      completeOnStart\n      hidePrev\n    >\n      <skoash.Image className=\"hidden\" src=\"../shared/images/ios_start_ball.png\" />\n      <skoash.Image className=\"hidden\" src=\"../shared/images/ios_start_ball_anim.gif\" />\n    </skoash.Screen>\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/ios_splash_screen/0.1.js\n **/","class Loader extends skoash.Component {\n  constructor() {\n    super();\n\n  }\n\n  render() {\n    return (\n      <div id=\"loader\" className=\"center\">\n        <div className=\"group\">\n          <h2>Loading!</h2>\n          <div className=\"spinner animated\">\n            <div className=\"spinner animated\">\n              <div className=\"spinner animated\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Loader;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/loader/0.1.js\n **/","import Selectable from '../selectable/0.1.js';\n\nimport classNames from 'classnames';\n\nclass Menu extends Selectable {\n  constructor() {\n    super();\n\n    this.state = {\n      active: false,\n      selectClass: 'SELECTED',\n      classes: {},\n    };\n  }\n\n  deactivate() {\n    var self = this;\n\n    this.setState({\n      active: false,\n    });\n\n    Object.keys(this.refs).map(key => {\n      if (typeof self.refs[key].deactivate === 'function') {\n        self.refs[key].deactivate();\n      }\n    });\n  }\n\n  onClick(e) {\n    var li, ul, dom, message, active = false, classes = [];\n\n    li = e.target.closest('LI');\n\n    if (!li) return;\n\n    ul = li.closest('UL');\n    dom = ReactDOM.findDOMNode(this); // eslint-disable-line no-undef\n\n    if (ul !== dom) return;\n\n    message = li.getAttribute('data-ref');\n\n    if (this.state.classes[message] !== this.state.selectClass) {\n      classes[message] = this.state.selectClass;\n      active = !this.props.inactive;\n    }\n\n    this.setState({\n      classes,\n      active,\n    });\n  }\n\n  renderItems() {\n    var self = this;\n\n    if (typeof this.props.items !== 'object') return;\n\n    return Object.keys(this.props.items).map((key) => {\n      var item, onClick, gotoObj, categories, isFinal;\n\n      categories = this.props.categories ? [].concat(this.props.categories) : [];\n      categories.push(key);\n\n      item = this.props.items[key];\n\n      isFinal = (\n          typeof item.items !== 'object' ||\n          Object.prototype.toString.call(item.items) === '[object Array]'\n        ) || (\n          typeof self.props.lastLevel === 'number' &&\n          self.props.lastLevel === self.props.level\n        );\n\n      if (isFinal) {\n        gotoObj = {\n          index: 'item-drawer',\n          categories,\n        };\n        onClick = skoash.trigger.bind(null, 'goto', gotoObj);\n      }\n\n      return (\n        <skoash.ListItem\n          className={self.getClass(key)}\n          data-ref={key}\n          ref={key}\n          key={key}\n          onClick={onClick}\n        >\n          <span>{key}</span>\n          {(() => {\n            if (isFinal) return;\n            return (\n              <Menu\n                ref={'menu-' + key}\n                categories={categories}\n                items={item.items}\n                inactive={true}\n                level={(self.props.level || 0) + 1}\n                lastLevel={self.props.lastLevel}\n              />\n            );\n          })()}\n        </skoash.ListItem>\n      );\n    });\n  }\n\n  getClass(key) {\n    return classNames({\n      [key.replace(' ', '-')]: true,\n      [this.state.classes[key] || '']: true,\n    });\n  }\n\n  getClassNames() {\n    return classNames({\n      menu: true,\n      ACTIVE: this.state.active,\n    }, this.props.className);\n  }\n\n  render() {\n    return (\n      <ul\n        className={this.getClassNames()}\n        onClick={this.onClick.bind(this)}\n      >\n        {this.renderItems()}\n      </ul>\n    );\n  }\n}\n\nexport default Menu;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/menu/0.1.js\n **/","class QuitScreen extends skoash.Screen {\n  okay() {\n    skoash.trigger('quit');\n  }\n\n  cancel() {\n    this.close();\n    skoash.trigger('menuClose', {\n      id: this.props.id,\n    });\n  }\n\n  renderAssets() {\n    if (this.props.assets) {\n      return this.props.assets.map((asset, key) => {\n        return (\n          <skoash.Audio\n            {...asset.props}\n            ref={asset.ref || asset.props['data-ref'] || ('asset-' + key)}\n            key={key}\n            data-ref={key}\n          />\n        );\n      });\n    }\n\n    return null;\n  }\n\n  render() {\n    return (\n      <div id={this.props.id} className={'screen ' + this.getClassNames()}>\n        {this.renderAssets()}\n        <div className=\"center\">\n          <div className=\"frame\">\n            <h2>Are you sure you<br/>want to quit?</h2>\n            <h3>Your game progress will be saved</h3>\n            <button className=\"quit-yes\" onClick={this.okay.bind(this)}></button>\n            <button className=\"quit-no\" onClick={this.cancel.bind(this)}></button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default (\n  <QuitScreen\n    id=\"quit\"\n  />\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/quit_screen/0.1.js\n **/","class Reveal extends skoash.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      openReveal: '',\n    };\n\n    this.index = 0;\n  }\n\n  open(message) {\n    var self = this;\n    self.setState({\n      open: true,\n      openReveal: '' + message,\n    });\n\n    self.playAudio(message);\n\n    if (self.props.completeOnOpen) {\n      self.complete();\n    } else {\n      self.requireForComplete.map(key => {\n        if (key === message && self.refs[key]) {\n          self.refs[key].complete();\n        }\n      });\n    }\n\n    if (self.props.autoClose) {\n      setTimeout(function () {\n        self.close();\n      }, 2000);\n    }\n\n    if (this.props.openTarget) {\n      this.updateGameState({\n        path: this.props.openTarget,\n        data: {\n          open: '' + message\n        }\n      });\n    }\n\n    self.callProp('onOpen', message);\n  }\n\n  close() {\n    var prevMessage = this.state.openReveal;\n\n    this.setState({\n      open: false,\n      openReveal: '',\n    });\n\n    if (this.audio['close-sound']) {\n      this.audio['close-sound'].play();\n    }\n\n    this.callProp('onClose');\n\n    if (typeof this.props.closeRespond === 'function') {\n      this.props.closeRespond(prevMessage);\n    }\n  }\n\n  start() {\n    super.start();\n    if (this.props.openOnStart != null) {\n      this.open(this.props.openOnStart);\n    } else if (this.props.start && typeof this.props.start === 'function') {\n      this.props.start.call(this);\n    } else {\n      this.close();\n    }\n  }\n\n  playAudio(message) {\n    var messages;\n\n    if ('' + parseInt(message, 10) === message) {\n      message = 'asset-' + message;\n    }\n\n    if (this.audio['open-sound']) {\n      this.audio['open-sound'].play();\n    }\n\n    if (typeof message === 'string') {\n      messages = message.split(' ');\n      messages.map(audio => {\n        if (this.audio[audio]) {\n          this.audio[audio].play();\n        } else if (this.media[audio] && typeof this.media[audio].play === 'function') {\n          this.media[audio].play();\n        }\n      });\n    } else {\n      if (this.audio.voiceOver[message]) {\n        this.audio.voiceOver[message].play();\n      }\n    }\n  }\n\n  renderAssets() {\n    if (this.props.assets) {\n      return this.props.assets.map((asset, key) => {\n        var ref = asset.ref || asset.props['data-ref'] || ('asset-' + key);\n        return (\n          <asset.type\n            {...asset.props}\n            data-ref={key}\n            ref={ref}\n            key={key}\n          />\n        );\n      });\n    }\n\n    return null;\n  }\n\n  renderList() {\n    var list = this.props.list || this.list;\n\n    return list.map((li, key) => {\n      var ref = li.props['data-ref'] == null ? key : li.props['data-ref'];\n      return (\n        <li.type\n          {...li.props}\n          type=\"li\"\n          className={this.getClass(li, key)}\n          data-ref={ref}\n          ref={key}\n          key={key}\n        />\n      );\n    });\n  }\n\n  componentWillReceiveProps(props) {\n    if (props.openReveal != null && props.openReveal !== this.props.openReveal) {\n      this.open(props.openReveal);\n    }\n\n    if (props.closeReveal === true && props.closeReveal !== this.props.closeReveal) {\n      this.close();\n    }\n  }\n\n  getClass(li, key) {\n    var classes = '';\n\n    if (li.props.className) classes += li.props.className;\n    if (this.state.openReveal.indexOf(key) !== -1) classes += ' OPEN';\n    if (this.state.openReveal.indexOf(li.props['data-ref']) !== -1) classes += ' OPEN';\n\n    return classes;\n  }\n\n  getClassNames() {\n    var classes;\n    var open = 'open-none ';\n\n    if (this.state.openReveal) {\n      open = 'open-' + this.state.openReveal + ' ';\n    }\n\n    classes = 'reveal ' + open + super.getClassNames();\n\n    return classes;\n  }\n\n  render() {\n    return (\n      <div className={this.getClassNames()}>\n        {this.renderAssets()}\n        <div>\n          <ul>\n            {this.renderList()}\n          </ul>\n          <button className=\"close-reveal\" onClick={this.close.bind(this)}></button>\n        </div>\n      </div>\n    );\n  }\n}\n\nReveal.defaultProps = _.defaults({\n  list: [\n    <li></li>,\n    <li></li>,\n    <li></li>,\n    <li></li>\n  ],\n}, skoash.Component.defaultProps);\n\nexport default Reveal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/reveal/0.1.js\n **/","import Selectable from '../selectable/0.1';\n\nimport classNames from 'classnames';\n\nclass SavedMessages extends Selectable {\n  constructor() {\n    super();\n  }\n\n  selectHelper(e) {\n    var li, message, key, classes = [];\n\n    li = e.target.closest('LI');\n\n    if (!li) return;\n\n    key = li.getAttribute('data-ref');\n\n    message = this.refs[key].props.item;\n    classes[key] = this.state.selectClass;\n\n    this.setState({\n      message,\n      classes,\n    }, this.selectRespond.bind(this));\n  }\n\n  selectRespond() {\n    if (typeof this.props.selectRespond === 'function' && this.state.message) {\n      this.props.selectRespond(this.state.message);\n    }\n  }\n\n  getClass(key) {\n    return classNames({\n      [this.state.classes[key] || '']: true,\n      DRAFT: true,\n    });\n  }\n\n  getClassNames() {\n    return classNames({\n      'item-drawer': true,\n      SAVED: true,\n      COMPLETE: this.state.complete,\n    }, this.props.className);\n  }\n\n  renderThumb(item) {\n    var firstImg, background;\n\n    background = item && item.rules && item.rules.background &&\n      item.rules.background.src ? item.rules.background.src :\n      '';\n\n    firstImg = item && item.rules && item.rules.items &&\n      item.rules.items[0] && item.rules.items[0].src ?\n      item.rules.items[0].src : (\n        item && item.rules && item.rules.messages &&\n        item.rules.messages[0] && item.rules.messages[0].src ?\n        item.rules.messages[0].src : ''\n      );\n\n    return (\n      <div\n        className=\"thumbnail\"\n        style={{\n          backgroundImage: `url(${background})`\n        }}\n      >\n        <skoash.Image src={firstImg} />\n      </div>\n    );\n  }\n\n  renderList() {\n    var items, self = this;\n\n    if (!self.props.data || !self.props.data.items) return;\n\n    items = self.props.data.items;\n\n    if (!items.length) {\n      return (\n        <li className=\"empty\">\n          {this.props.emptyMessage}\n        </li>\n      );\n    }\n\n    return items.map((item, key) => {\n      var timestamp = moment.utc(item.updated).local();\n      return (\n        <skoash.ListItem\n          className={self.getClass(key)}\n          ref={key}\n          data-ref={key}\n          item={item}\n          key={key}\n        >\n          {self.renderThumb(item)}\n          <span className=\"timestamp\">\n            <span className=\"date\">{timestamp.format('MM.DD.YY')}</span>\n            <span className=\"time\">{timestamp.format('h:mm a')}</span>\n          </span>\n        </skoash.ListItem>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n          {this.renderList()}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default SavedMessages;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/saved_messages/0.1.js\n **/","import Selectable from 'shared/components/selectable/0.1.js';\nimport Reveal from 'shared/components/reveal/0.1.js';\n\nclass SelectableReveal extends skoash.Component {\n  constructor() {\n    super();\n  }\n\n  start() {\n    super.start();\n    this.setState({\n      canSelectOnStart: this.props.canSelectOnStart\n    });\n  }\n\n  open(message) {\n    this.refs.reveal.open(message);\n  }\n\n  selectRespond(message) {\n    if (this.props.answers.length) {\n      if (this.props.answers.indexOf(message) === -1) {\n        if (this.audio.incorrect) this.audio.incorrect.play();\n        if (this.props.revealAll) {\n          if (typeof this.refs.reveal.open === 'function') {\n            this.open(message);\n          }\n        }\n      } else {\n        if (this.audio.correct) this.audio.correct.play();\n        if (typeof this.refs.reveal.open === 'function') {\n          this.open(message);\n        }\n      }\n    } else {\n      if (this.props.allCorrect && this.audio.correct) {\n        this.audio.correct.play();\n      }\n      if (typeof this.refs.reveal.open === 'function') {\n        this.open(message);\n      }\n    }\n  }\n\n  closeRespond() {\n    if (typeof this.props.closeRespond === 'function') {\n      this.props.closeRespond();\n    }\n  }\n\n  renderAssets() {\n    if (this.props.assets) {\n      return this.props.assets.map((asset, key) => {\n        return (\n          <skoash.Audio\n            {...asset.props}\n            ref={asset.ref || asset.props['data-ref'] || ('asset-' + key)}\n            key={key}\n            data-ref={key}\n          />\n        );\n      });\n    }\n\n    return null;\n  }\n\n  renderSelectable() {\n    return (\n      <Selectable\n        ref=\"selectable\"\n        list={this.props.selectableList}\n        selectRespond={this.selectRespond.bind(this)}\n        selectClass={this.props.selectableSelectClass}\n        completeOnSelect={this.props.selectableCompleteOnSelect}\n        checkComplete={this.props.selectableCheckComplete}\n        randomizeList={this.props.randomizeSelectableList}\n        selectOnStart={this.props.selectOnStart}\n        chooseOne={this.props.chooseOne}\n        // answers={this.props.answers}\n        allowDeselect={this.props.allowDeselect}\n      />\n    );\n  }\n\n  renderReveal() {\n    return (\n      <Reveal\n        ref=\"reveal\"\n        list={this.props.revealList}\n        assets={this.props.revealAssets}\n        closeRespond={this.closeRespond.bind(this)}\n        completeOnOpen={this.props.revealCompleteOnOpen}\n        checkComplete={this.props.revealCheckComplete}\n        openOnStart={this.props.openOnStart}\n        hide={this.props.hideReveal}\n        openReveal={this.props.openReveal}\n        onOpen={this.props.onOpen}\n      />\n    );\n  }\n\n  getClasses() {\n    var classes = '';\n\n    if (this.state.complete) classes += ' COMPLETE';\n\n    return classes;\n  }\n\n  render() {\n    return (\n      <div className={'selectable-reveal' + this.getClasses()}>\n        {this.renderAssets()}\n        {this.renderSelectable()}\n        {this.renderReveal()}\n      </div>\n    );\n  }\n}\n\nSelectableReveal.defaultProps = _.defaults({\n  answers: [],\n  canSelectOnStart: true\n}, skoash.Component.defaultProps);\n\nexport default SelectableReveal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/components/selectable_reveal/0.1.js\n **/","import Canvas from 'shared/components/canvas/0.1';\nimport Menu from 'shared/components/menu/0.1';\nimport Selectable from 'shared/components/selectable/0.1';\n// import Reveal from 'shared/components/reveal/0.1';\n\nimport classNames from 'classnames';\n\nclass CanvasScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n      menu: {},\n      valid: true,\n    };\n\n    this.rightMenuList = [\n      <li className=\"preview\" onClick={this.preview.bind(this)}>\n        <span />\n      </li>,\n      <li className=\"send\" onClick={this.send.bind(this)}>\n        <span />\n      </li>\n    ];\n\n    this.setValid = this.setValid.bind(this);\n    this.closeReveal = this.closeReveal.bind(this);\n    this.setHasAssets = this.setHasAssets.bind(this);\n  }\n\n  getData() {\n    return this.refs.canvas.getItems();\n  }\n\n  reset() {\n    this.refs.canvas.reset();\n    this.setState({\n      background: false,\n      hasAssets: false,\n    });\n  }\n\n  addItem(message) {\n    if (message) {\n      this.setState({\n        hasAssets: true,\n        background: this.state.background ||\n              message.asset_type === 'background',\n      });\n      this.refs.canvas.addItem(message, () => {\n        skoash.trigger('save');\n      });\n    }\n  }\n\n  addItems(message) {\n    var hasAssets, background;\n\n    hasAssets = true;\n    background = !!message.rules.background;\n\n    this.mapRulesStringToNumbers(message.rules);\n\n    this.refs.canvas.setItems(message.rules);\n\n    this.setState({\n      hasAssets,\n      background,\n    });\n\n    if (message.friend_to) {\n      skoash.trigger('passData', {\n        name: 'add-recipient',\n        message: message.friend_to\n      });\n    }\n  }\n\n  setMenu() {\n    var menu, state = this.props.gameState;\n\n    if (state && state.data && state.data.menu) {\n      menu = state.data.menu;\n      this.setState({\n        menu,\n      });\n    }\n  }\n\n  mapRulesStringToNumbers(rules) {\n    if (!rules) return;\n\n    if (_.isArray(rules.items)) {\n      rules.items.forEach(item => {\n        item.state.left = parseFloat(item.state.left);\n        item.state.rotation = parseFloat(item.state.rotation);\n        item.state.scale = parseFloat(item.state.scale);\n        item.state.top = parseFloat(item.state.top);\n      });\n    }\n\n    if (_.isArray(rules.messages)) {\n      rules.messages.forEach(message => {\n        message.state.left = parseFloat(message.state.left);\n        message.state.rotation = parseFloat(message.state.rotation);\n        message.state.scale = parseFloat(message.state.scale);\n        message.state.top = parseFloat(message.state.top);\n      });\n    }\n\n    return rules;\n  }\n\n  open(opts = {}) {\n    this.setMenu();\n\n    if (this.refs && this.refs.menu) {\n      this.refs.menu.deactivate();\n    }\n\n    if (!opts.draft) skoash.trigger('save');\n\n    // interval = setInterval(() => {\n    //   skoash.trigger('save');\n    // }, 120000);\n\n    // this.setState({\n    //   interval\n    // });\n\n    super.open();\n  }\n\n  close() {\n    skoash.trigger('save');\n    // clearInterval(this.state.interval);\n    // this.setState({\n    //   interval: null\n    // });\n    super.close();\n  }\n\n  setValid(valid) {\n    this.setState({\n      valid\n    });\n  }\n\n  setHasAssets(hasAssets) {\n    this.setState({\n      hasAssets\n    });\n  }\n\n  send() {\n    if (!this.state.valid) return;\n    this.goto('send');\n  }\n\n  preview() {\n    if (!this.state.valid) return;\n    this.goto('preview');\n  }\n\n  closeReveal() {\n    if (this.refs && this.refs.reveal) {\n      this.refs.reveal.close();\n    }\n  }\n\n  getContainerClasses() {\n    return classNames({\n      'canvas-container': true,\n      BACKGROUND: this.state.background,\n    });\n  }\n\n  getClassNames() {\n    return classNames({\n      'HAS-ASSETS': this.state.hasAssets,\n      'INVALID': !this.state.valid,\n    }, skoash.Screen.prototype.getClassNames.call(this));\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <skoash.Image className=\"hidden\" src=\"media/_Frames/SK_frames_canvas.png\" />\n        <skoash.Image className=\"hidden\" src=\"media/_Buttons/SK_btn_friend.png\" />\n        <Menu\n          ref={'menu'}\n          items={this.state.menu.items}\n          level={0}\n          lastLevel={1}\n        />\n        <div className={this.getContainerClasses()}>\n          <Canvas\n            ref={'canvas'}\n            setValid={this.setValid}\n            setHasAssets={this.setHasAssets}\n            itemMinDim={150}\n          />\n        </div>\n        <Selectable className=\"menu right-menu\" list={this.rightMenuList} />\n      </div>\n    );\n    // move this back up below the Selectable when there is an instructional help video\n    /*\n        <Reveal\n          ref=\"reveal\"\n          openOnStart=\"0\"\n          list={[\n            <li>\n              <skoash.Image className=\"otter\" src={'media/_Otter/Otter_Static_GreetingTwo.png'} />\n              <div className=\"bubble\">\n                Welcome to your canvas!<br/><br/>\n                Would you like me<br/>\n                to show you around?\n                <div className=\"buttons\">\n                  <button\n                    className=\"yes\"\n                    onClick={skoash.trigger.bind(null, 'openMenu', {id: 'help'})}\n                  />\n                  <button\n                    className=\"no\"\n                    onClick={this.closeReveal}\n                  />\n                </div>\n              </div>\n            </li>\n          ]}\n        />\n    */\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <CanvasScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"canvas\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/canvas_screen.js\n **/","import ItemDrawer from '../../shared/components/item_drawer/0.1.js';\n\nconst DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\nclass FriendScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n      complete: true,\n      recipient: {},\n      opts: {},\n    };\n  }\n\n  selectRespond(message) {\n    skoash.trigger('pass-data', {\n      name: 'add-recipient',\n      goto: this.state.opts.goto,\n      message\n    });\n  }\n\n  updateData(d) {\n    var data = d && d.user ? d.user : this.props.gameState.data.user || [];\n\n    data = data.map(friend => {\n      var src = friend._embedded.image && friend._embedded.image.url ?\n        friend._embedded.image.url :\n        DEFAULT_PROFILE_IMAGE;\n      return {\n        'user_id': friend.friend_id,\n        name: friend.username,\n        src,\n        // I need to get the flips earned back from the backend to do this.\n        description: '',\n        // description: friend.flips_earned + ' Flips Earned',\n        'asset_type': 'friend',\n      };\n    });\n\n    this.setState({\n      data,\n    });\n  }\n\n  open(opts) {\n    var recipient, self = this;\n\n    self.updateData();\n\n    skoash.trigger('getData', {\n      name: 'getFriends'\n    }).then(data => {\n      self.updateData.call(self, data);\n    });\n\n    recipient = this.props.gameState.recipient;\n\n    self.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n      recipient,\n      opts,\n    }, () => {\n      self.refs.drawer && self.refs.drawer.start();\n    });\n\n    if (!self.state.started) {\n      self.start();\n    }\n  }\n\n  suggestFriends() {\n    window.open(window.location.origin.replace('games-', '') + '/friends/suggested');\n  }\n\n  save() {\n    skoash.trigger('goto', {\n      index: 'canvas',\n    });\n    skoash.trigger('openMenu', {id: 'save'});\n  }\n\n  renderOtter() {\n    var copy, src;\n\n    src = 'One';\n    copy = (\n      <span>\n        Don't have<br/> friends yet?<br/><br/> Let me suggest<br/> some for you.\n      </span>\n    );\n\n    if (this.state.data && this.state.data.length) {\n      src = 'Two';\n      copy = (\n        <span>\n          Let me find a friend<br/> to send your message to.\n        </span>\n      );\n    }\n\n    return (\n      <div className={'otter-container ' + src}>\n        <skoash.Image className=\"otter\" src={`media/_Otter/Otter_Static_Greeting${src}.png`} />\n        <div className=\"bubble\">\n          {copy}\n        </div>\n      </div>\n    );\n  }\n\n  renderFriends() {\n    if (this.state.data && this.state.data.length) {\n      return (\n        <ItemDrawer\n          ref=\"drawer\"\n          selectRespond={this.selectRespond.bind(this)}\n          cancelRespond={this.back}\n          categories={this.state.opts.categories}\n          data={this.state.data}\n          selectedItem={this.state.recipient}\n          buttons={this.buttons}\n          complete={true}\n          className={this.state.opts.goto}\n        />\n      );\n    }\n\n    return (\n      <div className={this.state.opts.goto}>\n        <div className=\"item-drawer-container\">\n          <div className=\"suggest-friends-buttons\">\n            <button className=\"continue\" onClick={this.selectRespond.bind(this, {})} />\n            <button className=\"suggest\" onClick={this.suggestFriends} />\n            <button className=\"save-to-drafts\" onClick={this.save} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <div className=\"header\" />\n        {this.renderOtter()}\n        {this.renderFriends()}\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <FriendScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"friends\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/friend_screen.js\n **/","import SelectableReveal from '../../shared/components/selectable_reveal/0.1.js';\nimport Inbox from '../../shared/components/inbox/0.1.js';\nimport SavedMessages from '../../shared/components/saved_messages/0.1.js';\n\nconst inboxEmptyMessage = (\n  <span>\n    You haven't received any Skribbles!<br/>\n    Get started by sending some!\n  </span>\n  );\nconst unreadEmptyMessage = (\n  <span>\n    You don't have any<br/>\n    unread Skribbles!\n  </span>\n  );\nconst readEmptyMessage = (\n  <span>\n    You don't have any<br/>\n    read Skribbles!\n  </span>\n  );\nconst sentEmptyMessage = (\n  <span>\n    You haven't sent any Skribbles.<br/>\n    Let's get started!\n  </span>\n  );\nconst draftsEmptyMessage = (\n  <span>\n    You don't have any drafts.<br/>\n    Start Skribbling!\n  </span>\n  );\n\n\nclass InboxScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n    };\n\n    this.selectableList = [\n      <li />,\n      <li />,\n      <li />,\n      <li />,\n      <li />,\n    ];\n\n    this.revealList = this.getRevealList();\n\n    this.readMessage = this.readMessage.bind(this);\n    this.editMessage = this.editMessage.bind(this);\n  }\n\n  getRevealList(inbox, outbox, saved) {\n    var read, unread, props = this.props || {};\n\n    inbox = inbox || [];\n\n    read = inbox.filter(item => {\n      return item.read;\n    });\n\n    unread = inbox.filter((item) => {\n      return !item.read;\n    });\n\n    return [\n      <li>\n        <Inbox\n          data-ref=\"inbox\"\n          data={{\n            items: inbox || [],\n          }}\n          emptyMessage={inboxEmptyMessage}\n          selectRespond={this.readMessage}\n          gameState={props.gameState}\n        />\n      </li>,\n      <li>\n        <Inbox\n          data-ref=\"unread\"\n          data={{\n            items: unread || [],\n          }}\n          emptyMessage={unreadEmptyMessage}\n          selectRespond={this.readMessage}\n          gameState={props.gameState}\n        />\n      </li>,\n      <li>\n        <Inbox\n          data-ref=\"read\"\n          data={{\n            items: read || [],\n          }}\n          emptyMessage={readEmptyMessage}\n          selectRespond={this.readMessage}\n          gameState={props.gameState}\n        />\n      </li>,\n      <li>\n        <Inbox\n          data-ref=\"outbox\"\n          data={{\n            items: outbox || [],\n          }}\n          emptyMessage={sentEmptyMessage}\n          friendKey=\"friend_to\"\n          selectRespond={this.readMessage}\n          gameState={props.gameState}\n        />\n      </li>,\n      <li>\n        <SavedMessages\n          data-ref=\"saved\"\n          data={{\n            items: saved || [],\n          }}\n          emptyMessage={draftsEmptyMessage}\n          selectRespond={this.editMessage}\n        />\n      </li>,\n    ];\n  }\n\n  editMessage(message) {\n    skoash.trigger('loadSkribble', {\n      message,\n    });\n  }\n\n  readMessage(message) {\n    skoash.trigger('goto', {\n      index: 'read',\n      message,\n    });\n  }\n\n  updateData() {\n    var data, inbox, outbox, saved;\n\n    data = this.props.gameState.data;\n    inbox = data.received;\n    outbox = data.sent;\n    saved = data.draft;\n\n    this.revealList = this.getRevealList(inbox, outbox, saved);\n\n    this.setState({\n      inbox,\n      outbox,\n      saved,\n    });\n  }\n\n  open() {\n    var self = this;\n\n    skoash.trigger('getData', {\n      status: 'received',\n    }).then(() => {\n      self.updateData();\n    });\n\n    skoash.trigger('getData', {\n      status: 'sent',\n    }).then(() => {\n      self.updateData();\n    });\n\n    skoash.trigger('getData', {\n      status: 'draft',\n    }).then(() => {\n      self.updateData();\n    });\n\n    self.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n    });\n\n    setTimeout(() => {\n      if (!self.state.started) {\n        self.start();\n      }\n    }, 250);\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <div className=\"center\">\n          <div className=\"frame\">\n            <SelectableReveal\n              ref={'selectableReveal'}\n              selectableList={this.selectableList}\n              revealList={this.revealList}\n              selectOnStart={'0'}\n              openOnStart={'0'}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <InboxScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"inbox\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/inbox_screen.js\n **/","import ItemDrawer from '../../shared/components/item_drawer/0.1.js';\n\nclass ItemDrawerScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      opts: {\n        categories: [],\n      },\n    };\n\n  }\n\n  selectRespond(message) {\n    skoash.trigger('pass-data', {\n      name: 'add-item',\n      message\n    });\n  }\n\n  updateData(d) {\n    var data = d ? d : this.props.gameState.data.menu.items;\n\n    this.state.opts.categories.forEach(key => {\n      if (data[key]) data = data[key];\n      if (data.items) data = data.items;\n    });\n\n    data = _.values(data);\n\n    this.setState({\n      data,\n    });\n  }\n\n  open(opts) {\n    var self = this;\n\n    skoash.trigger('getMedia', {\n      path: 'skribble/menu/' + opts.categories.join('/')\n    }).then(data => {\n      self.updateData(data);\n    });\n\n    self.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n      opts,\n      data: null\n    }, () => {\n      self.updateData();\n    });\n\n    setTimeout(() => {\n      if (!self.state.started) {\n        self.start();\n      }\n    }, 250);\n  }\n\n  cancelRespond() {\n    if (this.state.category) {\n      this.setState({\n        category: '',\n        categoryName: '',\n      });\n    } else {\n      skoash.trigger('goto', {index: 'canvas'});\n    }\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <ItemDrawer\n          ref=\"drawer\"\n          selectRespond={this.selectRespond.bind(this)}\n          cancelRespond={this.cancelRespond}\n          categories={this.state.opts.categories}\n          data={this.state.data}\n        />\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <ItemDrawerScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"item-drawer\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/item_drawer_screen.js\n **/","class MenuScreen extends skoash.Screen {\n  renderContent() {\n    return (\n      <div>\n        <skoash.Image className=\"hidden\" src=\"media/_Background/SK_BKG_1.png\" />\n        <skoash.Image className=\"otter\" src=\"media/_Otter/Waving_Otter2.gif\" />\n        <div className=\"bubble\">\n          Hi there!<br/>\n          What would you<br/>\n          like to do today?\n        </div>\n        <div className=\"buttons\">\n          <button className=\"make\" onClick={this.goto.bind(this, 'friend')} />\n          <button className=\"read\" onClick={this.goto.bind(this, 'inbox')} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <MenuScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"menu\"\n      hidePrev\n      hideNext\n      load\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/menu_screen.js\n **/","import Canvas from 'shared/components/canvas/0.1';\nimport Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n  skribbleBox: 'skribble-box',\n  box: 'box',\n  leftMenu: 'menu left-menu',\n  rightMenu: 'menu right-menu',\n};\n\nconst refs = {\n  box: 'box',\n  canvas: 'canvas'\n};\n\nclass PreviewScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n      opts: {},\n    };\n\n    this.leftMenuList = [\n      <li className=\"edit\" onClick={this.goto.bind(this, 'canvas')}>\n        <span />\n      </li>,\n    ];\n\n    this.rightMenuList = [\n      <li className=\"send\" onClick={this.goto.bind(this, 'send')}>\n        <span />\n      </li>\n    ];\n  }\n\n  open(opts) {\n    skoash.trigger('getRules').then(rules => {\n      this.refs[refs.box].refs[refs.canvas].setItems(rules);\n      super.open(opts);\n    });\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <skoash.Component ref={refs.box} className={classNameText.skribbleBox}>\n          <Canvas ref={refs.canvas} preview />\n          <div className={classNameText.box} />\n        </skoash.Component>\n        <Selectable className={classNameText.leftMenu} list={this.leftMenuList} />\n        <Selectable className={classNameText.rightMenu} list={this.rightMenuList} />\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <PreviewScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"preview\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/preview_screen.js\n **/","import classNames from 'classnames';\n\nimport Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n  skribbleBox: 'skribble-box',\n  box: 'box',\n  leftMenu: 'menu left-menu',\n  rightMenu: 'menu right-menu',\n  sender: 'menu recipient sender',\n};\n\nconst refs = {\n  box: 'box',\n};\n\nclass ReadScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state.load = true;\n    this.state.message = {user: {}};\n\n    this.leftMenuList = [\n      <li className=\"inbox\" onClick={this.goto.bind(this, 'inbox')}>\n        <span />\n      </li>\n    ];\n\n    this.rightMenuList = [\n      <li className=\"reply\" onClick={this.reply.bind(this)}>\n        <span />\n      </li>\n    ];\n  }\n\n  reply() {\n    skoash.trigger('passData', {\n      name: 'add-recipient',\n      message: this.state.message.created_by,\n    });\n  }\n\n  open(opts) {\n    var message, friends, creater;\n\n    message = opts.message || {};\n\n    friends = this.props.gameState.data.user || [];\n    friends.forEach(friend => {\n      if (message.created_by === friend.friend_id) {\n        creater = friend;\n      }\n    });\n\n    this.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n      message,\n      creater\n    });\n\n    this.start();\n\n    skoash.trigger('getData', {\n      name: 'markAsRead',\n      'skribble_id': message.skribble_id,\n    });\n  }\n\n  getSenderClassNames() {\n    return classNames(\n      classNameText.sender, {\n        HIDE: !this.state.creater || this.state.message.sent\n      }\n    );\n  }\n\n  renderSender() {\n    var creater, content = [];\n\n    creater = this.state.creater;\n\n    if (!creater) return;\n\n    if (creater.username) {\n      content.push(<span className=\"name\">{creater.username}</span>);\n    }\n\n    if (creater._embedded.image) {\n      content.push(<img className=\"profile-image\" src={creater._embedded.image.url} />);\n    }\n\n    return content;\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <ul className={this.getSenderClassNames()}>\n          <li>\n            <span>\n              {this.renderSender()}\n            </span>\n          </li>\n        </ul>\n        <skoash.Component ref={refs.box} className={classNameText.skribbleBox}>\n          <skoash.Image src={this.state.message.url} />\n          <div className={classNameText.box} />\n        </skoash.Component>\n        <Selectable className={classNameText.leftMenu} list={this.leftMenuList} />\n        <Selectable className={classNameText.rightMenu} list={this.rightMenuList} />\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <ReadScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"read\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/read_screen.js\n **/","class SaveMenu extends skoash.Screen {\n  cancel() {\n    this.close();\n    skoash.trigger('menuClose', {\n      id: this.state.id,\n    });\n  }\n\n  render() {\n    return (\n      <div id={this.props.id} className={this.getClassNames()}>\n        <div className=\"center\">\n          <div className=\"frame\">\n            <button className=\"quit-saved\" onClick={this.cancel.bind(this)}></button>\n            <h2>Your progress</h2>\n            <h2>has been saved</h2>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default (\n  <SaveMenu\n    id=\"save\"\n  />\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/save_menu.js\n **/","import Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n  yourMessageTo: 'your-message-to',\n  isReady: 'is-ready',\n  changeFriend: 'change-friend',\n  character: 'character',\n  gift: 'gift',\n  header: 'header',\n  username: 'username',\n};\n\nclass SendScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state.load = true;\n    this.state.recipient = {};\n\n    this.rightMenuList = [\n      <li className=\"edit-right\" onClick={this.goto.bind(this, 'canvas')}>\n        <span />\n      </li>,\n      <li className=\"send\" onClick={this.send}>\n        <span />\n      </li>\n    ];\n  }\n\n  open() {\n    var recipient = this.props.gameState.recipient || {};\n\n    this.setState({\n      load: true,\n      open: true,\n      leave: false,\n      close: false,\n      recipient\n    });\n\n    this.start();\n  }\n\n  send() {\n    skoash.trigger('pass-data', {\n      name: 'send',\n    });\n  }\n\n  renderContent() {\n    var changeFriendClick = this.goto.bind(this, {\n      index: 'friend',\n      goto: 'send',\n    });\n\n    return (\n      <div>\n        <div className={classNameText.header}>\n          <span className={classNameText.yourMessageTo} />\n          <span className={classNameText.username}>{this.state.recipient.name}</span>\n          <br/>\n          <span className={classNameText.isReady} />\n          <button className={classNameText.changeFriend} onClick={changeFriendClick} />\n        </div>\n        <div className={classNameText.character}>\n          <skoash.Image className=\"otter\" src=\"media/_Otter/Otter_Static_GreetingTwo.png\" />\n          <div className=\"bubble\">\n            Are you sure<br/>\n            you are ready to<br/>\n            send your message?\n          </div>\n        </div>\n        <div className={classNameText.gift} />\n        <Selectable className=\"menu right-menu\" list={this.rightMenuList} />\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <SendScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"send\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/send_screen.js\n **/","const classNameText = {\n  character: 'character',\n  header: 'header',\n  yourMessageTo: 'your-message-to',\n  username: 'username',\n  isReady: 'is-ready',\n  buttons: 'buttons',\n  createAnother: 'create-another',\n  inbox: 'inbox',\n};\n\nconst text = {\n  yourMessageTo: 'YOUR MESSAGE TO:',\n  hasBeenSent: 'IS BEING SENT!',\n};\n\nclass SentScreen extends skoash.Screen {\n  constructor() {\n    super();\n\n    this.state = {\n      load: true,\n      opts: {\n        recipient: {}\n      },\n    };\n  }\n\n  renderContent() {\n    return (\n      <div>\n        <div className={classNameText.character} />\n        <div className={classNameText.header}>\n          <span className={classNameText.yourMessageTo}>{text.yourMessageTo}</span>\n          <span className={classNameText.username}>{this.state.opts.recipient.name}</span>\n          <br/>\n          <span className={classNameText.isReady}>{text.hasBeenSent}</span>\n        </div>\n        <div className={classNameText.buttons}>\n          <button className={classNameText.createAnother} onClick={this.goto.bind(this, 'friend')} />\n          <button className={classNameText.inbox} onClick={this.goto.bind(this, 'inbox')} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default function (props, ref, key) {\n  return (\n    <SentScreen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"sent\"\n      hideNext\n      hidePrev\n    />\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/sent_screen.js\n **/","export default function (props, ref, key) {\n  return (\n    <skoash.Screen\n      {...props}\n      ref={ref}\n      key={key}\n      id=\"title\"\n      hidePrev\n      nextDelay={1000}\n      nextIndex=\"menu\"\n    >\n      <skoash.Image\n        ref=\"title\"\n        className=\"title animated\"\n        src=\"media/_Title/SKribble_title.png\"\n      />\n      <skoash.Image\n        ref=\"play\"\n        className=\"hidden\"\n        src=\"media/_Buttons/skribble-play-01.png\"\n      />\n      <skoash.Image\n        ref=\"play-hover\"\n        className=\"hidden\"\n        src=\"media/_Buttons/skribble-hover.png\"\n      />\n    </skoash.Screen>\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/components/title_screen.js\n **/","var config = {\n  id: 'skribble',\n  version: 1,\n  skoash: '1.0.3',\n  dimensions: {\n    width: 1600,\n    ratio: 16 / 9\n  },\n};\n\nexport default config;\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/config.game.js\n **/","import config from './config.game';\n\nimport Loader from 'shared/components/loader/0.1';\n\nimport iOSScreen from 'shared/components/ios_splash_screen/0.1';\nimport TitleScreen from './components/title_screen';\nimport MenuScreen from './components/menu_screen';\nimport FriendScreen from './components/friend_screen';\nimport CanvasScreen from './components/canvas_screen';\nimport ItemDrawerScreen from './components/item_drawer_screen';\nimport InboxScreen from './components/inbox_screen';\nimport PreviewScreen from './components/preview_screen';\nimport SendScreen from './components/send_screen';\nimport SentScreen from './components/sent_screen';\nimport ReadScreen from './components/read_screen';\n\nimport QuitScreen from 'shared/components/quit_screen/0.1';\nimport SaveMenu from './components/save_menu';\n\nconst DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\nclass Skribble extends skoash.Game {\n  constructor() {\n    super(config);\n\n    this.screens = {\n      0: iOSScreen,\n      1: TitleScreen,\n      menu: MenuScreen,\n      friend: FriendScreen,\n      canvas: CanvasScreen,\n      'item-drawer': ItemDrawerScreen,\n      inbox: InboxScreen,\n      preview: PreviewScreen,\n      send: SendScreen,\n      sent: SentScreen,\n      read: ReadScreen,\n    };\n\n    this.menus = {\n      quit: QuitScreen,\n      save: SaveMenu,\n    };\n\n    this.state.data.screens = _.map(this.screens, () => ({}));\n\n    this.getFriends = _.throttle(this.getData.bind(this, {name: 'getFriends'}), 1000);\n    this.getMediaOnReady = _.throttle(this.getMedia.bind(this), 1000);\n  }\n\n  goto(opts) {\n    if (opts.index === 'send') {\n      if (!this.state.recipient || !this.state.recipient.name) {\n        opts.index = 'friend';\n        opts.goto = 'send';\n      }\n    }\n\n    super.goto(opts);\n  }\n\n  ready() {\n    if (!this.state.ready) {\n      this.getMediaOnReady();\n      this.getFriends();\n    }\n\n    super.ready();\n  }\n\n  getRules() {\n    return this.refs['screen-canvas'].getData();\n  }\n\n  save(e, skramble) {\n    /* eslint-disable camelcase */\n    var friend_to, rules, self = this;\n    friend_to = self.state.recipient && self.state.recipient.user_id ? self.state.recipient.user_id : null;\n    rules = self.getRules();\n    var skribble = {\n      'version': config.version,\n      ...self.state.skribbleData,\n      friend_to,\n      skramble,\n      rules\n    };\n\n    if (!rules.background && !rules.items.length && !rules.messages.length) {\n      return;\n    }\n\n    if (JSON.stringify(skribble) !== JSON.stringify(this.state.skribble)) {\n      self.emit({\n        name: 'saveSkribble',\n        game: self.config.id,\n        skribble,\n      }).then(skribbleData => {\n        self.setState({\n          skribbleData,\n          skribble\n        });\n      });\n    }\n    /* eslint-enable camelcase */\n  }\n\n  send() {\n    this.save(null, true);\n\n    this.refs['screen-canvas'].reset();\n    this.goto({\n      index: 'sent',\n      recipient: this.state.recipient,\n    });\n\n    this.setState({\n      recipient: null,\n      skribbleData: null,\n    });\n  }\n\n  trigger(event, opts) {\n    switch (event) {\n    case 'save':\n      return this.save();\n    case 'getMedia':\n      return this.getMedia(opts.path);\n    case 'getRules':\n      return this.getRules();\n    case 'loadSkribble':\n      return this.loadSkribble(opts);\n    }\n\n    return super.trigger(event, opts);\n  }\n\n  loadSkribble(opts) {\n    this.setState({\n      skribbleData: opts.message\n    }, () => {\n      this.refs['screen-canvas'].addItems(opts.message);\n      this.goto({\n        index: 'canvas',\n        draft: true,\n      });\n    });\n  }\n\n  getMedia(path) {\n    var pathArray, self = this;\n\n    path = path || 'skribble/menu';\n    pathArray = path.split('/');\n    pathArray.shift();\n\n    return self.emit({\n      name: 'getMedia',\n      path\n    }).then(d => {\n      var opts, currentOpts;\n      opts = {\n        data: {},\n        callback: () => {\n          self.refs['screen-canvas'].setMenu();\n          self.refs['screen-item-drawer'].updateData();\n        }\n      };\n      currentOpts = opts.data;\n\n      pathArray.forEach((key, index) => {\n        currentOpts[key] = {\n          items: {}\n        };\n        if (index !== pathArray.length - 1) {\n          currentOpts = currentOpts[key].items;\n        }\n      });\n\n      currentOpts[pathArray[pathArray.length - 1]] = _.clone(d);\n      currentOpts[pathArray[pathArray.length - 1]].items = {};\n\n      if (d.items) {\n        d.items.forEach(item => {\n          if (item.asset_type === 'folder' && item.name) {\n            self.getMedia(path + '/' + item.name);\n          } else {\n            currentOpts[pathArray[pathArray.length - 1]].items[item.name] = item;\n          }\n        });\n      }\n\n      self.updateData(opts);\n    });\n  }\n\n  getData(opts) {\n    var names = [\n      'getFriends',\n      'getFriend',\n      'markAsRead',\n    ];\n\n    if (names.indexOf(opts.name) === -1) {\n      opts.name = 'getData';\n    }\n\n    return this.emit(opts).then(data => {\n      if (opts.status) {\n        data[opts.status] = data.skribble;\n        delete data.skribble;\n        this.updateData({\n          data\n        });\n      } else {\n        this.updateData({\n          data,\n          callback: opts.callback,\n        });\n      }\n    });\n  }\n\n  passData(opts) {\n    if (opts.name === 'add-item') {\n      this.refs['screen-canvas'].addItem(opts.message);\n      this.goto({ index: 'canvas' });\n    } else if (opts.name === 'add-recipient') {\n      this.addRecipient(opts.message, this.goto.bind(this, { index: opts.goto || 'canvas' }));\n    } else if (opts.name === 'send') {\n      this.send();\n    }\n  }\n\n  addRecipient(recipient, cb) {\n    var src;\n\n    if (recipient.src) {\n      recipient.profile_image = recipient.src; // eslint-disable-line camelcase\n      delete recipient.src;\n    } else if (typeof recipient === 'string') {\n      if (this.state.data && this.state.data.user) {\n        this.state.data.user.some(friend => {\n          if (friend.friend_id === recipient) {\n            recipient = friend;\n            return true;\n          }\n          return false;\n        });\n      }\n    }\n\n    if (typeof recipient === 'string') {\n      this.getData({\n        name: 'getFriend',\n        'friend_id': recipient,\n        callback: () => {\n          this.addRecipient(recipient, cb);\n        }\n      });\n    } else {\n      src = recipient && recipient._embedded && recipient._embedded.image && recipient._embedded.image.url ?\n        recipient._embedded.image.url :\n        recipient.profile_image || DEFAULT_PROFILE_IMAGE;\n      this.setState({\n        recipient: {\n          'user_id': recipient.user_id || recipient.friend_id,\n          name: recipient.name || recipient.username,\n          src,\n          // I need to get the flips earned back from the backend to do this.\n          description: '',\n          // description: friend.flips_earned + ' Flips Earned',\n          'asset_type': 'friend',\n        }\n      }, cb);\n    }\n  }\n\n  clickRecipient() {\n    this.goto({\n      index: 'friend'\n    });\n  }\n\n  create() {\n    if (this.state.recipient) {\n      this.goto({index: 'canvas'});\n    } else {\n      this.goto({index: 'friend'});\n    }\n  }\n\n  saveButton() {\n    this.save();\n    this.openMenu({id: 'save'});\n  }\n\n  renderLoader() {\n    return (\n      <Loader />\n    );\n  }\n\n  renderAssets() {\n    return (\n      <div>\n        <div className=\"background-1\" />\n        <div className=\"background-2\" />\n        <div className=\"background-3\" />\n        <div className=\"background-4\" />\n        <div className=\"background-5\" />\n        <div className=\"background-6\" />\n      </div>\n    );\n  }\n\n  renderRecipient() {\n    var recipient = this.state.recipient, content = [];\n\n    if (!recipient) return;\n\n    if (recipient.name) {\n      content.push(<span className=\"name\">{recipient.name}</span>);\n    }\n\n    if (recipient.profile_image) {\n      content.push(<img className=\"profile-image\" src={recipient.profile_image} />);\n    }\n\n    return content;\n  }\n\n  renderMenu() {\n    return (\n      <div>\n        <div className=\"game-menu\">\n          <button className=\"save\" onClick={this.saveButton.bind(this)} />\n          <button className=\"inbox\" onClick={this.goto.bind(this, {index: 'inbox'})} />\n          <button className=\"create\" onClick={this.create.bind(this)} />\n          <button className=\"help\" onClick={this.openMenu.bind(this, {id: 'help'})} />\n          <button className=\"close\" onClick={this.openMenu.bind(this, {id: 'quit'})} />\n        </div>\n        <ul className=\"menu recipient\">\n          <li onClick={this.clickRecipient.bind(this)}>\n            <span>\n              {this.renderRecipient()}\n            </span>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n\n}\n\nskoash.start(Skribble, config.id);\n\n\n\n/** WEBPACK FOOTER **\n ** ./skribble/index.js\n **/","'use strict';\nmodule.exports = require('./lib/index');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/index.js\n ** module id = 29\n ** module chunks = 0\n **/","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/decode.js\n ** module id = 30\n ** module chunks = 0\n **/","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/encode.js\n ** module id = 31\n ** module chunks = 0\n **/","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar isValid = require('./is-valid');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/index.js\n ** module id = 32\n ** module chunks = 0\n **/","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/is-valid.js\n ** module id = 33\n ** module chunks = 0\n **/","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/random/random-byte-browser.js\n ** module id = 34\n ** module chunks = 0\n **/","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/random/random-from-seed.js\n ** module id = 35\n ** module chunks = 0\n **/","'use strict';\n\nmodule.exports = 0;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/shortid/lib/util/cluster-worker-id-browser.js\n ** module id = 36\n ** module chunks = 0\n **/"],"sourceRoot":""}