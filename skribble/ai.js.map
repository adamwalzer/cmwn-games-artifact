{"version":3,"sources":["webpack:///skribble/ai.js","webpack:///webpack/bootstrap 09d4c816ba12d27c8b06","webpack:///../~/classnames/index.js","webpack:///./shared/components/selectable/0.1.js","webpack:///../~/shortid/lib/alphabet.js","webpack:///./shared/components/canvas/0.1.js","webpack:///./shared/components/item_drawer/0.1.js","webpack:///./shared/components/draggable/0.1.js","webpack:///./shared/components/editable_asset/0.1.js","webpack:///./shared/components/inbox/0.1.js","webpack:///./shared/components/ios_splash_screen/0.1.js","webpack:///./shared/components/loader/0.1.js","webpack:///./shared/components/menu/0.1.js","webpack:///./shared/components/quit_screen/0.1.js","webpack:///./shared/components/repeater/0.1.js","webpack:///./shared/components/reveal/0.1.js","webpack:///./shared/components/saved_messages/0.1.js","webpack:///./shared/components/scroll_area/0.1.js","webpack:///./shared/components/selectable_reveal/0.1.js","webpack:///./shared/js/prod-variables.js","webpack:///./skribble/components/canvas_screen.js","webpack:///./skribble/components/collision_warning.js","webpack:///./skribble/components/friend_screen.js","webpack:///./skribble/components/inbox_screen.js","webpack:///./skribble/components/item_drawer_screen.js","webpack:///./skribble/components/limit_warning.js","webpack:///./skribble/components/menu_screen.js","webpack:///./skribble/components/preview_screen.js","webpack:///./skribble/components/read_screen.js","webpack:///./skribble/components/save_menu.js","webpack:///./skribble/components/send_screen.js","webpack:///./skribble/components/sent_screen.js","webpack:///./skribble/components/title_screen.js","webpack:///./skribble/config.game.js","webpack:///./skribble/index.js","webpack:///../~/shortid/index.js","webpack:///../~/shortid/lib/decode.js","webpack:///../~/shortid/lib/encode.js","webpack:///../~/shortid/lib/index.js","webpack:///../~/shortid/lib/is-valid.js","webpack:///../~/shortid/lib/random/random-byte-browser.js","webpack:///../~/shortid/lib/random/random-from-seed.js","webpack:///../~/shortid/lib/util/cluster-worker-id-browser.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","apply","key","hasOwn","join","hasOwnProperty","undefined","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","source","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_classnames","_classnames2","Selectable","_skoash$Component","this","_this","state","selectFunction","select","start","selectClass","highlight","selectOnStart","setState","started","bootstrap","refs","bin","list","getAll","selectHelper","e","ref","dataRef","isCorrect","closest","getAttribute","correct","answers","indexOf","allowDeselect","selectRespond","onSelect","chooseOne","complete","dataTarget","updateGameState","path","data","completeListOnClick","_","each","r","k","invoke","getClass","li","className","getClassNames","renderBin","React","createElement","type","renderList","_this2","map","message","data-message","data-ref","render","onClick","bind","skoash","Component","defaultProps","defaults","noop","reset","shuffled","setCharacters","_alphabet_","alphabet","ORIGINAL","Error","unique","split","filter","item","ind","arr","lastIndexOf","characters","setSeed","seed","randomFromSeed","previousSeed","shuffle","sourceArray","targetArray","nextValue","characterIndex","Math","floor","splice","getShuffled","lookup","index","alphabetShuffled","_defineProperty","_typeof","Symbol","iterator","_2","_3","Canvas","background","items","messages","offsetX","offsetY","active","valid","deleteItem","checkItem","deactivateItems","relayerItems","setValid","dom","ReactDOM","findDOMNode","width","offsetWidth","height","offsetHeight","getItems","left","top","scale","rotation","layer","corners","check","mime_type","remove","n","setItems","addItem","forEach","asset","cb","_this3","count","asset_type","trigger","name","media_id","then","d","reduce","v","src","maxInstances","exclude","_this4","tagName","deactivate","_this5","layers","sort","a","b","oldLayer","newLayer","relayer","isInBounds","can_overlap","some","util","doIntersect","x","y","getStyle","backgroundImage","renderItems","_this6","minDim","itemMinDim","renderMessages","_this7","messageMinDim","canvasWidth","canvasHeight","canvas","ACTIVE","preview","style","_shortid","_shortid2","_4","_5","ItemDrawer","_Selectable","selectedItem","category","JSON","stringify","categoryName","selectButton","continueButton","cancelButton","cancelRespond","getCategory","categories","ANSWERED","values","getULClass","COMPLETE","white","toLowerCase","renderButtons","renderItemContent","content","thumb","find","subitem","Image","description","aVal","isNaN","window","parseInt","order","Infinity","bVal","ListItem","generate","img","scrollbarImg","shouldComponentUpdate","nextProps","nextState","quickCheck","itemsChanged","Draggable","startX","startY","endX","endY","zoom","mouseDown","mouseUp","moveEvent","touchStart","touchEnd","shouldDrag","incomplete","markIncorrect","returnToStart","markCorrect","startEvent","pageX","pageY","rect","grabX","grabY","el","targetTouches","getBoundingClientRect","firstX","firstY","return","isFinite","dragging","dragRespond","attachMouseEvents","addEventListener","attachTouchEvents","endEvent","dropRespond","detachMouseEvents","removeEventListener","detachTouchEvents","setCorners","offsetLeft","offsetTop","offsetParent","componentDidMount","setZoom","transform","WebkitTransform","_classNames","draggable","renderContentList","EditableAsset","_Draggable","minScale","maxScale","lastValid","adjustScale","offScale","rotate","adjustRotation","offRotate","activate","setTimeout","_delete","parentNode","deltaX","deltaY","atan2","PI","delta","base","pow","max","min","center","distance","angle","cos","sin","getSize","image","onload","offset","maxDim","getLayer","attachEvents","componentDidUpdate","getButtonStyle","extraRotation","getAssetStyle","zIndex","getButtonsStyle","getClasses","DRAGGING","RETURN","INVALID","renderAsset","delete","identity","Inbox","status","read","UNREAD","friendKey","SENT","item-drawer","getStatusText","friends","gameState","timestamp","moment","utc","updated","local","friend","friend_id","_embedded","url","username","sent","format","emptyMessage","Screen","checkComplete","completeDelay","nextDelay","completeOnStart","hidePrev","Loader","Menu","ul","inactive","keys","gotoObj","isFinal","concat","toString","lastLevel","level","replace","menu","QuitScreen","_skoash$Screen","okay","cancel","close","renderAssets","assets","Audio","Repeater","amount","Reveal","openReveal","currentlyOpen","open","openMultiple","playAudio","completeOnOpen","autoClose","openTarget","onOpen","opts","prevMessage","silent","playMedia","onClose","closeRespond","openOnStart","audio","componentWillReceiveProps","closeReveal","Number","isInteger","SavedMessages","SAVED","renderThumb","firstImg","rules","IMAGE","AREA","CONTENT","SCROLLBAR","SCROLLER","ScrollArea","scrollTop","areaScrollTop","scrollbarHeight","getEndY","getScrollerStyle","shouldRender","SelectableReveal","canSelectOnStart","reveal","revealAll","allCorrect","renderSelectable","selectableList","selectableSelectClass","completeOnSelect","selectableCompleteOnSelect","selectableCheckComplete","randomizeList","randomizeSelectableList","renderReveal","revealList","revealAssets","revealCompleteOnOpen","revealCheckComplete","hide","hideReveal","ENVIRONMENT","MEDIA","CanvasScreen","hideNext","_6","_7","load","rightMenuList","send","setHasAssets","getData","hasAssets","addItems","mapRulesStringToNumbers","friend_to","setMenu","parseFloat","draft","goto","getContainerClasses","canvas-container","BACKGROUND","HAS-ASSETS","renderContent","CollisionWarning","toggle","show","getToggleClassNames","FriendScreen","DEFAULT_PROFILE_IMAGE","recipient","updateData","user","user_id","leave","drawer","suggestFriends","location","origin","save","renderOtter","copy","imageSrc","renderFriends","back","buttons","InboxScreen","inboxEmptyMessage","unreadEmptyMessage","readEmptyMessage","sentEmptyMessage","draftsEmptyMessage","getRevealList","readMessage","editMessage","inbox","outbox","saved","unread","skribbles","received","updateGameData","skribble","callback","ItemDrawerScreen","MenuScreen","PreviewScreen","classNameText","skribbleBox","box","leftMenu","rightMenu","leftMenuList","ReadScreen","sender","reply","created_by","creater","skribble_id","getSenderClassNames","HIDE","renderSender","renderBoxContent","SaveMenu","SendScreen","yourMessageTo","isReady","changeFriend","character","gift","header","changeFriendClick","SentScreen","createAnother","text","hasBeenSent","nextIndex","config","version","dimensions","ratio","_config","_config2","_title_screen","_title_screen2","_menu_screen","_menu_screen2","_friend_screen","_friend_screen2","_canvas_screen","_canvas_screen2","_item_drawer_screen","_item_drawer_screen2","_inbox_screen","_inbox_screen2","_preview_screen","_preview_screen2","_send_screen","_send_screen2","_sent_screen","_sent_screen2","_read_screen","_read_screen2","_save_menu","_save_menu2","_collision_warning","_collision_warning2","_limit_warning","_limit_warning2","Skribble","SkribbleGame","_skoash$Game","getRules","respond","skramble","skribbleData","emit","game","navigator","loadSkribble","getMedia","pathArray","shift","eventManager","currentOpts","clone","showCollisionWarning","collisionWarning","openMenu","showLimitWarning","addRecipient","profile_image","clickRecipient","currentScreenIndex","saveButton","renderRecipient","Game","screens","0","1","menus","quit","limitWarning","loader","onBootstrap","getFriends","throttle","getMediaOnReady","updateState","onReady","renderMenu","getGotoOpts","passData","getTriggerEvents","names","decode","substr","worker","encode","number","loopCounter","done","str","randomByte","seconds","Date","now","REDUCE_TIME","previousSeconds","counter","clusterWorkerId","seedValue","workerId","newCharacters","isValid","isShortId","len","crypto","getRandomValues","random","dest","Uint8Array","msCrypto","getNextValue","_seed_"],"mappings":"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","file":"skribble/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(18);\n\tmodule.exports = __webpack_require__(33);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t  Copyright (c) 2016 Jed Watson.\n\t  Licensed under the MIT License (MIT), see\n\t  http://jedwatson.github.io/classnames\n\t*/\n\t/* global define */\n\t\n\t(function () {\n\t\t'use strict';\n\t\n\t\tvar hasOwn = {}.hasOwnProperty;\n\t\n\t\tfunction classNames () {\n\t\t\tvar classes = [];\n\t\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\tvar arg = arguments[i];\n\t\t\t\tif (!arg) continue;\n\t\n\t\t\t\tvar argType = typeof arg;\n\t\n\t\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\t\tclasses.push(arg);\n\t\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn classes.join(' ');\n\t\t}\n\t\n\t\tif (typeof module !== 'undefined' && module.exports) {\n\t\t\tmodule.exports = classNames;\n\t\t} else if (true) {\n\t\t\t// register as 'classnames', consistent with npm package name\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t\t\t\treturn classNames;\n\t\t\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else {\n\t\t\twindow.classNames = classNames;\n\t\t}\n\t}());\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Selectable = function (_skoash$Component) {\n\t    _inherits(Selectable, _skoash$Component);\n\t\n\t    function Selectable() {\n\t        _classCallCheck(this, Selectable);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Selectable.__proto__ || Object.getPrototypeOf(Selectable)).call(this));\n\t\n\t        _this.state = {\n\t            classes: {},\n\t            selectFunction: _this.select\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Selectable, [{\n\t        key: 'start',\n\t        value: function start() {\n\t            var selectClass;\n\t            var selectFunction;\n\t            var classes = this.state.classes;\n\t\n\t            _get(Selectable.prototype.__proto__ || Object.getPrototypeOf(Selectable.prototype), 'start', this).call(this);\n\t\n\t            selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n\t            selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\t\n\t            if (this.props.selectOnStart) {\n\t                classes[this.props.selectOnStart] = selectClass;\n\t            }\n\t\n\t            this.setState({\n\t                started: true,\n\t                classes: classes,\n\t                selectFunction: selectFunction,\n\t                selectClass: selectClass\n\t            });\n\t        }\n\t    }, {\n\t        key: 'bootstrap',\n\t        value: function bootstrap() {\n\t            _get(Selectable.prototype.__proto__ || Object.getPrototypeOf(Selectable.prototype), 'bootstrap', this).call(this);\n\t\n\t            if (this.refs.bin) {\n\t                this.setState({\n\t                    list: this.refs.bin.getAll()\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'selectHelper',\n\t        value: function selectHelper(e, classes) {\n\t            var ref;\n\t            var dataRef;\n\t            var target;\n\t            var id;\n\t            var isCorrect;\n\t            var self = this;\n\t\n\t            if (typeof e === 'string') {\n\t                dataRef = e;\n\t            } else {\n\t                target = e.target.closest('LI');\n\t\n\t                if (!target) return;\n\t\n\t                dataRef = target.getAttribute('data-ref');\n\t            }\n\t\n\t            ref = self.refs[dataRef];\n\t\n\t            isCorrect = ref && ref.props && ref.props.correct || !self.props.answers || !self.props.answers.length || self.props.answers.indexOf(dataRef) !== -1;\n\t\n\t            if (self.props.allowDeselect && classes[dataRef]) {\n\t                delete classes[dataRef];\n\t            } else if (isCorrect) {\n\t                classes[dataRef] = self.state.selectClass;\n\t            }\n\t\n\t            self.setState({\n\t                classes: classes\n\t            });\n\t\n\t            self.props.selectRespond.call(self, dataRef);\n\t            self.props.onSelect.call(self, dataRef);\n\t\n\t            if (self.props.chooseOne) self.complete();\n\t\n\t            if (self.props.dataTarget) {\n\t                self.updateGameState({\n\t                    path: self.props.dataTarget,\n\t                    data: {\n\t                        target: ref\n\t                    }\n\t                });\n\t            }\n\t\n\t            if (self.props.completeListOnClick) {\n\t                _.each(self.refs, function (r, k) {\n\t                    if (k === id) _.invoke(r, 'complete');\n\t                });\n\t            }\n\t\n\t            _.each(self.refs, function (r, k) {\n\t                if (k === dataRef) _.invoke(r, 'complete');\n\t            });\n\t        }\n\t    }, {\n\t        key: 'select',\n\t        value: function select(e) {\n\t            var classes = [];\n\t            this.selectHelper(e, classes);\n\t        }\n\t    }, {\n\t        key: 'highlight',\n\t        value: function highlight(e) {\n\t            var classes = this.state.classes;\n\t            this.selectHelper(e, classes);\n\t        }\n\t    }, {\n\t        key: 'getClass',\n\t        value: function getClass(key, li) {\n\t            return (0, _classnames2.default)(li.props.className, this.state.classes[key], this.state.classes[li.props['data-ref']], this.state.classes[li.props['data-key']]);\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)('selectable', _get(Selectable.prototype.__proto__ || Object.getPrototypeOf(Selectable.prototype), 'getClassNames', this).call(this));\n\t        }\n\t    }, {\n\t        key: 'renderBin',\n\t        value: function renderBin() {\n\t            if (!this.props.bin) return null;\n\t\n\t            return React.createElement(this.props.bin.type, _extends({}, this.props.bin.props, {\n\t                ref: 'bin'\n\t            }));\n\t        }\n\t    }, {\n\t        key: 'renderList',\n\t        value: function renderList() {\n\t            var _this2 = this;\n\t\n\t            var list = this.props.list || this.state.list;\n\t            return list.map(function (li, key) {\n\t                var dataRef = li.props['data-ref'] || key;\n\t                var ref = li.ref || li.props.id || dataRef;\n\t                var message = li.props.message || '' + key;\n\t                return React.createElement(li.type, _extends({}, li.props, {\n\t                    type: 'li',\n\t                    className: _this2.getClass(key, li),\n\t                    message: message,\n\t                    'data-message': message,\n\t                    'data-ref': dataRef,\n\t                    ref: ref,\n\t                    key: key\n\t                }));\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                this.renderBin(),\n\t                React.createElement(\n\t                    'ul',\n\t                    { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t                    this.renderList()\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Selectable;\n\t}(skoash.Component);\n\t\n\tSelectable.defaultProps = _.defaults({\n\t    list: [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)],\n\t    selectClass: 'SELECTED',\n\t    completeListOnClick: true,\n\t    selectRespond: _.noop,\n\t    onSelect: _.noop\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = Selectable;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar randomFromSeed = __webpack_require__(40);\n\t\n\tvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n\tvar alphabet;\n\tvar previousSeed;\n\t\n\tvar shuffled;\n\t\n\tfunction reset() {\n\t    shuffled = false;\n\t}\n\t\n\tfunction setCharacters(_alphabet_) {\n\t    if (!_alphabet_) {\n\t        if (alphabet !== ORIGINAL) {\n\t            alphabet = ORIGINAL;\n\t            reset();\n\t        }\n\t        return;\n\t    }\n\t\n\t    if (_alphabet_ === alphabet) {\n\t        return;\n\t    }\n\t\n\t    if (_alphabet_.length !== ORIGINAL.length) {\n\t        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n\t    }\n\t\n\t    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n\t       return ind !== arr.lastIndexOf(item);\n\t    });\n\t\n\t    if (unique.length) {\n\t        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n\t    }\n\t\n\t    alphabet = _alphabet_;\n\t    reset();\n\t}\n\t\n\tfunction characters(_alphabet_) {\n\t    setCharacters(_alphabet_);\n\t    return alphabet;\n\t}\n\t\n\tfunction setSeed(seed) {\n\t    randomFromSeed.seed(seed);\n\t    if (previousSeed !== seed) {\n\t        reset();\n\t        previousSeed = seed;\n\t    }\n\t}\n\t\n\tfunction shuffle() {\n\t    if (!alphabet) {\n\t        setCharacters(ORIGINAL);\n\t    }\n\t\n\t    var sourceArray = alphabet.split('');\n\t    var targetArray = [];\n\t    var r = randomFromSeed.nextValue();\n\t    var characterIndex;\n\t\n\t    while (sourceArray.length > 0) {\n\t        r = randomFromSeed.nextValue();\n\t        characterIndex = Math.floor(r * sourceArray.length);\n\t        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n\t    }\n\t    return targetArray.join('');\n\t}\n\t\n\tfunction getShuffled() {\n\t    if (shuffled) {\n\t        return shuffled;\n\t    }\n\t    shuffled = shuffle();\n\t    return shuffled;\n\t}\n\t\n\t/**\n\t * lookup shuffled letter\n\t * @param index\n\t * @returns {string}\n\t */\n\tfunction lookup(index) {\n\t    var alphabetShuffled = getShuffled();\n\t    return alphabetShuffled[index];\n\t}\n\t\n\tmodule.exports = {\n\t    characters: characters,\n\t    seed: setSeed,\n\t    lookup: lookup,\n\t    shuffled: getShuffled\n\t};\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(7);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Canvas = function (_skoash$Component) {\n\t    _inherits(Canvas, _skoash$Component);\n\t\n\t    function Canvas() {\n\t        _classCallCheck(this, Canvas);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this));\n\t\n\t        _this.state = {\n\t            background: null,\n\t            items: [],\n\t            messages: [],\n\t            offsetX: 0,\n\t            offsetY: 0,\n\t            active: false,\n\t            valid: true\n\t        };\n\t\n\t        _this.deleteItem = _this.deleteItem.bind(_this);\n\t        _this.checkItem = _this.checkItem.bind(_this);\n\t        _this.deactivateItems = _this.deactivateItems.bind(_this);\n\t        _this.relayerItems = _this.relayerItems.bind(_this);\n\t        _this.setValid = _this.setValid.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Canvas, [{\n\t        key: 'start',\n\t        value: function start() {\n\t            var dom = ReactDOM.findDOMNode(this);\n\t\n\t            _get(Canvas.prototype.__proto__ || Object.getPrototypeOf(Canvas.prototype), 'start', this).call(this);\n\t\n\t            this.setState({\n\t                width: dom.offsetWidth,\n\t                height: dom.offsetHeight\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getItems',\n\t        value: function getItems() {\n\t            var items;\n\t            var messages;\n\t            var self = this;\n\t\n\t            items = this.state.items.map(function (item, key) {\n\t                var state;\n\t\n\t                if (!self.refs['item-' + key]) return item;\n\t\n\t                state = self.refs['item-' + key].state;\n\t\n\t                item.state = {\n\t                    left: _.floor(state.left, 14),\n\t                    top: _.floor(state.top, 14),\n\t                    scale: _.floor(state.scale, 14),\n\t                    rotation: _.floor(state.rotation, 14),\n\t                    layer: state.layer,\n\t                    valid: state.valid,\n\t                    corners: state.corners\n\t                };\n\t\n\t                item.check = state.check;\n\t                item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\t\n\t                return item;\n\t            });\n\t\n\t            messages = this.state.messages.map(function (item, key) {\n\t                var state;\n\t\n\t                if (!self.refs['message-' + key]) return item;\n\t\n\t                state = self.refs['message-' + key].state;\n\t\n\t                item.state = {\n\t                    left: _.floor(state.left, 14),\n\t                    top: _.floor(state.top, 14),\n\t                    scale: _.floor(state.scale, 14),\n\t                    rotation: _.floor(state.rotation, 14),\n\t                    layer: state.layer,\n\t                    valid: state.valid,\n\t                    corners: state.corners\n\t                };\n\t\n\t                item.check = state.check;\n\t                item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\t\n\t                return item;\n\t            });\n\t\n\t            _.remove(items, function (n) {\n\t                return !n;\n\t            });\n\t\n\t            _.remove(messages, function (n) {\n\t                return !n;\n\t            });\n\t\n\t            return {\n\t                background: this.state.background,\n\t                items: items,\n\t                messages: messages\n\t            };\n\t        }\n\t    }, {\n\t        key: 'reset',\n\t        value: function reset() {\n\t            this.setState({\n\t                background: null,\n\t                items: [],\n\t                messages: []\n\t            });\n\t        }\n\t    }, {\n\t        key: 'setItems',\n\t        value: function setItems(message) {\n\t            var _this2 = this;\n\t\n\t            if (message) {\n\t                /*\n\t                 *\n\t                 * This makes sure the EditableAssets get cleared.\n\t                 *\n\t                 * This prevents the new assets from inheriting\n\t                 * state from the old assets.\n\t                 *\n\t                 */\n\t                this.setState({\n\t                    background: null,\n\t                    items: [],\n\t                    messages: []\n\t                }, function () {\n\t                    _this2.addItem(message.background);\n\t                    message.items.forEach(function (asset) {\n\t                        _this2.addItem(asset);\n\t                    });\n\t                    message.messages.forEach(function (asset) {\n\t                        _this2.addItem(asset);\n\t                    });\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'addItem',\n\t        value: function addItem(asset, cb) {\n\t            var _this3 = this;\n\t\n\t            var items;\n\t            var messages;\n\t            var index;\n\t            var count;\n\t\n\t            if (!asset) return;\n\t\n\t            if (asset.asset_type === 'background') {\n\t                this.setState({\n\t                    background: asset\n\t                }, function () {\n\t                    skoash.trigger('emit', {\n\t                        name: 'getMedia',\n\t                        'media_id': asset.media_id\n\t                    }).then(function (d) {\n\t                        var background = _this3.state.background;\n\t                        background.check = d.check;\n\t                        background.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t                        _this3.setState({\n\t                            background: background\n\t                        }, cb);\n\t                    });\n\t                });\n\t            } else if (asset.asset_type === 'item') {\n\t                items = this.state.items;\n\t\n\t                count = _.reduce(items, function (c, v) {\n\t                    if (asset.src === v.src) c++;\n\t                    return c;\n\t                }, 1);\n\t\n\t                if (count > this.props.maxInstances) {\n\t                    skoash.trigger('openMenu', {\n\t                        id: 'limitWarning'\n\t                    });\n\t                    return;\n\t                }\n\t\n\t                items.push(asset);\n\t                index = items.indexOf(asset);\n\t\n\t                this.setState({\n\t                    items: items\n\t                }, function () {\n\t                    skoash.trigger('emit', {\n\t                        name: 'getMedia',\n\t                        'media_id': asset.media_id\n\t                    }).then(function (d) {\n\t                        asset.check = d.check;\n\t                        asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t                        items[index] = asset;\n\t                        _this3.setState({\n\t                            items: items\n\t                        }, cb);\n\t                    });\n\t                });\n\t            } else if (asset.asset_type === 'message') {\n\t                messages = this.state.messages;\n\t\n\t                count = _.reduce(items, function (c, v) {\n\t                    if (asset.src === v.src) c++;\n\t                    return c;\n\t                }, 1);\n\t\n\t                if (count > this.props.maxInstances) return;\n\t\n\t                messages.push(asset);\n\t                index = messages.indexOf(asset);\n\t\n\t                this.setState({\n\t                    messages: messages\n\t                }, function () {\n\t                    skoash.trigger('emit', {\n\t                        name: 'getMedia',\n\t                        'media_id': asset.media_id\n\t                    }).then(function (d) {\n\t                        asset.check = d.check;\n\t                        asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t                        messages[index] = asset;\n\t                        _this3.setState({\n\t                            messages: messages\n\t                        }, cb);\n\t                    });\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'deleteItem',\n\t        value: function deleteItem(key, type) {\n\t            var items;\n\t\n\t            items = this.state[type + 's'];\n\t            delete items[key];\n\t\n\t            this.setState(_defineProperty({}, type + 's', items));\n\t        }\n\t    }, {\n\t        key: 'deactivateItems',\n\t        value: function deactivateItems(exclude, type) {\n\t            var _this4 = this;\n\t\n\t            if ((typeof exclude === 'undefined' ? 'undefined' : _typeof(exclude)) === 'object' && exclude.target) {\n\t                if (exclude.target.tagName !== 'LI') return;\n\t                this.setState({\n\t                    active: false\n\t                });\n\t                if (!this.state.valid) {\n\t                    skoash.trigger('passData', {\n\t                        name: 'showCollisionWarning'\n\t                    });\n\t                }\n\t            }\n\t\n\t            if (typeof exclude === 'number') {\n\t                this.setState({\n\t                    active: true\n\t                });\n\t            }\n\t\n\t            this.state.items.map(function (item, key) {\n\t                if ((key !== exclude || type !== 'item') && _this4.refs['item-' + key]) {\n\t                    _this4.refs['item-' + key].deactivate();\n\t                }\n\t            });\n\t\n\t            this.state.messages.map(function (item, key) {\n\t                if ((key !== exclude || type !== 'message') && _this4.refs['message-' + key]) {\n\t                    _this4.refs['message-' + key].deactivate();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'relayerItems',\n\t        value: function relayerItems(type) {\n\t            var _this5 = this;\n\t\n\t            var layers = [];\n\t\n\t            this.state[type + 's'].map(function (item, key) {\n\t                var layer;\n\t\n\t                layer = _this5.refs[type + '-' + key].state.layer;\n\t\n\t                if (layers.indexOf(layer) === -1) {\n\t                    layers.push(layer);\n\t                }\n\t            });\n\t\n\t            layers.sort(function (a, b) {\n\t                return a < b;\n\t            });\n\t\n\t            this.state[type + 's'].map(function (item, key) {\n\t                var oldLayer;\n\t                var newLayer;\n\t\n\t                oldLayer = _this5.refs[type + '-' + key].state.layer;\n\t                newLayer = type === 'message' ? 10000 : 1000;\n\t                newLayer = newLayer - layers.indexOf(oldLayer);\n\t\n\t                _this5.refs[type + '-' + key].relayer(newLayer);\n\t            });\n\t        }\n\t    }, {\n\t        key: 'checkItem',\n\t        value: function checkItem(key, type) {\n\t            var self = this;\n\t\n\t            return !self.refs[type + '-' + key].state.corners.length || self.isInBounds(key, type) && (self.refs[type + '-' + key].state.can_overlap || !self.state[type + 's'].some(function (item, index) {\n\t                return key !== index && !self.refs[type + '-' + index].state.can_overlap && self.refs[type + '-' + index].state.corners.length && skoash.util.doIntersect(self.refs[type + '-' + key].state.corners, self.refs[type + '-' + index].state.corners);\n\t            }));\n\t        }\n\t    }, {\n\t        key: 'isInBounds',\n\t        value: function isInBounds(key, type) {\n\t            return !this.state.width || !this.state.height || !(\n\t            // box to left\n\t            skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: 0, y: -this.state.height }, { x: 0, y: 2 * this.state.height }, { x: -this.state.width, y: 2 * this.state.height }, { x: -this.state.width, y: -this.state.height }]) ||\n\t            // box above\n\t            skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: -this.state.width, y: 0 }, { x: 2 * this.state.width, y: 0 }, { x: 2 * this.state.width, y: -this.state.height }, { x: this.state.width, y: -this.state.height }]) ||\n\t            // box to right\n\t            skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: this.state.width, y: -this.state.height }, { x: this.state.width, y: 2 * this.state.height }, { x: 2 * this.state.width, y: 2 * this.state.height }, { x: 2 * this.state.width, y: -this.state.height }]) ||\n\t            // box below\n\t            skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: -this.state.width, y: this.state.height }, { x: 2 * this.state.width, y: this.state.height }, { x: 2 * this.state.width, y: 2 * this.state.height }, { x: -this.state.width, y: 2 * this.state.height }]));\n\t        }\n\t    }, {\n\t        key: 'setValid',\n\t        value: function setValid(valid) {\n\t            this.setState({\n\t                valid: valid\n\t            });\n\t\n\t            this.props.setValid.call(this, valid);\n\t        }\n\t    }, {\n\t        key: 'getStyle',\n\t        value: function getStyle() {\n\t            if (!this.state.background) return;\n\t\n\t            return {\n\t                backgroundImage: 'url(' + this.state.background.src + ')'\n\t            };\n\t        }\n\t    }, {\n\t        key: 'renderItems',\n\t        value: function renderItems() {\n\t            var _this6 = this;\n\t\n\t            var self = this;\n\t\n\t            return this.state.items.map(function (item, key) {\n\t                return React.createElement(_3.default, _extends({}, item, {\n\t                    'data-ref': key,\n\t                    minDim: _this6.props.itemMinDim,\n\t                    deleteItem: self.deleteItem,\n\t                    checkItem: self.checkItem,\n\t                    deactivateItems: self.deactivateItems,\n\t                    relayerItems: self.relayerItems,\n\t                    setValid: self.setValid,\n\t                    ref: 'item-' + key,\n\t                    key: key\n\t                }));\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderMessages',\n\t        value: function renderMessages() {\n\t            var _this7 = this;\n\t\n\t            var self = this;\n\t\n\t            return this.state.messages.map(function (item, key) {\n\t                return React.createElement(_3.default, _extends({}, item, {\n\t                    'data-ref': key,\n\t                    minDim: _this7.props.messageMinDim,\n\t                    deleteItem: self.deleteItem,\n\t                    checkItem: self.checkItem,\n\t                    deactivateItems: self.deactivateItems,\n\t                    relayerItems: self.relayerItems,\n\t                    setValid: self.setValid,\n\t                    canvasWidth: _this7.state.width,\n\t                    canvasHeight: _this7.state.height,\n\t                    ref: 'message-' + key,\n\t                    key: key\n\t                }));\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)({\n\t                canvas: true,\n\t                ACTIVE: !this.props.preview && this.state.active\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'ul',\n\t                {\n\t                    className: this.getClassNames(),\n\t                    style: this.getStyle(),\n\t                    onClick: this.deactivateItems\n\t                },\n\t                this.renderItems(),\n\t                this.renderMessages()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Canvas;\n\t}(skoash.Component);\n\t\n\tCanvas.defaultProps = _.defaults({\n\t    maxInstances: 5,\n\t    setValid: _.noop\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = Canvas;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _shortid = __webpack_require__(34);\n\t\n\tvar _shortid2 = _interopRequireDefault(_shortid);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _4 = __webpack_require__(16);\n\t\n\tvar _5 = _interopRequireDefault(_4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar ItemDrawer = function (_Selectable) {\n\t    _inherits(ItemDrawer, _Selectable);\n\t\n\t    function ItemDrawer() {\n\t        _classCallCheck(this, ItemDrawer);\n\t\n\t        return _possibleConstructorReturn(this, (ItemDrawer.__proto__ || Object.getPrototypeOf(ItemDrawer)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(ItemDrawer, [{\n\t        key: 'start',\n\t        value: function start() {\n\t            var items;\n\t            var selectedItem;\n\t            var selectClass;\n\t            var selectFunction;\n\t            var classes = {};\n\t            var self = this;\n\t\n\t            selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n\t            selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\t\n\t            items = self.props.data || [];\n\t\n\t            if (self.state.category && items[self.state.category]) {\n\t                items = items[self.state.category].items;\n\t            }\n\t\n\t            selectedItem = JSON.stringify(self.props.selectedItem);\n\t\n\t            _.each(items, function (item, key) {\n\t                if (self.props.selectedItem && JSON.stringify(item) === selectedItem) {\n\t                    classes[key] = selectClass;\n\t                }\n\t            });\n\t\n\t            if (this.props.selectOnStart) {\n\t                classes[this.props.selectOnStart] = selectClass;\n\t            }\n\t\n\t            this.setState({\n\t                started: true,\n\t                classes: classes,\n\t                selectClass: selectClass,\n\t                selectFunction: selectFunction,\n\t                categoryName: '',\n\t                category: ''\n\t            });\n\t\n\t            _.each(self.refs, function (ref) {\n\t                if (typeof ref.start === 'function') ref.start();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'selectHelper',\n\t        value: function selectHelper(e) {\n\t            var li;\n\t            var message;\n\t            var key;\n\t            var type;\n\t            var categoryName;\n\t            var classes = [];\n\t\n\t            li = e.target.closest('LI');\n\t            if (!li) return;\n\t\n\t            key = li.getAttribute('data-ref');\n\t            if (!this.refs[key]) return;\n\t\n\t            type = this.refs[key].props.item.asset_type;\n\t            if (!type) return;\n\t\n\t            if (type === 'folder') {\n\t                categoryName = this.refs[key].props.item.name;\n\t                this.setState({\n\t                    category: key,\n\t                    categoryName: categoryName\n\t                });\n\t            } else {\n\t                message = this.refs[key].props.item;\n\t                classes[key] = this.props.selectClass;\n\t\n\t                this.setState({\n\t                    message: message,\n\t                    classes: classes\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'selectButton',\n\t        value: function selectButton() {\n\t            if (typeof this.props.selectRespond === 'function' && this.state.message) {\n\t                this.props.selectRespond(this.state.message);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'continueButton',\n\t        value: function continueButton() {\n\t            if (typeof this.props.selectRespond === 'function') {\n\t                this.props.selectRespond({});\n\t            }\n\t        }\n\t    }, {\n\t        key: 'cancelButton',\n\t        value: function cancelButton() {\n\t            if (typeof this.props.cancelRespond === 'function') {\n\t                this.props.cancelRespond.call(this);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getCategory',\n\t        value: function getCategory() {\n\t            if (this.state.categoryName || this.props.categoryName) {\n\t                return this.state.categoryName || this.props.categoryName;\n\t            }\n\t\n\t            if (this.props.categories && this.props.categories.length) {\n\t                return this.props.categories[this.props.categories.length - 1];\n\t            }\n\t            return '';\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)({\n\t                'ANSWERED': _.values(this.state.classes).indexOf(this.state.selectClass) !== -1\n\t            }, this.props.className, 'item-drawer-component');\n\t        }\n\t    }, {\n\t        key: 'getULClass',\n\t        value: function getULClass() {\n\t            return (0, _classnames2.default)('item-drawer', {\n\t                COMPLETE: this.state.complete\n\t            }, this.props.categories ? this.props.categories.join(' ') : '');\n\t        }\n\t    }, {\n\t        key: 'getClass',\n\t        value: function getClass(key, item) {\n\t            return (0, _classnames2.default)(this.state.classes[key] || '', {\n\t                white: item && item.name && item.name.toLowerCase()[item.name.length - 1] === 'w'\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderButtons',\n\t        value: function renderButtons() {\n\t            return React.createElement(\n\t                'div',\n\t                { className: 'buttons' },\n\t                React.createElement('button', { className: 'select', onClick: this.selectButton.bind(this) }),\n\t                React.createElement('button', { className: 'continue', onClick: this.continueButton.bind(this) }),\n\t                React.createElement('button', { className: 'cancel', onClick: this.cancelButton.bind(this) })\n\t            );\n\t        }\n\t    }, {\n\t        key: 'renderItemContent',\n\t        value: function renderItemContent(item) {\n\t            var content = [];\n\t            var thumb;\n\t            var src;\n\t\n\t            if (item.src || item.thumb) {\n\t                src = item.thumb || item.src;\n\t            } else if (item.items) {\n\t                if (!_.isArray(item.items)) {\n\t                    item.items = _.values(item.items);\n\t                }\n\t\n\t                thumb = _.find(item.items, function (subitem) {\n\t                    return subitem.name === '_thumb';\n\t                });\n\t\n\t                if (thumb) src = thumb.thumb || thumb.src;\n\t\n\t                if (!src && item.items[0]) src = item.items[0].thumb || item.items[0].src;\n\t            }\n\t\n\t            if (src) {\n\t                content.push(React.createElement(skoash.Image, { src: src, key: 0 }));\n\t            }\n\t\n\t            if (item.name && (item.asset_type === 'folder' || item.asset_type === 'friend')) {\n\t                content.push(React.createElement(\n\t                    'span',\n\t                    { className: 'name', key: 1 },\n\t                    item.name\n\t                ));\n\t            }\n\t\n\t            if (item.description) {\n\t                content.push(React.createElement(\n\t                    'span',\n\t                    { className: 'description', key: 2 },\n\t                    item.description\n\t                ));\n\t            }\n\t\n\t            return content;\n\t        }\n\t    }, {\n\t        key: 'renderList',\n\t        value: function renderList() {\n\t            var _this2 = this;\n\t\n\t            var items;\n\t            var self = this;\n\t\n\t            if (!this.props.data) return;\n\t\n\t            items = this.props.data;\n\t\n\t            if (this.state.category && items[this.state.category]) {\n\t                items = items[this.state.category].items;\n\t            }\n\t\n\t            if (!_.isArray(items)) {\n\t                items = _.values(items);\n\t            }\n\t\n\t            return items.sort(function (a, b) {\n\t                var aVal = !_.isNaN(window.parseInt(a.order)) ? window.parseInt(a.order) : Infinity;\n\t                var bVal = !_.isNaN(window.parseInt(b.order)) ? window.parseInt(b.order) : Infinity;\n\t                if (aVal === bVal) {\n\t                    if (a.name < b.name) return -1;\n\t                    if (a.name > b.name) return 1;\n\t                    return 0;\n\t                }\n\t                if (aVal < bVal) return -1;\n\t                return 1;\n\t            }).filter(function (item) {\n\t                return item.name !== '_thumb';\n\t            }).map(function (item, key) {\n\t                return React.createElement(\n\t                    skoash.ListItem,\n\t                    {\n\t                        className: _this2.getClass(key, item),\n\t                        ref: key,\n\t                        'data-ref': key,\n\t                        item: item,\n\t                        key: _shortid2.default.generate()\n\t                    },\n\t                    self.renderItemContent(item)\n\t                );\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                { className: this.getClassNames() },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'item-drawer-container' },\n\t                    React.createElement(\n\t                        'h2',\n\t                        null,\n\t                        this.getCategory()\n\t                    ),\n\t                    React.createElement(\n\t                        _5.default,\n\t                        { ref: 'scroll-area', img: this.props.scrollbarImg },\n\t                        React.createElement(\n\t                            'ul',\n\t                            {\n\t                                ref: 'list',\n\t                                className: this.getULClass(),\n\t                                onClick: this.state.selectFunction.bind(this)\n\t                            },\n\t                            this.renderList()\n\t                        )\n\t                    )\n\t                ),\n\t                this.renderButtons()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return ItemDrawer;\n\t}(_3.default);\n\t\n\tItemDrawer.defaultProps = _.defaults({\n\t    scrollbarImg: '',\n\t    shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n\t        var items;\n\t        var quickCheck;\n\t        var itemsChanged;\n\t\n\t        items = nextProps.data || [];\n\t        if (nextState.category && items[nextState.category]) {\n\t            items = items[nextState.category].items;\n\t        }\n\t\n\t        quickCheck = _.reduce(items, function (a, i) {\n\t            return a + i.name;\n\t        }, '');\n\t\n\t        itemsChanged = this.quickCheck !== quickCheck;\n\t        if (itemsChanged) this.quickCheck = quickCheck;\n\t\n\t        return itemsChanged || nextProps.categoryName !== this.props.categoryName || JSON.stringify(this.state.classes) !== JSON.stringify(nextState.classes);\n\t    }\n\t}, _3.default.defaultProps);\n\t\n\texports.default = ItemDrawer;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Draggable = function (_skoash$Component) {\n\t    _inherits(Draggable, _skoash$Component);\n\t\n\t    function Draggable() {\n\t        _classCallCheck(this, Draggable);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Draggable.__proto__ || Object.getPrototypeOf(Draggable)).call(this));\n\t\n\t        _this.state = {\n\t            startX: 0,\n\t            startY: 0,\n\t            endX: 0,\n\t            endY: 0,\n\t            zoom: 1\n\t        };\n\t\n\t        _this.mouseDown = _this.mouseDown.bind(_this);\n\t        _this.mouseUp = _this.mouseUp.bind(_this);\n\t\n\t        _this.moveEvent = _this.moveEvent.bind(_this);\n\t\n\t        _this.touchStart = _this.touchStart.bind(_this);\n\t        _this.touchEnd = _this.touchEnd.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Draggable, [{\n\t        key: 'shouldDrag',\n\t        value: function shouldDrag() {\n\t            return true;\n\t        }\n\t    }, {\n\t        key: 'incomplete',\n\t        value: function incomplete() {\n\t            this.markIncorrect();\n\t            this.returnToStart();\n\t\n\t            _get(Draggable.prototype.__proto__ || Object.getPrototypeOf(Draggable.prototype), 'incomplete', this).call(this);\n\t        }\n\t    }, {\n\t        key: 'markCorrect',\n\t        value: function markCorrect() {\n\t            this.setState({\n\t                correct: true\n\t            });\n\t        }\n\t    }, {\n\t        key: 'markIncorrect',\n\t        value: function markIncorrect() {\n\t            this.setState({\n\t                correct: false\n\t            });\n\t        }\n\t    }, {\n\t        key: 'startEvent',\n\t        value: function startEvent(e, cb) {\n\t            var pageX;\n\t            var pageY;\n\t            var rect;\n\t            var startX;\n\t            var startY;\n\t            var endX;\n\t            var endY;\n\t            var grabX;\n\t            var grabY;\n\t\n\t            if (e.target !== this.refs.el) return;\n\t            if (!this.shouldDrag()) return;\n\t\n\t            if (e.targetTouches && e.targetTouches[0]) {\n\t                pageX = e.targetTouches[0].pageX;\n\t                pageY = e.targetTouches[0].pageY;\n\t                rect = e.target.getBoundingClientRect();\n\t                e = e.targetTouches[0];\n\t                e.offsetX = pageX - rect.left;\n\t                e.offsetY = pageY - rect.top;\n\t            }\n\t\n\t            grabX = e.offsetX;\n\t            grabY = e.offsetY;\n\t\n\t            startX = endX = e.pageX - grabX;\n\t            startY = endY = e.pageY - grabY;\n\t\n\t            if (!this.state.firstX) {\n\t                this.setState({\n\t                    firstX: startX,\n\t                    firstY: startY\n\t                });\n\t            }\n\t\n\t            if (!this.props.return) {\n\t                startX = _.isFinite(this.state.grabX) ? this.state.startX + this.state.grabX - grabX : startX;\n\t                startY = _.isFinite(this.state.grabY) ? this.state.startY + this.state.grabY - grabY : startY;\n\t            }\n\t\n\t            this.setState({\n\t                dragging: true,\n\t                return: false,\n\t                startX: startX,\n\t                startY: startY,\n\t                grabX: grabX,\n\t                grabY: grabY,\n\t                endX: endX,\n\t                endY: endY\n\t            });\n\t\n\t            if (typeof this.props.dragRespond === 'function') {\n\t                this.props.dragRespond(this.props.message);\n\t            }\n\t\n\t            if (typeof cb === 'function') {\n\t                cb.call(this);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'attachMouseEvents',\n\t        value: function attachMouseEvents() {\n\t            window.addEventListener('mousemove', this.moveEvent);\n\t            window.addEventListener('mouseup', this.mouseUp);\n\t        }\n\t    }, {\n\t        key: 'attachTouchEvents',\n\t        value: function attachTouchEvents() {\n\t            window.addEventListener('touchmove', this.moveEvent);\n\t            window.addEventListener('touchend', this.touchEnd);\n\t        }\n\t    }, {\n\t        key: 'mouseDown',\n\t        value: function mouseDown(e) {\n\t            this.startEvent(e, this.attachMouseEvents);\n\t        }\n\t    }, {\n\t        key: 'touchStart',\n\t        value: function touchStart(e) {\n\t            this.startEvent(e, this.attachTouchEvents);\n\t        }\n\t    }, {\n\t        key: 'moveEvent',\n\t        value: function moveEvent(e) {\n\t            if (e.targetTouches && e.targetTouches[0]) {\n\t                e.pageX = e.targetTouches[0].pageX;\n\t                e.pageY = e.targetTouches[0].pageY;\n\t            }\n\t\n\t            this.setState({\n\t                endX: e.pageX - this.state.grabX,\n\t                endY: e.pageY - this.state.grabY\n\t            });\n\t        }\n\t    }, {\n\t        key: 'returnToStart',\n\t        value: function returnToStart() {\n\t            if (this.state.firstX) {\n\t                this.setState({\n\t                    dragging: false,\n\t                    return: true,\n\t                    endX: this.state.firstX,\n\t                    endY: this.state.firstY\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'endEvent',\n\t        value: function endEvent(cb) {\n\t            this.dropRespond();\n\t\n\t            if (this.props.return) {\n\t                this.returnToStart();\n\t            } else {\n\t                this.setState({\n\t                    dragging: false,\n\t                    return: this.state.return\n\t                });\n\t            }\n\t\n\t            if (typeof cb === 'function') {\n\t                cb.call(this);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'detachMouseEvents',\n\t        value: function detachMouseEvents() {\n\t            window.removeEventListener('mousemove', this.moveEvent);\n\t            window.removeEventListener('mouseup', this.mouseUp);\n\t        }\n\t    }, {\n\t        key: 'detachTouchEvents',\n\t        value: function detachTouchEvents() {\n\t            window.removeEventListener('touchmove', this.moveEvent);\n\t            window.removeEventListener('touchend', this.touchEnd);\n\t        }\n\t    }, {\n\t        key: 'mouseUp',\n\t        value: function mouseUp() {\n\t            this.endEvent(this.detachMouseEvents);\n\t        }\n\t    }, {\n\t        key: 'touchEnd',\n\t        value: function touchEnd() {\n\t            this.endEvent(this.detachTouchEvents);\n\t        }\n\t    }, {\n\t        key: 'dropRespond',\n\t        value: function dropRespond() {\n\t            var corners;\n\t\n\t            corners = this.setCorners();\n\t\n\t            if (typeof this.props.dropRespond === 'function') {\n\t                this.props.dropRespond(this.props.message, corners);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'setCorners',\n\t        value: function setCorners() {\n\t            var top;\n\t            var left;\n\t            var width;\n\t            var height;\n\t            var el;\n\t            var corners = [];\n\t\n\t            left = 0;\n\t            top = 0;\n\t            el = this.refs.el;\n\t            width = el.offsetWidth;\n\t            height = el.offsetHeight;\n\t\n\t            while (el) {\n\t                if (el.className.indexOf('screen') !== -1) {\n\t                    break;\n\t                }\n\t\n\t                left += el.offsetLeft || 0;\n\t                top += el.offsetTop || 0;\n\t                el = el.offsetParent;\n\t            }\n\t\n\t            left += (this.state.endX - this.state.startX) / this.state.zoom;\n\t            top += (this.state.endY - this.state.startY) / this.state.zoom;\n\t\n\t            for (var i = 0; i < 4; i++) {\n\t                corners.push({\n\t                    x: left + width * (i === 1 || i === 2 ? 1 : 0),\n\t                    y: top + height * (i > 1 ? 1 : 0)\n\t                });\n\t            }\n\t\n\t            this.setState({\n\t                corners: corners\n\t            });\n\t\n\t            return corners;\n\t        }\n\t    }, {\n\t        key: 'componentDidMount',\n\t        value: function componentDidMount() {\n\t            this.bootstrap();\n\t        }\n\t    }, {\n\t        key: 'bootstrap',\n\t        value: function bootstrap() {\n\t            _get(Draggable.prototype.__proto__ || Object.getPrototypeOf(Draggable.prototype), 'bootstrap', this).call(this);\n\t\n\t            this.setZoom();\n\t\n\t            this.refs.el.addEventListener('mousedown', this.mouseDown);\n\t            this.refs.el.addEventListener('touchstart', this.touchStart);\n\t\n\t            window.addEventListener('resize', this.setZoom.bind(this));\n\t        }\n\t    }, {\n\t        key: 'setZoom',\n\t        value: function setZoom() {\n\t            var _this2 = this;\n\t\n\t            skoash.trigger('getState').then(function (state) {\n\t                _this2.setState({\n\t                    zoom: state.scale\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getStyle',\n\t        value: function getStyle() {\n\t            var x;\n\t            var y;\n\t\n\t            x = (this.state.endX - this.state.startX) / this.state.zoom;\n\t            y = (this.state.endY - this.state.startY) / this.state.zoom;\n\t\n\t            return {\n\t                transform: 'translateX(' + x + 'px) translateY(' + y + 'px)',\n\t                WebkitTransform: 'translateX(' + x + 'px) translateY(' + y + 'px)'\n\t            };\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            var _classNames;\n\t\n\t            return (0, _classnames2.default)((_classNames = {\n\t                draggable: true\n\t            }, _defineProperty(_classNames, this.props.className, this.props.className), _defineProperty(_classNames, this.props.message, this.props.message), _defineProperty(_classNames, 'DRAGGING', this.state.dragging), _defineProperty(_classNames, 'RETURN', this.state.return), _defineProperty(_classNames, 'CORRECT', this.state.correct), _classNames), _get(Draggable.prototype.__proto__ || Object.getPrototypeOf(Draggable.prototype), 'getClassNames', this).call(this));\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                {\n\t                    ref: 'el',\n\t                    className: this.getClassNames(),\n\t                    style: this.getStyle()\n\t                },\n\t                this.renderContentList()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Draggable;\n\t}(skoash.Component);\n\t\n\texports.default = Draggable;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(6);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar EditableAsset = function (_Draggable) {\n\t    _inherits(EditableAsset, _Draggable);\n\t\n\t    function EditableAsset() {\n\t        _classCallCheck(this, EditableAsset);\n\t\n\t        var _this = _possibleConstructorReturn(this, (EditableAsset.__proto__ || Object.getPrototypeOf(EditableAsset)).call(this));\n\t\n\t        _this.state = {\n\t            width: 0,\n\t            height: 0,\n\t            left: 0,\n\t            top: 0,\n\t            scale: .5,\n\t            minScale: .1,\n\t            maxScale: 1,\n\t            rotation: 0,\n\t            layer: 1000,\n\t            zoom: 1,\n\t            active: false,\n\t            valid: true,\n\t            corners: [],\n\t            lastValid: {}\n\t        };\n\t\n\t        _this.scale = _this.scale.bind(_this);\n\t        _this.adjustScale = _this.adjustScale.bind(_this);\n\t        _this.offScale = _this.offScale.bind(_this);\n\t\n\t        _this.rotate = _this.rotate.bind(_this);\n\t        _this.adjustRotation = _this.adjustRotation.bind(_this);\n\t        _this.offRotate = _this.offRotate.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(EditableAsset, [{\n\t        key: 'shouldDrag',\n\t        value: function shouldDrag() {\n\t            return this.state.active;\n\t        }\n\t    }, {\n\t        key: 'activate',\n\t        value: function activate() {\n\t            this.setState({\n\t                active: true\n\t            });\n\t\n\t            if (typeof this.props.deactivateItems === 'function') {\n\t                this.props.deactivateItems(this.props['data-ref'], this.props.asset_type);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'deactivate',\n\t        value: function deactivate() {\n\t            var _this2 = this;\n\t\n\t            if (!this.state.valid) {\n\t                this.setState({\n\t                    left: this.state.lastValid.left || this.state.left,\n\t                    top: this.state.lastValid.top || this.state.top,\n\t                    scale: this.state.lastValid.scale || this.state.scale,\n\t                    rotation: this.state.lastValid.rotation || this.state.rotation,\n\t                    active: false\n\t                }, function () {\n\t                    setTimeout(function () {\n\t                        _this2.checkItem();\n\t                    }, 0);\n\t                });\n\t            } else {\n\t                this.setState({\n\t                    active: false\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'moveEvent',\n\t        value: function moveEvent(e) {\n\t            if (e.targetTouches && e.targetTouches[0]) {\n\t                e.pageX = e.targetTouches[0].pageX;\n\t                e.pageY = e.targetTouches[0].pageY;\n\t            }\n\t\n\t            this.setState({\n\t                endX: e.pageX - this.state.grabX,\n\t                endY: e.pageY - this.state.grabY,\n\t                left: (e.pageX - this.state.grabX - this.state.startX) / this.state.zoom,\n\t                top: (e.pageY - this.state.grabY - this.state.startY) / this.state.zoom\n\t            });\n\t            this.checkItem();\n\t        }\n\t    }, {\n\t        key: 'delete',\n\t        value: function _delete() {\n\t            if (typeof this.props.deleteItem === 'function') {\n\t                this.props.deleteItem(this.props['data-ref'], this.props.asset_type);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'rotate',\n\t        value: function rotate() {\n\t            this.refs.el.parentNode.addEventListener('mousemove', this.adjustRotation);\n\t            this.refs.el.parentNode.addEventListener('mouseup', this.offRotate);\n\t\n\t            this.refs.el.parentNode.addEventListener('touchmove', this.adjustRotation);\n\t            this.refs.el.parentNode.addEventListener('touchend', this.offRotate);\n\t        }\n\t    }, {\n\t        key: 'offRotate',\n\t        value: function offRotate() {\n\t            this.refs.el.parentNode.removeEventListener('mousemove', this.adjustRotation);\n\t            this.refs.el.parentNode.removeEventListener('mouseup', this.offRotate);\n\t\n\t            this.refs.el.parentNode.removeEventListener('touchmove', this.adjustRotation);\n\t            this.refs.el.parentNode.removeEventListener('touchend', this.offRotate);\n\t        }\n\t    }, {\n\t        key: 'adjustRotation',\n\t        value: function adjustRotation(e) {\n\t            var rotation;\n\t            var deltaX;\n\t            var deltaY;\n\t\n\t            if (e.targetTouches && e.targetTouches[0]) {\n\t                e.pageX = e.targetTouches[0].pageX;\n\t                e.pageY = e.targetTouches[0].pageY;\n\t            }\n\t\n\t            deltaX = e.pageX / this.state.zoom - this.refs.li.offsetParent.offsetLeft - (this.state.left + this.state.width / 2);\n\t            deltaY = e.pageY / this.state.zoom - this.refs.li.offsetParent.offsetTop - (this.state.top + this.state.height / 2);\n\t\n\t            rotation = Math.atan2(deltaY, deltaX) + Math.PI / 4 % (2 * Math.PI);\n\t\n\t            this.setState({\n\t                rotation: rotation\n\t            });\n\t\n\t            this.checkItem();\n\t        }\n\t    }, {\n\t        key: 'layer',\n\t        value: function layer() {\n\t            var layer;\n\t            var self = this;\n\t\n\t            layer = this.state.layer - 1;\n\t\n\t            this.setState({\n\t                layer: layer\n\t            }, function () {\n\t                if (typeof self.props.relayerItems === 'function') {\n\t                    self.props.relayerItems(self.props.asset_type);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'relayer',\n\t        value: function relayer(layer) {\n\t            this.setState({\n\t                layer: layer\n\t            });\n\t        }\n\t    }, {\n\t        key: 'scale',\n\t        value: function scale() {\n\t            this.refs.el.parentNode.addEventListener('mousemove', this.adjustScale);\n\t            this.refs.el.parentNode.addEventListener('mouseup', this.offScale);\n\t\n\t            this.refs.el.parentNode.addEventListener('touchmove', this.adjustScale);\n\t            this.refs.el.parentNode.addEventListener('touchend', this.offScale);\n\t        }\n\t    }, {\n\t        key: 'offScale',\n\t        value: function offScale() {\n\t            this.refs.el.parentNode.removeEventListener('mousemove', this.adjustScale);\n\t            this.refs.el.parentNode.removeEventListener('mouseup', this.offScale);\n\t\n\t            this.refs.el.parentNode.removeEventListener('touchmove', this.adjustScale);\n\t            this.refs.el.parentNode.removeEventListener('touchend', this.offScale);\n\t        }\n\t    }, {\n\t        key: 'adjustScale',\n\t        value: function adjustScale(e) {\n\t            var scale;\n\t            var deltaX;\n\t            var deltaY;\n\t            var delta;\n\t            var base;\n\t\n\t            if (e.targetTouches && e.targetTouches[0]) {\n\t                e.pageX = e.targetTouches[0].pageX;\n\t                e.pageY = e.targetTouches[0].pageY;\n\t            }\n\t\n\t            deltaX = e.pageX / this.state.zoom - this.refs.li.offsetParent.offsetLeft / this.state.zoom - (this.state.left + this.state.width / 2);\n\t            deltaY = e.pageY / this.state.zoom - this.refs.li.offsetParent.offsetTop / this.state.zoom - (this.state.top + this.state.height / 2);\n\t\n\t            delta = Math.pow(Math.pow(deltaX, 2) + Math.pow(deltaY, 2), .5);\n\t            base = Math.pow(Math.pow(this.state.width / 2, 2) + Math.pow(this.state.height / 2, 2), .5);\n\t\n\t            scale = Math.max(Math.min(delta / base, 1), this.state.minScale);\n\t\n\t            this.setState({\n\t                scale: scale\n\t            });\n\t\n\t            this.checkItem();\n\t        }\n\t    }, {\n\t        key: 'checkItem',\n\t        value: function checkItem() {\n\t            var _this3 = this;\n\t\n\t            this.setCorners(function () {\n\t                var valid;\n\t\n\t                if (typeof _this3.props.checkItem === 'function') {\n\t                    valid = _this3.props.checkItem(_this3.props['data-ref'], _this3.props.asset_type);\n\t\n\t                    if (valid) {\n\t                        _this3.setState({\n\t                            valid: valid,\n\t                            lastValid: new Object(_this3.state)\n\t                        });\n\t                    } else {\n\t                        _this3.setState({\n\t                            valid: valid\n\t                        });\n\t                    }\n\t\n\t                    _this3.props.setValid.call(_this3, valid);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'setCorners',\n\t        value: function setCorners(cb) {\n\t            var center;\n\t            var distance;\n\t            var angle;\n\t            var corners = [];\n\t\n\t            center = {\n\t                x: this.state.left + this.state.width / 2,\n\t                y: this.state.top + this.state.height / 2\n\t            };\n\t\n\t            distance = Math.pow(Math.pow(this.state.width * this.state.scale / 2, 2) + Math.pow(this.state.height * this.state.scale / 2, 2), .5);\n\t\n\t            for (var i = 0; i < 4; i++) {\n\t                angle = this.state.rotation;\n\t                angle += i < 2 ? 0 : Math.PI;\n\t                angle += Math.pow(-1, i) * Math.atan2(this.state.height, this.state.width);\n\t\n\t                corners.push({\n\t                    x: center.x + distance * Math.cos(angle),\n\t                    y: center.y + distance * Math.sin(angle)\n\t                });\n\t            }\n\t\n\t            this.setState({\n\t                corners: corners\n\t            }, cb);\n\t        }\n\t    }, {\n\t        key: 'getSize',\n\t        value: function getSize() {\n\t            var _this4 = this;\n\t\n\t            var image;\n\t            var self = this;\n\t\n\t            image = new Image();\n\t\n\t            image.onload = function () {\n\t                var offset;\n\t                var left;\n\t                var top;\n\t                var width;\n\t                var height;\n\t                var minDim;\n\t                var maxDim;\n\t                var minScale;\n\t                var maxScale;\n\t                var scale;\n\t\n\t                minDim = _this4.props.minDim || 40;\n\t                maxDim = _this4.props.maxDim || 400;\n\t                left = _this4.state.left;\n\t                top = _this4.state.top;\n\t                width = image.width;\n\t                height = image.height;\n\t\n\t                minScale = Math.max(minDim / width, minDim / height);\n\t                maxScale = Math.min(maxDim / width, maxDim / height, _this4.state.maxScale);\n\t                scale = self.props.state && self.props.state.scale ? self.props.state.scale : Math.max(Math.min(self.state.scale, maxScale), minScale);\n\t\n\t                if ((!_this4.state.height || !_this4.state.width) && !_this4.state.left && !_this4.state.top) {\n\t                    left = (_this4.props.canvasWidth - width) / 2;\n\t                    top = (_this4.props.canvasHeight - height) / 2;\n\t                }\n\t\n\t                offset = _this4.refs.el.getBoundingClientRect();\n\t\n\t                self.setState({\n\t                    left: left,\n\t                    top: top,\n\t                    startX: left * scale - offset.left / _this4.state.zoom,\n\t                    startY: top * scale - offset.top / _this4.state.zoom,\n\t                    grabX: width / 2,\n\t                    grabY: height / 2,\n\t                    width: width,\n\t                    height: height,\n\t                    minScale: minScale,\n\t                    scale: scale\n\t                }, function () {\n\t                    self.activate();\n\t                    self.checkItem();\n\t                });\n\t            };\n\t\n\t            image.src = this.props.src;\n\t        }\n\t    }, {\n\t        key: 'getLayer',\n\t        value: function getLayer() {\n\t            var layer = 1000;\n\t\n\t            if (this.props.state && this.props.state.layer) {\n\t                layer = this.props.state.layer;\n\t            } else {\n\t                switch (this.props.asset_type) {\n\t                    case 'background':\n\t                        layer = 1;\n\t                        break;\n\t                    case 'message':\n\t                        layer = 10000;\n\t                        break;\n\t                }\n\t            }\n\t\n\t            this.setState({\n\t                layer: layer\n\t            });\n\t        }\n\t    }, {\n\t        key: 'attachEvents',\n\t        value: function attachEvents() {\n\t            this.refs.scale.addEventListener('mousedown', this.scale);\n\t            this.refs.rotate.addEventListener('mousedown', this.rotate);\n\t\n\t            this.refs.scale.addEventListener('touchstart', this.scale);\n\t            this.refs.rotate.addEventListener('touchstart', this.rotate);\n\t        }\n\t    }, {\n\t        key: 'componentDidMount',\n\t        value: function componentDidMount() {\n\t            this.bootstrap();\n\t        }\n\t    }, {\n\t        key: 'bootstrap',\n\t        value: function bootstrap() {\n\t            var _this5 = this;\n\t\n\t            _get(EditableAsset.prototype.__proto__ || Object.getPrototypeOf(EditableAsset.prototype), 'bootstrap', this).call(this);\n\t\n\t            if (this.props.state) {\n\t                this.setState(this.props.state);\n\t            }\n\t\n\t            this.getSize();\n\t            this.getLayer();\n\t\n\t            this.attachEvents();\n\t\n\t            skoash.trigger('emit', {\n\t                name: 'getMedia',\n\t                'media_id': this.props.media_id\n\t            }).then(function (d) {\n\t                _this5.setState(d, function () {\n\t                    _this5.checkItem();\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: 'componentDidUpdate',\n\t        value: function componentDidUpdate() {\n\t            this.attachEvents();\n\t        }\n\t    }, {\n\t        key: 'getButtonStyle',\n\t        value: function getButtonStyle() {\n\t            var extraRotation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\t\n\t            var style;\n\t            var transform = '';\n\t\n\t            transform += 'scale(' + 1 / this.state.scale + ') ';\n\t            transform += 'rotate(' + (-this.state.rotation - extraRotation) + 'rad) ';\n\t\n\t            style = {\n\t                transform: transform\n\t            };\n\t\n\t            return style;\n\t        }\n\t    }, {\n\t        key: 'getAssetStyle',\n\t        value: function getAssetStyle() {\n\t            var style;\n\t            var transform = '';\n\t\n\t            transform += 'scale(' + this.state.scale + ') ';\n\t            transform += 'rotate(' + this.state.rotation + 'rad) ';\n\t\n\t            style = {\n\t                backgroundImage: 'url(\"' + this.props.src + '\")',\n\t                width: this.state.width,\n\t                height: this.state.height,\n\t                left: this.state.left,\n\t                top: this.state.top,\n\t                transform: transform,\n\t                zIndex: this.state.layer\n\t            };\n\t\n\t            return style;\n\t        }\n\t    }, {\n\t        key: 'getButtonsStyle',\n\t        value: function getButtonsStyle() {\n\t            var style;\n\t            var transform = '';\n\t\n\t            transform += 'scale(' + this.state.scale + ') ';\n\t            transform += 'rotate(' + this.state.rotation + 'rad) ';\n\t\n\t            style = {\n\t                width: this.state.width,\n\t                height: this.state.height,\n\t                left: this.state.left,\n\t                top: this.state.top,\n\t                transform: transform\n\t            };\n\t\n\t            return style;\n\t        }\n\t    }, {\n\t        key: 'getClasses',\n\t        value: function getClasses() {\n\t            return (0, _classnames2.default)({\n\t                DRAGGING: this.state.dragging,\n\t                RETURN: this.state.return,\n\t                ACTIVE: this.state.active,\n\t                INVALID: !this.state.valid\n\t            }, 'editable-asset', this.props.asset_type);\n\t        }\n\t    }, {\n\t        key: 'renderAsset',\n\t        value: function renderAsset() {\n\t            return React.createElement('div', {\n\t                ref: 'el',\n\t                className: 'asset',\n\t                style: this.getAssetStyle()\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderButtons',\n\t        value: function renderButtons() {\n\t            return React.createElement(\n\t                'div',\n\t                {\n\t                    className: 'buttons',\n\t                    style: this.getButtonsStyle()\n\t                },\n\t                React.createElement('button', {\n\t                    className: 'delete',\n\t                    style: this.getButtonStyle(),\n\t                    onClick: this.delete.bind(this)\n\t                }),\n\t                React.createElement('button', {\n\t                    ref: 'rotate',\n\t                    className: 'rotate',\n\t                    style: this.getButtonStyle()\n\t                }),\n\t                React.createElement('button', {\n\t                    className: 'layer',\n\t                    onClick: this.layer.bind(this),\n\t                    style: this.getButtonStyle()\n\t                }),\n\t                React.createElement('button', {\n\t                    ref: 'scale',\n\t                    className: 'scale',\n\t                    style: this.getButtonStyle(1.5708)\n\t                })\n\t            );\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'li',\n\t                {\n\t                    ref: 'li',\n\t                    className: this.getClasses(),\n\t                    onClick: this.activate.bind(this)\n\t                },\n\t                this.renderAsset(),\n\t                this.renderButtons()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return EditableAsset;\n\t}(_3.default);\n\t\n\tEditableAsset.defaultProps = _.defaults({\n\t    canvasWidth: 1280,\n\t    canvasHeight: 720,\n\t    setValid: _.identity\n\t}, _3.default.defaultProps);\n\t\n\texports.default = EditableAsset;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Inbox = function (_Selectable) {\n\t    _inherits(Inbox, _Selectable);\n\t\n\t    function Inbox() {\n\t        _classCallCheck(this, Inbox);\n\t\n\t        return _possibleConstructorReturn(this, (Inbox.__proto__ || Object.getPrototypeOf(Inbox)).call(this));\n\t    }\n\t\n\t    _createClass(Inbox, [{\n\t        key: 'selectHelper',\n\t        value: function selectHelper(e) {\n\t            var li;\n\t            var message;\n\t            var key;\n\t            var classes = [];\n\t\n\t            li = e.target.closest('LI');\n\t\n\t            if (!li) return;\n\t\n\t            key = li.getAttribute('data-ref');\n\t\n\t            if (!this.refs[key]) return;\n\t\n\t            message = this.refs[key].props.item;\n\t            classes[key] = this.props.selectClass;\n\t\n\t            this.setState({\n\t                message: message,\n\t                classes: classes\n\t            });\n\t\n\t            if (message.status !== 'COMPLETE') return;\n\t\n\t            if (typeof this.props.selectRespond === 'function' && message) {\n\t                this.props.selectRespond(message);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getClass',\n\t        value: function getClass(key, read) {\n\t            return (0, _classnames2.default)(this.state.classes[key], {\n\t                UNREAD: this.props.friendKey === 'created_by' && !read,\n\t                SENT: this.props.friendKey !== 'created_by'\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)({\n\t                'item-drawer': true,\n\t                COMPLETE: this.state.complete\n\t            }, this.props.className);\n\t        }\n\t    }, {\n\t        key: 'getStatusText',\n\t        value: function getStatusText(item) {\n\t            if (!item.status || item.status === 'COMPLETE') return '';\n\t            return item.status;\n\t        }\n\t    }, {\n\t        key: 'renderList',\n\t        value: function renderList() {\n\t            var _this2 = this;\n\t\n\t            var items;\n\t            var friends;\n\t\n\t            if (!this.props.data || !this.props.data.items) return;\n\t\n\t            items = this.props.data.items;\n\t\n\t            if (!items.length) {\n\t                return React.createElement(\n\t                    'li',\n\t                    { className: 'empty' },\n\t                    this.props.emptyMessage\n\t                );\n\t            }\n\t\n\t            friends = _.get(this.props.gameState, 'data.user', []);\n\t\n\t            return _.map(items, function (item, key) {\n\t                var timestamp;\n\t                var image;\n\t                var name;\n\t                timestamp = moment.utc(item.updated).local();\n\t                key = 'message-' + key;\n\t\n\t                if (item[_this2.props.friendKey] == null) return null;\n\t\n\t                _.each(friends, function (friend) {\n\t                    if (item[_this2.props.friendKey] === friend.friend_id) {\n\t                        image = friend._embedded.image ? friend._embedded.image.url : '';\n\t                        name = friend.username;\n\t                    }\n\t                });\n\t\n\t                if (!name) {\n\t                    skoash.trigger('getData', {\n\t                        name: 'getFriend',\n\t                        'friend_id': item[_this2.props.friendKey]\n\t                    });\n\t                    name = '';\n\t                }\n\t\n\t                if (_this2.props.friendKey === 'friend_to') {\n\t                    item.sent = true;\n\t                }\n\t\n\t                return React.createElement(\n\t                    skoash.ListItem,\n\t                    {\n\t                        className: _this2.getClass(key, item.read),\n\t                        ref: key,\n\t                        'data-ref': key,\n\t                        item: item,\n\t                        key: key\n\t                    },\n\t                    React.createElement(skoash.Image, { src: image }),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: 'username' + (name.length > 15 ? ' long' : '') },\n\t                        name\n\t                    ),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: 'timestamp' },\n\t                        React.createElement(\n\t                            'span',\n\t                            { className: 'date' },\n\t                            timestamp.format('MM.DD.YY')\n\t                        ),\n\t                        React.createElement(\n\t                            'span',\n\t                            { className: 'time' },\n\t                            timestamp.format('h:mm a')\n\t                        )\n\t                    ),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: 'status ' + item.status },\n\t                        _this2.getStatusText(item)\n\t                    )\n\t                );\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(\n\t                    'ul',\n\t                    { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t                    this.renderList()\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Inbox;\n\t}(_3.default);\n\t\n\tInbox.defaultProps = _.defaults({\n\t    friendKey: 'created_by',\n\t    gameState: {}\n\t}, _3.default.defaultProps);\n\t\n\texports.default = Inbox;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(\n\t        skoash.Screen,\n\t        _extends({}, props, {\n\t            ref: ref,\n\t            key: key,\n\t            id: \"ios-splash\",\n\t            checkComplete: false,\n\t            completeDelay: 6000,\n\t            nextDelay: 3000,\n\t            completeOnStart: true,\n\t            hidePrev: true\n\t        }),\n\t        React.createElement(skoash.Image, { className: \"hidden\", src: \"../shared/images/ios_start_ball.png\" }),\n\t        React.createElement(skoash.Image, { className: \"hidden\", src: \"../shared/images/ios_start_ball_anim.gif\" })\n\t    );\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Loader = function (_skoash$Component) {\n\t    _inherits(Loader, _skoash$Component);\n\t\n\t    function Loader() {\n\t        _classCallCheck(this, Loader);\n\t\n\t        return _possibleConstructorReturn(this, (Loader.__proto__ || Object.getPrototypeOf(Loader)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Loader, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            return React.createElement(\n\t                \"div\",\n\t                { id: \"loader\", className: \"center\" },\n\t                React.createElement(\n\t                    \"div\",\n\t                    { className: \"group\" },\n\t                    React.createElement(\n\t                        \"h2\",\n\t                        null,\n\t                        \"Loading!\"\n\t                    ),\n\t                    React.createElement(\n\t                        \"div\",\n\t                        { className: \"spinner animated\" },\n\t                        React.createElement(\n\t                            \"div\",\n\t                            { className: \"spinner animated\" },\n\t                            React.createElement(\"div\", { className: \"spinner animated\" })\n\t                        )\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Loader;\n\t}(skoash.Component);\n\t\n\texports.default = Loader;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Menu = function (_Selectable) {\n\t    _inherits(Menu, _Selectable);\n\t\n\t    function Menu() {\n\t        _classCallCheck(this, Menu);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Menu.__proto__ || Object.getPrototypeOf(Menu)).call(this));\n\t\n\t        _this.state = {\n\t            active: false,\n\t            selectClass: 'SELECTED',\n\t            classes: {}\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Menu, [{\n\t        key: 'deactivate',\n\t        value: function deactivate() {\n\t            this.setState({\n\t                active: false\n\t            });\n\t\n\t            _.each(this.refs, function (ref) {\n\t                _.invoke(ref, 'deactivate');\n\t            });\n\t        }\n\t    }, {\n\t        key: 'onClick',\n\t        value: function onClick(e) {\n\t            var li;\n\t            var ul;\n\t            var dom;\n\t            var message;\n\t            var active = false;\n\t            var classes = [];\n\t\n\t            li = e.target.closest('LI');\n\t\n\t            if (!li) return;\n\t\n\t            ul = li.closest('UL');\n\t            dom = ReactDOM.findDOMNode(this); // eslint-disable-line no-undef\n\t\n\t            if (ul !== dom) return;\n\t\n\t            message = li.getAttribute('data-ref');\n\t\n\t            if (this.state.classes[message] !== this.state.selectClass) {\n\t                classes[message] = this.state.selectClass;\n\t                active = !this.props.inactive;\n\t            }\n\t\n\t            this.setState({\n\t                classes: classes,\n\t                active: active\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderItems',\n\t        value: function renderItems() {\n\t            var _this2 = this;\n\t\n\t            var self = this;\n\t\n\t            if (_typeof(this.props.items) !== 'object') return;\n\t\n\t            return Object.keys(this.props.items).map(function (key) {\n\t                var item;\n\t                var onClick;\n\t                var gotoObj;\n\t                var categories;\n\t                var isFinal;\n\t\n\t                categories = _this2.props.categories ? [].concat(_this2.props.categories) : [];\n\t                categories.push(key);\n\t\n\t                item = _this2.props.items[key];\n\t\n\t                isFinal = _typeof(item.items) !== 'object' || Object.prototype.toString.call(item.items) === '[object Array]' && item.items[0] && !item.items[0].items || typeof self.props.lastLevel === 'number' && self.props.lastLevel === self.props.level;\n\t\n\t                if (isFinal) {\n\t                    gotoObj = {\n\t                        index: 'item-drawer',\n\t                        categories: categories,\n\t                        categoryName: item.name\n\t                    };\n\t                    onClick = skoash.trigger.bind(null, 'goto', gotoObj);\n\t                }\n\t\n\t                return React.createElement(\n\t                    skoash.ListItem,\n\t                    {\n\t                        className: self.getClass(key),\n\t                        'data-ref': key,\n\t                        ref: key,\n\t                        key: key,\n\t                        onClick: onClick\n\t                    },\n\t                    React.createElement(\n\t                        'span',\n\t                        null,\n\t                        item.name || key\n\t                    ),\n\t                    function () {\n\t                        if (isFinal) return;\n\t                        return React.createElement(Menu, {\n\t                            ref: 'menu-' + key,\n\t                            categories: categories,\n\t                            items: item.items,\n\t                            inactive: true,\n\t                            level: (self.props.level || 0) + 1,\n\t                            lastLevel: self.props.lastLevel\n\t                        });\n\t                    }()\n\t                );\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getClass',\n\t        value: function getClass(key) {\n\t            var _classNames;\n\t\n\t            return (0, _classnames2.default)((_classNames = {}, _defineProperty(_classNames, key.replace(' ', '-'), true), _defineProperty(_classNames, this.state.classes[key] || '', true), _classNames));\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)({\n\t                menu: true,\n\t                ACTIVE: this.state.active\n\t            }, this.props.className);\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'ul',\n\t                {\n\t                    className: this.getClassNames(),\n\t                    onClick: this.onClick.bind(this)\n\t                },\n\t                this.renderItems()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Menu;\n\t}(_3.default);\n\t\n\texports.default = Menu;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar QuitScreen = function (_skoash$Screen) {\n\t    _inherits(QuitScreen, _skoash$Screen);\n\t\n\t    function QuitScreen() {\n\t        _classCallCheck(this, QuitScreen);\n\t\n\t        return _possibleConstructorReturn(this, (QuitScreen.__proto__ || Object.getPrototypeOf(QuitScreen)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(QuitScreen, [{\n\t        key: 'okay',\n\t        value: function okay() {\n\t            skoash.trigger('quit');\n\t        }\n\t    }, {\n\t        key: 'cancel',\n\t        value: function cancel() {\n\t            this.close();\n\t            skoash.trigger('menuClose', {\n\t                id: this.props.id\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderAssets',\n\t        value: function renderAssets() {\n\t            if (this.props.assets) {\n\t                return this.props.assets.map(function (asset, key) {\n\t                    return React.createElement(skoash.Audio, _extends({}, asset.props, {\n\t                        ref: asset.ref || asset.props['data-ref'] || 'asset-' + key,\n\t                        key: key,\n\t                        'data-ref': key\n\t                    }));\n\t                });\n\t            }\n\t\n\t            return null;\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                { id: this.props.id, className: 'screen ' + this.getClassNames() },\n\t                this.renderAssets(),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'center' },\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'frame' },\n\t                        React.createElement(\n\t                            'h2',\n\t                            null,\n\t                            'Are you sure you',\n\t                            React.createElement('br', null),\n\t                            'want to quit?'\n\t                        ),\n\t                        React.createElement(\n\t                            'h3',\n\t                            null,\n\t                            'Your game progress will be saved'\n\t                        ),\n\t                        React.createElement('button', { className: 'quit-yes', onClick: this.okay.bind(this) }),\n\t                        React.createElement('button', { className: 'quit-no', onClick: this.cancel.bind(this) })\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return QuitScreen;\n\t}(skoash.Screen);\n\t\n\texports.default = React.createElement(QuitScreen, {\n\t    id: 'quit'\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Repeater = function (_skoash$Component) {\n\t    _inherits(Repeater, _skoash$Component);\n\t\n\t    function Repeater() {\n\t        _classCallCheck(this, Repeater);\n\t\n\t        return _possibleConstructorReturn(this, (Repeater.__proto__ || Object.getPrototypeOf(Repeater)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Repeater, [{\n\t        key: 'renderContentList',\n\t        value: function renderContentList() {\n\t            var a = [];\n\t            for (var i = 0; i < this.props.amount; i++) {\n\t                a.push(React.createElement(this.props.item, _extends({ key: i }, this.props.props[i])));\n\t            }\n\t            return a;\n\t        }\n\t    }]);\n\t\n\t    return Repeater;\n\t}(skoash.Component);\n\t\n\tRepeater.defaultProps = _.defaults({\n\t    amount: 1,\n\t    item: 'div',\n\t    props: []\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = Repeater;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Reveal = function (_skoash$Component) {\n\t    _inherits(Reveal, _skoash$Component);\n\t\n\t    function Reveal() {\n\t        _classCallCheck(this, Reveal);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Reveal.__proto__ || Object.getPrototypeOf(Reveal)).call(this));\n\t\n\t        _this.state = {\n\t            openReveal: '',\n\t            currentlyOpen: []\n\t        };\n\t\n\t        _this.index = 0;\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Reveal, [{\n\t        key: 'incomplete',\n\t        value: function incomplete() {\n\t            this.setState({\n\t                openReveal: '',\n\t                currentlyOpen: []\n\t            });\n\t\n\t            _get(Reveal.prototype.__proto__ || Object.getPrototypeOf(Reveal.prototype), 'incomplete', this).call(this);\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open(message) {\n\t            var self = this;\n\t            var currentlyOpen = this.props.openMultiple ? this.state.currentlyOpen.concat(message) : [message];\n\t\n\t            self.setState({\n\t                open: true,\n\t                openReveal: message,\n\t                currentlyOpen: currentlyOpen\n\t            });\n\t\n\t            self.playAudio(message);\n\t\n\t            if (self.props.completeOnOpen) {\n\t                self.complete();\n\t            } else {\n\t                _.each(self.refs, function (ref, key) {\n\t                    if (ref && key === message) ref.complete();\n\t                });\n\t            }\n\t\n\t            if (self.props.autoClose) {\n\t                setTimeout(function () {\n\t                    self.close();\n\t                }, 2000);\n\t            }\n\t\n\t            if (self.props.openTarget) {\n\t                self.updateGameState({\n\t                    path: self.props.openTarget,\n\t                    data: {\n\t                        open: '' + message,\n\t                        close: false\n\t                    }\n\t                });\n\t            }\n\t\n\t            self.props.onOpen.call(self, message);\n\t        }\n\t    }, {\n\t        key: 'close',\n\t        value: function close() {\n\t            var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t            var prevMessage;\n\t            var currentlyOpen;\n\t            var openReveal;\n\t            var open;\n\t\n\t            prevMessage = this.state.openReveal;\n\t            currentlyOpen = this.state.currentlyOpen;\n\t            currentlyOpen.splice(currentlyOpen.indexOf(prevMessage), 1);\n\t            open = currentlyOpen.length > 0;\n\t            openReveal = open ? currentlyOpen[currentlyOpen.length - 1] : '';\n\t\n\t            this.setState({\n\t                open: open,\n\t                openReveal: openReveal,\n\t                currentlyOpen: currentlyOpen\n\t            });\n\t\n\t            if (!opts.silent) this.playMedia('close-sound');\n\t\n\t            this.props.onClose.call(this, prevMessage);\n\t\n\t            if (typeof this.props.closeRespond === 'function') {\n\t                this.props.closeRespond(prevMessage);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'start',\n\t        value: function start() {\n\t            _get(Reveal.prototype.__proto__ || Object.getPrototypeOf(Reveal.prototype), 'start', this).call(this);\n\t            if (this.props.openOnStart != null) {\n\t                this.open(this.props.openOnStart);\n\t            } else if (this.props.start && typeof this.props.start === 'function') {\n\t                this.props.start.call(this);\n\t            } else {\n\t                this.close({ silent: true });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'playAudio',\n\t        value: function playAudio(message) {\n\t            var _this2 = this;\n\t\n\t            var messages;\n\t\n\t            message += '';\n\t\n\t            this.playMedia('open-sound');\n\t\n\t            messages = message.split(' ');\n\t            messages.map(function (audio) {\n\t                _this2.playMedia(audio);\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderAssets',\n\t        value: function renderAssets() {\n\t            if (this.props.assets) {\n\t                return this.props.assets.map(function (asset, key) {\n\t                    var ref = asset.ref || asset.props['data-ref'] || 'asset-' + key;\n\t                    return React.createElement(asset.type, _extends({}, asset.props, {\n\t                        'data-ref': key,\n\t                        ref: ref,\n\t                        key: key\n\t                    }));\n\t                });\n\t            }\n\t\n\t            return null;\n\t        }\n\t    }, {\n\t        key: 'renderList',\n\t        value: function renderList() {\n\t            var _this3 = this;\n\t\n\t            var list = this.props.list;\n\t\n\t            return list.map(function (li, key) {\n\t                var ref = li.ref || li.props['data-ref'] || key;\n\t                return React.createElement(li.type, _extends({}, li.props, {\n\t                    type: 'li',\n\t                    className: _this3.getClass(li, key),\n\t                    'data-ref': ref,\n\t                    ref: ref,\n\t                    key: key\n\t                }));\n\t            });\n\t        }\n\t    }, {\n\t        key: 'componentWillReceiveProps',\n\t        value: function componentWillReceiveProps(props) {\n\t            _get(Reveal.prototype.__proto__ || Object.getPrototypeOf(Reveal.prototype), 'componentWillReceiveProps', this).call(this, props);\n\t\n\t            if (props.openReveal != null && props.openReveal !== this.props.openReveal) {\n\t                this.open(props.openReveal);\n\t            }\n\t\n\t            if (props.closeReveal !== this.props.closeReveal) {\n\t                if (props.closeReveal === true) {\n\t                    this.close();\n\t                } else if (Number.isInteger(props.closeReveal)) {\n\t                    for (var i = 0; i < props.closeReveal; i++) {\n\t                        this.close();\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getClass',\n\t        value: function getClass(li, key) {\n\t            var classes = '';\n\t\n\t            if (li.props.className) classes = li.props.className;\n\t\n\t            if (this.state.currentlyOpen.indexOf(key) !== -1 || this.state.currentlyOpen.indexOf('' + key) !== -1 || this.state.currentlyOpen.indexOf(li.props['data-ref']) !== -1 || this.state.currentlyOpen.indexOf(li.ref) !== -1) {\n\t                classes = (0, _classnames2.default)(classes, 'OPEN');\n\t            }\n\t\n\t            return classes;\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            var classes;\n\t            var open = 'open-none ';\n\t\n\t            if (this.state.open) {\n\t                open = '';\n\t                this.state.currentlyOpen.forEach(function (ref) {\n\t                    open += 'open-' + ref;\n\t                });\n\t            }\n\t\n\t            classes = (0, _classnames2.default)('reveal', open, _get(Reveal.prototype.__proto__ || Object.getPrototypeOf(Reveal.prototype), 'getClassNames', this).call(this));\n\t\n\t            return classes;\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                { className: this.getClassNames() },\n\t                this.renderAssets(),\n\t                React.createElement(\n\t                    'div',\n\t                    null,\n\t                    React.createElement(\n\t                        'ul',\n\t                        null,\n\t                        this.renderList()\n\t                    ),\n\t                    React.createElement('button', { className: 'close-reveal', onClick: this.close.bind(this) })\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Reveal;\n\t}(skoash.Component);\n\t\n\tReveal.defaultProps = _.defaults({\n\t    list: [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)],\n\t    openMultiple: true,\n\t    onOpen: _.noop,\n\t    onClose: _.noop\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = Reveal;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _ = __webpack_require__(2);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SavedMessages = function (_Selectable) {\n\t    _inherits(SavedMessages, _Selectable);\n\t\n\t    function SavedMessages() {\n\t        _classCallCheck(this, SavedMessages);\n\t\n\t        return _possibleConstructorReturn(this, (SavedMessages.__proto__ || Object.getPrototypeOf(SavedMessages)).call(this));\n\t    }\n\t\n\t    _createClass(SavedMessages, [{\n\t        key: 'selectHelper',\n\t        value: function selectHelper(e) {\n\t            var li;\n\t            var message;\n\t            var key;\n\t            var classes = [];\n\t\n\t            li = e.target.closest('LI');\n\t\n\t            if (!li) return;\n\t\n\t            key = li.getAttribute('data-ref');\n\t\n\t            message = this.refs[key].props.item;\n\t            classes[key] = this.state.selectClass;\n\t\n\t            this.setState({\n\t                message: message,\n\t                classes: classes\n\t            }, this.selectRespond.bind(this));\n\t        }\n\t    }, {\n\t        key: 'selectRespond',\n\t        value: function selectRespond() {\n\t            if (typeof this.props.selectRespond === 'function' && this.state.message) {\n\t                this.props.selectRespond(this.state.message);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getClass',\n\t        value: function getClass(key) {\n\t            var _classNames;\n\t\n\t            return (0, _classnames2.default)((_classNames = {}, _defineProperty(_classNames, this.state.classes[key] || '', true), _defineProperty(_classNames, 'DRAFT', true), _classNames));\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)({\n\t                'item-drawer': true,\n\t                SAVED: true,\n\t                COMPLETE: this.state.complete\n\t            }, this.props.className);\n\t        }\n\t    }, {\n\t        key: 'renderThumb',\n\t        value: function renderThumb(item) {\n\t            var firstImg;\n\t            var background;\n\t\n\t            background = item && item.rules && item.rules.background && item.rules.background.src ? item.rules.background.src : '';\n\t\n\t            firstImg = item && item.rules && item.rules.items && item.rules.items[0] && item.rules.items[0].src ? item.rules.items[0].src : item && item.rules && item.rules.messages && item.rules.messages[0] && item.rules.messages[0].src ? item.rules.messages[0].src : '';\n\t\n\t            return React.createElement(\n\t                'div',\n\t                {\n\t                    className: 'thumbnail',\n\t                    style: {\n\t                        backgroundImage: 'url(' + background + ')'\n\t                    }\n\t                },\n\t                React.createElement(skoash.Image, { src: firstImg })\n\t            );\n\t        }\n\t    }, {\n\t        key: 'renderList',\n\t        value: function renderList() {\n\t            var items;\n\t            var self = this;\n\t\n\t            if (!self.props.data || !self.props.data.items) return;\n\t\n\t            items = self.props.data.items;\n\t\n\t            if (!items.length) {\n\t                return React.createElement(\n\t                    'li',\n\t                    { className: 'empty' },\n\t                    this.props.emptyMessage\n\t                );\n\t            }\n\t\n\t            return items.map(function (item, key) {\n\t                var timestamp = moment.utc(item.updated).local();\n\t                return React.createElement(\n\t                    skoash.ListItem,\n\t                    {\n\t                        className: self.getClass(key),\n\t                        ref: key,\n\t                        'data-ref': key,\n\t                        item: item,\n\t                        key: key\n\t                    },\n\t                    self.renderThumb(item),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: 'timestamp' },\n\t                        React.createElement(\n\t                            'span',\n\t                            { className: 'date' },\n\t                            timestamp.format('MM.DD.YY')\n\t                        ),\n\t                        React.createElement(\n\t                            'span',\n\t                            { className: 'time' },\n\t                            timestamp.format('h:mm a')\n\t                        )\n\t                    )\n\t                );\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(\n\t                    'ul',\n\t                    { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t                    this.renderList()\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SavedMessages;\n\t}(_2.default);\n\t\n\texports.default = SavedMessages;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar IMAGE = 'image';\n\tvar AREA = 'area';\n\tvar CONTENT = 'content';\n\tvar SCROLLBAR = 'scrollbar';\n\tvar SCROLLER = 'scroller';\n\t\n\tvar ScrollArea = function (_skoash$Component) {\n\t    _inherits(ScrollArea, _skoash$Component);\n\t\n\t    function ScrollArea() {\n\t        _classCallCheck(this, ScrollArea);\n\t\n\t        var _this = _possibleConstructorReturn(this, (ScrollArea.__proto__ || Object.getPrototypeOf(ScrollArea)).call(this));\n\t\n\t        _this.state = _.defaults({\n\t            startY: 0,\n\t            endY: 0,\n\t            zoom: 1\n\t        }, _this.state);\n\t\n\t        _this.setZoom = _this.setZoom.bind(_this);\n\t\n\t        _this.mouseDown = _this.mouseDown.bind(_this);\n\t        _this.mouseUp = _this.mouseUp.bind(_this);\n\t\n\t        _this.moveEvent = _this.moveEvent.bind(_this);\n\t\n\t        _this.touchStart = _this.touchStart.bind(_this);\n\t        _this.touchEnd = _this.touchEnd.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(ScrollArea, [{\n\t        key: 'start',\n\t        value: function start() {\n\t            var _this2 = this;\n\t\n\t            _get(ScrollArea.prototype.__proto__ || Object.getPrototypeOf(ScrollArea.prototype), 'start', this).call(this, function () {\n\t                _this2[AREA].scrollTop = 0;\n\t                _this2.setState({\n\t                    startY: 0,\n\t                    endY: 0\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: 'bootstrap',\n\t        value: function bootstrap() {\n\t            var _this3 = this;\n\t\n\t            _get(ScrollArea.prototype.__proto__ || Object.getPrototypeOf(ScrollArea.prototype), 'bootstrap', this).call(this);\n\t\n\t            this.setZoom();\n\t            window.addEventListener('resize', this.setZoom);\n\t\n\t            this[AREA] = ReactDOM.findDOMNode(this.refs[AREA]);\n\t            this[CONTENT] = ReactDOM.findDOMNode(this.refs[CONTENT]);\n\t            this[SCROLLBAR] = ReactDOM.findDOMNode(this.refs[SCROLLBAR]);\n\t            this[SCROLLER] = ReactDOM.findDOMNode(this.refs[SCROLLER]);\n\t\n\t            this[AREA].scrollTop = 0;\n\t\n\t            this[AREA].addEventListener('scroll', function (e) {\n\t                var areaScrollTop;\n\t                var endY;\n\t\n\t                if (!e.target || _this3.dragging) return;\n\t\n\t                areaScrollTop = e.target.scrollTop;\n\t                endY = (_this3[SCROLLBAR].offsetHeight - _this3.props.scrollbarHeight) * (areaScrollTop / (_this3[CONTENT].offsetHeight - _this3[AREA].offsetHeight));\n\t\n\t                _this3.setState({\n\t                    startY: 0,\n\t                    endY: endY\n\t                });\n\t            });\n\t\n\t            this[SCROLLER].addEventListener('mousedown', this.mouseDown);\n\t            this[SCROLLER].addEventListener('touchstart', this.touchStart);\n\t        }\n\t    }, {\n\t        key: 'setZoom',\n\t        value: function setZoom() {\n\t            var _this4 = this;\n\t\n\t            skoash.trigger('getState').then(function (state) {\n\t                _this4.setState({\n\t                    zoom: state.scale\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: 'mouseDown',\n\t        value: function mouseDown(e) {\n\t            this.startEvent(e, this.attachMouseEvents);\n\t        }\n\t    }, {\n\t        key: 'touchStart',\n\t        value: function touchStart(e) {\n\t            this.startEvent(e, this.attachTouchEvents);\n\t        }\n\t    }, {\n\t        key: 'startEvent',\n\t        value: function startEvent(e, cb) {\n\t            var startY;\n\t            var endY;\n\t\n\t            if (e.target !== this[SCROLLER]) return;\n\t\n\t            this.dragging = true;\n\t\n\t            e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\t\n\t            endY = this.getEndY(e);\n\t            startY = this.state.startY || endY;\n\t\n\t            this.setState({\n\t                startY: startY,\n\t                endY: endY\n\t            });\n\t\n\t            if (typeof cb === 'function') cb.call(this);\n\t        }\n\t    }, {\n\t        key: 'getEndY',\n\t        value: function getEndY(e) {\n\t            return Math.min(Math.max(e.pageY / this.state.zoom, this.state.startY), this.state.startY + this[SCROLLBAR].getBoundingClientRect().height / this.state.zoom - this.props.scrollbarHeight);\n\t        }\n\t    }, {\n\t        key: 'attachMouseEvents',\n\t        value: function attachMouseEvents() {\n\t            window.addEventListener('mousemove', this.moveEvent);\n\t            window.addEventListener('mouseup', this.mouseUp);\n\t        }\n\t    }, {\n\t        key: 'attachTouchEvents',\n\t        value: function attachTouchEvents() {\n\t            window.addEventListener('touchmove', this.moveEvent);\n\t            window.addEventListener('touchend', this.touchEnd);\n\t        }\n\t    }, {\n\t        key: 'moveEvent',\n\t        value: function moveEvent(e) {\n\t            var endY;\n\t\n\t            e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\t\n\t            endY = this.getEndY(e);\n\t\n\t            this[AREA].scrollTop = (endY - this.state.startY) * (this[CONTENT].offsetHeight - this[AREA].offsetHeight) / (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight);\n\t\n\t            this.setState({\n\t                endY: endY\n\t            });\n\t        }\n\t    }, {\n\t        key: 'mouseUp',\n\t        value: function mouseUp() {\n\t            this.dragging = false;\n\t            this.detachMouseEvents();\n\t        }\n\t    }, {\n\t        key: 'touchEnd',\n\t        value: function touchEnd() {\n\t            this.dragging = false;\n\t            this.detachTouchEvents();\n\t        }\n\t    }, {\n\t        key: 'detachMouseEvents',\n\t        value: function detachMouseEvents() {\n\t            window.removeEventListener('mousemove', this.moveEvent);\n\t            window.removeEventListener('mouseup', this.mouseUp);\n\t        }\n\t    }, {\n\t        key: 'detachTouchEvents',\n\t        value: function detachTouchEvents() {\n\t            window.removeEventListener('touchmove', this.moveEvent);\n\t            window.removeEventListener('touchend', this.touchEnd);\n\t        }\n\t    }, {\n\t        key: 'getScrollerStyle',\n\t        value: function getScrollerStyle() {\n\t            return {\n\t                backgroundImage: 'url(' + this.props.img + ')',\n\t                top: this.state.endY - this.state.startY\n\t            };\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)('scroll-area', _get(ScrollArea.prototype.__proto__ || Object.getPrototypeOf(ScrollArea.prototype), 'getClassNames', this).call(this));\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            if (!this.props.shouldRender) return null;\n\t\n\t            return React.createElement(\n\t                this.props.type,\n\t                _extends({}, this.props, { className: this.getClassNames() }),\n\t                React.createElement(skoash.Image, { ref: IMAGE, className: 'hidden', src: this.props.img }),\n\t                React.createElement(\n\t                    'div',\n\t                    { ref: AREA, className: AREA },\n\t                    React.createElement(\n\t                        'div',\n\t                        { ref: CONTENT, className: CONTENT },\n\t                        this.renderContentList()\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    'div',\n\t                    {\n\t                        ref: SCROLLBAR,\n\t                        className: SCROLLBAR\n\t                    },\n\t                    React.createElement('div', {\n\t                        ref: SCROLLER,\n\t                        className: SCROLLER,\n\t                        style: this.getScrollerStyle()\n\t                    })\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return ScrollArea;\n\t}(skoash.Component);\n\t\n\tScrollArea.defaultProps = _.defaults({\n\t    img: '',\n\t    scrollbarHeight: 100\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = ScrollArea;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _4 = __webpack_require__(14);\n\t\n\tvar _5 = _interopRequireDefault(_4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SelectableReveal = function (_skoash$Component) {\n\t    _inherits(SelectableReveal, _skoash$Component);\n\t\n\t    function SelectableReveal() {\n\t        _classCallCheck(this, SelectableReveal);\n\t\n\t        return _possibleConstructorReturn(this, (SelectableReveal.__proto__ || Object.getPrototypeOf(SelectableReveal)).call(this));\n\t    }\n\t\n\t    _createClass(SelectableReveal, [{\n\t        key: 'start',\n\t        value: function start() {\n\t            _get(SelectableReveal.prototype.__proto__ || Object.getPrototypeOf(SelectableReveal.prototype), 'start', this).call(this);\n\t            this.setState({\n\t                canSelectOnStart: this.props.canSelectOnStart\n\t            });\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open(message) {\n\t            this.refs.reveal.open(message);\n\t        }\n\t    }, {\n\t        key: 'selectRespond',\n\t        value: function selectRespond(message) {\n\t            if (this.props.answers.length) {\n\t                if (this.props.answers.indexOf(message) === -1) {\n\t                    this.playMedia('incorrect');\n\t                    if (this.props.revealAll) {\n\t                        if (typeof this.refs.reveal.open === 'function') {\n\t                            this.open(message);\n\t                        }\n\t                    }\n\t                } else {\n\t                    this.playMedia('correct');\n\t                    if (typeof this.refs.reveal.open === 'function') {\n\t                        this.open(message);\n\t                    }\n\t                }\n\t            } else {\n\t                if (this.props.allCorrect) this.playMedia('correct');\n\t                if (typeof this.refs.reveal.open === 'function') {\n\t                    this.open(message);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'closeRespond',\n\t        value: function closeRespond() {\n\t            if (typeof this.props.closeRespond === 'function') {\n\t                this.props.closeRespond();\n\t            }\n\t        }\n\t    }, {\n\t        key: 'renderAssets',\n\t        value: function renderAssets() {\n\t            if (this.props.assets) {\n\t                return this.props.assets.map(function (asset, key) {\n\t                    return React.createElement(skoash.Audio, _extends({}, asset.props, {\n\t                        ref: asset.ref || asset.props['data-ref'] || 'asset-' + key,\n\t                        key: key,\n\t                        'data-ref': key\n\t                    }));\n\t                });\n\t            }\n\t\n\t            return null;\n\t        }\n\t    }, {\n\t        key: 'renderSelectable',\n\t        value: function renderSelectable() {\n\t            return React.createElement(_3.default, {\n\t                ref: 'selectable',\n\t                list: this.props.selectableList,\n\t                selectRespond: this.selectRespond.bind(this),\n\t                selectClass: this.props.selectableSelectClass,\n\t                completeOnSelect: this.props.selectableCompleteOnSelect,\n\t                checkComplete: this.props.selectableCheckComplete,\n\t                randomizeList: this.props.randomizeSelectableList,\n\t                selectOnStart: this.props.selectOnStart,\n\t                chooseOne: this.props.chooseOne,\n\t                answers: this.props.answers,\n\t                allowDeselect: this.props.allowDeselect\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderReveal',\n\t        value: function renderReveal() {\n\t            return React.createElement(_5.default, {\n\t                ref: 'reveal',\n\t                list: this.props.revealList,\n\t                assets: this.props.revealAssets,\n\t                closeRespond: this.closeRespond.bind(this),\n\t                completeOnOpen: this.props.revealCompleteOnOpen,\n\t                checkComplete: this.props.revealCheckComplete,\n\t                openOnStart: this.props.openOnStart,\n\t                hide: this.props.hideReveal,\n\t                openReveal: this.props.openReveal,\n\t                onOpen: this.props.onOpen,\n\t                openMultiple: false\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getClasses',\n\t        value: function getClasses() {\n\t            var classes = '';\n\t\n\t            if (this.state.complete) classes += ' COMPLETE';\n\t\n\t            return classes;\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                { className: 'selectable-reveal' + this.getClasses() },\n\t                this.renderAssets(),\n\t                this.renderSelectable(),\n\t                this.renderReveal()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SelectableReveal;\n\t}(skoash.Component);\n\t\n\tSelectableReveal.defaultProps = _.defaults({\n\t    answers: [],\n\t    canSelectOnStart: true\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = SelectableReveal;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\twindow.ENVIRONMENT = {\n\t    MEDIA: 'https://media.changemyworldnow.com/f/'\n\t};\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(CanvasScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'canvas',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _2 = __webpack_require__(4);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _4 = __webpack_require__(11);\n\t\n\tvar _5 = _interopRequireDefault(_4);\n\t\n\tvar _6 = __webpack_require__(2);\n\t\n\tvar _7 = _interopRequireDefault(_6);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t// import Reveal from 'shared/components/reveal/0.1';\n\t\n\tvar CanvasScreen = function (_skoash$Screen) {\n\t    _inherits(CanvasScreen, _skoash$Screen);\n\t\n\t    function CanvasScreen() {\n\t        _classCallCheck(this, CanvasScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (CanvasScreen.__proto__ || Object.getPrototypeOf(CanvasScreen)).call(this));\n\t\n\t        _this.state = {\n\t            load: true,\n\t            menu: {},\n\t            valid: true\n\t        };\n\t\n\t        _this.rightMenuList = [React.createElement(\n\t            'li',\n\t            { className: 'preview', onClick: _this.preview.bind(_this) },\n\t            React.createElement('span', null)\n\t        ), React.createElement(\n\t            'li',\n\t            { className: 'send', onClick: _this.send.bind(_this) },\n\t            React.createElement('span', null)\n\t        )];\n\t\n\t        _this.setValid = _this.setValid.bind(_this);\n\t        _this.closeReveal = _this.closeReveal.bind(_this);\n\t        _this.setHasAssets = _this.setHasAssets.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(CanvasScreen, [{\n\t        key: 'getData',\n\t        value: function getData() {\n\t            return this.refs.canvas.getItems();\n\t        }\n\t    }, {\n\t        key: 'reset',\n\t        value: function reset() {\n\t            this.refs.canvas.reset();\n\t            this.setState({\n\t                background: false,\n\t                hasAssets: false\n\t            });\n\t        }\n\t    }, {\n\t        key: 'addItem',\n\t        value: function addItem(message) {\n\t            if (message) {\n\t                this.setState({\n\t                    hasAssets: true,\n\t                    background: this.state.background || message.asset_type === 'background'\n\t                });\n\t                this.refs.canvas.addItem(message, function () {\n\t                    skoash.trigger('save');\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'addItems',\n\t        value: function addItems(message) {\n\t            var hasAssets;\n\t            var background;\n\t\n\t            hasAssets = true;\n\t            background = !!message.rules.background;\n\t\n\t            this.mapRulesStringToNumbers(message.rules);\n\t\n\t            this.refs.canvas.setItems(message.rules);\n\t\n\t            this.setState({\n\t                hasAssets: hasAssets,\n\t                background: background\n\t            });\n\t\n\t            if (message.friend_to) {\n\t                skoash.trigger('passData', {\n\t                    name: 'add-recipient',\n\t                    message: message.friend_to\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'setMenu',\n\t        value: function setMenu() {\n\t            var menu;\n\t            var state = this.props.gameState;\n\t\n\t            if (state && state.data && state.data.menu) {\n\t                menu = state.data.menu;\n\t                this.setState({\n\t                    menu: menu\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'mapRulesStringToNumbers',\n\t        value: function mapRulesStringToNumbers(rules) {\n\t            if (!rules) return;\n\t\n\t            if (_.isArray(rules.items)) {\n\t                rules.items.forEach(function (item) {\n\t                    item.state.left = parseFloat(item.state.left);\n\t                    item.state.rotation = parseFloat(item.state.rotation);\n\t                    item.state.scale = parseFloat(item.state.scale);\n\t                    item.state.top = parseFloat(item.state.top);\n\t                });\n\t            }\n\t\n\t            if (_.isArray(rules.messages)) {\n\t                rules.messages.forEach(function (message) {\n\t                    message.state.left = parseFloat(message.state.left);\n\t                    message.state.rotation = parseFloat(message.state.rotation);\n\t                    message.state.scale = parseFloat(message.state.scale);\n\t                    message.state.top = parseFloat(message.state.top);\n\t                });\n\t            }\n\t\n\t            return rules;\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open() {\n\t            var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t            this.setMenu();\n\t\n\t            if (this.refs && this.refs.menu) {\n\t                this.refs.menu.deactivate();\n\t            }\n\t\n\t            if (!opts.draft) skoash.trigger('save');\n\t\n\t            _get(CanvasScreen.prototype.__proto__ || Object.getPrototypeOf(CanvasScreen.prototype), 'open', this).call(this);\n\t        }\n\t    }, {\n\t        key: 'close',\n\t        value: function close() {\n\t            skoash.trigger('save');\n\t            _get(CanvasScreen.prototype.__proto__ || Object.getPrototypeOf(CanvasScreen.prototype), 'close', this).call(this);\n\t        }\n\t    }, {\n\t        key: 'setValid',\n\t        value: function setValid(valid) {\n\t            this.setState({\n\t                valid: valid\n\t            });\n\t        }\n\t    }, {\n\t        key: 'setHasAssets',\n\t        value: function setHasAssets(hasAssets) {\n\t            this.setState({\n\t                hasAssets: hasAssets\n\t            });\n\t        }\n\t    }, {\n\t        key: 'send',\n\t        value: function send() {\n\t            if (!this.state.valid) return;\n\t            this.goto('send');\n\t        }\n\t    }, {\n\t        key: 'preview',\n\t        value: function preview() {\n\t            if (!this.state.valid) return;\n\t            this.goto('preview');\n\t        }\n\t    }, {\n\t        key: 'closeReveal',\n\t        value: function closeReveal() {\n\t            if (this.refs && this.refs.reveal) {\n\t                this.refs.reveal.close();\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getContainerClasses',\n\t        value: function getContainerClasses() {\n\t            return (0, _classnames2.default)({\n\t                'canvas-container': true,\n\t                BACKGROUND: this.state.background\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)({\n\t                'HAS-ASSETS': this.state.hasAssets,\n\t                'INVALID': !this.state.valid\n\t            }, skoash.Screen.prototype.getClassNames.call(this));\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Frames/SK_frames_canvas.png' }),\n\t                React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Buttons/SK_btn_friend.png' }),\n\t                React.createElement(_5.default, {\n\t                    ref: 'menu',\n\t                    items: this.state.menu.items,\n\t                    level: 0,\n\t                    lastLevel: 1\n\t                }),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: this.getContainerClasses() },\n\t                    React.createElement(_3.default, {\n\t                        ref: 'canvas',\n\t                        setValid: this.setValid,\n\t                        setHasAssets: this.setHasAssets,\n\t                        itemMinDim: 150\n\t                    })\n\t                ),\n\t                React.createElement(_7.default, { className: 'menu right-menu', list: this.rightMenuList })\n\t            );\n\t            // move this back up below the Selectable when there is an instructional help video\n\t            /*\n\t                <Reveal\n\t                  ref=\"reveal\"\n\t                  openOnStart=\"0\"\n\t                  list={[\n\t                    <li>\n\t                      <skoash.Image className=\"otter\" src={'media/_Otter/joyful-otter_2.gif'} />\n\t                      <div className=\"bubble\">\n\t                        Welcome to your canvas!<br/><br/>\n\t                        Would you like me<br/>\n\t                        to show you around?\n\t                        <div className=\"buttons\">\n\t                          <button\n\t                            className=\"yes\"\n\t                            onClick={skoash.trigger.bind(null, 'openMenu', {id: 'help'})}\n\t                          />\n\t                          <button\n\t                            className=\"no\"\n\t                            onClick={this.closeReveal}\n\t                          />\n\t                        </div>\n\t                      </div>\n\t                    </li>\n\t                  ]}\n\t                />\n\t            */\n\t        }\n\t    }]);\n\t\n\t    return CanvasScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CollisionWarning = function (_skoash$Screen) {\n\t    _inherits(CollisionWarning, _skoash$Screen);\n\t\n\t    function CollisionWarning() {\n\t        _classCallCheck(this, CollisionWarning);\n\t\n\t        var _this = _possibleConstructorReturn(this, (CollisionWarning.__proto__ || Object.getPrototypeOf(CollisionWarning)).call(this));\n\t\n\t        _this.cancel = _this.cancel.bind(_this);\n\t        _this.toggle = _this.toggle.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(CollisionWarning, [{\n\t        key: 'cancel',\n\t        value: function cancel() {\n\t            this.close();\n\t            skoash.trigger('menuClose', {\n\t                id: this.props.id\n\t            });\n\t        }\n\t    }, {\n\t        key: 'toggle',\n\t        value: function toggle() {\n\t            this.updateGameState({\n\t                path: ['collisionWarning'],\n\t                data: {\n\t                    show: !_.get(this.props.gameState, 'data.collisionWarning.show')\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getToggleClassNames',\n\t        value: function getToggleClassNames() {\n\t            return (0, _classnames2.default)('toggle-collision-warning', {\n\t                active: !_.get(this.props.gameState, 'data.collisionWarning.show')\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                { id: this.props.id, className: this.getClassNames() },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'center' },\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'frame' },\n\t                        React.createElement(skoash.Image, {\n\t                            className: 'copy',\n\t                            src: 'media/_CollisionWarning/text-youmustnotoverlapimgs.png'\n\t                        }),\n\t                        React.createElement('button', { className: this.getToggleClassNames(), onClick: this.toggle }),\n\t                        React.createElement('button', { className: 'close-collision-warning', onClick: this.cancel }),\n\t                        React.createElement(skoash.Image, {\n\t                            className: 'otter',\n\t                            src: 'media/_CollisionWarning/Peeking-through-Otter.gif'\n\t                        })\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return CollisionWarning;\n\t}(skoash.Screen);\n\t\n\texports.default = React.createElement(CollisionWarning, {\n\t    id: 'collisionWarning',\n\t    load: true\n\t});\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(FriendScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'friends',\n\t        completeOnStart: true,\n\t        checkComplete: false,\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _ = __webpack_require__(5);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\t\n\tvar FriendScreen = function (_skoash$Screen) {\n\t    _inherits(FriendScreen, _skoash$Screen);\n\t\n\t    function FriendScreen() {\n\t        _classCallCheck(this, FriendScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (FriendScreen.__proto__ || Object.getPrototypeOf(FriendScreen)).call(this));\n\t\n\t        _this.state = {\n\t            load: true,\n\t            complete: true,\n\t            recipient: {},\n\t            opts: {}\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(FriendScreen, [{\n\t        key: 'selectRespond',\n\t        value: function selectRespond(message) {\n\t            skoash.trigger('passData', {\n\t                name: 'add-recipient',\n\t                goto: this.state.opts.goto,\n\t                message: message\n\t            });\n\t        }\n\t    }, {\n\t        key: 'updateData',\n\t        value: function updateData(d) {\n\t            var data = d && d.user ? d.user : this.props.gameState.data.user || [];\n\t\n\t            data = data.map(function (friend) {\n\t                var src = friend._embedded.image && friend._embedded.image.url ? friend._embedded.image.url : DEFAULT_PROFILE_IMAGE;\n\t                return {\n\t                    'user_id': friend.friend_id,\n\t                    name: friend.username,\n\t                    src: src,\n\t                    // I need to get the flips earned back from the backend to do this.\n\t                    description: '',\n\t                    // description: friend.flips_earned + ' Flips Earned',\n\t                    'asset_type': 'friend'\n\t                };\n\t            });\n\t\n\t            this.setState({\n\t                data: data\n\t            });\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open(opts) {\n\t            var recipient;\n\t            var self = this;\n\t\n\t            self.updateData();\n\t\n\t            skoash.trigger('getData', {\n\t                name: 'getFriends'\n\t            }).then(function (data) {\n\t                self.updateData.call(self, data);\n\t            });\n\t\n\t            recipient = self.props.gameState.recipient;\n\t\n\t            self.setState({\n\t                load: true,\n\t                open: true,\n\t                leave: false,\n\t                close: false,\n\t                recipient: recipient,\n\t                opts: opts\n\t            }, function () {\n\t                self.refs.drawer && self.refs.drawer.start();\n\t            });\n\t\n\t            if (!self.state.started) {\n\t                self.start();\n\t            }\n\t        }\n\t    }, {\n\t        key: 'suggestFriends',\n\t        value: function suggestFriends() {\n\t            window.open(window.location.origin.replace('games-', '').replace('games.', '') + '/friends/suggested');\n\t        }\n\t    }, {\n\t        key: 'save',\n\t        value: function save() {\n\t            skoash.trigger('goto', {\n\t                index: 'canvas'\n\t            });\n\t            skoash.trigger('openMenu', { id: 'save' });\n\t        }\n\t    }, {\n\t        key: 'renderOtter',\n\t        value: function renderOtter() {\n\t            var copy;\n\t            var src;\n\t            var imageSrc;\n\t\n\t            src = 'One';\n\t            imageSrc = 'media/_Otter/Otter_Static_GreetingOne.png';\n\t            copy = React.createElement(\n\t                'span',\n\t                null,\n\t                'Don\\'t have',\n\t                React.createElement('br', null),\n\t                'friends yet?',\n\t                React.createElement('br', null),\n\t                React.createElement('br', null),\n\t                'Let me suggest',\n\t                React.createElement('br', null),\n\t                'some for you.'\n\t            );\n\t\n\t            if (this.state.data && this.state.data.length) {\n\t                src = 'Two';\n\t                imageSrc = 'media/_Otter/Open-wide-Otter2.gif';\n\t                copy = React.createElement(\n\t                    'span',\n\t                    null,\n\t                    'Let me find a friend',\n\t                    React.createElement('br', null),\n\t                    'to send your message to.'\n\t                );\n\t            }\n\t\n\t            return React.createElement(\n\t                'div',\n\t                { className: 'otter-container ' + src },\n\t                React.createElement(skoash.Image, { className: 'otter', src: imageSrc }),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'bubble' },\n\t                    copy\n\t                )\n\t            );\n\t        }\n\t    }, {\n\t        key: 'renderFriends',\n\t        value: function renderFriends() {\n\t            if (this.state.data && this.state.data.length) {\n\t                return React.createElement(_2.default, {\n\t                    ref: 'drawer',\n\t                    scrollbarImg: './media/_Buttons/sk_btn_slider.png',\n\t                    selectRespond: this.selectRespond.bind(this),\n\t                    cancelRespond: this.back,\n\t                    categories: this.state.opts.categories,\n\t                    data: this.state.data,\n\t                    selectedItem: this.state.recipient,\n\t                    buttons: this.buttons,\n\t                    completeOnStart: true,\n\t                    checkComplete: false,\n\t                    className: 'goto-' + this.state.opts.goto\n\t                });\n\t            }\n\t\n\t            return React.createElement(\n\t                'div',\n\t                { className: 'goto-' + this.state.opts.goto },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'item-drawer-container' },\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'suggest-friends-buttons' },\n\t                        React.createElement('button', { className: 'continue', onClick: this.selectRespond.bind(this, {}) }),\n\t                        React.createElement('button', { className: 'suggest', onClick: this.suggestFriends }),\n\t                        React.createElement('button', { className: 'save-to-drafts', onClick: this.save })\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement('div', { className: 'header' }),\n\t                this.renderOtter(),\n\t                this.renderFriends()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return FriendScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(InboxScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'inbox',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _ = __webpack_require__(17);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tvar _3 = __webpack_require__(8);\n\t\n\tvar _4 = _interopRequireDefault(_3);\n\t\n\tvar _5 = __webpack_require__(15);\n\t\n\tvar _6 = _interopRequireDefault(_5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar inboxEmptyMessage = React.createElement(\n\t    'span',\n\t    null,\n\t    'You haven\\'t received any Skribbles!',\n\t    React.createElement('br', null),\n\t    'Get started by sending some!'\n\t);\n\tvar unreadEmptyMessage = React.createElement(\n\t    'span',\n\t    null,\n\t    'You don\\'t have any',\n\t    React.createElement('br', null),\n\t    'unread Skribbles!'\n\t);\n\tvar readEmptyMessage = React.createElement(\n\t    'span',\n\t    null,\n\t    'You don\\'t have any',\n\t    React.createElement('br', null),\n\t    'read Skribbles!'\n\t);\n\tvar sentEmptyMessage = React.createElement(\n\t    'span',\n\t    null,\n\t    'You haven\\'t sent any Skribbles.',\n\t    React.createElement('br', null),\n\t    'Let\\'s get started!'\n\t);\n\tvar draftsEmptyMessage = React.createElement(\n\t    'span',\n\t    null,\n\t    'You don\\'t have any drafts.',\n\t    React.createElement('br', null),\n\t    'Start Skribbling!'\n\t);\n\t\n\tvar InboxScreen = function (_skoash$Screen) {\n\t    _inherits(InboxScreen, _skoash$Screen);\n\t\n\t    function InboxScreen() {\n\t        _classCallCheck(this, InboxScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (InboxScreen.__proto__ || Object.getPrototypeOf(InboxScreen)).call(this));\n\t\n\t        _this.state = {\n\t            load: true\n\t        };\n\t\n\t        _this.selectableList = [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)];\n\t\n\t        _this.revealList = _this.getRevealList();\n\t\n\t        _this.readMessage = _this.readMessage.bind(_this);\n\t        _this.editMessage = _this.editMessage.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(InboxScreen, [{\n\t        key: 'getRevealList',\n\t        value: function getRevealList(inbox, outbox, saved) {\n\t            var read;\n\t            var unread;\n\t            var props = this.props || {};\n\t\n\t            inbox = inbox || this.state.inbox || [];\n\t\n\t            read = inbox.filter(function (item) {\n\t                return item.read;\n\t            });\n\t\n\t            unread = inbox.filter(function (item) {\n\t                return !item.read;\n\t            });\n\t\n\t            outbox = outbox || this.state.outbox || [];\n\t            saved = saved || this.state.saved || [];\n\t\n\t            return [React.createElement(\n\t                'li',\n\t                null,\n\t                React.createElement(_4.default, {\n\t                    'data-ref': 'inbox',\n\t                    data: {\n\t                        items: inbox\n\t                    },\n\t                    emptyMessage: inboxEmptyMessage,\n\t                    selectRespond: this.readMessage,\n\t                    gameState: props.gameState\n\t                })\n\t            ), React.createElement(\n\t                'li',\n\t                null,\n\t                React.createElement(_4.default, {\n\t                    'data-ref': 'unread',\n\t                    data: {\n\t                        items: unread\n\t                    },\n\t                    emptyMessage: unreadEmptyMessage,\n\t                    selectRespond: this.readMessage,\n\t                    gameState: props.gameState\n\t                })\n\t            ), React.createElement(\n\t                'li',\n\t                null,\n\t                React.createElement(_4.default, {\n\t                    'data-ref': 'read',\n\t                    data: {\n\t                        items: read\n\t                    },\n\t                    emptyMessage: readEmptyMessage,\n\t                    selectRespond: this.readMessage,\n\t                    gameState: props.gameState\n\t                })\n\t            ), React.createElement(\n\t                'li',\n\t                null,\n\t                React.createElement(_4.default, {\n\t                    'data-ref': 'outbox',\n\t                    data: {\n\t                        items: outbox\n\t                    },\n\t                    emptyMessage: sentEmptyMessage,\n\t                    friendKey: 'friend_to',\n\t                    selectRespond: this.readMessage,\n\t                    gameState: props.gameState\n\t                })\n\t            ), React.createElement(\n\t                'li',\n\t                null,\n\t                React.createElement(_6.default, {\n\t                    'data-ref': 'saved',\n\t                    data: {\n\t                        items: saved\n\t                    },\n\t                    emptyMessage: draftsEmptyMessage,\n\t                    selectRespond: this.editMessage\n\t                })\n\t            )];\n\t        }\n\t    }, {\n\t        key: 'editMessage',\n\t        value: function editMessage(message) {\n\t            skoash.trigger('loadSkribble', {\n\t                message: message\n\t            });\n\t        }\n\t    }, {\n\t        key: 'readMessage',\n\t        value: function readMessage(message) {\n\t            skoash.trigger('goto', {\n\t                index: 'read',\n\t                message: message\n\t            });\n\t        }\n\t    }, {\n\t        key: 'updateData',\n\t        value: function updateData() {\n\t            var skribbles;\n\t            var inbox;\n\t            var outbox;\n\t            var saved;\n\t\n\t            skribbles = this.props.gameState.data.skribbles;\n\t            inbox = skribbles.received;\n\t            outbox = skribbles.sent;\n\t            saved = skribbles.draft;\n\t\n\t            this.revealList = this.getRevealList(inbox, outbox, saved);\n\t\n\t            this.setState({\n\t                inbox: inbox,\n\t                outbox: outbox,\n\t                saved: saved\n\t            });\n\t        }\n\t    }, {\n\t        key: 'updateGameData',\n\t        value: function updateGameData(data, status) {\n\t            var _this2 = this;\n\t\n\t            var opts = {\n\t                path: ['skribbles'],\n\t                data: _defineProperty({}, status, data.skribble),\n\t                callback: function callback() {\n\t                    _this2.updateData();\n\t                }\n\t            };\n\t            this.updateGameState(opts);\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open() {\n\t            var self = this;\n\t\n\t            skoash.trigger('getData', {\n\t                status: 'received'\n\t            }).then(function (data) {\n\t                self.updateGameData(data, 'received');\n\t            });\n\t\n\t            skoash.trigger('getData', {\n\t                status: 'sent'\n\t            }).then(function (data) {\n\t                self.updateGameData(data, 'sent');\n\t            });\n\t\n\t            skoash.trigger('getData', {\n\t                status: 'draft'\n\t            }).then(function (data) {\n\t                self.updateGameData(data, 'draft');\n\t            });\n\t\n\t            self.setState({\n\t                load: true,\n\t                open: true,\n\t                leave: false,\n\t                close: false\n\t            });\n\t\n\t            setTimeout(function () {\n\t                if (!self.state.started) {\n\t                    self.start();\n\t                }\n\t            }, 250);\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'center' },\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'frame' },\n\t                        React.createElement(_2.default, {\n\t                            ref: 'selectableReveal',\n\t                            selectableList: this.selectableList,\n\t                            revealList: this.revealList,\n\t                            selectOnStart: '0',\n\t                            openOnStart: '0'\n\t                        })\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return InboxScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(ItemDrawerScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'item-drawer',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _2 = __webpack_require__(5);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar ItemDrawerScreen = function (_skoash$Screen) {\n\t    _inherits(ItemDrawerScreen, _skoash$Screen);\n\t\n\t    function ItemDrawerScreen() {\n\t        _classCallCheck(this, ItemDrawerScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (ItemDrawerScreen.__proto__ || Object.getPrototypeOf(ItemDrawerScreen)).call(this));\n\t\n\t        _this.state = {\n\t            opts: {\n\t                categories: []\n\t            }\n\t        };\n\t\n\t        return _this;\n\t    }\n\t\n\t    _createClass(ItemDrawerScreen, [{\n\t        key: 'selectRespond',\n\t        value: function selectRespond(message) {\n\t            skoash.trigger('passData', {\n\t                name: 'add-item',\n\t                message: message\n\t            });\n\t        }\n\t    }, {\n\t        key: 'updateData',\n\t        value: function updateData(d) {\n\t            var data = d ? d : this.props.gameState.data.menu.items;\n\t\n\t            this.state.opts.categories.forEach(function (key) {\n\t                if (data[key]) data = data[key];\n\t                if (data.items) data = data.items;\n\t            });\n\t\n\t            data = _.values(data);\n\t\n\t            this.setState({\n\t                data: data\n\t            });\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open(opts) {\n\t            var _this2 = this;\n\t\n\t            this.setState({\n\t                load: true,\n\t                open: true,\n\t                leave: false,\n\t                close: false,\n\t                opts: opts,\n\t                data: null\n\t            }, function () {\n\t                _this2.updateData();\n\t            });\n\t\n\t            setTimeout(function () {\n\t                if (!_this2.state.started) _this2.start();\n\t            }, 250);\n\t        }\n\t    }, {\n\t        key: 'cancelRespond',\n\t        value: function cancelRespond() {\n\t            if (this.state.category) {\n\t                this.setState({\n\t                    category: '',\n\t                    categoryName: ''\n\t                });\n\t            } else {\n\t                skoash.trigger('goto', { index: 'canvas' });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(_3.default, {\n\t                    ref: 'drawer',\n\t                    scrollbarImg: './media/_Buttons/sk_btn_slider.png',\n\t                    selectRespond: this.selectRespond.bind(this),\n\t                    cancelRespond: this.cancelRespond,\n\t                    categories: this.state.opts.categories,\n\t                    categoryName: this.state.opts.categoryName,\n\t                    data: this.state.data\n\t                })\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return ItemDrawerScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = React.createElement(\n\t    skoash.Screen,\n\t    {\n\t        id: \"limitWarning\",\n\t        load: true,\n\t        hidePrev: true,\n\t        hideNext: true\n\t    },\n\t    React.createElement(skoash.Image, { className: \"hidden\", src: ENVIRONMENT.MEDIA + 'a479811171cf084bf86af4eac1f6dc28.png' }),\n\t    React.createElement(skoash.Image, { className: \"hidden\", src: ENVIRONMENT.MEDIA + '027b30f0d279ef41cd30eff22323051c.png' }),\n\t    React.createElement(skoash.Image, { className: \"otter\", src: ENVIRONMENT.MEDIA + 'e7c3a0ab64b457334e7be868609ee512.png' }),\n\t    React.createElement(skoash.Image, { className: \"sign\", src: ENVIRONMENT.MEDIA + '7434453a4692d4be9e898b6b8787c108.png' }),\n\t    React.createElement(\n\t        \"div\",\n\t        null,\n\t        \"WARNING:\",\n\t        React.createElement(\"br\", null),\n\t        \"You have exceeded the number of times\",\n\t        React.createElement(\"br\", null),\n\t        \"you can use this item in your message.\",\n\t        React.createElement(\"br\", null),\n\t        \"Please press ok to continue game.\"\n\t    ),\n\t    React.createElement(\"button\", {\n\t        onClick: function onClick() {\n\t            skoash.trigger('menuClose', {\n\t                id: 'limitWarning'\n\t            });\n\t        }\n\t    })\n\t);\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(MenuScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: \"menu\",\n\t        hidePrev: true,\n\t        hideNext: true,\n\t        load: true\n\t    }));\n\t};\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar MenuScreen = function (_skoash$Screen) {\n\t    _inherits(MenuScreen, _skoash$Screen);\n\t\n\t    function MenuScreen() {\n\t        _classCallCheck(this, MenuScreen);\n\t\n\t        return _possibleConstructorReturn(this, (MenuScreen.__proto__ || Object.getPrototypeOf(MenuScreen)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(MenuScreen, [{\n\t        key: \"renderContent\",\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                \"div\",\n\t                null,\n\t                React.createElement(skoash.Image, { className: \"hidden\", src: \"media/_Background/SK_BKG_1.png\" }),\n\t                React.createElement(skoash.Image, { className: \"otter\", src: \"media/_Otter/Waving_Otter2.gif\" }),\n\t                React.createElement(\n\t                    \"div\",\n\t                    { className: \"bubble\" },\n\t                    \"Hi there!\",\n\t                    React.createElement(\"br\", null),\n\t                    \"What would you\",\n\t                    React.createElement(\"br\", null),\n\t                    \"like to do today?\"\n\t                ),\n\t                React.createElement(\n\t                    \"div\",\n\t                    { className: \"buttons\" },\n\t                    React.createElement(\"button\", { className: \"make\", onClick: this.goto.bind(this, {\n\t                            index: 'friend',\n\t                            goto: 'canvas'\n\t                        }) }),\n\t                    React.createElement(\"button\", { className: \"read\", onClick: this.goto.bind(this, 'inbox') })\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return MenuScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(PreviewScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'preview',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _ = __webpack_require__(4);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tvar _3 = __webpack_require__(2);\n\t\n\tvar _4 = _interopRequireDefault(_3);\n\t\n\tvar _5 = __webpack_require__(13);\n\t\n\tvar _6 = _interopRequireDefault(_5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t    skribbleBox: 'skribble-box',\n\t    box: 'box',\n\t    leftMenu: 'menu left-menu',\n\t    rightMenu: 'menu right-menu'\n\t};\n\t\n\tvar refs = {\n\t    box: 'box',\n\t    canvas: 'canvas'\n\t};\n\t\n\tvar PreviewScreen = function (_skoash$Screen) {\n\t    _inherits(PreviewScreen, _skoash$Screen);\n\t\n\t    function PreviewScreen() {\n\t        _classCallCheck(this, PreviewScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (PreviewScreen.__proto__ || Object.getPrototypeOf(PreviewScreen)).call(this));\n\t\n\t        _this.state = {\n\t            load: true,\n\t            opts: {}\n\t        };\n\t\n\t        _this.leftMenuList = [React.createElement(\n\t            'li',\n\t            { className: 'edit', onClick: _this.goto.bind(_this, 'canvas') },\n\t            React.createElement('span', null)\n\t        )];\n\t\n\t        _this.rightMenuList = [React.createElement(\n\t            'li',\n\t            { className: 'send', onClick: _this.goto.bind(_this, 'send') },\n\t            React.createElement('span', null)\n\t        )];\n\t        return _this;\n\t    }\n\t\n\t    _createClass(PreviewScreen, [{\n\t        key: 'open',\n\t        value: function open(opts) {\n\t            var _this2 = this;\n\t\n\t            skoash.trigger('getRules').then(function (rules) {\n\t                _this2.refs[refs.box].refs[refs.canvas].setItems(rules);\n\t                _get(PreviewScreen.prototype.__proto__ || Object.getPrototypeOf(PreviewScreen.prototype), 'open', _this2).call(_this2, opts);\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(\n\t                    skoash.Component,\n\t                    { ref: refs.box, className: classNameText.skribbleBox },\n\t                    React.createElement(_2.default, { ref: refs.canvas, preview: true }),\n\t                    React.createElement(_6.default, {\n\t                        className: 'sparkles',\n\t                        amount: 40\n\t                    }),\n\t                    React.createElement('div', { className: classNameText.box })\n\t                ),\n\t                React.createElement(_4.default, { className: classNameText.leftMenu, list: this.leftMenuList }),\n\t                React.createElement(_4.default, { className: classNameText.rightMenu, list: this.rightMenuList })\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return PreviewScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(ReadScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'read',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t    skribbleBox: 'skribble-box',\n\t    box: 'box',\n\t    leftMenu: 'menu left-menu',\n\t    rightMenu: 'menu right-menu',\n\t    sender: 'menu recipient sender'\n\t};\n\t\n\tvar refs = {\n\t    box: 'box'\n\t};\n\t\n\tvar ReadScreen = function (_skoash$Screen) {\n\t    _inherits(ReadScreen, _skoash$Screen);\n\t\n\t    function ReadScreen() {\n\t        _classCallCheck(this, ReadScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (ReadScreen.__proto__ || Object.getPrototypeOf(ReadScreen)).call(this));\n\t\n\t        _this.state.load = true;\n\t        _this.state.message = { user: {} };\n\t\n\t        _this.leftMenuList = [React.createElement(\n\t            'li',\n\t            { className: 'inbox', onClick: _this.goto.bind(_this, 'inbox') },\n\t            React.createElement('span', null)\n\t        )];\n\t\n\t        _this.rightMenuList = [React.createElement(\n\t            'li',\n\t            { className: 'reply', onClick: _this.reply.bind(_this) },\n\t            React.createElement('span', null)\n\t        )];\n\t        return _this;\n\t    }\n\t\n\t    _createClass(ReadScreen, [{\n\t        key: 'reply',\n\t        value: function reply() {\n\t            skoash.trigger('passData', {\n\t                name: 'add-recipient',\n\t                message: this.state.message.created_by\n\t            });\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open(opts) {\n\t            var message;\n\t            var friends;\n\t            var creater;\n\t\n\t            message = opts.message || {};\n\t\n\t            friends = this.props.gameState.data.user || [];\n\t            friends.forEach(function (friend) {\n\t                if (message.created_by === friend.friend_id) {\n\t                    creater = friend;\n\t                }\n\t            });\n\t\n\t            this.setState({\n\t                load: true,\n\t                open: true,\n\t                leave: false,\n\t                close: false,\n\t                message: message,\n\t                creater: creater\n\t            });\n\t\n\t            this.start();\n\t\n\t            skoash.trigger('getData', {\n\t                name: 'markAsRead',\n\t                'skribble_id': message.skribble_id\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getSenderClassNames',\n\t        value: function getSenderClassNames() {\n\t            return (0, _classnames2.default)(classNameText.sender, {\n\t                HIDE: !this.state.creater || this.state.message.sent\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderSender',\n\t        value: function renderSender() {\n\t            var creater;\n\t            var content = [];\n\t\n\t            creater = this.state.creater;\n\t\n\t            if (!creater) return;\n\t\n\t            if (creater.username) {\n\t                content.push(React.createElement(\n\t                    'span',\n\t                    { className: 'name' },\n\t                    creater.username\n\t                ));\n\t            }\n\t\n\t            if (creater._embedded.image) {\n\t                content.push(React.createElement('img', { className: 'profile-image', src: creater._embedded.image.url }));\n\t            }\n\t\n\t            return content;\n\t        }\n\t    }, {\n\t        key: 'renderBoxContent',\n\t        value: function renderBoxContent() {\n\t            var url = _.get(this.state, 'message.url');\n\t\n\t            if (!url) return null;\n\t\n\t            return [React.createElement(skoash.Image, { src: this.state.message.url }), React.createElement('div', { className: classNameText.box })];\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(\n\t                    'ul',\n\t                    { className: this.getSenderClassNames() },\n\t                    React.createElement(\n\t                        'li',\n\t                        null,\n\t                        React.createElement(\n\t                            'span',\n\t                            null,\n\t                            this.renderSender()\n\t                        )\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    skoash.Component,\n\t                    { ref: refs.box, className: classNameText.skribbleBox },\n\t                    this.renderBoxContent()\n\t                ),\n\t                React.createElement(_3.default, { className: classNameText.leftMenu, list: this.leftMenuList }),\n\t                React.createElement(_3.default, { className: classNameText.rightMenu, list: this.rightMenuList })\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return ReadScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SaveMenu = function (_skoash$Screen) {\n\t    _inherits(SaveMenu, _skoash$Screen);\n\t\n\t    function SaveMenu() {\n\t        _classCallCheck(this, SaveMenu);\n\t\n\t        return _possibleConstructorReturn(this, (SaveMenu.__proto__ || Object.getPrototypeOf(SaveMenu)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(SaveMenu, [{\n\t        key: \"cancel\",\n\t        value: function cancel() {\n\t            this.close();\n\t            skoash.trigger('menuClose', {\n\t                id: this.props.id\n\t            });\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            return React.createElement(\n\t                \"div\",\n\t                { id: this.props.id, className: this.getClassNames() },\n\t                React.createElement(\n\t                    \"div\",\n\t                    { className: \"center\" },\n\t                    React.createElement(\n\t                        \"div\",\n\t                        { className: \"frame\" },\n\t                        React.createElement(\"button\", { className: \"quit-saved\", onClick: this.cancel.bind(this) }),\n\t                        React.createElement(\n\t                            \"h2\",\n\t                            null,\n\t                            \"Your progress\"\n\t                        ),\n\t                        React.createElement(\n\t                            \"h2\",\n\t                            null,\n\t                            \"has been saved\"\n\t                        )\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SaveMenu;\n\t}(skoash.Screen);\n\t\n\texports.default = React.createElement(SaveMenu, {\n\t    id: \"save\",\n\t    load: true\n\t});\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(SendScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'send',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _ = __webpack_require__(2);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t    yourMessageTo: 'your-message-to',\n\t    isReady: 'is-ready',\n\t    changeFriend: 'change-friend',\n\t    character: 'character',\n\t    gift: 'gift',\n\t    header: 'header',\n\t    username: 'username'\n\t};\n\t\n\tvar SendScreen = function (_skoash$Screen) {\n\t    _inherits(SendScreen, _skoash$Screen);\n\t\n\t    function SendScreen() {\n\t        _classCallCheck(this, SendScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (SendScreen.__proto__ || Object.getPrototypeOf(SendScreen)).call(this));\n\t\n\t        _this.state.load = true;\n\t        _this.state.recipient = {};\n\t\n\t        _this.rightMenuList = [React.createElement(\n\t            'li',\n\t            { className: 'edit-right', onClick: _this.goto.bind(_this, 'canvas') },\n\t            React.createElement('span', null)\n\t        ), React.createElement(\n\t            'li',\n\t            { className: 'send', onClick: _this.send },\n\t            React.createElement('span', null)\n\t        )];\n\t        return _this;\n\t    }\n\t\n\t    _createClass(SendScreen, [{\n\t        key: 'open',\n\t        value: function open() {\n\t            var recipient = this.props.gameState.recipient || {};\n\t\n\t            this.setState({\n\t                load: true,\n\t                open: true,\n\t                leave: false,\n\t                close: false,\n\t                recipient: recipient\n\t            });\n\t\n\t            this.start();\n\t        }\n\t    }, {\n\t        key: 'send',\n\t        value: function send() {\n\t            skoash.trigger('passData', {\n\t                name: 'send'\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            var changeFriendClick = this.goto.bind(this, {\n\t                index: 'friend',\n\t                goto: 'send'\n\t            });\n\t\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(\n\t                    'div',\n\t                    { className: classNameText.header },\n\t                    React.createElement('span', { className: classNameText.yourMessageTo }),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: classNameText.username },\n\t                        this.state.recipient.name\n\t                    ),\n\t                    React.createElement('br', null),\n\t                    React.createElement('span', { className: classNameText.isReady }),\n\t                    React.createElement('button', { className: classNameText.changeFriend, onClick: changeFriendClick })\n\t                ),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: classNameText.character },\n\t                    React.createElement(skoash.Image, { className: 'otter', src: 'media/_Otter/proud-of-you2.gif' }),\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'bubble' },\n\t                        'Are you sure',\n\t                        React.createElement('br', null),\n\t                        'you are ready to',\n\t                        React.createElement('br', null),\n\t                        'send your message?'\n\t                    )\n\t                ),\n\t                React.createElement('div', { className: classNameText.gift }),\n\t                React.createElement(_2.default, { className: 'menu right-menu', list: this.rightMenuList })\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SendScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(SentScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'sent',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t    character: 'character',\n\t    header: 'header',\n\t    yourMessageTo: 'your-message-to',\n\t    username: 'username',\n\t    isReady: 'is-ready',\n\t    buttons: 'buttons',\n\t    createAnother: 'create-another',\n\t    inbox: 'inbox'\n\t};\n\t\n\tvar text = {\n\t    yourMessageTo: 'YOUR MESSAGE TO:',\n\t    hasBeenSent: 'IS BEING SENT!'\n\t};\n\t\n\tvar SentScreen = function (_skoash$Screen) {\n\t    _inherits(SentScreen, _skoash$Screen);\n\t\n\t    function SentScreen() {\n\t        _classCallCheck(this, SentScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (SentScreen.__proto__ || Object.getPrototypeOf(SentScreen)).call(this));\n\t\n\t        _this.state = {\n\t            load: true,\n\t            opts: {\n\t                recipient: {}\n\t            }\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(SentScreen, [{\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement('div', { className: classNameText.character }),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: classNameText.header },\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: classNameText.yourMessageTo },\n\t                        text.yourMessageTo\n\t                    ),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: classNameText.username },\n\t                        this.state.opts.recipient.name\n\t                    ),\n\t                    React.createElement('br', null),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: classNameText.isReady },\n\t                        text.hasBeenSent\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: classNameText.buttons },\n\t                    React.createElement('button', {\n\t                        className: classNameText.createAnother,\n\t                        onClick: this.goto.bind(this, 'friend')\n\t                    }),\n\t                    React.createElement('button', {\n\t                        className: classNameText.inbox,\n\t                        onClick: this.goto.bind(this, 'inbox')\n\t                    })\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SentScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(\n\t        skoash.Screen,\n\t        _extends({}, props, {\n\t            ref: ref,\n\t            key: key,\n\t            id: \"title\",\n\t            hidePrev: true,\n\t            nextDelay: 1000,\n\t            nextIndex: \"menu\"\n\t        }),\n\t        React.createElement(skoash.Image, {\n\t            ref: \"title\",\n\t            className: \"title animated\",\n\t            src: \"media/_Title/SKribble_title.png\"\n\t        }),\n\t        React.createElement(skoash.Image, {\n\t            ref: \"play\",\n\t            className: \"hidden\",\n\t            src: \"media/_Buttons/skribble-play-01.png\"\n\t        }),\n\t        React.createElement(skoash.Image, {\n\t            ref: \"play-hover\",\n\t            className: \"hidden\",\n\t            src: \"media/_Buttons/skribble-hover.png\"\n\t        })\n\t    );\n\t};\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar config = {\n\t    id: 'skribble',\n\t    version: 1,\n\t    skoash: '1.0.5',\n\t    dimensions: {\n\t        width: 1600,\n\t        ratio: 16 / 9\n\t    }\n\t};\n\t\n\texports.default = config;\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _config = __webpack_require__(32);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _2 = __webpack_require__(10);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _4 = __webpack_require__(9);\n\t\n\tvar _5 = _interopRequireDefault(_4);\n\t\n\tvar _title_screen = __webpack_require__(31);\n\t\n\tvar _title_screen2 = _interopRequireDefault(_title_screen);\n\t\n\tvar _menu_screen = __webpack_require__(25);\n\t\n\tvar _menu_screen2 = _interopRequireDefault(_menu_screen);\n\t\n\tvar _friend_screen = __webpack_require__(21);\n\t\n\tvar _friend_screen2 = _interopRequireDefault(_friend_screen);\n\t\n\tvar _canvas_screen = __webpack_require__(19);\n\t\n\tvar _canvas_screen2 = _interopRequireDefault(_canvas_screen);\n\t\n\tvar _item_drawer_screen = __webpack_require__(23);\n\t\n\tvar _item_drawer_screen2 = _interopRequireDefault(_item_drawer_screen);\n\t\n\tvar _inbox_screen = __webpack_require__(22);\n\t\n\tvar _inbox_screen2 = _interopRequireDefault(_inbox_screen);\n\t\n\tvar _preview_screen = __webpack_require__(26);\n\t\n\tvar _preview_screen2 = _interopRequireDefault(_preview_screen);\n\t\n\tvar _send_screen = __webpack_require__(29);\n\t\n\tvar _send_screen2 = _interopRequireDefault(_send_screen);\n\t\n\tvar _sent_screen = __webpack_require__(30);\n\t\n\tvar _sent_screen2 = _interopRequireDefault(_sent_screen);\n\t\n\tvar _read_screen = __webpack_require__(27);\n\t\n\tvar _read_screen2 = _interopRequireDefault(_read_screen);\n\t\n\tvar _6 = __webpack_require__(12);\n\t\n\tvar _7 = _interopRequireDefault(_6);\n\t\n\tvar _save_menu = __webpack_require__(28);\n\t\n\tvar _save_menu2 = _interopRequireDefault(_save_menu);\n\t\n\tvar _collision_warning = __webpack_require__(20);\n\t\n\tvar _collision_warning2 = _interopRequireDefault(_collision_warning);\n\t\n\tvar _limit_warning = __webpack_require__(24);\n\t\n\tvar _limit_warning2 = _interopRequireDefault(_limit_warning);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Skribble;\n\t\n\tvar DEFAULT_PROFILE_IMAGE = '';\n\t\n\tvar SkribbleGame = function (_skoash$Game) {\n\t    _inherits(SkribbleGame, _skoash$Game);\n\t\n\t    function SkribbleGame() {\n\t        _classCallCheck(this, SkribbleGame);\n\t\n\t        return _possibleConstructorReturn(this, (SkribbleGame.__proto__ || Object.getPrototypeOf(SkribbleGame)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(SkribbleGame, [{\n\t        key: 'getRules',\n\t        value: function getRules() {\n\t            var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t            if (typeof opts.respond === 'function') {\n\t                return opts.respond(this.refs['screen-canvas'].getData());\n\t            }\n\t            return this.refs['screen-canvas'].getData();\n\t        }\n\t    }, {\n\t        key: 'save',\n\t        value: function save(skramble) {\n\t            /* eslint-disable camelcase */\n\t            var friend_to;\n\t            var rules;\n\t            var skribble;\n\t            var self = this;\n\t            friend_to = self.state.recipient && self.state.recipient.user_id ? self.state.recipient.user_id : null;\n\t            rules = self.getRules();\n\t            skribble = _extends({\n\t                'version': _config2.default.version\n\t            }, self.state.skribbleData, {\n\t                friend_to: friend_to,\n\t                skramble: skramble,\n\t                rules: rules\n\t            });\n\t\n\t            if (!rules.background && !rules.items.length && !rules.messages.length) {\n\t                return;\n\t            }\n\t\n\t            if (JSON.stringify(skribble) !== JSON.stringify(this.state.skribble)) {\n\t                self.emit({\n\t                    name: 'saveSkribble',\n\t                    game: self.config.id,\n\t                    skribble: skribble\n\t                }).then(function (skribbleData) {\n\t                    self.setState({\n\t                        skribbleData: skribbleData,\n\t                        skribble: skribble\n\t                    });\n\t                });\n\t            }\n\t            /* eslint-enable camelcase */\n\t        }\n\t    }, {\n\t        key: 'send',\n\t        value: function send() {\n\t            this.save(true);\n\t\n\t            this.refs['screen-canvas'].reset();\n\t            this.navigator.goto({\n\t                index: 'sent',\n\t                recipient: this.state.recipient\n\t            });\n\t\n\t            this.setState({\n\t                recipient: null,\n\t                skribbleData: null\n\t            });\n\t        }\n\t    }, {\n\t        key: 'loadSkribble',\n\t        value: function loadSkribble(opts) {\n\t            var _this2 = this;\n\t\n\t            this.setState({\n\t                skribbleData: opts.message\n\t            }, function () {\n\t                _this2.refs['screen-canvas'].addItems(opts.message);\n\t                _this2.navigator.goto({\n\t                    index: 'canvas',\n\t                    draft: true\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getMedia',\n\t        value: function getMedia(path) {\n\t            var pathArray;\n\t            var self = this;\n\t\n\t            if ((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object') path = path.path;\n\t            path = path || 'skribble/menu';\n\t            pathArray = path.split('/');\n\t            pathArray.shift();\n\t\n\t            return self.eventManager.emit({\n\t                name: 'getMedia',\n\t                path: path\n\t            }).then(function (d) {\n\t                var opts;\n\t                var currentOpts;\n\t                opts = {\n\t                    data: {},\n\t                    callback: function callback() {\n\t                        self.refs['screen-canvas'].setMenu();\n\t                        self.refs['screen-item-drawer'].updateData();\n\t                    }\n\t                };\n\t                currentOpts = opts.data;\n\t\n\t                pathArray.forEach(function (key, index) {\n\t                    currentOpts[key] = {\n\t                        items: {}\n\t                    };\n\t                    if (index !== pathArray.length - 1) {\n\t                        currentOpts = currentOpts[key].items;\n\t                    }\n\t                });\n\t\n\t                currentOpts[pathArray[pathArray.length - 1]] = _.clone(d);\n\t                currentOpts[pathArray[pathArray.length - 1]].items = {};\n\t\n\t                if (d.items) {\n\t                    d.items.forEach(function (item) {\n\t                        if (item.asset_type === 'folder' && item.name) {\n\t                            self.getMedia(path + '/' + item.name);\n\t                        }\n\t                        currentOpts[pathArray[pathArray.length - 1]].items[item.name] = item;\n\t                    });\n\t                }\n\t                self.updateData(opts);\n\t            });\n\t        }\n\t    }, {\n\t        key: 'showCollisionWarning',\n\t        value: function showCollisionWarning() {\n\t            if (!this.state.data.collisionWarning.show) return;\n\t            this.navigator.openMenu({ id: 'collisionWarning' });\n\t        }\n\t    }, {\n\t        key: 'showLimitWarning',\n\t        value: function showLimitWarning() {\n\t            this.navigator.openMenu({ id: 'limitWarning' });\n\t        }\n\t    }, {\n\t        key: 'addRecipient',\n\t        value: function addRecipient(recipient, cb) {\n\t            var _this3 = this;\n\t\n\t            var src;\n\t\n\t            if (recipient.src) {\n\t                recipient.profile_image = recipient.src; // eslint-disable-line camelcase\n\t            } else if (typeof recipient === 'string') {\n\t                if (this.state.data && this.state.data.user) {\n\t                    this.state.data.user.some(function (friend) {\n\t                        if (friend.friend_id === recipient) {\n\t                            recipient = friend;\n\t                            return true;\n\t                        }\n\t                        return false;\n\t                    });\n\t                }\n\t            }\n\t\n\t            if (typeof recipient === 'string') {\n\t                this.getData({\n\t                    name: 'getFriend',\n\t                    'friend_id': recipient,\n\t                    callback: function callback() {\n\t                        _this3.addRecipient(recipient, cb);\n\t                    }\n\t                });\n\t            } else {\n\t                src = recipient && recipient._embedded && recipient._embedded.image && recipient._embedded.image.url ? recipient._embedded.image.url : recipient.profile_image || DEFAULT_PROFILE_IMAGE;\n\t                this.setState({\n\t                    recipient: {\n\t                        'user_id': recipient.user_id || recipient.friend_id,\n\t                        name: recipient.name || recipient.username,\n\t                        src: src,\n\t                        // I need to get the flips earned back from the backend to do this.\n\t                        description: '',\n\t                        // description: friend.flips_earned + ' Flips Earned',\n\t                        'asset_type': 'friend'\n\t                    }\n\t                }, cb);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'clickRecipient',\n\t        value: function clickRecipient() {\n\t            this.navigator.goto({\n\t                index: 'friend',\n\t                goto: this.state.currentScreenIndex\n\t            });\n\t        }\n\t    }, {\n\t        key: 'create',\n\t        value: function create() {\n\t            if (this.state.recipient) {\n\t                this.navigator.goto({ index: 'canvas' });\n\t            } else {\n\t                this.navigator.goto({\n\t                    index: 'friend',\n\t                    goto: 'canvas'\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'saveButton',\n\t        value: function saveButton() {\n\t            this.save();\n\t            this.navigator.openMenu({ id: 'save' });\n\t        }\n\t    }, {\n\t        key: 'renderRecipient',\n\t        value: function renderRecipient() {\n\t            var recipient = this.state.recipient;\n\t            var content = [];\n\t\n\t            if (!recipient) return;\n\t\n\t            if (recipient.name) {\n\t                content.push(React.createElement(\n\t                    'span',\n\t                    { className: 'name' },\n\t                    recipient.name\n\t                ));\n\t            }\n\t\n\t            if (recipient.src) {\n\t                content.push(React.createElement('img', { className: 'profile-image', src: recipient.src }));\n\t            }\n\t\n\t            return content;\n\t        }\n\t    }]);\n\t\n\t    return SkribbleGame;\n\t}(skoash.Game);\n\t\n\tSkribble = React.createElement(SkribbleGame, {\n\t    config: _config2.default,\n\t    screens: {\n\t        0: _5.default,\n\t        1: _title_screen2.default,\n\t        menu: _menu_screen2.default,\n\t        friend: _friend_screen2.default,\n\t        canvas: _canvas_screen2.default,\n\t        'item-drawer': _item_drawer_screen2.default,\n\t        inbox: _inbox_screen2.default,\n\t        preview: _preview_screen2.default,\n\t        send: _send_screen2.default,\n\t        sent: _sent_screen2.default,\n\t        read: _read_screen2.default\n\t    },\n\t    menus: {\n\t        quit: _7.default,\n\t        save: _save_menu2.default,\n\t        collisionWarning: _collision_warning2.default,\n\t        limitWarning: _limit_warning2.default\n\t    },\n\t    loader: React.createElement(_3.default, null),\n\t    assets: [React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/Waving_Otter2.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/Open-wide-Otter2.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/joyful-otter_2.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/Antipation-Otter3.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/proud-of-you2.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/Peeking-through-Otter2.gif' }), React.createElement('div', { className: 'background-1' }), React.createElement('div', { className: 'background-2' }), React.createElement('div', { className: 'background-3' }), React.createElement('div', { className: 'background-4' }), React.createElement('div', { className: 'background-5' }), React.createElement('div', { className: 'background-6' })],\n\t    onBootstrap: function onBootstrap() {\n\t        this.getFriends = _.throttle(this.getData.bind(this, { name: 'getFriends' }), 1000);\n\t        this.getMediaOnReady = _.throttle(this.getMedia.bind(this), 1000);\n\t\n\t        this.updateState({\n\t            path: ['collisionWarning'],\n\t            data: {\n\t                show: true\n\t            }\n\t        });\n\t    },\n\t    onReady: function onReady() {\n\t        this.getMediaOnReady();\n\t        this.getFriends();\n\t    },\n\t    renderMenu: function renderMenu() {\n\t        return React.createElement(\n\t            'div',\n\t            null,\n\t            React.createElement(\n\t                'div',\n\t                { className: 'game-menu' },\n\t                React.createElement('button', { className: 'save', onClick: this.saveButton.bind(this) }),\n\t                React.createElement('button', { className: 'inbox', onClick: this.navigator.goto.bind(this, { index: 'inbox' }) }),\n\t                React.createElement('button', { className: 'create', onClick: this.create.bind(this) }),\n\t                React.createElement('button', { className: 'help', onClick: this.navigator.openMenu.bind(this, { id: 'help' }) }),\n\t                React.createElement('button', { className: 'close', onClick: this.navigator.openMenu.bind(this, { id: 'quit' }) })\n\t            ),\n\t            React.createElement(\n\t                'ul',\n\t                { className: 'menu recipient' },\n\t                React.createElement(\n\t                    'li',\n\t                    { onClick: this.clickRecipient.bind(this) },\n\t                    React.createElement(\n\t                        'span',\n\t                        null,\n\t                        this.renderRecipient()\n\t                    )\n\t                )\n\t            )\n\t        );\n\t    },\n\t    getGotoOpts: function getGotoOpts(opts) {\n\t        if (opts.index === 'send') {\n\t            if (!this.state.recipient || !this.state.recipient.name) {\n\t                opts.index = 'friend';\n\t                opts.goto = 'send';\n\t            }\n\t        }\n\t        return opts;\n\t    },\n\t    passData: function passData(opts) {\n\t        if (opts.name === 'add-item') {\n\t            this.refs['screen-canvas'].addItem(opts.message);\n\t            this.navigator.goto({ index: 'canvas' });\n\t        } else if (opts.name === 'add-recipient') {\n\t            this.addRecipient(opts.message, this.navigator.goto.bind(this, { index: opts.goto || 'canvas' }));\n\t        } else if (opts.name === 'send') {\n\t            this.send();\n\t        } else if (opts.name === 'showCollisionWarning') {\n\t            this.showCollisionWarning();\n\t        } else if (opts.name === 'showLimitWarning') {\n\t            this.showLimitWarning();\n\t        }\n\t    },\n\t    getTriggerEvents: function getTriggerEvents() {\n\t        var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t        opts.save = this.save;\n\t        opts.getMedia = this.getMedia;\n\t        opts.getRules = this.getRules;\n\t        opts.loadSkribble = this.loadSkribble;\n\t        return opts;\n\t    },\n\t    getData: function getData(opts) {\n\t        var _this4 = this;\n\t\n\t        var names = ['getFriends', 'getFriend', 'markAsRead'];\n\t\n\t        if (names.indexOf(opts.name) === -1) {\n\t            opts.name = 'getData';\n\t        }\n\t\n\t        return this.eventManager.emit(opts).then(function (data) {\n\t            _this4.updateData({\n\t                data: data,\n\t                callback: opts.callback\n\t            });\n\t        });\n\t    }\n\t});\n\t\n\tskoash.start(Skribble);\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tmodule.exports = __webpack_require__(37);\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar alphabet = __webpack_require__(3);\n\t\n\t/**\n\t * Decode the id to get the version and worker\n\t * Mainly for debugging and testing.\n\t * @param id - the shortid-generated id.\n\t */\n\tfunction decode(id) {\n\t    var characters = alphabet.shuffled();\n\t    return {\n\t        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n\t        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n\t    };\n\t}\n\t\n\tmodule.exports = decode;\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar randomByte = __webpack_require__(39);\n\t\n\tfunction encode(lookup, number) {\n\t    var loopCounter = 0;\n\t    var done;\n\t\n\t    var str = '';\n\t\n\t    while (!done) {\n\t        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n\t        done = number < (Math.pow(16, loopCounter + 1 ) );\n\t        loopCounter++;\n\t    }\n\t    return str;\n\t}\n\t\n\tmodule.exports = encode;\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar alphabet = __webpack_require__(3);\n\tvar encode = __webpack_require__(36);\n\tvar decode = __webpack_require__(35);\n\tvar isValid = __webpack_require__(38);\n\t\n\t// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n\t// This number should be updated every year or so to keep the generated id short.\n\t// To regenerate `new Date() - 0` and bump the version. Always bump the version!\n\tvar REDUCE_TIME = 1459707606518;\n\t\n\t// don't change unless we change the algos or REDUCE_TIME\n\t// must be an integer and less than 16\n\tvar version = 6;\n\t\n\t// if you are using cluster or multiple servers use this to make each instance\n\t// has a unique value for worker\n\t// Note: I don't know if this is automatically set when using third\n\t// party cluster solutions such as pm2.\n\tvar clusterWorkerId = __webpack_require__(41) || 0;\n\t\n\t// Counter is used when shortid is called multiple times in one second.\n\tvar counter;\n\t\n\t// Remember the last time shortid was called in case counter is needed.\n\tvar previousSeconds;\n\t\n\t/**\n\t * Generate unique id\n\t * Returns string id\n\t */\n\tfunction generate() {\n\t\n\t    var str = '';\n\t\n\t    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\t\n\t    if (seconds === previousSeconds) {\n\t        counter++;\n\t    } else {\n\t        counter = 0;\n\t        previousSeconds = seconds;\n\t    }\n\t\n\t    str = str + encode(alphabet.lookup, version);\n\t    str = str + encode(alphabet.lookup, clusterWorkerId);\n\t    if (counter > 0) {\n\t        str = str + encode(alphabet.lookup, counter);\n\t    }\n\t    str = str + encode(alphabet.lookup, seconds);\n\t\n\t    return str;\n\t}\n\t\n\t\n\t/**\n\t * Set the seed.\n\t * Highly recommended if you don't want people to try to figure out your id schema.\n\t * exposed as shortid.seed(int)\n\t * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n\t */\n\tfunction seed(seedValue) {\n\t    alphabet.seed(seedValue);\n\t    return module.exports;\n\t}\n\t\n\t/**\n\t * Set the cluster worker or machine id\n\t * exposed as shortid.worker(int)\n\t * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n\t * returns shortid module so it can be chained.\n\t */\n\tfunction worker(workerId) {\n\t    clusterWorkerId = workerId;\n\t    return module.exports;\n\t}\n\t\n\t/**\n\t *\n\t * sets new characters to use in the alphabet\n\t * returns the shuffled alphabet\n\t */\n\tfunction characters(newCharacters) {\n\t    if (newCharacters !== undefined) {\n\t        alphabet.characters(newCharacters);\n\t    }\n\t\n\t    return alphabet.shuffled();\n\t}\n\t\n\t\n\t// Export all other functions as properties of the generate function\n\tmodule.exports = generate;\n\tmodule.exports.generate = generate;\n\tmodule.exports.seed = seed;\n\tmodule.exports.worker = worker;\n\tmodule.exports.characters = characters;\n\tmodule.exports.decode = decode;\n\tmodule.exports.isValid = isValid;\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar alphabet = __webpack_require__(3);\n\t\n\tfunction isShortId(id) {\n\t    if (!id || typeof id !== 'string' || id.length < 6 ) {\n\t        return false;\n\t    }\n\t\n\t    var characters = alphabet.characters();\n\t    var len = id.length;\n\t    for(var i = 0; i < len;i++) {\n\t        if (characters.indexOf(id[i]) === -1) {\n\t            return false;\n\t        }\n\t    }\n\t    return true;\n\t}\n\t\n\tmodule.exports = isShortId;\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\t\n\tfunction randomByte() {\n\t    if (!crypto || !crypto.getRandomValues) {\n\t        return Math.floor(Math.random() * 256) & 0x30;\n\t    }\n\t    var dest = new Uint8Array(1);\n\t    crypto.getRandomValues(dest);\n\t    return dest[0] & 0x30;\n\t}\n\t\n\tmodule.exports = randomByte;\n\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// Found this seed-based random generator somewhere\n\t// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\t\n\tvar seed = 1;\n\t\n\t/**\n\t * return a random number based on a seed\n\t * @param seed\n\t * @returns {number}\n\t */\n\tfunction getNextValue() {\n\t    seed = (seed * 9301 + 49297) % 233280;\n\t    return seed/(233280.0);\n\t}\n\t\n\tfunction setSeed(_seed_) {\n\t    seed = _seed_;\n\t}\n\t\n\tmodule.exports = {\n\t    nextValue: getNextValue,\n\t    seed: setSeed\n\t};\n\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = 0;\n\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// skribble/ai.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 09d4c816ba12d27c8b06","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/classnames/index.js\n// module id = 1\n// module chunks = 0","import classNames from 'classnames';\n\nclass Selectable extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            classes: {},\n            selectFunction: this.select,\n        };\n    }\n\n    start() {\n        var selectClass;\n        var selectFunction;\n        var classes = this.state.classes;\n\n        super.start();\n\n        selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n        selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\n        if (this.props.selectOnStart) {\n            classes[this.props.selectOnStart] = selectClass;\n        }\n\n        this.setState({\n            started: true,\n            classes,\n            selectFunction,\n            selectClass,\n        });\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        if (this.refs.bin) {\n            this.setState({\n                list: this.refs.bin.getAll()\n            });\n        }\n    }\n\n    selectHelper(e, classes) {\n        var ref;\n        var dataRef;\n        var target;\n        var id;\n        var isCorrect;\n        var self = this;\n\n        if (typeof e === 'string') {\n            dataRef = e;\n        } else {\n            target = e.target.closest('LI');\n\n            if (!target) return;\n\n            dataRef = target.getAttribute('data-ref');\n        }\n\n        ref = self.refs[dataRef];\n\n        isCorrect = (ref && ref.props && ref.props.correct) ||\n            (!self.props.answers || !self.props.answers.length ||\n                self.props.answers.indexOf(dataRef) !== -1);\n\n        if (self.props.allowDeselect && classes[dataRef]) {\n            delete classes[dataRef];\n        } else if (isCorrect) {\n            classes[dataRef] = self.state.selectClass;\n        }\n\n        self.setState({\n            classes,\n        });\n\n        self.props.selectRespond.call(self, dataRef);\n        self.props.onSelect.call(self, dataRef);\n\n        if (self.props.chooseOne) self.complete();\n\n        if (self.props.dataTarget) {\n            self.updateGameState({\n                path: self.props.dataTarget,\n                data: {\n                    target: ref\n                }\n            });\n        }\n\n        if (self.props.completeListOnClick) {\n            _.each(self.refs, (r, k) => {\n                if (k === id) _.invoke(r, 'complete');\n            });\n        }\n\n        _.each(self.refs, (r, k) => {\n            if (k === dataRef) _.invoke(r, 'complete');\n        });\n    }\n\n    select(e) {\n        var classes = [];\n        this.selectHelper(e, classes);\n    }\n\n    highlight(e) {\n        var classes = this.state.classes;\n        this.selectHelper(e, classes);\n    }\n\n    getClass(key, li) {\n        return classNames(\n      li.props.className,\n      this.state.classes[key],\n      this.state.classes[li.props['data-ref']],\n      this.state.classes[li.props['data-key']]\n    );\n    }\n\n    getClassNames() {\n        return classNames('selectable', super.getClassNames());\n    }\n\n    renderBin() {\n        if (!this.props.bin) return null;\n\n        return (\n            <this.props.bin.type\n                {...this.props.bin.props}\n                ref=\"bin\"\n            />\n        );\n    }\n\n    renderList() {\n        var list = this.props.list || this.state.list;\n        return list.map((li, key) => {\n            var dataRef = li.props['data-ref'] || key;\n            var ref = li.ref || li.props.id || dataRef;\n            var message = li.props.message || '' + key;\n            return (\n                <li.type\n                    {...li.props}\n                    type=\"li\"\n                    className={this.getClass(key, li)}\n                    message={message}\n                    data-message={message}\n                    data-ref={dataRef}\n                    ref={ref}\n                    key={key}\n                />\n            );\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                {this.renderBin()}\n                <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n                    {this.renderList()}\n                </ul>\n            </div>\n        );\n    }\n}\n\nSelectable.defaultProps = _.defaults({\n    list: [\n        <li></li>,\n        <li></li>,\n        <li></li>,\n        <li></li>\n    ],\n    selectClass: 'SELECTED',\n    completeListOnClick: true,\n    selectRespond: _.noop,\n    onSelect: _.noop,\n}, skoash.Component.defaultProps);\n\nexport default Selectable;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/selectable/0.1.js","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/alphabet.js\n// module id = 3\n// module chunks = 0","import classNames from 'classnames';\n\nimport EditableAsset from '../editable_asset/0.1.js';\n\nclass Canvas extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            background: null,\n            items: [],\n            messages: [],\n            offsetX: 0,\n            offsetY: 0,\n            active: false,\n            valid: true,\n        };\n\n        this.deleteItem = this.deleteItem.bind(this);\n        this.checkItem = this.checkItem.bind(this);\n        this.deactivateItems = this.deactivateItems.bind(this);\n        this.relayerItems = this.relayerItems.bind(this);\n        this.setValid = this.setValid.bind(this);\n    }\n\n    start() {\n        var dom = ReactDOM.findDOMNode(this);\n\n        super.start();\n\n        this.setState({\n            width: dom.offsetWidth,\n            height: dom.offsetHeight,\n        });\n    }\n\n    getItems() {\n        var items;\n        var messages;\n        var self = this;\n\n        items = this.state.items.map((item, key) => {\n            var state;\n\n            if (!self.refs['item-' + key]) return item;\n\n            state = self.refs['item-' + key].state;\n\n            item.state = {\n                left: _.floor(state.left, 14),\n                top: _.floor(state.top, 14),\n                scale: _.floor(state.scale, 14),\n                rotation: _.floor(state.rotation, 14),\n                layer: state.layer,\n                valid: state.valid,\n                corners: state.corners,\n            };\n\n            item.check = state.check;\n            item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\n            return item;\n        });\n\n        messages = this.state.messages.map((item, key) => {\n            var state;\n\n            if (!self.refs['message-' + key]) return item;\n\n            state = self.refs['message-' + key].state;\n\n            item.state = {\n                left: _.floor(state.left, 14),\n                top: _.floor(state.top, 14),\n                scale: _.floor(state.scale, 14),\n                rotation: _.floor(state.rotation, 14),\n                layer: state.layer,\n                valid: state.valid,\n                corners: state.corners,\n            };\n\n            item.check = state.check;\n            item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\n            return item;\n        });\n\n        _.remove(items, n => {\n            return !n;\n        });\n\n        _.remove(messages, n => {\n            return !n;\n        });\n\n        return {\n            background: this.state.background,\n            items,\n            messages,\n        };\n    }\n\n    reset() {\n        this.setState({\n            background: null,\n            items: [],\n            messages: []\n        });\n    }\n\n    setItems(message) {\n        if (message) {\n            /*\n             *\n             * This makes sure the EditableAssets get cleared.\n             *\n             * This prevents the new assets from inheriting\n             * state from the old assets.\n             *\n             */\n            this.setState({\n                background: null,\n                items: [],\n                messages: [],\n            }, () => {\n                this.addItem(message.background);\n                message.items.forEach(asset => {\n                    this.addItem(asset);\n                });\n                message.messages.forEach(asset => {\n                    this.addItem(asset);\n                });\n            });\n        }\n    }\n\n    addItem(asset, cb) {\n        var items;\n        var messages;\n        var index;\n        var count;\n\n        if (!asset) return;\n\n        if (asset.asset_type === 'background') {\n            this.setState({\n                background: asset,\n            }, () => {\n                skoash.trigger('emit', {\n                    name: 'getMedia',\n                    'media_id': asset.media_id\n                }).then(d => {\n                    var background = this.state.background;\n                    background.check = d.check;\n                    background.mime_type = d.mime_type; // eslint-disable-line camelcase\n                    this.setState({\n                        background\n                    }, cb);\n                });\n            });\n        } else if (asset.asset_type === 'item') {\n            items = this.state.items;\n\n            count = _.reduce(items, (c, v) => {\n                if (asset.src === v.src) c++;\n                return c;\n            }, 1);\n\n            if (count > this.props.maxInstances) {\n                skoash.trigger('openMenu', {\n                    id: 'limitWarning'\n                });\n                return;\n            }\n\n            items.push(asset);\n            index = items.indexOf(asset);\n\n            this.setState({\n                items,\n            }, () => {\n                skoash.trigger('emit', {\n                    name: 'getMedia',\n                    'media_id': asset.media_id\n                }).then(d => {\n                    asset.check = d.check;\n                    asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n                    items[index] = asset;\n                    this.setState({\n                        items\n                    }, cb);\n                });\n            });\n        } else if (asset.asset_type === 'message') {\n            messages = this.state.messages;\n\n            count = _.reduce(items, (c, v) => {\n                if (asset.src === v.src) c++;\n                return c;\n            }, 1);\n\n            if (count > this.props.maxInstances) return;\n\n            messages.push(asset);\n            index = messages.indexOf(asset);\n\n            this.setState({\n                messages,\n            }, () => {\n                skoash.trigger('emit', {\n                    name: 'getMedia',\n                    'media_id': asset.media_id\n                }).then(d => {\n                    asset.check = d.check;\n                    asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n                    messages[index] = asset;\n                    this.setState({\n                        messages\n                    }, cb);\n                });\n            });\n        }\n    }\n\n    deleteItem(key, type) {\n        var items;\n\n        items = this.state[type + 's'];\n        delete items[key];\n\n        this.setState({\n            [type + 's']: items,\n        });\n    }\n\n    deactivateItems(exclude, type) {\n        if (typeof exclude === 'object' && exclude.target) {\n            if (exclude.target.tagName !== 'LI') return;\n            this.setState({\n                active: false,\n            });\n            if (!this.state.valid) {\n                skoash.trigger('passData', {\n                    name: 'showCollisionWarning'\n                });\n            }\n        }\n\n        if (typeof exclude === 'number') {\n            this.setState({\n                active: true,\n            });\n        }\n\n        this.state.items.map((item, key) => {\n            if ((key !== exclude || type !== 'item') && this.refs['item-' + key]) {\n                this.refs['item-' + key].deactivate();\n            }\n        });\n\n        this.state.messages.map((item, key) => {\n            if ((key !== exclude || type !== 'message') && this.refs['message-' + key]) {\n                this.refs['message-' + key].deactivate();\n            }\n        });\n    }\n\n    relayerItems(type) {\n        var layers = [];\n\n        this.state[type + 's'].map((item, key) => {\n            var layer;\n\n            layer = this.refs[type + '-' + key].state.layer;\n\n            if (layers.indexOf(layer) === -1) {\n                layers.push(layer);\n            }\n        });\n\n        layers.sort((a, b) => {\n            return a < b;\n        });\n\n        this.state[type + 's'].map((item, key) => {\n            var oldLayer;\n            var newLayer;\n\n            oldLayer = this.refs[type + '-' + key].state.layer;\n            newLayer = (type === 'message') ? 10000 : 1000;\n            newLayer = newLayer - layers.indexOf(oldLayer);\n\n            this.refs[type + '-' + key].relayer(newLayer);\n        });\n    }\n\n    checkItem(key, type) {\n        var self = this;\n\n        return (\n            !self.refs[type + '-' + key].state.corners.length ||\n            (\n                self.isInBounds(key, type) && (\n                    self.refs[type + '-' + key].state.can_overlap ||\n                    !self.state[type + 's'].some((item, index) =>\n                        key !== index &&\n                        !self.refs[type + '-' + index].state.can_overlap &&\n                        self.refs[type + '-' + index].state.corners.length &&\n                        skoash.util.doIntersect(\n                            self.refs[type + '-' + key].state.corners,\n                            self.refs[type + '-' + index].state.corners\n                        )\n                    )\n                )\n            )\n        );\n    }\n\n    isInBounds(key, type) {\n        return !this.state.width ||\n            !this.state.height ||\n            !(\n            // box to left\n            skoash.util.doIntersect(\n                this.refs[type + '-' + key].state.corners,\n                [\n                    {x: 0, y: -this.state.height},\n                    {x: 0, y: 2 * this.state.height},\n                    {x: -this.state.width, y: 2 * this.state.height},\n                    {x: -this.state.width, y: -this.state.height}\n                ]\n            ) ||\n            // box above\n            skoash.util.doIntersect(\n                this.refs[type + '-' + key].state.corners,\n                [\n                    {x: -this.state.width, y: 0},\n                    {x: 2 * this.state.width, y: 0},\n                    {x: 2 * this.state.width, y: -this.state.height},\n                    {x: this.state.width, y: -this.state.height}\n                ]\n            ) ||\n            // box to right\n            skoash.util.doIntersect(\n                this.refs[type + '-' + key].state.corners,\n                [\n                    {x: this.state.width, y: -this.state.height},\n                    {x: this.state.width, y: 2 * this.state.height},\n                    {x: 2 * this.state.width, y: 2 * this.state.height},\n                    {x: 2 * this.state.width, y: -this.state.height}\n                ]\n            ) ||\n            // box below\n            skoash.util.doIntersect(\n                this.refs[type + '-' + key].state.corners,\n                [\n                    {x: -this.state.width, y: this.state.height},\n                    {x: 2 * this.state.width, y: this.state.height},\n                    {x: 2 * this.state.width, y: 2 * this.state.height},\n                    {x: -this.state.width, y: 2 * this.state.height}\n                ]\n            )\n        );\n    }\n\n    setValid(valid) {\n        this.setState({\n            valid\n        });\n\n        this.props.setValid.call(this, valid);\n    }\n\n    getStyle() {\n        if (!this.state.background) return;\n\n        return {\n            backgroundImage: `url(${this.state.background.src})`,\n        };\n    }\n\n    renderItems() {\n        var self = this;\n\n        return this.state.items.map((item, key) => {\n            return (\n                <EditableAsset\n                    {...item}\n                    data-ref={key}\n                    minDim={this.props.itemMinDim}\n                    deleteItem={self.deleteItem}\n                    checkItem={self.checkItem}\n                    deactivateItems={self.deactivateItems}\n                    relayerItems={self.relayerItems}\n                    setValid={self.setValid}\n                    ref={'item-' + key}\n                    key={key}\n                />\n            );\n        });\n    }\n\n    renderMessages() {\n        var self = this;\n\n        return this.state.messages.map((item, key) => {\n            return (\n                <EditableAsset\n                    {...item}\n                    data-ref={key}\n                    minDim={this.props.messageMinDim}\n                    deleteItem={self.deleteItem}\n                    checkItem={self.checkItem}\n                    deactivateItems={self.deactivateItems}\n                    relayerItems={self.relayerItems}\n                    setValid={self.setValid}\n                    canvasWidth={this.state.width}\n                    canvasHeight={this.state.height}\n                    ref={'message-' + key}\n                    key={key}\n                />\n            );\n        });\n    }\n\n    getClassNames() {\n        return classNames({\n            canvas: true,\n            ACTIVE: !this.props.preview && this.state.active,\n        });\n    }\n\n    render() {\n        return (\n            <ul\n                className={this.getClassNames()}\n                style={this.getStyle()}\n                onClick={this.deactivateItems}\n            >\n                {this.renderItems()}\n                {this.renderMessages()}\n            </ul>\n        );\n    }\n}\n\nCanvas.defaultProps = _.defaults({\n    maxInstances: 5,\n    setValid: _.noop,\n}, skoash.Component.defaultProps);\n\nexport default Canvas;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/canvas/0.1.js","import shortid from 'shortid';\nimport classNames from 'classnames';\n\nimport Selectable from 'shared/components/selectable/0.1';\nimport ScrollArea from 'shared/components/scroll_area/0.1';\n\nclass ItemDrawer extends Selectable {\n    start() {\n        var items;\n        var selectedItem;\n        var selectClass;\n        var selectFunction;\n        var classes = {};\n        var self = this;\n\n        selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n        selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\n        items = self.props.data || [];\n\n        if (self.state.category && items[self.state.category]) {\n            items = items[self.state.category].items;\n        }\n\n        selectedItem = JSON.stringify(self.props.selectedItem);\n\n        _.each(items, (item, key) => {\n            if (self.props.selectedItem && JSON.stringify(item) === selectedItem) {\n                classes[key] = selectClass;\n            }\n        });\n\n        if (this.props.selectOnStart) {\n            classes[this.props.selectOnStart] = selectClass;\n        }\n\n        this.setState({\n            started: true,\n            classes,\n            selectClass,\n            selectFunction,\n            categoryName: '',\n            category: '',\n        });\n\n        _.each(self.refs, ref => {\n            if (typeof ref.start === 'function') ref.start();\n        });\n    }\n\n    selectHelper(e) {\n        var li;\n        var message;\n        var key;\n        var type;\n        var categoryName;\n        var classes = [];\n\n        li = e.target.closest('LI');\n        if (!li) return;\n\n        key = li.getAttribute('data-ref');\n        if (!this.refs[key]) return;\n\n        type = this.refs[key].props.item.asset_type;\n        if (!type) return;\n\n        if (type === 'folder') {\n            categoryName = this.refs[key].props.item.name;\n            this.setState({\n                category: key,\n                categoryName\n            });\n        } else {\n            message = this.refs[key].props.item;\n            classes[key] = this.props.selectClass;\n\n            this.setState({\n                message,\n                classes,\n            });\n        }\n    }\n\n    selectButton() {\n        if (typeof this.props.selectRespond === 'function' && this.state.message) {\n            this.props.selectRespond(this.state.message);\n        }\n    }\n\n    continueButton() {\n        if (typeof this.props.selectRespond === 'function') {\n            this.props.selectRespond({});\n        }\n    }\n\n    cancelButton() {\n        if (typeof this.props.cancelRespond === 'function') {\n            this.props.cancelRespond.call(this);\n        }\n    }\n\n    getCategory() {\n        if (this.state.categoryName || this.props.categoryName) {\n            return this.state.categoryName || this.props.categoryName;\n        }\n\n        if (this.props.categories && this.props.categories.length) {\n            return this.props.categories[this.props.categories.length - 1];\n        }\n        return '';\n    }\n\n    getClassNames() {\n        return classNames({\n            'ANSWERED': _.values(this.state.classes).indexOf(this.state.selectClass) !== -1\n        }, this.props.className, 'item-drawer-component');\n    }\n\n    getULClass() {\n        return classNames('item-drawer', {\n            COMPLETE: this.state.complete,\n        }, this.props.categories ? this.props.categories.join(' ') : '');\n    }\n\n    getClass(key, item) {\n        return classNames(this.state.classes[key] || '', {\n            white: item && item.name && item.name.toLowerCase()[item.name.length - 1] === 'w',\n        });\n    }\n\n    renderButtons() {\n        return (\n      <div className=\"buttons\">\n        <button className=\"select\" onClick={this.selectButton.bind(this)} />\n        <button className=\"continue\" onClick={this.continueButton.bind(this)} />\n        <button className=\"cancel\" onClick={this.cancelButton.bind(this)} />\n      </div>\n    );\n    }\n\n    renderItemContent(item) {\n        var content = [];\n        var thumb;\n        var src;\n\n        if (item.src || item.thumb) {\n            src = item.thumb || item.src;\n        } else if (item.items) {\n            if (!_.isArray(item.items)) {\n                item.items = _.values(item.items);\n            }\n\n            thumb = _.find(item.items, subitem => subitem.name === '_thumb');\n\n            if (thumb) src = thumb.thumb || thumb.src;\n\n            if (!src && item.items[0]) src = item.items[0].thumb || item.items[0].src;\n        }\n\n        if (src) {\n            content.push(<skoash.Image src={src} key={0} />);\n        }\n\n        if (item.name && (item.asset_type === 'folder' || item.asset_type === 'friend')) {\n            content.push(<span className=\"name\" key={1}>{item.name}</span>);\n        }\n\n        if (item.description) {\n            content.push(<span className=\"description\" key={2}>{item.description}</span>);\n        }\n\n        return content;\n    }\n\n    renderList() {\n        var items;\n        var self = this;\n\n        if (!this.props.data) return;\n\n        items = this.props.data;\n\n        if (this.state.category && items[this.state.category]) {\n            items = items[this.state.category].items;\n        }\n\n        if (!_.isArray(items)) {\n            items = _.values(items);\n        }\n\n        return items.sort((a, b) => {\n            var aVal = !_.isNaN(window.parseInt(a.order)) ? window.parseInt(a.order) : Infinity;\n            var bVal = !_.isNaN(window.parseInt(b.order)) ? window.parseInt(b.order) : Infinity;\n            if (aVal === bVal) {\n                if (a.name < b.name) return -1;\n                if (a.name > b.name) return 1;\n                return 0;\n            }\n            if (aVal < bVal) return -1;\n            return 1;\n        }).filter(item =>\n      item.name !== '_thumb'\n    ).map((item, key) =>\n      <skoash.ListItem\n        className={this.getClass(key, item)}\n        ref={key}\n        data-ref={key}\n        item={item}\n        key={shortid.generate()}\n      >\n        {self.renderItemContent(item)}\n      </skoash.ListItem>\n    );\n    }\n\n    render() {\n        return (\n            <div className={this.getClassNames()}>\n                <div className=\"item-drawer-container\">\n                    <h2>{this.getCategory()}</h2>\n                    <ScrollArea ref=\"scroll-area\" img={this.props.scrollbarImg}>\n                        <ul\n                            ref=\"list\"\n                            className={this.getULClass()}\n                            onClick={this.state.selectFunction.bind(this)}\n                        >\n                            {this.renderList()}\n                        </ul>\n                    </ScrollArea>\n                </div>\n                {this.renderButtons()}\n            </div>\n        );\n    }\n}\n\nItemDrawer.defaultProps = _.defaults({\n    scrollbarImg: '',\n    shouldComponentUpdate: function (nextProps, nextState) {\n        var items;\n        var quickCheck;\n        var itemsChanged;\n\n        items = nextProps.data || [];\n        if (nextState.category && items[nextState.category]) {\n            items = items[nextState.category].items;\n        }\n\n        quickCheck = _.reduce(items, (a, i) => a + i.name, '');\n\n        itemsChanged = this.quickCheck !== quickCheck;\n        if (itemsChanged) this.quickCheck = quickCheck;\n\n        return itemsChanged || nextProps.categoryName !== this.props.categoryName ||\n            JSON.stringify(this.state.classes) !== JSON.stringify(nextState.classes);\n    },\n}, Selectable.defaultProps);\n\nexport default ItemDrawer;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/item_drawer/0.1.js","import classNames from 'classnames';\n\nclass Draggable extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            startX: 0,\n            startY: 0,\n            endX: 0,\n            endY: 0,\n            zoom: 1,\n        };\n\n        this.mouseDown = this.mouseDown.bind(this);\n        this.mouseUp = this.mouseUp.bind(this);\n\n        this.moveEvent = this.moveEvent.bind(this);\n\n        this.touchStart = this.touchStart.bind(this);\n        this.touchEnd = this.touchEnd.bind(this);\n    }\n\n    shouldDrag() {\n        return true;\n    }\n\n    incomplete() {\n        this.markIncorrect();\n        this.returnToStart();\n\n        super.incomplete();\n    }\n\n    markCorrect() {\n        this.setState({\n            correct: true,\n        });\n    }\n\n    markIncorrect() {\n        this.setState({\n            correct: false,\n        });\n    }\n\n    startEvent(e, cb) {\n        var pageX;\n        var pageY;\n        var rect;\n        var startX;\n        var startY;\n        var endX;\n        var endY;\n        var grabX;\n        var grabY;\n\n        if (e.target !== this.refs.el) return;\n        if (!this.shouldDrag()) return;\n\n        if (e.targetTouches && e.targetTouches[0]) {\n            pageX = e.targetTouches[0].pageX;\n            pageY = e.targetTouches[0].pageY;\n            rect = e.target.getBoundingClientRect();\n            e = e.targetTouches[0];\n            e.offsetX = pageX - rect.left;\n            e.offsetY = pageY - rect.top;\n        }\n\n        grabX = e.offsetX;\n        grabY = e.offsetY;\n\n        startX = endX = e.pageX - grabX;\n        startY = endY = e.pageY - grabY;\n\n        if (!this.state.firstX) {\n            this.setState({\n                firstX: startX,\n                firstY: startY,\n            });\n        }\n\n        if (!this.props.return) {\n            startX = _.isFinite(this.state.grabX) ?\n        this.state.startX + this.state.grabX - grabX :\n        startX;\n            startY = _.isFinite(this.state.grabY) ?\n        this.state.startY + this.state.grabY - grabY :\n        startY;\n        }\n\n        this.setState({\n            dragging: true,\n            return: false,\n            startX,\n            startY,\n            grabX,\n            grabY,\n            endX,\n            endY,\n        });\n\n        if (typeof this.props.dragRespond === 'function') {\n            this.props.dragRespond(this.props.message);\n        }\n\n        if (typeof cb === 'function') {\n            cb.call(this);\n        }\n    }\n\n    attachMouseEvents() {\n        window.addEventListener('mousemove', this.moveEvent);\n        window.addEventListener('mouseup', this.mouseUp);\n    }\n\n    attachTouchEvents() {\n        window.addEventListener('touchmove', this.moveEvent);\n        window.addEventListener('touchend', this.touchEnd);\n    }\n\n    mouseDown(e) {\n        this.startEvent(e, this.attachMouseEvents);\n    }\n\n    touchStart(e) {\n        this.startEvent(e, this.attachTouchEvents);\n    }\n\n    moveEvent(e) {\n        if (e.targetTouches && e.targetTouches[0]) {\n            e.pageX = e.targetTouches[0].pageX;\n            e.pageY = e.targetTouches[0].pageY;\n        }\n\n        this.setState({\n            endX: e.pageX - this.state.grabX,\n            endY: e.pageY - this.state.grabY,\n        });\n    }\n\n    returnToStart() {\n        if (this.state.firstX) {\n            this.setState({\n                dragging: false,\n                return: true,\n                endX: this.state.firstX,\n                endY: this.state.firstY,\n            });\n        }\n    }\n\n    endEvent(cb) {\n        this.dropRespond();\n\n        if (this.props.return) {\n            this.returnToStart();\n        } else {\n            this.setState({\n                dragging: false,\n                return: this.state.return,\n            });\n        }\n\n        if (typeof cb === 'function') {\n            cb.call(this);\n        }\n    }\n\n    detachMouseEvents() {\n        window.removeEventListener('mousemove', this.moveEvent);\n        window.removeEventListener('mouseup', this.mouseUp);\n    }\n\n    detachTouchEvents() {\n        window.removeEventListener('touchmove', this.moveEvent);\n        window.removeEventListener('touchend', this.touchEnd);\n    }\n\n    mouseUp() {\n        this.endEvent(this.detachMouseEvents);\n    }\n\n    touchEnd() {\n        this.endEvent(this.detachTouchEvents);\n    }\n\n    dropRespond() {\n        var corners;\n\n        corners = this.setCorners();\n\n        if (typeof this.props.dropRespond === 'function') {\n            this.props.dropRespond(this.props.message, corners);\n        }\n    }\n\n    setCorners() {\n        var top;\n        var left;\n        var width;\n        var height;\n        var el;\n        var corners = [];\n\n        left = 0;\n        top = 0;\n        el = this.refs.el;\n        width = el.offsetWidth;\n        height = el.offsetHeight;\n\n        while (el) {\n            if (el.className.indexOf('screen') !== -1) {\n                break;\n            }\n\n            left += el.offsetLeft || 0;\n            top += el.offsetTop || 0;\n            el = el.offsetParent;\n        }\n\n        left += ((this.state.endX - this.state.startX) / this.state.zoom);\n        top += ((this.state.endY - this.state.startY) / this.state.zoom);\n\n        for (let i = 0; i < 4; i++) {\n            corners.push({\n                x: left + width * (i === 1 || i === 2 ? 1 : 0),\n                y: top + height * (i > 1 ? 1 : 0),\n            });\n        }\n\n        this.setState({\n            corners,\n        });\n\n        return corners;\n    }\n\n    componentDidMount() {\n        this.bootstrap();\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        this.setZoom();\n\n        this.refs.el.addEventListener('mousedown', this.mouseDown);\n        this.refs.el.addEventListener('touchstart', this.touchStart);\n\n        window.addEventListener('resize', this.setZoom.bind(this));\n    }\n\n    setZoom() {\n        skoash.trigger('getState').then(state => {\n            this.setState({\n                zoom: state.scale,\n            });\n        });\n    }\n\n    getStyle() {\n        var x;\n        var y;\n\n        x = ((this.state.endX - this.state.startX) / this.state.zoom);\n        y = ((this.state.endY - this.state.startY) / this.state.zoom);\n\n        return {\n            transform: `translateX(${x}px) translateY(${y}px)`,\n            WebkitTransform: `translateX(${x}px) translateY(${y}px)`,\n        };\n    }\n\n    getClassNames() {\n        return classNames({\n            draggable: true,\n            [this.props.className]: this.props.className,\n            [this.props.message]: this.props.message,\n            DRAGGING: this.state.dragging,\n            RETURN: this.state.return,\n            CORRECT: this.state.correct,\n        }, super.getClassNames());\n    }\n\n    render() {\n        return (\n            <div\n                ref=\"el\"\n                className={this.getClassNames()}\n                style={this.getStyle()}\n            >\n                {this.renderContentList()}\n            </div>\n        );\n    }\n}\n\nexport default Draggable;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/draggable/0.1.js","import classNames from 'classnames';\n\nimport Draggable from '../draggable/0.1.js';\n\nclass EditableAsset extends Draggable {\n    constructor() {\n        super();\n\n        this.state = {\n            width: 0,\n            height: 0,\n            left: 0,\n            top: 0,\n            scale: .5,\n            minScale: .1,\n            maxScale: 1,\n            rotation: 0,\n            layer: 1000,\n            zoom: 1,\n            active: false,\n            valid: true,\n            corners: [],\n            lastValid: {},\n        };\n\n        this.scale = this.scale.bind(this);\n        this.adjustScale = this.adjustScale.bind(this);\n        this.offScale = this.offScale.bind(this);\n\n        this.rotate = this.rotate.bind(this);\n        this.adjustRotation = this.adjustRotation.bind(this);\n        this.offRotate = this.offRotate.bind(this);\n    }\n\n    shouldDrag() {\n        return this.state.active;\n    }\n\n    activate() {\n        this.setState({\n            active: true,\n        });\n\n        if (typeof this.props.deactivateItems === 'function') {\n            this.props.deactivateItems(this.props['data-ref'], this.props.asset_type);\n        }\n    }\n\n    deactivate() {\n        if (!this.state.valid) {\n            this.setState({\n                left: this.state.lastValid.left || this.state.left,\n                top: this.state.lastValid.top || this.state.top,\n                scale: this.state.lastValid.scale || this.state.scale,\n                rotation: this.state.lastValid.rotation || this.state.rotation,\n                active: false,\n            }, () => {\n                setTimeout(() => {\n                    this.checkItem();\n                }, 0);\n            });\n        } else {\n            this.setState({\n                active: false,\n            });\n        }\n    }\n\n    moveEvent(e) {\n        if (e.targetTouches && e.targetTouches[0]) {\n            e.pageX = e.targetTouches[0].pageX;\n            e.pageY = e.targetTouches[0].pageY;\n        }\n\n        this.setState({\n            endX: e.pageX - this.state.grabX,\n            endY: e.pageY - this.state.grabY,\n            left: ((e.pageX - this.state.grabX - this.state.startX) / this.state.zoom),\n            top: ((e.pageY - this.state.grabY - this.state.startY) / this.state.zoom),\n        });\n        this.checkItem();\n    }\n\n    delete() {\n        if (typeof this.props.deleteItem === 'function') {\n            this.props.deleteItem(this.props['data-ref'], this.props.asset_type);\n        }\n    }\n\n    rotate() {\n        this.refs.el.parentNode.addEventListener('mousemove', this.adjustRotation);\n        this.refs.el.parentNode.addEventListener('mouseup', this.offRotate);\n\n        this.refs.el.parentNode.addEventListener('touchmove', this.adjustRotation);\n        this.refs.el.parentNode.addEventListener('touchend', this.offRotate);\n    }\n\n    offRotate() {\n        this.refs.el.parentNode.removeEventListener('mousemove', this.adjustRotation);\n        this.refs.el.parentNode.removeEventListener('mouseup', this.offRotate);\n\n        this.refs.el.parentNode.removeEventListener('touchmove', this.adjustRotation);\n        this.refs.el.parentNode.removeEventListener('touchend', this.offRotate);\n    }\n\n    adjustRotation(e) {\n        var rotation;\n        var deltaX;\n        var deltaY;\n\n        if (e.targetTouches && e.targetTouches[0]) {\n            e.pageX = e.targetTouches[0].pageX;\n            e.pageY = e.targetTouches[0].pageY;\n        }\n\n        deltaX = (e.pageX / this.state.zoom) - (this.refs.li.offsetParent.offsetLeft) -\n            (this.state.left + this.state.width / 2);\n        deltaY = (e.pageY / this.state.zoom) - (this.refs.li.offsetParent.offsetTop) -\n            (this.state.top + this.state.height / 2);\n\n        rotation = Math.atan2(deltaY, deltaX) + (Math.PI / 4) % (2 * Math.PI);\n\n        this.setState({\n            rotation,\n        });\n\n        this.checkItem();\n    }\n\n    layer() {\n        var layer;\n        var self = this;\n\n        layer = this.state.layer - 1;\n\n        this.setState({\n            layer,\n        }, () => {\n            if (typeof self.props.relayerItems === 'function') {\n                self.props.relayerItems(self.props.asset_type);\n            }\n        });\n    }\n\n    relayer(layer) {\n        this.setState({\n            layer,\n        });\n    }\n\n    scale() {\n        this.refs.el.parentNode.addEventListener('mousemove', this.adjustScale);\n        this.refs.el.parentNode.addEventListener('mouseup', this.offScale);\n\n        this.refs.el.parentNode.addEventListener('touchmove', this.adjustScale);\n        this.refs.el.parentNode.addEventListener('touchend', this.offScale);\n    }\n\n    offScale() {\n        this.refs.el.parentNode.removeEventListener('mousemove', this.adjustScale);\n        this.refs.el.parentNode.removeEventListener('mouseup', this.offScale);\n\n        this.refs.el.parentNode.removeEventListener('touchmove', this.adjustScale);\n        this.refs.el.parentNode.removeEventListener('touchend', this.offScale);\n    }\n\n    adjustScale(e) {\n        var scale;\n        var deltaX;\n        var deltaY;\n        var delta;\n        var base;\n\n        if (e.targetTouches && e.targetTouches[0]) {\n            e.pageX = e.targetTouches[0].pageX;\n            e.pageY = e.targetTouches[0].pageY;\n        }\n\n        deltaX = (e.pageX / this.state.zoom) - (this.refs.li.offsetParent.offsetLeft / this.state.zoom) -\n            (this.state.left + this.state.width / 2);\n        deltaY = (e.pageY / this.state.zoom) - (this.refs.li.offsetParent.offsetTop / this.state.zoom) -\n            (this.state.top + this.state.height / 2);\n\n        delta = Math.pow(Math.pow(deltaX, 2) + Math.pow(deltaY, 2), .5);\n        base = Math.pow(Math.pow(this.state.width / 2, 2) + Math.pow(this.state.height / 2, 2), .5);\n\n        scale = Math.max(Math.min(delta / base, 1), this.state.minScale);\n\n        this.setState({\n            scale,\n        });\n\n        this.checkItem();\n    }\n\n    checkItem() {\n        this.setCorners(() => {\n            var valid;\n\n            if (typeof this.props.checkItem === 'function') {\n                valid = this.props.checkItem(this.props['data-ref'], this.props.asset_type);\n\n                if (valid) {\n                    this.setState({\n                        valid,\n                        lastValid: new Object(this.state),\n                    });\n                } else {\n                    this.setState({\n                        valid,\n                    });\n                }\n\n                this.props.setValid.call(this, valid);\n            }\n        });\n    }\n\n    setCorners(cb) {\n        var center;\n        var distance;\n        var angle;\n        var corners = [];\n\n        center = {\n            x: this.state.left + this.state.width / 2,\n            y: this.state.top + this.state.height / 2,\n        };\n\n        distance = Math.pow(Math.pow(this.state.width * this.state.scale / 2, 2) +\n            Math.pow(this.state.height * this.state.scale / 2, 2), .5);\n\n        for (let i = 0; i < 4; i++) {\n            angle = this.state.rotation;\n            angle += (i < 2 ? 0 : Math.PI);\n            angle += Math.pow(-1, i) * Math.atan2(this.state.height, this.state.width);\n\n            corners.push({\n                x: center.x + distance * Math.cos(angle),\n                y: center.y + distance * Math.sin(angle),\n            });\n        }\n\n        this.setState({\n            corners,\n        }, cb);\n    }\n\n    getSize() {\n        var image;\n        var self = this;\n\n        image = new Image();\n\n        image.onload = () => {\n            var offset;\n            var left;\n            var top;\n            var width;\n            var height;\n            var minDim;\n            var maxDim;\n            var minScale;\n            var maxScale;\n            var scale;\n\n            minDim = this.props.minDim || 40;\n            maxDim = this.props.maxDim || 400;\n            left = this.state.left;\n            top = this.state.top;\n            width = image.width;\n            height = image.height;\n\n            minScale = Math.max(minDim / width, minDim / height);\n            maxScale = Math.min(maxDim / width, maxDim / height, this.state.maxScale);\n            scale = self.props.state && self.props.state.scale ?\n                self.props.state.scale :\n                Math.max(Math.min(self.state.scale, maxScale), minScale);\n\n            if ((!this.state.height || !this.state.width) && (!this.state.left && !this.state.top)) {\n                left = (this.props.canvasWidth - width) / 2;\n                top = (this.props.canvasHeight - height) / 2;\n            }\n\n            offset = this.refs.el.getBoundingClientRect();\n\n            self.setState({\n                left,\n                top,\n                startX: left * scale - offset.left / this.state.zoom,\n                startY: top * scale - offset.top / this.state.zoom,\n                grabX: width / 2,\n                grabY: height / 2,\n                width,\n                height,\n                minScale,\n                scale,\n            }, () => {\n                self.activate();\n                self.checkItem();\n            });\n        };\n\n        image.src = this.props.src;\n    }\n\n    getLayer() {\n        var layer = 1000;\n\n        if (this.props.state && this.props.state.layer) {\n            layer = this.props.state.layer;\n        } else {\n            switch (this.props.asset_type) {\n                case 'background':\n                    layer = 1;\n                    break;\n                case 'message':\n                    layer = 10000;\n                    break;\n            }\n        }\n\n        this.setState({\n            layer,\n        });\n    }\n\n    attachEvents() {\n        this.refs.scale.addEventListener('mousedown', this.scale);\n        this.refs.rotate.addEventListener('mousedown', this.rotate);\n\n        this.refs.scale.addEventListener('touchstart', this.scale);\n        this.refs.rotate.addEventListener('touchstart', this.rotate);\n    }\n\n    componentDidMount() {\n        this.bootstrap();\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        if (this.props.state) {\n            this.setState(this.props.state);\n        }\n\n        this.getSize();\n        this.getLayer();\n\n        this.attachEvents();\n\n        skoash.trigger('emit', {\n            name: 'getMedia',\n            'media_id': this.props.media_id\n        }).then(d => {\n            this.setState(d, () => {\n                this.checkItem();\n            });\n        });\n    }\n\n    componentDidUpdate() {\n        this.attachEvents();\n    }\n\n    getButtonStyle(extraRotation = 0) {\n        var style;\n        var transform = '';\n\n        transform += `scale(${(1 / this.state.scale)}) `;\n        transform += `rotate(${(-this.state.rotation - extraRotation)}rad) `;\n\n        style = {\n            transform,\n        };\n\n        return style;\n    }\n\n    getAssetStyle() {\n        var style;\n        var transform = '';\n\n        transform += `scale(${this.state.scale}) `;\n        transform += `rotate(${this.state.rotation}rad) `;\n\n        style = {\n            backgroundImage: `url(\"${this.props.src}\")`,\n            width: this.state.width,\n            height: this.state.height,\n            left: this.state.left,\n            top: this.state.top,\n            transform,\n            zIndex: this.state.layer,\n        };\n\n        return style;\n    }\n\n    getButtonsStyle() {\n        var style;\n        var transform = '';\n\n        transform += `scale(${this.state.scale}) `;\n        transform += `rotate(${this.state.rotation}rad) `;\n\n        style = {\n            width: this.state.width,\n            height: this.state.height,\n            left: this.state.left,\n            top: this.state.top,\n            transform,\n        };\n\n        return style;\n    }\n\n    getClasses() {\n        return classNames({\n            DRAGGING: this.state.dragging,\n            RETURN: this.state.return,\n            ACTIVE: this.state.active,\n            INVALID: !this.state.valid,\n        }, 'editable-asset', this.props.asset_type);\n    }\n\n    renderAsset() {\n        return (\n            <div\n                ref=\"el\"\n                className=\"asset\"\n                style={this.getAssetStyle()}\n            />\n        );\n    }\n\n    renderButtons() {\n        return (\n            <div\n                className=\"buttons\"\n                style={this.getButtonsStyle()}\n            >\n                <button\n                    className=\"delete\"\n                    style={this.getButtonStyle()}\n                    onClick={this.delete.bind(this)}\n                />\n                <button\n                    ref=\"rotate\"\n                    className=\"rotate\"\n                    style={this.getButtonStyle()}\n                />\n                <button\n                    className=\"layer\"\n                    onClick={this.layer.bind(this)}\n                    style={this.getButtonStyle()}\n                />\n                <button\n                    ref=\"scale\"\n                    className=\"scale\"\n                    style={this.getButtonStyle(1.5708)}\n                />\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <li\n                ref=\"li\"\n                className={this.getClasses()}\n                onClick={this.activate.bind(this)}\n            >\n                {this.renderAsset()}\n                {this.renderButtons()}\n            </li>\n        );\n    }\n}\n\nEditableAsset.defaultProps = _.defaults({\n    canvasWidth: 1280,\n    canvasHeight: 720,\n    setValid: _.identity,\n}, Draggable.defaultProps);\n\nexport default EditableAsset;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/editable_asset/0.1.js","import classNames from 'classnames';\n\nimport Selectable from '../selectable/0.1';\n\nclass Inbox extends Selectable {\n    constructor() {\n        super();\n    }\n\n    selectHelper(e) {\n        var li;\n        var message;\n        var key;\n        var classes = [];\n\n        li = e.target.closest('LI');\n\n        if (!li) return;\n\n        key = li.getAttribute('data-ref');\n\n        if (!this.refs[key]) return;\n\n        message = this.refs[key].props.item;\n        classes[key] = this.props.selectClass;\n\n        this.setState({\n            message,\n            classes,\n        });\n\n        if (message.status !== 'COMPLETE') return;\n\n        if (typeof this.props.selectRespond === 'function' && message) {\n            this.props.selectRespond(message);\n        }\n    }\n\n    getClass(key, read) {\n        return classNames(\n      this.state.classes[key], {\n          UNREAD: this.props.friendKey === 'created_by' && !read,\n          SENT: this.props.friendKey !== 'created_by'\n      }\n    );\n    }\n\n    getClassNames() {\n        return classNames({\n            'item-drawer': true,\n            COMPLETE: this.state.complete,\n        }, this.props.className);\n    }\n\n    getStatusText(item) {\n        if (!item.status || item.status === 'COMPLETE') return '';\n        return item.status;\n    }\n\n    renderList() {\n        var items;\n        var friends;\n\n        if (!this.props.data || !this.props.data.items) return;\n\n        items = this.props.data.items;\n\n        if (!items.length) {\n            return (\n                <li className=\"empty\">\n                    {this.props.emptyMessage}\n                </li>\n            );\n        }\n\n        friends = _.get(this.props.gameState, 'data.user', []);\n\n        return _.map(items, (item, key) => {\n            var timestamp;\n            var image;\n            var name;\n            timestamp = moment.utc(item.updated).local();\n            key = 'message-' + key;\n\n            if (item[this.props.friendKey] == null) return null;\n\n            _.each(friends, friend => {\n                if (item[this.props.friendKey] === friend.friend_id) {\n                    image = friend._embedded.image ? friend._embedded.image.url : '';\n                    name = friend.username;\n                }\n            });\n\n            if (!name) {\n                skoash.trigger('getData', {\n                    name: 'getFriend',\n                    'friend_id': item[this.props.friendKey],\n                });\n                name = '';\n            }\n\n            if (this.props.friendKey === 'friend_to') {\n                item.sent = true;\n            }\n\n            return (\n                <skoash.ListItem\n                    className={this.getClass(key, item.read)}\n                    ref={key}\n                    data-ref={key}\n                    item={item}\n                    key={key}\n                >\n                    <skoash.Image src={image} />\n                    <span className={'username' + (name.length > 15 ? ' long' : '')}>\n                        {name}\n                    </span>\n                    <span className=\"timestamp\">\n                        <span className=\"date\">{timestamp.format('MM.DD.YY')}</span>\n                        <span className=\"time\">{timestamp.format('h:mm a')}</span>\n                    </span>\n                    <span className={'status ' + item.status}>\n                        {this.getStatusText(item)}\n                    </span>\n                </skoash.ListItem>\n            );\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n                    {this.renderList()}\n                </ul>\n            </div>\n        );\n    }\n}\n\nInbox.defaultProps = _.defaults({\n    friendKey: 'created_by',\n    gameState: {},\n}, Selectable.defaultProps);\n\nexport default Inbox;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/inbox/0.1.js","export default function (props, ref, key) {\n    return (\n        <skoash.Screen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"ios-splash\"\n            checkComplete={false}\n            completeDelay={6000}\n            nextDelay={3000}\n            completeOnStart\n            hidePrev\n        >\n            <skoash.Image className=\"hidden\" src=\"../shared/images/ios_start_ball.png\" />\n            <skoash.Image className=\"hidden\" src=\"../shared/images/ios_start_ball_anim.gif\" />\n        </skoash.Screen>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/ios_splash_screen/0.1.js","class Loader extends skoash.Component {\n    render() {\n        return (\n            <div id=\"loader\" className=\"center\">\n                <div className=\"group\">\n                    <h2>Loading!</h2>\n                    <div className=\"spinner animated\">\n                        <div className=\"spinner animated\">\n                            <div className=\"spinner animated\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Loader;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/loader/0.1.js","import Selectable from '../selectable/0.1.js';\n\nimport classNames from 'classnames';\n\nclass Menu extends Selectable {\n    constructor() {\n        super();\n\n        this.state = {\n            active: false,\n            selectClass: 'SELECTED',\n            classes: {},\n        };\n    }\n\n    deactivate() {\n        this.setState({\n            active: false,\n        });\n\n        _.each(this.refs, ref => {\n            _.invoke(ref, 'deactivate');\n        });\n    }\n\n    onClick(e) {\n        var li;\n        var ul;\n        var dom;\n        var message;\n        var active = false;\n        var classes = [];\n\n        li = e.target.closest('LI');\n\n        if (!li) return;\n\n        ul = li.closest('UL');\n        dom = ReactDOM.findDOMNode(this); // eslint-disable-line no-undef\n\n        if (ul !== dom) return;\n\n        message = li.getAttribute('data-ref');\n\n        if (this.state.classes[message] !== this.state.selectClass) {\n            classes[message] = this.state.selectClass;\n            active = !this.props.inactive;\n        }\n\n        this.setState({\n            classes,\n            active,\n        });\n    }\n\n    renderItems() {\n        var self = this;\n\n        if (typeof this.props.items !== 'object') return;\n\n        return Object.keys(this.props.items).map((key) => {\n            var item;\n            var onClick;\n            var gotoObj;\n            var categories;\n            var isFinal;\n\n            categories = this.props.categories ? [].concat(this.props.categories) : [];\n            categories.push(key);\n\n            item = this.props.items[key];\n\n            isFinal = (\n          typeof item.items !== 'object' ||\n          (\n            Object.prototype.toString.call(item.items) === '[object Array]' &&\n            item.items[0] && !item.items[0].items\n          )\n        ) || (\n          typeof self.props.lastLevel === 'number' &&\n          self.props.lastLevel === self.props.level\n        );\n\n            if (isFinal) {\n                gotoObj = {\n                    index: 'item-drawer',\n                    categories,\n                    categoryName: item.name,\n                };\n                onClick = skoash.trigger.bind(null, 'goto', gotoObj);\n            }\n\n            return (\n        <skoash.ListItem\n          className={self.getClass(key)}\n          data-ref={key}\n          ref={key}\n          key={key}\n          onClick={onClick}\n        >\n          <span>{item.name || key}</span>\n          {(() => {\n              if (isFinal) return;\n              return (\n              <Menu\n                ref={'menu-' + key}\n                categories={categories}\n                items={item.items}\n                inactive={true}\n                level={(self.props.level || 0) + 1}\n                lastLevel={self.props.lastLevel}\n              />\n            );\n          })()}\n        </skoash.ListItem>\n      );\n        });\n    }\n\n    getClass(key) {\n        return classNames({\n            [key.replace(' ', '-')]: true,\n            [this.state.classes[key] || '']: true,\n        });\n    }\n\n    getClassNames() {\n        return classNames({\n            menu: true,\n            ACTIVE: this.state.active,\n        }, this.props.className);\n    }\n\n    render() {\n        return (\n            <ul\n                className={this.getClassNames()}\n                onClick={this.onClick.bind(this)}\n            >\n                {this.renderItems()}\n            </ul>\n        );\n    }\n}\n\nexport default Menu;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/menu/0.1.js","class QuitScreen extends skoash.Screen {\n    okay() {\n        skoash.trigger('quit');\n    }\n\n    cancel() {\n        this.close();\n        skoash.trigger('menuClose', {\n            id: this.props.id,\n        });\n    }\n\n    renderAssets() {\n        if (this.props.assets) {\n            return this.props.assets.map((asset, key) => {\n                return (\n                    <skoash.Audio\n                        {...asset.props}\n                        ref={asset.ref || asset.props['data-ref'] || ('asset-' + key)}\n                        key={key}\n                        data-ref={key}\n                    />\n                );\n            });\n        }\n\n        return null;\n    }\n\n    render() {\n        return (\n            <div id={this.props.id} className={'screen ' + this.getClassNames()}>\n                {this.renderAssets()}\n                <div className=\"center\">\n                    <div className=\"frame\">\n                        <h2>Are you sure you<br/>want to quit?</h2>\n                        <h3>Your game progress will be saved</h3>\n                        <button className=\"quit-yes\" onClick={this.okay.bind(this)}></button>\n                        <button className=\"quit-no\" onClick={this.cancel.bind(this)}></button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default (\n    <QuitScreen\n        id=\"quit\"\n    />\n);\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/quit_screen/0.1.js","class Repeater extends skoash.Component {\n    renderContentList() {\n        var a = [];\n        for (let i = 0; i < this.props.amount; i++) {\n            a.push(<this.props.item key={i} {...this.props.props[i]} />);\n        }\n        return a;\n    }\n}\n\nRepeater.defaultProps = _.defaults({\n    amount: 1,\n    item: 'div',\n    props: [],\n}, skoash.Component.defaultProps);\n\nexport default Repeater;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/repeater/0.1.js","import classNames from 'classnames';\n\nclass Reveal extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            openReveal: '',\n            currentlyOpen: []\n        };\n\n        this.index = 0;\n    }\n\n    incomplete() {\n        this.setState({\n            openReveal: '',\n            currentlyOpen: []\n        });\n\n        super.incomplete();\n    }\n\n    open(message) {\n        var self = this;\n        var currentlyOpen = this.props.openMultiple ?\n      this.state.currentlyOpen.concat(message) : [message];\n\n        self.setState({\n            open: true,\n            openReveal: message,\n            currentlyOpen,\n        });\n\n        self.playAudio(message);\n\n        if (self.props.completeOnOpen) {\n            self.complete();\n        } else {\n            _.each(self.refs, (ref, key) => {\n                if (ref && key === message) ref.complete();\n            });\n        }\n\n        if (self.props.autoClose) {\n            setTimeout(function () {\n                self.close();\n            }, 2000);\n        }\n\n        if (self.props.openTarget) {\n            self.updateGameState({\n                path: self.props.openTarget,\n                data: {\n                    open: '' + message,\n                    close: false,\n                }\n            });\n        }\n\n        self.props.onOpen.call(self, message);\n    }\n\n    close(opts = {}) {\n        var prevMessage;\n        var currentlyOpen;\n        var openReveal;\n        var open;\n\n        prevMessage = this.state.openReveal;\n        currentlyOpen = this.state.currentlyOpen;\n        currentlyOpen.splice(currentlyOpen.indexOf(prevMessage), 1);\n        open = currentlyOpen.length > 0;\n        openReveal = open ? currentlyOpen[currentlyOpen.length - 1] : '';\n\n        this.setState({\n            open,\n            openReveal,\n            currentlyOpen,\n        });\n\n        if (!opts.silent) this.playMedia('close-sound');\n\n        this.props.onClose.call(this, prevMessage);\n\n        if (typeof this.props.closeRespond === 'function') {\n            this.props.closeRespond(prevMessage);\n        }\n    }\n\n    start() {\n        super.start();\n        if (this.props.openOnStart != null) {\n            this.open(this.props.openOnStart);\n        } else if (this.props.start && typeof this.props.start === 'function') {\n            this.props.start.call(this);\n        } else {\n            this.close({silent: true});\n        }\n    }\n\n    playAudio(message) {\n        var messages;\n\n        message += '';\n\n        this.playMedia('open-sound');\n\n        messages = message.split(' ');\n        messages.map(audio => {\n            this.playMedia(audio);\n        });\n    }\n\n    renderAssets() {\n        if (this.props.assets) {\n            return this.props.assets.map((asset, key) => {\n                var ref = asset.ref || asset.props['data-ref'] || 'asset-' + key;\n                return (\n          <asset.type\n            {...asset.props}\n            data-ref={key}\n            ref={ref}\n            key={key}\n          />\n        );\n            });\n        }\n\n        return null;\n    }\n\n    renderList() {\n        var list = this.props.list;\n\n        return list.map((li, key) => {\n            var ref = li.ref || li.props['data-ref'] || key;\n            return (\n        <li.type\n          {...li.props}\n          type=\"li\"\n          className={this.getClass(li, key)}\n          data-ref={ref}\n          ref={ref}\n          key={key}\n        />\n      );\n        });\n    }\n\n    componentWillReceiveProps(props) {\n        super.componentWillReceiveProps(props);\n\n        if (props.openReveal != null && props.openReveal !== this.props.openReveal) {\n            this.open(props.openReveal);\n        }\n\n        if (props.closeReveal !== this.props.closeReveal) {\n            if (props.closeReveal === true) {\n                this.close();\n            } else if (Number.isInteger(props.closeReveal)) {\n                for (let i = 0; i < props.closeReveal; i++) {\n                    this.close();\n                }\n            }\n        }\n    }\n\n    getClass(li, key) {\n        var classes = '';\n\n        if (li.props.className) classes = li.props.className;\n\n        if (this.state.currentlyOpen.indexOf(key) !== -1 ||\n        this.state.currentlyOpen.indexOf('' + key) !== -1 ||\n        this.state.currentlyOpen.indexOf(li.props['data-ref']) !== -1 ||\n        this.state.currentlyOpen.indexOf(li.ref) !== -1\n    ) {\n            classes = classNames(classes, 'OPEN');\n        }\n\n        return classes;\n    }\n\n    getClassNames() {\n        var classes;\n        var open = 'open-none ';\n\n        if (this.state.open) {\n            open = '';\n            this.state.currentlyOpen.forEach(ref => {\n                open += 'open-' + ref;\n            });\n        }\n\n        classes = classNames(\n      'reveal',\n      open,\n      super.getClassNames(),\n    );\n\n        return classes;\n    }\n\n    render() {\n        return (\n            <div className={this.getClassNames()}>\n                {this.renderAssets()}\n                <div>\n                    <ul>\n                        {this.renderList()}\n                    </ul>\n                    <button className=\"close-reveal\" onClick={this.close.bind(this)}></button>\n                </div>\n            </div>\n        );\n    }\n}\n\nReveal.defaultProps = _.defaults({\n    list: [\n        <li></li>,\n        <li></li>,\n        <li></li>,\n        <li></li>\n    ],\n    openMultiple: true,\n    onOpen: _.noop,\n    onClose: _.noop,\n}, skoash.Component.defaultProps);\n\nexport default Reveal;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/reveal/0.1.js","import Selectable from '../selectable/0.1';\n\nimport classNames from 'classnames';\n\nclass SavedMessages extends Selectable {\n    constructor() {\n        super();\n    }\n\n    selectHelper(e) {\n        var li;\n        var message;\n        var key;\n        var classes = [];\n\n        li = e.target.closest('LI');\n\n        if (!li) return;\n\n        key = li.getAttribute('data-ref');\n\n        message = this.refs[key].props.item;\n        classes[key] = this.state.selectClass;\n\n        this.setState({\n            message,\n            classes,\n        }, this.selectRespond.bind(this));\n    }\n\n    selectRespond() {\n        if (typeof this.props.selectRespond === 'function' && this.state.message) {\n            this.props.selectRespond(this.state.message);\n        }\n    }\n\n    getClass(key) {\n        return classNames({\n            [this.state.classes[key] || '']: true,\n            DRAFT: true,\n        });\n    }\n\n    getClassNames() {\n        return classNames({\n            'item-drawer': true,\n            SAVED: true,\n            COMPLETE: this.state.complete,\n        }, this.props.className);\n    }\n\n    renderThumb(item) {\n        var firstImg;\n        var background;\n\n        background = item && item.rules && item.rules.background &&\n      item.rules.background.src ? item.rules.background.src :\n      '';\n\n        firstImg = item && item.rules && item.rules.items &&\n      item.rules.items[0] && item.rules.items[0].src ?\n      item.rules.items[0].src : (\n        item && item.rules && item.rules.messages &&\n        item.rules.messages[0] && item.rules.messages[0].src ?\n        item.rules.messages[0].src : ''\n      );\n\n        return (\n            <div\n                className=\"thumbnail\"\n                style={{\n                    backgroundImage: `url(${background})`\n                }}\n            >\n                <skoash.Image src={firstImg} />\n            </div>\n        );\n    }\n\n    renderList() {\n        var items;\n        var self = this;\n\n        if (!self.props.data || !self.props.data.items) return;\n\n        items = self.props.data.items;\n\n        if (!items.length) {\n            return (\n                <li className=\"empty\">\n                    {this.props.emptyMessage}\n                </li>\n            );\n        }\n\n        return items.map((item, key) => {\n            var timestamp = moment.utc(item.updated).local();\n            return (\n                <skoash.ListItem\n                    className={self.getClass(key)}\n                    ref={key}\n                    data-ref={key}\n                    item={item}\n                    key={key}\n                >\n                    {self.renderThumb(item)}\n                    <span className=\"timestamp\">\n                        <span className=\"date\">{timestamp.format('MM.DD.YY')}</span>\n                        <span className=\"time\">{timestamp.format('h:mm a')}</span>\n                    </span>\n                </skoash.ListItem>\n            );\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n                    {this.renderList()}\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default SavedMessages;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/saved_messages/0.1.js","import classNames from 'classnames';\n\nconst IMAGE = 'image';\nconst AREA = 'area';\nconst CONTENT = 'content';\nconst SCROLLBAR = 'scrollbar';\nconst SCROLLER = 'scroller';\n\nclass ScrollArea extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = _.defaults({\n            startY: 0,\n            endY: 0,\n            zoom: 1,\n        }, this.state);\n\n        this.setZoom = this.setZoom.bind(this);\n\n        this.mouseDown = this.mouseDown.bind(this);\n        this.mouseUp = this.mouseUp.bind(this);\n\n        this.moveEvent = this.moveEvent.bind(this);\n\n        this.touchStart = this.touchStart.bind(this);\n        this.touchEnd = this.touchEnd.bind(this);\n    }\n\n    start() {\n        super.start(() => {\n            this[AREA].scrollTop = 0;\n            this.setState({\n                startY: 0,\n                endY: 0,\n            });\n        });\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        this.setZoom();\n        window.addEventListener('resize', this.setZoom);\n\n        this[AREA] = ReactDOM.findDOMNode(this.refs[AREA]);\n        this[CONTENT] = ReactDOM.findDOMNode(this.refs[CONTENT]);\n        this[SCROLLBAR] = ReactDOM.findDOMNode(this.refs[SCROLLBAR]);\n        this[SCROLLER] = ReactDOM.findDOMNode(this.refs[SCROLLER]);\n\n        this[AREA].scrollTop = 0;\n\n        this[AREA].addEventListener('scroll', e => {\n            var areaScrollTop;\n            var endY;\n\n            if (!e.target || this.dragging) return;\n\n            areaScrollTop = e.target.scrollTop;\n            endY = (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight) *\n                (areaScrollTop / (this[CONTENT].offsetHeight - this[AREA].offsetHeight));\n\n            this.setState({\n                startY: 0,\n                endY,\n            });\n        });\n\n        this[SCROLLER].addEventListener('mousedown', this.mouseDown);\n        this[SCROLLER].addEventListener('touchstart', this.touchStart);\n    }\n\n    setZoom() {\n        skoash.trigger('getState').then(state => {\n            this.setState({\n                zoom: state.scale,\n            });\n        });\n    }\n\n    mouseDown(e) {\n        this.startEvent(e, this.attachMouseEvents);\n    }\n\n    touchStart(e) {\n        this.startEvent(e, this.attachTouchEvents);\n    }\n\n    startEvent(e, cb) {\n        var startY;\n        var endY;\n\n        if (e.target !== this[SCROLLER]) return;\n\n        this.dragging = true;\n\n        e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\n        endY = this.getEndY(e);\n        startY = this.state.startY || endY;\n\n        this.setState({\n            startY,\n            endY,\n        });\n\n        if (typeof cb === 'function') cb.call(this);\n    }\n\n    getEndY(e) {\n        return Math.min(\n      Math.max(\n        e.pageY / this.state.zoom,\n        this.state.startY\n      ),\n      this.state.startY +\n      this[SCROLLBAR].getBoundingClientRect().height / this.state.zoom -\n      this.props.scrollbarHeight\n    );\n    }\n\n    attachMouseEvents() {\n        window.addEventListener('mousemove', this.moveEvent);\n        window.addEventListener('mouseup', this.mouseUp);\n    }\n\n    attachTouchEvents() {\n        window.addEventListener('touchmove', this.moveEvent);\n        window.addEventListener('touchend', this.touchEnd);\n    }\n\n    moveEvent(e) {\n        var endY;\n\n        e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\n        endY = this.getEndY(e);\n\n        this[AREA].scrollTop = (endY - this.state.startY) *\n      (this[CONTENT].offsetHeight - this[AREA].offsetHeight) /\n      (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight);\n\n        this.setState({\n            endY,\n        });\n    }\n\n    mouseUp() {\n        this.dragging = false;\n        this.detachMouseEvents();\n    }\n\n    touchEnd() {\n        this.dragging = false;\n        this.detachTouchEvents();\n    }\n\n    detachMouseEvents() {\n        window.removeEventListener('mousemove', this.moveEvent);\n        window.removeEventListener('mouseup', this.mouseUp);\n    }\n\n    detachTouchEvents() {\n        window.removeEventListener('touchmove', this.moveEvent);\n        window.removeEventListener('touchend', this.touchEnd);\n    }\n\n    getScrollerStyle() {\n        return {\n            backgroundImage: `url(${this.props.img})`,\n            top: this.state.endY - this.state.startY,\n        };\n    }\n\n    getClassNames() {\n        return classNames('scroll-area', super.getClassNames());\n    }\n\n    render() {\n        if (!this.props.shouldRender) return null;\n\n        return (\n            <this.props.type {...this.props} className={this.getClassNames()}>\n                <skoash.Image ref={IMAGE} className=\"hidden\" src={this.props.img} />\n                <div ref={AREA} className={AREA}>\n                    <div ref={CONTENT} className={CONTENT}>\n                        {this.renderContentList()}\n                    </div>\n                </div>\n                <div\n                    ref={SCROLLBAR}\n                    className={SCROLLBAR}\n                >\n                    <div\n                        ref={SCROLLER}\n                        className={SCROLLER}\n                        style={this.getScrollerStyle()}\n                    />\n                </div>\n            </this.props.type>\n        );\n    }\n}\n\nScrollArea.defaultProps = _.defaults({\n    img: '',\n    scrollbarHeight: 100,\n}, skoash.Component.defaultProps);\n\nexport default ScrollArea;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/scroll_area/0.1.js","import Selectable from 'shared/components/selectable/0.1.js';\nimport Reveal from 'shared/components/reveal/0.1.js';\n\nclass SelectableReveal extends skoash.Component {\n    constructor() {\n        super();\n    }\n\n    start() {\n        super.start();\n        this.setState({\n            canSelectOnStart: this.props.canSelectOnStart\n        });\n    }\n\n    open(message) {\n        this.refs.reveal.open(message);\n    }\n\n    selectRespond(message) {\n        if (this.props.answers.length) {\n            if (this.props.answers.indexOf(message) === -1) {\n                this.playMedia('incorrect');\n                if (this.props.revealAll) {\n                    if (typeof this.refs.reveal.open === 'function') {\n                        this.open(message);\n                    }\n                }\n            } else {\n                this.playMedia('correct');\n                if (typeof this.refs.reveal.open === 'function') {\n                    this.open(message);\n                }\n            }\n        } else {\n            if (this.props.allCorrect) this.playMedia('correct');\n            if (typeof this.refs.reveal.open === 'function') {\n                this.open(message);\n            }\n        }\n    }\n\n    closeRespond() {\n        if (typeof this.props.closeRespond === 'function') {\n            this.props.closeRespond();\n        }\n    }\n\n    renderAssets() {\n        if (this.props.assets) {\n            return this.props.assets.map((asset, key) => {\n                return (\n                    <skoash.Audio\n                        {...asset.props}\n                        ref={asset.ref || asset.props['data-ref'] || ('asset-' + key)}\n                        key={key}\n                        data-ref={key}\n                    />\n                );\n            });\n        }\n\n        return null;\n    }\n\n    renderSelectable() {\n        return (\n            <Selectable\n                ref=\"selectable\"\n                list={this.props.selectableList}\n                selectRespond={this.selectRespond.bind(this)}\n                selectClass={this.props.selectableSelectClass}\n                completeOnSelect={this.props.selectableCompleteOnSelect}\n                checkComplete={this.props.selectableCheckComplete}\n                randomizeList={this.props.randomizeSelectableList}\n                selectOnStart={this.props.selectOnStart}\n                chooseOne={this.props.chooseOne}\n                answers={this.props.answers}\n                allowDeselect={this.props.allowDeselect}\n            />\n        );\n    }\n\n    renderReveal() {\n        return (\n            <Reveal\n                ref=\"reveal\"\n                list={this.props.revealList}\n                assets={this.props.revealAssets}\n                closeRespond={this.closeRespond.bind(this)}\n                completeOnOpen={this.props.revealCompleteOnOpen}\n                checkComplete={this.props.revealCheckComplete}\n                openOnStart={this.props.openOnStart}\n                hide={this.props.hideReveal}\n                openReveal={this.props.openReveal}\n                onOpen={this.props.onOpen}\n                openMultiple={false}\n            />\n        );\n    }\n\n    getClasses() {\n        var classes = '';\n\n        if (this.state.complete) classes += ' COMPLETE';\n\n        return classes;\n    }\n\n    render() {\n        return (\n            <div className={'selectable-reveal' + this.getClasses()}>\n                {this.renderAssets()}\n                {this.renderSelectable()}\n                {this.renderReveal()}\n            </div>\n        );\n    }\n}\n\nSelectableReveal.defaultProps = _.defaults({\n    answers: [],\n    canSelectOnStart: true\n}, skoash.Component.defaultProps);\n\nexport default SelectableReveal;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/selectable_reveal/0.1.js","window.ENVIRONMENT = {\n    MEDIA: 'https://media.changemyworldnow.com/f/'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./shared/js/prod-variables.js","import Canvas from 'shared/components/canvas/0.1';\nimport Menu from 'shared/components/menu/0.1';\nimport Selectable from 'shared/components/selectable/0.1';\n// import Reveal from 'shared/components/reveal/0.1';\n\nimport classNames from 'classnames';\n\nclass CanvasScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state = {\n            load: true,\n            menu: {},\n            valid: true,\n        };\n\n        this.rightMenuList = [\n            <li className=\"preview\" onClick={this.preview.bind(this)}>\n                <span />\n            </li>,\n            <li className=\"send\" onClick={this.send.bind(this)}>\n                <span />\n            </li>\n        ];\n\n        this.setValid = this.setValid.bind(this);\n        this.closeReveal = this.closeReveal.bind(this);\n        this.setHasAssets = this.setHasAssets.bind(this);\n    }\n\n    getData() {\n        return this.refs.canvas.getItems();\n    }\n\n    reset() {\n        this.refs.canvas.reset();\n        this.setState({\n            background: false,\n            hasAssets: false,\n        });\n    }\n\n    addItem(message) {\n        if (message) {\n            this.setState({\n                hasAssets: true,\n                background: this.state.background ||\n              message.asset_type === 'background',\n            });\n            this.refs.canvas.addItem(message, () => {\n                skoash.trigger('save');\n            });\n        }\n    }\n\n    addItems(message) {\n        var hasAssets;\n        var background;\n\n        hasAssets = true;\n        background = !!message.rules.background;\n\n        this.mapRulesStringToNumbers(message.rules);\n\n        this.refs.canvas.setItems(message.rules);\n\n        this.setState({\n            hasAssets,\n            background,\n        });\n\n        if (message.friend_to) {\n            skoash.trigger('passData', {\n                name: 'add-recipient',\n                message: message.friend_to\n            });\n        }\n    }\n\n    setMenu() {\n        var menu;\n        var state = this.props.gameState;\n\n        if (state && state.data && state.data.menu) {\n            menu = state.data.menu;\n            this.setState({\n                menu,\n            });\n        }\n    }\n\n    mapRulesStringToNumbers(rules) {\n        if (!rules) return;\n\n        if (_.isArray(rules.items)) {\n            rules.items.forEach(item => {\n                item.state.left = parseFloat(item.state.left);\n                item.state.rotation = parseFloat(item.state.rotation);\n                item.state.scale = parseFloat(item.state.scale);\n                item.state.top = parseFloat(item.state.top);\n            });\n        }\n\n        if (_.isArray(rules.messages)) {\n            rules.messages.forEach(message => {\n                message.state.left = parseFloat(message.state.left);\n                message.state.rotation = parseFloat(message.state.rotation);\n                message.state.scale = parseFloat(message.state.scale);\n                message.state.top = parseFloat(message.state.top);\n            });\n        }\n\n        return rules;\n    }\n\n    open(opts = {}) {\n        this.setMenu();\n\n        if (this.refs && this.refs.menu) {\n            this.refs.menu.deactivate();\n        }\n\n        if (!opts.draft) skoash.trigger('save');\n\n        super.open();\n    }\n\n    close() {\n        skoash.trigger('save');\n        super.close();\n    }\n\n    setValid(valid) {\n        this.setState({\n            valid\n        });\n    }\n\n    setHasAssets(hasAssets) {\n        this.setState({\n            hasAssets\n        });\n    }\n\n    send() {\n        if (!this.state.valid) return;\n        this.goto('send');\n    }\n\n    preview() {\n        if (!this.state.valid) return;\n        this.goto('preview');\n    }\n\n    closeReveal() {\n        if (this.refs && this.refs.reveal) {\n            this.refs.reveal.close();\n        }\n    }\n\n    getContainerClasses() {\n        return classNames({\n            'canvas-container': true,\n            BACKGROUND: this.state.background,\n        });\n    }\n\n    getClassNames() {\n        return classNames({\n            'HAS-ASSETS': this.state.hasAssets,\n            'INVALID': !this.state.valid,\n        }, skoash.Screen.prototype.getClassNames.call(this));\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <skoash.Image className=\"hidden\" src=\"media/_Frames/SK_frames_canvas.png\" />\n                <skoash.Image className=\"hidden\" src=\"media/_Buttons/SK_btn_friend.png\" />\n                <Menu\n                      ref={'menu'}\n                      items={this.state.menu.items}\n                      level={0}\n                      lastLevel={1}\n                />\n                <div className={this.getContainerClasses()}>\n                      <Canvas\n                            ref={'canvas'}\n                            setValid={this.setValid}\n                            setHasAssets={this.setHasAssets}\n                            itemMinDim={150}\n                      />\n                </div>\n                <Selectable className=\"menu right-menu\" list={this.rightMenuList} />\n            </div>\n        );\n        // move this back up below the Selectable when there is an instructional help video\n        /*\n            <Reveal\n              ref=\"reveal\"\n              openOnStart=\"0\"\n              list={[\n                <li>\n                  <skoash.Image className=\"otter\" src={'media/_Otter/joyful-otter_2.gif'} />\n                  <div className=\"bubble\">\n                    Welcome to your canvas!<br/><br/>\n                    Would you like me<br/>\n                    to show you around?\n                    <div className=\"buttons\">\n                      <button\n                        className=\"yes\"\n                        onClick={skoash.trigger.bind(null, 'openMenu', {id: 'help'})}\n                      />\n                      <button\n                        className=\"no\"\n                        onClick={this.closeReveal}\n                      />\n                    </div>\n                  </div>\n                </li>\n              ]}\n            />\n        */\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <CanvasScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"canvas\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/canvas_screen.js","import classNames from 'classnames';\n\nclass CollisionWarning extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.cancel = this.cancel.bind(this);\n        this.toggle = this.toggle.bind(this);\n    }\n\n    cancel() {\n        this.close();\n        skoash.trigger('menuClose', {\n            id: this.props.id,\n        });\n    }\n\n    toggle() {\n        this.updateGameState({\n            path: ['collisionWarning'],\n            data: {\n                show: !_.get(this.props.gameState, 'data.collisionWarning.show')\n            }\n        });\n    }\n\n    getToggleClassNames() {\n        return classNames('toggle-collision-warning', {\n            active: !_.get(this.props.gameState, 'data.collisionWarning.show')\n        });\n    }\n\n    render() {\n        return (\n            <div id={this.props.id} className={this.getClassNames()}>\n                <div className=\"center\">\n                    <div className=\"frame\">\n                        <skoash.Image\n                            className=\"copy\"\n                            src=\"media/_CollisionWarning/text-youmustnotoverlapimgs.png\"\n                        />\n                        <button className={this.getToggleClassNames()} onClick={this.toggle}></button>\n                        <button className=\"close-collision-warning\" onClick={this.cancel}></button>\n                        <skoash.Image\n                            className=\"otter\"\n                            src=\"media/_CollisionWarning/Peeking-through-Otter.gif\"\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default (\n    <CollisionWarning\n        id=\"collisionWarning\"\n        load\n    />\n);\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/collision_warning.js","import ItemDrawer from 'shared/components/item_drawer/0.1.js';\n\nconst DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\nclass FriendScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state = {\n            load: true,\n            complete: true,\n            recipient: {},\n            opts: {},\n        };\n    }\n\n    selectRespond(message) {\n        skoash.trigger('passData', {\n            name: 'add-recipient',\n            goto: this.state.opts.goto,\n            message\n        });\n    }\n\n    updateData(d) {\n        var data = d && d.user ? d.user : this.props.gameState.data.user || [];\n\n        data = data.map(friend => {\n            var src = friend._embedded.image && friend._embedded.image.url ?\n                friend._embedded.image.url :\n                DEFAULT_PROFILE_IMAGE;\n            return {\n                'user_id': friend.friend_id,\n                name: friend.username,\n                src,\n                // I need to get the flips earned back from the backend to do this.\n                description: '',\n                // description: friend.flips_earned + ' Flips Earned',\n                'asset_type': 'friend',\n            };\n        });\n\n        this.setState({\n            data,\n        });\n    }\n\n    open(opts) {\n        var recipient;\n        var self = this;\n\n        self.updateData();\n\n        skoash.trigger('getData', {\n            name: 'getFriends'\n        }).then(data => {\n            self.updateData.call(self, data);\n        });\n\n        recipient = self.props.gameState.recipient;\n\n        self.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n            recipient,\n            opts,\n        }, () => {\n            self.refs.drawer && self.refs.drawer.start();\n        });\n\n        if (!self.state.started) {\n            self.start();\n        }\n    }\n\n    suggestFriends() {\n        window.open(\n            window.location.origin\n            .replace('games-', '')\n            .replace('games.', '') +\n            '/friends/suggested'\n        );\n    }\n\n    save() {\n        skoash.trigger('goto', {\n            index: 'canvas',\n        });\n        skoash.trigger('openMenu', {id: 'save'});\n    }\n\n    renderOtter() {\n        var copy;\n        var src;\n        var imageSrc;\n\n        src = 'One';\n        imageSrc = 'media/_Otter/Otter_Static_GreetingOne.png';\n        copy = (\n            <span>\n                Don't have<br/>\n                friends yet?<br/><br/>\n                Let me suggest<br/>\n                some for you.\n            </span>\n        );\n\n        if (this.state.data && this.state.data.length) {\n            src = 'Two';\n            imageSrc = 'media/_Otter/Open-wide-Otter2.gif';\n            copy = (\n                <span>\n                    Let me find a friend<br/>\n                    to send your message to.\n                </span>\n            );\n        }\n\n        return (\n            <div className={'otter-container ' + src}>\n                <skoash.Image className=\"otter\" src={imageSrc} />\n                <div className=\"bubble\">\n                    {copy}\n                </div>\n            </div>\n        );\n    }\n\n    renderFriends() {\n        if (this.state.data && this.state.data.length) {\n            return (\n                <ItemDrawer\n                    ref=\"drawer\"\n                    scrollbarImg=\"./media/_Buttons/sk_btn_slider.png\"\n                    selectRespond={this.selectRespond.bind(this)}\n                    cancelRespond={this.back}\n                    categories={this.state.opts.categories}\n                    data={this.state.data}\n                    selectedItem={this.state.recipient}\n                    buttons={this.buttons}\n                    completeOnStart={true}\n                    checkComplete={false}\n                    className={'goto-' + this.state.opts.goto}\n                />\n            );\n        }\n\n        return (\n            <div className={'goto-' + this.state.opts.goto}>\n                <div className=\"item-drawer-container\">\n                    <div className=\"suggest-friends-buttons\">\n                        <button className=\"continue\" onClick={this.selectRespond.bind(this, {})} />\n                        <button className=\"suggest\" onClick={this.suggestFriends} />\n                        <button className=\"save-to-drafts\" onClick={this.save} />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <div className=\"header\" />\n                {this.renderOtter()}\n                {this.renderFriends()}\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <FriendScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"friends\"\n            completeOnStart\n            checkComplete={false}\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/friend_screen.js","import SelectableReveal from '../../shared/components/selectable_reveal/0.1.js';\nimport Inbox from '../../shared/components/inbox/0.1.js';\nimport SavedMessages from '../../shared/components/saved_messages/0.1.js';\n\nconst inboxEmptyMessage = (\n    <span>\n        You haven't received any Skribbles!<br/>\n        Get started by sending some!\n    </span>\n);\nconst unreadEmptyMessage = (\n    <span>\n        You don't have any<br/>\n        unread Skribbles!\n    </span>\n);\nconst readEmptyMessage = (\n    <span>\n        You don't have any<br/>\n        read Skribbles!\n    </span>\n);\nconst sentEmptyMessage = (\n    <span>\n        You haven't sent any Skribbles.<br/>\n        Let's get started!\n    </span>\n);\nconst draftsEmptyMessage = (\n    <span>\n        You don't have any drafts.<br/>\n        Start Skribbling!\n    </span>\n);\n\n\nclass InboxScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state = {\n            load: true,\n        };\n\n        this.selectableList = [\n            <li />,\n            <li />,\n            <li />,\n            <li />,\n            <li />,\n        ];\n\n        this.revealList = this.getRevealList();\n\n        this.readMessage = this.readMessage.bind(this);\n        this.editMessage = this.editMessage.bind(this);\n    }\n\n    getRevealList(inbox, outbox, saved) {\n        var read;\n        var unread;\n        var props = this.props || {};\n\n        inbox = inbox || this.state.inbox || [];\n\n        read = inbox.filter(item => {\n            return item.read;\n        });\n\n        unread = inbox.filter((item) => {\n            return !item.read;\n        });\n\n        outbox = outbox || this.state.outbox || [];\n        saved = saved || this.state.saved || [];\n\n        return [\n            <li>\n                <Inbox\n                    data-ref=\"inbox\"\n                    data={{\n                        items: inbox,\n                    }}\n                    emptyMessage={inboxEmptyMessage}\n                    selectRespond={this.readMessage}\n                    gameState={props.gameState}\n                />\n            </li>,\n            <li>\n                <Inbox\n                    data-ref=\"unread\"\n                    data={{\n                        items: unread,\n                    }}\n                    emptyMessage={unreadEmptyMessage}\n                    selectRespond={this.readMessage}\n                    gameState={props.gameState}\n                />\n            </li>,\n            <li>\n                <Inbox\n                    data-ref=\"read\"\n                    data={{\n                        items: read,\n                    }}\n                    emptyMessage={readEmptyMessage}\n                    selectRespond={this.readMessage}\n                    gameState={props.gameState}\n                />\n            </li>,\n            <li>\n                <Inbox\n                    data-ref=\"outbox\"\n                    data={{\n                        items: outbox,\n                    }}\n                    emptyMessage={sentEmptyMessage}\n                    friendKey=\"friend_to\"\n                    selectRespond={this.readMessage}\n                    gameState={props.gameState}\n                />\n            </li>,\n            <li>\n                <SavedMessages\n                    data-ref=\"saved\"\n                    data={{\n                        items: saved,\n                    }}\n                    emptyMessage={draftsEmptyMessage}\n                    selectRespond={this.editMessage}\n                />\n            </li>,\n        ];\n    }\n\n    editMessage(message) {\n        skoash.trigger('loadSkribble', {\n            message,\n        });\n    }\n\n    readMessage(message) {\n        skoash.trigger('goto', {\n            index: 'read',\n            message,\n        });\n    }\n\n    updateData() {\n        var skribbles;\n        var inbox;\n        var outbox;\n        var saved;\n\n        skribbles = this.props.gameState.data.skribbles;\n        inbox = skribbles.received;\n        outbox = skribbles.sent;\n        saved = skribbles.draft;\n\n        this.revealList = this.getRevealList(inbox, outbox, saved);\n\n        this.setState({\n            inbox,\n            outbox,\n            saved,\n        });\n    }\n\n    updateGameData(data, status) {\n        var opts = {\n            path: ['skribbles'],\n            data: {\n                [status]: data.skribble\n            },\n            callback: () => {\n                this.updateData();\n            }\n        };\n        this.updateGameState(opts);\n    }\n\n    open() {\n        var self = this;\n\n        skoash.trigger('getData', {\n            status: 'received',\n        }).then(data => {\n            self.updateGameData(data, 'received');\n        });\n\n        skoash.trigger('getData', {\n            status: 'sent',\n        }).then(data => {\n            self.updateGameData(data, 'sent');\n        });\n\n        skoash.trigger('getData', {\n            status: 'draft',\n        }).then(data => {\n            self.updateGameData(data, 'draft');\n        });\n\n        self.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n        });\n\n        setTimeout(() => {\n            if (!self.state.started) {\n                self.start();\n            }\n        }, 250);\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <div className=\"center\">\n                    <div className=\"frame\">\n                        <SelectableReveal\n                            ref={'selectableReveal'}\n                            selectableList={this.selectableList}\n                            revealList={this.revealList}\n                            selectOnStart={'0'}\n                            openOnStart={'0'}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <InboxScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"inbox\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/inbox_screen.js","import ItemDrawer from '../../shared/components/item_drawer/0.1.js';\n\nclass ItemDrawerScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state = {\n            opts: {\n                categories: [],\n            },\n        };\n\n    }\n\n    selectRespond(message) {\n        skoash.trigger('passData', {\n            name: 'add-item',\n            message\n        });\n    }\n\n    updateData(d) {\n        var data = d ? d : this.props.gameState.data.menu.items;\n\n        this.state.opts.categories.forEach(key => {\n            if (data[key]) data = data[key];\n            if (data.items) data = data.items;\n        });\n\n        data = _.values(data);\n\n        this.setState({\n            data,\n        });\n    }\n\n    open(opts) {\n        this.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n            opts,\n            data: null\n        }, () => {\n            this.updateData();\n        });\n\n        setTimeout(() => {\n            if (!this.state.started) this.start();\n        }, 250);\n    }\n\n    cancelRespond() {\n        if (this.state.category) {\n            this.setState({\n                category: '',\n                categoryName: '',\n            });\n        } else {\n            skoash.trigger('goto', {index: 'canvas'});\n        }\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <ItemDrawer\n                    ref=\"drawer\"\n                    scrollbarImg=\"./media/_Buttons/sk_btn_slider.png\"\n                    selectRespond={this.selectRespond.bind(this)}\n                    cancelRespond={this.cancelRespond}\n                    categories={this.state.opts.categories}\n                    categoryName={this.state.opts.categoryName}\n                    data={this.state.data}\n                />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <ItemDrawerScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"item-drawer\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/item_drawer_screen.js","export default (\n    <skoash.Screen\n        id=\"limitWarning\"\n        load\n        hidePrev\n        hideNext\n    >\n        <skoash.Image className=\"hidden\" src={ENVIRONMENT.MEDIA + 'a479811171cf084bf86af4eac1f6dc28.png'} />\n        <skoash.Image className=\"hidden\" src={ENVIRONMENT.MEDIA + '027b30f0d279ef41cd30eff22323051c.png'} />\n        <skoash.Image className=\"otter\" src={ENVIRONMENT.MEDIA + 'e7c3a0ab64b457334e7be868609ee512.png'} />\n        <skoash.Image className=\"sign\" src={ENVIRONMENT.MEDIA + '7434453a4692d4be9e898b6b8787c108.png'} />\n        <div>\n            WARNING:<br/>\n            You have exceeded the number of times<br/>\n            you can use this item in your message.<br/>\n            Please press ok to continue game.\n        </div>\n        <button\n            onClick={function () {\n                skoash.trigger('menuClose', {\n                    id: 'limitWarning',\n                });\n            }}\n        />\n    </skoash.Screen>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/limit_warning.js","class MenuScreen extends skoash.Screen {\n    renderContent() {\n        return (\n            <div>\n                <skoash.Image className=\"hidden\" src=\"media/_Background/SK_BKG_1.png\" />\n                <skoash.Image className=\"otter\" src=\"media/_Otter/Waving_Otter2.gif\" />\n                <div className=\"bubble\">\n                    Hi there!<br/>\n                    What would you<br/>\n                    like to do today?\n                </div>\n                <div className=\"buttons\">\n                    <button className=\"make\" onClick={this.goto.bind(this, {\n                        index: 'friend',\n                        goto: 'canvas',\n                    })} />\n                    <button className=\"read\" onClick={this.goto.bind(this, 'inbox')} />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <MenuScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"menu\"\n            hidePrev\n            hideNext\n            load\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/menu_screen.js","import Canvas from 'shared/components/canvas/0.1';\nimport Selectable from 'shared/components/selectable/0.1.js';\nimport Repeater from 'shared/components/repeater/0.1.js';\n\nconst classNameText = {\n    skribbleBox: 'skribble-box',\n    box: 'box',\n    leftMenu: 'menu left-menu',\n    rightMenu: 'menu right-menu',\n};\n\nconst refs = {\n    box: 'box',\n    canvas: 'canvas'\n};\n\nclass PreviewScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state = {\n            load: true,\n            opts: {},\n        };\n\n        this.leftMenuList = [\n            <li className=\"edit\" onClick={this.goto.bind(this, 'canvas')}>\n                <span />\n            </li>,\n        ];\n\n        this.rightMenuList = [\n            <li className=\"send\" onClick={this.goto.bind(this, 'send')}>\n                <span />\n            </li>\n        ];\n    }\n\n    open(opts) {\n        skoash.trigger('getRules').then(rules => {\n            this.refs[refs.box].refs[refs.canvas].setItems(rules);\n            super.open(opts);\n        });\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <skoash.Component ref={refs.box} className={classNameText.skribbleBox}>\n                    <Canvas ref={refs.canvas} preview />\n                    <Repeater\n                        className=\"sparkles\"\n                        amount={40}\n                    />\n                    <div className={classNameText.box} />\n                </skoash.Component>\n                <Selectable className={classNameText.leftMenu} list={this.leftMenuList} />\n                <Selectable className={classNameText.rightMenu} list={this.rightMenuList} />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <PreviewScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"preview\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/preview_screen.js","import classNames from 'classnames';\n\nimport Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n    skribbleBox: 'skribble-box',\n    box: 'box',\n    leftMenu: 'menu left-menu',\n    rightMenu: 'menu right-menu',\n    sender: 'menu recipient sender',\n};\n\nconst refs = {\n    box: 'box',\n};\n\nclass ReadScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state.load = true;\n        this.state.message = {user: {}};\n\n        this.leftMenuList = [\n            <li className=\"inbox\" onClick={this.goto.bind(this, 'inbox')}>\n                <span />\n            </li>\n        ];\n\n        this.rightMenuList = [\n            <li className=\"reply\" onClick={this.reply.bind(this)}>\n                <span />\n            </li>\n        ];\n    }\n\n    reply() {\n        skoash.trigger('passData', {\n            name: 'add-recipient',\n            message: this.state.message.created_by,\n        });\n    }\n\n    open(opts) {\n        var message;\n        var friends;\n        var creater;\n\n        message = opts.message || {};\n\n        friends = this.props.gameState.data.user || [];\n        friends.forEach(friend => {\n            if (message.created_by === friend.friend_id) {\n                creater = friend;\n            }\n        });\n\n        this.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n            message,\n            creater\n        });\n\n        this.start();\n\n        skoash.trigger('getData', {\n            name: 'markAsRead',\n            'skribble_id': message.skribble_id,\n        });\n    }\n\n    getSenderClassNames() {\n        return classNames(\n      classNameText.sender, {\n          HIDE: !this.state.creater || this.state.message.sent\n      }\n    );\n    }\n\n    renderSender() {\n        var creater;\n        var content = [];\n\n        creater = this.state.creater;\n\n        if (!creater) return;\n\n        if (creater.username) {\n            content.push(<span className=\"name\">{creater.username}</span>);\n        }\n\n        if (creater._embedded.image) {\n            content.push(<img className=\"profile-image\" src={creater._embedded.image.url} />);\n        }\n\n        return content;\n    }\n\n    renderBoxContent() {\n        var url = _.get(this.state, 'message.url');\n\n        if (!url) return null;\n\n        return [\n            <skoash.Image src={this.state.message.url} />,\n            <div className={classNameText.box} />,\n        ];\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <ul className={this.getSenderClassNames()}>\n                    <li>\n                        <span>\n                            {this.renderSender()}\n                        </span>\n                    </li>\n                </ul>\n                <skoash.Component ref={refs.box} className={classNameText.skribbleBox}>\n                    {this.renderBoxContent()}\n                </skoash.Component>\n                <Selectable className={classNameText.leftMenu} list={this.leftMenuList} />\n                <Selectable className={classNameText.rightMenu} list={this.rightMenuList} />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <ReadScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"read\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/read_screen.js","class SaveMenu extends skoash.Screen {\n    cancel() {\n        this.close();\n        skoash.trigger('menuClose', {\n            id: this.props.id,\n        });\n    }\n\n    render() {\n        return (\n            <div id={this.props.id} className={this.getClassNames()}>\n                <div className=\"center\">\n                    <div className=\"frame\">\n                        <button className=\"quit-saved\" onClick={this.cancel.bind(this)}></button>\n                        <h2>Your progress</h2>\n                        <h2>has been saved</h2>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default (\n    <SaveMenu\n        id=\"save\"\n        load\n    />\n);\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/save_menu.js","import Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n    yourMessageTo: 'your-message-to',\n    isReady: 'is-ready',\n    changeFriend: 'change-friend',\n    character: 'character',\n    gift: 'gift',\n    header: 'header',\n    username: 'username',\n};\n\nclass SendScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state.load = true;\n        this.state.recipient = {};\n\n        this.rightMenuList = [\n            <li className=\"edit-right\" onClick={this.goto.bind(this, 'canvas')}>\n                <span />\n            </li>,\n            <li className=\"send\" onClick={this.send}>\n                <span />\n            </li>\n        ];\n    }\n\n    open() {\n        var recipient = this.props.gameState.recipient || {};\n\n        this.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n            recipient\n        });\n\n        this.start();\n    }\n\n    send() {\n        skoash.trigger('passData', {\n            name: 'send',\n        });\n    }\n\n    renderContent() {\n        var changeFriendClick = this.goto.bind(this, {\n            index: 'friend',\n            goto: 'send',\n        });\n\n        return (\n            <div>\n                <div className={classNameText.header}>\n                    <span className={classNameText.yourMessageTo} />\n                    <span className={classNameText.username}>{this.state.recipient.name}</span>\n                    <br/>\n                    <span className={classNameText.isReady} />\n                    <button className={classNameText.changeFriend} onClick={changeFriendClick} />\n                </div>\n                <div className={classNameText.character}>\n                    <skoash.Image className=\"otter\" src=\"media/_Otter/proud-of-you2.gif\" />\n                    <div className=\"bubble\">\n                        Are you sure<br/>\n                        you are ready to<br/>\n                        send your message?\n                    </div>\n                </div>\n                <div className={classNameText.gift} />\n                <Selectable className=\"menu right-menu\" list={this.rightMenuList} />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <SendScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"send\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/send_screen.js","const classNameText = {\n    character: 'character',\n    header: 'header',\n    yourMessageTo: 'your-message-to',\n    username: 'username',\n    isReady: 'is-ready',\n    buttons: 'buttons',\n    createAnother: 'create-another',\n    inbox: 'inbox',\n};\n\nconst text = {\n    yourMessageTo: 'YOUR MESSAGE TO:',\n    hasBeenSent: 'IS BEING SENT!',\n};\n\nclass SentScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state = {\n            load: true,\n            opts: {\n                recipient: {}\n            },\n        };\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <div className={classNameText.character} />\n                <div className={classNameText.header}>\n                    <span className={classNameText.yourMessageTo}>{text.yourMessageTo}</span>\n                    <span className={classNameText.username}>{this.state.opts.recipient.name}</span>\n                    <br/>\n                    <span className={classNameText.isReady}>{text.hasBeenSent}</span>\n                </div>\n                <div className={classNameText.buttons}>\n                    <button\n                        className={classNameText.createAnother}\n                        onClick={this.goto.bind(this, 'friend')}\n                    />\n                    <button\n                        className={classNameText.inbox}\n                        onClick={this.goto.bind(this, 'inbox')}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <SentScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"sent\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/sent_screen.js","export default function (props, ref, key) {\n    return (\n        <skoash.Screen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"title\"\n            hidePrev\n            nextDelay={1000}\n            nextIndex=\"menu\"\n        >\n            <skoash.Image\n                ref=\"title\"\n                className=\"title animated\"\n                src=\"media/_Title/SKribble_title.png\"\n            />\n            <skoash.Image\n                ref=\"play\"\n                className=\"hidden\"\n                src=\"media/_Buttons/skribble-play-01.png\"\n            />\n            <skoash.Image\n                ref=\"play-hover\"\n                className=\"hidden\"\n                src=\"media/_Buttons/skribble-hover.png\"\n            />\n        </skoash.Screen>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/title_screen.js","var config = {\n    id: 'skribble',\n    version: 1,\n    skoash: '1.0.5',\n    dimensions: {\n        width: 1600,\n        ratio: 16 / 9\n    },\n};\n\nexport default config;\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/config.game.js","import config from './config.game';\n\nimport Loader from 'shared/components/loader/0.1';\n\nimport iOSScreen from 'shared/components/ios_splash_screen/0.1';\nimport TitleScreen from './components/title_screen';\nimport MenuScreen from './components/menu_screen';\nimport FriendScreen from './components/friend_screen';\nimport CanvasScreen from './components/canvas_screen';\nimport ItemDrawerScreen from './components/item_drawer_screen';\nimport InboxScreen from './components/inbox_screen';\nimport PreviewScreen from './components/preview_screen';\nimport SendScreen from './components/send_screen';\nimport SentScreen from './components/sent_screen';\nimport ReadScreen from './components/read_screen';\n\nimport QuitScreen from 'shared/components/quit_screen/0.1';\nimport SaveMenu from './components/save_menu';\nimport CollisionWarning from './components/collision_warning';\nimport LimitWarning from './components/limit_warning';\n\nvar Skribble;\n\nconst DEFAULT_PROFILE_IMAGE = '';\n\nclass SkribbleGame extends skoash.Game {\n    getRules(opts = {}) {\n        if (typeof opts.respond === 'function') {\n            return opts.respond(this.refs['screen-canvas'].getData());\n        }\n        return this.refs['screen-canvas'].getData();\n    }\n\n    save(skramble) {\n        /* eslint-disable camelcase */\n        var friend_to;\n        var rules;\n        var skribble;\n        var self = this;\n        friend_to = self.state.recipient && self.state.recipient.user_id ?\n            self.state.recipient.user_id : null;\n        rules = self.getRules();\n        skribble = {\n            'version': config.version,\n            ...self.state.skribbleData,\n            friend_to,\n            skramble,\n            rules\n        };\n\n        if (!rules.background && !rules.items.length && !rules.messages.length) {\n            return;\n        }\n\n        if (JSON.stringify(skribble) !== JSON.stringify(this.state.skribble)) {\n            self.emit({\n                name: 'saveSkribble',\n                game: self.config.id,\n                skribble,\n            }).then(skribbleData => {\n                self.setState({\n                    skribbleData,\n                    skribble\n                });\n            });\n        }\n        /* eslint-enable camelcase */\n    }\n\n    send() {\n        this.save(true);\n\n        this.refs['screen-canvas'].reset();\n        this.navigator.goto({\n            index: 'sent',\n            recipient: this.state.recipient,\n        });\n\n        this.setState({\n            recipient: null,\n            skribbleData: null,\n        });\n    }\n\n    loadSkribble(opts) {\n        this.setState({\n            skribbleData: opts.message\n        }, () => {\n            this.refs['screen-canvas'].addItems(opts.message);\n            this.navigator.goto({\n                index: 'canvas',\n                draft: true,\n            });\n        });\n    }\n\n    getMedia(path) {\n        var pathArray;\n        var self = this;\n\n        if (typeof path === 'object') path = path.path;\n        path = path || 'skribble/menu';\n        pathArray = path.split('/');\n        pathArray.shift();\n\n        return self.eventManager.emit({\n            name: 'getMedia',\n            path\n        }).then(d => {\n            var opts;\n            var currentOpts;\n            opts = {\n                data: {},\n                callback: () => {\n                    self.refs['screen-canvas'].setMenu();\n                    self.refs['screen-item-drawer'].updateData();\n                }\n            };\n            currentOpts = opts.data;\n\n            pathArray.forEach((key, index) => {\n                currentOpts[key] = {\n                    items: {}\n                };\n                if (index !== pathArray.length - 1) {\n                    currentOpts = currentOpts[key].items;\n                }\n            });\n\n            currentOpts[pathArray[pathArray.length - 1]] = _.clone(d);\n            currentOpts[pathArray[pathArray.length - 1]].items = {};\n\n            if (d.items) {\n                d.items.forEach(item => {\n                    if (item.asset_type === 'folder' && item.name) {\n                        self.getMedia(path + '/' + item.name);\n                    }\n                    currentOpts[pathArray[pathArray.length - 1]].items[item.name] = item;\n                });\n            }\n            self.updateData(opts);\n        });\n    }\n\n    showCollisionWarning() {\n        if (!this.state.data.collisionWarning.show) return;\n        this.navigator.openMenu({id: 'collisionWarning'});\n    }\n\n    showLimitWarning() {\n        this.navigator.openMenu({id: 'limitWarning'});\n    }\n\n    addRecipient(recipient, cb) {\n        var src;\n\n        if (recipient.src) {\n            recipient.profile_image = recipient.src; // eslint-disable-line camelcase\n        } else if (typeof recipient === 'string') {\n            if (this.state.data && this.state.data.user) {\n                this.state.data.user.some(friend => {\n                    if (friend.friend_id === recipient) {\n                        recipient = friend;\n                        return true;\n                    }\n                    return false;\n                });\n            }\n        }\n\n        if (typeof recipient === 'string') {\n            this.getData({\n                name: 'getFriend',\n                'friend_id': recipient,\n                callback: () => {\n                    this.addRecipient(recipient, cb);\n                }\n            });\n        } else {\n            src = recipient && recipient._embedded && recipient._embedded.image &&\n                recipient._embedded.image.url ?\n                recipient._embedded.image.url :\n                recipient.profile_image || DEFAULT_PROFILE_IMAGE;\n            this.setState({\n                recipient: {\n                    'user_id': recipient.user_id || recipient.friend_id,\n                    name: recipient.name || recipient.username,\n                    src,\n          // I need to get the flips earned back from the backend to do this.\n                    description: '',\n          // description: friend.flips_earned + ' Flips Earned',\n                    'asset_type': 'friend',\n                }\n            }, cb);\n        }\n    }\n\n    clickRecipient() {\n        this.navigator.goto({\n            index: 'friend',\n            goto: this.state.currentScreenIndex,\n        });\n    }\n\n    create() {\n        if (this.state.recipient) {\n            this.navigator.goto({index: 'canvas'});\n        } else {\n            this.navigator.goto({\n                index: 'friend',\n                goto: 'canvas',\n            });\n        }\n    }\n\n    saveButton() {\n        this.save();\n        this.navigator.openMenu({id: 'save'});\n    }\n\n    renderRecipient() {\n        var recipient = this.state.recipient;\n        var content = [];\n\n        if (!recipient) return;\n\n        if (recipient.name) {\n            content.push(<span className=\"name\">{recipient.name}</span>);\n        }\n\n        if (recipient.src) {\n            content.push(<img className=\"profile-image\" src={recipient.src} />);\n        }\n\n        return content;\n    }\n}\n\nSkribble = (\n  <SkribbleGame\n    config={config}\n    screens={{\n        0: iOSScreen,\n        1: TitleScreen,\n        menu: MenuScreen,\n        friend: FriendScreen,\n        canvas: CanvasScreen,\n        'item-drawer': ItemDrawerScreen,\n        inbox: InboxScreen,\n        preview: PreviewScreen,\n        send: SendScreen,\n        sent: SentScreen,\n        read: ReadScreen,\n    }}\n    menus={{\n        quit: QuitScreen,\n        save: SaveMenu,\n        collisionWarning: CollisionWarning,\n        limitWarning: LimitWarning,\n    }}\n    loader={<Loader />}\n    assets={[\n        <skoash.Image className=\"hidden\" src=\"media/_Otter/Waving_Otter2.gif\" />,\n        <skoash.Image className=\"hidden\" src=\"media/_Otter/Open-wide-Otter2.gif\" />,\n        <skoash.Image className=\"hidden\" src=\"media/_Otter/joyful-otter_2.gif\" />,\n        <skoash.Image className=\"hidden\" src=\"media/_Otter/Antipation-Otter3.gif\" />,\n        <skoash.Image className=\"hidden\" src=\"media/_Otter/proud-of-you2.gif\" />,\n        <skoash.Image className=\"hidden\" src=\"media/_Otter/Peeking-through-Otter2.gif\" />,\n        <div className=\"background-1\" />,\n        <div className=\"background-2\" />,\n        <div className=\"background-3\" />,\n        <div className=\"background-4\" />,\n        <div className=\"background-5\" />,\n        <div className=\"background-6\" />,\n    ]}\n    onBootstrap={function () {\n        this.getFriends = _.throttle(this.getData.bind(this, {name: 'getFriends'}), 1000);\n        this.getMediaOnReady = _.throttle(this.getMedia.bind(this), 1000);\n\n        this.updateState({\n            path: ['collisionWarning'],\n            data: {\n                show: true\n            }\n        });\n    }}\n    onReady={function () {\n        this.getMediaOnReady();\n        this.getFriends();\n    }}\n    renderMenu={function () {\n        return (\n            <div>\n                <div className=\"game-menu\">\n                    <button className=\"save\" onClick={this.saveButton.bind(this)} />\n                    <button className=\"inbox\" onClick={this.navigator.goto.bind(this, {index: 'inbox'})} />\n                    <button className=\"create\" onClick={this.create.bind(this)} />\n                    <button className=\"help\" onClick={this.navigator.openMenu.bind(this, {id: 'help'})} />\n                    <button className=\"close\" onClick={this.navigator.openMenu.bind(this, {id: 'quit'})} />\n                </div>\n                <ul className=\"menu recipient\">\n                    <li onClick={this.clickRecipient.bind(this)}>\n                        <span>\n                            {this.renderRecipient()}\n                        </span>\n                    </li>\n                </ul>\n            </div>\n        );\n    }}\n    getGotoOpts={function (opts) {\n        if (opts.index === 'send') {\n            if (!this.state.recipient || !this.state.recipient.name) {\n                opts.index = 'friend';\n                opts.goto = 'send';\n            }\n        }\n        return opts;\n    }}\n    passData={function (opts) {\n        if (opts.name === 'add-item') {\n            this.refs['screen-canvas'].addItem(opts.message);\n            this.navigator.goto({ index: 'canvas' });\n        } else if (opts.name === 'add-recipient') {\n            this.addRecipient(opts.message, this.navigator.goto.bind(this, { index: opts.goto || 'canvas' }));\n        } else if (opts.name === 'send') {\n            this.send();\n        } else if (opts.name === 'showCollisionWarning') {\n            this.showCollisionWarning();\n        } else if (opts.name === 'showLimitWarning') {\n            this.showLimitWarning();\n        }\n    }}\n    getTriggerEvents={function (opts = {}) {\n        opts.save = this.save;\n        opts.getMedia = this.getMedia;\n        opts.getRules = this.getRules;\n        opts.loadSkribble = this.loadSkribble;\n        return opts;\n    }}\n    getData={function (opts) {\n        var names = [\n            'getFriends',\n            'getFriend',\n            'markAsRead',\n        ];\n\n        if (names.indexOf(opts.name) === -1) {\n            opts.name = 'getData';\n        }\n\n        return this.eventManager.emit(opts).then(data => {\n            this.updateData({\n                data,\n                callback: opts.callback,\n            });\n        });\n    }}\n  />\n);\n\nskoash.start(Skribble);\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/index.js","'use strict';\nmodule.exports = require('./lib/index');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/index.js\n// module id = 34\n// module chunks = 0","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/decode.js\n// module id = 35\n// module chunks = 0","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/encode.js\n// module id = 36\n// module chunks = 0","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar isValid = require('./is-valid');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/index.js\n// module id = 37\n// module chunks = 0","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/is-valid.js\n// module id = 38\n// module chunks = 0","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/random/random-byte-browser.js\n// module id = 39\n// module chunks = 0","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/random/random-from-seed.js\n// module id = 40\n// module chunks = 0","'use strict';\n\nmodule.exports = 0;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/util/cluster-worker-id-browser.js\n// module id = 41\n// module chunks = 0"],"sourceRoot":""}