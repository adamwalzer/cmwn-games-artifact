{"version":3,"sources":["webpack:///skribble/ai.js","webpack:///webpack/bootstrap 1d76f381147e325d7349","webpack:///../~/classnames/index.js","webpack:///./shared/components/selectable/0.1.js","webpack:///../~/shortid/lib/alphabet.js","webpack:///./shared/components/canvas/0.1.js","webpack:///./shared/components/item_drawer/0.1.js","webpack:///./shared/components/draggable/0.1.js","webpack:///./shared/components/editable_asset/0.1.js","webpack:///./shared/components/inbox/0.1.js","webpack:///./shared/components/ios_splash_screen/0.1.js","webpack:///./shared/components/loader/0.1.js","webpack:///./shared/components/menu/0.1.js","webpack:///./shared/components/quit_screen/0.1.js","webpack:///./shared/components/repeater/0.1.js","webpack:///./shared/components/reveal/0.1.js","webpack:///./shared/components/saved_messages/0.1.js","webpack:///./shared/components/scroll_area/0.1.js","webpack:///./shared/components/selectable_reveal/0.1.js","webpack:///./shared/js/make_media_globals.js","webpack:///./shared/js/prod-variables.js","webpack:///./skribble/components/canvas_screen.js","webpack:///./skribble/components/collision_warning.js","webpack:///./skribble/components/friend_screen.js","webpack:///./skribble/components/inbox_screen.js","webpack:///./skribble/components/item_drawer_screen.js","webpack:///./skribble/components/limit_warning.js","webpack:///./skribble/components/menu_screen.js","webpack:///./skribble/components/preview_screen.js","webpack:///./skribble/components/read_screen.js","webpack:///./skribble/components/save_menu.js","webpack:///./skribble/components/send_screen.js","webpack:///./skribble/components/sent_screen.js","webpack:///./skribble/components/title_screen.js","webpack:///./skribble/index.js","webpack:///./skribble/config.json","webpack:///../~/shortid/index.js","webpack:///../~/shortid/lib/decode.js","webpack:///../~/shortid/lib/encode.js","webpack:///../~/shortid/lib/index.js","webpack:///../~/shortid/lib/is-valid.js","webpack:///../~/shortid/lib/random/random-byte-browser.js","webpack:///../~/shortid/lib/random/random-from-seed.js","webpack:///../~/shortid/lib/util/cluster-worker-id-browser.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","apply","key","hasOwn","join","hasOwnProperty","undefined","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","source","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_classnames","_classnames2","console","warn","Selectable","_skoash$Component","this","_this","state","selectFunction","select","start","selectClass","highlight","selectOnStart","setState","started","bootstrap","refs","bin","list","getAll","selectHelper","e","ref","dataRef","isCorrect","closest","getAttribute","correct","answers","indexOf","allowDeselect","selectRespond","onSelect","chooseOne","complete","dataTarget","updateGameState","path","data","completeListOnClick","_","each","r","k","invoke","getClass","li","className","getClassNames","componentWillReceiveProps","renderBin","React","createElement","type","renderList","_this2","map","message","data-message","data-ref","render","onClick","bind","skoash","Component","defaultProps","defaults","noop","reset","shuffled","setCharacters","_alphabet_","alphabet","ORIGINAL","Error","unique","split","filter","item","ind","arr","lastIndexOf","characters","setSeed","seed","randomFromSeed","previousSeed","shuffle","sourceArray","targetArray","nextValue","characterIndex","Math","floor","splice","getShuffled","lookup","index","alphabetShuffled","_defineProperty","_typeof","Symbol","iterator","_2","_3","Canvas","background","items","messages","offsetX","offsetY","active","valid","deleteItem","checkItem","deactivateItems","relayerItems","setValid","dom","ReactDOM","findDOMNode","width","offsetWidth","height","offsetHeight","getItems","left","top","scale","rotation","layer","corners","check","mime_type","remove","n","setItems","addItem","forEach","asset","cb","_this3","count","asset_type","trigger","name","media_id","then","d","reduce","v","src","maxInstances","exclude","_this4","tagName","deactivate","_this5","layers","sort","a","b","oldLayer","newLayer","relayer","isInBounds","can_overlap","some","util","doIntersect","x","y","getStyle","backgroundImage","renderItems","_this6","minDim","itemMinDim","renderMessages","_this7","messageMinDim","canvasWidth","canvasHeight","canvas","ACTIVE","preview","style","_shortid","_shortid2","_4","_5","ItemDrawer","_Selectable","selectedItem","category","JSON","stringify","categoryName","selectButton","continueButton","cancelButton","cancelRespond","getCategory","categories","ANSWERED","values","getULClass","COMPLETE","white","toLowerCase","renderButtons","renderItemContent","content","thumb","find","subitem","Image","description","aVal","isNaN","window","parseInt","order","Infinity","bVal","ListItem","generate","img","scrollbarImg","shouldComponentUpdate","nextProps","nextState","quickCheck","itemsChanged","Draggable","startX","startY","endX","endY","zoom","mouseDown","mouseUp","moveEvent","touchStart","touchEnd","shouldDrag","incomplete","markIncorrect","returnToStart","markCorrect","startEvent","pageX","pageY","rect","grabX","grabY","el","targetTouches","getBoundingClientRect","firstX","firstY","return","isFinite","dragging","dragRespond","attachMouseEvents","addEventListener","attachTouchEvents","endEvent","dropRespond","detachMouseEvents","removeEventListener","detachTouchEvents","setCorners","offsetLeft","offsetTop","offsetParent","componentDidMount","setZoom","transform","WebkitTransform","_classNames","draggable","renderContentList","EditableAsset","_Draggable","minScale","maxScale","lastValid","adjustScale","offScale","rotate","adjustRotation","offRotate","activate","setTimeout","_delete","parentNode","deltaX","deltaY","atan2","PI","delta","base","pow","max","min","center","distance","angle","cos","sin","getSize","image","onload","offset","maxDim","getLayer","attachEvents","componentDidUpdate","getButtonStyle","extraRotation","getAssetStyle","zIndex","getButtonsStyle","getClasses","DRAGGING","RETURN","INVALID","renderAsset","delete","identity","Inbox","status","read","UNREAD","friendKey","SENT","item-drawer","getStatusText","friends","gameState","timestamp","moment","utc","updated","local","friend","friend_id","_embedded","url","username","sent","format","emptyMessage","Screen","checkComplete","completeDelay","nextDelay","completeOnStart","hidePrev","Loader","Menu","ul","inactive","keys","gotoObj","isFinal","concat","toString","lastLevel","level","replace","menu","QuitScreen","_skoash$Screen","okay","cancel","close","renderAssets","assets","Audio","Repeater","amount","Reveal","openReveal","currentlyOpen","open","openMultiple","playAudio","completeOnOpen","autoClose","openTarget","onOpen","opts","prevMessage","silent","playMedia","onClose","closeRespond","openOnStart","audio","closeReveal","Number","isInteger","SavedMessages","SAVED","renderThumb","firstImg","rules","IMAGE","AREA","CONTENT","SCROLLBAR","SCROLLER","ScrollArea","scrollTop","areaScrollTop","scrollbarHeight","getEndY","getScrollerStyle","shouldRender","SelectableReveal","canSelectOnStart","reveal","revealAll","allCorrect","renderSelectable","selectableList","selectableSelectClass","completeOnSelect","selectableCompleteOnSelect","selectableCheckComplete","randomizeList","randomizeSelectableList","renderReveal","revealList","revealAssets","revealCompleteOnOpen","revealCheckComplete","hide","hideReveal","gameName","MEDIA","BASE","ENVIRONMENT","GAME","EFFECT","VO","SPRITE","MOCK","CMWN","gameFolder","CanvasScreen","hideNext","_6","_7","load","rightMenuList","send","setHasAssets","getData","hasAssets","addItems","mapRulesStringToNumbers","friend_to","setMenu","parseFloat","draft","goto","getContainerClasses","canvas-container","BACKGROUND","HAS-ASSETS","renderContent","onStart","CollisionWarning","toggle","show","getToggleClassNames","FriendScreen","DEFAULT_PROFILE_IMAGE","recipient","updateData","user","user_id","leave","drawer","suggestFriends","location","origin","save","renderOtter","copy","imageSrc","renderFriends","back","buttons","InboxScreen","inboxEmptyMessage","unreadEmptyMessage","readEmptyMessage","sentEmptyMessage","draftsEmptyMessage","getRevealList","readMessage","editMessage","inbox","outbox","saved","unread","skribbles","received","updateGameData","skribble","callback","ItemDrawerScreen","MenuScreen","PreviewScreen","classNameText","skribbleBox","box","leftMenu","rightMenu","leftMenuList","ReadScreen","sender","reply","created_by","creater","skribble_id","getSenderClassNames","HIDE","renderSender","renderBoxContent","SaveMenu","SendScreen","yourMessageTo","isReady","changeFriend","character","gift","header","changeFriendClick","SentScreen","createAnother","text","hasBeenSent","nextIndex","_config","_config2","_title_screen","_title_screen2","_menu_screen","_menu_screen2","_friend_screen","_friend_screen2","_canvas_screen","_canvas_screen2","_item_drawer_screen","_item_drawer_screen2","_inbox_screen","_inbox_screen2","_preview_screen","_preview_screen2","_send_screen","_send_screen2","_sent_screen","_sent_screen2","_read_screen","_read_screen2","_save_menu","_save_menu2","_collision_warning","_collision_warning2","_limit_warning","_limit_warning2","Skribble","SkribbleGame","_skoash$Game","getRules","respond","skramble","version","skribbleData","emit","game","config","navigator","loadSkribble","getMedia","pathArray","shift","eventManager","currentOpts","clone","showCollisionWarning","collisionWarning","openMenu","showLimitWarning","addRecipient","profile_image","clickRecipient","currentScreenIndex","saveButton","renderRecipient","Game","screens","0","1","menus","quit","limitWarning","loader","onBootstrap","getFriends","throttle","getMediaOnReady","updateState","onReady","renderMenu","getGotoOpts","passData","getTriggerEvents","names","dimensions","decode","substr","worker","encode","number","loopCounter","done","str","randomByte","seconds","Date","now","REDUCE_TIME","previousSeconds","counter","clusterWorkerId","seedValue","workerId","newCharacters","isValid","isShortId","len","crypto","getRandomValues","random","dest","Uint8Array","msCrypto","getNextValue","_seed_"],"mappings":"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","file":"skribble/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(19);\n\t__webpack_require__(18);\n\tmodule.exports = __webpack_require__(33);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t  Copyright (c) 2016 Jed Watson.\n\t  Licensed under the MIT License (MIT), see\n\t  http://jedwatson.github.io/classnames\n\t*/\n\t/* global define */\n\t\n\t(function () {\n\t\t'use strict';\n\t\n\t\tvar hasOwn = {}.hasOwnProperty;\n\t\n\t\tfunction classNames () {\n\t\t\tvar classes = [];\n\t\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\tvar arg = arguments[i];\n\t\t\t\tif (!arg) continue;\n\t\n\t\t\t\tvar argType = typeof arg;\n\t\n\t\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\t\tclasses.push(arg);\n\t\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn classes.join(' ');\n\t\t}\n\t\n\t\tif (typeof module !== 'undefined' && module.exports) {\n\t\t\tmodule.exports = classNames;\n\t\t} else if (true) {\n\t\t\t// register as 'classnames', consistent with npm package name\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t\t\t\treturn classNames;\n\t\t\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else {\n\t\t\twindow.classNames = classNames;\n\t\t}\n\t}());\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// As of skoash 1.1.0 this component can be found at skoash.Selectable\n\t/* eslint-disable no-console */\n\tconsole.warn('As of skoash 1.1.0 this component can be found at skoash.Selectable');\n\t/* eslint-enable no-console */\n\t\n\tvar Selectable = function (_skoash$Component) {\n\t    _inherits(Selectable, _skoash$Component);\n\t\n\t    function Selectable() {\n\t        _classCallCheck(this, Selectable);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Selectable.__proto__ || Object.getPrototypeOf(Selectable)).call(this));\n\t\n\t        _this.state = {\n\t            classes: {},\n\t            selectFunction: _this.select\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Selectable, [{\n\t        key: 'start',\n\t        value: function start() {\n\t            var selectClass;\n\t            var selectFunction;\n\t            var classes = this.state.classes;\n\t\n\t            _get(Selectable.prototype.__proto__ || Object.getPrototypeOf(Selectable.prototype), 'start', this).call(this);\n\t\n\t            selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n\t            selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\t\n\t            if (this.props.selectOnStart) {\n\t                classes[this.props.selectOnStart] = selectClass;\n\t            }\n\t\n\t            this.setState({\n\t                started: true,\n\t                classes: classes,\n\t                selectFunction: selectFunction,\n\t                selectClass: selectClass\n\t            });\n\t        }\n\t    }, {\n\t        key: 'bootstrap',\n\t        value: function bootstrap() {\n\t            _get(Selectable.prototype.__proto__ || Object.getPrototypeOf(Selectable.prototype), 'bootstrap', this).call(this);\n\t\n\t            if (this.refs.bin) {\n\t                this.setState({\n\t                    list: this.refs.bin.getAll()\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'selectHelper',\n\t        value: function selectHelper(e, classes) {\n\t            var ref;\n\t            var dataRef;\n\t            var target;\n\t            var id;\n\t            var isCorrect;\n\t            var self = this;\n\t\n\t            if (typeof e === 'string') {\n\t                dataRef = e;\n\t            } else {\n\t                target = e.target.closest('LI');\n\t\n\t                if (!target) return;\n\t\n\t                dataRef = target.getAttribute('data-ref');\n\t            }\n\t\n\t            ref = self.refs[dataRef];\n\t\n\t            isCorrect = ref && ref.props && ref.props.correct || !self.props.answers || !self.props.answers.length || self.props.answers.indexOf(dataRef) !== -1;\n\t\n\t            if (self.props.allowDeselect && classes[dataRef]) {\n\t                delete classes[dataRef];\n\t            } else if (isCorrect) {\n\t                classes[dataRef] = self.state.selectClass;\n\t            }\n\t\n\t            self.setState({\n\t                classes: classes\n\t            });\n\t\n\t            self.props.selectRespond.call(self, dataRef);\n\t            self.props.onSelect.call(self, dataRef);\n\t\n\t            if (self.props.chooseOne) self.complete();\n\t\n\t            if (self.props.dataTarget) {\n\t                self.updateGameState({\n\t                    path: self.props.dataTarget,\n\t                    data: {\n\t                        target: ref\n\t                    }\n\t                });\n\t            }\n\t\n\t            if (self.props.completeListOnClick) {\n\t                _.each(self.refs, function (r, k) {\n\t                    if (k === id) _.invoke(r, 'complete');\n\t                });\n\t            }\n\t\n\t            _.each(self.refs, function (r, k) {\n\t                if (k === dataRef) _.invoke(r, 'complete');\n\t            });\n\t        }\n\t    }, {\n\t        key: 'select',\n\t        value: function select(e) {\n\t            var classes = [];\n\t            this.selectHelper(e, classes);\n\t        }\n\t    }, {\n\t        key: 'highlight',\n\t        value: function highlight(e) {\n\t            var classes = this.state.classes;\n\t            this.selectHelper(e, classes);\n\t        }\n\t    }, {\n\t        key: 'getClass',\n\t        value: function getClass(key, li) {\n\t            return (0, _classnames2.default)(li.props.className, this.state.classes[key], this.state.classes[li.props['data-ref']], this.state.classes[li.props['data-key']]);\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)('selectable', _get(Selectable.prototype.__proto__ || Object.getPrototypeOf(Selectable.prototype), 'getClassNames', this).call(this));\n\t        }\n\t    }, {\n\t        key: 'componentWillReceiveProps',\n\t        value: function componentWillReceiveProps(props) {\n\t            _get(Selectable.prototype.__proto__ || Object.getPrototypeOf(Selectable.prototype), 'componentWillReceiveProps', this).call(this, props);\n\t\n\t            if (props.select && props.select !== this.props.select) {\n\t                this.state.selectFunction.call(this, props.select);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'renderBin',\n\t        value: function renderBin() {\n\t            if (!this.props.bin) return null;\n\t\n\t            return React.createElement(this.props.bin.type, _extends({}, this.props.bin.props, {\n\t                ref: 'bin'\n\t            }));\n\t        }\n\t    }, {\n\t        key: 'renderList',\n\t        value: function renderList() {\n\t            var _this2 = this;\n\t\n\t            var list = this.props.list || this.state.list;\n\t            return list.map(function (li, key) {\n\t                var dataRef = li.props['data-ref'] || key;\n\t                var ref = li.ref || li.props.id || dataRef;\n\t                var message = li.props.message || '' + key;\n\t                return React.createElement(li.type, _extends({}, li.props, {\n\t                    type: 'li',\n\t                    className: _this2.getClass(key, li),\n\t                    message: message,\n\t                    'data-message': message,\n\t                    'data-ref': dataRef,\n\t                    ref: ref,\n\t                    key: key\n\t                }));\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                this.renderBin(),\n\t                React.createElement(\n\t                    'ul',\n\t                    { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t                    this.renderList()\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Selectable;\n\t}(skoash.Component);\n\t\n\tSelectable.defaultProps = _.defaults({\n\t    list: [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)],\n\t    selectClass: 'SELECTED',\n\t    completeListOnClick: true,\n\t    selectRespond: _.noop,\n\t    onSelect: _.noop\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = Selectable;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar randomFromSeed = __webpack_require__(41);\n\t\n\tvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n\tvar alphabet;\n\tvar previousSeed;\n\t\n\tvar shuffled;\n\t\n\tfunction reset() {\n\t    shuffled = false;\n\t}\n\t\n\tfunction setCharacters(_alphabet_) {\n\t    if (!_alphabet_) {\n\t        if (alphabet !== ORIGINAL) {\n\t            alphabet = ORIGINAL;\n\t            reset();\n\t        }\n\t        return;\n\t    }\n\t\n\t    if (_alphabet_ === alphabet) {\n\t        return;\n\t    }\n\t\n\t    if (_alphabet_.length !== ORIGINAL.length) {\n\t        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n\t    }\n\t\n\t    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n\t       return ind !== arr.lastIndexOf(item);\n\t    });\n\t\n\t    if (unique.length) {\n\t        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n\t    }\n\t\n\t    alphabet = _alphabet_;\n\t    reset();\n\t}\n\t\n\tfunction characters(_alphabet_) {\n\t    setCharacters(_alphabet_);\n\t    return alphabet;\n\t}\n\t\n\tfunction setSeed(seed) {\n\t    randomFromSeed.seed(seed);\n\t    if (previousSeed !== seed) {\n\t        reset();\n\t        previousSeed = seed;\n\t    }\n\t}\n\t\n\tfunction shuffle() {\n\t    if (!alphabet) {\n\t        setCharacters(ORIGINAL);\n\t    }\n\t\n\t    var sourceArray = alphabet.split('');\n\t    var targetArray = [];\n\t    var r = randomFromSeed.nextValue();\n\t    var characterIndex;\n\t\n\t    while (sourceArray.length > 0) {\n\t        r = randomFromSeed.nextValue();\n\t        characterIndex = Math.floor(r * sourceArray.length);\n\t        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n\t    }\n\t    return targetArray.join('');\n\t}\n\t\n\tfunction getShuffled() {\n\t    if (shuffled) {\n\t        return shuffled;\n\t    }\n\t    shuffled = shuffle();\n\t    return shuffled;\n\t}\n\t\n\t/**\n\t * lookup shuffled letter\n\t * @param index\n\t * @returns {string}\n\t */\n\tfunction lookup(index) {\n\t    var alphabetShuffled = getShuffled();\n\t    return alphabetShuffled[index];\n\t}\n\t\n\tmodule.exports = {\n\t    characters: characters,\n\t    seed: setSeed,\n\t    lookup: lookup,\n\t    shuffled: getShuffled\n\t};\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(7);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Canvas = function (_skoash$Component) {\n\t    _inherits(Canvas, _skoash$Component);\n\t\n\t    function Canvas() {\n\t        _classCallCheck(this, Canvas);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this));\n\t\n\t        _this.state = {\n\t            background: null,\n\t            items: [],\n\t            messages: [],\n\t            offsetX: 0,\n\t            offsetY: 0,\n\t            active: false,\n\t            valid: true\n\t        };\n\t\n\t        _this.deleteItem = _this.deleteItem.bind(_this);\n\t        _this.checkItem = _this.checkItem.bind(_this);\n\t        _this.deactivateItems = _this.deactivateItems.bind(_this);\n\t        _this.relayerItems = _this.relayerItems.bind(_this);\n\t        _this.setValid = _this.setValid.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Canvas, [{\n\t        key: 'start',\n\t        value: function start() {\n\t            var dom = ReactDOM.findDOMNode(this);\n\t\n\t            _get(Canvas.prototype.__proto__ || Object.getPrototypeOf(Canvas.prototype), 'start', this).call(this);\n\t\n\t            this.setState({\n\t                width: dom.offsetWidth,\n\t                height: dom.offsetHeight\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getItems',\n\t        value: function getItems() {\n\t            var items;\n\t            var messages;\n\t            var self = this;\n\t\n\t            items = this.state.items.map(function (item, key) {\n\t                var state;\n\t\n\t                if (!self.refs['item-' + key]) return item;\n\t\n\t                state = self.refs['item-' + key].state;\n\t\n\t                item.state = {\n\t                    left: _.floor(state.left, 14),\n\t                    top: _.floor(state.top, 14),\n\t                    scale: _.floor(state.scale, 14),\n\t                    rotation: _.floor(state.rotation, 14),\n\t                    layer: state.layer,\n\t                    valid: state.valid,\n\t                    corners: state.corners\n\t                };\n\t\n\t                item.check = state.check;\n\t                item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\t\n\t                return item;\n\t            });\n\t\n\t            messages = this.state.messages.map(function (item, key) {\n\t                var state;\n\t\n\t                if (!self.refs['message-' + key]) return item;\n\t\n\t                state = self.refs['message-' + key].state;\n\t\n\t                item.state = {\n\t                    left: _.floor(state.left, 14),\n\t                    top: _.floor(state.top, 14),\n\t                    scale: _.floor(state.scale, 14),\n\t                    rotation: _.floor(state.rotation, 14),\n\t                    layer: state.layer,\n\t                    valid: state.valid,\n\t                    corners: state.corners\n\t                };\n\t\n\t                item.check = state.check;\n\t                item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\t\n\t                return item;\n\t            });\n\t\n\t            _.remove(items, function (n) {\n\t                return !n;\n\t            });\n\t\n\t            _.remove(messages, function (n) {\n\t                return !n;\n\t            });\n\t\n\t            return {\n\t                background: this.state.background,\n\t                items: items,\n\t                messages: messages\n\t            };\n\t        }\n\t    }, {\n\t        key: 'reset',\n\t        value: function reset() {\n\t            this.setState({\n\t                background: null,\n\t                items: [],\n\t                messages: []\n\t            });\n\t        }\n\t    }, {\n\t        key: 'setItems',\n\t        value: function setItems(message) {\n\t            var _this2 = this;\n\t\n\t            if (message) {\n\t                /*\n\t                 *\n\t                 * This makes sure the EditableAssets get cleared.\n\t                 *\n\t                 * This prevents the new assets from inheriting\n\t                 * state from the old assets.\n\t                 *\n\t                 */\n\t                this.setState({\n\t                    background: null,\n\t                    items: [],\n\t                    messages: []\n\t                }, function () {\n\t                    _this2.addItem(message.background);\n\t                    message.items.forEach(function (asset) {\n\t                        _this2.addItem(asset);\n\t                    });\n\t                    message.messages.forEach(function (asset) {\n\t                        _this2.addItem(asset);\n\t                    });\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'addItem',\n\t        value: function addItem(asset, cb) {\n\t            var _this3 = this;\n\t\n\t            var items;\n\t            var messages;\n\t            var index;\n\t            var count;\n\t\n\t            if (!asset) return;\n\t\n\t            if (asset.asset_type === 'background') {\n\t                this.setState({\n\t                    background: asset\n\t                }, function () {\n\t                    skoash.trigger('emit', {\n\t                        name: 'getMedia',\n\t                        'media_id': asset.media_id\n\t                    }).then(function (d) {\n\t                        var background = _this3.state.background;\n\t                        background.check = d.check;\n\t                        background.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t                        _this3.setState({\n\t                            background: background\n\t                        }, cb);\n\t                    });\n\t                });\n\t            } else if (asset.asset_type === 'item') {\n\t                items = this.state.items;\n\t\n\t                count = _.reduce(items, function (c, v) {\n\t                    if (asset.src === v.src) c++;\n\t                    return c;\n\t                }, 1);\n\t\n\t                if (count > this.props.maxInstances) {\n\t                    skoash.trigger('openMenu', {\n\t                        id: 'limitWarning'\n\t                    });\n\t                    return;\n\t                }\n\t\n\t                items.push(asset);\n\t                index = items.indexOf(asset);\n\t\n\t                this.setState({\n\t                    items: items\n\t                }, function () {\n\t                    skoash.trigger('emit', {\n\t                        name: 'getMedia',\n\t                        'media_id': asset.media_id\n\t                    }).then(function (d) {\n\t                        asset.check = d.check;\n\t                        asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t                        items[index] = asset;\n\t                        _this3.setState({\n\t                            items: items\n\t                        }, cb);\n\t                    });\n\t                });\n\t            } else if (asset.asset_type === 'message') {\n\t                messages = this.state.messages;\n\t\n\t                count = _.reduce(items, function (c, v) {\n\t                    if (asset.src === v.src) c++;\n\t                    return c;\n\t                }, 1);\n\t\n\t                if (count > this.props.maxInstances) return;\n\t\n\t                messages.push(asset);\n\t                index = messages.indexOf(asset);\n\t\n\t                this.setState({\n\t                    messages: messages\n\t                }, function () {\n\t                    skoash.trigger('emit', {\n\t                        name: 'getMedia',\n\t                        'media_id': asset.media_id\n\t                    }).then(function (d) {\n\t                        asset.check = d.check;\n\t                        asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n\t                        messages[index] = asset;\n\t                        _this3.setState({\n\t                            messages: messages\n\t                        }, cb);\n\t                    });\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'deleteItem',\n\t        value: function deleteItem(key, type) {\n\t            var items;\n\t\n\t            items = this.state[type + 's'];\n\t            delete items[key];\n\t\n\t            this.setState(_defineProperty({}, type + 's', items));\n\t        }\n\t    }, {\n\t        key: 'deactivateItems',\n\t        value: function deactivateItems(exclude, type) {\n\t            var _this4 = this;\n\t\n\t            if ((typeof exclude === 'undefined' ? 'undefined' : _typeof(exclude)) === 'object' && exclude.target) {\n\t                if (exclude.target.tagName !== 'LI') return;\n\t                this.setState({\n\t                    active: false\n\t                });\n\t                if (!this.state.valid) {\n\t                    skoash.trigger('passData', {\n\t                        name: 'showCollisionWarning'\n\t                    });\n\t                }\n\t            }\n\t\n\t            if (typeof exclude === 'number') {\n\t                this.setState({\n\t                    active: true\n\t                });\n\t            }\n\t\n\t            this.state.items.map(function (item, key) {\n\t                if ((key !== exclude || type !== 'item') && _this4.refs['item-' + key]) {\n\t                    _this4.refs['item-' + key].deactivate();\n\t                }\n\t            });\n\t\n\t            this.state.messages.map(function (item, key) {\n\t                if ((key !== exclude || type !== 'message') && _this4.refs['message-' + key]) {\n\t                    _this4.refs['message-' + key].deactivate();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'relayerItems',\n\t        value: function relayerItems(type) {\n\t            var _this5 = this;\n\t\n\t            var layers = [];\n\t\n\t            this.state[type + 's'].map(function (item, key) {\n\t                var layer;\n\t\n\t                layer = _this5.refs[type + '-' + key].state.layer;\n\t\n\t                if (layers.indexOf(layer) === -1) {\n\t                    layers.push(layer);\n\t                }\n\t            });\n\t\n\t            layers.sort(function (a, b) {\n\t                return a < b;\n\t            });\n\t\n\t            this.state[type + 's'].map(function (item, key) {\n\t                var oldLayer;\n\t                var newLayer;\n\t\n\t                oldLayer = _this5.refs[type + '-' + key].state.layer;\n\t                newLayer = type === 'message' ? 10000 : 1000;\n\t                newLayer = newLayer - layers.indexOf(oldLayer);\n\t\n\t                _this5.refs[type + '-' + key].relayer(newLayer);\n\t            });\n\t        }\n\t    }, {\n\t        key: 'checkItem',\n\t        value: function checkItem(key, type) {\n\t            var self = this;\n\t\n\t            return !self.refs[type + '-' + key].state.corners.length || self.isInBounds(key, type) && (self.refs[type + '-' + key].state.can_overlap || !self.state[type + 's'].some(function (item, index) {\n\t                return key !== index && !self.refs[type + '-' + index].state.can_overlap && self.refs[type + '-' + index].state.corners.length && skoash.util.doIntersect(self.refs[type + '-' + key].state.corners, self.refs[type + '-' + index].state.corners);\n\t            }));\n\t        }\n\t    }, {\n\t        key: 'isInBounds',\n\t        value: function isInBounds(key, type) {\n\t            return !this.state.width || !this.state.height || !(\n\t            // box to left\n\t            skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: 0, y: -this.state.height }, { x: 0, y: 2 * this.state.height }, { x: -this.state.width, y: 2 * this.state.height }, { x: -this.state.width, y: -this.state.height }]) ||\n\t            // box above\n\t            skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: -this.state.width, y: 0 }, { x: 2 * this.state.width, y: 0 }, { x: 2 * this.state.width, y: -this.state.height }, { x: this.state.width, y: -this.state.height }]) ||\n\t            // box to right\n\t            skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: this.state.width, y: -this.state.height }, { x: this.state.width, y: 2 * this.state.height }, { x: 2 * this.state.width, y: 2 * this.state.height }, { x: 2 * this.state.width, y: -this.state.height }]) ||\n\t            // box below\n\t            skoash.util.doIntersect(this.refs[type + '-' + key].state.corners, [{ x: -this.state.width, y: this.state.height }, { x: 2 * this.state.width, y: this.state.height }, { x: 2 * this.state.width, y: 2 * this.state.height }, { x: -this.state.width, y: 2 * this.state.height }]));\n\t        }\n\t    }, {\n\t        key: 'setValid',\n\t        value: function setValid(valid) {\n\t            this.setState({\n\t                valid: valid\n\t            });\n\t\n\t            this.props.setValid.call(this, valid);\n\t        }\n\t    }, {\n\t        key: 'getStyle',\n\t        value: function getStyle() {\n\t            if (!this.state.background) return;\n\t\n\t            return {\n\t                backgroundImage: 'url(' + this.state.background.src + ')'\n\t            };\n\t        }\n\t    }, {\n\t        key: 'renderItems',\n\t        value: function renderItems() {\n\t            var _this6 = this;\n\t\n\t            var self = this;\n\t\n\t            return this.state.items.map(function (item, key) {\n\t                return React.createElement(_3.default, _extends({}, item, {\n\t                    'data-ref': key,\n\t                    minDim: _this6.props.itemMinDim,\n\t                    deleteItem: self.deleteItem,\n\t                    checkItem: self.checkItem,\n\t                    deactivateItems: self.deactivateItems,\n\t                    relayerItems: self.relayerItems,\n\t                    setValid: self.setValid,\n\t                    ref: 'item-' + key,\n\t                    key: key\n\t                }));\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderMessages',\n\t        value: function renderMessages() {\n\t            var _this7 = this;\n\t\n\t            var self = this;\n\t\n\t            return this.state.messages.map(function (item, key) {\n\t                return React.createElement(_3.default, _extends({}, item, {\n\t                    'data-ref': key,\n\t                    minDim: _this7.props.messageMinDim,\n\t                    deleteItem: self.deleteItem,\n\t                    checkItem: self.checkItem,\n\t                    deactivateItems: self.deactivateItems,\n\t                    relayerItems: self.relayerItems,\n\t                    setValid: self.setValid,\n\t                    canvasWidth: _this7.state.width,\n\t                    canvasHeight: _this7.state.height,\n\t                    ref: 'message-' + key,\n\t                    key: key\n\t                }));\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)({\n\t                canvas: true,\n\t                ACTIVE: !this.props.preview && this.state.active\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'ul',\n\t                {\n\t                    className: this.getClassNames(),\n\t                    style: this.getStyle(),\n\t                    onClick: this.deactivateItems\n\t                },\n\t                this.renderItems(),\n\t                this.renderMessages()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Canvas;\n\t}(skoash.Component);\n\t\n\tCanvas.defaultProps = _.defaults({\n\t    maxInstances: 5,\n\t    setValid: _.noop\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = Canvas;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _shortid = __webpack_require__(35);\n\t\n\tvar _shortid2 = _interopRequireDefault(_shortid);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _4 = __webpack_require__(16);\n\t\n\tvar _5 = _interopRequireDefault(_4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar ItemDrawer = function (_Selectable) {\n\t    _inherits(ItemDrawer, _Selectable);\n\t\n\t    function ItemDrawer() {\n\t        _classCallCheck(this, ItemDrawer);\n\t\n\t        return _possibleConstructorReturn(this, (ItemDrawer.__proto__ || Object.getPrototypeOf(ItemDrawer)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(ItemDrawer, [{\n\t        key: 'start',\n\t        value: function start() {\n\t            var items;\n\t            var selectedItem;\n\t            var selectClass;\n\t            var selectFunction;\n\t            var classes = {};\n\t            var self = this;\n\t\n\t            selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n\t            selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\t\n\t            items = self.props.data || [];\n\t\n\t            if (self.state.category && items[self.state.category]) {\n\t                items = items[self.state.category].items;\n\t            }\n\t\n\t            selectedItem = JSON.stringify(self.props.selectedItem);\n\t\n\t            _.each(items, function (item, key) {\n\t                if (self.props.selectedItem && JSON.stringify(item) === selectedItem) {\n\t                    classes[key] = selectClass;\n\t                }\n\t            });\n\t\n\t            if (this.props.selectOnStart) {\n\t                classes[this.props.selectOnStart] = selectClass;\n\t            }\n\t\n\t            this.setState({\n\t                started: true,\n\t                classes: classes,\n\t                selectClass: selectClass,\n\t                selectFunction: selectFunction,\n\t                categoryName: '',\n\t                category: ''\n\t            });\n\t\n\t            _.each(self.refs, function (ref) {\n\t                if (typeof ref.start === 'function') ref.start();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'selectHelper',\n\t        value: function selectHelper(e) {\n\t            var li;\n\t            var message;\n\t            var key;\n\t            var type;\n\t            var categoryName;\n\t            var classes = [];\n\t\n\t            li = e.target.closest('LI');\n\t            if (!li) return;\n\t\n\t            key = li.getAttribute('data-ref');\n\t            if (!this.refs[key]) return;\n\t\n\t            type = this.refs[key].props.item.asset_type;\n\t            if (!type) return;\n\t\n\t            if (type === 'folder') {\n\t                categoryName = this.refs[key].props.item.name;\n\t                this.setState({\n\t                    category: key,\n\t                    categoryName: categoryName\n\t                });\n\t            } else {\n\t                message = this.refs[key].props.item;\n\t                classes[key] = this.props.selectClass;\n\t\n\t                this.setState({\n\t                    message: message,\n\t                    classes: classes\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'selectButton',\n\t        value: function selectButton() {\n\t            if (typeof this.props.selectRespond === 'function' && this.state.message) {\n\t                this.props.selectRespond(this.state.message);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'continueButton',\n\t        value: function continueButton() {\n\t            if (typeof this.props.selectRespond === 'function') {\n\t                this.props.selectRespond({});\n\t            }\n\t        }\n\t    }, {\n\t        key: 'cancelButton',\n\t        value: function cancelButton() {\n\t            if (typeof this.props.cancelRespond === 'function') {\n\t                this.props.cancelRespond.call(this);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getCategory',\n\t        value: function getCategory() {\n\t            if (this.state.categoryName || this.props.categoryName) {\n\t                return this.state.categoryName || this.props.categoryName;\n\t            }\n\t\n\t            if (this.props.categories && this.props.categories.length) {\n\t                return this.props.categories[this.props.categories.length - 1];\n\t            }\n\t            return '';\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)({\n\t                'ANSWERED': _.values(this.state.classes).indexOf(this.state.selectClass) !== -1\n\t            }, this.props.className, 'item-drawer-component');\n\t        }\n\t    }, {\n\t        key: 'getULClass',\n\t        value: function getULClass() {\n\t            return (0, _classnames2.default)('item-drawer', {\n\t                COMPLETE: this.state.complete\n\t            }, this.props.categories ? this.props.categories.join(' ') : '');\n\t        }\n\t    }, {\n\t        key: 'getClass',\n\t        value: function getClass(key, item) {\n\t            return (0, _classnames2.default)(this.state.classes[key] || '', {\n\t                white: item && item.name && item.name.toLowerCase()[item.name.length - 1] === 'w'\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderButtons',\n\t        value: function renderButtons() {\n\t            return React.createElement(\n\t                'div',\n\t                { className: 'buttons' },\n\t                React.createElement('button', { className: 'select', onClick: this.selectButton.bind(this) }),\n\t                React.createElement('button', { className: 'continue', onClick: this.continueButton.bind(this) }),\n\t                React.createElement('button', { className: 'cancel', onClick: this.cancelButton.bind(this) })\n\t            );\n\t        }\n\t    }, {\n\t        key: 'renderItemContent',\n\t        value: function renderItemContent(item) {\n\t            var content = [];\n\t            var thumb;\n\t            var src;\n\t\n\t            if (item.src || item.thumb) {\n\t                src = item.thumb || item.src;\n\t            } else if (item.items) {\n\t                if (!_.isArray(item.items)) {\n\t                    item.items = _.values(item.items);\n\t                }\n\t\n\t                thumb = _.find(item.items, function (subitem) {\n\t                    return subitem.name === '_thumb';\n\t                });\n\t\n\t                if (thumb) src = thumb.thumb || thumb.src;\n\t\n\t                if (!src && item.items[0]) src = item.items[0].thumb || item.items[0].src;\n\t            }\n\t\n\t            if (src) {\n\t                content.push(React.createElement(skoash.Image, { src: src, key: 0 }));\n\t            }\n\t\n\t            if (item.name && (item.asset_type === 'folder' || item.asset_type === 'friend')) {\n\t                content.push(React.createElement(\n\t                    'span',\n\t                    { className: 'name', key: 1 },\n\t                    item.name\n\t                ));\n\t            }\n\t\n\t            if (item.description) {\n\t                content.push(React.createElement(\n\t                    'span',\n\t                    { className: 'description', key: 2 },\n\t                    item.description\n\t                ));\n\t            }\n\t\n\t            return content;\n\t        }\n\t    }, {\n\t        key: 'renderList',\n\t        value: function renderList() {\n\t            var _this2 = this;\n\t\n\t            var items;\n\t            var self = this;\n\t\n\t            if (!this.props.data) return;\n\t\n\t            items = this.props.data;\n\t\n\t            if (this.state.category && items[this.state.category]) {\n\t                items = items[this.state.category].items;\n\t            }\n\t\n\t            if (!_.isArray(items)) {\n\t                items = _.values(items);\n\t            }\n\t\n\t            return items.sort(function (a, b) {\n\t                var aVal = !_.isNaN(window.parseInt(a.order)) ? window.parseInt(a.order) : Infinity;\n\t                var bVal = !_.isNaN(window.parseInt(b.order)) ? window.parseInt(b.order) : Infinity;\n\t                if (aVal === bVal) {\n\t                    if (a.name < b.name) return -1;\n\t                    if (a.name > b.name) return 1;\n\t                    return 0;\n\t                }\n\t                if (aVal < bVal) return -1;\n\t                return 1;\n\t            }).filter(function (item) {\n\t                return item.name !== '_thumb';\n\t            }).map(function (item, key) {\n\t                return React.createElement(\n\t                    skoash.ListItem,\n\t                    {\n\t                        className: _this2.getClass(key, item),\n\t                        ref: key,\n\t                        'data-ref': key,\n\t                        item: item,\n\t                        key: _shortid2.default.generate()\n\t                    },\n\t                    self.renderItemContent(item)\n\t                );\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                { className: this.getClassNames() },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'item-drawer-container' },\n\t                    React.createElement(\n\t                        'h2',\n\t                        null,\n\t                        this.getCategory()\n\t                    ),\n\t                    React.createElement(\n\t                        _5.default,\n\t                        { ref: 'scroll-area', img: this.props.scrollbarImg },\n\t                        React.createElement(\n\t                            'ul',\n\t                            {\n\t                                ref: 'list',\n\t                                className: this.getULClass(),\n\t                                onClick: this.state.selectFunction.bind(this)\n\t                            },\n\t                            this.renderList()\n\t                        )\n\t                    )\n\t                ),\n\t                this.renderButtons()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return ItemDrawer;\n\t}(_3.default);\n\t\n\tItemDrawer.defaultProps = _.defaults({\n\t    scrollbarImg: '',\n\t    shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n\t        var items;\n\t        var quickCheck;\n\t        var itemsChanged;\n\t\n\t        items = nextProps.data || [];\n\t        if (nextState.category && items[nextState.category]) {\n\t            items = items[nextState.category].items;\n\t        }\n\t\n\t        quickCheck = _.reduce(items, function (a, i) {\n\t            return a + i.name;\n\t        }, '');\n\t\n\t        itemsChanged = this.quickCheck !== quickCheck;\n\t        if (itemsChanged) this.quickCheck = quickCheck;\n\t\n\t        return itemsChanged || nextProps.categoryName !== this.props.categoryName || JSON.stringify(this.state.classes) !== JSON.stringify(nextState.classes);\n\t    }\n\t}, _3.default.defaultProps);\n\t\n\texports.default = ItemDrawer;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Draggable = function (_skoash$Component) {\n\t    _inherits(Draggable, _skoash$Component);\n\t\n\t    function Draggable() {\n\t        _classCallCheck(this, Draggable);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Draggable.__proto__ || Object.getPrototypeOf(Draggable)).call(this));\n\t\n\t        _this.state = {\n\t            startX: 0,\n\t            startY: 0,\n\t            endX: 0,\n\t            endY: 0,\n\t            zoom: 1\n\t        };\n\t\n\t        _this.mouseDown = _this.mouseDown.bind(_this);\n\t        _this.mouseUp = _this.mouseUp.bind(_this);\n\t\n\t        _this.moveEvent = _this.moveEvent.bind(_this);\n\t\n\t        _this.touchStart = _this.touchStart.bind(_this);\n\t        _this.touchEnd = _this.touchEnd.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Draggable, [{\n\t        key: 'shouldDrag',\n\t        value: function shouldDrag() {\n\t            return true;\n\t        }\n\t    }, {\n\t        key: 'incomplete',\n\t        value: function incomplete() {\n\t            this.markIncorrect();\n\t            this.returnToStart();\n\t\n\t            _get(Draggable.prototype.__proto__ || Object.getPrototypeOf(Draggable.prototype), 'incomplete', this).call(this);\n\t        }\n\t    }, {\n\t        key: 'markCorrect',\n\t        value: function markCorrect() {\n\t            this.setState({\n\t                correct: true\n\t            });\n\t        }\n\t    }, {\n\t        key: 'markIncorrect',\n\t        value: function markIncorrect() {\n\t            this.setState({\n\t                correct: false\n\t            });\n\t        }\n\t    }, {\n\t        key: 'startEvent',\n\t        value: function startEvent(e, cb) {\n\t            var pageX;\n\t            var pageY;\n\t            var rect;\n\t            var startX;\n\t            var startY;\n\t            var endX;\n\t            var endY;\n\t            var grabX;\n\t            var grabY;\n\t\n\t            if (e.target !== this.refs.el) return;\n\t            if (!this.shouldDrag()) return;\n\t\n\t            if (e.targetTouches && e.targetTouches[0]) {\n\t                pageX = e.targetTouches[0].pageX;\n\t                pageY = e.targetTouches[0].pageY;\n\t                rect = e.target.getBoundingClientRect();\n\t                e = e.targetTouches[0];\n\t                e.offsetX = pageX - rect.left;\n\t                e.offsetY = pageY - rect.top;\n\t            }\n\t\n\t            grabX = e.offsetX;\n\t            grabY = e.offsetY;\n\t\n\t            startX = endX = e.pageX - grabX;\n\t            startY = endY = e.pageY - grabY;\n\t\n\t            if (!this.state.firstX) {\n\t                this.setState({\n\t                    firstX: startX,\n\t                    firstY: startY\n\t                });\n\t            }\n\t\n\t            if (!this.props.return) {\n\t                startX = _.isFinite(this.state.grabX) ? this.state.startX + this.state.grabX - grabX : startX;\n\t                startY = _.isFinite(this.state.grabY) ? this.state.startY + this.state.grabY - grabY : startY;\n\t            }\n\t\n\t            this.setState({\n\t                dragging: true,\n\t                return: false,\n\t                startX: startX,\n\t                startY: startY,\n\t                grabX: grabX,\n\t                grabY: grabY,\n\t                endX: endX,\n\t                endY: endY\n\t            });\n\t\n\t            if (typeof this.props.dragRespond === 'function') {\n\t                this.props.dragRespond(this.props.message);\n\t            }\n\t\n\t            if (typeof cb === 'function') {\n\t                cb.call(this);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'attachMouseEvents',\n\t        value: function attachMouseEvents() {\n\t            window.addEventListener('mousemove', this.moveEvent);\n\t            window.addEventListener('mouseup', this.mouseUp);\n\t        }\n\t    }, {\n\t        key: 'attachTouchEvents',\n\t        value: function attachTouchEvents() {\n\t            window.addEventListener('touchmove', this.moveEvent);\n\t            window.addEventListener('touchend', this.touchEnd);\n\t        }\n\t    }, {\n\t        key: 'mouseDown',\n\t        value: function mouseDown(e) {\n\t            this.startEvent(e, this.attachMouseEvents);\n\t        }\n\t    }, {\n\t        key: 'touchStart',\n\t        value: function touchStart(e) {\n\t            this.startEvent(e, this.attachTouchEvents);\n\t        }\n\t    }, {\n\t        key: 'moveEvent',\n\t        value: function moveEvent(e) {\n\t            if (e.targetTouches && e.targetTouches[0]) {\n\t                e.pageX = e.targetTouches[0].pageX;\n\t                e.pageY = e.targetTouches[0].pageY;\n\t            }\n\t\n\t            this.setState({\n\t                endX: e.pageX - this.state.grabX,\n\t                endY: e.pageY - this.state.grabY\n\t            });\n\t        }\n\t    }, {\n\t        key: 'returnToStart',\n\t        value: function returnToStart() {\n\t            if (this.state.firstX) {\n\t                this.setState({\n\t                    dragging: false,\n\t                    return: true,\n\t                    endX: this.state.firstX,\n\t                    endY: this.state.firstY\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'endEvent',\n\t        value: function endEvent(cb) {\n\t            this.dropRespond();\n\t\n\t            if (this.props.return) {\n\t                this.returnToStart();\n\t            } else {\n\t                this.setState({\n\t                    dragging: false,\n\t                    return: this.state.return\n\t                });\n\t            }\n\t\n\t            if (typeof cb === 'function') {\n\t                cb.call(this);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'detachMouseEvents',\n\t        value: function detachMouseEvents() {\n\t            window.removeEventListener('mousemove', this.moveEvent);\n\t            window.removeEventListener('mouseup', this.mouseUp);\n\t        }\n\t    }, {\n\t        key: 'detachTouchEvents',\n\t        value: function detachTouchEvents() {\n\t            window.removeEventListener('touchmove', this.moveEvent);\n\t            window.removeEventListener('touchend', this.touchEnd);\n\t        }\n\t    }, {\n\t        key: 'mouseUp',\n\t        value: function mouseUp() {\n\t            this.endEvent(this.detachMouseEvents);\n\t        }\n\t    }, {\n\t        key: 'touchEnd',\n\t        value: function touchEnd() {\n\t            this.endEvent(this.detachTouchEvents);\n\t        }\n\t    }, {\n\t        key: 'dropRespond',\n\t        value: function dropRespond() {\n\t            var corners;\n\t\n\t            corners = this.setCorners();\n\t\n\t            if (typeof this.props.dropRespond === 'function') {\n\t                this.props.dropRespond(this.props.message, corners);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'setCorners',\n\t        value: function setCorners() {\n\t            var top;\n\t            var left;\n\t            var width;\n\t            var height;\n\t            var el;\n\t            var corners = [];\n\t\n\t            left = 0;\n\t            top = 0;\n\t            el = this.refs.el;\n\t            width = el.offsetWidth;\n\t            height = el.offsetHeight;\n\t\n\t            while (el) {\n\t                if (el.className.indexOf('screen') !== -1) {\n\t                    break;\n\t                }\n\t\n\t                left += el.offsetLeft || 0;\n\t                top += el.offsetTop || 0;\n\t                el = el.offsetParent;\n\t            }\n\t\n\t            left += (this.state.endX - this.state.startX) / this.state.zoom;\n\t            top += (this.state.endY - this.state.startY) / this.state.zoom;\n\t\n\t            for (var i = 0; i < 4; i++) {\n\t                corners.push({\n\t                    x: left + width * (i === 1 || i === 2 ? 1 : 0),\n\t                    y: top + height * (i > 1 ? 1 : 0)\n\t                });\n\t            }\n\t\n\t            this.setState({\n\t                corners: corners\n\t            });\n\t\n\t            return corners;\n\t        }\n\t    }, {\n\t        key: 'componentDidMount',\n\t        value: function componentDidMount() {\n\t            this.bootstrap();\n\t        }\n\t    }, {\n\t        key: 'bootstrap',\n\t        value: function bootstrap() {\n\t            _get(Draggable.prototype.__proto__ || Object.getPrototypeOf(Draggable.prototype), 'bootstrap', this).call(this);\n\t\n\t            this.setZoom();\n\t\n\t            this.refs.el.addEventListener('mousedown', this.mouseDown);\n\t            this.refs.el.addEventListener('touchstart', this.touchStart);\n\t\n\t            window.addEventListener('resize', this.setZoom.bind(this));\n\t        }\n\t    }, {\n\t        key: 'setZoom',\n\t        value: function setZoom() {\n\t            var _this2 = this;\n\t\n\t            skoash.trigger('getState').then(function (state) {\n\t                _this2.setState({\n\t                    zoom: state.scale\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getStyle',\n\t        value: function getStyle() {\n\t            var x;\n\t            var y;\n\t\n\t            x = (this.state.endX - this.state.startX) / this.state.zoom;\n\t            y = (this.state.endY - this.state.startY) / this.state.zoom;\n\t\n\t            return {\n\t                transform: 'translateX(' + x + 'px) translateY(' + y + 'px)',\n\t                WebkitTransform: 'translateX(' + x + 'px) translateY(' + y + 'px)'\n\t            };\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            var _classNames;\n\t\n\t            return (0, _classnames2.default)((_classNames = {\n\t                draggable: true\n\t            }, _defineProperty(_classNames, this.props.className, this.props.className), _defineProperty(_classNames, this.props.message, this.props.message), _defineProperty(_classNames, 'DRAGGING', this.state.dragging), _defineProperty(_classNames, 'RETURN', this.state.return), _defineProperty(_classNames, 'CORRECT', this.state.correct), _classNames), _get(Draggable.prototype.__proto__ || Object.getPrototypeOf(Draggable.prototype), 'getClassNames', this).call(this));\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                {\n\t                    ref: 'el',\n\t                    className: this.getClassNames(),\n\t                    style: this.getStyle()\n\t                },\n\t                this.renderContentList()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Draggable;\n\t}(skoash.Component);\n\t\n\texports.default = Draggable;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(6);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar EditableAsset = function (_Draggable) {\n\t    _inherits(EditableAsset, _Draggable);\n\t\n\t    function EditableAsset() {\n\t        _classCallCheck(this, EditableAsset);\n\t\n\t        var _this = _possibleConstructorReturn(this, (EditableAsset.__proto__ || Object.getPrototypeOf(EditableAsset)).call(this));\n\t\n\t        _this.state = {\n\t            width: 0,\n\t            height: 0,\n\t            left: 0,\n\t            top: 0,\n\t            scale: .5,\n\t            minScale: .1,\n\t            maxScale: 1,\n\t            rotation: 0,\n\t            layer: 1000,\n\t            zoom: 1,\n\t            active: false,\n\t            valid: true,\n\t            corners: [],\n\t            lastValid: {}\n\t        };\n\t\n\t        _this.scale = _this.scale.bind(_this);\n\t        _this.adjustScale = _this.adjustScale.bind(_this);\n\t        _this.offScale = _this.offScale.bind(_this);\n\t\n\t        _this.rotate = _this.rotate.bind(_this);\n\t        _this.adjustRotation = _this.adjustRotation.bind(_this);\n\t        _this.offRotate = _this.offRotate.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(EditableAsset, [{\n\t        key: 'shouldDrag',\n\t        value: function shouldDrag() {\n\t            return this.state.active;\n\t        }\n\t    }, {\n\t        key: 'activate',\n\t        value: function activate() {\n\t            this.setState({\n\t                active: true\n\t            });\n\t\n\t            if (typeof this.props.deactivateItems === 'function') {\n\t                this.props.deactivateItems(this.props['data-ref'], this.props.asset_type);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'deactivate',\n\t        value: function deactivate() {\n\t            var _this2 = this;\n\t\n\t            if (!this.state.valid) {\n\t                this.setState({\n\t                    left: this.state.lastValid.left || this.state.left,\n\t                    top: this.state.lastValid.top || this.state.top,\n\t                    scale: this.state.lastValid.scale || this.state.scale,\n\t                    rotation: this.state.lastValid.rotation || this.state.rotation,\n\t                    active: false\n\t                }, function () {\n\t                    setTimeout(function () {\n\t                        _this2.checkItem();\n\t                    }, 0);\n\t                });\n\t            } else {\n\t                this.setState({\n\t                    active: false\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'moveEvent',\n\t        value: function moveEvent(e) {\n\t            if (e.targetTouches && e.targetTouches[0]) {\n\t                e.pageX = e.targetTouches[0].pageX;\n\t                e.pageY = e.targetTouches[0].pageY;\n\t            }\n\t\n\t            this.setState({\n\t                endX: e.pageX - this.state.grabX,\n\t                endY: e.pageY - this.state.grabY,\n\t                left: (e.pageX - this.state.grabX - this.state.startX) / this.state.zoom,\n\t                top: (e.pageY - this.state.grabY - this.state.startY) / this.state.zoom\n\t            });\n\t            this.checkItem();\n\t        }\n\t    }, {\n\t        key: 'delete',\n\t        value: function _delete() {\n\t            if (typeof this.props.deleteItem === 'function') {\n\t                this.props.deleteItem(this.props['data-ref'], this.props.asset_type);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'rotate',\n\t        value: function rotate() {\n\t            this.refs.el.parentNode.addEventListener('mousemove', this.adjustRotation);\n\t            this.refs.el.parentNode.addEventListener('mouseup', this.offRotate);\n\t\n\t            this.refs.el.parentNode.addEventListener('touchmove', this.adjustRotation);\n\t            this.refs.el.parentNode.addEventListener('touchend', this.offRotate);\n\t        }\n\t    }, {\n\t        key: 'offRotate',\n\t        value: function offRotate() {\n\t            this.refs.el.parentNode.removeEventListener('mousemove', this.adjustRotation);\n\t            this.refs.el.parentNode.removeEventListener('mouseup', this.offRotate);\n\t\n\t            this.refs.el.parentNode.removeEventListener('touchmove', this.adjustRotation);\n\t            this.refs.el.parentNode.removeEventListener('touchend', this.offRotate);\n\t        }\n\t    }, {\n\t        key: 'adjustRotation',\n\t        value: function adjustRotation(e) {\n\t            var rotation;\n\t            var deltaX;\n\t            var deltaY;\n\t\n\t            if (e.targetTouches && e.targetTouches[0]) {\n\t                e.pageX = e.targetTouches[0].pageX;\n\t                e.pageY = e.targetTouches[0].pageY;\n\t            }\n\t\n\t            deltaX = e.pageX / this.state.zoom - this.refs.li.offsetParent.offsetLeft - (this.state.left + this.state.width / 2);\n\t            deltaY = e.pageY / this.state.zoom - this.refs.li.offsetParent.offsetTop - (this.state.top + this.state.height / 2);\n\t\n\t            rotation = Math.atan2(deltaY, deltaX) + Math.PI / 4 % (2 * Math.PI);\n\t\n\t            this.setState({\n\t                rotation: rotation\n\t            });\n\t\n\t            this.checkItem();\n\t        }\n\t    }, {\n\t        key: 'layer',\n\t        value: function layer() {\n\t            var layer;\n\t            var self = this;\n\t\n\t            layer = this.state.layer - 1;\n\t\n\t            this.setState({\n\t                layer: layer\n\t            }, function () {\n\t                if (typeof self.props.relayerItems === 'function') {\n\t                    self.props.relayerItems(self.props.asset_type);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'relayer',\n\t        value: function relayer(layer) {\n\t            this.setState({\n\t                layer: layer\n\t            });\n\t        }\n\t    }, {\n\t        key: 'scale',\n\t        value: function scale() {\n\t            this.refs.el.parentNode.addEventListener('mousemove', this.adjustScale);\n\t            this.refs.el.parentNode.addEventListener('mouseup', this.offScale);\n\t\n\t            this.refs.el.parentNode.addEventListener('touchmove', this.adjustScale);\n\t            this.refs.el.parentNode.addEventListener('touchend', this.offScale);\n\t        }\n\t    }, {\n\t        key: 'offScale',\n\t        value: function offScale() {\n\t            this.refs.el.parentNode.removeEventListener('mousemove', this.adjustScale);\n\t            this.refs.el.parentNode.removeEventListener('mouseup', this.offScale);\n\t\n\t            this.refs.el.parentNode.removeEventListener('touchmove', this.adjustScale);\n\t            this.refs.el.parentNode.removeEventListener('touchend', this.offScale);\n\t        }\n\t    }, {\n\t        key: 'adjustScale',\n\t        value: function adjustScale(e) {\n\t            var scale;\n\t            var deltaX;\n\t            var deltaY;\n\t            var delta;\n\t            var base;\n\t\n\t            if (e.targetTouches && e.targetTouches[0]) {\n\t                e.pageX = e.targetTouches[0].pageX;\n\t                e.pageY = e.targetTouches[0].pageY;\n\t            }\n\t\n\t            deltaX = e.pageX / this.state.zoom - this.refs.li.offsetParent.offsetLeft / this.state.zoom - (this.state.left + this.state.width / 2);\n\t            deltaY = e.pageY / this.state.zoom - this.refs.li.offsetParent.offsetTop / this.state.zoom - (this.state.top + this.state.height / 2);\n\t\n\t            delta = Math.pow(Math.pow(deltaX, 2) + Math.pow(deltaY, 2), .5);\n\t            base = Math.pow(Math.pow(this.state.width / 2, 2) + Math.pow(this.state.height / 2, 2), .5);\n\t\n\t            scale = Math.max(Math.min(delta / base, 1), this.state.minScale);\n\t\n\t            this.setState({\n\t                scale: scale\n\t            });\n\t\n\t            this.checkItem();\n\t        }\n\t    }, {\n\t        key: 'checkItem',\n\t        value: function checkItem() {\n\t            var _this3 = this;\n\t\n\t            this.setCorners(function () {\n\t                var valid;\n\t\n\t                if (typeof _this3.props.checkItem === 'function') {\n\t                    valid = _this3.props.checkItem(_this3.props['data-ref'], _this3.props.asset_type);\n\t\n\t                    if (valid) {\n\t                        _this3.setState({\n\t                            valid: valid,\n\t                            lastValid: new Object(_this3.state)\n\t                        });\n\t                    } else {\n\t                        _this3.setState({\n\t                            valid: valid\n\t                        });\n\t                    }\n\t\n\t                    _this3.props.setValid.call(_this3, valid);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'setCorners',\n\t        value: function setCorners(cb) {\n\t            var center;\n\t            var distance;\n\t            var angle;\n\t            var corners = [];\n\t\n\t            center = {\n\t                x: this.state.left + this.state.width / 2,\n\t                y: this.state.top + this.state.height / 2\n\t            };\n\t\n\t            distance = Math.pow(Math.pow(this.state.width * this.state.scale / 2, 2) + Math.pow(this.state.height * this.state.scale / 2, 2), .5);\n\t\n\t            for (var i = 0; i < 4; i++) {\n\t                angle = this.state.rotation;\n\t                angle += i < 2 ? 0 : Math.PI;\n\t                angle += Math.pow(-1, i) * Math.atan2(this.state.height, this.state.width);\n\t\n\t                corners.push({\n\t                    x: center.x + distance * Math.cos(angle),\n\t                    y: center.y + distance * Math.sin(angle)\n\t                });\n\t            }\n\t\n\t            this.setState({\n\t                corners: corners\n\t            }, cb);\n\t        }\n\t    }, {\n\t        key: 'getSize',\n\t        value: function getSize() {\n\t            var _this4 = this;\n\t\n\t            var image;\n\t            var self = this;\n\t\n\t            image = new Image();\n\t\n\t            image.onload = function () {\n\t                var offset;\n\t                var left;\n\t                var top;\n\t                var width;\n\t                var height;\n\t                var minDim;\n\t                var maxDim;\n\t                var minScale;\n\t                var maxScale;\n\t                var scale;\n\t\n\t                minDim = _this4.props.minDim || 40;\n\t                maxDim = _this4.props.maxDim || 400;\n\t                left = _this4.state.left;\n\t                top = _this4.state.top;\n\t                width = image.width;\n\t                height = image.height;\n\t\n\t                minScale = Math.max(minDim / width, minDim / height);\n\t                maxScale = Math.min(maxDim / width, maxDim / height, _this4.state.maxScale);\n\t                scale = self.props.state && self.props.state.scale ? self.props.state.scale : Math.max(Math.min(self.state.scale, maxScale), minScale);\n\t\n\t                if ((!_this4.state.height || !_this4.state.width) && !_this4.state.left && !_this4.state.top) {\n\t                    left = (_this4.props.canvasWidth - width) / 2;\n\t                    top = (_this4.props.canvasHeight - height) / 2;\n\t                }\n\t\n\t                offset = _this4.refs.el.getBoundingClientRect();\n\t\n\t                self.setState({\n\t                    left: left,\n\t                    top: top,\n\t                    startX: left * scale - offset.left / _this4.state.zoom,\n\t                    startY: top * scale - offset.top / _this4.state.zoom,\n\t                    grabX: width / 2,\n\t                    grabY: height / 2,\n\t                    width: width,\n\t                    height: height,\n\t                    minScale: minScale,\n\t                    scale: scale\n\t                }, function () {\n\t                    self.activate();\n\t                    self.checkItem();\n\t                });\n\t            };\n\t\n\t            image.src = this.props.src;\n\t        }\n\t    }, {\n\t        key: 'getLayer',\n\t        value: function getLayer() {\n\t            var layer = 1000;\n\t\n\t            if (this.props.state && this.props.state.layer) {\n\t                layer = this.props.state.layer;\n\t            } else {\n\t                switch (this.props.asset_type) {\n\t                    case 'background':\n\t                        layer = 1;\n\t                        break;\n\t                    case 'message':\n\t                        layer = 10000;\n\t                        break;\n\t                }\n\t            }\n\t\n\t            this.setState({\n\t                layer: layer\n\t            });\n\t        }\n\t    }, {\n\t        key: 'attachEvents',\n\t        value: function attachEvents() {\n\t            this.refs.scale.addEventListener('mousedown', this.scale);\n\t            this.refs.rotate.addEventListener('mousedown', this.rotate);\n\t\n\t            this.refs.scale.addEventListener('touchstart', this.scale);\n\t            this.refs.rotate.addEventListener('touchstart', this.rotate);\n\t        }\n\t    }, {\n\t        key: 'componentDidMount',\n\t        value: function componentDidMount() {\n\t            this.bootstrap();\n\t        }\n\t    }, {\n\t        key: 'bootstrap',\n\t        value: function bootstrap() {\n\t            var _this5 = this;\n\t\n\t            _get(EditableAsset.prototype.__proto__ || Object.getPrototypeOf(EditableAsset.prototype), 'bootstrap', this).call(this);\n\t\n\t            if (this.props.state) {\n\t                this.setState(this.props.state);\n\t            }\n\t\n\t            this.getSize();\n\t            this.getLayer();\n\t\n\t            this.attachEvents();\n\t\n\t            skoash.trigger('emit', {\n\t                name: 'getMedia',\n\t                'media_id': this.props.media_id\n\t            }).then(function (d) {\n\t                _this5.setState(d, function () {\n\t                    _this5.checkItem();\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: 'componentDidUpdate',\n\t        value: function componentDidUpdate() {\n\t            this.attachEvents();\n\t        }\n\t    }, {\n\t        key: 'getButtonStyle',\n\t        value: function getButtonStyle() {\n\t            var extraRotation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\t\n\t            var style;\n\t            var transform = '';\n\t\n\t            transform += 'scale(' + 1 / this.state.scale + ') ';\n\t            transform += 'rotate(' + (-this.state.rotation - extraRotation) + 'rad) ';\n\t\n\t            style = {\n\t                transform: transform\n\t            };\n\t\n\t            return style;\n\t        }\n\t    }, {\n\t        key: 'getAssetStyle',\n\t        value: function getAssetStyle() {\n\t            var style;\n\t            var transform = '';\n\t\n\t            transform += 'scale(' + this.state.scale + ') ';\n\t            transform += 'rotate(' + this.state.rotation + 'rad) ';\n\t\n\t            style = {\n\t                backgroundImage: 'url(\"' + this.props.src + '\")',\n\t                width: this.state.width,\n\t                height: this.state.height,\n\t                left: this.state.left,\n\t                top: this.state.top,\n\t                transform: transform,\n\t                zIndex: this.state.layer\n\t            };\n\t\n\t            return style;\n\t        }\n\t    }, {\n\t        key: 'getButtonsStyle',\n\t        value: function getButtonsStyle() {\n\t            var style;\n\t            var transform = '';\n\t\n\t            transform += 'scale(' + this.state.scale + ') ';\n\t            transform += 'rotate(' + this.state.rotation + 'rad) ';\n\t\n\t            style = {\n\t                width: this.state.width,\n\t                height: this.state.height,\n\t                left: this.state.left,\n\t                top: this.state.top,\n\t                transform: transform\n\t            };\n\t\n\t            return style;\n\t        }\n\t    }, {\n\t        key: 'getClasses',\n\t        value: function getClasses() {\n\t            return (0, _classnames2.default)({\n\t                DRAGGING: this.state.dragging,\n\t                RETURN: this.state.return,\n\t                ACTIVE: this.state.active,\n\t                INVALID: !this.state.valid\n\t            }, 'editable-asset', this.props.asset_type);\n\t        }\n\t    }, {\n\t        key: 'renderAsset',\n\t        value: function renderAsset() {\n\t            return React.createElement('div', {\n\t                ref: 'el',\n\t                className: 'asset',\n\t                style: this.getAssetStyle()\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderButtons',\n\t        value: function renderButtons() {\n\t            return React.createElement(\n\t                'div',\n\t                {\n\t                    className: 'buttons',\n\t                    style: this.getButtonsStyle()\n\t                },\n\t                React.createElement('button', {\n\t                    className: 'delete',\n\t                    style: this.getButtonStyle(),\n\t                    onClick: this.delete.bind(this)\n\t                }),\n\t                React.createElement('button', {\n\t                    ref: 'rotate',\n\t                    className: 'rotate',\n\t                    style: this.getButtonStyle()\n\t                }),\n\t                React.createElement('button', {\n\t                    className: 'layer',\n\t                    onClick: this.layer.bind(this),\n\t                    style: this.getButtonStyle()\n\t                }),\n\t                React.createElement('button', {\n\t                    ref: 'scale',\n\t                    className: 'scale',\n\t                    style: this.getButtonStyle(1.5708)\n\t                })\n\t            );\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'li',\n\t                {\n\t                    ref: 'li',\n\t                    className: this.getClasses(),\n\t                    onClick: this.activate.bind(this)\n\t                },\n\t                this.renderAsset(),\n\t                this.renderButtons()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return EditableAsset;\n\t}(_3.default);\n\t\n\tEditableAsset.defaultProps = _.defaults({\n\t    canvasWidth: 1280,\n\t    canvasHeight: 720,\n\t    setValid: _.identity\n\t}, _3.default.defaultProps);\n\t\n\texports.default = EditableAsset;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Inbox = function (_Selectable) {\n\t    _inherits(Inbox, _Selectable);\n\t\n\t    function Inbox() {\n\t        _classCallCheck(this, Inbox);\n\t\n\t        return _possibleConstructorReturn(this, (Inbox.__proto__ || Object.getPrototypeOf(Inbox)).call(this));\n\t    }\n\t\n\t    _createClass(Inbox, [{\n\t        key: 'selectHelper',\n\t        value: function selectHelper(e) {\n\t            var li;\n\t            var message;\n\t            var key;\n\t            var classes = [];\n\t\n\t            li = e.target.closest('LI');\n\t\n\t            if (!li) return;\n\t\n\t            key = li.getAttribute('data-ref');\n\t\n\t            if (!this.refs[key]) return;\n\t\n\t            message = this.refs[key].props.item;\n\t            classes[key] = this.props.selectClass;\n\t\n\t            this.setState({\n\t                message: message,\n\t                classes: classes\n\t            });\n\t\n\t            if (message.status !== 'COMPLETE') return;\n\t\n\t            if (typeof this.props.selectRespond === 'function' && message) {\n\t                this.props.selectRespond(message);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getClass',\n\t        value: function getClass(key, read) {\n\t            return (0, _classnames2.default)(this.state.classes[key], {\n\t                UNREAD: this.props.friendKey === 'created_by' && !read,\n\t                SENT: this.props.friendKey !== 'created_by'\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)({\n\t                'item-drawer': true,\n\t                COMPLETE: this.state.complete\n\t            }, this.props.className);\n\t        }\n\t    }, {\n\t        key: 'getStatusText',\n\t        value: function getStatusText(item) {\n\t            if (!item.status || item.status === 'COMPLETE') return '';\n\t            return item.status;\n\t        }\n\t    }, {\n\t        key: 'renderList',\n\t        value: function renderList() {\n\t            var _this2 = this;\n\t\n\t            var items;\n\t            var friends;\n\t\n\t            if (!this.props.data || !this.props.data.items) return;\n\t\n\t            items = this.props.data.items;\n\t\n\t            if (!items.length) {\n\t                return React.createElement(\n\t                    'li',\n\t                    { className: 'empty' },\n\t                    this.props.emptyMessage\n\t                );\n\t            }\n\t\n\t            friends = _.get(this.props.gameState, 'data.user', []);\n\t\n\t            return _.map(items, function (item, key) {\n\t                var timestamp;\n\t                var image;\n\t                var name;\n\t                timestamp = moment.utc(item.updated).local();\n\t                key = 'message-' + key;\n\t\n\t                if (item[_this2.props.friendKey] == null) return null;\n\t\n\t                _.each(friends, function (friend) {\n\t                    if (item[_this2.props.friendKey] === friend.friend_id) {\n\t                        image = friend._embedded.image ? friend._embedded.image.url : '';\n\t                        name = friend.username;\n\t                    }\n\t                });\n\t\n\t                if (!name) {\n\t                    skoash.trigger('getData', {\n\t                        name: 'getFriend',\n\t                        'friend_id': item[_this2.props.friendKey]\n\t                    });\n\t                    name = '';\n\t                }\n\t\n\t                if (_this2.props.friendKey === 'friend_to') {\n\t                    item.sent = true;\n\t                }\n\t\n\t                return React.createElement(\n\t                    skoash.ListItem,\n\t                    {\n\t                        className: _this2.getClass(key, item.read),\n\t                        ref: key,\n\t                        'data-ref': key,\n\t                        item: item,\n\t                        key: key\n\t                    },\n\t                    React.createElement(skoash.Image, { src: image }),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: 'username' + (name.length > 15 ? ' long' : '') },\n\t                        name\n\t                    ),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: 'timestamp' },\n\t                        React.createElement(\n\t                            'span',\n\t                            { className: 'date' },\n\t                            timestamp.format('MM.DD.YY')\n\t                        ),\n\t                        React.createElement(\n\t                            'span',\n\t                            { className: 'time' },\n\t                            timestamp.format('h:mm a')\n\t                        )\n\t                    ),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: 'status ' + item.status },\n\t                        _this2.getStatusText(item)\n\t                    )\n\t                );\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(\n\t                    'ul',\n\t                    { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t                    this.renderList()\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Inbox;\n\t}(_3.default);\n\t\n\tInbox.defaultProps = _.defaults({\n\t    friendKey: 'created_by',\n\t    gameState: {}\n\t}, _3.default.defaultProps);\n\t\n\texports.default = Inbox;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(\n\t        skoash.Screen,\n\t        _extends({}, props, {\n\t            ref: ref,\n\t            key: key,\n\t            id: \"ios-splash\",\n\t            checkComplete: false,\n\t            completeDelay: 6000,\n\t            nextDelay: 3000,\n\t            completeOnStart: true,\n\t            hidePrev: true\n\t        }),\n\t        React.createElement(skoash.Image, { className: \"hidden\", src: \"../shared/images/ios_start_ball.png\" }),\n\t        React.createElement(skoash.Image, { className: \"hidden\", src: \"../shared/images/ios_start_ball_anim.gif\" })\n\t    );\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Loader = function (_skoash$Component) {\n\t    _inherits(Loader, _skoash$Component);\n\t\n\t    function Loader() {\n\t        _classCallCheck(this, Loader);\n\t\n\t        return _possibleConstructorReturn(this, (Loader.__proto__ || Object.getPrototypeOf(Loader)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Loader, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            return React.createElement(\n\t                \"div\",\n\t                { id: \"loader\", className: \"center\" },\n\t                React.createElement(\n\t                    \"div\",\n\t                    { className: \"group\" },\n\t                    React.createElement(\n\t                        \"h2\",\n\t                        null,\n\t                        \"Loading!\"\n\t                    ),\n\t                    React.createElement(\n\t                        \"div\",\n\t                        { className: \"spinner animated\" },\n\t                        React.createElement(\n\t                            \"div\",\n\t                            { className: \"spinner animated\" },\n\t                            React.createElement(\"div\", { className: \"spinner animated\" })\n\t                        )\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Loader;\n\t}(skoash.Component);\n\t\n\texports.default = Loader;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Menu = function (_Selectable) {\n\t    _inherits(Menu, _Selectable);\n\t\n\t    function Menu() {\n\t        _classCallCheck(this, Menu);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Menu.__proto__ || Object.getPrototypeOf(Menu)).call(this));\n\t\n\t        _this.state = {\n\t            active: false,\n\t            selectClass: 'SELECTED',\n\t            classes: {}\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Menu, [{\n\t        key: 'deactivate',\n\t        value: function deactivate() {\n\t            this.setState({\n\t                active: false\n\t            });\n\t\n\t            _.each(this.refs, function (ref) {\n\t                _.invoke(ref, 'deactivate');\n\t            });\n\t        }\n\t    }, {\n\t        key: 'onClick',\n\t        value: function onClick(e) {\n\t            var li;\n\t            var ul;\n\t            var dom;\n\t            var message;\n\t            var active = false;\n\t            var classes = [];\n\t\n\t            li = e.target.closest('LI');\n\t\n\t            if (!li) return;\n\t\n\t            ul = li.closest('UL');\n\t            dom = ReactDOM.findDOMNode(this); // eslint-disable-line no-undef\n\t\n\t            if (ul !== dom) return;\n\t\n\t            message = li.getAttribute('data-ref');\n\t\n\t            if (this.state.classes[message] !== this.state.selectClass) {\n\t                classes[message] = this.state.selectClass;\n\t                active = !this.props.inactive;\n\t            }\n\t\n\t            this.setState({\n\t                classes: classes,\n\t                active: active\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderItems',\n\t        value: function renderItems() {\n\t            var _this2 = this;\n\t\n\t            var self = this;\n\t\n\t            if (_typeof(this.props.items) !== 'object') return;\n\t\n\t            return Object.keys(this.props.items).map(function (key) {\n\t                var item;\n\t                var onClick;\n\t                var gotoObj;\n\t                var categories;\n\t                var isFinal;\n\t\n\t                categories = _this2.props.categories ? [].concat(_this2.props.categories) : [];\n\t                categories.push(key);\n\t\n\t                item = _this2.props.items[key];\n\t\n\t                isFinal = _typeof(item.items) !== 'object' || Object.prototype.toString.call(item.items) === '[object Array]' && item.items[0] && !item.items[0].items || typeof self.props.lastLevel === 'number' && self.props.lastLevel === self.props.level;\n\t\n\t                if (isFinal) {\n\t                    gotoObj = {\n\t                        index: 'item-drawer',\n\t                        categories: categories,\n\t                        categoryName: item.name\n\t                    };\n\t                    onClick = skoash.trigger.bind(null, 'goto', gotoObj);\n\t                }\n\t\n\t                return React.createElement(\n\t                    skoash.ListItem,\n\t                    {\n\t                        className: self.getClass(key),\n\t                        'data-ref': key,\n\t                        ref: key,\n\t                        key: key,\n\t                        onClick: onClick\n\t                    },\n\t                    React.createElement(\n\t                        'span',\n\t                        null,\n\t                        item.name || key\n\t                    ),\n\t                    function () {\n\t                        if (isFinal) return;\n\t                        return React.createElement(Menu, {\n\t                            ref: 'menu-' + key,\n\t                            categories: categories,\n\t                            items: item.items,\n\t                            inactive: true,\n\t                            level: (self.props.level || 0) + 1,\n\t                            lastLevel: self.props.lastLevel\n\t                        });\n\t                    }()\n\t                );\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getClass',\n\t        value: function getClass(key) {\n\t            var _classNames;\n\t\n\t            return (0, _classnames2.default)((_classNames = {}, _defineProperty(_classNames, key.replace(' ', '-'), true), _defineProperty(_classNames, this.state.classes[key] || '', true), _classNames));\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)({\n\t                menu: true,\n\t                ACTIVE: this.state.active\n\t            }, this.props.className);\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'ul',\n\t                {\n\t                    className: this.getClassNames(),\n\t                    onClick: this.onClick.bind(this)\n\t                },\n\t                this.renderItems()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Menu;\n\t}(_3.default);\n\t\n\texports.default = Menu;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar QuitScreen = function (_skoash$Screen) {\n\t    _inherits(QuitScreen, _skoash$Screen);\n\t\n\t    function QuitScreen() {\n\t        _classCallCheck(this, QuitScreen);\n\t\n\t        return _possibleConstructorReturn(this, (QuitScreen.__proto__ || Object.getPrototypeOf(QuitScreen)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(QuitScreen, [{\n\t        key: 'okay',\n\t        value: function okay() {\n\t            skoash.trigger('quit');\n\t        }\n\t    }, {\n\t        key: 'cancel',\n\t        value: function cancel() {\n\t            this.close();\n\t            skoash.trigger('menuClose', {\n\t                id: this.props.id\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderAssets',\n\t        value: function renderAssets() {\n\t            if (this.props.assets) {\n\t                return this.props.assets.map(function (asset, key) {\n\t                    return React.createElement(skoash.Audio, _extends({}, asset.props, {\n\t                        ref: asset.ref || asset.props['data-ref'] || 'asset-' + key,\n\t                        key: key,\n\t                        'data-ref': key\n\t                    }));\n\t                });\n\t            }\n\t\n\t            return null;\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                { id: this.props.id, className: 'screen ' + this.getClassNames() },\n\t                this.renderAssets(),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'center' },\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'frame' },\n\t                        React.createElement(\n\t                            'h2',\n\t                            null,\n\t                            'Are you sure you',\n\t                            React.createElement('br', null),\n\t                            'want to quit?'\n\t                        ),\n\t                        React.createElement(\n\t                            'h3',\n\t                            null,\n\t                            'Your game progress will be saved'\n\t                        ),\n\t                        React.createElement('button', { className: 'quit-yes', onClick: this.okay.bind(this) }),\n\t                        React.createElement('button', { className: 'quit-no', onClick: this.cancel.bind(this) })\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return QuitScreen;\n\t}(skoash.Screen);\n\t\n\texports.default = React.createElement(QuitScreen, {\n\t    id: 'quit'\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Repeater = function (_skoash$Component) {\n\t    _inherits(Repeater, _skoash$Component);\n\t\n\t    function Repeater() {\n\t        _classCallCheck(this, Repeater);\n\t\n\t        return _possibleConstructorReturn(this, (Repeater.__proto__ || Object.getPrototypeOf(Repeater)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Repeater, [{\n\t        key: 'renderContentList',\n\t        value: function renderContentList() {\n\t            var a = [];\n\t            for (var i = 0; i < this.props.amount; i++) {\n\t                a.push(React.createElement(this.props.item, _extends({ key: i }, this.props.props[i])));\n\t            }\n\t            return a;\n\t        }\n\t    }]);\n\t\n\t    return Repeater;\n\t}(skoash.Component);\n\t\n\tRepeater.defaultProps = _.defaults({\n\t    amount: 1,\n\t    item: 'div',\n\t    props: []\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = Repeater;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// As of skoash 1.1.0 this component can be found at skoash.Reveal\n\t/* eslint-disable no-console */\n\tconsole.warn('As of skoash 1.1.0 this component can be found at skoash.Reveal');\n\t/* eslint-enable no-console */\n\t\n\tvar Reveal = function (_skoash$Component) {\n\t    _inherits(Reveal, _skoash$Component);\n\t\n\t    function Reveal() {\n\t        _classCallCheck(this, Reveal);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Reveal.__proto__ || Object.getPrototypeOf(Reveal)).call(this));\n\t\n\t        _this.state = {\n\t            openReveal: '',\n\t            currentlyOpen: []\n\t        };\n\t\n\t        _this.index = 0;\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Reveal, [{\n\t        key: 'incomplete',\n\t        value: function incomplete() {\n\t            this.setState({\n\t                openReveal: '',\n\t                currentlyOpen: []\n\t            });\n\t\n\t            _get(Reveal.prototype.__proto__ || Object.getPrototypeOf(Reveal.prototype), 'incomplete', this).call(this);\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open(message) {\n\t            var self = this;\n\t            var currentlyOpen = this.props.openMultiple ? this.state.currentlyOpen.concat(message) : [message];\n\t\n\t            self.setState({\n\t                open: true,\n\t                openReveal: message,\n\t                currentlyOpen: currentlyOpen\n\t            });\n\t\n\t            self.playAudio(message);\n\t\n\t            if (self.props.completeOnOpen) {\n\t                self.complete();\n\t            } else {\n\t                _.each(self.refs, function (ref, key) {\n\t                    if (key === message) _.invoke(ref, 'complete');\n\t                });\n\t            }\n\t\n\t            if (self.props.autoClose) {\n\t                setTimeout(function () {\n\t                    self.close();\n\t                }, 2000);\n\t            }\n\t\n\t            if (self.props.openTarget) {\n\t                self.updateGameState({\n\t                    path: self.props.openTarget,\n\t                    data: {\n\t                        open: '' + message,\n\t                        close: false\n\t                    }\n\t                });\n\t            }\n\t\n\t            self.props.onOpen.call(self, message);\n\t        }\n\t    }, {\n\t        key: 'close',\n\t        value: function close() {\n\t            var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t            var prevMessage;\n\t            var currentlyOpen;\n\t            var openReveal;\n\t            var open;\n\t\n\t            prevMessage = this.state.openReveal;\n\t            currentlyOpen = this.state.currentlyOpen;\n\t            currentlyOpen.splice(currentlyOpen.indexOf(prevMessage), 1);\n\t            open = currentlyOpen.length > 0;\n\t            openReveal = open ? currentlyOpen[currentlyOpen.length - 1] : '';\n\t\n\t            this.setState({\n\t                open: open,\n\t                openReveal: openReveal,\n\t                currentlyOpen: currentlyOpen\n\t            });\n\t\n\t            if (!opts.silent) this.playMedia('close-sound');\n\t\n\t            this.props.onClose.call(this, prevMessage);\n\t\n\t            if (typeof this.props.closeRespond === 'function') {\n\t                this.props.closeRespond(prevMessage);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'start',\n\t        value: function start() {\n\t            _get(Reveal.prototype.__proto__ || Object.getPrototypeOf(Reveal.prototype), 'start', this).call(this);\n\t            if (this.props.openOnStart != null) {\n\t                this.open(this.props.openOnStart);\n\t            } else if (this.props.start && typeof this.props.start === 'function') {\n\t                this.props.start.call(this);\n\t            } else {\n\t                this.close({ silent: true });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'playAudio',\n\t        value: function playAudio(message) {\n\t            var _this2 = this;\n\t\n\t            var messages;\n\t\n\t            message += '';\n\t\n\t            this.playMedia('open-sound');\n\t\n\t            messages = message.split(' ');\n\t            messages.map(function (audio) {\n\t                _this2.playMedia(audio);\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderAssets',\n\t        value: function renderAssets() {\n\t            if (this.props.assets) {\n\t                return this.props.assets.map(function (asset, key) {\n\t                    var ref = asset.ref || asset.props['data-ref'] || 'asset-' + key;\n\t                    return React.createElement(asset.type, _extends({}, asset.props, {\n\t                        'data-ref': key,\n\t                        ref: ref,\n\t                        key: key\n\t                    }));\n\t                });\n\t            }\n\t\n\t            return null;\n\t        }\n\t    }, {\n\t        key: 'renderList',\n\t        value: function renderList() {\n\t            var _this3 = this;\n\t\n\t            var list = this.props.list;\n\t\n\t            return list.map(function (li, key) {\n\t                var ref = li.ref || li.props['data-ref'] || key;\n\t                return React.createElement(li.type, _extends({}, li.props, {\n\t                    type: 'li',\n\t                    className: _this3.getClass(li, key),\n\t                    'data-ref': ref,\n\t                    ref: ref,\n\t                    key: key\n\t                }));\n\t            });\n\t        }\n\t    }, {\n\t        key: 'componentWillReceiveProps',\n\t        value: function componentWillReceiveProps(props) {\n\t            _get(Reveal.prototype.__proto__ || Object.getPrototypeOf(Reveal.prototype), 'componentWillReceiveProps', this).call(this, props);\n\t\n\t            if (props.openReveal != null && props.openReveal !== this.props.openReveal) {\n\t                this.open(props.openReveal);\n\t            }\n\t\n\t            if (props.closeReveal !== this.props.closeReveal) {\n\t                if (props.closeReveal === true) {\n\t                    this.close();\n\t                } else if (Number.isInteger(props.closeReveal)) {\n\t                    for (var i = 0; i < props.closeReveal; i++) {\n\t                        this.close();\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getClass',\n\t        value: function getClass(li, key) {\n\t            var classes = '';\n\t\n\t            if (li.props.className) classes = li.props.className;\n\t\n\t            if (this.state.currentlyOpen.indexOf(key) !== -1 || this.state.currentlyOpen.indexOf('' + key) !== -1 || this.state.currentlyOpen.indexOf(li.props['data-ref']) !== -1 || this.state.currentlyOpen.indexOf(li.ref) !== -1) {\n\t                classes = (0, _classnames2.default)(classes, 'OPEN');\n\t            }\n\t\n\t            return classes;\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            var classes;\n\t            var open = 'open-none';\n\t\n\t            if (this.state.open) {\n\t                open = '';\n\t                this.state.currentlyOpen.forEach(function (ref) {\n\t                    open += 'open-' + ref;\n\t                });\n\t            }\n\t\n\t            classes = (0, _classnames2.default)('reveal', open, _get(Reveal.prototype.__proto__ || Object.getPrototypeOf(Reveal.prototype), 'getClassNames', this).call(this));\n\t\n\t            return classes;\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                { className: this.getClassNames() },\n\t                this.renderAssets(),\n\t                React.createElement(\n\t                    'div',\n\t                    null,\n\t                    React.createElement(\n\t                        'ul',\n\t                        null,\n\t                        this.renderList()\n\t                    ),\n\t                    React.createElement('button', { className: 'close-reveal', onClick: this.close.bind(this) })\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Reveal;\n\t}(skoash.Component);\n\t\n\tReveal.defaultProps = _.defaults({\n\t    list: [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)],\n\t    openMultiple: false,\n\t    onOpen: _.noop,\n\t    onClose: _.noop\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = Reveal;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _ = __webpack_require__(2);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SavedMessages = function (_Selectable) {\n\t    _inherits(SavedMessages, _Selectable);\n\t\n\t    function SavedMessages() {\n\t        _classCallCheck(this, SavedMessages);\n\t\n\t        return _possibleConstructorReturn(this, (SavedMessages.__proto__ || Object.getPrototypeOf(SavedMessages)).call(this));\n\t    }\n\t\n\t    _createClass(SavedMessages, [{\n\t        key: 'selectHelper',\n\t        value: function selectHelper(e) {\n\t            var li;\n\t            var message;\n\t            var key;\n\t            var classes = [];\n\t\n\t            li = e.target.closest('LI');\n\t\n\t            if (!li) return;\n\t\n\t            key = li.getAttribute('data-ref');\n\t\n\t            message = this.refs[key].props.item;\n\t            classes[key] = this.state.selectClass;\n\t\n\t            this.setState({\n\t                message: message,\n\t                classes: classes\n\t            }, this.selectRespond.bind(this));\n\t        }\n\t    }, {\n\t        key: 'selectRespond',\n\t        value: function selectRespond() {\n\t            if (typeof this.props.selectRespond === 'function' && this.state.message) {\n\t                this.props.selectRespond(this.state.message);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getClass',\n\t        value: function getClass(key) {\n\t            var _classNames;\n\t\n\t            return (0, _classnames2.default)((_classNames = {}, _defineProperty(_classNames, this.state.classes[key] || '', true), _defineProperty(_classNames, 'DRAFT', true), _classNames));\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)({\n\t                'item-drawer': true,\n\t                SAVED: true,\n\t                COMPLETE: this.state.complete\n\t            }, this.props.className);\n\t        }\n\t    }, {\n\t        key: 'renderThumb',\n\t        value: function renderThumb(item) {\n\t            var firstImg;\n\t            var background;\n\t\n\t            background = item && item.rules && item.rules.background && item.rules.background.src ? item.rules.background.src : '';\n\t\n\t            firstImg = item && item.rules && item.rules.items && item.rules.items[0] && item.rules.items[0].src ? item.rules.items[0].src : item && item.rules && item.rules.messages && item.rules.messages[0] && item.rules.messages[0].src ? item.rules.messages[0].src : '';\n\t\n\t            return React.createElement(\n\t                'div',\n\t                {\n\t                    className: 'thumbnail',\n\t                    style: {\n\t                        backgroundImage: 'url(' + background + ')'\n\t                    }\n\t                },\n\t                React.createElement(skoash.Image, { src: firstImg })\n\t            );\n\t        }\n\t    }, {\n\t        key: 'renderList',\n\t        value: function renderList() {\n\t            var items;\n\t            var self = this;\n\t\n\t            if (!self.props.data || !self.props.data.items) return;\n\t\n\t            items = self.props.data.items;\n\t\n\t            if (!items.length) {\n\t                return React.createElement(\n\t                    'li',\n\t                    { className: 'empty' },\n\t                    this.props.emptyMessage\n\t                );\n\t            }\n\t\n\t            return items.map(function (item, key) {\n\t                var timestamp = moment.utc(item.updated).local();\n\t                return React.createElement(\n\t                    skoash.ListItem,\n\t                    {\n\t                        className: self.getClass(key),\n\t                        ref: key,\n\t                        'data-ref': key,\n\t                        item: item,\n\t                        key: key\n\t                    },\n\t                    self.renderThumb(item),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: 'timestamp' },\n\t                        React.createElement(\n\t                            'span',\n\t                            { className: 'date' },\n\t                            timestamp.format('MM.DD.YY')\n\t                        ),\n\t                        React.createElement(\n\t                            'span',\n\t                            { className: 'time' },\n\t                            timestamp.format('h:mm a')\n\t                        )\n\t                    )\n\t                );\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(\n\t                    'ul',\n\t                    { className: this.getClassNames(), onClick: this.state.selectFunction.bind(this) },\n\t                    this.renderList()\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SavedMessages;\n\t}(_2.default);\n\t\n\texports.default = SavedMessages;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// As of skoash 1.1.0 this component can be found at skoash.ScrollArea\n\t/* eslint-disable no-console */\n\tconsole.warn('As of skoash 1.1.0 this component can be found at skoash.ScrollArea');\n\t/* eslint-enable no-console */\n\t\n\tvar IMAGE = 'image';\n\tvar AREA = 'area';\n\tvar CONTENT = 'content';\n\tvar SCROLLBAR = 'scrollbar';\n\tvar SCROLLER = 'scroller';\n\t\n\tvar ScrollArea = function (_skoash$Component) {\n\t    _inherits(ScrollArea, _skoash$Component);\n\t\n\t    function ScrollArea() {\n\t        _classCallCheck(this, ScrollArea);\n\t\n\t        var _this = _possibleConstructorReturn(this, (ScrollArea.__proto__ || Object.getPrototypeOf(ScrollArea)).call(this));\n\t\n\t        _this.state = _.defaults({\n\t            startY: 0,\n\t            endY: 0,\n\t            zoom: 1\n\t        }, _this.state);\n\t\n\t        _this.setZoom = _this.setZoom.bind(_this);\n\t\n\t        _this.mouseDown = _this.mouseDown.bind(_this);\n\t        _this.mouseUp = _this.mouseUp.bind(_this);\n\t\n\t        _this.moveEvent = _this.moveEvent.bind(_this);\n\t\n\t        _this.touchStart = _this.touchStart.bind(_this);\n\t        _this.touchEnd = _this.touchEnd.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(ScrollArea, [{\n\t        key: 'start',\n\t        value: function start() {\n\t            var _this2 = this;\n\t\n\t            _get(ScrollArea.prototype.__proto__ || Object.getPrototypeOf(ScrollArea.prototype), 'start', this).call(this, function () {\n\t                _this2[AREA].scrollTop = 0;\n\t                _this2.setState({\n\t                    startY: 0,\n\t                    endY: 0\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: 'bootstrap',\n\t        value: function bootstrap() {\n\t            var _this3 = this;\n\t\n\t            _get(ScrollArea.prototype.__proto__ || Object.getPrototypeOf(ScrollArea.prototype), 'bootstrap', this).call(this);\n\t\n\t            this.setZoom();\n\t            window.addEventListener('resize', this.setZoom);\n\t\n\t            this[AREA] = ReactDOM.findDOMNode(this.refs[AREA]);\n\t            this[CONTENT] = ReactDOM.findDOMNode(this.refs[CONTENT]);\n\t            this[SCROLLBAR] = ReactDOM.findDOMNode(this.refs[SCROLLBAR]);\n\t            this[SCROLLER] = ReactDOM.findDOMNode(this.refs[SCROLLER]);\n\t\n\t            this[AREA].scrollTop = 0;\n\t\n\t            this[AREA].addEventListener('scroll', function (e) {\n\t                var areaScrollTop;\n\t                var endY;\n\t\n\t                if (!e.target || _this3.dragging) return;\n\t\n\t                areaScrollTop = e.target.scrollTop;\n\t                endY = (_this3[SCROLLBAR].offsetHeight - _this3.props.scrollbarHeight) * (areaScrollTop / (_this3[CONTENT].offsetHeight - _this3[AREA].offsetHeight));\n\t\n\t                _this3.setState({\n\t                    startY: 0,\n\t                    endY: endY\n\t                });\n\t            });\n\t\n\t            this[SCROLLER].addEventListener('mousedown', this.mouseDown);\n\t            this[SCROLLER].addEventListener('touchstart', this.touchStart);\n\t        }\n\t    }, {\n\t        key: 'setZoom',\n\t        value: function setZoom() {\n\t            var _this4 = this;\n\t\n\t            skoash.trigger('getState').then(function (state) {\n\t                _this4.setState({\n\t                    zoom: state.scale\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: 'mouseDown',\n\t        value: function mouseDown(e) {\n\t            this.startEvent(e, this.attachMouseEvents);\n\t        }\n\t    }, {\n\t        key: 'touchStart',\n\t        value: function touchStart(e) {\n\t            this.startEvent(e, this.attachTouchEvents);\n\t        }\n\t    }, {\n\t        key: 'startEvent',\n\t        value: function startEvent(e, cb) {\n\t            var startY;\n\t            var endY;\n\t\n\t            if (e.target !== this[SCROLLER]) return;\n\t\n\t            this.dragging = true;\n\t\n\t            e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\t\n\t            endY = this.getEndY(e);\n\t            startY = this.state.startY || endY;\n\t\n\t            this.setState({\n\t                startY: startY,\n\t                endY: endY\n\t            });\n\t\n\t            if (typeof cb === 'function') cb.call(this);\n\t        }\n\t    }, {\n\t        key: 'getEndY',\n\t        value: function getEndY(e) {\n\t            return Math.min(Math.max(e.pageY / this.state.zoom, this.state.startY), this.state.startY + this[SCROLLBAR].getBoundingClientRect().height / this.state.zoom - this.props.scrollbarHeight);\n\t        }\n\t    }, {\n\t        key: 'attachMouseEvents',\n\t        value: function attachMouseEvents() {\n\t            window.addEventListener('mousemove', this.moveEvent);\n\t            window.addEventListener('mouseup', this.mouseUp);\n\t        }\n\t    }, {\n\t        key: 'attachTouchEvents',\n\t        value: function attachTouchEvents() {\n\t            window.addEventListener('touchmove', this.moveEvent);\n\t            window.addEventListener('touchend', this.touchEnd);\n\t        }\n\t    }, {\n\t        key: 'moveEvent',\n\t        value: function moveEvent(e) {\n\t            var endY;\n\t\n\t            e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\t\n\t            endY = this.getEndY(e);\n\t\n\t            this[AREA].scrollTop = (endY - this.state.startY) * (this[CONTENT].offsetHeight - this[AREA].offsetHeight) / (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight);\n\t\n\t            this.setState({\n\t                endY: endY\n\t            });\n\t        }\n\t    }, {\n\t        key: 'mouseUp',\n\t        value: function mouseUp() {\n\t            this.dragging = false;\n\t            this.detachMouseEvents();\n\t        }\n\t    }, {\n\t        key: 'touchEnd',\n\t        value: function touchEnd() {\n\t            this.dragging = false;\n\t            this.detachTouchEvents();\n\t        }\n\t    }, {\n\t        key: 'detachMouseEvents',\n\t        value: function detachMouseEvents() {\n\t            window.removeEventListener('mousemove', this.moveEvent);\n\t            window.removeEventListener('mouseup', this.mouseUp);\n\t        }\n\t    }, {\n\t        key: 'detachTouchEvents',\n\t        value: function detachTouchEvents() {\n\t            window.removeEventListener('touchmove', this.moveEvent);\n\t            window.removeEventListener('touchend', this.touchEnd);\n\t        }\n\t    }, {\n\t        key: 'getScrollerStyle',\n\t        value: function getScrollerStyle() {\n\t            return {\n\t                backgroundImage: 'url(' + this.props.img + ')',\n\t                top: this.state.endY - this.state.startY\n\t            };\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)('scroll-area', _get(ScrollArea.prototype.__proto__ || Object.getPrototypeOf(ScrollArea.prototype), 'getClassNames', this).call(this));\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            if (!this.props.shouldRender) return null;\n\t\n\t            return React.createElement(\n\t                this.props.type,\n\t                _extends({}, this.props, { className: this.getClassNames() }),\n\t                React.createElement(skoash.Image, { ref: IMAGE, className: 'hidden', src: this.props.img }),\n\t                React.createElement(\n\t                    'div',\n\t                    { ref: AREA, className: AREA },\n\t                    React.createElement(\n\t                        'div',\n\t                        { ref: CONTENT, className: CONTENT },\n\t                        this.renderContentList()\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    'div',\n\t                    {\n\t                        ref: SCROLLBAR,\n\t                        className: SCROLLBAR\n\t                    },\n\t                    React.createElement('div', {\n\t                        ref: SCROLLER,\n\t                        className: SCROLLER,\n\t                        style: this.getScrollerStyle()\n\t                    })\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return ScrollArea;\n\t}(skoash.Component);\n\t\n\tScrollArea.defaultProps = _.defaults({\n\t    img: '',\n\t    scrollbarHeight: 100\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = ScrollArea;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _4 = __webpack_require__(14);\n\t\n\tvar _5 = _interopRequireDefault(_4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SelectableReveal = function (_skoash$Component) {\n\t    _inherits(SelectableReveal, _skoash$Component);\n\t\n\t    function SelectableReveal() {\n\t        _classCallCheck(this, SelectableReveal);\n\t\n\t        return _possibleConstructorReturn(this, (SelectableReveal.__proto__ || Object.getPrototypeOf(SelectableReveal)).call(this));\n\t    }\n\t\n\t    _createClass(SelectableReveal, [{\n\t        key: 'start',\n\t        value: function start() {\n\t            _get(SelectableReveal.prototype.__proto__ || Object.getPrototypeOf(SelectableReveal.prototype), 'start', this).call(this);\n\t            this.setState({\n\t                canSelectOnStart: this.props.canSelectOnStart\n\t            });\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open(message) {\n\t            this.refs.reveal.open(message);\n\t        }\n\t    }, {\n\t        key: 'selectRespond',\n\t        value: function selectRespond(message) {\n\t            if (this.props.answers.length) {\n\t                if (this.props.answers.indexOf(message) === -1) {\n\t                    this.playMedia('incorrect');\n\t                    if (this.props.revealAll) {\n\t                        if (typeof this.refs.reveal.open === 'function') {\n\t                            this.open(message);\n\t                        }\n\t                    }\n\t                } else {\n\t                    this.playMedia('correct');\n\t                    if (typeof this.refs.reveal.open === 'function') {\n\t                        this.open(message);\n\t                    }\n\t                }\n\t            } else {\n\t                if (this.props.allCorrect) this.playMedia('correct');\n\t                if (typeof this.refs.reveal.open === 'function') {\n\t                    this.open(message);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'closeRespond',\n\t        value: function closeRespond() {\n\t            if (typeof this.props.closeRespond === 'function') {\n\t                this.props.closeRespond();\n\t            }\n\t        }\n\t    }, {\n\t        key: 'renderAssets',\n\t        value: function renderAssets() {\n\t            if (this.props.assets) {\n\t                return this.props.assets.map(function (asset, key) {\n\t                    return React.createElement(skoash.Audio, _extends({}, asset.props, {\n\t                        ref: asset.ref || asset.props['data-ref'] || 'asset-' + key,\n\t                        key: key,\n\t                        'data-ref': key\n\t                    }));\n\t                });\n\t            }\n\t\n\t            return null;\n\t        }\n\t    }, {\n\t        key: 'renderSelectable',\n\t        value: function renderSelectable() {\n\t            return React.createElement(_3.default, {\n\t                ref: 'selectable',\n\t                list: this.props.selectableList,\n\t                selectRespond: this.selectRespond.bind(this),\n\t                selectClass: this.props.selectableSelectClass,\n\t                completeOnSelect: this.props.selectableCompleteOnSelect,\n\t                checkComplete: this.props.selectableCheckComplete,\n\t                randomizeList: this.props.randomizeSelectableList,\n\t                selectOnStart: this.props.selectOnStart,\n\t                chooseOne: this.props.chooseOne,\n\t                answers: this.props.answers,\n\t                allowDeselect: this.props.allowDeselect\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderReveal',\n\t        value: function renderReveal() {\n\t            return React.createElement(_5.default, {\n\t                ref: 'reveal',\n\t                list: this.props.revealList,\n\t                assets: this.props.revealAssets,\n\t                closeRespond: this.closeRespond.bind(this),\n\t                completeOnOpen: this.props.revealCompleteOnOpen,\n\t                checkComplete: this.props.revealCheckComplete,\n\t                openOnStart: this.props.openOnStart,\n\t                hide: this.props.hideReveal,\n\t                openReveal: this.props.openReveal,\n\t                onOpen: this.props.onOpen,\n\t                openMultiple: false\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getClasses',\n\t        value: function getClasses() {\n\t            var classes = '';\n\t\n\t            if (this.state.complete) classes += ' COMPLETE';\n\t\n\t            return classes;\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                { className: 'selectable-reveal' + this.getClasses() },\n\t                this.renderAssets(),\n\t                this.renderSelectable(),\n\t                this.renderReveal()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SelectableReveal;\n\t}(skoash.Component);\n\t\n\tSelectableReveal.defaultProps = _.defaults({\n\t    answers: [],\n\t    canSelectOnStart: true\n\t}, skoash.Component.defaultProps);\n\t\n\texports.default = SelectableReveal;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t(function (gameName) {\n\t    // remove window.MEDIA once no games reference it\n\t    var MEDIA = window.MEDIA = {\n\t        BASE: ENVIRONMENT.MEDIA\n\t    };\n\t\n\t    MEDIA.GAME = MEDIA.BASE + 'Games/' + gameName + '/';\n\t    MEDIA.EFFECT = MEDIA.GAME + 'SoundAssets/effects/';\n\t    MEDIA.VO = MEDIA.GAME + 'SoundAssets/vos/';\n\t    MEDIA.IMAGE = MEDIA.GAME + 'ImageAssets/';\n\t    MEDIA.SPRITE = MEDIA.GAME + 'SpritesAnimations/';\n\t\n\t    MEDIA.MOCK = {};\n\t    MEDIA.MOCK.GAME = MEDIA.BASE + 'Games/mockGame/';\n\t    MEDIA.MOCK.EFFECT = MEDIA.MOCK.GAME + 'SoundAssets/effects/';\n\t    MEDIA.MOCK.VO = MEDIA.MOCK.GAME + 'SoundAssets/vos/';\n\t    MEDIA.MOCK.IMAGE = MEDIA.MOCK.GAME + 'ImageAssets/';\n\t    MEDIA.MOCK.SPRITE = MEDIA.MOCK.GAME + 'SpritesAnimations/';\n\t\n\t    window.CMWN.MEDIA = MEDIA;\n\t})(window.CMWN.gameFolder);\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\twindow.ENVIRONMENT = {\n\t    MEDIA: 'https://media.changemyworldnow.com/f/'\n\t};\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(CanvasScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'canvas',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _2 = __webpack_require__(4);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _4 = __webpack_require__(11);\n\t\n\tvar _5 = _interopRequireDefault(_4);\n\t\n\tvar _6 = __webpack_require__(2);\n\t\n\tvar _7 = _interopRequireDefault(_6);\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t// import Reveal from 'shared/components/reveal/0.1';\n\t\n\tvar CanvasScreen = function (_skoash$Screen) {\n\t    _inherits(CanvasScreen, _skoash$Screen);\n\t\n\t    function CanvasScreen() {\n\t        _classCallCheck(this, CanvasScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (CanvasScreen.__proto__ || Object.getPrototypeOf(CanvasScreen)).call(this));\n\t\n\t        _this.state = {\n\t            load: true,\n\t            menu: {},\n\t            valid: true\n\t        };\n\t\n\t        _this.rightMenuList = [React.createElement(\n\t            'li',\n\t            { className: 'preview', onClick: _this.preview.bind(_this) },\n\t            React.createElement('span', null)\n\t        ), React.createElement(\n\t            'li',\n\t            { className: 'send', onClick: _this.send.bind(_this) },\n\t            React.createElement('span', null)\n\t        )];\n\t\n\t        _this.setValid = _this.setValid.bind(_this);\n\t        _this.closeReveal = _this.closeReveal.bind(_this);\n\t        _this.setHasAssets = _this.setHasAssets.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(CanvasScreen, [{\n\t        key: 'getData',\n\t        value: function getData() {\n\t            return this.refs.canvas.getItems();\n\t        }\n\t    }, {\n\t        key: 'reset',\n\t        value: function reset() {\n\t            this.refs.canvas.reset();\n\t            this.setState({\n\t                background: false,\n\t                hasAssets: false\n\t            });\n\t        }\n\t    }, {\n\t        key: 'addItem',\n\t        value: function addItem(message) {\n\t            if (message) {\n\t                this.setState({\n\t                    hasAssets: true,\n\t                    background: this.state.background || message.asset_type === 'background'\n\t                });\n\t                this.refs.canvas.addItem(message, function () {\n\t                    skoash.trigger('save');\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'addItems',\n\t        value: function addItems(message) {\n\t            var hasAssets;\n\t            var background;\n\t\n\t            hasAssets = true;\n\t            background = !!message.rules.background;\n\t\n\t            this.mapRulesStringToNumbers(message.rules);\n\t\n\t            this.refs.canvas.setItems(message.rules);\n\t\n\t            this.setState({\n\t                hasAssets: hasAssets,\n\t                background: background\n\t            });\n\t\n\t            if (message.friend_to) {\n\t                skoash.trigger('passData', {\n\t                    name: 'add-recipient',\n\t                    message: message.friend_to\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'setMenu',\n\t        value: function setMenu() {\n\t            var menu;\n\t            var state = this.props.gameState;\n\t\n\t            if (state && state.data && state.data.menu) {\n\t                menu = state.data.menu;\n\t                this.setState({\n\t                    menu: menu\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'mapRulesStringToNumbers',\n\t        value: function mapRulesStringToNumbers(rules) {\n\t            if (!rules) return;\n\t\n\t            if (_.isArray(rules.items)) {\n\t                rules.items.forEach(function (item) {\n\t                    item.state.left = parseFloat(item.state.left);\n\t                    item.state.rotation = parseFloat(item.state.rotation);\n\t                    item.state.scale = parseFloat(item.state.scale);\n\t                    item.state.top = parseFloat(item.state.top);\n\t                });\n\t            }\n\t\n\t            if (_.isArray(rules.messages)) {\n\t                rules.messages.forEach(function (message) {\n\t                    message.state.left = parseFloat(message.state.left);\n\t                    message.state.rotation = parseFloat(message.state.rotation);\n\t                    message.state.scale = parseFloat(message.state.scale);\n\t                    message.state.top = parseFloat(message.state.top);\n\t                });\n\t            }\n\t\n\t            return rules;\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open() {\n\t            var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t            this.setMenu();\n\t\n\t            if (this.refs && this.refs.menu) {\n\t                this.refs.menu.deactivate();\n\t            }\n\t\n\t            if (!opts.draft) skoash.trigger('save');\n\t\n\t            _get(CanvasScreen.prototype.__proto__ || Object.getPrototypeOf(CanvasScreen.prototype), 'open', this).call(this);\n\t        }\n\t    }, {\n\t        key: 'close',\n\t        value: function close() {\n\t            skoash.trigger('save');\n\t            _get(CanvasScreen.prototype.__proto__ || Object.getPrototypeOf(CanvasScreen.prototype), 'close', this).call(this);\n\t        }\n\t    }, {\n\t        key: 'setValid',\n\t        value: function setValid(valid) {\n\t            this.setState({\n\t                valid: valid\n\t            });\n\t        }\n\t    }, {\n\t        key: 'setHasAssets',\n\t        value: function setHasAssets(hasAssets) {\n\t            this.setState({\n\t                hasAssets: hasAssets\n\t            });\n\t        }\n\t    }, {\n\t        key: 'send',\n\t        value: function send() {\n\t            if (!this.state.valid) return;\n\t            this.goto('send');\n\t        }\n\t    }, {\n\t        key: 'preview',\n\t        value: function preview() {\n\t            if (!this.state.valid) return;\n\t            this.goto('preview');\n\t        }\n\t    }, {\n\t        key: 'closeReveal',\n\t        value: function closeReveal() {\n\t            if (this.refs && this.refs.reveal) {\n\t                this.refs.reveal.close();\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getContainerClasses',\n\t        value: function getContainerClasses() {\n\t            return (0, _classnames2.default)({\n\t                'canvas-container': true,\n\t                BACKGROUND: this.state.background\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getClassNames',\n\t        value: function getClassNames() {\n\t            return (0, _classnames2.default)({\n\t                'HAS-ASSETS': this.state.hasAssets,\n\t                'INVALID': !this.state.valid\n\t            }, skoash.Screen.prototype.getClassNames.call(this));\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Frames/SK_frames_canvas.png' }),\n\t                React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Buttons/SK_btn_friend.png' }),\n\t                React.createElement(_5.default, {\n\t                    ref: 'menu',\n\t                    items: this.state.menu.items,\n\t                    level: 0,\n\t                    lastLevel: 1,\n\t                    onStart: function onStart() {\n\t                        this.setState({ classes: {} });\n\t                    }\n\t                }),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: this.getContainerClasses() },\n\t                    React.createElement(_3.default, {\n\t                        ref: 'canvas',\n\t                        setValid: this.setValid,\n\t                        setHasAssets: this.setHasAssets,\n\t                        itemMinDim: 150\n\t                    })\n\t                ),\n\t                React.createElement(_7.default, { className: 'menu right-menu', list: this.rightMenuList })\n\t            );\n\t            // move this back up below the Selectable when there is an instructional help video\n\t            /*\n\t                <Reveal\n\t                  ref=\"reveal\"\n\t                  openOnStart=\"0\"\n\t                  list={[\n\t                    <li>\n\t                      <skoash.Image className=\"otter\" src={'media/_Otter/joyful-otter_2.gif'} />\n\t                      <div className=\"bubble\">\n\t                        Welcome to your canvas!<br/><br/>\n\t                        Would you like me<br/>\n\t                        to show you around?\n\t                        <div className=\"buttons\">\n\t                          <button\n\t                            className=\"yes\"\n\t                            onClick={skoash.trigger.bind(null, 'openMenu', {id: 'help'})}\n\t                          />\n\t                          <button\n\t                            className=\"no\"\n\t                            onClick={this.closeReveal}\n\t                          />\n\t                        </div>\n\t                      </div>\n\t                    </li>\n\t                  ]}\n\t                />\n\t            */\n\t        }\n\t    }]);\n\t\n\t    return CanvasScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CollisionWarning = function (_skoash$Screen) {\n\t    _inherits(CollisionWarning, _skoash$Screen);\n\t\n\t    function CollisionWarning() {\n\t        _classCallCheck(this, CollisionWarning);\n\t\n\t        var _this = _possibleConstructorReturn(this, (CollisionWarning.__proto__ || Object.getPrototypeOf(CollisionWarning)).call(this));\n\t\n\t        _this.cancel = _this.cancel.bind(_this);\n\t        _this.toggle = _this.toggle.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(CollisionWarning, [{\n\t        key: 'cancel',\n\t        value: function cancel() {\n\t            this.close();\n\t            skoash.trigger('menuClose', {\n\t                id: this.props.id\n\t            });\n\t        }\n\t    }, {\n\t        key: 'toggle',\n\t        value: function toggle() {\n\t            this.updateGameState({\n\t                path: ['collisionWarning'],\n\t                data: {\n\t                    show: !_.get(this.props.gameState, 'data.collisionWarning.show')\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getToggleClassNames',\n\t        value: function getToggleClassNames() {\n\t            return (0, _classnames2.default)('toggle-collision-warning', {\n\t                active: !_.get(this.props.gameState, 'data.collisionWarning.show')\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            return React.createElement(\n\t                'div',\n\t                { id: this.props.id, className: this.getClassNames() },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'center' },\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'frame' },\n\t                        React.createElement(skoash.Image, {\n\t                            className: 'copy',\n\t                            src: 'media/_CollisionWarning/text-youmustnotoverlapimgs.png'\n\t                        }),\n\t                        React.createElement('button', { className: this.getToggleClassNames(), onClick: this.toggle }),\n\t                        React.createElement('button', { className: 'close-collision-warning', onClick: this.cancel }),\n\t                        React.createElement(skoash.Image, {\n\t                            className: 'otter',\n\t                            src: 'media/_CollisionWarning/Peeking-through-Otter.gif'\n\t                        })\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return CollisionWarning;\n\t}(skoash.Screen);\n\t\n\texports.default = React.createElement(CollisionWarning, {\n\t    id: 'collisionWarning',\n\t    load: true\n\t});\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(FriendScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'friends',\n\t        completeOnStart: true,\n\t        checkComplete: false,\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _ = __webpack_require__(5);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\t\n\tvar FriendScreen = function (_skoash$Screen) {\n\t    _inherits(FriendScreen, _skoash$Screen);\n\t\n\t    function FriendScreen() {\n\t        _classCallCheck(this, FriendScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (FriendScreen.__proto__ || Object.getPrototypeOf(FriendScreen)).call(this));\n\t\n\t        _this.state = {\n\t            load: true,\n\t            complete: true,\n\t            recipient: {},\n\t            opts: {}\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(FriendScreen, [{\n\t        key: 'selectRespond',\n\t        value: function selectRespond(message) {\n\t            skoash.trigger('passData', {\n\t                name: 'add-recipient',\n\t                goto: this.state.opts.goto,\n\t                message: message\n\t            });\n\t        }\n\t    }, {\n\t        key: 'updateData',\n\t        value: function updateData(d) {\n\t            var data = d && d.user ? d.user : this.props.gameState.data.user || [];\n\t\n\t            data = data.map(function (friend) {\n\t                var src = friend._embedded.image && friend._embedded.image.url ? friend._embedded.image.url : DEFAULT_PROFILE_IMAGE;\n\t                return {\n\t                    'user_id': friend.friend_id,\n\t                    name: friend.username,\n\t                    src: src,\n\t                    // I need to get the flips earned back from the backend to do this.\n\t                    description: '',\n\t                    // description: friend.flips_earned + ' Flips Earned',\n\t                    'asset_type': 'friend'\n\t                };\n\t            });\n\t\n\t            this.setState({\n\t                data: data\n\t            });\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open(opts) {\n\t            var recipient;\n\t            var self = this;\n\t\n\t            self.updateData();\n\t\n\t            skoash.trigger('getData', {\n\t                name: 'getFriends'\n\t            }).then(function (data) {\n\t                self.updateData.call(self, data);\n\t            });\n\t\n\t            recipient = self.props.gameState.recipient;\n\t\n\t            self.setState({\n\t                load: true,\n\t                open: true,\n\t                leave: false,\n\t                close: false,\n\t                recipient: recipient,\n\t                opts: opts\n\t            }, function () {\n\t                self.refs.drawer && self.refs.drawer.start();\n\t            });\n\t\n\t            if (!self.state.started) {\n\t                self.start();\n\t            }\n\t        }\n\t    }, {\n\t        key: 'suggestFriends',\n\t        value: function suggestFriends() {\n\t            window.open(window.location.origin.replace('games-', '').replace('games.', '') + '/friends/suggested');\n\t        }\n\t    }, {\n\t        key: 'save',\n\t        value: function save() {\n\t            skoash.trigger('goto', {\n\t                index: 'canvas'\n\t            });\n\t            skoash.trigger('openMenu', { id: 'save' });\n\t        }\n\t    }, {\n\t        key: 'renderOtter',\n\t        value: function renderOtter() {\n\t            var copy;\n\t            var src;\n\t            var imageSrc;\n\t\n\t            src = 'One';\n\t            imageSrc = 'media/_Otter/Otter_Static_GreetingOne.png';\n\t            copy = React.createElement(\n\t                'span',\n\t                null,\n\t                'Don\\'t have',\n\t                React.createElement('br', null),\n\t                'friends yet?',\n\t                React.createElement('br', null),\n\t                React.createElement('br', null),\n\t                'Let me suggest',\n\t                React.createElement('br', null),\n\t                'some for you.'\n\t            );\n\t\n\t            if (this.state.data && this.state.data.length) {\n\t                src = 'Two';\n\t                imageSrc = 'media/_Otter/Open-wide-Otter2.gif';\n\t                copy = React.createElement(\n\t                    'span',\n\t                    null,\n\t                    'Let me find a friend',\n\t                    React.createElement('br', null),\n\t                    'to send your message to.'\n\t                );\n\t            }\n\t\n\t            return React.createElement(\n\t                'div',\n\t                { className: 'otter-container ' + src },\n\t                React.createElement(skoash.Image, { className: 'otter', src: imageSrc }),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'bubble' },\n\t                    copy\n\t                )\n\t            );\n\t        }\n\t    }, {\n\t        key: 'renderFriends',\n\t        value: function renderFriends() {\n\t            if (this.state.data && this.state.data.length) {\n\t                return React.createElement(_2.default, {\n\t                    ref: 'drawer',\n\t                    scrollbarImg: './media/_Buttons/sk_btn_slider.png',\n\t                    selectRespond: this.selectRespond.bind(this),\n\t                    cancelRespond: this.back,\n\t                    categories: this.state.opts.categories,\n\t                    data: this.state.data,\n\t                    selectedItem: this.state.recipient,\n\t                    buttons: this.buttons,\n\t                    completeOnStart: true,\n\t                    checkComplete: false,\n\t                    className: 'goto-' + this.state.opts.goto\n\t                });\n\t            }\n\t\n\t            return React.createElement(\n\t                'div',\n\t                { className: 'goto-' + this.state.opts.goto },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'item-drawer-container' },\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'suggest-friends-buttons' },\n\t                        React.createElement('button', { className: 'continue', onClick: this.selectRespond.bind(this, {}) }),\n\t                        React.createElement('button', { className: 'suggest', onClick: this.suggestFriends }),\n\t                        React.createElement('button', { className: 'save-to-drafts', onClick: this.save })\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement('div', { className: 'header' }),\n\t                this.renderOtter(),\n\t                this.renderFriends()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return FriendScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(InboxScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'inbox',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _ = __webpack_require__(17);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tvar _3 = __webpack_require__(8);\n\t\n\tvar _4 = _interopRequireDefault(_3);\n\t\n\tvar _5 = __webpack_require__(15);\n\t\n\tvar _6 = _interopRequireDefault(_5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar inboxEmptyMessage = React.createElement(\n\t    'span',\n\t    null,\n\t    'You haven\\'t received any Skribbles!',\n\t    React.createElement('br', null),\n\t    'Get started by sending some!'\n\t);\n\tvar unreadEmptyMessage = React.createElement(\n\t    'span',\n\t    null,\n\t    'You don\\'t have any',\n\t    React.createElement('br', null),\n\t    'unread Skribbles!'\n\t);\n\tvar readEmptyMessage = React.createElement(\n\t    'span',\n\t    null,\n\t    'You don\\'t have any',\n\t    React.createElement('br', null),\n\t    'read Skribbles!'\n\t);\n\tvar sentEmptyMessage = React.createElement(\n\t    'span',\n\t    null,\n\t    'You haven\\'t sent any Skribbles.',\n\t    React.createElement('br', null),\n\t    'Let\\'s get started!'\n\t);\n\tvar draftsEmptyMessage = React.createElement(\n\t    'span',\n\t    null,\n\t    'You don\\'t have any drafts.',\n\t    React.createElement('br', null),\n\t    'Start Skribbling!'\n\t);\n\t\n\tvar InboxScreen = function (_skoash$Screen) {\n\t    _inherits(InboxScreen, _skoash$Screen);\n\t\n\t    function InboxScreen() {\n\t        _classCallCheck(this, InboxScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (InboxScreen.__proto__ || Object.getPrototypeOf(InboxScreen)).call(this));\n\t\n\t        _this.state = {\n\t            load: true\n\t        };\n\t\n\t        _this.selectableList = [React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null), React.createElement('li', null)];\n\t\n\t        _this.revealList = _this.getRevealList();\n\t\n\t        _this.readMessage = _this.readMessage.bind(_this);\n\t        _this.editMessage = _this.editMessage.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(InboxScreen, [{\n\t        key: 'getRevealList',\n\t        value: function getRevealList(inbox, outbox, saved) {\n\t            var read;\n\t            var unread;\n\t            var props = this.props || {};\n\t\n\t            inbox = inbox || this.state.inbox || [];\n\t\n\t            read = inbox.filter(function (item) {\n\t                return item.read;\n\t            });\n\t\n\t            unread = inbox.filter(function (item) {\n\t                return !item.read;\n\t            });\n\t\n\t            outbox = outbox || this.state.outbox || [];\n\t            saved = saved || this.state.saved || [];\n\t\n\t            return [React.createElement(\n\t                'li',\n\t                null,\n\t                React.createElement(_4.default, {\n\t                    'data-ref': 'inbox',\n\t                    data: {\n\t                        items: inbox\n\t                    },\n\t                    emptyMessage: inboxEmptyMessage,\n\t                    selectRespond: this.readMessage,\n\t                    gameState: props.gameState\n\t                })\n\t            ), React.createElement(\n\t                'li',\n\t                null,\n\t                React.createElement(_4.default, {\n\t                    'data-ref': 'unread',\n\t                    data: {\n\t                        items: unread\n\t                    },\n\t                    emptyMessage: unreadEmptyMessage,\n\t                    selectRespond: this.readMessage,\n\t                    gameState: props.gameState\n\t                })\n\t            ), React.createElement(\n\t                'li',\n\t                null,\n\t                React.createElement(_4.default, {\n\t                    'data-ref': 'read',\n\t                    data: {\n\t                        items: read\n\t                    },\n\t                    emptyMessage: readEmptyMessage,\n\t                    selectRespond: this.readMessage,\n\t                    gameState: props.gameState\n\t                })\n\t            ), React.createElement(\n\t                'li',\n\t                null,\n\t                React.createElement(_4.default, {\n\t                    'data-ref': 'outbox',\n\t                    data: {\n\t                        items: outbox\n\t                    },\n\t                    emptyMessage: sentEmptyMessage,\n\t                    friendKey: 'friend_to',\n\t                    selectRespond: this.readMessage,\n\t                    gameState: props.gameState\n\t                })\n\t            ), React.createElement(\n\t                'li',\n\t                null,\n\t                React.createElement(_6.default, {\n\t                    'data-ref': 'saved',\n\t                    data: {\n\t                        items: saved\n\t                    },\n\t                    emptyMessage: draftsEmptyMessage,\n\t                    selectRespond: this.editMessage\n\t                })\n\t            )];\n\t        }\n\t    }, {\n\t        key: 'editMessage',\n\t        value: function editMessage(message) {\n\t            skoash.trigger('loadSkribble', {\n\t                message: message\n\t            });\n\t        }\n\t    }, {\n\t        key: 'readMessage',\n\t        value: function readMessage(message) {\n\t            skoash.trigger('goto', {\n\t                index: 'read',\n\t                message: message\n\t            });\n\t        }\n\t    }, {\n\t        key: 'updateData',\n\t        value: function updateData() {\n\t            var skribbles;\n\t            var inbox;\n\t            var outbox;\n\t            var saved;\n\t\n\t            skribbles = this.props.gameState.data.skribbles;\n\t            inbox = skribbles.received;\n\t            outbox = skribbles.sent;\n\t            saved = skribbles.draft;\n\t\n\t            this.revealList = this.getRevealList(inbox, outbox, saved);\n\t\n\t            this.setState({\n\t                inbox: inbox,\n\t                outbox: outbox,\n\t                saved: saved\n\t            });\n\t        }\n\t    }, {\n\t        key: 'updateGameData',\n\t        value: function updateGameData(data, status) {\n\t            var _this2 = this;\n\t\n\t            var opts = {\n\t                path: ['skribbles'],\n\t                data: _defineProperty({}, status, data.skribble),\n\t                callback: function callback() {\n\t                    _this2.updateData();\n\t                }\n\t            };\n\t            this.updateGameState(opts);\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open() {\n\t            var self = this;\n\t\n\t            skoash.trigger('getData', {\n\t                status: 'received'\n\t            }).then(function (data) {\n\t                self.updateGameData(data, 'received');\n\t            });\n\t\n\t            skoash.trigger('getData', {\n\t                status: 'sent'\n\t            }).then(function (data) {\n\t                self.updateGameData(data, 'sent');\n\t            });\n\t\n\t            skoash.trigger('getData', {\n\t                status: 'draft'\n\t            }).then(function (data) {\n\t                self.updateGameData(data, 'draft');\n\t            });\n\t\n\t            self.setState({\n\t                load: true,\n\t                open: true,\n\t                leave: false,\n\t                close: false\n\t            });\n\t\n\t            setTimeout(function () {\n\t                if (!self.state.started) {\n\t                    self.start();\n\t                }\n\t            }, 250);\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'center' },\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'frame' },\n\t                        React.createElement(_2.default, {\n\t                            ref: 'selectableReveal',\n\t                            selectableList: this.selectableList,\n\t                            revealList: this.revealList,\n\t                            selectOnStart: '0',\n\t                            openOnStart: '0'\n\t                        })\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return InboxScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(ItemDrawerScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'item-drawer',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _2 = __webpack_require__(5);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar ItemDrawerScreen = function (_skoash$Screen) {\n\t    _inherits(ItemDrawerScreen, _skoash$Screen);\n\t\n\t    function ItemDrawerScreen() {\n\t        _classCallCheck(this, ItemDrawerScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (ItemDrawerScreen.__proto__ || Object.getPrototypeOf(ItemDrawerScreen)).call(this));\n\t\n\t        _this.state = {\n\t            load: true,\n\t            opts: {\n\t                categories: []\n\t            }\n\t        };\n\t\n\t        return _this;\n\t    }\n\t\n\t    _createClass(ItemDrawerScreen, [{\n\t        key: 'selectRespond',\n\t        value: function selectRespond(message) {\n\t            skoash.trigger('passData', {\n\t                name: 'add-item',\n\t                message: message\n\t            });\n\t        }\n\t    }, {\n\t        key: 'updateData',\n\t        value: function updateData(d) {\n\t            var data = d ? d : this.props.gameState.data.menu.items;\n\t\n\t            this.state.opts.categories.forEach(function (key) {\n\t                if (data[key]) data = data[key];\n\t                if (data.items) data = data.items;\n\t            });\n\t\n\t            data = _.values(data);\n\t\n\t            this.setState({\n\t                data: data\n\t            });\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open(opts) {\n\t            var _this2 = this;\n\t\n\t            this.setState({\n\t                load: true,\n\t                open: true,\n\t                leave: false,\n\t                close: false,\n\t                opts: opts,\n\t                data: null\n\t            }, function () {\n\t                _this2.updateData();\n\t            });\n\t\n\t            setTimeout(function () {\n\t                if (!_this2.state.started) _this2.start();\n\t            }, 250);\n\t        }\n\t    }, {\n\t        key: 'cancelRespond',\n\t        value: function cancelRespond() {\n\t            if (this.state.category) {\n\t                this.setState({\n\t                    category: '',\n\t                    categoryName: ''\n\t                });\n\t            } else {\n\t                skoash.trigger('goto', { index: 'canvas' });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(_3.default, {\n\t                    ref: 'drawer',\n\t                    scrollbarImg: './media/_Buttons/sk_btn_slider.png',\n\t                    selectRespond: this.selectRespond.bind(this),\n\t                    cancelRespond: this.cancelRespond,\n\t                    categories: this.state.opts.categories,\n\t                    categoryName: this.state.opts.categoryName,\n\t                    data: this.state.data\n\t                })\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return ItemDrawerScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = React.createElement(\n\t    skoash.Screen,\n\t    {\n\t        id: \"limitWarning\",\n\t        load: true,\n\t        hidePrev: true,\n\t        hideNext: true\n\t    },\n\t    React.createElement(skoash.Image, { className: \"hidden\", src: ENVIRONMENT.MEDIA + 'a479811171cf084bf86af4eac1f6dc28.png' }),\n\t    React.createElement(skoash.Image, { className: \"hidden\", src: ENVIRONMENT.MEDIA + '027b30f0d279ef41cd30eff22323051c.png' }),\n\t    React.createElement(skoash.Image, { className: \"otter\", src: ENVIRONMENT.MEDIA + 'e7c3a0ab64b457334e7be868609ee512.png' }),\n\t    React.createElement(skoash.Image, { className: \"sign\", src: ENVIRONMENT.MEDIA + '7434453a4692d4be9e898b6b8787c108.png' }),\n\t    React.createElement(\n\t        \"div\",\n\t        null,\n\t        \"WARNING:\",\n\t        React.createElement(\"br\", null),\n\t        \"You have exceeded the number of times\",\n\t        React.createElement(\"br\", null),\n\t        \"you can use this item in your message.\",\n\t        React.createElement(\"br\", null),\n\t        \"Please press ok to continue game.\"\n\t    ),\n\t    React.createElement(\"button\", {\n\t        onClick: function onClick() {\n\t            skoash.trigger('menuClose', {\n\t                id: 'limitWarning'\n\t            });\n\t        }\n\t    })\n\t);\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(MenuScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: \"menu\",\n\t        hidePrev: true,\n\t        hideNext: true,\n\t        load: true\n\t    }));\n\t};\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar MenuScreen = function (_skoash$Screen) {\n\t    _inherits(MenuScreen, _skoash$Screen);\n\t\n\t    function MenuScreen() {\n\t        _classCallCheck(this, MenuScreen);\n\t\n\t        return _possibleConstructorReturn(this, (MenuScreen.__proto__ || Object.getPrototypeOf(MenuScreen)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(MenuScreen, [{\n\t        key: \"renderContent\",\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                \"div\",\n\t                null,\n\t                React.createElement(skoash.Image, { className: \"hidden\", src: \"media/_Background/SK_BKG_1.png\" }),\n\t                React.createElement(skoash.Image, { className: \"otter\", src: \"media/_Otter/Waving_Otter2.gif\" }),\n\t                React.createElement(\n\t                    \"div\",\n\t                    { className: \"bubble\" },\n\t                    \"Hi there!\",\n\t                    React.createElement(\"br\", null),\n\t                    \"What would you\",\n\t                    React.createElement(\"br\", null),\n\t                    \"like to do today?\"\n\t                ),\n\t                React.createElement(\n\t                    \"div\",\n\t                    { className: \"buttons\" },\n\t                    React.createElement(\"button\", { className: \"make\", onClick: this.goto.bind(this, {\n\t                            index: 'friend',\n\t                            goto: 'canvas'\n\t                        }) }),\n\t                    React.createElement(\"button\", { className: \"read\", onClick: this.goto.bind(this, 'inbox') })\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return MenuScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(PreviewScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'preview',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _ = __webpack_require__(4);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tvar _3 = __webpack_require__(2);\n\t\n\tvar _4 = _interopRequireDefault(_3);\n\t\n\tvar _5 = __webpack_require__(13);\n\t\n\tvar _6 = _interopRequireDefault(_5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t    skribbleBox: 'skribble-box',\n\t    box: 'box',\n\t    leftMenu: 'menu left-menu',\n\t    rightMenu: 'menu right-menu'\n\t};\n\t\n\tvar refs = {\n\t    box: 'box',\n\t    canvas: 'canvas'\n\t};\n\t\n\tvar PreviewScreen = function (_skoash$Screen) {\n\t    _inherits(PreviewScreen, _skoash$Screen);\n\t\n\t    function PreviewScreen() {\n\t        _classCallCheck(this, PreviewScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (PreviewScreen.__proto__ || Object.getPrototypeOf(PreviewScreen)).call(this));\n\t\n\t        _this.state = {\n\t            load: true,\n\t            opts: {}\n\t        };\n\t\n\t        _this.leftMenuList = [React.createElement(\n\t            'li',\n\t            { className: 'edit', onClick: _this.goto.bind(_this, 'canvas') },\n\t            React.createElement('span', null)\n\t        )];\n\t\n\t        _this.rightMenuList = [React.createElement(\n\t            'li',\n\t            { className: 'send', onClick: _this.goto.bind(_this, 'send') },\n\t            React.createElement('span', null)\n\t        )];\n\t        return _this;\n\t    }\n\t\n\t    _createClass(PreviewScreen, [{\n\t        key: 'open',\n\t        value: function open(opts) {\n\t            var _this2 = this;\n\t\n\t            skoash.trigger('getRules').then(function (rules) {\n\t                _this2.refs[refs.box].refs[refs.canvas].setItems(rules);\n\t                _get(PreviewScreen.prototype.__proto__ || Object.getPrototypeOf(PreviewScreen.prototype), 'open', _this2).call(_this2, opts);\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(\n\t                    skoash.Component,\n\t                    { ref: refs.box, className: classNameText.skribbleBox },\n\t                    React.createElement(_2.default, { ref: refs.canvas, preview: true }),\n\t                    React.createElement(_6.default, {\n\t                        className: 'sparkles',\n\t                        amount: 40\n\t                    }),\n\t                    React.createElement('div', { className: classNameText.box })\n\t                ),\n\t                React.createElement(_4.default, { className: classNameText.leftMenu, list: this.leftMenuList }),\n\t                React.createElement(_4.default, { className: classNameText.rightMenu, list: this.rightMenuList })\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return PreviewScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(ReadScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'read',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _classnames = __webpack_require__(1);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _2 = __webpack_require__(2);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t    skribbleBox: 'skribble-box',\n\t    box: 'box',\n\t    leftMenu: 'menu left-menu',\n\t    rightMenu: 'menu right-menu',\n\t    sender: 'menu recipient sender'\n\t};\n\t\n\tvar refs = {\n\t    box: 'box'\n\t};\n\t\n\tvar ReadScreen = function (_skoash$Screen) {\n\t    _inherits(ReadScreen, _skoash$Screen);\n\t\n\t    function ReadScreen() {\n\t        _classCallCheck(this, ReadScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (ReadScreen.__proto__ || Object.getPrototypeOf(ReadScreen)).call(this));\n\t\n\t        _this.state.load = true;\n\t        _this.state.message = { user: {} };\n\t\n\t        _this.leftMenuList = [React.createElement(\n\t            'li',\n\t            { className: 'inbox', onClick: _this.goto.bind(_this, 'inbox') },\n\t            React.createElement('span', null)\n\t        )];\n\t\n\t        _this.rightMenuList = [React.createElement(\n\t            'li',\n\t            { className: 'reply', onClick: _this.reply.bind(_this) },\n\t            React.createElement('span', null)\n\t        )];\n\t        return _this;\n\t    }\n\t\n\t    _createClass(ReadScreen, [{\n\t        key: 'reply',\n\t        value: function reply() {\n\t            skoash.trigger('passData', {\n\t                name: 'add-recipient',\n\t                message: this.state.message.created_by\n\t            });\n\t        }\n\t    }, {\n\t        key: 'open',\n\t        value: function open(opts) {\n\t            var message;\n\t            var friends;\n\t            var creater;\n\t\n\t            message = opts.message || {};\n\t\n\t            friends = this.props.gameState.data.user || [];\n\t            friends.forEach(function (friend) {\n\t                if (message.created_by === friend.friend_id) {\n\t                    creater = friend;\n\t                }\n\t            });\n\t\n\t            this.setState({\n\t                load: true,\n\t                open: true,\n\t                leave: false,\n\t                close: false,\n\t                message: message,\n\t                creater: creater\n\t            });\n\t\n\t            this.start();\n\t\n\t            skoash.trigger('getData', {\n\t                name: 'markAsRead',\n\t                'skribble_id': message.skribble_id\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getSenderClassNames',\n\t        value: function getSenderClassNames() {\n\t            return (0, _classnames2.default)(classNameText.sender, {\n\t                HIDE: !this.state.creater || this.state.message.sent\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderSender',\n\t        value: function renderSender() {\n\t            var creater;\n\t            var content = [];\n\t\n\t            creater = this.state.creater;\n\t\n\t            if (!creater) return;\n\t\n\t            if (creater.username) {\n\t                content.push(React.createElement(\n\t                    'span',\n\t                    { className: 'name' },\n\t                    creater.username\n\t                ));\n\t            }\n\t\n\t            if (creater._embedded.image) {\n\t                content.push(React.createElement('img', { className: 'profile-image', src: creater._embedded.image.url }));\n\t            }\n\t\n\t            return content;\n\t        }\n\t    }, {\n\t        key: 'renderBoxContent',\n\t        value: function renderBoxContent() {\n\t            var url = _.get(this.state, 'message.url');\n\t\n\t            if (!url) return null;\n\t\n\t            return [React.createElement(skoash.Image, { src: this.state.message.url }), React.createElement('div', { className: classNameText.box })];\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(\n\t                    'ul',\n\t                    { className: this.getSenderClassNames() },\n\t                    React.createElement(\n\t                        'li',\n\t                        null,\n\t                        React.createElement(\n\t                            'span',\n\t                            null,\n\t                            this.renderSender()\n\t                        )\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    skoash.Component,\n\t                    { ref: refs.box, className: classNameText.skribbleBox },\n\t                    this.renderBoxContent()\n\t                ),\n\t                React.createElement(_3.default, { className: classNameText.leftMenu, list: this.leftMenuList }),\n\t                React.createElement(_3.default, { className: classNameText.rightMenu, list: this.rightMenuList })\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return ReadScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SaveMenu = function (_skoash$Screen) {\n\t    _inherits(SaveMenu, _skoash$Screen);\n\t\n\t    function SaveMenu() {\n\t        _classCallCheck(this, SaveMenu);\n\t\n\t        return _possibleConstructorReturn(this, (SaveMenu.__proto__ || Object.getPrototypeOf(SaveMenu)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(SaveMenu, [{\n\t        key: \"cancel\",\n\t        value: function cancel() {\n\t            this.close();\n\t            skoash.trigger('menuClose', {\n\t                id: this.props.id\n\t            });\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            return React.createElement(\n\t                \"div\",\n\t                { id: this.props.id, className: this.getClassNames() },\n\t                React.createElement(\n\t                    \"div\",\n\t                    { className: \"center\" },\n\t                    React.createElement(\n\t                        \"div\",\n\t                        { className: \"frame\" },\n\t                        React.createElement(\"button\", { className: \"quit-saved\", onClick: this.cancel.bind(this) }),\n\t                        React.createElement(\n\t                            \"h2\",\n\t                            null,\n\t                            \"Your progress\"\n\t                        ),\n\t                        React.createElement(\n\t                            \"h2\",\n\t                            null,\n\t                            \"has been saved\"\n\t                        )\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SaveMenu;\n\t}(skoash.Screen);\n\t\n\texports.default = React.createElement(SaveMenu, {\n\t    id: \"save\",\n\t    load: true\n\t});\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(SendScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'send',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tvar _ = __webpack_require__(2);\n\t\n\tvar _2 = _interopRequireDefault(_);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t    yourMessageTo: 'your-message-to',\n\t    isReady: 'is-ready',\n\t    changeFriend: 'change-friend',\n\t    character: 'character',\n\t    gift: 'gift',\n\t    header: 'header',\n\t    username: 'username'\n\t};\n\t\n\tvar SendScreen = function (_skoash$Screen) {\n\t    _inherits(SendScreen, _skoash$Screen);\n\t\n\t    function SendScreen() {\n\t        _classCallCheck(this, SendScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (SendScreen.__proto__ || Object.getPrototypeOf(SendScreen)).call(this));\n\t\n\t        _this.state.load = true;\n\t        _this.state.recipient = {};\n\t\n\t        _this.rightMenuList = [React.createElement(\n\t            'li',\n\t            { className: 'edit-right', onClick: _this.goto.bind(_this, 'canvas') },\n\t            React.createElement('span', null)\n\t        ), React.createElement(\n\t            'li',\n\t            { className: 'send', onClick: _this.send },\n\t            React.createElement('span', null)\n\t        )];\n\t        return _this;\n\t    }\n\t\n\t    _createClass(SendScreen, [{\n\t        key: 'open',\n\t        value: function open() {\n\t            var recipient = this.props.gameState.recipient || {};\n\t\n\t            this.setState({\n\t                load: true,\n\t                open: true,\n\t                leave: false,\n\t                close: false,\n\t                recipient: recipient\n\t            });\n\t\n\t            this.start();\n\t        }\n\t    }, {\n\t        key: 'send',\n\t        value: function send() {\n\t            skoash.trigger('passData', {\n\t                name: 'send'\n\t            });\n\t        }\n\t    }, {\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            var changeFriendClick = this.goto.bind(this, {\n\t                index: 'friend',\n\t                goto: 'send'\n\t            });\n\t\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement(\n\t                    'div',\n\t                    { className: classNameText.header },\n\t                    React.createElement('span', { className: classNameText.yourMessageTo }),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: classNameText.username },\n\t                        this.state.recipient.name\n\t                    ),\n\t                    React.createElement('br', null),\n\t                    React.createElement('span', { className: classNameText.isReady }),\n\t                    React.createElement('button', { className: classNameText.changeFriend, onClick: changeFriendClick })\n\t                ),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: classNameText.character },\n\t                    React.createElement(skoash.Image, { className: 'otter', src: 'media/_Otter/proud-of-you2.gif' }),\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'bubble' },\n\t                        'Are you sure',\n\t                        React.createElement('br', null),\n\t                        'you are ready to',\n\t                        React.createElement('br', null),\n\t                        'send your message?'\n\t                    )\n\t                ),\n\t                React.createElement('div', { className: classNameText.gift }),\n\t                React.createElement(_2.default, { className: 'menu right-menu', list: this.rightMenuList })\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SendScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(SentScreen, _extends({}, props, {\n\t        ref: ref,\n\t        key: key,\n\t        id: 'sent',\n\t        hideNext: true,\n\t        hidePrev: true\n\t    }));\n\t};\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar classNameText = {\n\t    character: 'character',\n\t    header: 'header',\n\t    yourMessageTo: 'your-message-to',\n\t    username: 'username',\n\t    isReady: 'is-ready',\n\t    buttons: 'buttons',\n\t    createAnother: 'create-another',\n\t    inbox: 'inbox'\n\t};\n\t\n\tvar text = {\n\t    yourMessageTo: 'YOUR MESSAGE TO:',\n\t    hasBeenSent: 'IS BEING SENT!'\n\t};\n\t\n\tvar SentScreen = function (_skoash$Screen) {\n\t    _inherits(SentScreen, _skoash$Screen);\n\t\n\t    function SentScreen() {\n\t        _classCallCheck(this, SentScreen);\n\t\n\t        var _this = _possibleConstructorReturn(this, (SentScreen.__proto__ || Object.getPrototypeOf(SentScreen)).call(this));\n\t\n\t        _this.state = {\n\t            load: true,\n\t            opts: {\n\t                recipient: {}\n\t            }\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(SentScreen, [{\n\t        key: 'renderContent',\n\t        value: function renderContent() {\n\t            return React.createElement(\n\t                'div',\n\t                null,\n\t                React.createElement('div', { className: classNameText.character }),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: classNameText.header },\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: classNameText.yourMessageTo },\n\t                        text.yourMessageTo\n\t                    ),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: classNameText.username },\n\t                        this.state.opts.recipient.name\n\t                    ),\n\t                    React.createElement('br', null),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: classNameText.isReady },\n\t                        text.hasBeenSent\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: classNameText.buttons },\n\t                    React.createElement('button', {\n\t                        className: classNameText.createAnother,\n\t                        onClick: this.goto.bind(this, 'friend')\n\t                    }),\n\t                    React.createElement('button', {\n\t                        className: classNameText.inbox,\n\t                        onClick: this.goto.bind(this, 'inbox')\n\t                    })\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SentScreen;\n\t}(skoash.Screen);\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = function (props, ref, key) {\n\t    return React.createElement(\n\t        skoash.Screen,\n\t        _extends({}, props, {\n\t            ref: ref,\n\t            key: key,\n\t            id: \"title\",\n\t            hidePrev: true,\n\t            nextDelay: 1000,\n\t            nextIndex: \"menu\"\n\t        }),\n\t        React.createElement(skoash.Image, {\n\t            ref: \"title\",\n\t            className: \"title animated\",\n\t            src: \"media/_Title/SKribble_title.png\"\n\t        }),\n\t        React.createElement(skoash.Image, {\n\t            ref: \"play\",\n\t            className: \"hidden\",\n\t            src: \"media/_Buttons/skribble-play-01.png\"\n\t        }),\n\t        React.createElement(skoash.Image, {\n\t            ref: \"play-hover\",\n\t            className: \"hidden\",\n\t            src: \"media/_Buttons/skribble-hover.png\"\n\t        })\n\t    );\n\t};\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _config = __webpack_require__(34);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _2 = __webpack_require__(10);\n\t\n\tvar _3 = _interopRequireDefault(_2);\n\t\n\tvar _4 = __webpack_require__(9);\n\t\n\tvar _5 = _interopRequireDefault(_4);\n\t\n\tvar _title_screen = __webpack_require__(32);\n\t\n\tvar _title_screen2 = _interopRequireDefault(_title_screen);\n\t\n\tvar _menu_screen = __webpack_require__(26);\n\t\n\tvar _menu_screen2 = _interopRequireDefault(_menu_screen);\n\t\n\tvar _friend_screen = __webpack_require__(22);\n\t\n\tvar _friend_screen2 = _interopRequireDefault(_friend_screen);\n\t\n\tvar _canvas_screen = __webpack_require__(20);\n\t\n\tvar _canvas_screen2 = _interopRequireDefault(_canvas_screen);\n\t\n\tvar _item_drawer_screen = __webpack_require__(24);\n\t\n\tvar _item_drawer_screen2 = _interopRequireDefault(_item_drawer_screen);\n\t\n\tvar _inbox_screen = __webpack_require__(23);\n\t\n\tvar _inbox_screen2 = _interopRequireDefault(_inbox_screen);\n\t\n\tvar _preview_screen = __webpack_require__(27);\n\t\n\tvar _preview_screen2 = _interopRequireDefault(_preview_screen);\n\t\n\tvar _send_screen = __webpack_require__(30);\n\t\n\tvar _send_screen2 = _interopRequireDefault(_send_screen);\n\t\n\tvar _sent_screen = __webpack_require__(31);\n\t\n\tvar _sent_screen2 = _interopRequireDefault(_sent_screen);\n\t\n\tvar _read_screen = __webpack_require__(28);\n\t\n\tvar _read_screen2 = _interopRequireDefault(_read_screen);\n\t\n\tvar _6 = __webpack_require__(12);\n\t\n\tvar _7 = _interopRequireDefault(_6);\n\t\n\tvar _save_menu = __webpack_require__(29);\n\t\n\tvar _save_menu2 = _interopRequireDefault(_save_menu);\n\t\n\tvar _collision_warning = __webpack_require__(21);\n\t\n\tvar _collision_warning2 = _interopRequireDefault(_collision_warning);\n\t\n\tvar _limit_warning = __webpack_require__(25);\n\t\n\tvar _limit_warning2 = _interopRequireDefault(_limit_warning);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Skribble;\n\t\n\tvar DEFAULT_PROFILE_IMAGE = '';\n\t\n\tvar SkribbleGame = function (_skoash$Game) {\n\t    _inherits(SkribbleGame, _skoash$Game);\n\t\n\t    function SkribbleGame() {\n\t        _classCallCheck(this, SkribbleGame);\n\t\n\t        return _possibleConstructorReturn(this, (SkribbleGame.__proto__ || Object.getPrototypeOf(SkribbleGame)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(SkribbleGame, [{\n\t        key: 'getRules',\n\t        value: function getRules() {\n\t            var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t            if (typeof opts.respond === 'function') {\n\t                return opts.respond(this.refs['screen-canvas'].getData());\n\t            }\n\t            return this.refs['screen-canvas'].getData();\n\t        }\n\t    }, {\n\t        key: 'save',\n\t        value: function save() {\n\t            var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t            var skramble = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\n\t            /* eslint-disable camelcase */\n\t            var friend_to;\n\t            var rules;\n\t            var skribble;\n\t            var self = this;\n\t\n\t            friend_to = self.state.recipient && self.state.recipient.user_id ? self.state.recipient.user_id : null;\n\t            rules = self.getRules();\n\t            skribble = _extends({\n\t                'version': _config2.default.version\n\t            }, self.state.skribbleData, {\n\t                friend_to: friend_to,\n\t                skramble: skramble,\n\t                rules: rules\n\t            });\n\t\n\t            if (!rules.background && !rules.items.length && !rules.messages.length) {\n\t                return;\n\t            }\n\t\n\t            if (JSON.stringify(skribble) !== JSON.stringify(this.state.skribble)) {\n\t                self.emit({\n\t                    name: 'saveSkribble',\n\t                    game: self.props.config.id,\n\t                    skribble: skribble\n\t                }).then(function (skribbleData) {\n\t                    self.setState({\n\t                        skribbleData: skribbleData,\n\t                        skribble: skribble\n\t                    });\n\t                });\n\t            }\n\t            /* eslint-enable camelcase */\n\t        }\n\t    }, {\n\t        key: 'send',\n\t        value: function send() {\n\t            this.save({}, true);\n\t\n\t            this.refs['screen-canvas'].reset();\n\t            this.navigator.goto({\n\t                index: 'sent',\n\t                recipient: this.state.recipient\n\t            });\n\t\n\t            this.setState({\n\t                recipient: null,\n\t                skribbleData: null\n\t            });\n\t        }\n\t    }, {\n\t        key: 'loadSkribble',\n\t        value: function loadSkribble(opts) {\n\t            var _this2 = this;\n\t\n\t            this.setState({\n\t                skribbleData: opts.message\n\t            }, function () {\n\t                _this2.refs['screen-canvas'].addItems(opts.message);\n\t                _this2.navigator.goto({\n\t                    index: 'canvas',\n\t                    draft: true\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getMedia',\n\t        value: function getMedia(path) {\n\t            var pathArray;\n\t            var self = this;\n\t\n\t            if ((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object') path = path.path;\n\t            path = path || 'skribble/menu';\n\t            pathArray = path.split('/');\n\t            pathArray.shift();\n\t\n\t            return self.eventManager.emit({\n\t                name: 'getMedia',\n\t                path: path\n\t            }).then(function (d) {\n\t                var opts;\n\t                var currentOpts;\n\t                opts = {\n\t                    data: {},\n\t                    callback: function callback() {\n\t                        self.refs['screen-canvas'].setMenu();\n\t                        self.refs['screen-item-drawer'].updateData();\n\t                    }\n\t                };\n\t                currentOpts = opts.data;\n\t\n\t                pathArray.forEach(function (key, index) {\n\t                    currentOpts[key] = {\n\t                        items: {}\n\t                    };\n\t                    if (index !== pathArray.length - 1) {\n\t                        currentOpts = currentOpts[key].items;\n\t                    }\n\t                });\n\t\n\t                currentOpts[pathArray[pathArray.length - 1]] = _.clone(d);\n\t                currentOpts[pathArray[pathArray.length - 1]].items = {};\n\t\n\t                if (d.items) {\n\t                    d.items.forEach(function (item) {\n\t                        if (item.asset_type === 'folder' && item.name) {\n\t                            self.getMedia(path + '/' + item.name);\n\t                        }\n\t                        currentOpts[pathArray[pathArray.length - 1]].items[item.name] = item;\n\t                    });\n\t                }\n\t                self.updateData(opts);\n\t            });\n\t        }\n\t    }, {\n\t        key: 'showCollisionWarning',\n\t        value: function showCollisionWarning() {\n\t            if (!this.state.data.collisionWarning.show) return;\n\t            this.navigator.openMenu({ id: 'collisionWarning' });\n\t        }\n\t    }, {\n\t        key: 'showLimitWarning',\n\t        value: function showLimitWarning() {\n\t            this.navigator.openMenu({ id: 'limitWarning' });\n\t        }\n\t    }, {\n\t        key: 'addRecipient',\n\t        value: function addRecipient(recipient, cb) {\n\t            var _this3 = this;\n\t\n\t            var src;\n\t\n\t            if (recipient.src) {\n\t                recipient.profile_image = recipient.src; // eslint-disable-line camelcase\n\t            } else if (typeof recipient === 'string') {\n\t                if (this.state.data && this.state.data.user) {\n\t                    this.state.data.user.some(function (friend) {\n\t                        if (friend.friend_id === recipient) {\n\t                            recipient = friend;\n\t                            return true;\n\t                        }\n\t                        return false;\n\t                    });\n\t                }\n\t            }\n\t\n\t            if (typeof recipient === 'string') {\n\t                this.getData({\n\t                    name: 'getFriend',\n\t                    'friend_id': recipient,\n\t                    callback: function callback() {\n\t                        _this3.addRecipient(recipient, cb);\n\t                    }\n\t                });\n\t            } else {\n\t                src = recipient && recipient._embedded && recipient._embedded.image && recipient._embedded.image.url ? recipient._embedded.image.url : recipient.profile_image || DEFAULT_PROFILE_IMAGE;\n\t                this.setState({\n\t                    recipient: {\n\t                        'user_id': recipient.user_id || recipient.friend_id,\n\t                        name: recipient.name || recipient.username,\n\t                        src: src,\n\t                        // I need to get the flips earned back from the backend to do this.\n\t                        description: '',\n\t                        // description: friend.flips_earned + ' Flips Earned',\n\t                        'asset_type': 'friend'\n\t                    }\n\t                }, cb);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'clickRecipient',\n\t        value: function clickRecipient() {\n\t            this.navigator.goto({\n\t                index: 'friend',\n\t                goto: this.state.currentScreenIndex\n\t            });\n\t        }\n\t    }, {\n\t        key: 'create',\n\t        value: function create() {\n\t            if (this.state.recipient) {\n\t                this.navigator.goto({ index: 'canvas' });\n\t            } else {\n\t                this.navigator.goto({\n\t                    index: 'friend',\n\t                    goto: 'canvas'\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'saveButton',\n\t        value: function saveButton() {\n\t            this.save();\n\t            this.navigator.openMenu({ id: 'save' });\n\t        }\n\t    }, {\n\t        key: 'renderRecipient',\n\t        value: function renderRecipient() {\n\t            var recipient = this.state.recipient;\n\t            var content = [];\n\t\n\t            if (!recipient) return;\n\t\n\t            if (recipient.name) {\n\t                content.push(React.createElement(\n\t                    'span',\n\t                    { className: 'name' },\n\t                    recipient.name\n\t                ));\n\t            }\n\t\n\t            if (recipient.src) {\n\t                content.push(React.createElement('img', { className: 'profile-image', src: recipient.src }));\n\t            }\n\t\n\t            return content;\n\t        }\n\t    }]);\n\t\n\t    return SkribbleGame;\n\t}(skoash.Game);\n\t\n\tSkribble = React.createElement(SkribbleGame, {\n\t    config: _config2.default,\n\t    screens: {\n\t        0: _5.default,\n\t        1: _title_screen2.default,\n\t        menu: _menu_screen2.default,\n\t        friend: _friend_screen2.default,\n\t        canvas: _canvas_screen2.default,\n\t        'item-drawer': _item_drawer_screen2.default,\n\t        inbox: _inbox_screen2.default,\n\t        preview: _preview_screen2.default,\n\t        send: _send_screen2.default,\n\t        sent: _sent_screen2.default,\n\t        read: _read_screen2.default\n\t    },\n\t    menus: {\n\t        quit: _7.default,\n\t        save: _save_menu2.default,\n\t        collisionWarning: _collision_warning2.default,\n\t        limitWarning: _limit_warning2.default\n\t    },\n\t    loader: React.createElement(_3.default, null),\n\t    assets: [React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/Waving_Otter2.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/Open-wide-Otter2.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/joyful-otter_2.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/Antipation-Otter3.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/proud-of-you2.gif' }), React.createElement(skoash.Image, { className: 'hidden', src: 'media/_Otter/Peeking-through-Otter2.gif' }), React.createElement('div', { className: 'background-1' }), React.createElement('div', { className: 'background-2' }), React.createElement('div', { className: 'background-3' }), React.createElement('div', { className: 'background-4' }), React.createElement('div', { className: 'background-5' }), React.createElement('div', { className: 'background-6' })],\n\t    onBootstrap: function onBootstrap() {\n\t        this.getFriends = _.throttle(this.getData.bind(this, { name: 'getFriends' }), 1000);\n\t        this.getMediaOnReady = _.throttle(this.getMedia.bind(this), 1000);\n\t\n\t        this.updateState({\n\t            path: ['collisionWarning'],\n\t            data: {\n\t                show: true\n\t            }\n\t        });\n\t    },\n\t    onReady: function onReady() {\n\t        this.getMediaOnReady();\n\t        this.getFriends();\n\t    },\n\t    renderMenu: function renderMenu() {\n\t        return React.createElement(\n\t            'div',\n\t            null,\n\t            React.createElement(\n\t                'div',\n\t                { className: 'game-menu' },\n\t                React.createElement('button', { className: 'save', onClick: this.saveButton.bind(this) }),\n\t                React.createElement('button', {\n\t                    className: 'inbox',\n\t                    onClick: this.navigator.goto.bind(this, { index: 'inbox' })\n\t                }),\n\t                React.createElement('button', { className: 'create', onClick: this.create.bind(this) }),\n\t                React.createElement('button', { className: 'help', onClick: this.navigator.openMenu.bind(this, { id: 'help' }) }),\n\t                React.createElement('button', {\n\t                    className: 'close',\n\t                    onClick: this.navigator.openMenu.bind(this, { id: 'quit' })\n\t                })\n\t            ),\n\t            React.createElement(\n\t                'ul',\n\t                { className: 'menu recipient' },\n\t                React.createElement(\n\t                    'li',\n\t                    { onClick: this.clickRecipient.bind(this) },\n\t                    React.createElement(\n\t                        'span',\n\t                        null,\n\t                        this.renderRecipient()\n\t                    )\n\t                )\n\t            )\n\t        );\n\t    },\n\t    getGotoOpts: function getGotoOpts(opts) {\n\t        if (opts.index === 'send') {\n\t            if (!this.state.recipient || !this.state.recipient.name) {\n\t                opts.index = 'friend';\n\t                opts.goto = 'send';\n\t            }\n\t        }\n\t        return opts;\n\t    },\n\t    passData: function passData(opts) {\n\t        if (opts.name === 'add-item') {\n\t            this.refs['screen-canvas'].addItem(opts.message);\n\t            this.navigator.goto({ index: 'canvas' });\n\t        } else if (opts.name === 'add-recipient') {\n\t            this.addRecipient(opts.message, this.navigator.goto.bind(this, {\n\t                index: opts.goto || 'canvas'\n\t            }));\n\t        } else if (opts.name === 'send') {\n\t            this.send();\n\t        } else if (opts.name === 'showCollisionWarning') {\n\t            this.showCollisionWarning();\n\t        } else if (opts.name === 'showLimitWarning') {\n\t            this.showLimitWarning();\n\t        }\n\t    },\n\t    getTriggerEvents: function getTriggerEvents() {\n\t        var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t        opts.save = this.save;\n\t        opts.getMedia = this.getMedia;\n\t        opts.getRules = this.getRules;\n\t        opts.loadSkribble = this.loadSkribble;\n\t        return opts;\n\t    },\n\t    getData: function getData(opts) {\n\t        var _this4 = this;\n\t\n\t        var names = ['getFriends', 'getFriend', 'markAsRead'];\n\t\n\t        if (names.indexOf(opts.name) === -1) {\n\t            opts.name = 'getData';\n\t        }\n\t\n\t        return this.eventManager.emit(opts).then(function (data) {\n\t            _this4.updateData({\n\t                data: data,\n\t                callback: opts.callback\n\t            });\n\t        });\n\t    }\n\t});\n\t\n\tskoash.start(Skribble);\n\t\n\tif (false) module.hot.accept();\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"id\": \"skribble\",\n\t\t\"version\": 1,\n\t\t\"skoash\": \"1.1.3\",\n\t\t\"dimensions\": {\n\t\t\t\"width\": 1600,\n\t\t\t\"height\": 900\n\t\t}\n\t};\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tmodule.exports = __webpack_require__(38);\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar alphabet = __webpack_require__(3);\n\t\n\t/**\n\t * Decode the id to get the version and worker\n\t * Mainly for debugging and testing.\n\t * @param id - the shortid-generated id.\n\t */\n\tfunction decode(id) {\n\t    var characters = alphabet.shuffled();\n\t    return {\n\t        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n\t        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n\t    };\n\t}\n\t\n\tmodule.exports = decode;\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar randomByte = __webpack_require__(40);\n\t\n\tfunction encode(lookup, number) {\n\t    var loopCounter = 0;\n\t    var done;\n\t\n\t    var str = '';\n\t\n\t    while (!done) {\n\t        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n\t        done = number < (Math.pow(16, loopCounter + 1 ) );\n\t        loopCounter++;\n\t    }\n\t    return str;\n\t}\n\t\n\tmodule.exports = encode;\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar alphabet = __webpack_require__(3);\n\tvar encode = __webpack_require__(37);\n\tvar decode = __webpack_require__(36);\n\tvar isValid = __webpack_require__(39);\n\t\n\t// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n\t// This number should be updated every year or so to keep the generated id short.\n\t// To regenerate `new Date() - 0` and bump the version. Always bump the version!\n\tvar REDUCE_TIME = 1459707606518;\n\t\n\t// don't change unless we change the algos or REDUCE_TIME\n\t// must be an integer and less than 16\n\tvar version = 6;\n\t\n\t// if you are using cluster or multiple servers use this to make each instance\n\t// has a unique value for worker\n\t// Note: I don't know if this is automatically set when using third\n\t// party cluster solutions such as pm2.\n\tvar clusterWorkerId = __webpack_require__(42) || 0;\n\t\n\t// Counter is used when shortid is called multiple times in one second.\n\tvar counter;\n\t\n\t// Remember the last time shortid was called in case counter is needed.\n\tvar previousSeconds;\n\t\n\t/**\n\t * Generate unique id\n\t * Returns string id\n\t */\n\tfunction generate() {\n\t\n\t    var str = '';\n\t\n\t    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\t\n\t    if (seconds === previousSeconds) {\n\t        counter++;\n\t    } else {\n\t        counter = 0;\n\t        previousSeconds = seconds;\n\t    }\n\t\n\t    str = str + encode(alphabet.lookup, version);\n\t    str = str + encode(alphabet.lookup, clusterWorkerId);\n\t    if (counter > 0) {\n\t        str = str + encode(alphabet.lookup, counter);\n\t    }\n\t    str = str + encode(alphabet.lookup, seconds);\n\t\n\t    return str;\n\t}\n\t\n\t\n\t/**\n\t * Set the seed.\n\t * Highly recommended if you don't want people to try to figure out your id schema.\n\t * exposed as shortid.seed(int)\n\t * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n\t */\n\tfunction seed(seedValue) {\n\t    alphabet.seed(seedValue);\n\t    return module.exports;\n\t}\n\t\n\t/**\n\t * Set the cluster worker or machine id\n\t * exposed as shortid.worker(int)\n\t * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n\t * returns shortid module so it can be chained.\n\t */\n\tfunction worker(workerId) {\n\t    clusterWorkerId = workerId;\n\t    return module.exports;\n\t}\n\t\n\t/**\n\t *\n\t * sets new characters to use in the alphabet\n\t * returns the shuffled alphabet\n\t */\n\tfunction characters(newCharacters) {\n\t    if (newCharacters !== undefined) {\n\t        alphabet.characters(newCharacters);\n\t    }\n\t\n\t    return alphabet.shuffled();\n\t}\n\t\n\t\n\t// Export all other functions as properties of the generate function\n\tmodule.exports = generate;\n\tmodule.exports.generate = generate;\n\tmodule.exports.seed = seed;\n\tmodule.exports.worker = worker;\n\tmodule.exports.characters = characters;\n\tmodule.exports.decode = decode;\n\tmodule.exports.isValid = isValid;\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar alphabet = __webpack_require__(3);\n\t\n\tfunction isShortId(id) {\n\t    if (!id || typeof id !== 'string' || id.length < 6 ) {\n\t        return false;\n\t    }\n\t\n\t    var characters = alphabet.characters();\n\t    var len = id.length;\n\t    for(var i = 0; i < len;i++) {\n\t        if (characters.indexOf(id[i]) === -1) {\n\t            return false;\n\t        }\n\t    }\n\t    return true;\n\t}\n\t\n\tmodule.exports = isShortId;\n\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\t\n\tfunction randomByte() {\n\t    if (!crypto || !crypto.getRandomValues) {\n\t        return Math.floor(Math.random() * 256) & 0x30;\n\t    }\n\t    var dest = new Uint8Array(1);\n\t    crypto.getRandomValues(dest);\n\t    return dest[0] & 0x30;\n\t}\n\t\n\tmodule.exports = randomByte;\n\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// Found this seed-based random generator somewhere\n\t// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\t\n\tvar seed = 1;\n\t\n\t/**\n\t * return a random number based on a seed\n\t * @param seed\n\t * @returns {number}\n\t */\n\tfunction getNextValue() {\n\t    seed = (seed * 9301 + 49297) % 233280;\n\t    return seed/(233280.0);\n\t}\n\t\n\tfunction setSeed(_seed_) {\n\t    seed = _seed_;\n\t}\n\t\n\tmodule.exports = {\n\t    nextValue: getNextValue,\n\t    seed: setSeed\n\t};\n\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = 0;\n\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// skribble/ai.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1d76f381147e325d7349","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/classnames/index.js\n// module id = 1\n// module chunks = 0","// As of skoash 1.1.0 this component can be found at skoash.Selectable\n/* eslint-disable no-console */\nconsole.warn('As of skoash 1.1.0 this component can be found at skoash.Selectable');\n/* eslint-enable no-console */\n\nimport classNames from 'classnames';\n\nclass Selectable extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            classes: {},\n            selectFunction: this.select,\n        };\n    }\n\n    start() {\n        var selectClass;\n        var selectFunction;\n        var classes = this.state.classes;\n\n        super.start();\n\n        selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n        selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\n        if (this.props.selectOnStart) {\n            classes[this.props.selectOnStart] = selectClass;\n        }\n\n        this.setState({\n            started: true,\n            classes,\n            selectFunction,\n            selectClass,\n        });\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        if (this.refs.bin) {\n            this.setState({\n                list: this.refs.bin.getAll()\n            });\n        }\n    }\n\n    selectHelper(e, classes) {\n        var ref;\n        var dataRef;\n        var target;\n        var id;\n        var isCorrect;\n        var self = this;\n\n        if (typeof e === 'string') {\n            dataRef = e;\n        } else {\n            target = e.target.closest('LI');\n\n            if (!target) return;\n\n            dataRef = target.getAttribute('data-ref');\n        }\n\n        ref = self.refs[dataRef];\n\n        isCorrect = (ref && ref.props && ref.props.correct) ||\n            (!self.props.answers || !self.props.answers.length ||\n                self.props.answers.indexOf(dataRef) !== -1);\n\n        if (self.props.allowDeselect && classes[dataRef]) {\n            delete classes[dataRef];\n        } else if (isCorrect) {\n            classes[dataRef] = self.state.selectClass;\n        }\n\n        self.setState({\n            classes,\n        });\n\n        self.props.selectRespond.call(self, dataRef);\n        self.props.onSelect.call(self, dataRef);\n\n        if (self.props.chooseOne) self.complete();\n\n        if (self.props.dataTarget) {\n            self.updateGameState({\n                path: self.props.dataTarget,\n                data: {\n                    target: ref\n                }\n            });\n        }\n\n        if (self.props.completeListOnClick) {\n            _.each(self.refs, (r, k) => {\n                if (k === id) _.invoke(r, 'complete');\n            });\n        }\n\n        _.each(self.refs, (r, k) => {\n            if (k === dataRef) _.invoke(r, 'complete');\n        });\n    }\n\n    select(e) {\n        var classes = [];\n        this.selectHelper(e, classes);\n    }\n\n    highlight(e) {\n        var classes = this.state.classes;\n        this.selectHelper(e, classes);\n    }\n\n    getClass(key, li) {\n        return classNames(\n            li.props.className,\n            this.state.classes[key],\n            this.state.classes[li.props['data-ref']],\n            this.state.classes[li.props['data-key']]\n        );\n    }\n\n    getClassNames() {\n        return classNames('selectable', super.getClassNames());\n    }\n\n    componentWillReceiveProps(props) {\n        super.componentWillReceiveProps(props);\n\n        if (props.select && props.select !== this.props.select) {\n            this.state.selectFunction.call(this, props.select);\n        }\n    }\n\n    renderBin() {\n        if (!this.props.bin) return null;\n\n        return (\n            <this.props.bin.type\n                {...this.props.bin.props}\n                ref=\"bin\"\n            />\n        );\n    }\n\n    renderList() {\n        var list = this.props.list || this.state.list;\n        return list.map((li, key) => {\n            var dataRef = li.props['data-ref'] || key;\n            var ref = li.ref || li.props.id || dataRef;\n            var message = li.props.message || '' + key;\n            return (\n                <li.type\n                    {...li.props}\n                    type=\"li\"\n                    className={this.getClass(key, li)}\n                    message={message}\n                    data-message={message}\n                    data-ref={dataRef}\n                    ref={ref}\n                    key={key}\n                />\n            );\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                {this.renderBin()}\n                <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n                    {this.renderList()}\n                </ul>\n            </div>\n        );\n    }\n}\n\nSelectable.defaultProps = _.defaults({\n    list: [\n        <li></li>,\n        <li></li>,\n        <li></li>,\n        <li></li>\n    ],\n    selectClass: 'SELECTED',\n    completeListOnClick: true,\n    selectRespond: _.noop,\n    onSelect: _.noop,\n}, skoash.Component.defaultProps);\n\nexport default Selectable;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/selectable/0.1.js","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/alphabet.js\n// module id = 3\n// module chunks = 0","import classNames from 'classnames';\n\nimport EditableAsset from '../editable_asset/0.1.js';\n\nclass Canvas extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            background: null,\n            items: [],\n            messages: [],\n            offsetX: 0,\n            offsetY: 0,\n            active: false,\n            valid: true,\n        };\n\n        this.deleteItem = this.deleteItem.bind(this);\n        this.checkItem = this.checkItem.bind(this);\n        this.deactivateItems = this.deactivateItems.bind(this);\n        this.relayerItems = this.relayerItems.bind(this);\n        this.setValid = this.setValid.bind(this);\n    }\n\n    start() {\n        var dom = ReactDOM.findDOMNode(this);\n\n        super.start();\n\n        this.setState({\n            width: dom.offsetWidth,\n            height: dom.offsetHeight,\n        });\n    }\n\n    getItems() {\n        var items;\n        var messages;\n        var self = this;\n\n        items = this.state.items.map((item, key) => {\n            var state;\n\n            if (!self.refs['item-' + key]) return item;\n\n            state = self.refs['item-' + key].state;\n\n            item.state = {\n                left: _.floor(state.left, 14),\n                top: _.floor(state.top, 14),\n                scale: _.floor(state.scale, 14),\n                rotation: _.floor(state.rotation, 14),\n                layer: state.layer,\n                valid: state.valid,\n                corners: state.corners,\n            };\n\n            item.check = state.check;\n            item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\n            return item;\n        });\n\n        messages = this.state.messages.map((item, key) => {\n            var state;\n\n            if (!self.refs['message-' + key]) return item;\n\n            state = self.refs['message-' + key].state;\n\n            item.state = {\n                left: _.floor(state.left, 14),\n                top: _.floor(state.top, 14),\n                scale: _.floor(state.scale, 14),\n                rotation: _.floor(state.rotation, 14),\n                layer: state.layer,\n                valid: state.valid,\n                corners: state.corners,\n            };\n\n            item.check = state.check;\n            item.mime_type = state.mime_type; // eslint-disable-line camelcase\n\n            return item;\n        });\n\n        _.remove(items, n => {\n            return !n;\n        });\n\n        _.remove(messages, n => {\n            return !n;\n        });\n\n        return {\n            background: this.state.background,\n            items,\n            messages,\n        };\n    }\n\n    reset() {\n        this.setState({\n            background: null,\n            items: [],\n            messages: []\n        });\n    }\n\n    setItems(message) {\n        if (message) {\n            /*\n             *\n             * This makes sure the EditableAssets get cleared.\n             *\n             * This prevents the new assets from inheriting\n             * state from the old assets.\n             *\n             */\n            this.setState({\n                background: null,\n                items: [],\n                messages: [],\n            }, () => {\n                this.addItem(message.background);\n                message.items.forEach(asset => {\n                    this.addItem(asset);\n                });\n                message.messages.forEach(asset => {\n                    this.addItem(asset);\n                });\n            });\n        }\n    }\n\n    addItem(asset, cb) {\n        var items;\n        var messages;\n        var index;\n        var count;\n\n        if (!asset) return;\n\n        if (asset.asset_type === 'background') {\n            this.setState({\n                background: asset,\n            }, () => {\n                skoash.trigger('emit', {\n                    name: 'getMedia',\n                    'media_id': asset.media_id\n                }).then(d => {\n                    var background = this.state.background;\n                    background.check = d.check;\n                    background.mime_type = d.mime_type; // eslint-disable-line camelcase\n                    this.setState({\n                        background\n                    }, cb);\n                });\n            });\n        } else if (asset.asset_type === 'item') {\n            items = this.state.items;\n\n            count = _.reduce(items, (c, v) => {\n                if (asset.src === v.src) c++;\n                return c;\n            }, 1);\n\n            if (count > this.props.maxInstances) {\n                skoash.trigger('openMenu', {\n                    id: 'limitWarning'\n                });\n                return;\n            }\n\n            items.push(asset);\n            index = items.indexOf(asset);\n\n            this.setState({\n                items,\n            }, () => {\n                skoash.trigger('emit', {\n                    name: 'getMedia',\n                    'media_id': asset.media_id\n                }).then(d => {\n                    asset.check = d.check;\n                    asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n                    items[index] = asset;\n                    this.setState({\n                        items\n                    }, cb);\n                });\n            });\n        } else if (asset.asset_type === 'message') {\n            messages = this.state.messages;\n\n            count = _.reduce(items, (c, v) => {\n                if (asset.src === v.src) c++;\n                return c;\n            }, 1);\n\n            if (count > this.props.maxInstances) return;\n\n            messages.push(asset);\n            index = messages.indexOf(asset);\n\n            this.setState({\n                messages,\n            }, () => {\n                skoash.trigger('emit', {\n                    name: 'getMedia',\n                    'media_id': asset.media_id\n                }).then(d => {\n                    asset.check = d.check;\n                    asset.mime_type = d.mime_type; // eslint-disable-line camelcase\n                    messages[index] = asset;\n                    this.setState({\n                        messages\n                    }, cb);\n                });\n            });\n        }\n    }\n\n    deleteItem(key, type) {\n        var items;\n\n        items = this.state[type + 's'];\n        delete items[key];\n\n        this.setState({\n            [type + 's']: items,\n        });\n    }\n\n    deactivateItems(exclude, type) {\n        if (typeof exclude === 'object' && exclude.target) {\n            if (exclude.target.tagName !== 'LI') return;\n            this.setState({\n                active: false,\n            });\n            if (!this.state.valid) {\n                skoash.trigger('passData', {\n                    name: 'showCollisionWarning'\n                });\n            }\n        }\n\n        if (typeof exclude === 'number') {\n            this.setState({\n                active: true,\n            });\n        }\n\n        this.state.items.map((item, key) => {\n            if ((key !== exclude || type !== 'item') && this.refs['item-' + key]) {\n                this.refs['item-' + key].deactivate();\n            }\n        });\n\n        this.state.messages.map((item, key) => {\n            if ((key !== exclude || type !== 'message') && this.refs['message-' + key]) {\n                this.refs['message-' + key].deactivate();\n            }\n        });\n    }\n\n    relayerItems(type) {\n        var layers = [];\n\n        this.state[type + 's'].map((item, key) => {\n            var layer;\n\n            layer = this.refs[type + '-' + key].state.layer;\n\n            if (layers.indexOf(layer) === -1) {\n                layers.push(layer);\n            }\n        });\n\n        layers.sort((a, b) => {\n            return a < b;\n        });\n\n        this.state[type + 's'].map((item, key) => {\n            var oldLayer;\n            var newLayer;\n\n            oldLayer = this.refs[type + '-' + key].state.layer;\n            newLayer = (type === 'message') ? 10000 : 1000;\n            newLayer = newLayer - layers.indexOf(oldLayer);\n\n            this.refs[type + '-' + key].relayer(newLayer);\n        });\n    }\n\n    checkItem(key, type) {\n        var self = this;\n\n        return (\n            !self.refs[type + '-' + key].state.corners.length ||\n            (\n                self.isInBounds(key, type) && (\n                    self.refs[type + '-' + key].state.can_overlap ||\n                    !self.state[type + 's'].some((item, index) =>\n                        key !== index &&\n                        !self.refs[type + '-' + index].state.can_overlap &&\n                        self.refs[type + '-' + index].state.corners.length &&\n                        skoash.util.doIntersect(\n                            self.refs[type + '-' + key].state.corners,\n                            self.refs[type + '-' + index].state.corners\n                        )\n                    )\n                )\n            )\n        );\n    }\n\n    isInBounds(key, type) {\n        return !this.state.width ||\n            !this.state.height ||\n            !(\n            // box to left\n            skoash.util.doIntersect(\n                this.refs[type + '-' + key].state.corners,\n                [\n                    {x: 0, y: -this.state.height},\n                    {x: 0, y: 2 * this.state.height},\n                    {x: -this.state.width, y: 2 * this.state.height},\n                    {x: -this.state.width, y: -this.state.height}\n                ]\n            ) ||\n            // box above\n            skoash.util.doIntersect(\n                this.refs[type + '-' + key].state.corners,\n                [\n                    {x: -this.state.width, y: 0},\n                    {x: 2 * this.state.width, y: 0},\n                    {x: 2 * this.state.width, y: -this.state.height},\n                    {x: this.state.width, y: -this.state.height}\n                ]\n            ) ||\n            // box to right\n            skoash.util.doIntersect(\n                this.refs[type + '-' + key].state.corners,\n                [\n                    {x: this.state.width, y: -this.state.height},\n                    {x: this.state.width, y: 2 * this.state.height},\n                    {x: 2 * this.state.width, y: 2 * this.state.height},\n                    {x: 2 * this.state.width, y: -this.state.height}\n                ]\n            ) ||\n            // box below\n            skoash.util.doIntersect(\n                this.refs[type + '-' + key].state.corners,\n                [\n                    {x: -this.state.width, y: this.state.height},\n                    {x: 2 * this.state.width, y: this.state.height},\n                    {x: 2 * this.state.width, y: 2 * this.state.height},\n                    {x: -this.state.width, y: 2 * this.state.height}\n                ]\n            )\n        );\n    }\n\n    setValid(valid) {\n        this.setState({\n            valid\n        });\n\n        this.props.setValid.call(this, valid);\n    }\n\n    getStyle() {\n        if (!this.state.background) return;\n\n        return {\n            backgroundImage: `url(${this.state.background.src})`,\n        };\n    }\n\n    renderItems() {\n        var self = this;\n\n        return this.state.items.map((item, key) => {\n            return (\n                <EditableAsset\n                    {...item}\n                    data-ref={key}\n                    minDim={this.props.itemMinDim}\n                    deleteItem={self.deleteItem}\n                    checkItem={self.checkItem}\n                    deactivateItems={self.deactivateItems}\n                    relayerItems={self.relayerItems}\n                    setValid={self.setValid}\n                    ref={'item-' + key}\n                    key={key}\n                />\n            );\n        });\n    }\n\n    renderMessages() {\n        var self = this;\n\n        return this.state.messages.map((item, key) => {\n            return (\n                <EditableAsset\n                    {...item}\n                    data-ref={key}\n                    minDim={this.props.messageMinDim}\n                    deleteItem={self.deleteItem}\n                    checkItem={self.checkItem}\n                    deactivateItems={self.deactivateItems}\n                    relayerItems={self.relayerItems}\n                    setValid={self.setValid}\n                    canvasWidth={this.state.width}\n                    canvasHeight={this.state.height}\n                    ref={'message-' + key}\n                    key={key}\n                />\n            );\n        });\n    }\n\n    getClassNames() {\n        return classNames({\n            canvas: true,\n            ACTIVE: !this.props.preview && this.state.active,\n        });\n    }\n\n    render() {\n        return (\n            <ul\n                className={this.getClassNames()}\n                style={this.getStyle()}\n                onClick={this.deactivateItems}\n            >\n                {this.renderItems()}\n                {this.renderMessages()}\n            </ul>\n        );\n    }\n}\n\nCanvas.defaultProps = _.defaults({\n    maxInstances: 5,\n    setValid: _.noop,\n}, skoash.Component.defaultProps);\n\nexport default Canvas;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/canvas/0.1.js","import shortid from 'shortid';\nimport classNames from 'classnames';\n\nimport Selectable from 'shared/components/selectable/0.1';\nimport ScrollArea from 'shared/components/scroll_area/0.1';\n\nclass ItemDrawer extends Selectable {\n    start() {\n        var items;\n        var selectedItem;\n        var selectClass;\n        var selectFunction;\n        var classes = {};\n        var self = this;\n\n        selectClass = this.props.selectClass || this.state.selectClass || 'SELECTED';\n        selectFunction = selectClass === 'HIGHLIGHTED' ? this.highlight : this.select;\n\n        items = self.props.data || [];\n\n        if (self.state.category && items[self.state.category]) {\n            items = items[self.state.category].items;\n        }\n\n        selectedItem = JSON.stringify(self.props.selectedItem);\n\n        _.each(items, (item, key) => {\n            if (self.props.selectedItem && JSON.stringify(item) === selectedItem) {\n                classes[key] = selectClass;\n            }\n        });\n\n        if (this.props.selectOnStart) {\n            classes[this.props.selectOnStart] = selectClass;\n        }\n\n        this.setState({\n            started: true,\n            classes,\n            selectClass,\n            selectFunction,\n            categoryName: '',\n            category: '',\n        });\n\n        _.each(self.refs, ref => {\n            if (typeof ref.start === 'function') ref.start();\n        });\n    }\n\n    selectHelper(e) {\n        var li;\n        var message;\n        var key;\n        var type;\n        var categoryName;\n        var classes = [];\n\n        li = e.target.closest('LI');\n        if (!li) return;\n\n        key = li.getAttribute('data-ref');\n        if (!this.refs[key]) return;\n\n        type = this.refs[key].props.item.asset_type;\n        if (!type) return;\n\n        if (type === 'folder') {\n            categoryName = this.refs[key].props.item.name;\n            this.setState({\n                category: key,\n                categoryName\n            });\n        } else {\n            message = this.refs[key].props.item;\n            classes[key] = this.props.selectClass;\n\n            this.setState({\n                message,\n                classes,\n            });\n        }\n    }\n\n    selectButton() {\n        if (typeof this.props.selectRespond === 'function' && this.state.message) {\n            this.props.selectRespond(this.state.message);\n        }\n    }\n\n    continueButton() {\n        if (typeof this.props.selectRespond === 'function') {\n            this.props.selectRespond({});\n        }\n    }\n\n    cancelButton() {\n        if (typeof this.props.cancelRespond === 'function') {\n            this.props.cancelRespond.call(this);\n        }\n    }\n\n    getCategory() {\n        if (this.state.categoryName || this.props.categoryName) {\n            return this.state.categoryName || this.props.categoryName;\n        }\n\n        if (this.props.categories && this.props.categories.length) {\n            return this.props.categories[this.props.categories.length - 1];\n        }\n        return '';\n    }\n\n    getClassNames() {\n        return classNames({\n            'ANSWERED': _.values(this.state.classes).indexOf(this.state.selectClass) !== -1\n        }, this.props.className, 'item-drawer-component');\n    }\n\n    getULClass() {\n        return classNames('item-drawer', {\n            COMPLETE: this.state.complete,\n        }, this.props.categories ? this.props.categories.join(' ') : '');\n    }\n\n    getClass(key, item) {\n        return classNames(this.state.classes[key] || '', {\n            white: item && item.name && item.name.toLowerCase()[item.name.length - 1] === 'w',\n        });\n    }\n\n    renderButtons() {\n        return (\n      <div className=\"buttons\">\n        <button className=\"select\" onClick={this.selectButton.bind(this)} />\n        <button className=\"continue\" onClick={this.continueButton.bind(this)} />\n        <button className=\"cancel\" onClick={this.cancelButton.bind(this)} />\n      </div>\n    );\n    }\n\n    renderItemContent(item) {\n        var content = [];\n        var thumb;\n        var src;\n\n        if (item.src || item.thumb) {\n            src = item.thumb || item.src;\n        } else if (item.items) {\n            if (!_.isArray(item.items)) {\n                item.items = _.values(item.items);\n            }\n\n            thumb = _.find(item.items, subitem => subitem.name === '_thumb');\n\n            if (thumb) src = thumb.thumb || thumb.src;\n\n            if (!src && item.items[0]) src = item.items[0].thumb || item.items[0].src;\n        }\n\n        if (src) {\n            content.push(<skoash.Image src={src} key={0} />);\n        }\n\n        if (item.name && (item.asset_type === 'folder' || item.asset_type === 'friend')) {\n            content.push(<span className=\"name\" key={1}>{item.name}</span>);\n        }\n\n        if (item.description) {\n            content.push(<span className=\"description\" key={2}>{item.description}</span>);\n        }\n\n        return content;\n    }\n\n    renderList() {\n        var items;\n        var self = this;\n\n        if (!this.props.data) return;\n\n        items = this.props.data;\n\n        if (this.state.category && items[this.state.category]) {\n            items = items[this.state.category].items;\n        }\n\n        if (!_.isArray(items)) {\n            items = _.values(items);\n        }\n\n        return items.sort((a, b) => {\n            var aVal = !_.isNaN(window.parseInt(a.order)) ? window.parseInt(a.order) : Infinity;\n            var bVal = !_.isNaN(window.parseInt(b.order)) ? window.parseInt(b.order) : Infinity;\n            if (aVal === bVal) {\n                if (a.name < b.name) return -1;\n                if (a.name > b.name) return 1;\n                return 0;\n            }\n            if (aVal < bVal) return -1;\n            return 1;\n        }).filter(item =>\n      item.name !== '_thumb'\n    ).map((item, key) =>\n      <skoash.ListItem\n        className={this.getClass(key, item)}\n        ref={key}\n        data-ref={key}\n        item={item}\n        key={shortid.generate()}\n      >\n        {self.renderItemContent(item)}\n      </skoash.ListItem>\n    );\n    }\n\n    render() {\n        return (\n            <div className={this.getClassNames()}>\n                <div className=\"item-drawer-container\">\n                    <h2>{this.getCategory()}</h2>\n                    <ScrollArea ref=\"scroll-area\" img={this.props.scrollbarImg}>\n                        <ul\n                            ref=\"list\"\n                            className={this.getULClass()}\n                            onClick={this.state.selectFunction.bind(this)}\n                        >\n                            {this.renderList()}\n                        </ul>\n                    </ScrollArea>\n                </div>\n                {this.renderButtons()}\n            </div>\n        );\n    }\n}\n\nItemDrawer.defaultProps = _.defaults({\n    scrollbarImg: '',\n    shouldComponentUpdate: function (nextProps, nextState) {\n        var items;\n        var quickCheck;\n        var itemsChanged;\n\n        items = nextProps.data || [];\n        if (nextState.category && items[nextState.category]) {\n            items = items[nextState.category].items;\n        }\n\n        quickCheck = _.reduce(items, (a, i) => a + i.name, '');\n\n        itemsChanged = this.quickCheck !== quickCheck;\n        if (itemsChanged) this.quickCheck = quickCheck;\n\n        return itemsChanged || nextProps.categoryName !== this.props.categoryName ||\n            JSON.stringify(this.state.classes) !== JSON.stringify(nextState.classes);\n    },\n}, Selectable.defaultProps);\n\nexport default ItemDrawer;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/item_drawer/0.1.js","import classNames from 'classnames';\n\nclass Draggable extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            startX: 0,\n            startY: 0,\n            endX: 0,\n            endY: 0,\n            zoom: 1,\n        };\n\n        this.mouseDown = this.mouseDown.bind(this);\n        this.mouseUp = this.mouseUp.bind(this);\n\n        this.moveEvent = this.moveEvent.bind(this);\n\n        this.touchStart = this.touchStart.bind(this);\n        this.touchEnd = this.touchEnd.bind(this);\n    }\n\n    shouldDrag() {\n        return true;\n    }\n\n    incomplete() {\n        this.markIncorrect();\n        this.returnToStart();\n\n        super.incomplete();\n    }\n\n    markCorrect() {\n        this.setState({\n            correct: true,\n        });\n    }\n\n    markIncorrect() {\n        this.setState({\n            correct: false,\n        });\n    }\n\n    startEvent(e, cb) {\n        var pageX;\n        var pageY;\n        var rect;\n        var startX;\n        var startY;\n        var endX;\n        var endY;\n        var grabX;\n        var grabY;\n\n        if (e.target !== this.refs.el) return;\n        if (!this.shouldDrag()) return;\n\n        if (e.targetTouches && e.targetTouches[0]) {\n            pageX = e.targetTouches[0].pageX;\n            pageY = e.targetTouches[0].pageY;\n            rect = e.target.getBoundingClientRect();\n            e = e.targetTouches[0];\n            e.offsetX = pageX - rect.left;\n            e.offsetY = pageY - rect.top;\n        }\n\n        grabX = e.offsetX;\n        grabY = e.offsetY;\n\n        startX = endX = e.pageX - grabX;\n        startY = endY = e.pageY - grabY;\n\n        if (!this.state.firstX) {\n            this.setState({\n                firstX: startX,\n                firstY: startY,\n            });\n        }\n\n        if (!this.props.return) {\n            startX = _.isFinite(this.state.grabX) ?\n        this.state.startX + this.state.grabX - grabX :\n        startX;\n            startY = _.isFinite(this.state.grabY) ?\n        this.state.startY + this.state.grabY - grabY :\n        startY;\n        }\n\n        this.setState({\n            dragging: true,\n            return: false,\n            startX,\n            startY,\n            grabX,\n            grabY,\n            endX,\n            endY,\n        });\n\n        if (typeof this.props.dragRespond === 'function') {\n            this.props.dragRespond(this.props.message);\n        }\n\n        if (typeof cb === 'function') {\n            cb.call(this);\n        }\n    }\n\n    attachMouseEvents() {\n        window.addEventListener('mousemove', this.moveEvent);\n        window.addEventListener('mouseup', this.mouseUp);\n    }\n\n    attachTouchEvents() {\n        window.addEventListener('touchmove', this.moveEvent);\n        window.addEventListener('touchend', this.touchEnd);\n    }\n\n    mouseDown(e) {\n        this.startEvent(e, this.attachMouseEvents);\n    }\n\n    touchStart(e) {\n        this.startEvent(e, this.attachTouchEvents);\n    }\n\n    moveEvent(e) {\n        if (e.targetTouches && e.targetTouches[0]) {\n            e.pageX = e.targetTouches[0].pageX;\n            e.pageY = e.targetTouches[0].pageY;\n        }\n\n        this.setState({\n            endX: e.pageX - this.state.grabX,\n            endY: e.pageY - this.state.grabY,\n        });\n    }\n\n    returnToStart() {\n        if (this.state.firstX) {\n            this.setState({\n                dragging: false,\n                return: true,\n                endX: this.state.firstX,\n                endY: this.state.firstY,\n            });\n        }\n    }\n\n    endEvent(cb) {\n        this.dropRespond();\n\n        if (this.props.return) {\n            this.returnToStart();\n        } else {\n            this.setState({\n                dragging: false,\n                return: this.state.return,\n            });\n        }\n\n        if (typeof cb === 'function') {\n            cb.call(this);\n        }\n    }\n\n    detachMouseEvents() {\n        window.removeEventListener('mousemove', this.moveEvent);\n        window.removeEventListener('mouseup', this.mouseUp);\n    }\n\n    detachTouchEvents() {\n        window.removeEventListener('touchmove', this.moveEvent);\n        window.removeEventListener('touchend', this.touchEnd);\n    }\n\n    mouseUp() {\n        this.endEvent(this.detachMouseEvents);\n    }\n\n    touchEnd() {\n        this.endEvent(this.detachTouchEvents);\n    }\n\n    dropRespond() {\n        var corners;\n\n        corners = this.setCorners();\n\n        if (typeof this.props.dropRespond === 'function') {\n            this.props.dropRespond(this.props.message, corners);\n        }\n    }\n\n    setCorners() {\n        var top;\n        var left;\n        var width;\n        var height;\n        var el;\n        var corners = [];\n\n        left = 0;\n        top = 0;\n        el = this.refs.el;\n        width = el.offsetWidth;\n        height = el.offsetHeight;\n\n        while (el) {\n            if (el.className.indexOf('screen') !== -1) {\n                break;\n            }\n\n            left += el.offsetLeft || 0;\n            top += el.offsetTop || 0;\n            el = el.offsetParent;\n        }\n\n        left += ((this.state.endX - this.state.startX) / this.state.zoom);\n        top += ((this.state.endY - this.state.startY) / this.state.zoom);\n\n        for (let i = 0; i < 4; i++) {\n            corners.push({\n                x: left + width * (i === 1 || i === 2 ? 1 : 0),\n                y: top + height * (i > 1 ? 1 : 0),\n            });\n        }\n\n        this.setState({\n            corners,\n        });\n\n        return corners;\n    }\n\n    componentDidMount() {\n        this.bootstrap();\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        this.setZoom();\n\n        this.refs.el.addEventListener('mousedown', this.mouseDown);\n        this.refs.el.addEventListener('touchstart', this.touchStart);\n\n        window.addEventListener('resize', this.setZoom.bind(this));\n    }\n\n    setZoom() {\n        skoash.trigger('getState').then(state => {\n            this.setState({\n                zoom: state.scale,\n            });\n        });\n    }\n\n    getStyle() {\n        var x;\n        var y;\n\n        x = ((this.state.endX - this.state.startX) / this.state.zoom);\n        y = ((this.state.endY - this.state.startY) / this.state.zoom);\n\n        return {\n            transform: `translateX(${x}px) translateY(${y}px)`,\n            WebkitTransform: `translateX(${x}px) translateY(${y}px)`,\n        };\n    }\n\n    getClassNames() {\n        return classNames({\n            draggable: true,\n            [this.props.className]: this.props.className,\n            [this.props.message]: this.props.message,\n            DRAGGING: this.state.dragging,\n            RETURN: this.state.return,\n            CORRECT: this.state.correct,\n        }, super.getClassNames());\n    }\n\n    render() {\n        return (\n            <div\n                ref=\"el\"\n                className={this.getClassNames()}\n                style={this.getStyle()}\n            >\n                {this.renderContentList()}\n            </div>\n        );\n    }\n}\n\nexport default Draggable;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/draggable/0.1.js","import classNames from 'classnames';\n\nimport Draggable from '../draggable/0.1.js';\n\nclass EditableAsset extends Draggable {\n    constructor() {\n        super();\n\n        this.state = {\n            width: 0,\n            height: 0,\n            left: 0,\n            top: 0,\n            scale: .5,\n            minScale: .1,\n            maxScale: 1,\n            rotation: 0,\n            layer: 1000,\n            zoom: 1,\n            active: false,\n            valid: true,\n            corners: [],\n            lastValid: {},\n        };\n\n        this.scale = this.scale.bind(this);\n        this.adjustScale = this.adjustScale.bind(this);\n        this.offScale = this.offScale.bind(this);\n\n        this.rotate = this.rotate.bind(this);\n        this.adjustRotation = this.adjustRotation.bind(this);\n        this.offRotate = this.offRotate.bind(this);\n    }\n\n    shouldDrag() {\n        return this.state.active;\n    }\n\n    activate() {\n        this.setState({\n            active: true,\n        });\n\n        if (typeof this.props.deactivateItems === 'function') {\n            this.props.deactivateItems(this.props['data-ref'], this.props.asset_type);\n        }\n    }\n\n    deactivate() {\n        if (!this.state.valid) {\n            this.setState({\n                left: this.state.lastValid.left || this.state.left,\n                top: this.state.lastValid.top || this.state.top,\n                scale: this.state.lastValid.scale || this.state.scale,\n                rotation: this.state.lastValid.rotation || this.state.rotation,\n                active: false,\n            }, () => {\n                setTimeout(() => {\n                    this.checkItem();\n                }, 0);\n            });\n        } else {\n            this.setState({\n                active: false,\n            });\n        }\n    }\n\n    moveEvent(e) {\n        if (e.targetTouches && e.targetTouches[0]) {\n            e.pageX = e.targetTouches[0].pageX;\n            e.pageY = e.targetTouches[0].pageY;\n        }\n\n        this.setState({\n            endX: e.pageX - this.state.grabX,\n            endY: e.pageY - this.state.grabY,\n            left: ((e.pageX - this.state.grabX - this.state.startX) / this.state.zoom),\n            top: ((e.pageY - this.state.grabY - this.state.startY) / this.state.zoom),\n        });\n        this.checkItem();\n    }\n\n    delete() {\n        if (typeof this.props.deleteItem === 'function') {\n            this.props.deleteItem(this.props['data-ref'], this.props.asset_type);\n        }\n    }\n\n    rotate() {\n        this.refs.el.parentNode.addEventListener('mousemove', this.adjustRotation);\n        this.refs.el.parentNode.addEventListener('mouseup', this.offRotate);\n\n        this.refs.el.parentNode.addEventListener('touchmove', this.adjustRotation);\n        this.refs.el.parentNode.addEventListener('touchend', this.offRotate);\n    }\n\n    offRotate() {\n        this.refs.el.parentNode.removeEventListener('mousemove', this.adjustRotation);\n        this.refs.el.parentNode.removeEventListener('mouseup', this.offRotate);\n\n        this.refs.el.parentNode.removeEventListener('touchmove', this.adjustRotation);\n        this.refs.el.parentNode.removeEventListener('touchend', this.offRotate);\n    }\n\n    adjustRotation(e) {\n        var rotation;\n        var deltaX;\n        var deltaY;\n\n        if (e.targetTouches && e.targetTouches[0]) {\n            e.pageX = e.targetTouches[0].pageX;\n            e.pageY = e.targetTouches[0].pageY;\n        }\n\n        deltaX = (e.pageX / this.state.zoom) - (this.refs.li.offsetParent.offsetLeft) -\n            (this.state.left + this.state.width / 2);\n        deltaY = (e.pageY / this.state.zoom) - (this.refs.li.offsetParent.offsetTop) -\n            (this.state.top + this.state.height / 2);\n\n        rotation = Math.atan2(deltaY, deltaX) + (Math.PI / 4) % (2 * Math.PI);\n\n        this.setState({\n            rotation,\n        });\n\n        this.checkItem();\n    }\n\n    layer() {\n        var layer;\n        var self = this;\n\n        layer = this.state.layer - 1;\n\n        this.setState({\n            layer,\n        }, () => {\n            if (typeof self.props.relayerItems === 'function') {\n                self.props.relayerItems(self.props.asset_type);\n            }\n        });\n    }\n\n    relayer(layer) {\n        this.setState({\n            layer,\n        });\n    }\n\n    scale() {\n        this.refs.el.parentNode.addEventListener('mousemove', this.adjustScale);\n        this.refs.el.parentNode.addEventListener('mouseup', this.offScale);\n\n        this.refs.el.parentNode.addEventListener('touchmove', this.adjustScale);\n        this.refs.el.parentNode.addEventListener('touchend', this.offScale);\n    }\n\n    offScale() {\n        this.refs.el.parentNode.removeEventListener('mousemove', this.adjustScale);\n        this.refs.el.parentNode.removeEventListener('mouseup', this.offScale);\n\n        this.refs.el.parentNode.removeEventListener('touchmove', this.adjustScale);\n        this.refs.el.parentNode.removeEventListener('touchend', this.offScale);\n    }\n\n    adjustScale(e) {\n        var scale;\n        var deltaX;\n        var deltaY;\n        var delta;\n        var base;\n\n        if (e.targetTouches && e.targetTouches[0]) {\n            e.pageX = e.targetTouches[0].pageX;\n            e.pageY = e.targetTouches[0].pageY;\n        }\n\n        deltaX = (e.pageX / this.state.zoom) - (this.refs.li.offsetParent.offsetLeft / this.state.zoom) -\n            (this.state.left + this.state.width / 2);\n        deltaY = (e.pageY / this.state.zoom) - (this.refs.li.offsetParent.offsetTop / this.state.zoom) -\n            (this.state.top + this.state.height / 2);\n\n        delta = Math.pow(Math.pow(deltaX, 2) + Math.pow(deltaY, 2), .5);\n        base = Math.pow(Math.pow(this.state.width / 2, 2) + Math.pow(this.state.height / 2, 2), .5);\n\n        scale = Math.max(Math.min(delta / base, 1), this.state.minScale);\n\n        this.setState({\n            scale,\n        });\n\n        this.checkItem();\n    }\n\n    checkItem() {\n        this.setCorners(() => {\n            var valid;\n\n            if (typeof this.props.checkItem === 'function') {\n                valid = this.props.checkItem(this.props['data-ref'], this.props.asset_type);\n\n                if (valid) {\n                    this.setState({\n                        valid,\n                        lastValid: new Object(this.state),\n                    });\n                } else {\n                    this.setState({\n                        valid,\n                    });\n                }\n\n                this.props.setValid.call(this, valid);\n            }\n        });\n    }\n\n    setCorners(cb) {\n        var center;\n        var distance;\n        var angle;\n        var corners = [];\n\n        center = {\n            x: this.state.left + this.state.width / 2,\n            y: this.state.top + this.state.height / 2,\n        };\n\n        distance = Math.pow(Math.pow(this.state.width * this.state.scale / 2, 2) +\n            Math.pow(this.state.height * this.state.scale / 2, 2), .5);\n\n        for (let i = 0; i < 4; i++) {\n            angle = this.state.rotation;\n            angle += (i < 2 ? 0 : Math.PI);\n            angle += Math.pow(-1, i) * Math.atan2(this.state.height, this.state.width);\n\n            corners.push({\n                x: center.x + distance * Math.cos(angle),\n                y: center.y + distance * Math.sin(angle),\n            });\n        }\n\n        this.setState({\n            corners,\n        }, cb);\n    }\n\n    getSize() {\n        var image;\n        var self = this;\n\n        image = new Image();\n\n        image.onload = () => {\n            var offset;\n            var left;\n            var top;\n            var width;\n            var height;\n            var minDim;\n            var maxDim;\n            var minScale;\n            var maxScale;\n            var scale;\n\n            minDim = this.props.minDim || 40;\n            maxDim = this.props.maxDim || 400;\n            left = this.state.left;\n            top = this.state.top;\n            width = image.width;\n            height = image.height;\n\n            minScale = Math.max(minDim / width, minDim / height);\n            maxScale = Math.min(maxDim / width, maxDim / height, this.state.maxScale);\n            scale = self.props.state && self.props.state.scale ?\n                self.props.state.scale :\n                Math.max(Math.min(self.state.scale, maxScale), minScale);\n\n            if ((!this.state.height || !this.state.width) && (!this.state.left && !this.state.top)) {\n                left = (this.props.canvasWidth - width) / 2;\n                top = (this.props.canvasHeight - height) / 2;\n            }\n\n            offset = this.refs.el.getBoundingClientRect();\n\n            self.setState({\n                left,\n                top,\n                startX: left * scale - offset.left / this.state.zoom,\n                startY: top * scale - offset.top / this.state.zoom,\n                grabX: width / 2,\n                grabY: height / 2,\n                width,\n                height,\n                minScale,\n                scale,\n            }, () => {\n                self.activate();\n                self.checkItem();\n            });\n        };\n\n        image.src = this.props.src;\n    }\n\n    getLayer() {\n        var layer = 1000;\n\n        if (this.props.state && this.props.state.layer) {\n            layer = this.props.state.layer;\n        } else {\n            switch (this.props.asset_type) {\n                case 'background':\n                    layer = 1;\n                    break;\n                case 'message':\n                    layer = 10000;\n                    break;\n            }\n        }\n\n        this.setState({\n            layer,\n        });\n    }\n\n    attachEvents() {\n        this.refs.scale.addEventListener('mousedown', this.scale);\n        this.refs.rotate.addEventListener('mousedown', this.rotate);\n\n        this.refs.scale.addEventListener('touchstart', this.scale);\n        this.refs.rotate.addEventListener('touchstart', this.rotate);\n    }\n\n    componentDidMount() {\n        this.bootstrap();\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        if (this.props.state) {\n            this.setState(this.props.state);\n        }\n\n        this.getSize();\n        this.getLayer();\n\n        this.attachEvents();\n\n        skoash.trigger('emit', {\n            name: 'getMedia',\n            'media_id': this.props.media_id\n        }).then(d => {\n            this.setState(d, () => {\n                this.checkItem();\n            });\n        });\n    }\n\n    componentDidUpdate() {\n        this.attachEvents();\n    }\n\n    getButtonStyle(extraRotation = 0) {\n        var style;\n        var transform = '';\n\n        transform += `scale(${(1 / this.state.scale)}) `;\n        transform += `rotate(${(-this.state.rotation - extraRotation)}rad) `;\n\n        style = {\n            transform,\n        };\n\n        return style;\n    }\n\n    getAssetStyle() {\n        var style;\n        var transform = '';\n\n        transform += `scale(${this.state.scale}) `;\n        transform += `rotate(${this.state.rotation}rad) `;\n\n        style = {\n            backgroundImage: `url(\"${this.props.src}\")`,\n            width: this.state.width,\n            height: this.state.height,\n            left: this.state.left,\n            top: this.state.top,\n            transform,\n            zIndex: this.state.layer,\n        };\n\n        return style;\n    }\n\n    getButtonsStyle() {\n        var style;\n        var transform = '';\n\n        transform += `scale(${this.state.scale}) `;\n        transform += `rotate(${this.state.rotation}rad) `;\n\n        style = {\n            width: this.state.width,\n            height: this.state.height,\n            left: this.state.left,\n            top: this.state.top,\n            transform,\n        };\n\n        return style;\n    }\n\n    getClasses() {\n        return classNames({\n            DRAGGING: this.state.dragging,\n            RETURN: this.state.return,\n            ACTIVE: this.state.active,\n            INVALID: !this.state.valid,\n        }, 'editable-asset', this.props.asset_type);\n    }\n\n    renderAsset() {\n        return (\n            <div\n                ref=\"el\"\n                className=\"asset\"\n                style={this.getAssetStyle()}\n            />\n        );\n    }\n\n    renderButtons() {\n        return (\n            <div\n                className=\"buttons\"\n                style={this.getButtonsStyle()}\n            >\n                <button\n                    className=\"delete\"\n                    style={this.getButtonStyle()}\n                    onClick={this.delete.bind(this)}\n                />\n                <button\n                    ref=\"rotate\"\n                    className=\"rotate\"\n                    style={this.getButtonStyle()}\n                />\n                <button\n                    className=\"layer\"\n                    onClick={this.layer.bind(this)}\n                    style={this.getButtonStyle()}\n                />\n                <button\n                    ref=\"scale\"\n                    className=\"scale\"\n                    style={this.getButtonStyle(1.5708)}\n                />\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <li\n                ref=\"li\"\n                className={this.getClasses()}\n                onClick={this.activate.bind(this)}\n            >\n                {this.renderAsset()}\n                {this.renderButtons()}\n            </li>\n        );\n    }\n}\n\nEditableAsset.defaultProps = _.defaults({\n    canvasWidth: 1280,\n    canvasHeight: 720,\n    setValid: _.identity,\n}, Draggable.defaultProps);\n\nexport default EditableAsset;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/editable_asset/0.1.js","import classNames from 'classnames';\n\nimport Selectable from '../selectable/0.1';\n\nclass Inbox extends Selectable {\n    constructor() {\n        super();\n    }\n\n    selectHelper(e) {\n        var li;\n        var message;\n        var key;\n        var classes = [];\n\n        li = e.target.closest('LI');\n\n        if (!li) return;\n\n        key = li.getAttribute('data-ref');\n\n        if (!this.refs[key]) return;\n\n        message = this.refs[key].props.item;\n        classes[key] = this.props.selectClass;\n\n        this.setState({\n            message,\n            classes,\n        });\n\n        if (message.status !== 'COMPLETE') return;\n\n        if (typeof this.props.selectRespond === 'function' && message) {\n            this.props.selectRespond(message);\n        }\n    }\n\n    getClass(key, read) {\n        return classNames(\n      this.state.classes[key], {\n          UNREAD: this.props.friendKey === 'created_by' && !read,\n          SENT: this.props.friendKey !== 'created_by'\n      }\n    );\n    }\n\n    getClassNames() {\n        return classNames({\n            'item-drawer': true,\n            COMPLETE: this.state.complete,\n        }, this.props.className);\n    }\n\n    getStatusText(item) {\n        if (!item.status || item.status === 'COMPLETE') return '';\n        return item.status;\n    }\n\n    renderList() {\n        var items;\n        var friends;\n\n        if (!this.props.data || !this.props.data.items) return;\n\n        items = this.props.data.items;\n\n        if (!items.length) {\n            return (\n                <li className=\"empty\">\n                    {this.props.emptyMessage}\n                </li>\n            );\n        }\n\n        friends = _.get(this.props.gameState, 'data.user', []);\n\n        return _.map(items, (item, key) => {\n            var timestamp;\n            var image;\n            var name;\n            timestamp = moment.utc(item.updated).local();\n            key = 'message-' + key;\n\n            if (item[this.props.friendKey] == null) return null;\n\n            _.each(friends, friend => {\n                if (item[this.props.friendKey] === friend.friend_id) {\n                    image = friend._embedded.image ? friend._embedded.image.url : '';\n                    name = friend.username;\n                }\n            });\n\n            if (!name) {\n                skoash.trigger('getData', {\n                    name: 'getFriend',\n                    'friend_id': item[this.props.friendKey],\n                });\n                name = '';\n            }\n\n            if (this.props.friendKey === 'friend_to') {\n                item.sent = true;\n            }\n\n            return (\n                <skoash.ListItem\n                    className={this.getClass(key, item.read)}\n                    ref={key}\n                    data-ref={key}\n                    item={item}\n                    key={key}\n                >\n                    <skoash.Image src={image} />\n                    <span className={'username' + (name.length > 15 ? ' long' : '')}>\n                        {name}\n                    </span>\n                    <span className=\"timestamp\">\n                        <span className=\"date\">{timestamp.format('MM.DD.YY')}</span>\n                        <span className=\"time\">{timestamp.format('h:mm a')}</span>\n                    </span>\n                    <span className={'status ' + item.status}>\n                        {this.getStatusText(item)}\n                    </span>\n                </skoash.ListItem>\n            );\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n                    {this.renderList()}\n                </ul>\n            </div>\n        );\n    }\n}\n\nInbox.defaultProps = _.defaults({\n    friendKey: 'created_by',\n    gameState: {},\n}, Selectable.defaultProps);\n\nexport default Inbox;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/inbox/0.1.js","export default function (props, ref, key) {\n    return (\n        <skoash.Screen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"ios-splash\"\n            checkComplete={false}\n            completeDelay={6000}\n            nextDelay={3000}\n            completeOnStart\n            hidePrev\n        >\n            <skoash.Image className=\"hidden\" src=\"../shared/images/ios_start_ball.png\" />\n            <skoash.Image className=\"hidden\" src=\"../shared/images/ios_start_ball_anim.gif\" />\n        </skoash.Screen>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/ios_splash_screen/0.1.js","class Loader extends skoash.Component {\n    render() {\n        return (\n            <div id=\"loader\" className=\"center\">\n                <div className=\"group\">\n                    <h2>Loading!</h2>\n                    <div className=\"spinner animated\">\n                        <div className=\"spinner animated\">\n                            <div className=\"spinner animated\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Loader;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/loader/0.1.js","import Selectable from '../selectable/0.1.js';\n\nimport classNames from 'classnames';\n\nclass Menu extends Selectable {\n    constructor() {\n        super();\n\n        this.state = {\n            active: false,\n            selectClass: 'SELECTED',\n            classes: {},\n        };\n    }\n\n    deactivate() {\n        this.setState({\n            active: false,\n        });\n\n        _.each(this.refs, ref => {\n            _.invoke(ref, 'deactivate');\n        });\n    }\n\n    onClick(e) {\n        var li;\n        var ul;\n        var dom;\n        var message;\n        var active = false;\n        var classes = [];\n\n        li = e.target.closest('LI');\n\n        if (!li) return;\n\n        ul = li.closest('UL');\n        dom = ReactDOM.findDOMNode(this); // eslint-disable-line no-undef\n\n        if (ul !== dom) return;\n\n        message = li.getAttribute('data-ref');\n\n        if (this.state.classes[message] !== this.state.selectClass) {\n            classes[message] = this.state.selectClass;\n            active = !this.props.inactive;\n        }\n\n        this.setState({\n            classes,\n            active,\n        });\n    }\n\n    renderItems() {\n        var self = this;\n\n        if (typeof this.props.items !== 'object') return;\n\n        return Object.keys(this.props.items).map((key) => {\n            var item;\n            var onClick;\n            var gotoObj;\n            var categories;\n            var isFinal;\n\n            categories = this.props.categories ? [].concat(this.props.categories) : [];\n            categories.push(key);\n\n            item = this.props.items[key];\n\n            isFinal = (\n                typeof item.items !== 'object' ||\n                    (\n                        Object.prototype.toString.call(item.items) === '[object Array]' &&\n                        item.items[0] && !item.items[0].items\n                    )\n                ) || (\n                    typeof self.props.lastLevel === 'number' &&\n                    self.props.lastLevel === self.props.level\n                );\n\n            if (isFinal) {\n                gotoObj = {\n                    index: 'item-drawer',\n                    categories,\n                    categoryName: item.name,\n                };\n                onClick = skoash.trigger.bind(null, 'goto', gotoObj);\n            }\n\n            return (\n                <skoash.ListItem\n                    className={self.getClass(key)}\n                    data-ref={key}\n                    ref={key}\n                    key={key}\n                    onClick={onClick}\n                >\n                <span>{item.name || key}</span>\n                {(() => {\n                    if (isFinal) return;\n                    return (\n                        <Menu\n                            ref={'menu-' + key}\n                            categories={categories}\n                            items={item.items}\n                            inactive={true}\n                            level={(self.props.level || 0) + 1}\n                            lastLevel={self.props.lastLevel}\n                        />\n                    );\n                })()}\n                </skoash.ListItem>\n            );\n        });\n    }\n\n    getClass(key) {\n        return classNames({\n            [key.replace(' ', '-')]: true,\n            [this.state.classes[key] || '']: true,\n        });\n    }\n\n    getClassNames() {\n        return classNames({\n            menu: true,\n            ACTIVE: this.state.active,\n        }, this.props.className);\n    }\n\n    render() {\n        return (\n            <ul\n                className={this.getClassNames()}\n                onClick={this.onClick.bind(this)}\n            >\n                {this.renderItems()}\n            </ul>\n        );\n    }\n}\n\nexport default Menu;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/menu/0.1.js","class QuitScreen extends skoash.Screen {\n    okay() {\n        skoash.trigger('quit');\n    }\n\n    cancel() {\n        this.close();\n        skoash.trigger('menuClose', {\n            id: this.props.id,\n        });\n    }\n\n    renderAssets() {\n        if (this.props.assets) {\n            return this.props.assets.map((asset, key) => {\n                return (\n                    <skoash.Audio\n                        {...asset.props}\n                        ref={asset.ref || asset.props['data-ref'] || ('asset-' + key)}\n                        key={key}\n                        data-ref={key}\n                    />\n                );\n            });\n        }\n\n        return null;\n    }\n\n    render() {\n        return (\n            <div id={this.props.id} className={'screen ' + this.getClassNames()}>\n                {this.renderAssets()}\n                <div className=\"center\">\n                    <div className=\"frame\">\n                        <h2>Are you sure you<br/>want to quit?</h2>\n                        <h3>Your game progress will be saved</h3>\n                        <button className=\"quit-yes\" onClick={this.okay.bind(this)}></button>\n                        <button className=\"quit-no\" onClick={this.cancel.bind(this)}></button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default (\n    <QuitScreen\n        id=\"quit\"\n    />\n);\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/quit_screen/0.1.js","class Repeater extends skoash.Component {\n    renderContentList() {\n        var a = [];\n        for (let i = 0; i < this.props.amount; i++) {\n            a.push(<this.props.item key={i} {...this.props.props[i]} />);\n        }\n        return a;\n    }\n}\n\nRepeater.defaultProps = _.defaults({\n    amount: 1,\n    item: 'div',\n    props: [],\n}, skoash.Component.defaultProps);\n\nexport default Repeater;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/repeater/0.1.js","// As of skoash 1.1.0 this component can be found at skoash.Reveal\n/* eslint-disable no-console */\nconsole.warn('As of skoash 1.1.0 this component can be found at skoash.Reveal');\n/* eslint-enable no-console */\n\nimport classNames from 'classnames';\n\nclass Reveal extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            openReveal: '',\n            currentlyOpen: []\n        };\n\n        this.index = 0;\n    }\n\n    incomplete() {\n        this.setState({\n            openReveal: '',\n            currentlyOpen: []\n        });\n\n        super.incomplete();\n    }\n\n    open(message) {\n        var self = this;\n        var currentlyOpen = this.props.openMultiple ?\n            this.state.currentlyOpen.concat(message) : [message];\n\n        self.setState({\n            open: true,\n            openReveal: message,\n            currentlyOpen,\n        });\n\n        self.playAudio(message);\n\n        if (self.props.completeOnOpen) {\n            self.complete();\n        } else {\n            _.each(self.refs, (ref, key) => {\n                if (key === message) _.invoke(ref, 'complete');\n            });\n        }\n\n        if (self.props.autoClose) {\n            setTimeout(function () {\n                self.close();\n            }, 2000);\n        }\n\n        if (self.props.openTarget) {\n            self.updateGameState({\n                path: self.props.openTarget,\n                data: {\n                    open: '' + message,\n                    close: false,\n                }\n            });\n        }\n\n        self.props.onOpen.call(self, message);\n    }\n\n    close(opts = {}) {\n        var prevMessage;\n        var currentlyOpen;\n        var openReveal;\n        var open;\n\n        prevMessage = this.state.openReveal;\n        currentlyOpen = this.state.currentlyOpen;\n        currentlyOpen.splice(currentlyOpen.indexOf(prevMessage), 1);\n        open = currentlyOpen.length > 0;\n        openReveal = open ? currentlyOpen[currentlyOpen.length - 1] : '';\n\n        this.setState({\n            open,\n            openReveal,\n            currentlyOpen,\n        });\n\n        if (!opts.silent) this.playMedia('close-sound');\n\n        this.props.onClose.call(this, prevMessage);\n\n        if (typeof this.props.closeRespond === 'function') {\n            this.props.closeRespond(prevMessage);\n        }\n    }\n\n    start() {\n        super.start();\n        if (this.props.openOnStart != null) {\n            this.open(this.props.openOnStart);\n        } else if (this.props.start && typeof this.props.start === 'function') {\n            this.props.start.call(this);\n        } else {\n            this.close({silent: true});\n        }\n    }\n\n    playAudio(message) {\n        var messages;\n\n        message += '';\n\n        this.playMedia('open-sound');\n\n        messages = message.split(' ');\n        messages.map(audio => {\n            this.playMedia(audio);\n        });\n    }\n\n    renderAssets() {\n        if (this.props.assets) {\n            return this.props.assets.map((asset, key) => {\n                var ref = asset.ref || asset.props['data-ref'] || 'asset-' + key;\n                return (\n                    <asset.type\n                        {...asset.props}\n                        data-ref={key}\n                        ref={ref}\n                        key={key}\n                    />\n                );\n            });\n        }\n\n        return null;\n    }\n\n    renderList() {\n        var list = this.props.list;\n\n        return list.map((li, key) => {\n            var ref = li.ref || li.props['data-ref'] || key;\n            return (\n                <li.type\n                    {...li.props}\n                    type=\"li\"\n                    className={this.getClass(li, key)}\n                    data-ref={ref}\n                    ref={ref}\n                    key={key}\n                />\n            );\n        });\n    }\n\n    componentWillReceiveProps(props) {\n        super.componentWillReceiveProps(props);\n\n        if (props.openReveal != null && props.openReveal !== this.props.openReveal) {\n            this.open(props.openReveal);\n        }\n\n        if (props.closeReveal !== this.props.closeReveal) {\n            if (props.closeReveal === true) {\n                this.close();\n            } else if (Number.isInteger(props.closeReveal)) {\n                for (let i = 0; i < props.closeReveal; i++) {\n                    this.close();\n                }\n            }\n        }\n    }\n\n    getClass(li, key) {\n        var classes = '';\n\n        if (li.props.className) classes = li.props.className;\n\n        if (this.state.currentlyOpen.indexOf(key) !== -1 ||\n            this.state.currentlyOpen.indexOf('' + key) !== -1 ||\n            this.state.currentlyOpen.indexOf(li.props['data-ref']) !== -1 ||\n            this.state.currentlyOpen.indexOf(li.ref) !== -1\n        ) {\n            classes = classNames(classes, 'OPEN');\n        }\n\n        return classes;\n    }\n\n    getClassNames() {\n        var classes;\n        var open = 'open-none';\n\n        if (this.state.open) {\n            open = '';\n            this.state.currentlyOpen.forEach(ref => {\n                open += 'open-' + ref;\n            });\n        }\n\n        classes = classNames(\n            'reveal',\n            open,\n            super.getClassNames()\n        );\n\n        return classes;\n    }\n\n    render() {\n        return (\n            <div className={this.getClassNames()}>\n                {this.renderAssets()}\n                <div>\n                    <ul>\n                        {this.renderList()}\n                    </ul>\n                    <button className=\"close-reveal\" onClick={this.close.bind(this)}></button>\n                </div>\n            </div>\n        );\n    }\n}\n\nReveal.defaultProps = _.defaults({\n    list: [\n        <li></li>,\n        <li></li>,\n        <li></li>,\n        <li></li>\n    ],\n    openMultiple: false,\n    onOpen: _.noop,\n    onClose: _.noop,\n}, skoash.Component.defaultProps);\n\nexport default Reveal;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/reveal/0.1.js","import Selectable from '../selectable/0.1';\n\nimport classNames from 'classnames';\n\nclass SavedMessages extends Selectable {\n    constructor() {\n        super();\n    }\n\n    selectHelper(e) {\n        var li;\n        var message;\n        var key;\n        var classes = [];\n\n        li = e.target.closest('LI');\n\n        if (!li) return;\n\n        key = li.getAttribute('data-ref');\n\n        message = this.refs[key].props.item;\n        classes[key] = this.state.selectClass;\n\n        this.setState({\n            message,\n            classes,\n        }, this.selectRespond.bind(this));\n    }\n\n    selectRespond() {\n        if (typeof this.props.selectRespond === 'function' && this.state.message) {\n            this.props.selectRespond(this.state.message);\n        }\n    }\n\n    getClass(key) {\n        return classNames({\n            [this.state.classes[key] || '']: true,\n            DRAFT: true,\n        });\n    }\n\n    getClassNames() {\n        return classNames({\n            'item-drawer': true,\n            SAVED: true,\n            COMPLETE: this.state.complete,\n        }, this.props.className);\n    }\n\n    renderThumb(item) {\n        var firstImg;\n        var background;\n\n        background = item && item.rules && item.rules.background &&\n      item.rules.background.src ? item.rules.background.src :\n      '';\n\n        firstImg = item && item.rules && item.rules.items &&\n      item.rules.items[0] && item.rules.items[0].src ?\n      item.rules.items[0].src : (\n        item && item.rules && item.rules.messages &&\n        item.rules.messages[0] && item.rules.messages[0].src ?\n        item.rules.messages[0].src : ''\n      );\n\n        return (\n            <div\n                className=\"thumbnail\"\n                style={{\n                    backgroundImage: `url(${background})`\n                }}\n            >\n                <skoash.Image src={firstImg} />\n            </div>\n        );\n    }\n\n    renderList() {\n        var items;\n        var self = this;\n\n        if (!self.props.data || !self.props.data.items) return;\n\n        items = self.props.data.items;\n\n        if (!items.length) {\n            return (\n                <li className=\"empty\">\n                    {this.props.emptyMessage}\n                </li>\n            );\n        }\n\n        return items.map((item, key) => {\n            var timestamp = moment.utc(item.updated).local();\n            return (\n                <skoash.ListItem\n                    className={self.getClass(key)}\n                    ref={key}\n                    data-ref={key}\n                    item={item}\n                    key={key}\n                >\n                    {self.renderThumb(item)}\n                    <span className=\"timestamp\">\n                        <span className=\"date\">{timestamp.format('MM.DD.YY')}</span>\n                        <span className=\"time\">{timestamp.format('h:mm a')}</span>\n                    </span>\n                </skoash.ListItem>\n            );\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <ul className={this.getClassNames()} onClick={this.state.selectFunction.bind(this)}>\n                    {this.renderList()}\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default SavedMessages;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/saved_messages/0.1.js","// As of skoash 1.1.0 this component can be found at skoash.ScrollArea\n/* eslint-disable no-console */\nconsole.warn('As of skoash 1.1.0 this component can be found at skoash.ScrollArea');\n/* eslint-enable no-console */\n\n\nimport classNames from 'classnames';\n\nconst IMAGE = 'image';\nconst AREA = 'area';\nconst CONTENT = 'content';\nconst SCROLLBAR = 'scrollbar';\nconst SCROLLER = 'scroller';\n\nclass ScrollArea extends skoash.Component {\n    constructor() {\n        super();\n\n        this.state = _.defaults({\n            startY: 0,\n            endY: 0,\n            zoom: 1,\n        }, this.state);\n\n        this.setZoom = this.setZoom.bind(this);\n\n        this.mouseDown = this.mouseDown.bind(this);\n        this.mouseUp = this.mouseUp.bind(this);\n\n        this.moveEvent = this.moveEvent.bind(this);\n\n        this.touchStart = this.touchStart.bind(this);\n        this.touchEnd = this.touchEnd.bind(this);\n    }\n\n    start() {\n        super.start(() => {\n            this[AREA].scrollTop = 0;\n            this.setState({\n                startY: 0,\n                endY: 0,\n            });\n        });\n    }\n\n    bootstrap() {\n        super.bootstrap();\n\n        this.setZoom();\n        window.addEventListener('resize', this.setZoom);\n\n        this[AREA] = ReactDOM.findDOMNode(this.refs[AREA]);\n        this[CONTENT] = ReactDOM.findDOMNode(this.refs[CONTENT]);\n        this[SCROLLBAR] = ReactDOM.findDOMNode(this.refs[SCROLLBAR]);\n        this[SCROLLER] = ReactDOM.findDOMNode(this.refs[SCROLLER]);\n\n        this[AREA].scrollTop = 0;\n\n        this[AREA].addEventListener('scroll', e => {\n            var areaScrollTop;\n            var endY;\n\n            if (!e.target || this.dragging) return;\n\n            areaScrollTop = e.target.scrollTop;\n            endY = (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight) *\n                (areaScrollTop / (this[CONTENT].offsetHeight - this[AREA].offsetHeight));\n\n            this.setState({\n                startY: 0,\n                endY,\n            });\n        });\n\n        this[SCROLLER].addEventListener('mousedown', this.mouseDown);\n        this[SCROLLER].addEventListener('touchstart', this.touchStart);\n    }\n\n    setZoom() {\n        skoash.trigger('getState').then(state => {\n            this.setState({\n                zoom: state.scale,\n            });\n        });\n    }\n\n    mouseDown(e) {\n        this.startEvent(e, this.attachMouseEvents);\n    }\n\n    touchStart(e) {\n        this.startEvent(e, this.attachTouchEvents);\n    }\n\n    startEvent(e, cb) {\n        var startY;\n        var endY;\n\n        if (e.target !== this[SCROLLER]) return;\n\n        this.dragging = true;\n\n        e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\n        endY = this.getEndY(e);\n        startY = this.state.startY || endY;\n\n        this.setState({\n            startY,\n            endY,\n        });\n\n        if (typeof cb === 'function') cb.call(this);\n    }\n\n    getEndY(e) {\n        return Math.min(\n      Math.max(\n        e.pageY / this.state.zoom,\n        this.state.startY\n      ),\n      this.state.startY +\n      this[SCROLLBAR].getBoundingClientRect().height / this.state.zoom -\n      this.props.scrollbarHeight\n    );\n    }\n\n    attachMouseEvents() {\n        window.addEventListener('mousemove', this.moveEvent);\n        window.addEventListener('mouseup', this.mouseUp);\n    }\n\n    attachTouchEvents() {\n        window.addEventListener('touchmove', this.moveEvent);\n        window.addEventListener('touchend', this.touchEnd);\n    }\n\n    moveEvent(e) {\n        var endY;\n\n        e = e.targetTouches && e.targetTouches[0] ? e.targetTouches[0] : e;\n\n        endY = this.getEndY(e);\n\n        this[AREA].scrollTop = (endY - this.state.startY) *\n      (this[CONTENT].offsetHeight - this[AREA].offsetHeight) /\n      (this[SCROLLBAR].offsetHeight - this.props.scrollbarHeight);\n\n        this.setState({\n            endY,\n        });\n    }\n\n    mouseUp() {\n        this.dragging = false;\n        this.detachMouseEvents();\n    }\n\n    touchEnd() {\n        this.dragging = false;\n        this.detachTouchEvents();\n    }\n\n    detachMouseEvents() {\n        window.removeEventListener('mousemove', this.moveEvent);\n        window.removeEventListener('mouseup', this.mouseUp);\n    }\n\n    detachTouchEvents() {\n        window.removeEventListener('touchmove', this.moveEvent);\n        window.removeEventListener('touchend', this.touchEnd);\n    }\n\n    getScrollerStyle() {\n        return {\n            backgroundImage: `url(${this.props.img})`,\n            top: this.state.endY - this.state.startY,\n        };\n    }\n\n    getClassNames() {\n        return classNames('scroll-area', super.getClassNames());\n    }\n\n    render() {\n        if (!this.props.shouldRender) return null;\n\n        return (\n            <this.props.type {...this.props} className={this.getClassNames()}>\n                <skoash.Image ref={IMAGE} className=\"hidden\" src={this.props.img} />\n                <div ref={AREA} className={AREA}>\n                    <div ref={CONTENT} className={CONTENT}>\n                        {this.renderContentList()}\n                    </div>\n                </div>\n                <div\n                    ref={SCROLLBAR}\n                    className={SCROLLBAR}\n                >\n                    <div\n                        ref={SCROLLER}\n                        className={SCROLLER}\n                        style={this.getScrollerStyle()}\n                    />\n                </div>\n            </this.props.type>\n        );\n    }\n}\n\nScrollArea.defaultProps = _.defaults({\n    img: '',\n    scrollbarHeight: 100,\n}, skoash.Component.defaultProps);\n\nexport default ScrollArea;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/scroll_area/0.1.js","import Selectable from 'shared/components/selectable/0.1.js';\nimport Reveal from 'shared/components/reveal/0.1.js';\n\nclass SelectableReveal extends skoash.Component {\n    constructor() {\n        super();\n    }\n\n    start() {\n        super.start();\n        this.setState({\n            canSelectOnStart: this.props.canSelectOnStart\n        });\n    }\n\n    open(message) {\n        this.refs.reveal.open(message);\n    }\n\n    selectRespond(message) {\n        if (this.props.answers.length) {\n            if (this.props.answers.indexOf(message) === -1) {\n                this.playMedia('incorrect');\n                if (this.props.revealAll) {\n                    if (typeof this.refs.reveal.open === 'function') {\n                        this.open(message);\n                    }\n                }\n            } else {\n                this.playMedia('correct');\n                if (typeof this.refs.reveal.open === 'function') {\n                    this.open(message);\n                }\n            }\n        } else {\n            if (this.props.allCorrect) this.playMedia('correct');\n            if (typeof this.refs.reveal.open === 'function') {\n                this.open(message);\n            }\n        }\n    }\n\n    closeRespond() {\n        if (typeof this.props.closeRespond === 'function') {\n            this.props.closeRespond();\n        }\n    }\n\n    renderAssets() {\n        if (this.props.assets) {\n            return this.props.assets.map((asset, key) => {\n                return (\n                    <skoash.Audio\n                        {...asset.props}\n                        ref={asset.ref || asset.props['data-ref'] || ('asset-' + key)}\n                        key={key}\n                        data-ref={key}\n                    />\n                );\n            });\n        }\n\n        return null;\n    }\n\n    renderSelectable() {\n        return (\n            <Selectable\n                ref=\"selectable\"\n                list={this.props.selectableList}\n                selectRespond={this.selectRespond.bind(this)}\n                selectClass={this.props.selectableSelectClass}\n                completeOnSelect={this.props.selectableCompleteOnSelect}\n                checkComplete={this.props.selectableCheckComplete}\n                randomizeList={this.props.randomizeSelectableList}\n                selectOnStart={this.props.selectOnStart}\n                chooseOne={this.props.chooseOne}\n                answers={this.props.answers}\n                allowDeselect={this.props.allowDeselect}\n            />\n        );\n    }\n\n    renderReveal() {\n        return (\n            <Reveal\n                ref=\"reveal\"\n                list={this.props.revealList}\n                assets={this.props.revealAssets}\n                closeRespond={this.closeRespond.bind(this)}\n                completeOnOpen={this.props.revealCompleteOnOpen}\n                checkComplete={this.props.revealCheckComplete}\n                openOnStart={this.props.openOnStart}\n                hide={this.props.hideReveal}\n                openReveal={this.props.openReveal}\n                onOpen={this.props.onOpen}\n                openMultiple={false}\n            />\n        );\n    }\n\n    getClasses() {\n        var classes = '';\n\n        if (this.state.complete) classes += ' COMPLETE';\n\n        return classes;\n    }\n\n    render() {\n        return (\n            <div className={'selectable-reveal' + this.getClasses()}>\n                {this.renderAssets()}\n                {this.renderSelectable()}\n                {this.renderReveal()}\n            </div>\n        );\n    }\n}\n\nSelectableReveal.defaultProps = _.defaults({\n    answers: [],\n    canSelectOnStart: true\n}, skoash.Component.defaultProps);\n\nexport default SelectableReveal;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/selectable_reveal/0.1.js","(function (gameName) {\n    // remove window.MEDIA once no games reference it\n    var MEDIA = window.MEDIA = {\n        BASE: ENVIRONMENT.MEDIA\n    };\n\n    MEDIA.GAME = MEDIA.BASE + 'Games/' + gameName + '/';\n    MEDIA.EFFECT = MEDIA.GAME + 'SoundAssets/effects/';\n    MEDIA.VO = MEDIA.GAME + 'SoundAssets/vos/';\n    MEDIA.IMAGE = MEDIA.GAME + 'ImageAssets/';\n    MEDIA.SPRITE = MEDIA.GAME + 'SpritesAnimations/';\n\n    MEDIA.MOCK = {};\n    MEDIA.MOCK.GAME = MEDIA.BASE + 'Games/mockGame/';\n    MEDIA.MOCK.EFFECT = MEDIA.MOCK.GAME + 'SoundAssets/effects/';\n    MEDIA.MOCK.VO = MEDIA.MOCK.GAME + 'SoundAssets/vos/';\n    MEDIA.MOCK.IMAGE = MEDIA.MOCK.GAME + 'ImageAssets/';\n    MEDIA.MOCK.SPRITE = MEDIA.MOCK.GAME + 'SpritesAnimations/';\n\n    window.CMWN.MEDIA = MEDIA;\n}(window.CMWN.gameFolder));\n\n\n\n// WEBPACK FOOTER //\n// ./shared/js/make_media_globals.js","window.ENVIRONMENT = {\n    MEDIA: 'https://media.changemyworldnow.com/f/'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./shared/js/prod-variables.js","import Canvas from 'shared/components/canvas/0.1';\nimport Menu from 'shared/components/menu/0.1';\nimport Selectable from 'shared/components/selectable/0.1';\n// import Reveal from 'shared/components/reveal/0.1';\n\nimport classNames from 'classnames';\n\nclass CanvasScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state = {\n            load: true,\n            menu: {},\n            valid: true,\n        };\n\n        this.rightMenuList = [\n            <li className=\"preview\" onClick={this.preview.bind(this)}>\n                <span />\n            </li>,\n            <li className=\"send\" onClick={this.send.bind(this)}>\n                <span />\n            </li>\n        ];\n\n        this.setValid = this.setValid.bind(this);\n        this.closeReveal = this.closeReveal.bind(this);\n        this.setHasAssets = this.setHasAssets.bind(this);\n    }\n\n    getData() {\n        return this.refs.canvas.getItems();\n    }\n\n    reset() {\n        this.refs.canvas.reset();\n        this.setState({\n            background: false,\n            hasAssets: false,\n        });\n    }\n\n    addItem(message) {\n        if (message) {\n            this.setState({\n                hasAssets: true,\n                background: this.state.background ||\n              message.asset_type === 'background',\n            });\n            this.refs.canvas.addItem(message, () => {\n                skoash.trigger('save');\n            });\n        }\n    }\n\n    addItems(message) {\n        var hasAssets;\n        var background;\n\n        hasAssets = true;\n        background = !!message.rules.background;\n\n        this.mapRulesStringToNumbers(message.rules);\n\n        this.refs.canvas.setItems(message.rules);\n\n        this.setState({\n            hasAssets,\n            background,\n        });\n\n        if (message.friend_to) {\n            skoash.trigger('passData', {\n                name: 'add-recipient',\n                message: message.friend_to\n            });\n        }\n    }\n\n    setMenu() {\n        var menu;\n        var state = this.props.gameState;\n\n        if (state && state.data && state.data.menu) {\n            menu = state.data.menu;\n            this.setState({\n                menu,\n            });\n        }\n    }\n\n    mapRulesStringToNumbers(rules) {\n        if (!rules) return;\n\n        if (_.isArray(rules.items)) {\n            rules.items.forEach(item => {\n                item.state.left = parseFloat(item.state.left);\n                item.state.rotation = parseFloat(item.state.rotation);\n                item.state.scale = parseFloat(item.state.scale);\n                item.state.top = parseFloat(item.state.top);\n            });\n        }\n\n        if (_.isArray(rules.messages)) {\n            rules.messages.forEach(message => {\n                message.state.left = parseFloat(message.state.left);\n                message.state.rotation = parseFloat(message.state.rotation);\n                message.state.scale = parseFloat(message.state.scale);\n                message.state.top = parseFloat(message.state.top);\n            });\n        }\n\n        return rules;\n    }\n\n    open(opts = {}) {\n        this.setMenu();\n\n        if (this.refs && this.refs.menu) {\n            this.refs.menu.deactivate();\n        }\n\n        if (!opts.draft) skoash.trigger('save');\n\n        super.open();\n    }\n\n    close() {\n        skoash.trigger('save');\n        super.close();\n    }\n\n    setValid(valid) {\n        this.setState({\n            valid\n        });\n    }\n\n    setHasAssets(hasAssets) {\n        this.setState({\n            hasAssets\n        });\n    }\n\n    send() {\n        if (!this.state.valid) return;\n        this.goto('send');\n    }\n\n    preview() {\n        if (!this.state.valid) return;\n        this.goto('preview');\n    }\n\n    closeReveal() {\n        if (this.refs && this.refs.reveal) {\n            this.refs.reveal.close();\n        }\n    }\n\n    getContainerClasses() {\n        return classNames({\n            'canvas-container': true,\n            BACKGROUND: this.state.background,\n        });\n    }\n\n    getClassNames() {\n        return classNames({\n            'HAS-ASSETS': this.state.hasAssets,\n            'INVALID': !this.state.valid,\n        }, skoash.Screen.prototype.getClassNames.call(this));\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <skoash.Image className=\"hidden\" src=\"media/_Frames/SK_frames_canvas.png\" />\n                <skoash.Image className=\"hidden\" src=\"media/_Buttons/SK_btn_friend.png\" />\n                <Menu\n                      ref={'menu'}\n                      items={this.state.menu.items}\n                      level={0}\n                      lastLevel={1}\n                      onStart={function () {\n                          this.setState({classes: {}});\n                      }}\n                />\n                <div className={this.getContainerClasses()}>\n                      <Canvas\n                            ref={'canvas'}\n                            setValid={this.setValid}\n                            setHasAssets={this.setHasAssets}\n                            itemMinDim={150}\n                      />\n                </div>\n                <Selectable className=\"menu right-menu\" list={this.rightMenuList} />\n            </div>\n        );\n        // move this back up below the Selectable when there is an instructional help video\n        /*\n            <Reveal\n              ref=\"reveal\"\n              openOnStart=\"0\"\n              list={[\n                <li>\n                  <skoash.Image className=\"otter\" src={'media/_Otter/joyful-otter_2.gif'} />\n                  <div className=\"bubble\">\n                    Welcome to your canvas!<br/><br/>\n                    Would you like me<br/>\n                    to show you around?\n                    <div className=\"buttons\">\n                      <button\n                        className=\"yes\"\n                        onClick={skoash.trigger.bind(null, 'openMenu', {id: 'help'})}\n                      />\n                      <button\n                        className=\"no\"\n                        onClick={this.closeReveal}\n                      />\n                    </div>\n                  </div>\n                </li>\n              ]}\n            />\n        */\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <CanvasScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"canvas\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/canvas_screen.js","import classNames from 'classnames';\n\nclass CollisionWarning extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.cancel = this.cancel.bind(this);\n        this.toggle = this.toggle.bind(this);\n    }\n\n    cancel() {\n        this.close();\n        skoash.trigger('menuClose', {\n            id: this.props.id,\n        });\n    }\n\n    toggle() {\n        this.updateGameState({\n            path: ['collisionWarning'],\n            data: {\n                show: !_.get(this.props.gameState, 'data.collisionWarning.show')\n            }\n        });\n    }\n\n    getToggleClassNames() {\n        return classNames('toggle-collision-warning', {\n            active: !_.get(this.props.gameState, 'data.collisionWarning.show')\n        });\n    }\n\n    render() {\n        return (\n            <div id={this.props.id} className={this.getClassNames()}>\n                <div className=\"center\">\n                    <div className=\"frame\">\n                        <skoash.Image\n                            className=\"copy\"\n                            src=\"media/_CollisionWarning/text-youmustnotoverlapimgs.png\"\n                        />\n                        <button className={this.getToggleClassNames()} onClick={this.toggle}></button>\n                        <button className=\"close-collision-warning\" onClick={this.cancel}></button>\n                        <skoash.Image\n                            className=\"otter\"\n                            src=\"media/_CollisionWarning/Peeking-through-Otter.gif\"\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default (\n    <CollisionWarning\n        id=\"collisionWarning\"\n        load\n    />\n);\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/collision_warning.js","import ItemDrawer from 'shared/components/item_drawer/0.1.js';\n\nconst DEFAULT_PROFILE_IMAGE = 'https://changemyworldnow.com/ff50fa329edc8a1d64add63c839fe541.png';\n\nclass FriendScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state = {\n            load: true,\n            complete: true,\n            recipient: {},\n            opts: {},\n        };\n    }\n\n    selectRespond(message) {\n        skoash.trigger('passData', {\n            name: 'add-recipient',\n            goto: this.state.opts.goto,\n            message\n        });\n    }\n\n    updateData(d) {\n        var data = d && d.user ? d.user : this.props.gameState.data.user || [];\n\n        data = data.map(friend => {\n            var src = friend._embedded.image && friend._embedded.image.url ?\n                friend._embedded.image.url :\n                DEFAULT_PROFILE_IMAGE;\n            return {\n                'user_id': friend.friend_id,\n                name: friend.username,\n                src,\n                // I need to get the flips earned back from the backend to do this.\n                description: '',\n                // description: friend.flips_earned + ' Flips Earned',\n                'asset_type': 'friend',\n            };\n        });\n\n        this.setState({\n            data,\n        });\n    }\n\n    open(opts) {\n        var recipient;\n        var self = this;\n\n        self.updateData();\n\n        skoash.trigger('getData', {\n            name: 'getFriends'\n        }).then(data => {\n            self.updateData.call(self, data);\n        });\n\n        recipient = self.props.gameState.recipient;\n\n        self.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n            recipient,\n            opts,\n        }, () => {\n            self.refs.drawer && self.refs.drawer.start();\n        });\n\n        if (!self.state.started) {\n            self.start();\n        }\n    }\n\n    suggestFriends() {\n        window.open(\n            window.location.origin\n            .replace('games-', '')\n            .replace('games.', '') +\n            '/friends/suggested'\n        );\n    }\n\n    save() {\n        skoash.trigger('goto', {\n            index: 'canvas',\n        });\n        skoash.trigger('openMenu', {id: 'save'});\n    }\n\n    renderOtter() {\n        var copy;\n        var src;\n        var imageSrc;\n\n        src = 'One';\n        imageSrc = 'media/_Otter/Otter_Static_GreetingOne.png';\n        copy = (\n            <span>\n                Don't have<br/>\n                friends yet?<br/><br/>\n                Let me suggest<br/>\n                some for you.\n            </span>\n        );\n\n        if (this.state.data && this.state.data.length) {\n            src = 'Two';\n            imageSrc = 'media/_Otter/Open-wide-Otter2.gif';\n            copy = (\n                <span>\n                    Let me find a friend<br/>\n                    to send your message to.\n                </span>\n            );\n        }\n\n        return (\n            <div className={'otter-container ' + src}>\n                <skoash.Image className=\"otter\" src={imageSrc} />\n                <div className=\"bubble\">\n                    {copy}\n                </div>\n            </div>\n        );\n    }\n\n    renderFriends() {\n        if (this.state.data && this.state.data.length) {\n            return (\n                <ItemDrawer\n                    ref=\"drawer\"\n                    scrollbarImg=\"./media/_Buttons/sk_btn_slider.png\"\n                    selectRespond={this.selectRespond.bind(this)}\n                    cancelRespond={this.back}\n                    categories={this.state.opts.categories}\n                    data={this.state.data}\n                    selectedItem={this.state.recipient}\n                    buttons={this.buttons}\n                    completeOnStart={true}\n                    checkComplete={false}\n                    className={'goto-' + this.state.opts.goto}\n                />\n            );\n        }\n\n        return (\n            <div className={'goto-' + this.state.opts.goto}>\n                <div className=\"item-drawer-container\">\n                    <div className=\"suggest-friends-buttons\">\n                        <button className=\"continue\" onClick={this.selectRespond.bind(this, {})} />\n                        <button className=\"suggest\" onClick={this.suggestFriends} />\n                        <button className=\"save-to-drafts\" onClick={this.save} />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <div className=\"header\" />\n                {this.renderOtter()}\n                {this.renderFriends()}\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <FriendScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"friends\"\n            completeOnStart\n            checkComplete={false}\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/friend_screen.js","import SelectableReveal from '../../shared/components/selectable_reveal/0.1.js';\nimport Inbox from '../../shared/components/inbox/0.1.js';\nimport SavedMessages from '../../shared/components/saved_messages/0.1.js';\n\nconst inboxEmptyMessage = (\n    <span>\n        You haven't received any Skribbles!<br/>\n        Get started by sending some!\n    </span>\n);\nconst unreadEmptyMessage = (\n    <span>\n        You don't have any<br/>\n        unread Skribbles!\n    </span>\n);\nconst readEmptyMessage = (\n    <span>\n        You don't have any<br/>\n        read Skribbles!\n    </span>\n);\nconst sentEmptyMessage = (\n    <span>\n        You haven't sent any Skribbles.<br/>\n        Let's get started!\n    </span>\n);\nconst draftsEmptyMessage = (\n    <span>\n        You don't have any drafts.<br/>\n        Start Skribbling!\n    </span>\n);\n\n\nclass InboxScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state = {\n            load: true,\n        };\n\n        this.selectableList = [\n            <li />,\n            <li />,\n            <li />,\n            <li />,\n            <li />,\n        ];\n\n        this.revealList = this.getRevealList();\n\n        this.readMessage = this.readMessage.bind(this);\n        this.editMessage = this.editMessage.bind(this);\n    }\n\n    getRevealList(inbox, outbox, saved) {\n        var read;\n        var unread;\n        var props = this.props || {};\n\n        inbox = inbox || this.state.inbox || [];\n\n        read = inbox.filter(item => {\n            return item.read;\n        });\n\n        unread = inbox.filter((item) => {\n            return !item.read;\n        });\n\n        outbox = outbox || this.state.outbox || [];\n        saved = saved || this.state.saved || [];\n\n        return [\n            <li>\n                <Inbox\n                    data-ref=\"inbox\"\n                    data={{\n                        items: inbox,\n                    }}\n                    emptyMessage={inboxEmptyMessage}\n                    selectRespond={this.readMessage}\n                    gameState={props.gameState}\n                />\n            </li>,\n            <li>\n                <Inbox\n                    data-ref=\"unread\"\n                    data={{\n                        items: unread,\n                    }}\n                    emptyMessage={unreadEmptyMessage}\n                    selectRespond={this.readMessage}\n                    gameState={props.gameState}\n                />\n            </li>,\n            <li>\n                <Inbox\n                    data-ref=\"read\"\n                    data={{\n                        items: read,\n                    }}\n                    emptyMessage={readEmptyMessage}\n                    selectRespond={this.readMessage}\n                    gameState={props.gameState}\n                />\n            </li>,\n            <li>\n                <Inbox\n                    data-ref=\"outbox\"\n                    data={{\n                        items: outbox,\n                    }}\n                    emptyMessage={sentEmptyMessage}\n                    friendKey=\"friend_to\"\n                    selectRespond={this.readMessage}\n                    gameState={props.gameState}\n                />\n            </li>,\n            <li>\n                <SavedMessages\n                    data-ref=\"saved\"\n                    data={{\n                        items: saved,\n                    }}\n                    emptyMessage={draftsEmptyMessage}\n                    selectRespond={this.editMessage}\n                />\n            </li>,\n        ];\n    }\n\n    editMessage(message) {\n        skoash.trigger('loadSkribble', {\n            message,\n        });\n    }\n\n    readMessage(message) {\n        skoash.trigger('goto', {\n            index: 'read',\n            message,\n        });\n    }\n\n    updateData() {\n        var skribbles;\n        var inbox;\n        var outbox;\n        var saved;\n\n        skribbles = this.props.gameState.data.skribbles;\n        inbox = skribbles.received;\n        outbox = skribbles.sent;\n        saved = skribbles.draft;\n\n        this.revealList = this.getRevealList(inbox, outbox, saved);\n\n        this.setState({\n            inbox,\n            outbox,\n            saved,\n        });\n    }\n\n    updateGameData(data, status) {\n        var opts = {\n            path: ['skribbles'],\n            data: {\n                [status]: data.skribble\n            },\n            callback: () => {\n                this.updateData();\n            }\n        };\n        this.updateGameState(opts);\n    }\n\n    open() {\n        var self = this;\n\n        skoash.trigger('getData', {\n            status: 'received',\n        }).then(data => {\n            self.updateGameData(data, 'received');\n        });\n\n        skoash.trigger('getData', {\n            status: 'sent',\n        }).then(data => {\n            self.updateGameData(data, 'sent');\n        });\n\n        skoash.trigger('getData', {\n            status: 'draft',\n        }).then(data => {\n            self.updateGameData(data, 'draft');\n        });\n\n        self.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n        });\n\n        setTimeout(() => {\n            if (!self.state.started) {\n                self.start();\n            }\n        }, 250);\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <div className=\"center\">\n                    <div className=\"frame\">\n                        <SelectableReveal\n                            ref={'selectableReveal'}\n                            selectableList={this.selectableList}\n                            revealList={this.revealList}\n                            selectOnStart={'0'}\n                            openOnStart={'0'}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <InboxScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"inbox\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/inbox_screen.js","import ItemDrawer from '../../shared/components/item_drawer/0.1.js';\n\nclass ItemDrawerScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state = {\n            load: true,\n            opts: {\n                categories: [],\n            },\n        };\n\n    }\n\n    selectRespond(message) {\n        skoash.trigger('passData', {\n            name: 'add-item',\n            message\n        });\n    }\n\n    updateData(d) {\n        var data = d ? d : this.props.gameState.data.menu.items;\n\n        this.state.opts.categories.forEach(key => {\n            if (data[key]) data = data[key];\n            if (data.items) data = data.items;\n        });\n\n        data = _.values(data);\n\n        this.setState({\n            data,\n        });\n    }\n\n    open(opts) {\n        this.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n            opts,\n            data: null\n        }, () => {\n            this.updateData();\n        });\n\n        setTimeout(() => {\n            if (!this.state.started) this.start();\n        }, 250);\n    }\n\n    cancelRespond() {\n        if (this.state.category) {\n            this.setState({\n                category: '',\n                categoryName: '',\n            });\n        } else {\n            skoash.trigger('goto', {index: 'canvas'});\n        }\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <ItemDrawer\n                    ref=\"drawer\"\n                    scrollbarImg=\"./media/_Buttons/sk_btn_slider.png\"\n                    selectRespond={this.selectRespond.bind(this)}\n                    cancelRespond={this.cancelRespond}\n                    categories={this.state.opts.categories}\n                    categoryName={this.state.opts.categoryName}\n                    data={this.state.data}\n                />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <ItemDrawerScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"item-drawer\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/item_drawer_screen.js","export default (\n    <skoash.Screen\n        id=\"limitWarning\"\n        load\n        hidePrev\n        hideNext\n    >\n        <skoash.Image className=\"hidden\" src={ENVIRONMENT.MEDIA + 'a479811171cf084bf86af4eac1f6dc28.png'} />\n        <skoash.Image className=\"hidden\" src={ENVIRONMENT.MEDIA + '027b30f0d279ef41cd30eff22323051c.png'} />\n        <skoash.Image className=\"otter\" src={ENVIRONMENT.MEDIA + 'e7c3a0ab64b457334e7be868609ee512.png'} />\n        <skoash.Image className=\"sign\" src={ENVIRONMENT.MEDIA + '7434453a4692d4be9e898b6b8787c108.png'} />\n        <div>\n            WARNING:<br/>\n            You have exceeded the number of times<br/>\n            you can use this item in your message.<br/>\n            Please press ok to continue game.\n        </div>\n        <button\n            onClick={function () {\n                skoash.trigger('menuClose', {\n                    id: 'limitWarning',\n                });\n            }}\n        />\n    </skoash.Screen>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/limit_warning.js","class MenuScreen extends skoash.Screen {\n    renderContent() {\n        return (\n            <div>\n                <skoash.Image className=\"hidden\" src=\"media/_Background/SK_BKG_1.png\" />\n                <skoash.Image className=\"otter\" src=\"media/_Otter/Waving_Otter2.gif\" />\n                <div className=\"bubble\">\n                    Hi there!<br/>\n                    What would you<br/>\n                    like to do today?\n                </div>\n                <div className=\"buttons\">\n                    <button className=\"make\" onClick={this.goto.bind(this, {\n                        index: 'friend',\n                        goto: 'canvas',\n                    })} />\n                    <button className=\"read\" onClick={this.goto.bind(this, 'inbox')} />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <MenuScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"menu\"\n            hidePrev\n            hideNext\n            load\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/menu_screen.js","import Canvas from 'shared/components/canvas/0.1';\nimport Selectable from 'shared/components/selectable/0.1.js';\nimport Repeater from 'shared/components/repeater/0.1.js';\n\nconst classNameText = {\n    skribbleBox: 'skribble-box',\n    box: 'box',\n    leftMenu: 'menu left-menu',\n    rightMenu: 'menu right-menu',\n};\n\nconst refs = {\n    box: 'box',\n    canvas: 'canvas'\n};\n\nclass PreviewScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state = {\n            load: true,\n            opts: {},\n        };\n\n        this.leftMenuList = [\n            <li className=\"edit\" onClick={this.goto.bind(this, 'canvas')}>\n                <span />\n            </li>,\n        ];\n\n        this.rightMenuList = [\n            <li className=\"send\" onClick={this.goto.bind(this, 'send')}>\n                <span />\n            </li>\n        ];\n    }\n\n    open(opts) {\n        skoash.trigger('getRules').then(rules => {\n            this.refs[refs.box].refs[refs.canvas].setItems(rules);\n            super.open(opts);\n        });\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <skoash.Component ref={refs.box} className={classNameText.skribbleBox}>\n                    <Canvas ref={refs.canvas} preview />\n                    <Repeater\n                        className=\"sparkles\"\n                        amount={40}\n                    />\n                    <div className={classNameText.box} />\n                </skoash.Component>\n                <Selectable className={classNameText.leftMenu} list={this.leftMenuList} />\n                <Selectable className={classNameText.rightMenu} list={this.rightMenuList} />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <PreviewScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"preview\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/preview_screen.js","import classNames from 'classnames';\n\nimport Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n    skribbleBox: 'skribble-box',\n    box: 'box',\n    leftMenu: 'menu left-menu',\n    rightMenu: 'menu right-menu',\n    sender: 'menu recipient sender',\n};\n\nconst refs = {\n    box: 'box',\n};\n\nclass ReadScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state.load = true;\n        this.state.message = {user: {}};\n\n        this.leftMenuList = [\n            <li className=\"inbox\" onClick={this.goto.bind(this, 'inbox')}>\n                <span />\n            </li>\n        ];\n\n        this.rightMenuList = [\n            <li className=\"reply\" onClick={this.reply.bind(this)}>\n                <span />\n            </li>\n        ];\n    }\n\n    reply() {\n        skoash.trigger('passData', {\n            name: 'add-recipient',\n            message: this.state.message.created_by,\n        });\n    }\n\n    open(opts) {\n        var message;\n        var friends;\n        var creater;\n\n        message = opts.message || {};\n\n        friends = this.props.gameState.data.user || [];\n        friends.forEach(friend => {\n            if (message.created_by === friend.friend_id) {\n                creater = friend;\n            }\n        });\n\n        this.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n            message,\n            creater\n        });\n\n        this.start();\n\n        skoash.trigger('getData', {\n            name: 'markAsRead',\n            'skribble_id': message.skribble_id,\n        });\n    }\n\n    getSenderClassNames() {\n        return classNames(\n      classNameText.sender, {\n          HIDE: !this.state.creater || this.state.message.sent\n      }\n    );\n    }\n\n    renderSender() {\n        var creater;\n        var content = [];\n\n        creater = this.state.creater;\n\n        if (!creater) return;\n\n        if (creater.username) {\n            content.push(<span className=\"name\">{creater.username}</span>);\n        }\n\n        if (creater._embedded.image) {\n            content.push(<img className=\"profile-image\" src={creater._embedded.image.url} />);\n        }\n\n        return content;\n    }\n\n    renderBoxContent() {\n        var url = _.get(this.state, 'message.url');\n\n        if (!url) return null;\n\n        return [\n            <skoash.Image src={this.state.message.url} />,\n            <div className={classNameText.box} />,\n        ];\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <ul className={this.getSenderClassNames()}>\n                    <li>\n                        <span>\n                            {this.renderSender()}\n                        </span>\n                    </li>\n                </ul>\n                <skoash.Component ref={refs.box} className={classNameText.skribbleBox}>\n                    {this.renderBoxContent()}\n                </skoash.Component>\n                <Selectable className={classNameText.leftMenu} list={this.leftMenuList} />\n                <Selectable className={classNameText.rightMenu} list={this.rightMenuList} />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <ReadScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"read\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/read_screen.js","class SaveMenu extends skoash.Screen {\n    cancel() {\n        this.close();\n        skoash.trigger('menuClose', {\n            id: this.props.id,\n        });\n    }\n\n    render() {\n        return (\n            <div id={this.props.id} className={this.getClassNames()}>\n                <div className=\"center\">\n                    <div className=\"frame\">\n                        <button className=\"quit-saved\" onClick={this.cancel.bind(this)}></button>\n                        <h2>Your progress</h2>\n                        <h2>has been saved</h2>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default (\n    <SaveMenu\n        id=\"save\"\n        load\n    />\n);\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/save_menu.js","import Selectable from '../../shared/components/selectable/0.1.js';\n\nconst classNameText = {\n    yourMessageTo: 'your-message-to',\n    isReady: 'is-ready',\n    changeFriend: 'change-friend',\n    character: 'character',\n    gift: 'gift',\n    header: 'header',\n    username: 'username',\n};\n\nclass SendScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state.load = true;\n        this.state.recipient = {};\n\n        this.rightMenuList = [\n            <li className=\"edit-right\" onClick={this.goto.bind(this, 'canvas')}>\n                <span />\n            </li>,\n            <li className=\"send\" onClick={this.send}>\n                <span />\n            </li>\n        ];\n    }\n\n    open() {\n        var recipient = this.props.gameState.recipient || {};\n\n        this.setState({\n            load: true,\n            open: true,\n            leave: false,\n            close: false,\n            recipient\n        });\n\n        this.start();\n    }\n\n    send() {\n        skoash.trigger('passData', {\n            name: 'send',\n        });\n    }\n\n    renderContent() {\n        var changeFriendClick = this.goto.bind(this, {\n            index: 'friend',\n            goto: 'send',\n        });\n\n        return (\n            <div>\n                <div className={classNameText.header}>\n                    <span className={classNameText.yourMessageTo} />\n                    <span className={classNameText.username}>{this.state.recipient.name}</span>\n                    <br/>\n                    <span className={classNameText.isReady} />\n                    <button className={classNameText.changeFriend} onClick={changeFriendClick} />\n                </div>\n                <div className={classNameText.character}>\n                    <skoash.Image className=\"otter\" src=\"media/_Otter/proud-of-you2.gif\" />\n                    <div className=\"bubble\">\n                        Are you sure<br/>\n                        you are ready to<br/>\n                        send your message?\n                    </div>\n                </div>\n                <div className={classNameText.gift} />\n                <Selectable className=\"menu right-menu\" list={this.rightMenuList} />\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <SendScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"send\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/send_screen.js","const classNameText = {\n    character: 'character',\n    header: 'header',\n    yourMessageTo: 'your-message-to',\n    username: 'username',\n    isReady: 'is-ready',\n    buttons: 'buttons',\n    createAnother: 'create-another',\n    inbox: 'inbox',\n};\n\nconst text = {\n    yourMessageTo: 'YOUR MESSAGE TO:',\n    hasBeenSent: 'IS BEING SENT!',\n};\n\nclass SentScreen extends skoash.Screen {\n    constructor() {\n        super();\n\n        this.state = {\n            load: true,\n            opts: {\n                recipient: {}\n            },\n        };\n    }\n\n    renderContent() {\n        return (\n            <div>\n                <div className={classNameText.character} />\n                <div className={classNameText.header}>\n                    <span className={classNameText.yourMessageTo}>{text.yourMessageTo}</span>\n                    <span className={classNameText.username}>{this.state.opts.recipient.name}</span>\n                    <br/>\n                    <span className={classNameText.isReady}>{text.hasBeenSent}</span>\n                </div>\n                <div className={classNameText.buttons}>\n                    <button\n                        className={classNameText.createAnother}\n                        onClick={this.goto.bind(this, 'friend')}\n                    />\n                    <button\n                        className={classNameText.inbox}\n                        onClick={this.goto.bind(this, 'inbox')}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default function (props, ref, key) {\n    return (\n        <SentScreen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"sent\"\n            hideNext\n            hidePrev\n        />\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/sent_screen.js","export default function (props, ref, key) {\n    return (\n        <skoash.Screen\n            {...props}\n            ref={ref}\n            key={key}\n            id=\"title\"\n            hidePrev\n            nextDelay={1000}\n            nextIndex=\"menu\"\n        >\n            <skoash.Image\n                ref=\"title\"\n                className=\"title animated\"\n                src=\"media/_Title/SKribble_title.png\"\n            />\n            <skoash.Image\n                ref=\"play\"\n                className=\"hidden\"\n                src=\"media/_Buttons/skribble-play-01.png\"\n            />\n            <skoash.Image\n                ref=\"play-hover\"\n                className=\"hidden\"\n                src=\"media/_Buttons/skribble-hover.png\"\n            />\n        </skoash.Screen>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/components/title_screen.js","import config from './config';\n\nimport Loader from 'shared/components/loader/0.1';\n\nimport iOSScreen from 'shared/components/ios_splash_screen/0.1';\nimport TitleScreen from './components/title_screen';\nimport MenuScreen from './components/menu_screen';\nimport FriendScreen from './components/friend_screen';\nimport CanvasScreen from './components/canvas_screen';\nimport ItemDrawerScreen from './components/item_drawer_screen';\nimport InboxScreen from './components/inbox_screen';\nimport PreviewScreen from './components/preview_screen';\nimport SendScreen from './components/send_screen';\nimport SentScreen from './components/sent_screen';\nimport ReadScreen from './components/read_screen';\n\nimport QuitScreen from 'shared/components/quit_screen/0.1';\nimport SaveMenu from './components/save_menu';\nimport CollisionWarning from './components/collision_warning';\nimport LimitWarning from './components/limit_warning';\n\nvar Skribble;\n\nconst DEFAULT_PROFILE_IMAGE = '';\n\nclass SkribbleGame extends skoash.Game {\n    getRules(opts = {}) {\n        if (typeof opts.respond === 'function') {\n            return opts.respond(this.refs['screen-canvas'].getData());\n        }\n        return this.refs['screen-canvas'].getData();\n    }\n\n    save(opts = {}, skramble = false) {\n        /* eslint-disable camelcase */\n        var friend_to;\n        var rules;\n        var skribble;\n        var self = this;\n\n        friend_to = self.state.recipient && self.state.recipient.user_id ?\n            self.state.recipient.user_id : null;\n        rules = self.getRules();\n        skribble = {\n            'version': config.version,\n            ...self.state.skribbleData,\n            friend_to,\n            skramble,\n            rules\n        };\n\n        if (!rules.background && !rules.items.length && !rules.messages.length) {\n            return;\n        }\n\n        if (JSON.stringify(skribble) !== JSON.stringify(this.state.skribble)) {\n            self.emit({\n                name: 'saveSkribble',\n                game: self.props.config.id,\n                skribble,\n            }).then(skribbleData => {\n                self.setState({\n                    skribbleData,\n                    skribble\n                });\n            });\n        }\n        /* eslint-enable camelcase */\n    }\n\n    send() {\n        this.save({}, true);\n\n        this.refs['screen-canvas'].reset();\n        this.navigator.goto({\n            index: 'sent',\n            recipient: this.state.recipient,\n        });\n\n        this.setState({\n            recipient: null,\n            skribbleData: null,\n        });\n    }\n\n    loadSkribble(opts) {\n        this.setState({\n            skribbleData: opts.message\n        }, () => {\n            this.refs['screen-canvas'].addItems(opts.message);\n            this.navigator.goto({\n                index: 'canvas',\n                draft: true,\n            });\n        });\n    }\n\n    getMedia(path) {\n        var pathArray;\n        var self = this;\n\n        if (typeof path === 'object') path = path.path;\n        path = path || 'skribble/menu';\n        pathArray = path.split('/');\n        pathArray.shift();\n\n        return self.eventManager.emit({\n            name: 'getMedia',\n            path\n        }).then(d => {\n            var opts;\n            var currentOpts;\n            opts = {\n                data: {},\n                callback: () => {\n                    self.refs['screen-canvas'].setMenu();\n                    self.refs['screen-item-drawer'].updateData();\n                }\n            };\n            currentOpts = opts.data;\n\n            pathArray.forEach((key, index) => {\n                currentOpts[key] = {\n                    items: {}\n                };\n                if (index !== pathArray.length - 1) {\n                    currentOpts = currentOpts[key].items;\n                }\n            });\n\n            currentOpts[pathArray[pathArray.length - 1]] = _.clone(d);\n            currentOpts[pathArray[pathArray.length - 1]].items = {};\n\n            if (d.items) {\n                d.items.forEach(item => {\n                    if (item.asset_type === 'folder' && item.name) {\n                        self.getMedia(path + '/' + item.name);\n                    }\n                    currentOpts[pathArray[pathArray.length - 1]].items[item.name] = item;\n                });\n            }\n            self.updateData(opts);\n        });\n    }\n\n    showCollisionWarning() {\n        if (!this.state.data.collisionWarning.show) return;\n        this.navigator.openMenu({id: 'collisionWarning'});\n    }\n\n    showLimitWarning() {\n        this.navigator.openMenu({id: 'limitWarning'});\n    }\n\n    addRecipient(recipient, cb) {\n        var src;\n\n        if (recipient.src) {\n            recipient.profile_image = recipient.src; // eslint-disable-line camelcase\n        } else if (typeof recipient === 'string') {\n            if (this.state.data && this.state.data.user) {\n                this.state.data.user.some(friend => {\n                    if (friend.friend_id === recipient) {\n                        recipient = friend;\n                        return true;\n                    }\n                    return false;\n                });\n            }\n        }\n\n        if (typeof recipient === 'string') {\n            this.getData({\n                name: 'getFriend',\n                'friend_id': recipient,\n                callback: () => {\n                    this.addRecipient(recipient, cb);\n                }\n            });\n        } else {\n            src = recipient && recipient._embedded && recipient._embedded.image &&\n                recipient._embedded.image.url ?\n                recipient._embedded.image.url :\n                recipient.profile_image || DEFAULT_PROFILE_IMAGE;\n            this.setState({\n                recipient: {\n                    'user_id': recipient.user_id || recipient.friend_id,\n                    name: recipient.name || recipient.username,\n                    src,\n          // I need to get the flips earned back from the backend to do this.\n                    description: '',\n          // description: friend.flips_earned + ' Flips Earned',\n                    'asset_type': 'friend',\n                }\n            }, cb);\n        }\n    }\n\n    clickRecipient() {\n        this.navigator.goto({\n            index: 'friend',\n            goto: this.state.currentScreenIndex,\n        });\n    }\n\n    create() {\n        if (this.state.recipient) {\n            this.navigator.goto({index: 'canvas'});\n        } else {\n            this.navigator.goto({\n                index: 'friend',\n                goto: 'canvas',\n            });\n        }\n    }\n\n    saveButton() {\n        this.save();\n        this.navigator.openMenu({id: 'save'});\n    }\n\n    renderRecipient() {\n        var recipient = this.state.recipient;\n        var content = [];\n\n        if (!recipient) return;\n\n        if (recipient.name) {\n            content.push(<span className=\"name\">{recipient.name}</span>);\n        }\n\n        if (recipient.src) {\n            content.push(<img className=\"profile-image\" src={recipient.src} />);\n        }\n\n        return content;\n    }\n}\n\nSkribble = (\n    <SkribbleGame\n        config={config}\n        screens={{\n            0: iOSScreen,\n            1: TitleScreen,\n            menu: MenuScreen,\n            friend: FriendScreen,\n            canvas: CanvasScreen,\n            'item-drawer': ItemDrawerScreen,\n            inbox: InboxScreen,\n            preview: PreviewScreen,\n            send: SendScreen,\n            sent: SentScreen,\n            read: ReadScreen,\n        }}\n        menus={{\n            quit: QuitScreen,\n            save: SaveMenu,\n            collisionWarning: CollisionWarning,\n            limitWarning: LimitWarning,\n        }}\n        loader={<Loader />}\n        assets={[\n            <skoash.Image className=\"hidden\" src=\"media/_Otter/Waving_Otter2.gif\" />,\n            <skoash.Image className=\"hidden\" src=\"media/_Otter/Open-wide-Otter2.gif\" />,\n            <skoash.Image className=\"hidden\" src=\"media/_Otter/joyful-otter_2.gif\" />,\n            <skoash.Image className=\"hidden\" src=\"media/_Otter/Antipation-Otter3.gif\" />,\n            <skoash.Image className=\"hidden\" src=\"media/_Otter/proud-of-you2.gif\" />,\n            <skoash.Image className=\"hidden\" src=\"media/_Otter/Peeking-through-Otter2.gif\" />,\n            <div className=\"background-1\" />,\n            <div className=\"background-2\" />,\n            <div className=\"background-3\" />,\n            <div className=\"background-4\" />,\n            <div className=\"background-5\" />,\n            <div className=\"background-6\" />,\n        ]}\n        onBootstrap={function () {\n            this.getFriends = _.throttle(this.getData.bind(this, {name: 'getFriends'}), 1000);\n            this.getMediaOnReady = _.throttle(this.getMedia.bind(this), 1000);\n\n            this.updateState({\n                path: ['collisionWarning'],\n                data: {\n                    show: true\n                }\n            });\n        }}\n        onReady={function () {\n            this.getMediaOnReady();\n            this.getFriends();\n        }}\n        renderMenu={function () {\n            return (\n                <div>\n                    <div className=\"game-menu\">\n                        <button className=\"save\" onClick={this.saveButton.bind(this)} />\n                        <button\n                            className=\"inbox\"\n                            onClick={this.navigator.goto.bind(this, {index: 'inbox'})}\n                        />\n                        <button className=\"create\" onClick={this.create.bind(this)} />\n                        <button className=\"help\" onClick={this.navigator.openMenu.bind(this, {id: 'help'})} />\n                        <button\n                            className=\"close\"\n                            onClick={this.navigator.openMenu.bind(this, {id: 'quit'})}\n                        />\n                    </div>\n                    <ul className=\"menu recipient\">\n                        <li onClick={this.clickRecipient.bind(this)}>\n                            <span>\n                                {this.renderRecipient()}\n                            </span>\n                        </li>\n                    </ul>\n                </div>\n            );\n        }}\n        getGotoOpts={function (opts) {\n            if (opts.index === 'send') {\n                if (!this.state.recipient || !this.state.recipient.name) {\n                    opts.index = 'friend';\n                    opts.goto = 'send';\n                }\n            }\n            return opts;\n        }}\n        passData={function (opts) {\n            if (opts.name === 'add-item') {\n                this.refs['screen-canvas'].addItem(opts.message);\n                this.navigator.goto({ index: 'canvas' });\n            } else if (opts.name === 'add-recipient') {\n                this.addRecipient(opts.message, this.navigator.goto.bind(this, {\n                    index: opts.goto || 'canvas'\n                }));\n            } else if (opts.name === 'send') {\n                this.send();\n            } else if (opts.name === 'showCollisionWarning') {\n                this.showCollisionWarning();\n            } else if (opts.name === 'showLimitWarning') {\n                this.showLimitWarning();\n            }\n        }}\n        getTriggerEvents={function (opts = {}) {\n            opts.save = this.save;\n            opts.getMedia = this.getMedia;\n            opts.getRules = this.getRules;\n            opts.loadSkribble = this.loadSkribble;\n            return opts;\n        }}\n        getData={function (opts) {\n            var names = [\n                'getFriends',\n                'getFriend',\n                'markAsRead',\n            ];\n\n            if (names.indexOf(opts.name) === -1) {\n                opts.name = 'getData';\n            }\n\n            return this.eventManager.emit(opts).then(data => {\n                this.updateData({\n                    data,\n                    callback: opts.callback,\n                });\n            });\n        }}\n    />\n);\n\nskoash.start(Skribble);\n\nif (module.hot) module.hot.accept();\n\n\n\n// WEBPACK FOOTER //\n// ./skribble/index.js","module.exports = {\n\t\"id\": \"skribble\",\n\t\"version\": 1,\n\t\"skoash\": \"1.1.3\",\n\t\"dimensions\": {\n\t\t\"width\": 1600,\n\t\t\"height\": 900\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./skribble/config.json\n// module id = 34\n// module chunks = 0","'use strict';\nmodule.exports = require('./lib/index');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/index.js\n// module id = 35\n// module chunks = 0","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/decode.js\n// module id = 36\n// module chunks = 0","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/encode.js\n// module id = 37\n// module chunks = 0","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar isValid = require('./is-valid');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/index.js\n// module id = 38\n// module chunks = 0","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/is-valid.js\n// module id = 39\n// module chunks = 0","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/random/random-byte-browser.js\n// module id = 40\n// module chunks = 0","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/random/random-from-seed.js\n// module id = 41\n// module chunks = 0","'use strict';\n\nmodule.exports = 0;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/shortid/lib/util/cluster-worker-id-browser.js\n// module id = 42\n// module chunks = 0"],"sourceRoot":""}