#flush-it {
	.draggables {
		width: 281px;
		height: 486px;
		margin: 0;
		padding: 30px;
		display: flex;
		flex-wrap: wrap;
		justify-content: space-around;
		align-items: center;

		background: url(../media/images/frame-tall.png) no-repeat center;
		background-size: contain;
		text-align: center;

		&.DISABLED li {
			opacity: 0.5;
			cursor: default;
		}

		&.left {
			float: left;
			margin-left: 60px;
		}
		&.right {
			float: right;
			margin-right: 60px;
		}

		li {
			display: inline-block;
			width: 100px; height: 100px;

			&.DISABLED {
				opacity: 0;
				cursor: default;
			}
		}
	}

	.draggables,
	[pl-id=toilet] {
		li {
			background-image: url(../media/S_6/sprite_6.2.png);
			background-repeat: no-repeat;
			background-size: 250px;

			$items: wipes diapers paper sheets fats cosmetics bandages litter cotton gum floss hair meds chemicals;
			$background-left: 0 0 0 0 0 0 0 1 1 1 1 1 1 1;
			$background-top:  0 4 1 5 2 6 3 0 1 4 2 5 3 6;
			$width:  90 80  80 100  50  80 100 110 100 100  90  80  70  80;
			$height: 70 80 100  70 120 110 100 100 100  80 100 110 110 110;

			@for $i from 1 through 14 {
				&[pl-id=#{nth($items,$i)}] {
					width: nth($width,$i)+px;
					height: nth($height,$i)+px;
					background-position: #{-125*nth($background-left,$i)+px} #{-125*nth($background-top,$i)+px};
				}
			}
		}
	}

	[pl-id=toilet] {
		overflow: hidden;
		height: 100%;
		background-position: center top;

		button {
			position: relative;
			display: block;
			margin: 10px auto;
			background-size: 381px;
			width: 190px; height: 190px;

			&:hover {
				background-position: -190px top;
			}
		}

		.area {
			width: 100%;
			height: 250px;

			ul {
				height: 100%;
				margin: 0;
			}

			li {
				position: absolute;
				top: 50%; left: 50%;
				transform: translate3d(-50%, -50%, 0) scale(1.75);

				&.FLUSH {
					animation: flush 2.5s ease-in;
					opacity: 0;
				}
			}
		}
	}

	[pl-id=modal-reveal] {
		background-color: rgba(0,0,0,0.2);
		transition: opacity 0.5s;
		opacity: 0;

		.reveal-component {
			width: 500px; height: 320px;
			transition: transform 1s;
			transform: scale(0.8);

			ul {
				position: static;
			}

			li {
				position: absolute;
				top: 0; left: 0;
				bottom: 0; right: 0;
				margin: 30px;

				img {
					display: block;
					max-width: 80%;
					max-height: 70px;
					margin: 0.8em auto;
					display: none;
				}

				h3 {
					margin-top: 0.5em;
					margin-bottom: 0.5em;
				}

				> * {
					margin-left: 1em;
					margin-right: 1em;
					text-align: center;
				}

				&[pl-id=gum] {
					h3 {
						margin-top: 1.5em;
					}
				}

				&[pl-id]:before {
					content: "";
					background-image: url(../media/S_6/sprite_6.1.png);
					background-repeat: no-repeat;
					background-size: 400px;
					display: block;
					margin: 0.5em auto 0;
					height: 65px;
				}

				$items: wipes diapers paper sheets fats cosmetics bandages litter cotton gum floss hair meds chemicals;
				$background-top:  0  82 170 250 330 420 506 586 672 756 838 918 1004 1084;
				$width:         246 170 292 276 370 218 210 216 370 120 268 100  358  366;

				@for $i from 1 through 14 {
					&[pl-id=#{nth($items,$i)}]:before {
						width: nth($width,$i)+px;
						background-position: 0px #{-1*nth($background-top,$i)+px};
					}
				}
			}
		}

		button.close {
			right: 0;
			background-position: -570px -60px;
			background-size: 1200px;
			width: 70px;
			height: 50px;
			margin: 40px;
			opacity: 0;
			transition: opacity 1s;

			&:hover {
				background-position: -570px -231px;
			}
		}

		&.PROGRESS {
			button.close {
				opacity: 1;
			}
		}

		&.LAYER {
			z-index: -1;
		}

		&.OPEN {
			opacity: 1;
			z-index: auto;

			.reveal-component {
				transform: scale(1);
			}
		}


	}

	&.VOICE-OVER {
		[pl-id=modal-reveal] button.close {
			opacity: 0;
			cursor: default;
		}
	}
}

.DEMO #flush-it {
	[pl-id=modal-reveal] button.close {
		opacity: 1;
		cursor: pointer;
	}
}
