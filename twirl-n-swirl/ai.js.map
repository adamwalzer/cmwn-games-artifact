{"version":3,"sources":["webpack:///twirl-n-swirl/ai.js","webpack:///webpack/bootstrap 48df3636fb3803d1d1c1","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js","webpack:///./twirl-n-swirl/source/js/components/dropzone/behavior.js","webpack:///./twirl-n-swirl/source/js/components/reveal/behavior.js","webpack:///./twirl-n-swirl/source/js/components/screen-basic/behavior.js","webpack:///./twirl-n-swirl/source/js/components/screen-quit/behavior.js","webpack:///./twirl-n-swirl/source/js/components/screen-title/behavior.js","webpack:///./twirl-n-swirl/source/js/config.game.js","webpack:///./twirl-n-swirl/source/js/index.js","webpack:///./twirl-n-swirl/source/js/screens/flush-it.js","webpack:///./twirl-n-swirl/source/js/screens/info-question.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","i","s","o","g","r","a","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","window","document","ga","pl","game","component","this","on","_e","is","target","title","state","STATE","READY","splash","close","loader","hasClass","open","ball","delay","next","nextScreen","proto","screen","leave","audio","sfx","button","play","complete","startGame","addClass","test","_env","parent","location","href","domain","deQ","_id","requiredQueue","isMemberSafe","has","ready","entity","cache","respond","drag","position","absolutePosition","dec","size","_event","point","scale","correct","incorrect","drop","transformScale","x","start","progress","distance","isPointInBounds","takes","$draggable","removeClass","$helper","forEach","bind","require","properties","take","length","indexOf","_point","_y","Point","create","width","y","height","isBoxInBounds","_size","behavior","_$thing","util","resolvePath","behaviorTarget","items","currentAudio","findOwn","item","vo","index","shouldRevealItem","select","voiceOver","currentItem","playButtonSFX","_direction","so","playSound","_sound","type","currentVO","isReady","setWallpaper","wallpaper","completed","isComplete","demoMode","stop","isLastScreen","screens","quit","okay","prev","prevScreen","bgSound","voSound","fxSound","hasOwnProperty","entities","screenComplete","LEAVE","pause","resume","exit","cancel","iosSplash","animateSplashImage","logo","animOut","off","animate","anim","config","screenSelector","componentDirectory","dimensions","ratio","bgVolume","max","shouldLoadComponentStyles","_interopRequireDefault","obj","__esModule","default","_screensInfoQuestion","_screensInfoQuestion2","_screensFlushIt","_screensFlushIt2","_paper","toUpperCase","eventCategory","join","scope","flushIt","listen","$target","$","DISABLED","stopPropagation","reveal","VOICE_OVER","enable","disable","find","sup","OPEN","toilet","modalReveal","flush","current","deselect","Object","defineProperty","value","infoQuestion"],"mappings":"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","file":"twirl-n-swirl/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(10);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\t\tthis.splash();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.splash = function () {\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tif (this.game.hasClass('iOS')) {\n\t\t\t\tthis.open();\n\t\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t\t} else {\n\t\t\t\tthis.game.title.open();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen = this.proto();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tthis.game.audio.sfx.button.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.play('screenComplete');\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.startGame = function () {\n\t\t\tif (!this.hasClass('FINISHED')) return;\n\t\t\tthis.game.addClass('STARTED');\n\t\t\tthis.delay('2.5s', function () {\n\t\t\t\tthis.next();\n\t\t\t});\n\t\t};\n\t\n\t\tthis.on('animationend', function (_e) {\n\t\t\tif (!this.ball.is(_e.target)) return;\n\t\t\tthis.addClass('FINISHED');\n\t\t});\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tfunction test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('dropzone', function () {\n\t\n\t\tfunction deQ(_id) {\n\t\t\tif (this.requiredQueue && this.isMemberSafe('requiredQueue') && this.requiredQueue.has(_id)) {\n\t\t\t\treturn this.requiredQueue.ready(_id);\n\t\t\t}\n\t\t}\n\t\n\t\tthis.entity('.area', function () {\n\t\n\t\t\tthis.cache = null;\n\t\n\t\t\tthis.respond('grab', function () {\n\t\t\t\tvar sfx = this.audio.sfx.drag;\n\t\n\t\t\t\tif (sfx) sfx.play();\n\t\n\t\t\t\tthis.cache = {\n\t\t\t\t\tposition: this.absolutePosition().dec(this.game.absolutePosition()),\n\t\t\t\t\tsize: this.size()\n\t\t\t\t};\n\t\t\t});\n\t\n\t\t\tthis.respond('release', function (_event) {\n\t\t\t\tvar point, scale, sfx;\n\t\n\t\t\t\tsfx = {\n\t\t\t\t\tcorrect: this.audio.sfx.correct,\n\t\t\t\t\tincorrect: this.audio.sfx.incorrect,\n\t\t\t\t\tdrop: this.audio.sfx.drop\n\t\t\t\t};\n\t\n\t\t\t\tif ((scale = this.game.transformScale().x) !== 1) {\n\t\t\t\t\tpoint = [_event.state.start.point[0] + scale * _event.state.progress.distance[0], _event.state.start.point[1] + scale * _event.state.progress.distance[1]];\n\t\t\t\t} else {\n\t\t\t\t\tpoint = _event.state.progress.point;\n\t\t\t\t}\n\t\n\t\t\t\tif (point && this.isPointInBounds(point)) {\n\t\t\t\t\tif (this.takes(_event.state.$draggable.id())) {\n\t\t\t\t\t\t_event.state.$draggable.removeClass('PLUCKED');\n\t\t\t\t\t\t_event.state.$helper.addClass('DROPED');\n\t\n\t\t\t\t\t\tthis.drop(_event.state.$draggable);\n\t\n\t\t\t\t\t\tif (sfx.correct) sfx.correct.play();\n\t\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (sfx.incorrect) {\n\t\t\t\t\t\tsfx.incorrect.play();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (sfx.drop) sfx.drop.play();\n\t\t\t\t}\n\t\n\t\t\t\t_event.state.$helper.addClass('RETURN');\n\t\t\t});\n\t\t});\n\t\n\t\tthis.on('initialize', function () {\n\t\t\tthis.takes().forEach(this.bind(function (_id) {\n\t\t\t\tthis.require(_id);\n\t\t\t}));\n\t\t});\n\t\n\t\tthis.takes = function (_id) {\n\t\t\tvar takes = this.properties.take;\n\t\t\t// if no pl-take attribute is defined then\n\t\t\t// the dropzone will take any draggable.\n\t\t\tif (!takes) return _id != null ? true : [];\n\t\n\t\t\treturn arguments.length ? !! ~takes.indexOf(_id) : takes;\n\t\t};\n\t\n\t\tthis.isPointInBounds = function (_point, _y) {\n\t\t\tvar point, scale;\n\t\n\t\t\tpoint = pl.Point.create(arguments);\n\t\n\t\t\tif (point.x >= this.cache.position.x && point.x <= this.cache.position.x + this.cache.size.width) {\n\t\t\t\tif (point.y >= this.cache.position.y && point.y <= this.cache.position.y + this.cache.size.height) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t};\n\t\n\t\tthis.isBoxInBounds = function (_point, _size) {\n\t\t\t// comming soon!\n\t\t};\n\t\n\t\tthis.behavior('drop', function (_$thing) {\n\t\t\tvar sfx = pl.util.resolvePath(this, 'audio.sfx.drop');\n\t\n\t\t\tif (sfx) sfx.play();\n\t\n\t\t\tdeQ.call(this, _$thing.id());\n\t\n\t\t\treturn {\n\t\t\t\tbehaviorTarget: _$thing\n\t\t\t};\n\t\t});\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t\tthis.items = null;\n\t\tthis.currentAudio = null;\n\t\n\t\tthis.on('ready', function () {\n\t\t\tthis.items = this.findOwn('li');\n\t\t});\n\t\n\t\tthis.item = function (_id) {\n\t\t\tvar vo, index;\n\t\n\t\t\tif (this.shouldRevealItem(_id) === false) return false;\n\t\n\t\t\tif (typeof _id === 'number') {\n\t\t\t\tthis.select(this.items[_id]);\n\t\t\t\tthis.audio.voiceOver[_id].play();\n\t\t\t\tthis.currentAudio = this.audio.voiceOver[_id];\n\t\t\t} else if (typeof _id === 'string') {\n\t\t\t\tif (this[_id]) {\n\t\t\t\t\tthis.select(this[_id]);\n\t\n\t\t\t\t\tif (this.audio && this.audio.voiceOver) {\n\t\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.select(_id);\n\t\n\t\t\t\t\tindex = this.findOwn(_id).index();\n\t\t\t\t\tvo = pl.util.resolvePath(this, 'audio.voiceOver[' + index + ']');\n\t\t\t\t}\n\t\n\t\t\t\tif (vo) (this.currentAudio = vo).play();\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.shouldRevealItem = function () {\n\t\t\treturn true;\n\t\t};\n\t\n\t\tthis.currentItem = function () {\n\t\t\treturn this.findOwn('li.SELECTED');\n\t\t};\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\n\t\tfunction playButtonSFX(_direction) {\n\t\t\tvar so = _direction === \"next\" ? pl.util.resolvePath(this, 'this.audio.sfx.nextScreen') : pl.util.resolvePath(this, 'this.game.audio.sfx.nextScreen');\n\t\t\tif (so) so.play();\n\t\t}\n\t\n\t\tthis.playSound = function (_sound) {\n\t\n\t\t\tif (_sound.type === 'voiceOver') {\n\t\t\t\tthis.currentVO = _sound;\n\t\t\t}\n\t\n\t\t\treturn _sound.play();\n\t\t};\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (this.is(_event.target) && this.isReady) {\n\t\t\t\tthis.game.setWallpaper(this.properties.wallpaper);\n\t\t\t\tthis.start();\n\t\t\t\tif (this.completed() && !this.isComplete && !this.game.demoMode) this.complete();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-leave', function (_event) {\n\t\t\tif (this.is(_event.target)) this.stop();\n\t\t});\n\t\n\t\tthis.on('ui-close', function (_event) {\n\t\t\tif (this.is(_event.target)) this.stop();\n\t\t});\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen, isLastScreen;\n\t\n\t\t\tnextScreen = this.proto();\n\t\t\tisLastScreen = this.game.screens.length - 1 === this.index();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tplayButtonSFX.call(this, 'next');\n\t\t\t} else if (isLastScreen && this.completed()) {\n\t\t\t\tthis.game.quit.okay();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.prev = function () {\n\t\t\tvar prevScreen;\n\t\n\t\t\tprevScreen = this.proto();\n\t\n\t\t\tif (prevScreen) {\n\t\t\t\tthis.screen.close();\n\t\t\t\tprevScreen.open();\n\t\t\t\tplayButtonSFX.call(this, 'prev');\n\t\t\t}\n\t\n\t\t\treturn prevScreen;\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tvar bgSound, voSound;\n\t\n\t\t\tbgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t\t\tvoSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t\t\tfxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\t\n\t\t\tif (bgSound) bgSound.play();\n\t\t\tif (fxSound) fxSound.play();\n\t\t\tif (voSound) this.playSound(voSound);\n\t\n\t\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tif (this.currentVO) {\n\t\t\t\tthis.currentVO.stop();\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.screenComplete.play();\n\t\t\treturn this.proto();\n\t\t};\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t\tfunction playButtonSFX(_direction) {\n\t\t\tvar so;\n\t\n\t\t\tif (_direction === \"next\") {\n\t\t\t\tso = pl.util.resolvePath(this, 'audio.sfx.nextScreen');\n\t\t\t}\n\t\n\t\t\tif (!so) {\n\t\t\t\tso = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\t\t}\n\t\t\tif (so) so.play();\n\t\t}\n\t\n\t\t// TODO: Make an automated way to handle this\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\t\tthis.addClass('LEAVE-END');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tthis.game.addClass('QUIT-SCREEN');\n\t\t\tthis.removeClass('LEAVE-END');\n\t\t\tthis.game.pause(true);\n\t\t});\n\t\n\t\tthis.on('ui-leave', function () {\n\t\t\tthis.game.removeClass('QUIT-SCREEN');\n\t\t\tthis.game.resume();\n\t\t});\n\t\n\t\tthis.okay = function () {\n\t\t\tplayButtonSFX.call(this);\n\t\t\tthis.game.exit();\n\t\t};\n\t\n\t\tthis.cancel = function () {\n\t\t\tplayButtonSFX.call(this);\n\t\t\tthis.leave();\n\t\t};\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-title', function () {\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\tif (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t\t});\n\t\n\t\t/**\n\t  * Start the title screen logo animation when the screen opens.\n\t  */\n\t\tthis.on('ui-open', function () {\n\t\t\tvar delay = this.properties.delay;\n\t\n\t\t\tif (delay) {\n\t\t\t\tthis.delay(this.properties.delay, this.animateSplashImage);\n\t\t\t} else {\n\t\t\t\tthis.animateSplashImage();\n\t\t\t}\n\t\n\t\t\tthis.start();\n\t\t\tthis.game.setWallpaper(this.properties.wallpaper);\n\t\n\t\t\treturn this;\n\t\t});\n\t\n\t\tthis.on('ui-close', function (_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\t\t\tthis.on('transitionend', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\t\t\tthis.logo.removeClass(this.properties.animOut).off('animationend');\n\t\t\t\tthis.off('transitionend');\n\t\t\t});\n\t\t});\n\t\n\t\tthis.start = function () {\n\t\t\tvar bgSound, voSound;\n\t\n\t\t\tbgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t\t\tvoSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t\t\tfxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\t\n\t\t\tif (bgSound) bgSound.play();\n\t\t\tif (fxSound) fxSound.play();\n\t\t\tif (voSound) voSound.play();\n\t\n\t\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen, so, animate;\n\t\n\t\t\tfunction leave() {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t}\n\t\n\t\t\tnextScreen = this.proto();\n\t\t\tso = pl.util.resolvePath(this, 'audio.sfx.nextScreen');\n\t\t\tanimate = this.properties.animOut || '';\n\t\n\t\t\tif (!so) {\n\t\t\t\tso = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\t\t}\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tif (animate) {\n\t\t\t\t\tthis.logo.on('animationend', leave.bind(this)).addClass(animate);\n\t\t\t\t} else {\n\t\t\t\t\tleave.call(this);\n\t\t\t\t}\n\t\n\t\t\t\tif (so) so.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.animateSplashImage = function () {\n\t\t\tthis.logo.addClass('animated ' + (this.properties.anim || ''));\n\t\t\tthis.complete();\n\t\t\treturn this;\n\t\t};\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t\tscreenSelector: 'section',\n\t\tcomponentDirectory: 'components/',\n\t\n\t\tdimensions: {\n\t\t\twidth: 960,\n\t\t\tratio: 16 / 9\n\t\t},\n\t\n\t\tbgVolume: {\n\t\t\tdrop: 0.2,\n\t\t\tmax: 1\n\t\t},\n\t\n\t\tshouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/**\n\t * Defines the game scope and imports used component behaviors.\n\t */\n\t\n\t__webpack_require__(9);\n\t\n\t// SCREENS\n\t\n\tvar _screensInfoQuestion = __webpack_require__(12);\n\t\n\tvar _screensInfoQuestion2 = _interopRequireDefault(_screensInfoQuestion);\n\t\n\tvar _screensFlushIt = __webpack_require__(11);\n\t\n\tvar _screensFlushIt2 = _interopRequireDefault(_screensFlushIt);\n\t\n\t// INCLUDE USED COMPONENT BEHAVIORS HERE\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(1);\n\t\n\t/**\n\t * Define the game behavior.\n\t * Here we define all the screen behaviors.\n\t */\n\tpl.game('twirl-n-swirl', function () {\n\t\t/**\n\t  * Interface for changing the game background image.\n\t  */\n\t\tthis.setWallpaper = function (_paper) {\n\t\t\t// I would have defined a state method for this but for some reason\n\t\t\t// I didnt make Game objects inherit from Entities.\n\t\t\tif (_paper) this.removeClass('DEFAULT TITLE PLANT').addClass(_paper.toUpperCase());\n\t\t};\n\t\n\t\t// Define Screen Behaviors\n\t\tthis.screen('info-question', _screensInfoQuestion2['default']);\n\t\tthis.screen('flush-it', _screensFlushIt2['default']);\n\t\t/**\n\t  * Adds Flip screen behavior to send game completion to GA.\n\t  */\n\t\tthis.screen('flip', function () {\n\t\t\t/**\n\t   * @override\n\t   */\n\t\t\tthis.complete = function (_event) {\n\t\t\t\tvar eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t\n\t\t\t\tga('send', 'event', eventCategory, 'complete');\n\t\n\t\t\t\treturn this.proto();\n\t\t\t};\n\t\n\t\t\tthis.next = function () {\n\t\t\t\tthis.game.quit.okay();\n\t\t\t};\n\t\t});\n\t\n\t\t/**\n\t  * When the game exits submit a GA (Google Analytics) event.\n\t  * @override\n\t  */\n\t\tthis.exit = function () {\n\t\t\tvar screen, eventCategory;\n\t\n\t\t\tscreen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t\t\teventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t\t\tga('send', 'event', eventCategory, 'quit');\n\t\n\t\t\treturn this.proto();\n\t\t};\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\texports['default'] = flushIt;\n\t/**\n\t * Twirl n Swirl - Toilet Flush Game\n\t */\n\t\n\tfunction flushIt() {\n\t\t/**\n\t  * Adds behavior to the bins with draggable items.\n\t  * We add a native event listener so we can handle\n\t  * events on the capture phase and prevent the DnD\n\t  * behavior never fires.\n\t  */\n\t\tthis.entity('.draggables', function () {\n\t\t\tthis.listen('mousedown', true, function (_event) {\n\t\t\t\tvar $target = $(_event.target);\n\t\n\t\t\t\tif (this.state(this.STATE.DISABLED) || $target.is('[pl-draggable]') && $target.state(this.STATE.DISABLED)) {\n\t\t\t\t\t_event.stopPropagation();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\n\t\t/**\n\t  * Adds behavior to the reveal modal.\n\t  * @todo Create a modal component which handles its layering.\n\t  */\n\t\tthis.entity('modal-reveal', function () {\n\t\t\t/**\n\t   * Expose reveal component method\n\t   */\n\t\t\tthis.item = function (_id) {\n\t\t\t\tthis.removeClass('LAYER').open();\n\t\t\t\tthis.reveal.item(_id);\n\t\t\t};\n\t\t\t/**\n\t   * Close the modal and play the standard button sound.\n\t   * @override\n\t   */\n\t\t\tthis.close = function () {\n\t\t\t\tvar so = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\t\tif (this.screen.state(this.STATE.VOICE_OVER) && !this.screen.completed()) return;\n\t\t\t\tif (so) so.play();\n\t\n\t\t\t\tthis.screen.enable('.draggables');\n\t\t\t\tthis.disable($('.draggables [pl-id=' + this.find('li.SELECTED').id() + ']'));\n\t\n\t\t\t\treturn this.sup();\n\t\t\t};\n\t\t\t/**\n\t   * Watches for completion of state change tranisions and puts the view in a LAYER state.\n\t   * We want to re-layer the view after it finishes transitioning out.\n\t   * @see ~/source/css/flush-it.scss:134\n\t   */\n\t\t\tthis.on('transitionend', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\t\t\tif (!this.state(this.STATE.OPEN)) {\n\t\t\t\t\tthis.addClass('LAYER').removeClass('PROGRESS');\n\t\t\t\t} else {\n\t\t\t\t\tthis.addClass('PROGRESS');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\t/**\n\t  * Adds an ability for the screen to respond to items dropped in the\n\t  * toilet bowl. Its responsibility is to show the reveal via the\n\t  * dropped item's ID and disable draggable bins.\n\t  */\n\t\tthis.respond('drop', function (_event) {\n\t\t\tvar id = _event.behaviorTarget.id();\n\t\n\t\t\tthis.toilet.reveal.item(id).find('.FLUSH').removeClass('FLUSH');\n\t\t\t$('.draggables [pl-id=' + id + ']').addClass('TOILET');\n\t\t\tthis.disable('.draggables');\n\t\t});\n\t\t/**\n\t  * Show the instructional modal when the screen starts.\n\t  */\n\t\tthis.start = function () {\n\t\t\tthis.modalReveal.item(0);\n\t\t};\n\t\t/**\n\t  * The flush button action.\n\t  * Here we animate the dropped item flushing and display the modal\n\t  * by the item's ID.\n\t  */\n\t\tthis.flush = function () {\n\t\t\tvar current = this.reveal.currentItem();\n\t\n\t\t\tthis.game.audio.sfx.flush.play();\n\t\n\t\t\tif (!current) return;\n\t\n\t\t\tcurrent.addClass('FLUSH');\n\t\n\t\t\tthis.game.audio.sfx.flush.off('ended').on('ended', (function () {\n\t\t\t\tif (this.screen.state(this.screen.STATE.OPEN)) this.modalReveal.item(current.id());\n\t\t\t}).bind(this));\n\t\t};\n\t\n\t\tthis.on('ui-close', function () {\n\t\t\tthis.game.audio.sfx.flush.off('ended');\n\t\t});\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\t\t\tthis.find('.TOILET').removeClass('TOILET');\n\t\t\tthis.deselect(this.toilet.reveal.find('.SELECTED'));\n\t\n\t\t\tif (this.isComplete) this.find('.DISABLED').removeClass('DISABLED');\n\t\t});\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\texports['default'] = infoQuestion;\n\t\n\tfunction infoQuestion() {\n\t\t/**\n\t  * Plays the flush sound with a delay.\n\t  * I may want move this to the screen component.\n\t  * @todo Create a mechanism to attach sounds to actions.\n\t  */\n\t\tthis.next = function () {\n\t\t\tvar nextScreen, so;\n\t\n\t\t\tif (!this.completed()) return;\n\t\n\t\t\tnextScreen = this.sup();\n\t\t\tso = pl.util.resolvePath(this, 'game.audio.sfx.flush');\n\t\n\t\t\tif (so) so.play();\n\t\n\t\t\tthis.delay('2s', function () {\n\t\t\t\tthis.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t});\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** twirl-n-swirl/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 48df3636fb3803d1d1c1\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n\tthis.on('ready', function (_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\tthis.splash();\n\t\t}\n\t});\n\n\tthis.splash = function() {\n\t\tthis.close(this.game.loader);\n\n\t\tif(this.game.hasClass('iOS')) {\n\t\t\tthis.open();\n\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t} else {\n\t\t\tthis.game.title.open();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen = this.proto();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tthis.game.audio.sfx.button.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.play('screenComplete');\n\t\treturn this.proto();\n\t};\n\n\tthis.startGame = function() {\n\t\tif(!this.hasClass('FINISHED')) return;\n\t\tthis.game.addClass('STARTED');\n\t\tthis.delay('2.5s', function() {\n\t\t\tthis.next();\n\t\t});\n\t};\n\n\tthis.on('animationend', function(_e) {\n\t\tif(!this.ball.is(_e.target)) return;\n\t\tthis.addClass('FINISHED');\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/","pl.game.component('dropzone', function () {\n\n\tfunction deQ (_id) {\n\t\tif (this.requiredQueue && this.isMemberSafe('requiredQueue') && this.requiredQueue.has(_id)) {\n\t\t\treturn this.requiredQueue.ready(_id);\n\t\t}\n\t}\n\t\t\n\tthis.entity('.area', function () {\n\t\t\n\t\tthis.cache = null;\n\n\t\tthis.respond('grab', function () {\n\t\t\tvar sfx = this.audio.sfx.drag;\n\t\t\t\n\t\t\tif (sfx) sfx.play();\n\n\t\t\tthis.cache = {\n\t\t\t\tposition: this.absolutePosition().dec(this.game.absolutePosition()),\n\t\t\t\tsize: this.size()\n\t\t\t};\n\t\t});\n\n\t\tthis.respond('release', function (_event) {\n\t\t\tvar point, scale, sfx;\n\n\t\t\tsfx = {\n\t\t\t\tcorrect: this.audio.sfx.correct,\n\t\t\t\tincorrect: this.audio.sfx.incorrect,\n\t\t\t\tdrop: this.audio.sfx.drop\n\t\t\t};\n\n\t\t\tif((scale = this.game.transformScale().x) !== 1) {\n\t\t\t\tpoint = [\n\t\t\t\t\t\t\t_event.state.start.point[0] + scale * _event.state.progress.distance[0],\n\t\t\t\t\t\t\t_event.state.start.point[1] + scale * _event.state.progress.distance[1]\n\t\t\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tpoint = _event.state.progress.point;\n\t\t\t}\n\n\t\t\tif (point && this.isPointInBounds(point)) {\n\t\t\t\tif (this.takes(_event.state.$draggable.id())) {\n\t\t\t\t\t_event.state.$draggable.removeClass('PLUCKED');\n\t\t\t\t\t_event.state.$helper.addClass('DROPED');\n\t\t\t\t\t\n\t\t\t\t\tthis.drop(_event.state.$draggable);\n\t\t\t\t\t\n\t\t\t\t\tif (sfx.correct) sfx.correct.play();\n\t\t\t\t\t\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\telse if (sfx.incorrect) {\n\t\t\t\t\tsfx.incorrect.play();\n\t\t\t\t}\n\n\t\t\t\tif (sfx.drop) sfx.drop.play();\n\t\t\t}\n\n\t\t\t_event.state.$helper.addClass('RETURN');\n\t\t});\n\n\t});\n\n\tthis.on('initialize', function () {\n\t\tthis.takes().forEach(this.bind(function (_id) {\n\t\t\tthis.require(_id);\n\t\t}));\n\t});\n\n\tthis.takes = function (_id) {\n\t\tvar takes = this.properties.take;\n\t\t// if no pl-take attribute is defined then\n\t\t// the dropzone will take any draggable.\n\t\tif (!takes) return _id != null ? true : [];\n\n\t\treturn arguments.length ? !!~takes.indexOf(_id) : takes;\n\t};\n\n\tthis.isPointInBounds = function (_point, _y) {\n\t\tvar point, scale;\n\n\t\tpoint = pl.Point.create(arguments);\n\n\t\tif (point.x >= this.cache.position.x && point.x <= this.cache.position.x+this.cache.size.width) {\n\t\t\tif (point.y >= this.cache.position.y && point.y <= this.cache.position.y+this.cache.size.height) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tthis.isBoxInBounds = function (_point, _size) {\n\t\t// comming soon!\n\t};\n\n\tthis.behavior('drop', function (_$thing) {\n\t\tvar sfx = pl.util.resolvePath(this, 'audio.sfx.drop');\n\t\t\t\n\t\tif (sfx) sfx.play();\n\n\t\tdeQ.call(this, _$thing.id());\n\t\t\n\t\treturn {\n\t\t\tbehaviorTarget: _$thing\n\t\t};\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/components/dropzone/behavior.js\n **/","pl.game.component('reveal', function () {\n\t\n\tthis.items = null;\n\tthis.currentAudio = null;\n\n\tthis.on('ready', function () {\n\t\tthis.items = this.findOwn('li')\n\t});\n\n\tthis.item = function (_id) {\n\t\tvar vo, index;\n\n\t\tif (this.shouldRevealItem(_id) === false) return false;\n\n\t\tif (typeof _id === 'number') {\n\t\t\tthis.select(this.items[_id]);\n\t\t\tthis.audio.voiceOver[_id].play();\n\t\t\tthis.currentAudio = this.audio.voiceOver[_id];\n\t\t}\n\t\t\t\n\t\telse if (typeof _id === 'string') {\n\t\t\tif (this[_id]) {\n\t\t\t\tthis.select(this[_id]);\n\n\t\t\t\tif (this.audio && this.audio.voiceOver) {\n\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.select(_id);\n\n\t\t\t\tindex = this.findOwn(_id).index();\n\t\t\t\tvo = pl.util.resolvePath(this, 'audio.voiceOver['+index+']');\n\t\t\t}\n\n\t\t\tif (vo) (this.currentAudio = vo).play();\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.shouldRevealItem = function () {\n\t\treturn true;\n\t};\n\n\tthis.currentItem = function () {\n\t\treturn this.findOwn('li.SELECTED');\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/components/reveal/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\n\tfunction playButtonSFX (_direction) {\n\t\tvar so = (_direction === \"next\") ? pl.util.resolvePath(this, 'this.audio.sfx.nextScreen') : pl.util.resolvePath(this, 'this.game.audio.sfx.nextScreen');\n\t\tif (so) so.play();\n\t}\n\n\tthis.playSound = function(_sound) {\n\n\t\tif(_sound.type === 'voiceOver') {\n\t\t\tthis.currentVO = _sound;\n\t\t}\n\n\t\treturn _sound.play();\n\t};\n\n\tthis.on('ui-open', function (_event) {\n\t\tif (this.is(_event.target) && this.isReady) {\n\t\t\tthis.game.setWallpaper(this.properties.wallpaper);\n\t\t\tthis.start();\n\t\t\tif (this.completed() && !this.isComplete && !this.game.demoMode) this.complete();\n\t\t}\n\t});\n\n\tthis.on('ui-leave', function (_event) {\n\t\tif (this.is(_event.target)) this.stop();\n\t});\n\n\tthis.on('ui-close', function (_event) {\n\t\tif (this.is(_event.target)) this.stop();\n\t});\n\n\tthis.next = function () {\n\t\tvar nextScreen, isLastScreen;\n\n\t\tnextScreen = this.proto();\n\t\tisLastScreen = this.game.screens.length - 1 === this.index();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tplayButtonSFX.call(this, 'next');\n\t\t} else if (isLastScreen && this.completed()) {\n\t\t\tthis.game.quit.okay();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.prev = function () {\n\t\tvar prevScreen;\n\n\t\tprevScreen = this.proto();\n\n\t\tif (prevScreen) {\n\t\t\tthis.screen.close();\n\t\t\tprevScreen.open();\n\t\t\tplayButtonSFX.call(this, 'prev');\n\t\t}\n\n\t\treturn prevScreen;\n\t};\n\n\tthis.start = function () {\n\t\tvar bgSound, voSound;\n\n\t\tbgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t\tvoSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t\tfxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\n\t\tif(bgSound) bgSound.play();\n\t\tif(fxSound) fxSound.play();\n\t\tif(voSound) this.playSound(voSound);\n\n\t\tif(this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n\t\treturn this;\n\t};\n\n\tthis.stop = function() {\n\t\tif(this.currentVO) {\n\t\t\tthis.currentVO.stop();\n\t\t}\n\n\t\treturn this;\n\t};\n\t\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.screenComplete.play();\n\t\treturn this.proto();\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n\tfunction playButtonSFX (_direction) {\n\t\tvar so;\n\n\t\tif (_direction === \"next\") {\n\t\t\tso = pl.util.resolvePath(this, 'audio.sfx.nextScreen');\n\t\t}\n\n\t\tif (!so) {\n\t\t\tso = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\t}\n\t\tif (so) so.play();\n\t}\n\n\t// TODO: Make an automated way to handle this\n\tthis.on('transitionend', function (_event) {\n\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\tthis.addClass('LEAVE-END');\t\n\t\t}\n\t});\n\t\n\tthis.on('ui-open', function (_event) {\n\t\tthis.game.addClass('QUIT-SCREEN');\n\t\tthis.removeClass('LEAVE-END');\n\t\tthis.game.pause(true);\n\t});\n\n\tthis.on('ui-leave', function () {\n\t\tthis.game.removeClass('QUIT-SCREEN');\n\t\tthis.game.resume();\n\t});\n\t\n\tthis.okay = function () {\n\t\tplayButtonSFX.call(this);\n\t\tthis.game.exit();\n\t};\n\n\tthis.cancel = function () {\n\t\tplayButtonSFX.call(this);\n\t\tthis.leave();\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('screen-title', function () {\n\n\tthis.on('ready', function(_event) {\n\t\tif(!this.is(_event.target)) return;\n\n\t\tif(this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t});\n\n\t/**\n\t * Start the title screen logo animation when the screen opens.\n\t */\n\tthis.on('ui-open', function () {\n\t\tvar delay = this.properties.delay;\n\n\t\tif (delay) {\n\t\t\tthis.delay(this.properties.delay, this.animateSplashImage);\n\t\t} else {\n\t\t\tthis.animateSplashImage();\n\t\t}\n\n\t\tthis.start();\n\t\tthis.game.setWallpaper(this.properties.wallpaper);\n\t\t\n\t\treturn this;\n\t});\n\n\tthis.on('ui-close', function(_event) {\n\t\tif(!this.is(_event.target)) return;\n\t\tthis.on('transitionend', function(_event) {\n\t\t\tif(!this.is(_event.target)) return;\n\t\t\tthis.logo.removeClass(this.properties.animOut)\n\t\t\t\t.off('animationend');\n\t\t\tthis.off('transitionend');\n\t\t});\n\t});\n\n\tthis.start = function () {\n\t\tvar bgSound, voSound;\n\n\t\tbgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t\tvoSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t\tfxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\n\t\tif(bgSound) bgSound.play();\n\t\tif(fxSound) fxSound.play();\n\t\tif(voSound) voSound.play();\n\n\t\tif(this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n\t\treturn this;\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen, so, animate;\n\t\t\n\t\tfunction leave () {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t}\n\n\t\tnextScreen = this.proto();\n\t\tso = pl.util.resolvePath(this, 'audio.sfx.nextScreen');\n\t\tanimate = this.properties.animOut || '';\n\n\t\tif (!so) {\n\t\t\tso = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\t}\n\n\t\tif (nextScreen) {\n\t\t\tif (animate) {\n\t\t\t\tthis.logo\n\t\t\t\t\t.on('animationend', leave.bind(this))\n\t\t\t\t\t.addClass(animate);\n\t\t\t} else {\n\t\t\t\tleave.call(this);\n\t\t\t}\n\t\t\t\t\n\t\t\tif (so) so.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.animateSplashImage = function () {\n\t\tthis.logo.addClass('animated ' + (this.properties.anim || ''));\n\t\tthis.complete();\n\t\treturn this;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/components/screen-title/behavior.js\n **/","pl.game.config({\n\tscreenSelector: 'section',\n\tcomponentDirectory: 'components/',\n\t\n\tdimensions: {\n\t\twidth: 960,\n\t\tratio: 16/9\n\t},\n\t\n\tbgVolume: {\n\t\tdrop: 0.2,\n\t\tmax: 1\n\t},\n\n\tshouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/config.game.js\n **/","/**\n * Defines the game scope and imports used component behaviors.\n */\nimport './config.game';\n\n// SCREENS\nimport infoQuestion from './screens/info-question';\nimport flushIt from './screens/flush-it';\n\n// INCLUDE USED COMPONENT BEHAVIORS HERE\nimport '../../../shared/js/screen-ios-splash';\nimport './components/screen-basic/behavior';\nimport './components/screen-title/behavior';\nimport './components/screen-quit/behavior';\nimport './components/dropzone/behavior';\nimport './components/reveal/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\n/**\n * Define the game behavior.\n * Here we define all the screen behaviors.\n */\npl.game('twirl-n-swirl', function () {\n\t/**\n\t * Interface for changing the game background image.\n\t */\n\tthis.setWallpaper = function (_paper) {\n\t\t// I would have defined a state method for this but for some reason\n\t\t// I didnt make Game objects inherit from Entities.\n\t\tif (_paper) this.removeClass('DEFAULT TITLE PLANT').addClass(_paper.toUpperCase());\n\t};\n\n\t// Define Screen Behaviors\n\tthis.screen('info-question', infoQuestion);\n\tthis.screen('flush-it', flushIt);\n\t/**\n\t * Adds Flip screen behavior to send game completion to GA.\n\t */\n\tthis.screen('flip', function () {\n\t\t/**\n\t\t * @override\n\t\t */\n\t\tthis.complete = function (_event) {\n\t\t\tvar eventCategory = (['game', this.game.id(), this.id()+'('+(this.index()+1)+')']).join(' ');\n\n\t\t\tga('send', 'event', eventCategory, 'complete');\n\n\t\t\treturn this.proto();\n\t\t};\n\n\t\tthis.next = function () {\n\t\t\tthis.game.quit.okay();\n\t\t};\n\t});\n\n\t/**\n\t * When the game exits submit a GA (Google Analytics) event.\n\t * @override\n\t */\n\tthis.exit = function () {\n\t\tvar screen, eventCategory;\n\n\t\tscreen = this.findOwn(pl.game.config('screenSelector')+'.OPEN:not(#quit)').scope();\n\t\teventCategory = (['game', this.id(), screen.id()+'('+(screen.index()+1)+')']).join(' ');\n\n\t\tga('send', 'event', eventCategory, 'quit');\n\n\t\treturn this.proto();\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/index.js\n **/","/**\n * Twirl n Swirl - Toilet Flush Game\n */\nexport default function flushIt () {\n\t/**\n\t * Adds behavior to the bins with draggable items.\n\t * We add a native event listener so we can handle\n\t * events on the capture phase and prevent the DnD\n\t * behavior never fires.\n\t */\n\tthis.entity('.draggables', function () {\n\t\tthis.listen('mousedown', true, function (_event) {\n\t\t\tvar $target = $(_event.target);\n\n\t\t\tif (this.state(this.STATE.DISABLED) || $target.is('[pl-draggable]') && $target.state(this.STATE.DISABLED)) {\n\t\t\t\t_event.stopPropagation();\n\t\t\t}\n\t\t});\n\t});\n\n\t/**\n\t * Adds behavior to the reveal modal.\n\t * @todo Create a modal component which handles its layering.\n\t */\n\tthis.entity('modal-reveal', function () {\n\t\t/**\n\t\t * Expose reveal component method\n\t\t */\n\t\tthis.item = function (_id) {\n\t\t\tthis\n\t\t\t\t.removeClass('LAYER')\n\t\t\t\t.open();\n\t\t\tthis.reveal.item(_id);\n\t\t};\n\t\t/**\n\t\t * Close the modal and play the standard button sound.\n\t\t * @override\n\t\t */\n\t\tthis.close = function () {\n\t\t\tvar so = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\t\tif (this.screen.state(this.STATE.VOICE_OVER) && !this.screen.completed()) return;\n\t\t\tif (so) so.play();\n\n\t\t\tthis.screen.enable('.draggables');\n\t\t\tthis.disable($('.draggables [pl-id='+this.find('li.SELECTED').id()+']'));\n\t\t\t\n\t\t\treturn this.sup();\n\t\t};\n\t\t/**\n\t\t * Watches for completion of state change tranisions and puts the view in a LAYER state.\n\t\t * We want to re-layer the view after it finishes transitioning out.\n\t\t * @see ~/source/css/flush-it.scss:134\n\t\t */\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\t\t\tif (!this.state(this.STATE.OPEN)) {\n\t\t\t\tthis.addClass('LAYER').removeClass('PROGRESS');\n\t\t\t} else {\n\t\t\t\tthis.addClass('PROGRESS');\n\t\t\t}\n\t\t});\n\n\t});\n\t/**\n\t * Adds an ability for the screen to respond to items dropped in the\n\t * toilet bowl. Its responsibility is to show the reveal via the\n\t * dropped item's ID and disable draggable bins.\n\t */\n\tthis.respond('drop', function (_event) {\n\t\tvar id = _event.behaviorTarget.id();\n\n\t\tthis.toilet.reveal.item(id).find('.FLUSH').removeClass('FLUSH');\n\t\t$('.draggables [pl-id='+id+']').addClass('TOILET');\n\t\tthis.disable('.draggables');\n\t});\n\t/**\n\t * Show the instructional modal when the screen starts.\n\t */\n\tthis.start = function () {\n\t\tthis.modalReveal.item(0);\n\t};\n\t/**\n\t * The flush button action.\n\t * Here we animate the dropped item flushing and display the modal\n\t * by the item's ID.\n\t */\n\tthis.flush = function () {\n\t\tvar current = this.reveal.currentItem();\n\n\t\tthis.game.audio.sfx.flush.play();\n\t\t\n\t\tif (!current) return;\n\n\t\tcurrent.addClass('FLUSH');\n\n\t\tthis.game.audio.sfx.flush.off('ended').on('ended', function () {\n\t\t\tif(this.screen.state(this.screen.STATE.OPEN)) this.modalReveal.item(current.id());\n\t\t}.bind(this));\n\t};\n\n\tthis.on('ui-close', function() {\n\t\tthis.game.audio.sfx.flush.off('ended');\n\t});\n\n\tthis.on('ui-open', function(_event) {\n\t\tif(!this.is(_event.target)) return;\n\t\tthis.find('.TOILET').removeClass('TOILET');\n\t\tthis.deselect(this.toilet.reveal.find('.SELECTED'));\n\n\t\tif(this.isComplete) this.find('.DISABLED').removeClass('DISABLED');\n\t});\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/screens/flush-it.js\n **/","export default function infoQuestion () {\n\t/**\n\t * Plays the flush sound with a delay.\n\t * I may want move this to the screen component.\n\t * @todo Create a mechanism to attach sounds to actions.\n\t */\n\tthis.next = function () {\n\t\tvar nextScreen, so;\n\n\t\tif (!this.completed()) return;\n\n\t\tnextScreen = this.sup();\n\t\tso = pl.util.resolvePath(this, 'game.audio.sfx.flush');\n\n\t\tif (so) so.play();\n\n\t\tthis.delay('2s', function () {\n\t\t\tthis.leave();\n\t\t\tnextScreen.open();\n\t\t});\n\n\t\treturn nextScreen;\n\t};\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/screens/info-question.js\n **/"],"sourceRoot":""}