{"version":3,"sources":["webpack:///twirl-n-swirl/ai.js","webpack:///webpack/bootstrap ba3f331948c6fc15029c","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js","webpack:///./twirl-n-swirl/source/js/components/dropzone/behavior.js","webpack:///./twirl-n-swirl/source/js/components/reveal/behavior.js","webpack:///./twirl-n-swirl/source/js/components/screen-basic/behavior.js","webpack:///./twirl-n-swirl/source/js/components/screen-quit/behavior.js","webpack:///./twirl-n-swirl/source/js/components/screen-title/behavior.js","webpack:///./twirl-n-swirl/source/js/config.game.js","webpack:///./twirl-n-swirl/source/js/index.js","webpack:///./twirl-n-swirl/source/js/screens/flush-it.js","webpack:///./twirl-n-swirl/source/js/screens/info-question.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","i","s","o","g","r","a","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","window","document","ga","pl","game","component","this","on","_e","is","target","title","state","STATE","READY","splash","close","loader","hasClass","open","ball","delay","next","nextScreen","proto","screen","leave","audio","sfx","button","play","complete","startGame","addClass","test","_env","parent","location","href","domain","deQ","_id","requiredQueue","isMemberSafe","has","ready","entity","cache","respond","drag","position","absolutePosition","dec","size","_event","point","scale","correct","incorrect","drop","transformScale","x","start","progress","distance","isPointInBounds","takes","$draggable","removeClass","$helper","forEach","bind","require","properties","take","length","indexOf","Point","create","width","y","height","behavior","_$thing","util","resolvePath","behaviorTarget","items","currentAudio","findOwn","item","vo","index","shouldRevealItem","select","voiceOver","currentItem","playButtonSFX","_direction","so","playSound","_sound","type","currentVO","isReady","setWallpaper","wallpaper","completed","isComplete","demoMode","stop","isLastScreen","screens","quit","okay","prev","prevScreen","bgSound","voSound","fxSound","hasOwnProperty","entities","screenComplete","LEAVE","pause","resume","exit","cancel","iosSplash","animateSplashImage","logo","animOut","off","animate","anim","config","screenSelector","componentDirectory","dimensions","ratio","bgVolume","max","shouldLoadComponentStyles","_interopRequireDefault","obj","__esModule","default","_screensInfoQuestion","_screensInfoQuestion2","_screensFlushIt","_screensFlushIt2","_paper","toUpperCase","eventCategory","join","trigger","$","Event","name","gameData","scope","flushIt","listen","$target","DISABLED","stopPropagation","reveal","VOICE_OVER","enable","disable","find","sup","OPEN","toilet","modalReveal","flush","current","deselect","Object","defineProperty","value","infoQuestion"],"mappings":"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","file":"twirl-n-swirl/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(10);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\t\tthis.splash();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.splash = function () {\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tif (this.game.hasClass('iOS')) {\n\t\t\t\tthis.open();\n\t\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t\t} else {\n\t\t\t\tthis.game.title.open();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen = this.proto();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tthis.game.audio.sfx.button.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.play('screenComplete');\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.startGame = function () {\n\t\t\tif (!this.hasClass('FINISHED')) return;\n\t\t\tthis.game.addClass('STARTED');\n\t\t\tthis.delay('2.5s', function () {\n\t\t\t\tthis.next();\n\t\t\t});\n\t\t};\n\t\n\t\tthis.on('animationend', function (_e) {\n\t\t\tif (!this.ball.is(_e.target)) return;\n\t\t\tthis.addClass('FINISHED');\n\t\t});\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t(function test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t})();\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('dropzone', function () {\n\t\n\t  function deQ(_id) {\n\t    if (this.requiredQueue && this.isMemberSafe('requiredQueue') && this.requiredQueue.has(_id)) {\n\t      return this.requiredQueue.ready(_id);\n\t    }\n\t  }\n\t\n\t  this.entity('.area', function () {\n\t\n\t    this.cache = null;\n\t\n\t    this.respond('grab', function () {\n\t      var sfx = this.audio.sfx.drag;\n\t\n\t      if (sfx) sfx.play();\n\t\n\t      this.cache = {\n\t        position: this.absolutePosition().dec(this.game.absolutePosition()),\n\t        size: this.size()\n\t      };\n\t    });\n\t\n\t    this.respond('release', function (_event) {\n\t      var point, scale, sfx;\n\t\n\t      sfx = {\n\t        correct: this.audio.sfx.correct,\n\t        incorrect: this.audio.sfx.incorrect,\n\t        drop: this.audio.sfx.drop\n\t      };\n\t\n\t      if ((scale = this.game.transformScale().x) !== 1) {\n\t        point = [_event.state.start.point[0] + scale * _event.state.progress.distance[0], _event.state.start.point[1] + scale * _event.state.progress.distance[1]];\n\t      } else {\n\t        point = _event.state.progress.point;\n\t      }\n\t\n\t      if (point && this.isPointInBounds(point)) {\n\t        if (this.takes(_event.state.$draggable.id())) {\n\t          _event.state.$draggable.removeClass('PLUCKED');\n\t          _event.state.$helper.addClass('DROPED');\n\t\n\t          this.drop(_event.state.$draggable);\n\t\n\t          if (sfx.correct) sfx.correct.play();\n\t\n\t          return;\n\t        } else if (sfx.incorrect) {\n\t          sfx.incorrect.play();\n\t        }\n\t\n\t        if (sfx.drop) sfx.drop.play();\n\t      }\n\t\n\t      _event.state.$helper.addClass('RETURN');\n\t    });\n\t  });\n\t\n\t  this.on('initialize', function () {\n\t    this.takes().forEach(this.bind(function (_id) {\n\t      this.require(_id);\n\t    }));\n\t  });\n\t\n\t  this.takes = function (_id) {\n\t    var takes = this.properties.take;\n\t    // if no pl-take attribute is defined then\n\t    // the dropzone will take any draggable.\n\t    if (!takes) return _id != null ? true : [];\n\t\n\t    return arguments.length ? !! ~takes.indexOf(_id) : takes;\n\t  };\n\t\n\t  // expected arguments are _point and _y\n\t  this.isPointInBounds = function () {\n\t    var point;\n\t\n\t    point = pl.Point.create(arguments);\n\t\n\t    if (point.x >= this.cache.position.x && point.x <= this.cache.position.x + this.cache.size.width) {\n\t      if (point.y >= this.cache.position.y && point.y <= this.cache.position.y + this.cache.size.height) {\n\t        return true;\n\t      }\n\t    }\n\t\n\t    return false;\n\t  };\n\t\n\t  // this.isBoxInBounds = function (_point, _size) {\n\t  //   // comming soon!\n\t  // };\n\t\n\t  this.behavior('drop', function (_$thing) {\n\t    var sfx = pl.util.resolvePath(this, 'audio.sfx.drop');\n\t\n\t    if (sfx) sfx.play();\n\t\n\t    deQ.call(this, _$thing.id());\n\t\n\t    return {\n\t      behaviorTarget: _$thing\n\t    };\n\t  });\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t  this.items = null;\n\t  this.currentAudio = null;\n\t\n\t  this.on('ready', function () {\n\t    this.items = this.findOwn('li');\n\t  });\n\t\n\t  this.item = function (_id) {\n\t    var vo, index;\n\t\n\t    if (this.shouldRevealItem(_id) === false) return false;\n\t\n\t    if (typeof _id === 'number') {\n\t      this.select(this.items[_id]);\n\t      this.audio.voiceOver[_id].play();\n\t      this.currentAudio = this.audio.voiceOver[_id];\n\t    } else if (typeof _id === 'string') {\n\t      if (this[_id]) {\n\t        this.select(this[_id]);\n\t\n\t        if (this.audio && this.audio.voiceOver) {\n\t          index = this[_id].index();\n\t          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t        }\n\t      } else {\n\t        this.select(_id);\n\t\n\t        index = this.findOwn(_id).index();\n\t        vo = pl.util.resolvePath(this, 'audio.voiceOver[' + index + ']');\n\t      }\n\t\n\t      if (vo) (this.currentAudio = vo).play();\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.shouldRevealItem = function () {\n\t    return true;\n\t  };\n\t\n\t  this.currentItem = function () {\n\t    return this.findOwn('li.SELECTED');\n\t  };\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\n\t  function playButtonSFX(_direction) {\n\t    var so = _direction === 'next' ? pl.util.resolvePath(this, 'this.audio.sfx.nextScreen') : pl.util.resolvePath(this, 'this.game.audio.sfx.nextScreen');\n\t    if (so) so.play();\n\t  }\n\t\n\t  this.playSound = function (_sound) {\n\t\n\t    if (_sound.type === 'voiceOver') {\n\t      this.currentVO = _sound;\n\t    }\n\t\n\t    return _sound.play();\n\t  };\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.is(_event.target) && this.isReady) {\n\t      this.game.setWallpaper(this.properties.wallpaper);\n\t      this.start();\n\t      if (this.completed() && !this.isComplete && !this.game.demoMode) this.complete();\n\t    }\n\t  });\n\t\n\t  this.on('ui-leave', function (_event) {\n\t    if (this.is(_event.target)) this.stop();\n\t  });\n\t\n\t  this.on('ui-close', function (_event) {\n\t    if (this.is(_event.target)) this.stop();\n\t  });\n\t\n\t  this.next = function () {\n\t    var nextScreen, isLastScreen;\n\t\n\t    nextScreen = this.proto();\n\t    isLastScreen = this.game.screens.length - 1 === this.index();\n\t\n\t    if (nextScreen) {\n\t      this.screen.leave();\n\t      nextScreen.open();\n\t      playButtonSFX.call(this, 'next');\n\t    } else if (isLastScreen && this.completed()) {\n\t      this.game.quit.okay();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t\n\t  this.prev = function () {\n\t    var prevScreen;\n\t\n\t    prevScreen = this.proto();\n\t\n\t    if (prevScreen) {\n\t      this.screen.close();\n\t      prevScreen.open();\n\t      playButtonSFX.call(this, 'prev');\n\t    }\n\t\n\t    return prevScreen;\n\t  };\n\t\n\t  this.start = function () {\n\t    var bgSound, voSound, fxSound;\n\t\n\t    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t    fxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\t\n\t    if (bgSound) bgSound.play();\n\t    if (fxSound) fxSound.play();\n\t    if (voSound) this.playSound(voSound);\n\t\n\t    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t    return this;\n\t  };\n\t\n\t  this.stop = function () {\n\t    if (this.currentVO) {\n\t      this.currentVO.stop();\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.complete = function () {\n\t    this.game.audio.sfx.screenComplete.play();\n\t    return this.proto();\n\t  };\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t  function playButtonSFX(_direction) {\n\t    var so;\n\t\n\t    if (_direction === 'next') {\n\t      so = pl.util.resolvePath(this, 'audio.sfx.nextScreen');\n\t    }\n\t\n\t    if (!so) {\n\t      so = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    }\n\t    if (so) so.play();\n\t  }\n\t\n\t  // TODO: Make an automated way to handle this\n\t  this.on('transitionend', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    if (this.state(this.STATE.LEAVE)) {\n\t      this.addClass('LEAVE-END');\n\t    }\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    this.game.addClass('QUIT-SCREEN');\n\t    this.removeClass('LEAVE-END');\n\t    this.game.pause(true);\n\t  });\n\t\n\t  this.on('ui-leave', function () {\n\t    this.game.removeClass('QUIT-SCREEN');\n\t    this.game.resume();\n\t  });\n\t\n\t  this.okay = function () {\n\t    playButtonSFX.call(this);\n\t    this.game.exit();\n\t  };\n\t\n\t  this.cancel = function () {\n\t    playButtonSFX.call(this);\n\t    this.leave();\n\t  };\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-title', function () {\n\t\n\t  this.on('ready', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t\n\t    if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t  });\n\t\n\t  /**\n\t   * Start the title screen logo animation when the screen opens.\n\t   */\n\t  this.on('ui-open', function () {\n\t    var delay = this.properties.delay;\n\t\n\t    if (delay) {\n\t      this.delay(this.properties.delay, this.animateSplashImage);\n\t    } else {\n\t      this.animateSplashImage();\n\t    }\n\t\n\t    this.start();\n\t    this.game.setWallpaper(this.properties.wallpaper);\n\t\n\t    return this;\n\t  });\n\t\n\t  this.on('ui-close', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    this.on('transitionend', function (_e) {\n\t      if (!this.is(_e.target)) return;\n\t      this.logo.removeClass(this.properties.animOut).off('animationend');\n\t      this.off('transitionend');\n\t    });\n\t  });\n\t\n\t  this.start = function () {\n\t    var bgSound, voSound, fxSound;\n\t\n\t    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t    fxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\t\n\t    if (bgSound) bgSound.play();\n\t    if (fxSound) fxSound.play();\n\t    if (voSound) voSound.play();\n\t\n\t    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t    return this;\n\t  };\n\t\n\t  this.next = function () {\n\t    var nextScreen, so, animate;\n\t\n\t    function leave() {\n\t      this.screen.leave();\n\t      nextScreen.open();\n\t    }\n\t\n\t    nextScreen = this.proto();\n\t    so = pl.util.resolvePath(this, 'audio.sfx.nextScreen');\n\t    animate = this.properties.animOut || '';\n\t\n\t    if (!so) {\n\t      so = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    }\n\t\n\t    if (nextScreen) {\n\t      if (animate) {\n\t        this.logo.on('animationend', leave.bind(this)).addClass(animate);\n\t      } else {\n\t        leave.call(this);\n\t      }\n\t\n\t      if (so) so.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t\n\t  this.animateSplashImage = function () {\n\t    this.logo.addClass('animated ' + (this.properties.anim || ''));\n\t    this.complete();\n\t    return this;\n\t  };\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t  screenSelector: 'section',\n\t  componentDirectory: 'components/',\n\t\n\t  dimensions: {\n\t    width: 960,\n\t    ratio: 16 / 9\n\t  },\n\t\n\t  bgVolume: {\n\t    drop: 0.2,\n\t    max: 1\n\t  },\n\t\n\t  shouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/**\n\t * Defines the game scope and imports used component behaviors.\n\t */\n\t\n\t__webpack_require__(9);\n\t\n\t// SCREENS\n\t\n\tvar _screensInfoQuestion = __webpack_require__(12);\n\t\n\tvar _screensInfoQuestion2 = _interopRequireDefault(_screensInfoQuestion);\n\t\n\tvar _screensFlushIt = __webpack_require__(11);\n\t\n\tvar _screensFlushIt2 = _interopRequireDefault(_screensFlushIt);\n\t\n\t// INCLUDE USED COMPONENT BEHAVIORS HERE\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(1);\n\t\n\t/**\n\t * Define the game behavior.\n\t * Here we define all the screen behaviors.\n\t */\n\tpl.game('twirl-n-swirl', function () {\n\t  /**\n\t   * Interface for changing the game background image.\n\t   */\n\t  this.setWallpaper = function (_paper) {\n\t    // I would have defined a state method for this but for some reason\n\t    // I didnt make Game objects inherit from Entities.\n\t    if (_paper) this.removeClass('DEFAULT TITLE PLANT').addClass(_paper.toUpperCase());\n\t  };\n\t\n\t  // Define Screen Behaviors\n\t  this.screen('info-question', _screensInfoQuestion2['default']);\n\t  this.screen('flush-it', _screensFlushIt2['default']);\n\t  /**\n\t   * Adds Flip screen behavior to send game completion to GA.\n\t   */\n\t  this.screen('flip', function () {\n\t    /**\n\t     * @override\n\t     */\n\t    this.complete = function () {\n\t      var eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t\n\t      ga('send', 'event', eventCategory, 'complete');\n\t\n\t      pl.game.trigger($.Event('platform-event', {\n\t        name: 'flip',\n\t        gameData: { id: this.game.id() }\n\t      }));\n\t\n\t      return this.proto();\n\t    };\n\t\n\t    this.next = function () {\n\t      this.game.quit.okay();\n\t    };\n\t  });\n\t\n\t  /**\n\t   * When the game exits submit a GA (Google Analytics) event.\n\t   * @override\n\t   */\n\t  this.exit = function () {\n\t    var screen, eventCategory;\n\t\n\t    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t    eventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t    ga('send', 'event', eventCategory, 'quit');\n\t\n\t    return this.proto();\n\t  };\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\texports['default'] = flushIt;\n\t/**\n\t * Twirl n Swirl - Toilet Flush Game\n\t */\n\t\n\tfunction flushIt() {\n\t  /**\n\t   * Adds behavior to the bins with draggable items.\n\t   * We add a native event listener so we can handle\n\t   * events on the capture phase and prevent the DnD\n\t   * behavior never fires.\n\t   */\n\t  this.entity('.draggables', function () {\n\t    this.listen('mousedown', true, function (_event) {\n\t      var $target = $(_event.target);\n\t\n\t      if (this.state(this.STATE.DISABLED) || $target.is('[pl-draggable]') && $target.state(this.STATE.DISABLED)) {\n\t        _event.stopPropagation();\n\t      }\n\t    });\n\t  });\n\t\n\t  /**\n\t   * Adds behavior to the reveal modal.\n\t   * @todo Create a modal component which handles its layering.\n\t   */\n\t  this.entity('modal-reveal', function () {\n\t    /**\n\t     * Expose reveal component method\n\t     */\n\t    this.item = function (_id) {\n\t      this.removeClass('LAYER').open();\n\t      this.reveal.item(_id);\n\t    };\n\t    /**\n\t     * Close the modal and play the standard button sound.\n\t     * @override\n\t     */\n\t    this.close = function () {\n\t      var so = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t      if (this.screen.state(this.STATE.VOICE_OVER) && !this.screen.completed()) return;\n\t      if (so) so.play();\n\t\n\t      this.screen.enable('.draggables');\n\t      this.disable($('.draggables [pl-id=' + this.find('li.SELECTED').id() + ']'));\n\t\n\t      return this.sup();\n\t    };\n\t    /**\n\t     * Watches for completion of state change tranisions and puts the view in a LAYER state.\n\t     * We want to re-layer the view after it finishes transitioning out.\n\t     * @see ~/source/css/flush-it.scss:134\n\t     */\n\t    this.on('transitionend', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t      if (!this.state(this.STATE.OPEN)) {\n\t        this.addClass('LAYER').removeClass('PROGRESS');\n\t      } else {\n\t        this.addClass('PROGRESS');\n\t      }\n\t    });\n\t  });\n\t  /**\n\t   * Adds an ability for the screen to respond to items dropped in the\n\t   * toilet bowl. Its responsibility is to show the reveal via the\n\t   * dropped item's ID and disable draggable bins.\n\t   */\n\t  this.respond('drop', function (_event) {\n\t    var id = _event.behaviorTarget.id();\n\t\n\t    this.toilet.addClass('FLUSH').reveal.item(id).find('.FLUSH').removeClass('FLUSH');\n\t    $('.draggables [pl-id=' + id + ']').addClass('TOILET');\n\t    this.disable('.draggables');\n\t  });\n\t  /**\n\t   * Show the instructional modal when the screen starts.\n\t   */\n\t  this.start = function () {\n\t    this.modalReveal.item(0);\n\t  };\n\t  /**\n\t   * The flush button action.\n\t   * Here we animate the dropped item flushing and display the modal\n\t   * by the item's ID.\n\t   */\n\t  this.flush = function () {\n\t    var current = this.reveal.currentItem();\n\t\n\t    this.game.audio.sfx.flush.play();\n\t\n\t    if (!current) return;\n\t\n\t    this.toilet.removeClass('FLUSH');\n\t    current.addClass('FLUSH');\n\t\n\t    this.game.audio.sfx.flush.off('ended').on('ended', (function () {\n\t      if (this.screen.state(this.screen.STATE.OPEN)) this.modalReveal.item(current.id());\n\t    }).bind(this));\n\t  };\n\t\n\t  this.on('ui-close', function () {\n\t    this.game.audio.sfx.flush.off('ended');\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    this.find('.TOILET').removeClass('TOILET');\n\t    this.deselect(this.toilet.reveal.find('.SELECTED'));\n\t\n\t    if (this.isComplete) this.find('.DISABLED').removeClass('DISABLED');\n\t  });\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\texports['default'] = infoQuestion;\n\t\n\tfunction infoQuestion() {\n\t  /**\n\t   * Plays the flush sound with a delay.\n\t   * I may want move this to the screen component.\n\t   * @todo Create a mechanism to attach sounds to actions.\n\t   */\n\t  this.next = function () {\n\t    var nextScreen, so;\n\t\n\t    if (!this.completed()) return;\n\t\n\t    nextScreen = this.sup();\n\t    so = pl.util.resolvePath(this, 'game.audio.sfx.flush');\n\t\n\t    if (so) so.play();\n\t\n\t    this.delay('2s', function () {\n\t      this.leave();\n\t      nextScreen.open();\n\t    });\n\t\n\t    return nextScreen;\n\t  };\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** twirl-n-swirl/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ba3f331948c6fc15029c\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n\tthis.on('ready', function (_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\tthis.splash();\n\t\t}\n\t});\n\n\tthis.splash = function() {\n\t\tthis.close(this.game.loader);\n\n\t\tif(this.game.hasClass('iOS')) {\n\t\t\tthis.open();\n\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t} else {\n\t\t\tthis.game.title.open();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen = this.proto();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tthis.game.audio.sfx.button.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.play('screenComplete');\n\t\treturn this.proto();\n\t};\n\n\tthis.startGame = function() {\n\t\tif(!this.hasClass('FINISHED')) return;\n\t\tthis.game.addClass('STARTED');\n\t\tthis.delay('2.5s', function() {\n\t\t\tthis.next();\n\t\t});\n\t};\n\n\tthis.on('animationend', function(_e) {\n\t\tif(!this.ball.is(_e.target)) return;\n\t\tthis.addClass('FINISHED');\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","(function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/","pl.game.component('dropzone', function () {\n\n  function deQ(_id) {\n    if (this.requiredQueue && this.isMemberSafe('requiredQueue') && this.requiredQueue.has(_id)) {\n      return this.requiredQueue.ready(_id);\n    }\n  }\n\n  this.entity('.area', function () {\n\n    this.cache = null;\n\n    this.respond('grab', function () {\n      var sfx = this.audio.sfx.drag;\n\n      if (sfx) sfx.play();\n\n      this.cache = {\n        position: this.absolutePosition().dec(this.game.absolutePosition()),\n        size: this.size()\n      };\n    });\n\n    this.respond('release', function (_event) {\n      var point, scale, sfx;\n\n      sfx = {\n        correct: this.audio.sfx.correct,\n        incorrect: this.audio.sfx.incorrect,\n        drop: this.audio.sfx.drop\n      };\n\n      if ((scale = this.game.transformScale().x) !== 1) {\n        point = [\n          _event.state.start.point[0] + scale * _event.state.progress.distance[0],\n          _event.state.start.point[1] + scale * _event.state.progress.distance[1]\n        ];\n      } else {\n        point = _event.state.progress.point;\n      }\n\n      if (point && this.isPointInBounds(point)) {\n        if (this.takes(_event.state.$draggable.id())) {\n          _event.state.$draggable.removeClass('PLUCKED');\n          _event.state.$helper.addClass('DROPED');\n\n          this.drop(_event.state.$draggable);\n\n          if (sfx.correct) sfx.correct.play();\n\n          return;\n        } else if (sfx.incorrect) {\n          sfx.incorrect.play();\n        }\n\n        if (sfx.drop) sfx.drop.play();\n      }\n\n      _event.state.$helper.addClass('RETURN');\n    });\n\n  });\n\n  this.on('initialize', function () {\n    this.takes().forEach(this.bind(function (_id) {\n      this.require(_id);\n    }));\n  });\n\n  this.takes = function (_id) {\n    var takes = this.properties.take;\n    // if no pl-take attribute is defined then\n    // the dropzone will take any draggable.\n    if (!takes) return _id != null ? true : [];\n\n    return arguments.length ? !!~takes.indexOf(_id) : takes;\n  };\n\n  // expected arguments are _point and _y\n  this.isPointInBounds = function () {\n    var point;\n\n    point = pl.Point.create(arguments);\n\n    if (point.x >= this.cache.position.x && point.x <= this.cache.position.x + this.cache.size.width) {\n      if (point.y >= this.cache.position.y && point.y <= this.cache.position.y + this.cache.size.height) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  // this.isBoxInBounds = function (_point, _size) {\n  //   // comming soon!\n  // };\n\n  this.behavior('drop', function (_$thing) {\n    var sfx = pl.util.resolvePath(this, 'audio.sfx.drop');\n\n    if (sfx) sfx.play();\n\n    deQ.call(this, _$thing.id());\n\n    return {\n      behaviorTarget: _$thing\n    };\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/components/dropzone/behavior.js\n **/","pl.game.component('reveal', function () {\n\n  this.items = null;\n  this.currentAudio = null;\n\n  this.on('ready', function () {\n    this.items = this.findOwn('li');\n  });\n\n  this.item = function (_id) {\n    var vo, index;\n\n    if (this.shouldRevealItem(_id) === false) return false;\n\n    if (typeof _id === 'number') {\n      this.select(this.items[_id]);\n      this.audio.voiceOver[_id].play();\n      this.currentAudio = this.audio.voiceOver[_id];\n    } else if (typeof _id === 'string') {\n      if (this[_id]) {\n        this.select(this[_id]);\n\n        if (this.audio && this.audio.voiceOver) {\n          index = this[_id].index();\n          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n        }\n      } else {\n        this.select(_id);\n\n        index = this.findOwn(_id).index();\n        vo = pl.util.resolvePath(this, 'audio.voiceOver[' + index + ']');\n      }\n\n      if (vo) (this.currentAudio = vo).play();\n    }\n\n    return this;\n  };\n\n  this.shouldRevealItem = function () {\n    return true;\n  };\n\n  this.currentItem = function () {\n    return this.findOwn('li.SELECTED');\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/components/reveal/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\n  function playButtonSFX(_direction) {\n    var so = (_direction === 'next') ? pl.util.resolvePath(this, 'this.audio.sfx.nextScreen') : pl.util.resolvePath(this, 'this.game.audio.sfx.nextScreen');\n    if (so) so.play();\n  }\n\n  this.playSound = function (_sound) {\n\n    if (_sound.type === 'voiceOver') {\n      this.currentVO = _sound;\n    }\n\n    return _sound.play();\n  };\n\n  this.on('ui-open', function (_event) {\n    if (this.is(_event.target) && this.isReady) {\n      this.game.setWallpaper(this.properties.wallpaper);\n      this.start();\n      if (this.completed() && !this.isComplete && !this.game.demoMode) this.complete();\n    }\n  });\n\n  this.on('ui-leave', function (_event) {\n    if (this.is(_event.target)) this.stop();\n  });\n\n  this.on('ui-close', function (_event) {\n    if (this.is(_event.target)) this.stop();\n  });\n\n  this.next = function () {\n    var nextScreen, isLastScreen;\n\n    nextScreen = this.proto();\n    isLastScreen = this.game.screens.length - 1 === this.index();\n\n    if (nextScreen) {\n      this.screen.leave();\n      nextScreen.open();\n      playButtonSFX.call(this, 'next');\n    } else if (isLastScreen && this.completed()) {\n      this.game.quit.okay();\n    }\n\n    return nextScreen;\n  };\n\n  this.prev = function () {\n    var prevScreen;\n\n    prevScreen = this.proto();\n\n    if (prevScreen) {\n      this.screen.close();\n      prevScreen.open();\n      playButtonSFX.call(this, 'prev');\n    }\n\n    return prevScreen;\n  };\n\n  this.start = function () {\n    var bgSound, voSound, fxSound;\n\n    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n    fxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\n    if (bgSound) bgSound.play();\n    if (fxSound) fxSound.play();\n    if (voSound) this.playSound(voSound);\n\n    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n    return this;\n  };\n\n  this.stop = function () {\n    if (this.currentVO) {\n      this.currentVO.stop();\n    }\n\n    return this;\n  };\n\n  this.complete = function () {\n    this.game.audio.sfx.screenComplete.play();\n    return this.proto();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n  function playButtonSFX(_direction) {\n    var so;\n\n    if (_direction === 'next') {\n      so = pl.util.resolvePath(this, 'audio.sfx.nextScreen');\n    }\n\n    if (!so) {\n      so = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    }\n    if (so) so.play();\n  }\n\n  // TODO: Make an automated way to handle this\n  this.on('transitionend', function (_event) {\n    if (!this.is(_event.target)) return;\n    if (this.state(this.STATE.LEAVE)) {\n      this.addClass('LEAVE-END');\n    }\n  });\n\n  this.on('ui-open', function (_event) {\n    if (!this.is(_event.target)) return;\n    this.game.addClass('QUIT-SCREEN');\n    this.removeClass('LEAVE-END');\n    this.game.pause(true);\n  });\n\n  this.on('ui-leave', function () {\n    this.game.removeClass('QUIT-SCREEN');\n    this.game.resume();\n  });\n\n  this.okay = function () {\n    playButtonSFX.call(this);\n    this.game.exit();\n  };\n\n  this.cancel = function () {\n    playButtonSFX.call(this);\n    this.leave();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('screen-title', function () {\n\n  this.on('ready', function (_event) {\n    if (!this.is(_event.target)) return;\n\n    if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n  });\n\n  /**\n   * Start the title screen logo animation when the screen opens.\n   */\n  this.on('ui-open', function () {\n    var delay = this.properties.delay;\n\n    if (delay) {\n      this.delay(this.properties.delay, this.animateSplashImage);\n    } else {\n      this.animateSplashImage();\n    }\n\n    this.start();\n    this.game.setWallpaper(this.properties.wallpaper);\n\n    return this;\n  });\n\n  this.on('ui-close', function (_event) {\n    if (!this.is(_event.target)) return;\n    this.on('transitionend', function (_e) {\n      if (!this.is(_e.target)) return;\n      this.logo.removeClass(this.properties.animOut)\n        .off('animationend');\n      this.off('transitionend');\n    });\n  });\n\n  this.start = function () {\n    var bgSound, voSound, fxSound;\n\n    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n    fxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\n    if (bgSound) bgSound.play();\n    if (fxSound) fxSound.play();\n    if (voSound) voSound.play();\n\n    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n    return this;\n  };\n\n  this.next = function () {\n    var nextScreen, so, animate;\n\n    function leave() {\n      this.screen.leave();\n      nextScreen.open();\n    }\n\n    nextScreen = this.proto();\n    so = pl.util.resolvePath(this, 'audio.sfx.nextScreen');\n    animate = this.properties.animOut || '';\n\n    if (!so) {\n      so = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    }\n\n    if (nextScreen) {\n      if (animate) {\n        this.logo\n          .on('animationend', leave.bind(this))\n          .addClass(animate);\n      } else {\n        leave.call(this);\n      }\n\n      if (so) so.play();\n    }\n\n    return nextScreen;\n  };\n\n  this.animateSplashImage = function () {\n    this.logo.addClass('animated ' + (this.properties.anim || ''));\n    this.complete();\n    return this;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/components/screen-title/behavior.js\n **/","pl.game.config({\n  screenSelector: 'section',\n  componentDirectory: 'components/',\n\n  dimensions: {\n    width: 960,\n    ratio: 16 / 9\n  },\n\n  bgVolume: {\n    drop: 0.2,\n    max: 1\n  },\n\n  shouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/config.game.js\n **/","/**\n * Defines the game scope and imports used component behaviors.\n */\nimport './config.game';\n\n// SCREENS\nimport infoQuestion from './screens/info-question';\nimport flushIt from './screens/flush-it';\n\n// INCLUDE USED COMPONENT BEHAVIORS HERE\nimport '../../../shared/js/screen-ios-splash';\nimport './components/dropzone/behavior';\nimport './components/reveal/behavior';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/screen-title/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\n/**\n * Define the game behavior.\n * Here we define all the screen behaviors.\n */\npl.game('twirl-n-swirl', function () {\n  /**\n   * Interface for changing the game background image.\n   */\n  this.setWallpaper = function (_paper) {\n    // I would have defined a state method for this but for some reason\n    // I didnt make Game objects inherit from Entities.\n    if (_paper) this.removeClass('DEFAULT TITLE PLANT').addClass(_paper.toUpperCase());\n  };\n\n  // Define Screen Behaviors\n  this.screen('info-question', infoQuestion);\n  this.screen('flush-it', flushIt);\n  /**\n   * Adds Flip screen behavior to send game completion to GA.\n   */\n  this.screen('flip', function () {\n    /**\n     * @override\n     */\n    this.complete = function () {\n      var eventCategory = (['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')']).join(' ');\n\n      ga('send', 'event', eventCategory, 'complete');\n\n      pl.game.trigger($.Event('platform-event', {\n        name: 'flip',\n        gameData: {id: this.game.id()}\n      }));\n\n      return this.proto();\n    };\n\n    this.next = function () {\n      this.game.quit.okay();\n    };\n  });\n\n  /**\n   * When the game exits submit a GA (Google Analytics) event.\n   * @override\n   */\n  this.exit = function () {\n    var screen, eventCategory;\n\n    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n    eventCategory = (['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')']).join(' ');\n\n    ga('send', 'event', eventCategory, 'quit');\n\n    return this.proto();\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/index.js\n **/","/**\n * Twirl n Swirl - Toilet Flush Game\n */\nexport default function flushIt() {\n  /**\n   * Adds behavior to the bins with draggable items.\n   * We add a native event listener so we can handle\n   * events on the capture phase and prevent the DnD\n   * behavior never fires.\n   */\n  this.entity('.draggables', function () {\n    this.listen('mousedown', true, function (_event) {\n      var $target = $(_event.target);\n\n      if (this.state(this.STATE.DISABLED) || $target.is('[pl-draggable]') && $target.state(this.STATE.DISABLED)) {\n        _event.stopPropagation();\n      }\n    });\n  });\n\n  /**\n   * Adds behavior to the reveal modal.\n   * @todo Create a modal component which handles its layering.\n   */\n  this.entity('modal-reveal', function () {\n    /**\n     * Expose reveal component method\n     */\n    this.item = function (_id) {\n      this\n        .removeClass('LAYER')\n        .open();\n      this.reveal.item(_id);\n    };\n    /**\n     * Close the modal and play the standard button sound.\n     * @override\n     */\n    this.close = function () {\n      var so = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n      if (this.screen.state(this.STATE.VOICE_OVER) && !this.screen.completed()) return;\n      if (so) so.play();\n\n      this.screen.enable('.draggables');\n      this.disable($('.draggables [pl-id=' + this.find('li.SELECTED').id() + ']'));\n\n      return this.sup();\n    };\n    /**\n     * Watches for completion of state change tranisions and puts the view in a LAYER state.\n     * We want to re-layer the view after it finishes transitioning out.\n     * @see ~/source/css/flush-it.scss:134\n     */\n    this.on('transitionend', function (_event) {\n      if (!this.is(_event.target)) return;\n      if (!this.state(this.STATE.OPEN)) {\n        this.addClass('LAYER').removeClass('PROGRESS');\n      } else {\n        this.addClass('PROGRESS');\n      }\n    });\n\n  });\n  /**\n   * Adds an ability for the screen to respond to items dropped in the\n   * toilet bowl. Its responsibility is to show the reveal via the\n   * dropped item's ID and disable draggable bins.\n   */\n  this.respond('drop', function (_event) {\n    var id = _event.behaviorTarget.id();\n\n    this.toilet.addClass('FLUSH').reveal.item(id).find('.FLUSH').removeClass('FLUSH');\n    $('.draggables [pl-id=' + id + ']').addClass('TOILET');\n    this.disable('.draggables');\n  });\n  /**\n   * Show the instructional modal when the screen starts.\n   */\n  this.start = function () {\n    this.modalReveal.item(0);\n  };\n  /**\n   * The flush button action.\n   * Here we animate the dropped item flushing and display the modal\n   * by the item's ID.\n   */\n  this.flush = function () {\n    var current = this.reveal.currentItem();\n\n    this.game.audio.sfx.flush.play();\n\n    if (!current) return;\n\n    this.toilet.removeClass('FLUSH');\n    current.addClass('FLUSH');\n\n    this.game.audio.sfx.flush.off('ended').on('ended', function () {\n      if (this.screen.state(this.screen.STATE.OPEN)) this.modalReveal.item(current.id());\n    }.bind(this));\n  };\n\n  this.on('ui-close', function () {\n    this.game.audio.sfx.flush.off('ended');\n  });\n\n  this.on('ui-open', function (_event) {\n    if (!this.is(_event.target)) return;\n    this.find('.TOILET').removeClass('TOILET');\n    this.deselect(this.toilet.reveal.find('.SELECTED'));\n\n    if (this.isComplete) this.find('.DISABLED').removeClass('DISABLED');\n  });\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/screens/flush-it.js\n **/","export default function infoQuestion() {\n  /**\n   * Plays the flush sound with a delay.\n   * I may want move this to the screen component.\n   * @todo Create a mechanism to attach sounds to actions.\n   */\n  this.next = function () {\n    var nextScreen, so;\n\n    if (!this.completed()) return;\n\n    nextScreen = this.sup();\n    so = pl.util.resolvePath(this, 'game.audio.sfx.flush');\n\n    if (so) so.play();\n\n    this.delay('2s', function () {\n      this.leave();\n      nextScreen.open();\n    });\n\n    return nextScreen;\n  };\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./twirl-n-swirl/source/js/screens/info-question.js\n **/"],"sourceRoot":""}