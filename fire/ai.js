!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="/build/",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(15)},function(module,exports){pl.game.component("audio-sequence",function(){var i,sounds;this.on("ready",function(_event){this.is(_event.target)&&(sounds=this.find("audio").map(function(){return $(this).data("context")}).toArray(),this.audio.on("ended",function(_event){var next=sounds[i++];next&&this.screen.state(this.screen.STATE.OPEN)&&this.screen.playSound(next)}.bind(this)))}),this.start=function(){i=1,sounds[0]&&this.screen.state(this.screen.STATE.OPEN)&&this.screen.playSound(sounds[0])}})},function(module,exports){pl.game.component("background",function(){var characters;this.handleProperty({bg:function bg(_node,_name,_value){var img=new Image;characters=characters||[],img.src=_value,characters.push(img),$(_node).css("background-image","url("+_value+")")}})})},function(module,exports){pl.game.component("dropzone",function(){this.entity(".area",function(){this.cache=null,this.respond("grab",function(){this.audio.sfx.drag.play(),this.cache={position:this.absolutePosition().dec(this.game.absolutePosition()),size:this.size().scale(this.game.transformScale().x)}}),this.respond("release",function(_event){var point,scale;if(point=1!==(scale=this.game.transformScale().x)?[_event.state.start.point[0]+scale*_event.state.progress.distance[0],_event.state.start.point[1]+scale*_event.state.progress.distance[1]]:_event.state.progress.point,point&&this.isPointInBounds(point)){if(this.takes(_event.state.$draggable.id()))return _event.state.$draggable.removeClass("PLUCKED").addClass("COMPLETE").attr("pl-draggable",null),_event.state.$helper.addClass("DROPED"),this.drop(_event.state.$draggable),void this.audio.sfx.correct.play();this.audio.sfx.incorrect.play()}_event.state.$helper.addClass("RETURN").css("transform","translateX(0px) translateY(0px)")})}),this.init=function(){this.takes().forEach(this.bind(function(_id){this.require(_id)}))},this.takes=function(_id){var takes=this.properties.take.split(/\s+/);return arguments.length?!!~takes.indexOf(_id):takes},this.isPointInBounds=function(_point,_y){var point;return point=pl.Point.create(arguments),point.x>=this.cache.position.x&&point.x<=this.cache.position.x+this.cache.size.width&&point.y>=this.cache.position.y&&point.y<=this.cache.position.y+this.cache.size.height?!0:!1},this.isBoxInBounds=function(_point,_size){},this.behavior("drop",function(_$thing){return console.log("*** In bounds!!",_$thing.id()),this.requiredQueue.ready(_$thing.id()),{message:_$thing.id(),behaviorTarget:_$thing}})})},function(module,exports){pl.game.component("frame",function(){this.on("ready",function(_event){this.is(_event.target)&&this.audio&&this.audio.rule(".voiceOver","shouldPlay",function(_event){_event.response(!_event.target.config("dontautoplay"))})}),this.start=function(){return this.log("start"),this.screen.start.call(this)},this.stop=function(){return this.screen.stop.call(this)},this.on("ui-open",function(_event){this.isReady&&this.start(),this===_event.targetScope&&(this.hasOwnProperty("isComplete")&&this.isComplete||this.hasOwnProperty("requiredQueue")&&this.requiredQueue&&this.requiredQueue.length||this.complete())})})},function(module,exports){pl.game.component("modal",function(){this.item=function(_id){this.select(this),this.reveal.item(_id)},this.close=function(){this.screen.shouldProceed()&&this.deselect(this)}})},function(module,exports){pl.game.component("multiple-choice",function(){function validateAnswer(_scope){var answers;return _scope.properties.correct&&(answers=_scope.properties.correct.split(/\s*,\s*/),~answers.indexOf(String(_scope.getSelected().index()))?(_scope.audio.sfx.correct&&_scope.audio.sfx.correct.play(),_scope.complete()):_scope.audio.sfx.incorrect&&_scope.audio.sfx.incorrect.play()),!1}this.behavior("answer",function(){var $li;return this.event?($li=$(this.event.target).closest("li"),!this.isComplete&&this.select($li)&&validateAnswer(this),{behaviorTarget:$li,message:$li.id()}):!1})})},function(module,exports){pl.game.component("reveal",function(){this.item=function(_id){var vo,index;console.log(this),"number"==typeof _id?(this.select(this.find("li").eq(_id)),this.audio.voiceOver[_id].play()):"string"==typeof _id&&this[_id]&&(this.select(this[_id]),this.audio&&(index=this[_id].index(),vo=this.audio.voiceOver[_id]||this.audio.voiceOver[index],vo&&vo.play()))}})},function(module,exports){pl.game.component("screen-basic",function(){this.on("ready",function(_event){this.is(_event.target)&&this.audio&&this.audio.rule(".voiceOver","shouldPlay",function(_event){_event.response(!_event.target.config("dontautoplay"))}),this.isMemberSafe("requiredQueue")&&this.requiredQueue&&this.requiredQueue.on("complete",this.bind(function(){var sfx;sfx=pl.util.resolvePath(this,"game.audio.sfx.screenComplete"),sfx&&sfx.play()}))}),this.shouldProceed=function(){return!this.state(this.STATE.PLAYING)&&!this.state(this.STATE.VOICE_OVER)||this.game.demoMode},this.playSound=function(_sound){var delay;return delay=$(_sound.media).attr("pl-start"),delay?this.delay(delay,_sound.play.bind(_sound)):_sound.play()},this.next=function(){var current,nextScreen,buttonSound;return this.hasClass("last")&&this.hasClass("COMPLETE")&&this.game.quit.okay(),this!==this.screen?(this.log("Not called on a screen"),void console.trace()):(buttonSound=pl.util.resolvePath(this,"game.audio.sfx.button"),this.slides&&this.slides.isComponent?(current=this.slides.current(),nextScreen=current.next(),null==nextScreen&&(current=this,nextScreen=this.proto())):(current=this,nextScreen=this.proto()),nextScreen&&(current.leave(),nextScreen.open(),buttonSound&&buttonSound.play()),nextScreen)},this.prev=function(){var current,prevScreen,buttonSound;return this!==this.screen?(this.log("Not called on a screen"),void console.trace()):(buttonSound=pl.util.resolvePath(this,"game.audio.sfx.button"),this.slides&&this.slides.isComponent?(current=this.slides.current(),prevScreen=current.prev(),null==prevScreen&&(current=this,prevScreen=this.proto())):(current=this,prevScreen=this.proto()),prevScreen&&(current.close(),prevScreen.open(),buttonSound&&buttonSound.play()),prevScreen)},this.start=function(){var entities=this.hasOwnProperty("entities")&&this.entities;return this.startAudio(),this.audio&&this.audio.sfx.play("start"),entities&&entities.forEach(function(_entity){_entity.isMemberSafe("start")&&_entity.start()}),this},this.stop=function(){var entities=this.hasOwnProperty("entities")&&this.entities;return this.stopAudio(),this.kill("delay"),entities&&entities.forEach(function(_entity){_entity.isMemberSafe("start")&&_entity.stop()}),this},this.complete=function(){return this.game.audio.sfx.screenComplete.play(),this.proto()},this.on("ui-open",function(_event){if(this.isReady&&this.is(_event.target)&&this.start(),this.completed()&&this.complete(),this.properties.gameClass&&this.game.addClass(this.properties.gameClass),this.properties.sfx)for(var sfx=this.properties.sfx.split(" "),i=0,n=sfx.length;n>i;i++)this.audio.sfx[sfx[i]]&&this.playSound(this.audio.sfx[sfx[i]])}),this.on("ui-leave ui-close",function(_event){this.properties.gameClass&&this.game.removeClass(this.properties.gameClass),this.isReady&&this.is(_event.target)&&this.stop()})})},function(module,exports){pl.game.component("screen-quit",function(){var characters;this.handleProperty({bg:function bg(_node,_name,_value){var img=new Image;characters=characters||[],img.src=_value,characters.push(img),$(_node).css("background-image","url("+_value+")")}}),this.on("transitionend",function(_event){this.state(this.STATE.LEAVE)&&this.addClass("LEAVE-END")}),this.on("ui-open",function(_event){this.game.addClass("QUIT-SCREEN"),this.removeClass("LEAVE-END"),this.game.pause(!0)}),this.on("ui-leave",function(){this.game.removeClass("QUIT-SCREEN"),this.game.resume()}),this.init=function(){this.addClass("LEAVE LEAVE-END")},this.okay=function(){this.game.exit()},this.cancel=function(){this.leave()}})},function(module,exports){pl.game.component("selectable",function(){this.behavior("select",function(_target){var $target;if(this.event){if($target=$(this.event.target).closest("li"),this.shouldSelect($target)!==!1)return{message:$target.id(),behaviorTarget:$target}}else this.proto(_target);return!1}),this.shouldSelect=function(_target){return!0}})},function(module,exports){pl.game.component("slides",function(){this.slides=null,this.ready=function(){this.slides=this.find("> *").scope()},this.start=function(){var current,i,n;if(current=this.current())current.start();else if(this.slides.length)for(this.slides[0].open(),i=1,n=this.slides.length;n>i;i++)this.slides[i]&&this.slides[i].close()},this.current=function(){return this.find("> .OPEN").scope()},this.next=function(){var index,nextSlide,buttonSound;return this.completed()?(buttonSound=pl.util.resolvePath(this,"game.audio.sfx.button"),index=this.slides.indexOf(this),~index?this.slides[index+1]:(~index&&(nextSlide=this.slides[index+1]),nextSlide?(this.leave(),nextSlide.open(),buttonSound&&buttonSound.play(),nextSlide):this.proto())):!1},this.prev=function(){var index,prevSlide,buttonSound;return buttonSound=pl.util.resolvePath(this,"game.audio.sfx.button"),index=this.slides.indexOf(this),~index?this.slides[index-1]:(~index&&(prevSlide=this.slides[index-1]),prevSlide?(this.close(),prevSlide.open(),buttonSound&&buttonSound.play(),prevSlide):this.proto())}})},function(module,exports){pl.game.component("smoke",function(){function Particle(x,y){this.x=x,this.y=y,this.velY=-2,this.velX=(random(1,10)-5)/10,this.size=random(3,5)/10,this.alpha=1,this.update=function(){this.y+=this.velY,this.x+=this.velX,this.velY*=.99,this.alpha<0&&(this.alpha=0),c.globalAlpha=this.alpha,c.save(),c.translate(this.x,this.y),c.scale(this.size,this.size),c.drawImage(img,-img.width/2,-img.height/2),c.restore(),this.alpha*=.96,this.size+=.02}}function random(min,max){return Math.random()*(max-min)*min}function draw(){var p=new Particle(position.x,position.y);for(particles.push(p);particles.length>500;)particles.shift();c.globalAlpha=1,c.fillStyle="#000",c.fillRect(0,0,w,h);for(var i=0;i<particles.length;i++)particles[i].update();shouldDraw&&requestAnimationFrame(draw)}function handleCursor(e){position.x=e.clientX/this.zoom,position.y=e.clientY/this.zoom}var w,h,c,position,particles,img,shouldDraw;this.canvas=null,this.particle=null,this.on("ready",function(_event){this.is(_event.target)&&(w=this.canvas[0].width=this.game.width(),h=this.canvas[0].height=this.game.height(),c=this.canvas.exec("getContext",["2d"])[0],img=this.particle[0],position={x:w/2,y:h/2},this.start())}),this.start=function(){particles=[],shouldDraw=!0,requestAnimationFrame(draw),this.game.on(pl.EVENT.ACTION_MOVE,handleCursor)},this.stop=function(){shouldDraw=!1,this.game.off(pl.EVENT.ACTION_MOVE,handleCursor)}})},function(module,exports){pl.game.component("title",function(){this.start=function(){this.proto()},this.stop=function(){this.proto()}})},function(module,exports){pl.game.config({screenSelector:".screen",componentDirectory:"components/",dimensions:{width:960,ratio:16/9},shouldLoadComponentStyles:!1})},function(module,exports,__webpack_require__){__webpack_require__(14),__webpack_require__(17),__webpack_require__(8),__webpack_require__(9),__webpack_require__(2),__webpack_require__(13),__webpack_require__(11),__webpack_require__(3),__webpack_require__(4),__webpack_require__(6),__webpack_require__(10),__webpack_require__(5),__webpack_require__(7),__webpack_require__(12),__webpack_require__(1),__webpack_require__(18),__webpack_require__(16),pl.game("fire",function(){var self=this;!function(){function Particle(x,y){this.x=x,this.y=y,this.velY=-2,this.velX=(random(1,10)-5)/10,this.size=random(3,5)/10,this.alpha=1,this.update=function(){this.y+=this.velY,this.x+=this.velX,this.velY*=.99,this.alpha<0&&(this.alpha=0),c.globalAlpha=this.alpha,c.save(),c.translate(this.x,this.y),c.scale(this.size,this.size),c.drawImage(img,-img.width/2,-img.height/2),c.restore(),this.alpha*=.96,this.size+=.02}}var canvas=document.createElement("canvas"),w=canvas.width=960,h=canvas.height=540,c=canvas.getContext("2d"),img=new Image;img.src="http://oi41.tinypic.com/4i2aso.jpg";var position={x:w/2,y:h/2};document.body.appendChild(canvas);var particles=[],random=function random(min,max){return Math.random()*(max-min)*min};document.body.onmousemove=function(e){position.x=e.clientX/self.zoom,position.y=e.clientY/self.zoom};var draw=function draw(){var p=new Particle(position.x,position.y);for(particles.push(p);particles.length>500;)particles.shift();c.globalAlpha=1,c.fillStyle="#000",c.fillRect(0,0,w,h);for(var i=0;i<particles.length;i++)particles[i].update()};setInterval(draw,1e3/60)}();var soundClasses=function soundClasses(){var classes="";this.on("audio-play",function(_event){var id=_event.target.$el[0].id;id&&(id=id.toUpperCase(),this.addClass(id),classes+=" "+id)}),this.on("ui-close",function(){this.removeClass(classes),classes=""})};this.screen("title",function(){this.on("ready",function(_event){this.is(_event.target)&&this.game.iosSplash.state(this.STATE.READY)&&this.game.iosSplash.splash()}),this.on("ui-open",this.complete),this.startAudio=function(){this.title.audio.background.play(),this.title.audio.voiceOver.play()}}),this.screen("info-chemical",soundClasses),this.screen("info-fuel-oxygen",soundClasses),this.screen("alarm",function(){this.ready=function(){this.audio&&this.audio.voiceOver.on("ended",function(_event){"title"===_event.target.id()&&this.audio.voiceOver.directions.play()}.bind(this))},this.pushDown=function(){this.audio&&this.audio.sfx.play(),this.screen.next()}}),this.screen("who",function(){this.entity("slides",function(){this.entity("mc-frame",function(){this.respond("answer",function(_event){_event.message===this.properties.answer&&this.delay("2s",function(){this.screen.next()})}),this.on("ready",function(_event){var sequence="title builder plumber firefighter chef".split(" ");this.is(_event.target)&&this.audio&&this.audio.voiceOver.on("ended",function(_event){var i,next;i=sequence.indexOf(_event.target.id())+1,next=this.audio.voiceOver[sequence[i]],next&&next.play()}.bind(this))})})})}),this.screen("menAndWomen",function(){this.on("ready",function(_event){this.is(_event.target)&&this.audio&&this.audio.voiceOver.on("ended",function(_event){"title"===_event.target.id()&&this.audio.voiceOver.subtitle.play()}.bind(this))})}),this.screen("triangle",function(){this.startAudio=function(){this.dropzone.audio.background.play(),this.dropzone.audio.voiceOver.play()},this.stopAudio=function(){this.dropzone.audio.voiceOver.stop("@ALL")},this.entity("dropzone",function(){this.entity(".area",function(){this.cache=null,this.respond("grab",function(){this.audio.sfx.drag.play(),this.cache={position:this.absolutePosition().dec(this.game.absolutePosition()),size:this.size().scale(this.game.transformScale().x)}}),this.respond("release",function(_event){var point,scale;if(point=1!==(scale=this.game.transformScale().x)?[_event.state.start.point[0]+scale*_event.state.progress.distance[0],_event.state.start.point[1]+scale*_event.state.progress.distance[1]]:_event.state.progress.point,point&&this.isPointInBounds(point)){if(this.audio.voiceOver[_event.state.$draggable.id()]&&this.audio.voiceOver[_event.state.$draggable.id()].play(),this.takes(_event.state.$draggable.id()))return _event.state.$draggable.removeClass("PLUCKED").addClass("COMPLETE").attr("pl-draggable",null),_event.state.$helper.addClass("DROPED"),this.drop(_event.state.$draggable),this.open(this[_event.state.$draggable.id()]),this.open(this[_event.state.$draggable.id()+"Side"]),this.audio.sfx.correct.play(),void(this.isComplete&&this.delay(".75s",function(){this.audio.sfx.complete.play()}));this.audio.sfx.incorrect.play()}_event.state.$helper.addClass("RETURN").css("transform","translateX(0px) translateY(0px)")})}),this.on("ready",function(_event){this.is(_event.target)&&this.audio&&this.audio.voiceOver.on("ended",function(_event){"title"===_event.target.id()&&this.audio.voiceOver.directions.play()}.bind(this))})})}),this.screen("break-triangle",soundClasses),this.screen("dress",function(){this.respond("select",function(_event){if(_event.message){var regexp=new RegExp("(^|\\s)"+_event.message.split("-")[0]+"-\\S+");this.screen.removeClass(function(index,className){return(className.match(regexp)||[]).join(" ")}).addClass(_event.message),this.screen.next()}}),this.entity("slides",function(){this.entity("need",function(){this.entity("dropzone",function(){this.entity(".area",function(){this.cache=null,this.respond("grab",function(){this.audio.sfx.drag.play(),this.cache={position:this.absolutePosition().dec(this.game.absolutePosition()),size:this.size().scale(this.game.transformScale().x)}}),this.respond("release",function(_event){var point,scale;if(point=1!==(scale=this.game.transformScale().x)?[_event.state.start.point[0]+scale*_event.state.progress.distance[0],_event.state.start.point[1]+scale*_event.state.progress.distance[1]]:_event.state.progress.point,point&&this.isPointInBounds(point)){if(this.takes(_event.state.$draggable.id()))return _event.state.$draggable.removeClass("PLUCKED").addClass("COMPLETE").attr("pl-draggable",null),_event.state.$helper.addClass("DROPED"),this.drop(_event.state.$draggable),this.find("."+_event.state.$draggable.id()).addClass("show"),void this.audio.sfx.correct.play();this.audio.sfx.incorrect.play()}_event.state.$helper.addClass("RETURN").css("transform","translateX(0px) translateY(0px)")})})}),this.respond("drop",function(_event){this.modal.item(_event.message)})})})}),this.screen("flip",function(){this.next=function(){this.game.quit.okay()},this.complete=function(_event){var eventCategory=["game",this.game.id(),this.id()+"("+(this.index()+1)+")"].join(" ");return ga("send","event",eventCategory,"complete"),this.proto()}}),this.exit=function(){var screen,eventCategory;return screen=this.findOwn(pl.game.config("screenSelector")+".OPEN:not(#quit)").scope(),eventCategory=["game",this.id(),screen.id()+"("+(screen.index()+1)+")"].join(" "),ga("send","event",eventCategory,"quit"),this.proto()}})},function(module,exports){!function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r,i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src=g,m.parentNode.insertBefore(a,m)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-26000499-1","auto"),ga("send","pageview")},function(module,exports){pl.game.component("screen-ios-splash",function(){this.on("ready",function(_e){this.is(_e.target)&&this.game&&this.game.title.state(this.STATE.READY)&&this.splash()}),this.splash=function(){this.close(this.game.loader),this.game.hasClass("iOS")?(this.open(),this.ball.delay(0,this.ball.open)):this.game.title.open()},this.next=function(){var nextScreen=this.proto();return nextScreen&&(this.screen.leave(),nextScreen.open(),this.game.audio.sfx.button.play()),nextScreen},this.complete=function(){return this.game.audio.sfx.play("screenComplete"),this.proto()},this.startGame=function(){this.hasClass("FINISHED")&&(this.game.addClass("STARTED"),this.delay("2.5s",function(){this.next()}))},this.on("animationend",function(_e){this.ball.is(_e.target)&&this.addClass("FINISHED")})})},function(module,exports){function test(_env){window.parent===window?window.location.href="https://www.changemyworldnow.com/":document.domain="changemyworldnow.com"}}]);
//# sourceMappingURL=ai.js.map