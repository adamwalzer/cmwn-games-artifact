{"version":3,"sources":["webpack:///fire/ai.js","webpack:///webpack/bootstrap 740be2a8a850bbb77983","webpack:///./fire/source/js/components/audio-sequence/behavior.js","webpack:///./fire/source/js/components/background/behavior.js","webpack:///./fire/source/js/components/dropzone/behavior.js","webpack:///./fire/source/js/components/frame/behavior.js","webpack:///./fire/source/js/components/modal/behavior.js","webpack:///./fire/source/js/components/multiple-choice/behavior.js","webpack:///./fire/source/js/components/reveal/behavior.js","webpack:///./fire/source/js/components/screen-basic/behavior.js","webpack:///./fire/source/js/components/screen-quit/behavior.js","webpack:///./fire/source/js/components/selectable/behavior.js","webpack:///./fire/source/js/components/slides/behavior.js","webpack:///./fire/source/js/components/smoke/behavior.js","webpack:///./fire/source/js/components/title/behavior.js","webpack:///./fire/source/js/config.game.js","webpack:///./fire/source/js/index.js","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","pl","game","component","i","sounds","this","on","_event","is","target","find","map","$","data","toArray","audio","next","screen","state","STATE","OPEN","playSound","bind","start","characters","handleProperty","bg","_node","_name","_value","img","Image","src","push","css","entity","cache","respond","sfx","drag","play","position","absolutePosition","dec","size","scale","transformScale","x","point","progress","distance","isPointInBounds","takes","$draggable","removeClass","addClass","attr","$helper","drop","correct","incorrect","init","forEach","_id","require","properties","take","split","arguments","length","indexOf","_point","_y","Point","create","width","y","height","isBoxInBounds","_size","behavior","_$thing","console","log","requiredQueue","ready","message","behaviorTarget","rule","response","config","stop","isReady","targetScope","hasOwnProperty","isComplete","complete","item","select","reveal","close","shouldProceed","deselect","validateAnswer","_scope","answers","String","getSelected","index","$li","event","closest","vo","eq","voiceOver","isMemberSafe","util","resolvePath","PLAYING","VOICE_OVER","demoMode","_sound","delay","media","current","nextScreen","buttonSound","hasClass","quit","okay","trace","slides","isComponent","proto","leave","open","prev","prevScreen","entities","startAudio","_entity","stopAudio","kill","screenComplete","completed","gameClass","n","LEAVE","pause","resume","exit","cancel","_target","$target","shouldSelect","scope","nextSlide","prevSlide","Particle","velY","velX","random","alpha","update","globalAlpha","save","translate","drawImage","restore","min","max","Math","draw","particles","shift","fillStyle","fillRect","w","h","shouldDraw","requestAnimationFrame","handleCursor","e","clientX","zoom","clientY","canvas","particle","exec","EVENT","ACTION_MOVE","off","screenSelector","componentDirectory","dimensions","ratio","shouldLoadComponentStyles","self","document","createElement","getContext","body","appendChild","onmousemove","setInterval","soundClasses","classes","$el","toUpperCase","iosSplash","READY","splash","title","background","directions","pushDown","answer","sequence","subtitle","dropzone","regexp","RegExp","className","match","join","modal","eventCategory","ga","findOwn","s","o","g","r","a","q","l","Date","getElementsByTagName","async","parentNode","insertBefore","window","_e","loader","ball","button","startGame","test","_env","parent","location","href","domain"],"mappings":"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","file":"fire/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(15);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tpl.game.component('audio-sequence', function () {\n\t\tvar i, sounds;\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\tsounds = this.find('audio').map(function () {\n\t\t\t\treturn $(this).data('context');\n\t\t\t}).toArray();\n\t\n\t\t\tthis.audio.on('ended', (function (_event) {\n\t\t\t\tvar next = sounds[i++];\n\t\t\t\tif (next && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound(next);\n\t\t\t}).bind(this));\n\t\t});\n\t\n\t\tthis.start = function () {\n\t\t\ti = 1;\n\t\t\tif (sounds[0] && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound(sounds[0]);\n\t\t};\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('background', function () {\n\t\tvar characters;\n\t\t/**\n\t  * Nodes, including the node of this screen, with a\n\t  * attribute of pl-bg will get a background-image style\n\t  * and the resource preloaded and collected for watching.\n\t  */\n\t\tthis.handleProperty({\n\t\t\tbg: function bg(_node, _name, _value) {\n\t\t\t\tvar img = new Image();\n\t\t\t\tcharacters = characters || [];\n\t\n\t\t\t\timg.src = _value;\n\t\t\t\tcharacters.push(img);\n\t\t\t\t$(_node).css('background-image', 'url(' + _value + ')');\n\t\t\t}\n\t\t});\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tpl.game.component('dropzone', function () {\n\t\n\t\tthis.entity('.area', function () {\n\t\n\t\t\tthis.cache = null;\n\t\n\t\t\tthis.respond('grab', function () {\n\t\t\t\tthis.audio.sfx.drag.play();\n\t\t\t\tthis.cache = {\n\t\t\t\t\tposition: this.absolutePosition().dec(this.game.absolutePosition()),\n\t\t\t\t\tsize: this.size().scale(this.game.transformScale().x)\n\t\t\t\t};\n\t\t\t});\n\t\n\t\t\tthis.respond('release', function (_event) {\n\t\t\t\tvar point, scale;\n\t\n\t\t\t\tif ((scale = this.game.transformScale().x) !== 1) {\n\t\t\t\t\tpoint = [_event.state.start.point[0] + scale * _event.state.progress.distance[0], _event.state.start.point[1] + scale * _event.state.progress.distance[1]];\n\t\t\t\t} else {\n\t\t\t\t\tpoint = _event.state.progress.point;\n\t\t\t\t}\n\t\n\t\t\t\tif (point && this.isPointInBounds(point)) {\n\t\t\t\t\tif (this.takes(_event.state.$draggable.id())) {\n\t\t\t\t\t\t_event.state.$draggable.removeClass('PLUCKED').addClass('COMPLETE').attr('pl-draggable', null);\n\t\t\t\t\t\t_event.state.$helper.addClass('DROPED');\n\t\n\t\t\t\t\t\tthis.drop(_event.state.$draggable);\n\t\t\t\t\t\tthis.audio.sfx.correct.play();\n\t\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.audio.sfx.incorrect.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t_event.state.$helper.addClass('RETURN').css('transform', 'translateX(0px) translateY(0px)');\n\t\t\t});\n\t\t});\n\t\n\t\tthis.init = function () {\n\t\t\tthis.takes().forEach(this.bind(function (_id) {\n\t\t\t\tthis.require(_id);\n\t\t\t}));\n\t\t};\n\t\n\t\tthis.takes = function (_id) {\n\t\t\tvar takes = this.properties.take.split(/\\s+/);\n\t\t\treturn arguments.length ? !! ~takes.indexOf(_id) : takes;\n\t\t};\n\t\n\t\tthis.isPointInBounds = function (_point, _y) {\n\t\t\tvar point;\n\t\n\t\t\tpoint = pl.Point.create(arguments);\n\t\n\t\t\tif (point.x >= this.cache.position.x && point.x <= this.cache.position.x + this.cache.size.width) {\n\t\t\t\tif (point.y >= this.cache.position.y && point.y <= this.cache.position.y + this.cache.size.height) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t};\n\t\n\t\tthis.isBoxInBounds = function (_point, _size) {\n\t\t\t// comming soon!\n\t\t};\n\t\n\t\tthis.behavior('drop', function (_$thing) {\n\t\t\tconsole.log('*** In bounds!!', _$thing.id());\n\t\n\t\t\tthis.requiredQueue.ready(_$thing.id());\n\t\n\t\t\treturn {\n\t\t\t\tmessage: _$thing.id(),\n\t\t\t\tbehaviorTarget: _$thing\n\t\t\t};\n\t\t});\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('frame', function () {\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tif (this.is(_event.target) && this.audio) {\n\t\t\t\tthis.audio.rule('.voiceOver', 'shouldPlay', function (_event) {\n\t\t\t\t\t_event.response(!_event.target.config(\"dontautoplay\"));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\n\t\tthis.start = function () {\n\t\t\tthis.log('start');\n\t\t\treturn this.screen.start.call(this);\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\treturn this.screen.stop.call(this);\n\t\t};\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (this.isReady) {\n\t\t\t\tthis.start();\n\t\t\t}\n\t\n\t\t\tif (this === _event.targetScope) {\n\t\t\t\tif (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && this.requiredQueue && this.requiredQueue.length)) {\n\t\t\t\t\tthis.complete();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('modal', function () {\n\t\n\t\tthis.item = function (_id) {\n\t\t\tthis.select(this);\n\t\t\tthis.reveal.item(_id);\n\t\t};\n\t\n\t\tthis.close = function () {\n\t\t\tif (this.screen.shouldProceed()) {\n\t\t\t\tthis.deselect(this);\n\t\t\t}\n\t\t};\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t\tfunction validateAnswer(_scope) {\n\t\t\tvar answers;\n\t\n\t\t\tif (_scope.properties.correct) {\n\t\t\t\tanswers = _scope.properties.correct.split(/\\s*,\\s*/);\n\t\n\t\t\t\tif (~answers.indexOf(String(_scope.getSelected().index()))) {\n\t\t\t\t\tif (_scope.audio.sfx.correct) _scope.audio.sfx.correct.play();\n\t\t\t\t\t_scope.complete();\n\t\t\t\t} else {\n\t\t\t\t\tif (_scope.audio.sfx.incorrect) _scope.audio.sfx.incorrect.play();\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t}\n\t\n\t\tthis.behavior('answer', function () {\n\t\t\tvar $li;\n\t\t\tif (this.event) {\n\t\t\t\t$li = $(this.event.target).closest('li');\n\t\n\t\t\t\tif (!this.isComplete && this.select($li)) {\n\t\t\t\t\tvalidateAnswer(this);\n\t\t\t\t}\n\t\n\t\t\t\treturn {\n\t\t\t\t\tbehaviorTarget: $li,\n\t\t\t\t\tmessage: $li.id()\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t});\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t\tthis.item = function (_id) {\n\t\t\tvar vo, index;\n\t\t\tconsole.log(this);\n\t\n\t\t\tif (typeof _id === 'number') {\n\t\t\t\tthis.select(this.find('li').eq(_id));\n\t\t\t\tthis.audio.voiceOver[_id].play();\n\t\t\t} else if (typeof _id === 'string') {\n\t\t\t\tif (this[_id]) {\n\t\t\t\t\tthis.select(this[_id]);\n\t\n\t\t\t\t\tif (this.audio) {\n\t\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t\t\t\t\t\tif (vo) vo.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tif (this.is(_event.target) && this.audio) {\n\t\t\t\tthis.audio.rule('.voiceOver', 'shouldPlay', function (_event) {\n\t\t\t\t\t_event.response(!_event.target.config(\"dontautoplay\"));\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\t\tvar sfx;\n\t\n\t\t\t\t\tsfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t\t\t\t\tif (sfx) sfx.play();\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\t\n\t\tthis.shouldProceed = function () {\n\t\t\treturn !this.state(this.STATE.PLAYING) && !this.state(this.STATE.VOICE_OVER) || this.game.demoMode;\n\t\t};\n\t\n\t\tthis.playSound = function (_sound) {\n\t\t\tvar delay;\n\t\n\t\t\tdelay = $(_sound.media).attr('pl-start');\n\t\n\t\t\tif (delay) {\n\t\t\t\treturn this.delay(delay, _sound.play.bind(_sound));\n\t\t\t} else {\n\t\t\t\treturn _sound.play();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar current, nextScreen, buttonSound;\n\t\n\t\t\tif (this.hasClass('last') && this.hasClass('COMPLETE')) this.game.quit.okay();\n\t\n\t\t\tif (this !== this.screen) {\n\t\t\t\tthis.log('Not called on a screen');\n\t\t\t\tconsole.trace();\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\t// delegate to a child \"slides\" component.\n\t\t\tif (this.slides && this.slides.isComponent) {\n\t\t\t\tcurrent = this.slides.current();\n\t\t\t\tnextScreen = current.next();\n\t\n\t\t\t\tif (nextScreen == null) {\n\t\t\t\t\tcurrent = this;\n\t\t\t\t\tnextScreen = this.proto();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrent = this;\n\t\t\t\tnextScreen = this.proto();\n\t\t\t}\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tcurrent.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.prev = function () {\n\t\t\tvar current, prevScreen, buttonSound;\n\t\n\t\t\tif (this !== this.screen) {\n\t\t\t\tthis.log('Not called on a screen');\n\t\t\t\tconsole.trace();\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\t// delegate to a child \"slides\" component.\n\t\t\tif (this.slides && this.slides.isComponent) {\n\t\t\t\tcurrent = this.slides.current();\n\t\t\t\tprevScreen = current.prev();\n\t\n\t\t\t\tif (prevScreen == null) {\n\t\t\t\t\tcurrent = this;\n\t\t\t\t\tprevScreen = this.proto();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrent = this;\n\t\t\t\tprevScreen = this.proto();\n\t\t\t}\n\t\n\t\t\tif (prevScreen) {\n\t\t\t\tcurrent.close();\n\t\t\t\tprevScreen.open();\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\t\t}\n\t\n\t\t\treturn prevScreen;\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tvar entities = this.hasOwnProperty('entities') && this.entities;\n\t\n\t\t\tthis.startAudio();\n\t\t\tif (this.audio) this.audio.sfx.play('start');\n\t\n\t\t\tif (entities) {\n\t\t\t\tentities.forEach(function (_entity) {\n\t\t\t\t\tif (_entity.isMemberSafe('start')) _entity.start();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tvar entities = this.hasOwnProperty('entities') && this.entities;\n\t\n\t\t\tthis.stopAudio();\n\t\t\tthis.kill('delay');\n\t\n\t\t\tif (entities) {\n\t\t\t\tentities.forEach(function (_entity) {\n\t\t\t\t\tif (_entity.isMemberSafe('start')) _entity.stop();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.screenComplete.play();\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (this.isReady && this.is(_event.target)) this.start();\n\t\t\tif (this.completed()) this.complete();\n\t\n\t\t\tif (this.properties.gameClass) {\n\t\t\t\tthis.game.addClass(this.properties.gameClass);\n\t\t\t}\n\t\n\t\t\tif (this.properties.sfx) {\n\t\t\t\tvar sfx = this.properties.sfx.split(\" \");\n\t\t\t\tfor (var i = 0, n = sfx.length; i < n; i++) {\n\t\t\t\t\tif (this.audio.sfx[sfx[i]]) this.playSound(this.audio.sfx[sfx[i]]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-leave ui-close', function (_event) {\n\t\t\tif (this.properties.gameClass) {\n\t\t\t\tthis.game.removeClass(this.properties.gameClass);\n\t\t\t}\n\t\n\t\t\tif (this.isReady && this.is(_event.target)) this.stop();\n\t\t});\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t\tvar characters;\n\t\t/**\n\t  * Nodes, including the node of this screen, with a\n\t  * attribute of pl-bg will get a background-image style\n\t  * and the resource preloaded and collected for watching.\n\t  */\n\t\tthis.handleProperty({\n\t\t\tbg: function bg(_node, _name, _value) {\n\t\t\t\tvar img = new Image();\n\t\t\t\tcharacters = characters || [];\n\t\n\t\t\t\timg.src = _value;\n\t\t\t\tcharacters.push(img);\n\t\t\t\t$(_node).css('background-image', 'url(' + _value + ')');\n\t\t\t}\n\t\t});\n\t\n\t\t// TODO: Make an automated way to handle this\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\t\tthis.addClass('LEAVE-END');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tthis.game.addClass('QUIT-SCREEN');\n\t\t\tthis.removeClass('LEAVE-END');\n\t\t\tthis.game.pause(true);\n\t\t});\n\t\n\t\tthis.on('ui-leave', function () {\n\t\t\tthis.game.removeClass('QUIT-SCREEN');\n\t\t\tthis.game.resume();\n\t\t});\n\t\n\t\tthis.init = function () {\n\t\t\tthis.addClass('LEAVE LEAVE-END');\n\t\t};\n\t\n\t\tthis.okay = function () {\n\t\t\tthis.game.exit();\n\t\t};\n\t\n\t\tthis.cancel = function () {\n\t\t\tthis.leave();\n\t\t};\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t\tthis.behavior('select', function (_target) {\n\t\t\tvar $target;\n\t\n\t\t\tif (this.event) {\n\t\t\t\t$target = $(this.event.target).closest('li');\n\t\n\t\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: $target.id(),\n\t\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.proto(_target);\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t});\n\t\n\t\tthis.shouldSelect = function (_target) {\n\t\t\treturn true;\n\t\t};\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('slides', function () {\n\t\n\t\tthis.slides = null;\n\t\n\t\tthis.ready = function () {\n\t\t\tthis.slides = this.find('> *').scope();\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tvar current, i, n;\n\t\n\t\t\tcurrent = this.current();\n\t\n\t\t\tif (current) {\n\t\t\t\tcurrent.start();\n\t\t\t} else if (this.slides.length) {\n\t\t\t\tthis.slides[0].open();\n\t\t\t\tfor (i = 1, n = this.slides.length; i < n; i++) {\n\t\t\t\t\tthis.slides[i] && this.slides[i].close();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tthis.current = function () {\n\t\t\treturn this.find('> .OPEN').scope();\n\t\t};\n\t\n\t\t/*\n\t  * @this {frame-component-scope} called by the next button in a frame component.\n\t  */\n\t\tthis.next = function () {\n\t\t\tvar index, nextSlide, buttonSound;\n\t\n\t\t\tif (!this.completed()) return false;\n\t\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\t\tindex = this.slides.indexOf(this);\n\t\t\tif (~index) return this.slides[index + 1];\n\t\n\t\t\tif (~index) nextSlide = this.slides[index + 1];\n\t\n\t\t\tif (nextSlide) {\n\t\t\t\tthis.leave();\n\t\t\t\tnextSlide.open();\n\t\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\n\t\t\t\treturn nextSlide;\n\t\t\t} else {\n\t\t\t\treturn this.proto();\n\t\t\t}\n\t\t};\n\t\n\t\t/*\n\t  * @this {frame-component-scope} called by the next button in a frame component.\n\t  */\n\t\tthis.prev = function () {\n\t\t\tvar index, prevSlide, buttonSound;\n\t\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\t\tindex = this.slides.indexOf(this);\n\t\t\tif (~index) return this.slides[index - 1];\n\t\n\t\t\tif (~index) prevSlide = this.slides[index - 1];\n\t\n\t\t\tif (prevSlide) {\n\t\t\t\tthis.close();\n\t\t\t\tprevSlide.open();\n\t\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\n\t\t\t\treturn prevSlide;\n\t\t\t} else {\n\t\t\t\treturn this.proto();\n\t\t\t}\n\t\t};\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t/**\n\t * the following is the mouse smoke js\n\t */\n\tpl.game.component('smoke', function () {\n\t\tvar w, h, c, position, particles, img, shouldDraw;\n\t\n\t\tfunction Particle(x, y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.velY = -2;\n\t\t\tthis.velX = (random(1, 10) - 5) / 10;\n\t\t\tthis.size = random(3, 5) / 10;\n\t\t\tthis.alpha = 1;\n\t\t\tthis.update = function () {\n\t\t\t\tthis.y += this.velY;\n\t\t\t\tthis.x += this.velX;\n\t\t\t\tthis.velY *= 0.99;\n\t\t\t\tif (this.alpha < 0) this.alpha = 0;\n\t\t\t\tc.globalAlpha = this.alpha;\n\t\t\t\tc.save();\n\t\t\t\tc.translate(this.x, this.y);\n\t\t\t\tc.scale(this.size, this.size);\n\t\t\t\tc.drawImage(img, -img.width / 2, -img.height / 2);\n\t\t\t\tc.restore();\n\t\t\t\tthis.alpha *= 0.96;\n\t\t\t\tthis.size += 0.02;\n\t\t\t};\n\t\t}\n\t\n\t\tfunction random(min, max) {\n\t\t\treturn Math.random() * (max - min) * min;\n\t\t}\n\t\n\t\tfunction draw() {\n\t\t\tvar p = new Particle(position.x, position.y);\n\t\t\tparticles.push(p);\n\t\n\t\t\twhile (particles.length > 500) particles.shift();\n\t\n\t\t\tc.globalAlpha = 1;\n\t\t\tc.fillStyle = '#000';\n\t\t\tc.fillRect(0, 0, w, h);\n\t\n\t\t\tfor (var i = 0; i < particles.length; i++) {\n\t\t\t\tparticles[i].update();\n\t\t\t}\n\t\n\t\t\tif (shouldDraw) requestAnimationFrame(draw);\n\t\t}\n\t\n\t\tfunction handleCursor(e) {\n\t\t\tposition.x = e.clientX / this.zoom;\n\t\t\tposition.y = e.clientY / this.zoom;\n\t\t}\n\t\n\t\tthis.canvas = null;\n\t\tthis.particle = null;\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\tw = this.canvas[0].width = this.game.width(), h = this.canvas[0].height = this.game.height();\n\t\t\tc = this.canvas.exec('getContext', ['2d'])[0];\n\t\t\timg = this.particle[0];\n\t\t\tposition = { x: w / 2, y: h / 2 };\n\t\n\t\t\tthis.start();\n\t\t});\n\t\n\t\tthis.start = function () {\n\t\t\tparticles = [];shouldDraw = true;\n\t\t\trequestAnimationFrame(draw);\n\t\t\tthis.game.on(pl.EVENT.ACTION_MOVE, handleCursor);\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tshouldDraw = false;\n\t\t\tthis.game.off(pl.EVENT.ACTION_MOVE, handleCursor);\n\t\t};\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tpl.game.component('title', function () {\n\t\tthis.start = function () {\n\t\t\tthis.proto();\n\t\t};\n\t\tthis.stop = function () {\n\t\t\tthis.proto();\n\t\t};\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t\tscreenSelector: '.screen',\n\t\tcomponentDirectory: 'components/',\n\t\tdimensions: {\n\t\t\twidth: 960,\n\t\t\tratio: 16 / 9\n\t\t},\n\t\tshouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t\n\t__webpack_require__(14);\n\t\n\t__webpack_require__(17);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(13);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(12);\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(18);\n\t\n\t__webpack_require__(16);\n\t\n\tpl.game('fire', function () {\n\t\n\t\tvar self = this;\n\t\n\t\t// the following is the mouse smoke js\n\t\t(function () {\n\t\t\tvar canvas = document.createElement('canvas');\n\t\t\tvar w = canvas.width = 960,\n\t\t\t    h = canvas.height = 540;\n\t\t\tvar c = canvas.getContext('2d');\n\t\n\t\t\tvar img = new Image();\n\t\t\timg.src = 'http://oi41.tinypic.com/4i2aso.jpg';\n\t\n\t\t\tvar position = { x: w / 2, y: h / 2 };\n\t\n\t\t\tdocument.body.appendChild(canvas);\n\t\n\t\t\tvar particles = [];\n\t\t\tvar random = function random(min, max) {\n\t\t\t\treturn Math.random() * (max - min) * min;\n\t\t\t};\n\t\n\t\t\tdocument.body.onmousemove = function (e) {\n\t\t\t\tposition.x = e.clientX / self.zoom;\n\t\t\t\tposition.y = e.clientY / self.zoom;\n\t\t\t};\n\t\t\tfunction Particle(x, y) {\n\t\t\t\tthis.x = x;\n\t\t\t\tthis.y = y;\n\t\t\t\tthis.velY = -2;\n\t\t\t\tthis.velX = (random(1, 10) - 5) / 10;\n\t\t\t\tthis.size = random(3, 5) / 10;\n\t\t\t\tthis.alpha = 1;\n\t\t\t\tthis.update = function () {\n\t\t\t\t\tthis.y += this.velY;\n\t\t\t\t\tthis.x += this.velX;\n\t\t\t\t\tthis.velY *= 0.99;\n\t\t\t\t\tif (this.alpha < 0) this.alpha = 0;\n\t\t\t\t\tc.globalAlpha = this.alpha;\n\t\t\t\t\tc.save();\n\t\t\t\t\tc.translate(this.x, this.y);\n\t\t\t\t\tc.scale(this.size, this.size);\n\t\t\t\t\tc.drawImage(img, -img.width / 2, -img.height / 2);\n\t\t\t\t\tc.restore();\n\t\t\t\t\tthis.alpha *= 0.96;\n\t\t\t\t\tthis.size += 0.02;\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\tvar draw = function draw() {\n\t\t\t\tvar p = new Particle(position.x, position.y);\n\t\t\t\tparticles.push(p);\n\t\n\t\t\t\twhile (particles.length > 500) particles.shift();\n\t\n\t\t\t\tc.globalAlpha = 1;\n\t\t\t\tc.fillStyle = '#000';\n\t\t\t\tc.fillRect(0, 0, w, h);\n\t\n\t\t\t\tfor (var i = 0; i < particles.length; i++) {\n\t\t\t\t\tparticles[i].update();\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tsetInterval(draw, 1000 / 60);\n\t\t})();\n\t\t// end of the mouse smoke js\n\t\n\t\tvar soundClasses = function soundClasses() {\n\t\t\tvar classes = \"\";\n\t\n\t\t\tthis.on('audio-play', function (_event) {\n\t\t\t\tvar id = _event.target.$el[0].id;\n\t\t\t\tif (id) {\n\t\t\t\t\tid = id.toUpperCase();\n\t\t\t\t\tthis.addClass(id);\n\t\t\t\t\tclasses += \" \" + id;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.on('ui-close', function () {\n\t\t\t\tthis.removeClass(classes);\n\t\t\t\tclasses = \"\";\n\t\t\t});\n\t\t};\n\t\n\t\tthis.screen('title', function () {\n\t\n\t\t\tthis.on('ready', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\t\tif (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t\t\t});\n\t\n\t\t\tthis.on('ui-open', this.complete);\n\t\n\t\t\tthis.startAudio = function () {\n\t\t\t\tthis.title.audio.background.play();\n\t\t\t\tthis.title.audio.voiceOver.play();\n\t\t\t};\n\t\t});\n\t\n\t\tthis.screen('info-chemical', soundClasses);\n\t\tthis.screen('info-fuel-oxygen', soundClasses);\n\t\n\t\tthis.screen('alarm', function () {\n\t\n\t\t\tthis.ready = function () {\n\t\t\t\tif (this.audio) {\n\t\t\t\t\tthis.audio.voiceOver.on('ended', (function (_event) {\n\t\t\t\t\t\tif (_event.target.id() === 'title') this.audio.voiceOver.directions.play();\n\t\t\t\t\t}).bind(this));\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.pushDown = function () {\n\t\t\t\tif (this.audio) this.audio.sfx.play();\n\t\t\t\tthis.screen.next();\n\t\t\t};\n\t\t});\n\t\n\t\tthis.screen('who', function () {\n\t\n\t\t\tthis.entity('slides', function () {\n\t\n\t\t\t\tthis.entity('mc-frame', function () {\n\t\n\t\t\t\t\tthis.respond('answer', function (_event) {\n\t\t\t\t\t\tif (_event.message === this.properties.answer) {\n\t\t\t\t\t\t\tthis.delay('2s', function () {\n\t\t\t\t\t\t\t\tthis.screen.next();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\tthis.on('ready', function (_event) {\n\t\t\t\t\t\tvar sequence = 'title builder plumber firefighter chef'.split(' ');\n\t\n\t\t\t\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\t\t\t\tif (this.audio) {\n\t\t\t\t\t\t\tthis.audio.voiceOver.on('ended', (function (_event) {\n\t\t\t\t\t\t\t\tvar i, next;\n\t\n\t\t\t\t\t\t\t\ti = sequence.indexOf(_event.target.id()) + 1;\n\t\t\t\t\t\t\t\tnext = this.audio.voiceOver[sequence[i]];\n\t\n\t\t\t\t\t\t\t\tif (next) next.play();\n\t\t\t\t\t\t\t}).bind(this));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('menAndWomen', function () {\n\t\n\t\t\tthis.on('ready', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\t\tif (this.audio) {\n\t\t\t\t\tthis.audio.voiceOver.on('ended', (function (_event) {\n\t\t\t\t\t\tif (_event.target.id() === 'title') this.audio.voiceOver.subtitle.play();\n\t\t\t\t\t}).bind(this));\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('triangle', function () {\n\t\n\t\t\tthis.startAudio = function () {\n\t\t\t\tthis.dropzone.audio.background.play();\n\t\t\t\tthis.dropzone.audio.voiceOver.play();\n\t\t\t};\n\t\n\t\t\tthis.stopAudio = function () {\n\t\t\t\tthis.dropzone.audio.voiceOver.stop('@ALL');\n\t\t\t};\n\t\n\t\t\tthis.entity('dropzone', function () {\n\t\n\t\t\t\tthis.entity('.area', function () {\n\t\n\t\t\t\t\tthis.cache = null;\n\t\n\t\t\t\t\tthis.respond('grab', function () {\n\t\t\t\t\t\tthis.audio.sfx.drag.play();\n\t\t\t\t\t\tthis.cache = {\n\t\t\t\t\t\t\tposition: this.absolutePosition().dec(this.game.absolutePosition()),\n\t\t\t\t\t\t\tsize: this.size().scale(this.game.transformScale().x)\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\n\t\t\t\t\tthis.respond('release', function (_event) {\n\t\t\t\t\t\tvar point, scale;\n\t\n\t\t\t\t\t\tif ((scale = this.game.transformScale().x) !== 1) {\n\t\t\t\t\t\t\tpoint = [_event.state.start.point[0] + scale * _event.state.progress.distance[0], _event.state.start.point[1] + scale * _event.state.progress.distance[1]];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpoint = _event.state.progress.point;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (point && this.isPointInBounds(point)) {\n\t\n\t\t\t\t\t\t\tif (this.audio.voiceOver[_event.state.$draggable.id()]) this.audio.voiceOver[_event.state.$draggable.id()].play();\n\t\n\t\t\t\t\t\t\tif (this.takes(_event.state.$draggable.id())) {\n\t\t\t\t\t\t\t\t_event.state.$draggable.removeClass('PLUCKED').addClass('COMPLETE').attr('pl-draggable', null);\n\t\t\t\t\t\t\t\t_event.state.$helper.addClass('DROPED');\n\t\n\t\t\t\t\t\t\t\tthis.drop(_event.state.$draggable);\n\t\t\t\t\t\t\t\tthis.open(this[_event.state.$draggable.id()]);\n\t\t\t\t\t\t\t\tthis.open(this[_event.state.$draggable.id() + 'Side']);\n\t\t\t\t\t\t\t\tthis.audio.sfx.correct.play();\n\t\t\t\t\t\t\t\tif (this.isComplete) {\n\t\t\t\t\t\t\t\t\tthis.delay('.75s', function () {\n\t\t\t\t\t\t\t\t\t\tthis.audio.sfx.complete.play();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.audio.sfx.incorrect.play();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t_event.state.$helper.addClass('RETURN').css('transform', 'translateX(0px) translateY(0px)');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\n\t\t\t\tthis.on('ready', function (_event) {\n\t\t\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\t\t\tif (this.audio) {\n\t\t\t\t\t\tthis.audio.voiceOver.on('ended', (function (_event) {\n\t\t\t\t\t\t\tif (_event.target.id() === 'title') this.audio.voiceOver.directions.play();\n\t\t\t\t\t\t}).bind(this));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('break-triangle', soundClasses);\n\t\n\t\tthis.screen('dress', function () {\n\t\t\tthis.respond('select', function (_event) {\n\t\t\t\t// this removes any screen class that starts with the same thing as the event message\n\t\t\t\t// and then adds the event message as a class to the screen\n\t\t\t\tif (!_event.message) return;\n\t\t\t\tvar regexp = new RegExp(\"(^|\\\\s)\" + _event.message.split(\"-\")[0] + \"-\\\\S+\");\n\t\t\t\tthis.screen.removeClass(function (index, className) {\n\t\t\t\t\treturn (className.match(regexp) || []).join(' ');\n\t\t\t\t}).addClass(_event.message);\n\t\t\t\tthis.screen.next();\n\t\t\t});\n\t\n\t\t\tthis.entity('slides', function () {\n\t\n\t\t\t\tthis.entity('need', function () {\n\t\n\t\t\t\t\tthis.entity('dropzone', function () {\n\t\n\t\t\t\t\t\tthis.entity('.area', function () {\n\t\n\t\t\t\t\t\t\tthis.cache = null;\n\t\n\t\t\t\t\t\t\tthis.respond('grab', function () {\n\t\t\t\t\t\t\t\tthis.audio.sfx.drag.play();\n\t\t\t\t\t\t\t\tthis.cache = {\n\t\t\t\t\t\t\t\t\tposition: this.absolutePosition().dec(this.game.absolutePosition()),\n\t\t\t\t\t\t\t\t\tsize: this.size().scale(this.game.transformScale().x)\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t\tthis.respond('release', function (_event) {\n\t\t\t\t\t\t\t\tvar point, scale;\n\t\n\t\t\t\t\t\t\t\tif ((scale = this.game.transformScale().x) !== 1) {\n\t\t\t\t\t\t\t\t\tpoint = [_event.state.start.point[0] + scale * _event.state.progress.distance[0], _event.state.start.point[1] + scale * _event.state.progress.distance[1]];\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tpoint = _event.state.progress.point;\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\tif (point && this.isPointInBounds(point)) {\n\t\n\t\t\t\t\t\t\t\t\tif (this.takes(_event.state.$draggable.id())) {\n\t\t\t\t\t\t\t\t\t\t_event.state.$draggable.removeClass('PLUCKED').addClass('COMPLETE').attr('pl-draggable', null);\n\t\t\t\t\t\t\t\t\t\t_event.state.$helper.addClass('DROPED');\n\t\n\t\t\t\t\t\t\t\t\t\tthis.drop(_event.state.$draggable);\n\t\t\t\t\t\t\t\t\t\tthis.find('.' + _event.state.$draggable.id()).addClass('show');\n\t\t\t\t\t\t\t\t\t\tthis.audio.sfx.correct.play();\n\t\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.audio.sfx.incorrect.play();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t_event.state.$helper.addClass('RETURN').css('transform', 'translateX(0px) translateY(0px)');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\n\t\t\t\t\tthis.respond('drop', function (_event) {\n\t\t\t\t\t\tthis.modal.item(_event.message);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('flip', function () {\n\t\t\tthis.next = function () {\n\t\t\t\tthis.game.quit.okay();\n\t\t\t};\n\t\n\t\t\tthis.complete = function (_event) {\n\t\t\t\tvar eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t\n\t\t\t\tga('send', 'event', eventCategory, 'complete');\n\t\n\t\t\t\treturn this.proto();\n\t\t\t};\n\t\t});\n\t\n\t\tthis.exit = function () {\n\t\t\tvar screen, eventCategory;\n\t\n\t\t\tscreen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t\t\teventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t\t\tga('send', 'event', eventCategory, 'quit');\n\t\n\t\t\treturn this.proto();\n\t\t};\n\t});\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\t\tthis.splash();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.splash = function () {\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tif (this.game.hasClass('iOS')) {\n\t\t\t\tthis.open();\n\t\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t\t} else {\n\t\t\t\tthis.game.title.open();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen = this.proto();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tthis.game.audio.sfx.button.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.play('screenComplete');\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.startGame = function () {\n\t\t\tif (!this.hasClass('FINISHED')) return;\n\t\t\tthis.game.addClass('STARTED');\n\t\t\tthis.delay('2.5s', function () {\n\t\t\t\tthis.next();\n\t\t\t});\n\t\t};\n\t\n\t\tthis.on('animationend', function (_e) {\n\t\t\tif (!this.ball.is(_e.target)) return;\n\t\t\tthis.addClass('FINISHED');\n\t\t});\n\t});\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tfunction test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t}\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** fire/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 740be2a8a850bbb77983\n **/","pl.game.component('audio-sequence', function () {\n\tvar i, sounds;\n\n\tthis.on('ready', function (_event) {\n\t\tif (!this.is(_event.target)) return;\n\n\t\tsounds = this.find('audio').map(function () {\n\t\t\treturn $(this).data('context');\n\t\t}).toArray();\n\n\t\tthis.audio.on('ended', function (_event) {\n\t\t\tvar next = sounds[i++];\n\t\t\tif (next && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound(next);\n\t\t}.bind(this));\n\t});\n\n\tthis.start = function() {\n\t\ti = 1;\n\t\tif(sounds[0] && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound(sounds[0]);\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/audio-sequence/behavior.js\n **/","pl.game.component('background', function () {\n\tvar characters;\n\t/**\n\t * Nodes, including the node of this screen, with a\n\t * attribute of pl-bg will get a background-image style\n\t * and the resource preloaded and collected for watching.\n\t */\n\tthis.handleProperty({\n\t\tbg: function (_node, _name, _value) {\n\t\t\tvar img = new Image();\n\t\t\tcharacters = characters || [];\n\n\t\t\timg.src = _value;\n\t\t\tcharacters.push(img);\n\t\t\t$(_node).css('background-image', 'url('+_value+')');\n\t\t}\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/background/behavior.js\n **/","pl.game.component('dropzone', function () {\n\t\t\n\tthis.entity('.area', function () {\n\t\t\n\t\tthis.cache = null;\n\n\t\tthis.respond('grab', function () {\n\t\t\tthis.audio.sfx.drag.play();\n\t\t\tthis.cache = {\n\t\t\t\tposition: this.absolutePosition().dec(this.game.absolutePosition()),\n\t\t\t\tsize: this.size().scale(this.game.transformScale().x)\n\t\t\t};\n\t\t});\n\n\t\tthis.respond('release', function (_event) {\n\t\t\tvar point, scale;\n\n\t\t\tif((scale = this.game.transformScale().x) !== 1) {\n\t\t\t\tpoint = [\n\t\t\t\t\t\t\t_event.state.start.point[0] + scale * _event.state.progress.distance[0],\n\t\t\t\t\t\t\t_event.state.start.point[1] + scale * _event.state.progress.distance[1]\n\t\t\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tpoint = _event.state.progress.point;\n\t\t\t}\n\n\t\t\tif (point && this.isPointInBounds(point)) {\n\t\t\t\tif (this.takes(_event.state.$draggable.id())) {\n\t\t\t\t\t_event.state.$draggable.removeClass('PLUCKED').addClass('COMPLETE').attr('pl-draggable',null);\n\t\t\t\t\t_event.state.$helper.addClass('DROPED');\n\t\t\t\t\t\n\t\t\t\t\tthis.drop(_event.state.$draggable);\n\t\t\t\t\tthis.audio.sfx.correct.play();\n\t\t\t\t\t\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\telse {\n\t\t\t\t\tthis.audio.sfx.incorrect.play()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_event.state.$helper.addClass('RETURN').css('transform', 'translateX(0px) translateY(0px)');\n\t\t});\n\n\t});\n\n\tthis.init = function () {\n\t\tthis.takes().forEach(this.bind(function (_id) {\n\t\t\tthis.require(_id);\n\t\t}));\n\t};\n\n\tthis.takes = function (_id) {\n\t\tvar takes = this.properties.take.split(/\\s+/);\n\t\treturn arguments.length ? !!~takes.indexOf(_id) : takes;\n\t};\n\n\tthis.isPointInBounds = function (_point, _y) {\n\t\tvar point;\n\n\t\tpoint = pl.Point.create(arguments);\n\n\t\tif (point.x >= this.cache.position.x && point.x <= this.cache.position.x+this.cache.size.width) {\n\t\t\tif (point.y >= this.cache.position.y && point.y <= this.cache.position.y+this.cache.size.height) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tthis.isBoxInBounds = function (_point, _size) {\n\t\t// comming soon!\n\t};\n\n\tthis.behavior('drop', function (_$thing) {\t\t\n\t\tconsole.log('*** In bounds!!', _$thing.id());\n\t\t\n\t\tthis.requiredQueue.ready(_$thing.id());\n\n\t\treturn {\n\t\t\tmessage: _$thing.id(),\n\t\t\tbehaviorTarget: _$thing\n\t\t};\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/dropzone/behavior.js\n **/","pl.game.component('frame', function () {\n\n\tthis.on('ready', function (_event) {\n\t\tif (this.is(_event.target) && this.audio) {\n\t\t\tthis.audio.rule('.voiceOver', 'shouldPlay', function (_event) {\n\t\t\t\t_event.response(!_event.target.config(\"dontautoplay\"));\n\t\t\t});\n\t\t}\n\t});\n\t\n\tthis.start = function () {\n\t\tthis.log('start');\n\t\treturn this.screen.start.call(this);\n\t};\n\n\tthis.stop = function () {\n\t\treturn this.screen.stop.call(this);\n\t};\n\n\tthis.on('ui-open', function (_event) {\n\t\tif (this.isReady) {\n\t\t\tthis.start();\n\t\t}\n\n\t\tif (this === _event.targetScope) {\n\t\t\tif (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && (this.requiredQueue && this.requiredQueue.length))) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\t}\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/frame/behavior.js\n **/","pl.game.component('modal', function () {\n\n\tthis.item = function(_id) {\n\t\tthis.select(this);\n\t\tthis.reveal.item(_id);\n\t};\n\t\n\tthis.close = function() {\n\t\tif(this.screen.shouldProceed()) {\n\t\t\tthis.deselect(this);\n\t\t}\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/modal/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n\tfunction validateAnswer (_scope) {\n\t\tvar answers;\n\n\t\tif (_scope.properties.correct) {\n\t\t\tanswers = _scope.properties.correct.split(/\\s*,\\s*/);\n\n\t\t\tif (~answers.indexOf(String(_scope.getSelected().index()))) {\n\t\t\t\tif(_scope.audio.sfx.correct) _scope.audio.sfx.correct.play();\n\t\t\t\t_scope.complete();\n\t\t\t} else {\n\t\t\t\tif(_scope.audio.sfx.incorrect) _scope.audio.sfx.incorrect.play();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tthis.behavior('answer', function () {\n\t\tvar $li;\n\t\tif (this.event) {\n\t\t\t$li = $(this.event.target).closest('li');\n\n\t\t\tif (!this.isComplete && this.select($li)) {\n\t\t\t\tvalidateAnswer(this);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tbehaviorTarget: $li,\n\t\t\t\tmessage: $li.id(),\n\t\t\t};\n\t\t}\n\n\t\treturn false;\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n\tthis.item = function (_id) {\n\t\tvar vo, index;\n\t\tconsole.log(this);\n\n\t\tif (typeof _id === 'number') {\n\t\t\tthis.select(this.find('li').eq(_id));\n\t\t\tthis.audio.voiceOver[_id].play();\n\t\t}\n\t\t\t\n\t\telse if (typeof _id === 'string') {\n\t\t\tif (this[_id]) {\n\t\t\t\tthis.select(this[_id]);\n\n\t\t\t\tif (this.audio) {\n\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\t\t\t\t\n\t\t\t\t\tif (vo) vo.play();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/reveal/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\n\tthis.on('ready', function (_event) {\n\t\tif (this.is(_event.target) && this.audio) {\n\t\t\tthis.audio.rule('.voiceOver', 'shouldPlay', function (_event) {\n\t\t\t\t_event.response(!_event.target.config(\"dontautoplay\"));\n\t\t\t});\n\t\t}\n\n\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\tvar sfx;\n\n\t\t\t\tsfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n\t\t\t\tif (sfx) sfx.play();\n\t\t\t}));\n\t\t}\n\t});\n\n\tthis.shouldProceed = function() {\n\t\treturn (!this.state(this.STATE.PLAYING) && !this.state(this.STATE.VOICE_OVER)) || this.game.demoMode;\n\t};\n\n\tthis.playSound = function (_sound) {\n\t\tvar delay;\n\t\n\t\tdelay = $(_sound.media).attr('pl-start');\n\n\t\tif (delay) {\n\t\t\treturn this.delay(delay, _sound.play.bind(_sound));\n\t\t} else {\n\t\t\treturn _sound.play();\n\t\t}\n\t};\n\t\n\tthis.next = function () {\n\t\tvar current, nextScreen, buttonSound;\n\n\t\tif(this.hasClass('last') && this.hasClass('COMPLETE')) this.game.quit.okay();\n\n\t\tif (this !== this.screen) {\n\t\t\tthis.log('Not called on a screen');\n\t\t\tconsole.trace();\n\t\t\treturn;\n\t\t}\n\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\t// delegate to a child \"slides\" component.\n\t\tif (this.slides && this.slides.isComponent) {\n\t\t\tcurrent = this.slides.current();\n\t\t\tnextScreen = current.next();\n\n\t\t\tif (nextScreen == null) {\n\t\t\t\tcurrent = this;\n\t\t\t\tnextScreen = this.proto();\n\t\t\t}\n\t\t}\n\n\t\telse {\n\t\t\tcurrent = this;\n\t\t\tnextScreen = this.proto();\n\t\t}\n\n\t\tif (nextScreen) {\n\t\t\tcurrent.leave();\n\t\t\tnextScreen.open();\n\t\t\tif (buttonSound) buttonSound.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.prev = function () {\n\t\tvar current, prevScreen, buttonSound;\n\n\t\tif (this !== this.screen) {\n\t\t\tthis.log('Not called on a screen');\n\t\t\tconsole.trace();\n\t\t\treturn;\n\t\t}\n\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\t// delegate to a child \"slides\" component.\n\t\tif (this.slides && this.slides.isComponent) {\n\t\t\tcurrent = this.slides.current();\n\t\t\tprevScreen = current.prev();\n\n\t\t\tif (prevScreen == null) {\n\t\t\t\tcurrent = this;\n\t\t\t\tprevScreen = this.proto();\n\t\t\t}\n\t\t}\n\n\t\telse {\n\t\t\tcurrent = this;\n\t\t\tprevScreen = this.proto();\n\t\t}\n\n\t\tif (prevScreen) {\n\t\t\tcurrent.close();\n\t\t\tprevScreen.open();\n\t\t\tif (buttonSound) buttonSound.play();\n\t\t}\n\n\t\treturn prevScreen;\n\t};\n\n\tthis.start = function () {\n\t\tvar entities = this.hasOwnProperty('entities') && this.entities;\n\n\t\tthis.startAudio();\n\t\tif (this.audio) this.audio.sfx.play('start');\n\n\t\tif (entities) {\n\t\t\tentities.forEach(function (_entity) {\n\t\t\t\tif (_entity.isMemberSafe('start')) _entity.start();\n\t\t\t});\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.stop = function () {\n\t\tvar entities = this.hasOwnProperty('entities') && this.entities;\n\n\t\tthis.stopAudio();\n\t\tthis.kill('delay');\n\n\t\tif (entities) {\n\t\t\tentities.forEach(function (_entity) {\n\t\t\t\tif (_entity.isMemberSafe('start')) _entity.stop();\n\t\t\t});\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.screenComplete.play();\n\t\treturn this.proto();\n\t};\n\n\tthis.on('ui-open', function (_event) {\n\t\tif (this.isReady && this.is(_event.target)) this.start();\n\t\tif (this.completed()) this.complete();\n\n\t\tif(this.properties.gameClass) {\n\t\t\tthis.game.addClass(this.properties.gameClass);\n\t\t}\n\n\t\tif(this.properties.sfx) {\n\t\t\tvar sfx = this.properties.sfx.split(\" \");\n\t\t\tfor(var i = 0, n = sfx.length; i < n; i++) {\n\t\t\t\tif(this.audio.sfx[sfx[i]]) this.playSound(this.audio.sfx[sfx[i]]);\n\t\t\t}\n\t\t}\n\t});\n\n\tthis.on('ui-leave ui-close', function (_event) {\n\t\tif(this.properties.gameClass) {\n\t\t\tthis.game.removeClass(this.properties.gameClass);\n\t\t}\n\n\t\tif (this.isReady && this.is(_event.target)) this.stop();\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n\tvar characters;\n\t/**\n\t * Nodes, including the node of this screen, with a\n\t * attribute of pl-bg will get a background-image style\n\t * and the resource preloaded and collected for watching.\n\t */\n\tthis.handleProperty({\n\t\tbg: function (_node, _name, _value) {\n\t\t\tvar img = new Image();\n\t\t\tcharacters = characters || [];\n\n\t\t\timg.src = _value;\n\t\t\tcharacters.push(img);\n\t\t\t$(_node).css('background-image', 'url('+_value+')');\n\t\t}\n\t});\n\n\t// TODO: Make an automated way to handle this\n\tthis.on('transitionend', function (_event) {\n\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\tthis.addClass('LEAVE-END');\t\n\t\t}\n\t});\n\n\tthis.on('ui-open', function (_event) {\n\t\tthis.game.addClass('QUIT-SCREEN');\n\t\tthis.removeClass('LEAVE-END');\n\t\tthis.game.pause(true);\n\t});\n\n\tthis.on('ui-leave', function () {\n\t\tthis.game.removeClass('QUIT-SCREEN');\n\t\tthis.game.resume();\n\t});\n\n\tthis.init = function () {\n\t\tthis.addClass('LEAVE LEAVE-END');\n\t};\n\t\n\tthis.okay = function () {\n\t\tthis.game.exit();\n\t};\n\n\tthis.cancel = function () {\n\t\tthis.leave();\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('selectable', function () {\n\n\tthis.behavior('select', function (_target) {\n\t\tvar $target;\n\n\t\tif (this.event) {\n\t\t\t$target = $(this.event.target).closest('li');\n\n\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: $target.id(),\n\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t};\n\t\t\t}\t\n\t\t}\n\n\t\telse {\n\t\t\tthis.proto(_target);\n\t\t}\n\n\t\treturn false;\n\t});\n\n\tthis.shouldSelect = function (_target) {\n\t\treturn true;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/selectable/behavior.js\n **/","pl.game.component('slides', function () {\n\t\n\tthis.slides = null;\n\n\tthis.ready = function () {\n\t\tthis.slides = this.find('> *').scope();\n\t};\n\n\tthis.start = function () {\n\t\tvar current, i, n;\n\n\t\tcurrent = this.current();\n\n\t\tif (current) {\n\t\t\tcurrent.start();\n\t\t}\n\n\t\telse if (this.slides.length) {\n\t\t\tthis.slides[0].open();\n\t\t\tfor(i = 1, n = this.slides.length; i < n; i++) {\n\t\t\t\tthis.slides[i] && this.slides[i].close();\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.current = function () {\n\t\treturn this.find('> .OPEN').scope();\n\t};\n\n\t/*\n\t * @this {frame-component-scope} called by the next button in a frame component.\n\t */\n\tthis.next = function () {\n\t\tvar index, nextSlide, buttonSound;\n\n\t\tif (!this.completed()) return false;\n\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\tindex = this.slides.indexOf(this);\n\t\tif (~index) return this.slides[index+1];\n\n\n\t\tif (~index) nextSlide = this.slides[index+1];\n\t\t\n\t\tif (nextSlide) {\n\t\t\tthis.leave();\n\t\t\tnextSlide.open();\n\n\t\t\tif (buttonSound) buttonSound.play();\n\n\t\t\treturn nextSlide;\n\t\t}\n\n\t\telse {\n\t\t\treturn this.proto();\n\t\t}\n\t};\n\n\t/*\n\t * @this {frame-component-scope} called by the next button in a frame component.\n\t */\n\tthis.prev = function () {\n\t\tvar index, prevSlide, buttonSound;\n\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\tindex = this.slides.indexOf(this);\n\t\tif (~index) return this.slides[index-1];\n\n\n\t\tif (~index) prevSlide = this.slides[index-1];\n\t\t\n\t\tif (prevSlide) {\n\t\t\tthis.close();\n\t\t\tprevSlide.open();\n\n\t\t\tif (buttonSound) buttonSound.play();\n\n\t\t\treturn prevSlide;\n\t\t}\n\n\t\telse {\n\t\t\treturn this.proto();\n\t\t}\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/slides/behavior.js\n **/","/**\n * the following is the mouse smoke js\n */\npl.game.component('smoke', function () {\n\tvar w, h, c, position, particles, img, shouldDraw;\n\n\tfunction Particle (x, y){\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.velY = -2;\n\t\tthis.velX = (random(1, 10)-5)/10;\n\t\tthis.size = random(3, 5)/10;\n\t\tthis.alpha = 1;\n\t\tthis.update = function(){\n\t\t\tthis.y += this.velY;\n\t\t\tthis.x += this.velX;\n\t\t\tthis.velY *= 0.99;\n\t\t\tif(this.alpha < 0) this.alpha = 0;\n\t\t\tc.globalAlpha = this.alpha;\n\t\t\tc.save();\n\t\t\tc.translate(this.x, this.y);\n\t\t\tc.scale(this.size, this.size);\n\t\t\tc.drawImage(img, -img.width/2, -img.height/2);\n\t\t\tc.restore();\n\t\t\tthis.alpha *= 0.96;\n\t\t\tthis.size += 0.02;\n\t\t};\n\t}\n\n\tfunction random (min, max){\n\t\treturn Math.random()*(max-min)*min;\n\t}\n\n\tfunction draw () {\n\t\tvar p = new Particle(position.x, position.y);\n\t\tparticles.push(p);\n\t\t\n\t\twhile(particles.length > 500) particles.shift();\n\t\t\n\t\tc.globalAlpha = 1;\n\t\tc.fillStyle = '#000';\n\t\tc.fillRect(0,0,w,h);\n\t\t\n\t\tfor(var i = 0; i < particles.length; i++)\n\t\t{\n\t\t\tparticles[i].update();\n\t\t}\n\n\t\tif (shouldDraw) requestAnimationFrame(draw);\n\t}\n\n\tfunction handleCursor (e) {\n\t\tposition.x = e.clientX/this.zoom;\n\t\tposition.y = e.clientY/this.zoom;\n\t}\n\n\tthis.canvas = null;\n\tthis.particle = null;\n\n\tthis.on('ready', function (_event) {\n\t\tif (!this.is(_event.target)) return;\n\n\t\tw = this.canvas[0].width = this.game.width(),\n\t\th = this.canvas[0].height = this.game.height();\n\t\tc = this.canvas.exec('getContext', ['2d'])[0];\n\t\timg = this.particle[0];\n\t\tposition = {x : w/2, y : h/2};\n\n\t\tthis.start();\n\t});\n\n\tthis.start = function () {\n\t\tparticles = []; shouldDraw = true;\n\t\trequestAnimationFrame(draw);\n\t\tthis.game.on(pl.EVENT.ACTION_MOVE, handleCursor);\n\t};\n\n\tthis.stop = function () {\n\t\tshouldDraw = false;\n\t\tthis.game.off(pl.EVENT.ACTION_MOVE, handleCursor);\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/smoke/behavior.js\n **/","pl.game.component('title', function () {\n\tthis.start = function () { this.proto(); };\n\tthis.stop = function () { this.proto(); };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/title/behavior.js\n **/","pl.game.config({\n\tscreenSelector: '.screen',\n\tcomponentDirectory: 'components/',\n\tdimensions: {\n\t\twidth: 960,\n\t\tratio: 16/9\n\t},\n\tshouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\nimport './config.game';\n\nimport '../../../shared/js/screen-ios-splash';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/background/behavior';\nimport './components/title/behavior';\nimport './components/slides/behavior';\nimport './components/dropzone/behavior';\nimport './components/frame/behavior';\nimport './components/multiple-choice/behavior';\nimport './components/selectable/behavior';\nimport './components/modal/behavior';\nimport './components/reveal/behavior';\nimport './components/smoke/behavior';\nimport './components/audio-sequence/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\npl.game('fire', function () {\n\n\tvar self = this;\n\n\t// the following is the mouse smoke js\n\t(function() {\n\tvar canvas = document.createElement('canvas');\n\tvar w = canvas.width = 960,\n\t\th = canvas.height = 540;\n\tvar c = canvas.getContext('2d');\n\n\tvar img = new Image();\n\timg.src = 'http://oi41.tinypic.com/4i2aso.jpg';\n\n\tvar position = {x : w/2, y : h/2};\n\n\tdocument.body.appendChild(canvas);\n\n\tvar particles = [];\n\tvar random = function(min, max){\n\t\treturn Math.random()*(max-min)*min;\n\t};\n\n\tdocument.body.onmousemove = function(e){\n\t\tposition.x = e.clientX/self.zoom;\n\t\tposition.y = e.clientY/self.zoom;\n\t};\n\tfunction Particle(x, y){\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.velY = -2;\n\t\tthis.velX = (random(1, 10)-5)/10;\n\t\tthis.size = random(3, 5)/10;\n\t\tthis.alpha = 1;\n\t\tthis.update = function(){\n\t\t\tthis.y += this.velY;\n\t\t\tthis.x += this.velX;\n\t\t\tthis.velY *= 0.99;\n\t\t\tif(this.alpha < 0) this.alpha = 0;\n\t\t\tc.globalAlpha = this.alpha;\n\t\t\tc.save();\n\t\t\tc.translate(this.x, this.y);\n\t\t\tc.scale(this.size, this.size);\n\t\t\tc.drawImage(img, -img.width/2, -img.height/2);\n\t\t\tc.restore();\n\t\t\tthis.alpha *= 0.96;\n\t\t\tthis.size += 0.02;\n\t\t};\n\t}\n\n\tvar draw = function(){\n\t\tvar p = new Particle(position.x, position.y);\n\t\tparticles.push(p);\n\t\t\n\t\twhile(particles.length > 500) particles.shift();\n\t\t\n\t\tc.globalAlpha = 1;\n\t\tc.fillStyle = '#000';\n\t\tc.fillRect(0,0,w,h);\n\t\t\n\t\tfor(var i = 0; i < particles.length; i++)\n\t\t{\n\t\t\tparticles[i].update();\n\t\t}\n\t};\n\n\tsetInterval(draw, 1000/60);\n\t})();\n\t// end of the mouse smoke js\n\n\tvar soundClasses = function() {\n\t\tvar classes = \"\";\n\n\t\tthis.on('audio-play', function(_event) {\n\t\t\tvar id = _event.target.$el[0].id;\n\t\t\tif(id) {\n\t\t\t\tid = id.toUpperCase()\n\t\t\t\tthis.addClass(id);\n\t\t\t\tclasses += \" \"+id;\n\t\t\t}\n\t\t});\n\n\t\tthis.on('ui-close', function() {\n\t\t\tthis.removeClass(classes);\n\t\t\tclasses = \"\";\n\t\t});\n\t};\n\n\tthis.screen('title', function () {\n\n\t\tthis.on('ready', function(_event) {\n\t\t\tif(!this.is(_event.target)) return;\n\n\t\t\tif(this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t\t});\n\n\t\tthis.on('ui-open', this.complete);\n\n\t\tthis.startAudio = function () {\n\t\t\tthis.title.audio.background.play();\n\t\t\tthis.title.audio.voiceOver.play();\n\t\t};\n\t});\n\n\tthis.screen('info-chemical', soundClasses);\n\tthis.screen('info-fuel-oxygen', soundClasses);\n\n\tthis.screen('alarm', function() {\n\n\t\tthis.ready = function() {\n\t\t\tif (this.audio) {\n\t\t\t\tthis.audio.voiceOver.on('ended', function (_event) {\n\t\t\t\t\tif (_event.target.id() === 'title') this.audio.voiceOver.directions.play();\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t};\n\n\t\tthis.pushDown = function() {\n\t\t\tif (this.audio) this.audio.sfx.play();\n\t\t\tthis.screen.next();\n\t\t};\n\t});\n\n\tthis.screen('who', function() {\n\t\t\n\t\tthis.entity('slides', function () {\n\t\t\t\n\t\t\tthis.entity('mc-frame', function () {\n\t\t\t\t\n\t\t\t\tthis.respond('answer', function(_event) {\n\t\t\t\t\tif(_event.message === this.properties.answer) {\n\t\t\t\t\t\tthis.delay('2s', function() {\n\t\t\t\t\t\t\tthis.screen.next();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.on('ready', function(_event) {\n\t\t\t\t\tvar sequence = 'title builder plumber firefighter chef'.split(' ');\n\n\t\t\t\t\tif (!this.is(_event.target)) return;\n\n\t\t\t\t\tif (this.audio) {\n\t\t\t\t\t\tthis.audio.voiceOver.on('ended', function (_event) {\n\t\t\t\t\t\t\tvar i, next;\n\n\t\t\t\t\t\t\ti = sequence.indexOf(_event.target.id()) + 1;\n\t\t\t\t\t\t\tnext = this.audio.voiceOver[sequence[i]];\n\n\t\t\t\t\t\t\tif (next) next.play();\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\tthis.screen('menAndWomen', function() {\n\n\t\tthis.on('ready', function(_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\n\t\t\tif (this.audio) {\n\t\t\t\tthis.audio.voiceOver.on('ended', function (_event) {\n\t\t\t\t\tif (_event.target.id() === 'title') this.audio.voiceOver.subtitle.play();\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t});\n\t});\n\n\tthis.screen('triangle', function() {\n\n\t\tthis.startAudio = function () {\n\t\t\tthis.dropzone.audio.background.play();\n\t\t\tthis.dropzone.audio.voiceOver.play();\n\t\t};\n\n\t\tthis.stopAudio = function () {\n\t\t\tthis.dropzone.audio.voiceOver.stop('@ALL');\n\t\t};\n\n\t\tthis.entity('dropzone', function () {\n\t\t\n\t\t\tthis.entity('.area', function () {\n\n\t\t\t\tthis.cache = null;\n\n\t\t\t\tthis.respond('grab', function () {\n\t\t\t\t\tthis.audio.sfx.drag.play();\n\t\t\t\t\tthis.cache = {\n\t\t\t\t\t\tposition: this.absolutePosition().dec(this.game.absolutePosition()),\n\t\t\t\t\t\tsize: this.size().scale(this.game.transformScale().x)\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.respond('release', function (_event) {\n\t\t\t\t\tvar point, scale;\n\n\t\t\t\t\tif((scale = this.game.transformScale().x) !== 1) {\n\t\t\t\t\t\tpoint = [\n\t\t\t\t\t\t\t\t\t_event.state.start.point[0] + scale * _event.state.progress.distance[0],\n\t\t\t\t\t\t\t\t\t_event.state.start.point[1] + scale * _event.state.progress.distance[1]\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpoint = _event.state.progress.point;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (point && this.isPointInBounds(point)) {\n\n\t\t\t\t\t\tif(this.audio.voiceOver[_event.state.$draggable.id()]) this.audio.voiceOver[_event.state.$draggable.id()].play();\n\n\t\t\t\t\t\tif (this.takes(_event.state.$draggable.id())) {\n\t\t\t\t\t\t\t_event.state.$draggable.removeClass('PLUCKED').addClass('COMPLETE').attr('pl-draggable',null);\n\t\t\t\t\t\t\t_event.state.$helper.addClass('DROPED');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.drop(_event.state.$draggable);\n\t\t\t\t\t\t\tthis.open(this[_event.state.$draggable.id()]);\n\t\t\t\t\t\t\tthis.open(this[_event.state.$draggable.id()+'Side']);\n\t\t\t\t\t\t\tthis.audio.sfx.correct.play();\n\t\t\t\t\t\t\tif(this.isComplete) {\n\t\t\t\t\t\t\t\tthis.delay('.75s', function() {\n\t\t\t\t\t\t\t\t\tthis.audio.sfx.complete.play();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.audio.sfx.incorrect.play()\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_event.state.$helper.addClass('RETURN').css('transform', 'translateX(0px) translateY(0px)');\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.on('ready', function(_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\n\t\t\t\tif (this.audio) {\n\t\t\t\t\tthis.audio.voiceOver.on('ended', function(_event) {\n\t\t\t\t\t\tif (_event.target.id() === 'title') this.audio.voiceOver.directions.play();\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n\n\tthis.screen('break-triangle', soundClasses);\n\n\tthis.screen('dress', function() {\n\t\tthis.respond('select', function(_event) {\n\t\t\t// this removes any screen class that starts with the same thing as the event message\n\t\t\t// and then adds the event message as a class to the screen\n\t\t\tif(!_event.message) return;\n\t\t\tvar regexp = new RegExp(\"(^|\\\\s)\"+_event.message.split(\"-\")[0]+\"-\\\\S+\");\n\t\t\tthis.screen.removeClass(function(index, className) {\n\t\t\t\treturn (className.match(regexp) || []).join(' ');\n\t\t\t}).addClass(_event.message);\n\t\t\tthis.screen.next();\n\t\t});\n\n\t\tthis.entity('slides', function() {\n\n\t\t\tthis.entity('need', function() {\n\t\t\t\t\n\t\t\t\tthis.entity('dropzone', function () {\n\t\t\t\t\n\t\t\t\t\tthis.entity('.area', function () {\n\n\t\t\t\t\t\tthis.cache = null;\n\n\t\t\t\t\t\tthis.respond('grab', function () {\n\t\t\t\t\t\t\tthis.audio.sfx.drag.play();\n\t\t\t\t\t\t\tthis.cache = {\n\t\t\t\t\t\t\t\tposition: this.absolutePosition().dec(this.game.absolutePosition()),\n\t\t\t\t\t\t\t\tsize: this.size().scale(this.game.transformScale().x)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.respond('release', function (_event) {\n\t\t\t\t\t\t\tvar point, scale;\n\n\t\t\t\t\t\t\tif((scale = this.game.transformScale().x) !== 1) {\n\t\t\t\t\t\t\t\tpoint = [\n\t\t\t\t\t\t\t\t\t\t\t_event.state.start.point[0] + scale * _event.state.progress.distance[0],\n\t\t\t\t\t\t\t\t\t\t\t_event.state.start.point[1] + scale * _event.state.progress.distance[1]\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpoint = _event.state.progress.point;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (point && this.isPointInBounds(point)) {\n\n\t\t\t\t\t\t\t\tif (this.takes(_event.state.$draggable.id())) {\n\t\t\t\t\t\t\t\t\t_event.state.$draggable.removeClass('PLUCKED').addClass('COMPLETE').attr('pl-draggable',null);\n\t\t\t\t\t\t\t\t\t_event.state.$helper.addClass('DROPED');\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tthis.drop(_event.state.$draggable);\n\t\t\t\t\t\t\t\t\tthis.find('.'+_event.state.$draggable.id()).addClass('show');\n\t\t\t\t\t\t\t\t\tthis.audio.sfx.correct.play();\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tthis.audio.sfx.incorrect.play();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_event.state.$helper.addClass('RETURN').css('transform', 'translateX(0px) translateY(0px)');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.respond('drop', function(_event) {\n\t\t\t\t\tthis.modal.item(_event.message);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\tthis.screen('flip', function () {\n\t\tthis.next = function () {\n\t\t\tthis.game.quit.okay();\n\t\t};\n\n\t\tthis.complete = function (_event) {\n\t\t\tvar eventCategory = (['game', this.game.id(), this.id()+'('+(this.index()+1)+')']).join(' ');\n\n\t\t\tga('send', 'event', eventCategory, 'complete');\n\n\t\t\treturn this.proto();\n\t\t};\n\t});\n\n\tthis.exit = function () {\n\t\tvar screen, eventCategory;\n\n\t\tscreen = this.findOwn(pl.game.config('screenSelector')+'.OPEN:not(#quit)').scope();\n\t\teventCategory = (['game', this.id(), screen.id()+'('+(screen.index()+1)+')']).join(' ');\n\n\t\tga('send', 'event', eventCategory, 'quit');\n\n\t\treturn this.proto();\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/index.js\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n\tthis.on('ready', function (_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\tthis.splash();\n\t\t}\n\t});\n\n\tthis.splash = function() {\n\t\tthis.close(this.game.loader);\n\n\t\tif(this.game.hasClass('iOS')) {\n\t\t\tthis.open();\n\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t} else {\n\t\t\tthis.game.title.open();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen = this.proto();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tthis.game.audio.sfx.button.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.play('screenComplete');\n\t\treturn this.proto();\n\t};\n\n\tthis.startGame = function() {\n\t\tif(!this.hasClass('FINISHED')) return;\n\t\tthis.game.addClass('STARTED');\n\t\tthis.delay('2.5s', function() {\n\t\t\tthis.next();\n\t\t});\n\t};\n\n\tthis.on('animationend', function(_e) {\n\t\tif(!this.ball.is(_e.target)) return;\n\t\tthis.addClass('FINISHED');\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/"],"sourceRoot":""}