{"version":3,"sources":["webpack:///fire/ai.js","webpack:///webpack/bootstrap 1bb70c14b2ebb3ed2b1e","webpack:///./fire/source/js/components/audio-sequence/behavior.js","webpack:///./fire/source/js/components/background/behavior.js","webpack:///./fire/source/js/components/dropzone/behavior.js","webpack:///./fire/source/js/components/frame/behavior.js","webpack:///./fire/source/js/components/modal/behavior.js","webpack:///./fire/source/js/components/multiple-choice/behavior.js","webpack:///./fire/source/js/components/reveal/behavior.js","webpack:///./fire/source/js/components/screen-basic/behavior.js","webpack:///./fire/source/js/components/screen-quit/behavior.js","webpack:///./fire/source/js/components/selectable/behavior.js","webpack:///./fire/source/js/components/slides/behavior.js","webpack:///./fire/source/js/components/smoke/behavior.js","webpack:///./fire/source/js/components/title/behavior.js","webpack:///./fire/source/js/config.game.js","webpack:///./fire/source/js/index.js","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","pl","game","component","i","sounds","this","on","_event","is","target","find","map","$","data","toArray","audio","next","screen","state","STATE","OPEN","playSound","bind","start","characters","handleProperty","bg","_node","_name","_value","img","Image","src","push","css","entity","cache","respond","sfx","drag","play","position","absolutePosition","dec","size","scale","transformScale","x","point","progress","distance","isPointInBounds","takes","$draggable","removeClass","addClass","attr","$helper","drop","correct","incorrect","init","forEach","_id","require","properties","take","split","arguments","length","indexOf","Point","create","width","y","height","behavior","_$thing","requiredQueue","ready","message","behaviorTarget","rule","_e","response","config","log","stop","isReady","targetScope","hasOwnProperty","isComplete","complete","item","select","reveal","close","shouldProceed","deselect","validateAnswer","_scope","answers","String","getSelected","index","$li","event","closest","vo","eq","voiceOver","isMemberSafe","util","resolvePath","PLAYING","VOICE_OVER","demoMode","_sound","delay","media","current","nextScreen","buttonSound","hasClass","quit","okay","slides","isComponent","proto","leave","open","prev","prevScreen","entities","startAudio","_entity","stopAudio","kill","screenComplete","gameClass","n","LEAVE","pause","sure","resume","button","exit","cancel","_target","$target","shouldSelect","scope","nextSlide","completed","prevSlide","Particle","velY","velX","random","alpha","update","globalAlpha","save","translate","drawImage","restore","min","max","Math","draw","particles","shift","fillStyle","fillRect","w","h","shouldDraw","requestAnimationFrame","handleCursor","e","clientX","zoom","clientY","canvas","particle","exec","EVENT","ACTION_MOVE","off","screenSelector","componentDirectory","dimensions","ratio","shouldLoadComponentStyles","self","attachScreen","cb","document","createElement","getContext","body","appendChild","onmousemove","setInterval","soundClasses","classes","$el","toUpperCase","iosSplash","READY","splash","title","background","eventCategory","join","ga","trigger","Event","name","gameData","ctx","window","AudioContext","webkitAudioContext","setContext","findOwn","s","o","g","r","a","q","l","Date","getElementsByTagName","async","parentNode","insertBefore","loader","ball","startGame","test","_env","parent","location","href","domain"],"mappings":"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","file":"fire/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(15);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tpl.game.component('audio-sequence', function () {\n\t  var i, sounds;\n\t\n\t  this.on('ready', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t\n\t    sounds = this.find('audio').map(function () {\n\t      return $(this).data('context');\n\t    }).toArray();\n\t\n\t    this.audio.on('ended', (function () {\n\t      var next = sounds[i++];\n\t      if (next && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound(next);\n\t    }).bind(this));\n\t  });\n\t\n\t  this.start = function () {\n\t    i = 1;\n\t    if (sounds[0] && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound(sounds[0]);\n\t  };\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('background', function () {\n\t  var characters;\n\t  /**\n\t   * Nodes, including the node of this screen, with a\n\t   * attribute of pl-bg will get a background-image style\n\t   * and the resource preloaded and collected for watching.\n\t   */\n\t  this.handleProperty({\n\t    bg: function bg(_node, _name, _value) {\n\t      var img = new Image();\n\t      characters = characters || [];\n\t\n\t      img.src = _value;\n\t      characters.push(img);\n\t      $(_node).css('background-image', 'url(' + _value + ')');\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tpl.game.component('dropzone', function () {\n\t\n\t  this.entity('.area', function () {\n\t\n\t    this.cache = null;\n\t\n\t    this.respond('grab', function () {\n\t      this.audio.sfx.drag.play();\n\t      this.cache = {\n\t        position: this.absolutePosition().dec(this.game.absolutePosition()),\n\t        size: this.size().scale(this.game.transformScale().x)\n\t      };\n\t    });\n\t\n\t    this.respond('release', function (_event) {\n\t      var point, scale;\n\t\n\t      if ((scale = this.game.transformScale().x) !== 1) {\n\t        point = [_event.state.start.point[0] + scale * _event.state.progress.distance[0], _event.state.start.point[1] + scale * _event.state.progress.distance[1]];\n\t      } else {\n\t        point = _event.state.progress.point;\n\t      }\n\t\n\t      if (point && this.isPointInBounds(point)) {\n\t        if (this.takes(_event.state.$draggable.id())) {\n\t          _event.state.$draggable.removeClass('PLUCKED').addClass('COMPLETE').attr('pl-draggable', null);\n\t          _event.state.$helper.addClass('DROPED');\n\t\n\t          this.drop(_event.state.$draggable);\n\t          this.audio.sfx.correct.play();\n\t\n\t          return;\n\t        } else {\n\t          this.audio.sfx.incorrect.play();\n\t        }\n\t      }\n\t\n\t      _event.state.$helper.addClass('RETURN').css('transform', 'translateX(0px) translateY(0px)');\n\t    });\n\t  });\n\t\n\t  this.init = function () {\n\t    this.takes().forEach(this.bind(function (_id) {\n\t      this.require(_id);\n\t    }));\n\t  };\n\t\n\t  this.takes = function (_id) {\n\t    var takes = this.properties.take.split(/\\s+/);\n\t    return arguments.length ? !! ~takes.indexOf(_id) : takes;\n\t  };\n\t\n\t  // arguments would be _point and _y\n\t  this.isPointInBounds = function () {\n\t    var point;\n\t\n\t    point = pl.Point.create(arguments);\n\t\n\t    if (point.x >= this.cache.position.x && point.x <= this.cache.position.x + this.cache.size.width) {\n\t      if (point.y >= this.cache.position.y && point.y <= this.cache.position.y + this.cache.size.height) {\n\t        return true;\n\t      }\n\t    }\n\t\n\t    return false;\n\t  };\n\t\n\t  // this.isBoxInBounds = function (_point, _size) {\n\t  //   // comming soon!\n\t  // };\n\t\n\t  this.behavior('drop', function (_$thing) {\n\t    this.requiredQueue.ready(_$thing.id());\n\t\n\t    return {\n\t      message: _$thing.id(),\n\t      behaviorTarget: _$thing\n\t    };\n\t  });\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('frame', function () {\n\t\n\t  this.on('ready', function (_event) {\n\t    if (this.is(_event.target) && this.audio) {\n\t      this.audio.rule('.voiceOver', 'shouldPlay', function (_e) {\n\t        _e.response(!_e.target.config('dontautoplay'));\n\t      });\n\t    }\n\t  });\n\t\n\t  this.start = function () {\n\t    this.log('start');\n\t    return this.screen.start.call(this);\n\t  };\n\t\n\t  this.stop = function () {\n\t    return this.screen.stop.call(this);\n\t  };\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.isReady) {\n\t      this.start();\n\t    }\n\t\n\t    if (this === _event.targetScope) {\n\t      if (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && this.requiredQueue && this.requiredQueue.length)) {\n\t        this.complete();\n\t      }\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('modal', function () {\n\t\n\t  this.item = function (_id) {\n\t    this.select(this);\n\t    this.reveal.item(_id);\n\t  };\n\t\n\t  this.close = function () {\n\t    if (this.screen.shouldProceed()) {\n\t      this.deselect(this);\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t  function validateAnswer(_scope) {\n\t    var answers;\n\t\n\t    if (_scope.properties.correct) {\n\t      answers = _scope.properties.correct.split(/\\s*,\\s*/);\n\t\n\t      if (~answers.indexOf(String(_scope.getSelected().index()))) {\n\t        if (_scope.audio.sfx.correct) _scope.audio.sfx.correct.play();\n\t        _scope.complete();\n\t      } else {\n\t        if (_scope.audio.sfx.incorrect) _scope.audio.sfx.incorrect.play();\n\t      }\n\t    }\n\t\n\t    return false;\n\t  }\n\t\n\t  this.behavior('answer', function () {\n\t    var $li;\n\t    if (this.event) {\n\t      $li = $(this.event.target).closest('li');\n\t\n\t      if (!this.isComplete && this.select($li)) {\n\t        validateAnswer(this);\n\t      }\n\t\n\t      return {\n\t        behaviorTarget: $li,\n\t        message: $li.id()\n\t      };\n\t    }\n\t\n\t    return false;\n\t  });\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t  this.item = function (_id) {\n\t    var vo, index;\n\t\n\t    if (typeof _id === 'number') {\n\t      this.select(this.find('li').eq(_id));\n\t      this.audio.voiceOver[_id].play();\n\t    } else if (typeof _id === 'string') {\n\t      if (this[_id]) {\n\t        this.select(this[_id]);\n\t\n\t        if (this.audio) {\n\t          index = this[_id].index();\n\t          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t          if (vo) vo.play();\n\t        }\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\n\t  this.on('ready', function (_event) {\n\t    if (this.is(_event.target) && this.audio) {\n\t      this.audio.rule('.voiceOver', 'shouldPlay', function (_e) {\n\t        _e.response(!_e.target.config('dontautoplay'));\n\t      });\n\t    }\n\t\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) sfx.play();\n\t      }));\n\t    }\n\t  });\n\t\n\t  this.shouldProceed = function () {\n\t    return !this.state(this.STATE.PLAYING) && !this.state(this.STATE.VOICE_OVER) || this.game.demoMode;\n\t  };\n\t\n\t  this.playSound = function (_sound) {\n\t    var delay;\n\t\n\t    delay = $(_sound.media).attr('pl-start');\n\t\n\t    if (delay) {\n\t      return this.delay(delay, _sound.play.bind(_sound));\n\t    } else {\n\t      return _sound.play();\n\t    }\n\t  };\n\t\n\t  this.next = function () {\n\t    var current, nextScreen, buttonSound;\n\t\n\t    if (this.hasClass('last') && this.hasClass('COMPLETE')) this.game.quit.okay();\n\t\n\t    if (this !== this.screen) {\n\t      this.log('Not called on a screen');\n\t      return;\n\t    }\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    // delegate to a child \"slides\" component.\n\t    if (this.slides && this.slides.isComponent) {\n\t      current = this.slides.current();\n\t      nextScreen = current.next();\n\t\n\t      if (nextScreen == null) {\n\t        current = this;\n\t        nextScreen = this.proto();\n\t      }\n\t    } else {\n\t      current = this;\n\t      nextScreen = this.proto();\n\t    }\n\t\n\t    if (nextScreen) {\n\t      current.leave();\n\t      nextScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t\n\t  this.prev = function () {\n\t    var current, prevScreen, buttonSound;\n\t\n\t    if (this !== this.screen) {\n\t      this.log('Not called on a screen');\n\t      return;\n\t    }\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    // delegate to a child \"slides\" component.\n\t    if (this.slides && this.slides.isComponent) {\n\t      current = this.slides.current();\n\t      prevScreen = current.prev();\n\t\n\t      if (prevScreen == null) {\n\t        current = this;\n\t        prevScreen = this.proto();\n\t      }\n\t    } else {\n\t      current = this;\n\t      prevScreen = this.proto();\n\t    }\n\t\n\t    if (prevScreen) {\n\t      current.close();\n\t      prevScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return prevScreen;\n\t  };\n\t\n\t  this.start = function () {\n\t    var entities = this.hasOwnProperty('entities') && this.entities;\n\t\n\t    this.startAudio();\n\t    if (this.audio) this.audio.sfx.play('start');\n\t\n\t    if (entities) {\n\t      entities.forEach(function (_entity) {\n\t        if (_entity.isMemberSafe('start')) _entity.start();\n\t      });\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.stop = function () {\n\t    var entities = this.hasOwnProperty('entities') && this.entities;\n\t\n\t    this.stopAudio();\n\t    this.kill('delay');\n\t\n\t    if (entities) {\n\t      entities.forEach(function (_entity) {\n\t        if (_entity.isMemberSafe('start')) _entity.stop();\n\t      });\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.complete = function () {\n\t    this.game.audio.sfx.screenComplete.play();\n\t    return this.proto();\n\t  };\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.isReady && this.is(_event.target)) this.start();\n\t\n\t    if (this.properties.gameClass) {\n\t      this.game.addClass(this.properties.gameClass);\n\t    }\n\t\n\t    if (this.properties.sfx) {\n\t      var sfx = this.properties.sfx.split(' ');\n\t      for (var i = 0, n = sfx.length; i < n; i++) {\n\t        if (this.audio.sfx[sfx[i]]) this.playSound(this.audio.sfx[sfx[i]]);\n\t      }\n\t    }\n\t  });\n\t\n\t  this.on('ui-leave ui-close', function (_event) {\n\t    if (this.properties.gameClass) {\n\t      this.game.removeClass(this.properties.gameClass);\n\t    }\n\t\n\t    if (this.isReady && this.is(_event.target)) this.stop();\n\t  });\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t  var characters;\n\t  /**\n\t   * Nodes, including the node of this screen, with a\n\t   * attribute of pl-bg will get a background-image style\n\t   * and the resource preloaded and collected for watching.\n\t   */\n\t  this.handleProperty({\n\t    bg: function bg(_node, _name, _value) {\n\t      var img = new Image();\n\t      characters = characters || [];\n\t\n\t      img.src = _value;\n\t      characters.push(img);\n\t      $(_node).css('background-image', 'url(' + _value + ')');\n\t    }\n\t  });\n\t\n\t  // TODO: Make an automated way to handle this\n\t  this.on('transitionend', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    if (this.state(this.STATE.LEAVE)) {\n\t      this.addClass('LEAVE-END');\n\t    }\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    this.game.addClass('QUIT-SCREEN');\n\t    this.removeClass('LEAVE-END');\n\t    this.game.pause(true);\n\t  });\n\t\n\t  this.on('ui-leave', function () {\n\t    var vo = this.audio.voiceOver.sure;\n\t    if (vo) vo.stop();\n\t    this.game.removeClass('QUIT-SCREEN');\n\t    this.game.resume();\n\t  });\n\t\n\t  this.init = function () {\n\t    this.addClass('LEAVE LEAVE-END');\n\t  };\n\t\n\t  this.okay = function () {\n\t    var sfx = this.audio.sfx.button;\n\t    if (sfx) sfx.play();\n\t    this.game.exit();\n\t  };\n\t\n\t  this.cancel = function () {\n\t    var sfx = this.audio.sfx.button;\n\t    if (sfx) sfx.play();\n\t    this.leave();\n\t  };\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t  this.behavior('select', function (_target) {\n\t    var $target;\n\t\n\t    if (this.event) {\n\t      $target = $(this.event.target).closest('li');\n\t\n\t      if (this.shouldSelect($target) !== false) {\n\t        return {\n\t          message: $target.id(),\n\t          behaviorTarget: $target\n\t        };\n\t      }\n\t    } else {\n\t      this.proto(_target);\n\t    }\n\t\n\t    return false;\n\t  });\n\t\n\t  this.shouldSelect = function () {\n\t    return true;\n\t  };\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('slides', function () {\n\t\n\t  this.slides = null;\n\t\n\t  this.ready = function () {\n\t    this.slides = this.find('> *').scope();\n\t  };\n\t\n\t  this.start = function () {\n\t    var current, i, n;\n\t\n\t    current = this.current();\n\t\n\t    if (current) {\n\t      current.start();\n\t    } else if (this.slides.length) {\n\t      this.slides[0].open();\n\t      for (i = 1, n = this.slides.length; i < n; i++) {\n\t        this.slides[i] && this.slides[i].close();\n\t      }\n\t    }\n\t  };\n\t\n\t  this.current = function () {\n\t    return this.find('> .OPEN').scope();\n\t  };\n\t\n\t  /*\n\t   * @this {frame-component-scope} called by the next button in a frame component.\n\t   */\n\t  this.next = function () {\n\t    var index, nextSlide, buttonSound;\n\t\n\t    if (!this.completed()) return false;\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    index = this.slides.indexOf(this);\n\t    if (~index) return this.slides[index + 1];\n\t\n\t    if (~index) nextSlide = this.slides[index + 1];\n\t\n\t    if (nextSlide) {\n\t      this.leave();\n\t      nextSlide.open();\n\t\n\t      if (buttonSound) buttonSound.play();\n\t\n\t      return nextSlide;\n\t    } else {\n\t      return this.proto();\n\t    }\n\t  };\n\t\n\t  /*\n\t   * @this {frame-component-scope} called by the next button in a frame component.\n\t   */\n\t  this.prev = function () {\n\t    var index, prevSlide, buttonSound;\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    index = this.slides.indexOf(this);\n\t    if (~index) return this.slides[index - 1];\n\t\n\t    if (~index) prevSlide = this.slides[index - 1];\n\t\n\t    if (prevSlide) {\n\t      this.close();\n\t      prevSlide.open();\n\t\n\t      if (buttonSound) buttonSound.play();\n\t\n\t      return prevSlide;\n\t    } else {\n\t      return this.proto();\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t/**\n\t * the following is the mouse smoke js\n\t */\n\tpl.game.component('smoke', function () {\n\t  var w, h, c, position, particles, img, shouldDraw;\n\t\n\t  function Particle(x, y) {\n\t    this.x = x;\n\t    this.y = y;\n\t    this.velY = -2;\n\t    this.velX = (random(1, 10) - 5) / 10;\n\t    this.size = random(3, 5) / 10;\n\t    this.alpha = 1;\n\t    this.update = function () {\n\t      this.y += this.velY;\n\t      this.x += this.velX;\n\t      this.velY *= 0.99;\n\t      if (this.alpha < 0) this.alpha = 0;\n\t      c.globalAlpha = this.alpha;\n\t      c.save();\n\t      c.translate(this.x, this.y);\n\t      c.scale(this.size, this.size);\n\t      c.drawImage(img, -img.width / 2, -img.height / 2);\n\t      c.restore();\n\t      this.alpha *= 0.96;\n\t      this.size += 0.02;\n\t    };\n\t  }\n\t\n\t  function random(min, max) {\n\t    return Math.random() * (max - min) * min;\n\t  }\n\t\n\t  function draw() {\n\t    var p = new Particle(position.x, position.y);\n\t    particles.push(p);\n\t\n\t    while (particles.length > 500) particles.shift();\n\t\n\t    c.globalAlpha = 1;\n\t    c.fillStyle = '#000';\n\t    c.fillRect(0, 0, w, h);\n\t\n\t    for (var i = 0; i < particles.length; i++) {\n\t      particles[i].update();\n\t    }\n\t\n\t    if (shouldDraw) requestAnimationFrame(draw);\n\t  }\n\t\n\t  function handleCursor(e) {\n\t    position.x = e.clientX / this.zoom;\n\t    position.y = e.clientY / this.zoom;\n\t  }\n\t\n\t  this.canvas = null;\n\t  this.particle = null;\n\t\n\t  this.on('ready', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t\n\t    w = this.canvas[0].width = this.game.width(), h = this.canvas[0].height = this.game.height();\n\t    c = this.canvas.exec('getContext', ['2d'])[0];\n\t    img = this.particle[0];\n\t    position = { x: w / 2, y: h / 2 };\n\t\n\t    this.start();\n\t  });\n\t\n\t  this.start = function () {\n\t    particles = [];shouldDraw = true;\n\t    requestAnimationFrame(draw);\n\t    this.game.on(pl.EVENT.ACTION_MOVE, handleCursor);\n\t  };\n\t\n\t  this.stop = function () {\n\t    shouldDraw = false;\n\t    this.game.off(pl.EVENT.ACTION_MOVE, handleCursor);\n\t  };\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tpl.game.component('title', function () {\n\t  this.start = function () {\n\t    this.proto();\n\t  };\n\t  this.stop = function () {\n\t    this.proto();\n\t  };\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t  screenSelector: '.screen',\n\t  componentDirectory: 'components/',\n\t  dimensions: {\n\t    width: 960,\n\t    ratio: 16 / 9\n\t  },\n\t  shouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t\n\t__webpack_require__(14);\n\t\n\t__webpack_require__(17);\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(12);\n\t\n\t__webpack_require__(13);\n\t\n\t__webpack_require__(18);\n\t\n\t__webpack_require__(16);\n\t\n\tpl.game('fire', function () {\n\t\n\t  var self = this;\n\t\n\t  pl.game.attachScreen = function (cb) {\n\t    cb.call(self);\n\t  };\n\t\n\t  // the following is the mouse smoke js\n\t  (function () {\n\t    var canvas = document.createElement('canvas');\n\t    var w = canvas.width = 960,\n\t        h = canvas.height = 540;\n\t    var c = canvas.getContext('2d');\n\t\n\t    var img = new Image();\n\t    img.src = 'http://oi41.tinypic.com/4i2aso.jpg';\n\t\n\t    var position = { x: w / 2, y: h / 2 };\n\t\n\t    document.body.appendChild(canvas);\n\t\n\t    var particles = [];\n\t    var random = function random(min, max) {\n\t      return Math.random() * (max - min) * min;\n\t    };\n\t\n\t    document.body.onmousemove = function (e) {\n\t      position.x = e.clientX / self.zoom;\n\t      position.y = e.clientY / self.zoom;\n\t    };\n\t    function Particle(x, y) {\n\t      this.x = x;\n\t      this.y = y;\n\t      this.velY = -2;\n\t      this.velX = (random(1, 10) - 5) / 10;\n\t      this.size = random(3, 5) / 10;\n\t      this.alpha = 1;\n\t      this.update = function () {\n\t        this.y += this.velY;\n\t        this.x += this.velX;\n\t        this.velY *= 0.99;\n\t        if (this.alpha < 0) this.alpha = 0;\n\t        c.globalAlpha = this.alpha;\n\t        c.save();\n\t        c.translate(this.x, this.y);\n\t        c.scale(this.size, this.size);\n\t        c.drawImage(img, -img.width / 2, -img.height / 2);\n\t        c.restore();\n\t        this.alpha *= 0.96;\n\t        this.size += 0.02;\n\t      };\n\t    }\n\t\n\t    var draw = function draw() {\n\t      var p = new Particle(position.x, position.y);\n\t      particles.push(p);\n\t\n\t      while (particles.length > 500) particles.shift();\n\t\n\t      c.globalAlpha = 1;\n\t      c.fillStyle = '#000';\n\t      c.fillRect(0, 0, w, h);\n\t\n\t      for (var i = 0; i < particles.length; i++) {\n\t        particles[i].update();\n\t      }\n\t    };\n\t\n\t    setInterval(draw, 1000 / 60);\n\t  })();\n\t  // end of the mouse smoke js\n\t\n\t  var soundClasses = function soundClasses() {\n\t    var classes = '';\n\t\n\t    this.on('audio-play', function (_event) {\n\t      var id = _event.target.$el[0].id;\n\t      if (id) {\n\t        id = id.toUpperCase();\n\t        this.addClass(id);\n\t        classes += ' ' + id;\n\t      }\n\t    });\n\t\n\t    this.on('ui-close', function () {\n\t      this.removeClass(classes);\n\t      classes = '';\n\t    });\n\t  };\n\t\n\t  this.screen('title', function () {\n\t\n\t    this.on('ready', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t\n\t      if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t    });\n\t\n\t    this.on('ui-open', this.complete);\n\t\n\t    this.startAudio = function () {\n\t      this.title.audio.background.play();\n\t      this.title.audio.voiceOver.play();\n\t    };\n\t  });\n\t\n\t  this.screen('info-chemical', soundClasses);\n\t  this.screen('info-fuel-oxygen', soundClasses);\n\t  this.screen('break-triangle', soundClasses);\n\t\n\t  this.screen('flip', function () {\n\t    this.next = function () {\n\t      this.game.quit.okay();\n\t    };\n\t\n\t    this.complete = function () {\n\t      var eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t\n\t      ga('send', 'event', eventCategory, 'complete');\n\t\n\t      pl.game.trigger($.Event('platform-event', {\n\t        name: 'flip',\n\t        gameData: { id: this.game.id() }\n\t      }));\n\t\n\t      return this.proto();\n\t    };\n\t  });\n\t\n\t  this.screen('quit', function () {\n\t    var ctx;\n\t\n\t    this.on('ready', function (_e) {\n\t      if (!this.is(_e.target)) return;\n\t\n\t      ctx = new (window.AudioContext || window.webkitAudioContext)();\n\t      this.audio.voiceOver.sure.setContext(ctx);\n\t      this.audio.sfx.button.setContext(ctx);\n\t    });\n\t\n\t    this.on('ui-open', function () {\n\t      var vo, sfx;\n\t\n\t      vo = this.audio.voiceOver.sure;\n\t      sfx = this.audio.sfx.button;\n\t      if (vo) vo.play();\n\t      if (sfx) sfx.play();\n\t    });\n\t  });\n\t\n\t  this.exit = function () {\n\t    var screen, eventCategory;\n\t\n\t    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t    eventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t    ga('send', 'event', eventCategory, 'quit');\n\t\n\t    return this.proto();\n\t  };\n\t});\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\t\tthis.splash();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.splash = function () {\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tif (this.game.hasClass('iOS')) {\n\t\t\t\tthis.open();\n\t\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t\t} else {\n\t\t\t\tthis.game.title.open();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen = this.proto();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tthis.game.audio.sfx.button.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.play('screenComplete');\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.startGame = function () {\n\t\t\tif (!this.hasClass('FINISHED')) return;\n\t\t\tthis.game.addClass('STARTED');\n\t\t\tthis.delay('2.5s', function () {\n\t\t\t\tthis.next();\n\t\t\t});\n\t\t};\n\t\n\t\tthis.on('animationend', function (_e) {\n\t\t\tif (!this.ball.is(_e.target)) return;\n\t\t\tthis.addClass('FINISHED');\n\t\t});\n\t});\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tfunction test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t}\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** fire/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1bb70c14b2ebb3ed2b1e\n **/","pl.game.component('audio-sequence', function () {\n  var i, sounds;\n\n  this.on('ready', function (_event) {\n    if (!this.is(_event.target)) return;\n\n    sounds = this.find('audio').map(function () {\n      return $(this).data('context');\n    }).toArray();\n\n    this.audio.on('ended', function () {\n      var next = sounds[i++];\n      if (next && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound(next);\n    }.bind(this));\n  });\n\n  this.start = function () {\n    i = 1;\n    if (sounds[0] && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound(sounds[0]);\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/audio-sequence/behavior.js\n **/","pl.game.component('background', function () {\n  var characters;\n  /**\n   * Nodes, including the node of this screen, with a\n   * attribute of pl-bg will get a background-image style\n   * and the resource preloaded and collected for watching.\n   */\n  this.handleProperty({\n    bg: function (_node, _name, _value) {\n      var img = new Image();\n      characters = characters || [];\n\n      img.src = _value;\n      characters.push(img);\n      $(_node).css('background-image', 'url(' + _value + ')');\n    }\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/background/behavior.js\n **/","pl.game.component('dropzone', function () {\n\n  this.entity('.area', function () {\n\n    this.cache = null;\n\n    this.respond('grab', function () {\n      this.audio.sfx.drag.play();\n      this.cache = {\n        position: this.absolutePosition().dec(this.game.absolutePosition()),\n        size: this.size().scale(this.game.transformScale().x)\n      };\n    });\n\n    this.respond('release', function (_event) {\n      var point, scale;\n\n      if ((scale = this.game.transformScale().x) !== 1) {\n        point = [\n          _event.state.start.point[0] + scale * _event.state.progress.distance[0],\n          _event.state.start.point[1] + scale * _event.state.progress.distance[1]\n        ];\n      } else {\n        point = _event.state.progress.point;\n      }\n\n      if (point && this.isPointInBounds(point)) {\n        if (this.takes(_event.state.$draggable.id())) {\n          _event.state.$draggable.removeClass('PLUCKED').addClass('COMPLETE').attr('pl-draggable', null);\n          _event.state.$helper.addClass('DROPED');\n\n          this.drop(_event.state.$draggable);\n          this.audio.sfx.correct.play();\n\n          return;\n        } else {\n          this.audio.sfx.incorrect.play();\n        }\n      }\n\n      _event.state.$helper.addClass('RETURN').css('transform', 'translateX(0px) translateY(0px)');\n    });\n\n  });\n\n  this.init = function () {\n    this.takes().forEach(this.bind(function (_id) {\n      this.require(_id);\n    }));\n  };\n\n  this.takes = function (_id) {\n    var takes = this.properties.take.split(/\\s+/);\n    return arguments.length ? !!~takes.indexOf(_id) : takes;\n  };\n\n  // arguments would be _point and _y\n  this.isPointInBounds = function () {\n    var point;\n\n    point = pl.Point.create(arguments);\n\n    if (point.x >= this.cache.position.x && point.x <= this.cache.position.x + this.cache.size.width) {\n      if (point.y >= this.cache.position.y && point.y <= this.cache.position.y + this.cache.size.height) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  // this.isBoxInBounds = function (_point, _size) {\n  //   // comming soon!\n  // };\n\n  this.behavior('drop', function (_$thing) {\n    this.requiredQueue.ready(_$thing.id());\n\n    return {\n      message: _$thing.id(),\n      behaviorTarget: _$thing\n    };\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/dropzone/behavior.js\n **/","pl.game.component('frame', function () {\n\n  this.on('ready', function (_event) {\n    if (this.is(_event.target) && this.audio) {\n      this.audio.rule('.voiceOver', 'shouldPlay', function (_e) {\n        _e.response(!_e.target.config('dontautoplay'));\n      });\n    }\n  });\n\n  this.start = function () {\n    this.log('start');\n    return this.screen.start.call(this);\n  };\n\n  this.stop = function () {\n    return this.screen.stop.call(this);\n  };\n\n  this.on('ui-open', function (_event) {\n    if (this.isReady) {\n      this.start();\n    }\n\n    if (this === _event.targetScope) {\n      if (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && (this.requiredQueue && this.requiredQueue.length))) {\n        this.complete();\n      }\n    }\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/frame/behavior.js\n **/","pl.game.component('modal', function () {\n\n  this.item = function (_id) {\n    this.select(this);\n    this.reveal.item(_id);\n  };\n\n  this.close = function () {\n    if (this.screen.shouldProceed()) {\n      this.deselect(this);\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/modal/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n  function validateAnswer(_scope) {\n    var answers;\n\n    if (_scope.properties.correct) {\n      answers = _scope.properties.correct.split(/\\s*,\\s*/);\n\n      if (~answers.indexOf(String(_scope.getSelected().index()))) {\n        if (_scope.audio.sfx.correct) _scope.audio.sfx.correct.play();\n        _scope.complete();\n      } else {\n        if (_scope.audio.sfx.incorrect) _scope.audio.sfx.incorrect.play();\n      }\n    }\n\n    return false;\n  }\n\n  this.behavior('answer', function () {\n    var $li;\n    if (this.event) {\n      $li = $(this.event.target).closest('li');\n\n      if (!this.isComplete && this.select($li)) {\n        validateAnswer(this);\n      }\n\n      return {\n        behaviorTarget: $li,\n        message: $li.id(),\n      };\n    }\n\n    return false;\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n  this.item = function (_id) {\n    var vo, index;\n\n    if (typeof _id === 'number') {\n      this.select(this.find('li').eq(_id));\n      this.audio.voiceOver[_id].play();\n    } else if (typeof _id === 'string') {\n      if (this[_id]) {\n        this.select(this[_id]);\n\n        if (this.audio) {\n          index = this[_id].index();\n          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\n          if (vo) vo.play();\n        }\n      }\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/reveal/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\n  this.on('ready', function (_event) {\n    if (this.is(_event.target) && this.audio) {\n      this.audio.rule('.voiceOver', 'shouldPlay', function (_e) {\n        _e.response(!_e.target.config('dontautoplay'));\n      });\n    }\n\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) sfx.play();\n      }));\n    }\n  });\n\n  this.shouldProceed = function () {\n    return (!this.state(this.STATE.PLAYING) && !this.state(this.STATE.VOICE_OVER)) || this.game.demoMode;\n  };\n\n  this.playSound = function (_sound) {\n    var delay;\n\n    delay = $(_sound.media).attr('pl-start');\n\n    if (delay) {\n      return this.delay(delay, _sound.play.bind(_sound));\n    } else {\n      return _sound.play();\n    }\n  };\n\n  this.next = function () {\n    var current, nextScreen, buttonSound;\n\n    if (this.hasClass('last') && this.hasClass('COMPLETE')) this.game.quit.okay();\n\n    if (this !== this.screen) {\n      this.log('Not called on a screen');\n      return;\n    }\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    // delegate to a child \"slides\" component.\n    if (this.slides && this.slides.isComponent) {\n      current = this.slides.current();\n      nextScreen = current.next();\n\n      if (nextScreen == null) {\n        current = this;\n        nextScreen = this.proto();\n      }\n    } else {\n      current = this;\n      nextScreen = this.proto();\n    }\n\n    if (nextScreen) {\n      current.leave();\n      nextScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return nextScreen;\n  };\n\n  this.prev = function () {\n    var current, prevScreen, buttonSound;\n\n    if (this !== this.screen) {\n      this.log('Not called on a screen');\n      return;\n    }\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    // delegate to a child \"slides\" component.\n    if (this.slides && this.slides.isComponent) {\n      current = this.slides.current();\n      prevScreen = current.prev();\n\n      if (prevScreen == null) {\n        current = this;\n        prevScreen = this.proto();\n      }\n    } else {\n      current = this;\n      prevScreen = this.proto();\n    }\n\n    if (prevScreen) {\n      current.close();\n      prevScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return prevScreen;\n  };\n\n  this.start = function () {\n    var entities = this.hasOwnProperty('entities') && this.entities;\n\n    this.startAudio();\n    if (this.audio) this.audio.sfx.play('start');\n\n    if (entities) {\n      entities.forEach(function (_entity) {\n        if (_entity.isMemberSafe('start')) _entity.start();\n      });\n    }\n\n    return this;\n  };\n\n  this.stop = function () {\n    var entities = this.hasOwnProperty('entities') && this.entities;\n\n    this.stopAudio();\n    this.kill('delay');\n\n    if (entities) {\n      entities.forEach(function (_entity) {\n        if (_entity.isMemberSafe('start')) _entity.stop();\n      });\n    }\n\n    return this;\n  };\n\n  this.complete = function () {\n    this.game.audio.sfx.screenComplete.play();\n    return this.proto();\n  };\n\n  this.on('ui-open', function (_event) {\n    if (this.isReady && this.is(_event.target)) this.start();\n\n    if (this.properties.gameClass) {\n      this.game.addClass(this.properties.gameClass);\n    }\n\n    if (this.properties.sfx) {\n      var sfx = this.properties.sfx.split(' ');\n      for (var i = 0, n = sfx.length; i < n; i++) {\n        if (this.audio.sfx[sfx[i]]) this.playSound(this.audio.sfx[sfx[i]]);\n      }\n    }\n  });\n\n  this.on('ui-leave ui-close', function (_event) {\n    if (this.properties.gameClass) {\n      this.game.removeClass(this.properties.gameClass);\n    }\n\n    if (this.isReady && this.is(_event.target)) this.stop();\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n  var characters;\n  /**\n   * Nodes, including the node of this screen, with a\n   * attribute of pl-bg will get a background-image style\n   * and the resource preloaded and collected for watching.\n   */\n  this.handleProperty({\n    bg: function (_node, _name, _value) {\n      var img = new Image();\n      characters = characters || [];\n\n      img.src = _value;\n      characters.push(img);\n      $(_node).css('background-image', 'url(' + _value + ')');\n    }\n  });\n\n  // TODO: Make an automated way to handle this\n  this.on('transitionend', function (_event) {\n    if (!this.is(_event.target)) return;\n    if (this.state(this.STATE.LEAVE)) {\n      this.addClass('LEAVE-END');\n    }\n  });\n\n  this.on('ui-open', function (_event) {\n    if (!this.is(_event.target)) return;\n    this.game.addClass('QUIT-SCREEN');\n    this.removeClass('LEAVE-END');\n    this.game.pause(true);\n  });\n\n  this.on('ui-leave', function () {\n    var vo = this.audio.voiceOver.sure;\n    if (vo) vo.stop();\n    this.game.removeClass('QUIT-SCREEN');\n    this.game.resume();\n  });\n\n  this.init = function () {\n    this.addClass('LEAVE LEAVE-END');\n  };\n\n  this.okay = function () {\n    var sfx = this.audio.sfx.button;\n    if (sfx) sfx.play();\n    this.game.exit();\n  };\n\n  this.cancel = function () {\n    var sfx = this.audio.sfx.button;\n    if (sfx) sfx.play();\n    this.leave();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('selectable', function () {\n\n  this.behavior('select', function (_target) {\n    var $target;\n\n    if (this.event) {\n      $target = $(this.event.target).closest('li');\n\n      if (this.shouldSelect($target) !== false) {\n        return {\n          message: $target.id(),\n          behaviorTarget: $target\n        };\n      }\n    } else {\n      this.proto(_target);\n    }\n\n    return false;\n  });\n\n  this.shouldSelect = function () {\n    return true;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/selectable/behavior.js\n **/","pl.game.component('slides', function () {\n\n  this.slides = null;\n\n  this.ready = function () {\n    this.slides = this.find('> *').scope();\n  };\n\n  this.start = function () {\n    var current, i, n;\n\n    current = this.current();\n\n    if (current) {\n      current.start();\n    } else if (this.slides.length) {\n      this.slides[0].open();\n      for (i = 1, n = this.slides.length; i < n; i++) {\n        this.slides[i] && this.slides[i].close();\n      }\n    }\n  };\n\n  this.current = function () {\n    return this.find('> .OPEN').scope();\n  };\n\n  /*\n   * @this {frame-component-scope} called by the next button in a frame component.\n   */\n  this.next = function () {\n    var index, nextSlide, buttonSound;\n\n    if (!this.completed()) return false;\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    index = this.slides.indexOf(this);\n    if (~index) return this.slides[index + 1];\n\n\n    if (~index) nextSlide = this.slides[index + 1];\n\n    if (nextSlide) {\n      this.leave();\n      nextSlide.open();\n\n      if (buttonSound) buttonSound.play();\n\n      return nextSlide;\n    } else {\n      return this.proto();\n    }\n  };\n\n  /*\n   * @this {frame-component-scope} called by the next button in a frame component.\n   */\n  this.prev = function () {\n    var index, prevSlide, buttonSound;\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    index = this.slides.indexOf(this);\n    if (~index) return this.slides[index - 1];\n\n\n    if (~index) prevSlide = this.slides[index - 1];\n\n    if (prevSlide) {\n      this.close();\n      prevSlide.open();\n\n      if (buttonSound) buttonSound.play();\n\n      return prevSlide;\n    } else {\n      return this.proto();\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/slides/behavior.js\n **/","/**\n * the following is the mouse smoke js\n */\npl.game.component('smoke', function () {\n  var w, h, c, position, particles, img, shouldDraw;\n\n  function Particle(x, y){\n    this.x = x;\n    this.y = y;\n    this.velY = -2;\n    this.velX = (random(1, 10) - 5) / 10;\n    this.size = random(3, 5) / 10;\n    this.alpha = 1;\n    this.update = function (){\n      this.y += this.velY;\n      this.x += this.velX;\n      this.velY *= 0.99;\n      if (this.alpha < 0) this.alpha = 0;\n      c.globalAlpha = this.alpha;\n      c.save();\n      c.translate(this.x, this.y);\n      c.scale(this.size, this.size);\n      c.drawImage(img, -img.width / 2, -img.height / 2);\n      c.restore();\n      this.alpha *= 0.96;\n      this.size += 0.02;\n    };\n  }\n\n  function random(min, max){\n    return Math.random() * (max - min) * min;\n  }\n\n  function draw() {\n    var p = new Particle(position.x, position.y);\n    particles.push(p);\n\n    while (particles.length > 500) particles.shift();\n\n    c.globalAlpha = 1;\n    c.fillStyle = '#000';\n    c.fillRect(0, 0, w, h);\n\n    for (var i = 0; i < particles.length; i++) {\n      particles[i].update();\n    }\n\n    if (shouldDraw) requestAnimationFrame(draw);\n  }\n\n  function handleCursor(e) {\n    position.x = e.clientX / this.zoom;\n    position.y = e.clientY / this.zoom;\n  }\n\n  this.canvas = null;\n  this.particle = null;\n\n  this.on('ready', function (_event) {\n    if (!this.is(_event.target)) return;\n\n    w = this.canvas[0].width = this.game.width(),\n    h = this.canvas[0].height = this.game.height();\n    c = this.canvas.exec('getContext', ['2d'])[0];\n    img = this.particle[0];\n    position = {x: w / 2, y: h / 2};\n\n    this.start();\n  });\n\n  this.start = function () {\n    particles = []; shouldDraw = true;\n    requestAnimationFrame(draw);\n    this.game.on(pl.EVENT.ACTION_MOVE, handleCursor);\n  };\n\n  this.stop = function () {\n    shouldDraw = false;\n    this.game.off(pl.EVENT.ACTION_MOVE, handleCursor);\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/smoke/behavior.js\n **/","pl.game.component('title', function () {\n  this.start = function () {\n    this.proto();\n  };\n  this.stop = function () {\n    this.proto();\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/components/title/behavior.js\n **/","pl.game.config({\n  screenSelector: '.screen',\n  componentDirectory: 'components/',\n  dimensions: {\n    width: 960,\n    ratio: 16 / 9\n  },\n  shouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\nimport './config.game';\n\nimport '../../../shared/js/screen-ios-splash';\nimport './components/audio-sequence/behavior';\nimport './components/background/behavior';\nimport './components/dropzone/behavior';\nimport './components/frame/behavior';\nimport './components/modal/behavior';\nimport './components/multiple-choice/behavior';\nimport './components/reveal/behavior';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/selectable/behavior';\nimport './components/slides/behavior';\nimport './components/smoke/behavior';\nimport './components/title/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\npl.game('fire', function () {\n\n  var self = this;\n\n  pl.game.attachScreen = function(cb) {\n    cb.call(self);\n  };\n\n  // the following is the mouse smoke js\n  (function () {\n    var canvas = document.createElement('canvas');\n    var w = canvas.width = 960,\n      h = canvas.height = 540;\n    var c = canvas.getContext('2d');\n\n    var img = new Image();\n    img.src = 'http://oi41.tinypic.com/4i2aso.jpg';\n\n    var position = {x: w / 2, y: h / 2};\n\n    document.body.appendChild(canvas);\n\n    var particles = [];\n    var random = function (min, max){\n      return Math.random() * (max - min) * min;\n    };\n\n    document.body.onmousemove = function (e){\n      position.x = e.clientX / self.zoom;\n      position.y = e.clientY / self.zoom;\n    };\n    function Particle(x, y){\n      this.x = x;\n      this.y = y;\n      this.velY = -2;\n      this.velX = (random(1, 10) - 5) / 10;\n      this.size = random(3, 5) / 10;\n      this.alpha = 1;\n      this.update = function (){\n        this.y += this.velY;\n        this.x += this.velX;\n        this.velY *= 0.99;\n        if (this.alpha < 0) this.alpha = 0;\n        c.globalAlpha = this.alpha;\n        c.save();\n        c.translate(this.x, this.y);\n        c.scale(this.size, this.size);\n        c.drawImage(img, -img.width / 2, -img.height / 2);\n        c.restore();\n        this.alpha *= 0.96;\n        this.size += 0.02;\n      };\n    }\n\n    var draw = function (){\n      var p = new Particle(position.x, position.y);\n      particles.push(p);\n\n      while (particles.length > 500) particles.shift();\n\n      c.globalAlpha = 1;\n      c.fillStyle = '#000';\n      c.fillRect(0, 0, w, h);\n\n      for (var i = 0; i < particles.length; i++) {\n        particles[i].update();\n      }\n    };\n\n    setInterval(draw, 1000 / 60);\n  }());\n  // end of the mouse smoke js\n\n  var soundClasses = function () {\n    var classes = '';\n\n    this.on('audio-play', function (_event) {\n      var id = _event.target.$el[0].id;\n      if (id) {\n        id = id.toUpperCase();\n        this.addClass(id);\n        classes += ' ' + id;\n      }\n    });\n\n    this.on('ui-close', function () {\n      this.removeClass(classes);\n      classes = '';\n    });\n  };\n\n  this.screen('title', function () {\n\n    this.on('ready', function (_event) {\n      if (!this.is(_event.target)) return;\n\n      if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n    });\n\n    this.on('ui-open', this.complete);\n\n    this.startAudio = function () {\n      this.title.audio.background.play();\n      this.title.audio.voiceOver.play();\n    };\n  });\n\n  this.screen('info-chemical', soundClasses);\n  this.screen('info-fuel-oxygen', soundClasses);\n  this.screen('break-triangle', soundClasses);\n\n  this.screen('flip', function () {\n    this.next = function () {\n      this.game.quit.okay();\n    };\n\n    this.complete = function () {\n      var eventCategory = (['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')']).join(' ');\n\n      ga('send', 'event', eventCategory, 'complete');\n\n      pl.game.trigger($.Event('platform-event', {\n        name: 'flip',\n        gameData: {id: this.game.id()}\n      }));\n\n      return this.proto();\n    };\n  });\n\n  this.screen('quit', function () {\n    var ctx;\n\n    this.on('ready', function (_e) {\n      if (!this.is(_e.target)) return;\n\n      ctx = new (window.AudioContext || window.webkitAudioContext);\n      this.audio.voiceOver.sure.setContext(ctx);\n      this.audio.sfx.button.setContext(ctx);\n    });\n\n    this.on('ui-open', function () {\n      var vo, sfx;\n\n      vo = this.audio.voiceOver.sure;\n      sfx = this.audio.sfx.button;\n      if (vo) vo.play();\n      if (sfx) sfx.play();\n    });\n  });\n\n  this.exit = function () {\n    var screen, eventCategory;\n\n    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n    eventCategory = (['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')']).join(' ');\n\n    ga('send', 'event', eventCategory, 'quit');\n\n    return this.proto();\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./fire/source/js/index.js\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n\tthis.on('ready', function (_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\tthis.splash();\n\t\t}\n\t});\n\n\tthis.splash = function() {\n\t\tthis.close(this.game.loader);\n\n\t\tif(this.game.hasClass('iOS')) {\n\t\t\tthis.open();\n\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t} else {\n\t\t\tthis.game.title.open();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen = this.proto();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tthis.game.audio.sfx.button.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.play('screenComplete');\n\t\treturn this.proto();\n\t};\n\n\tthis.startGame = function() {\n\t\tif(!this.hasClass('FINISHED')) return;\n\t\tthis.game.addClass('STARTED');\n\t\tthis.delay('2.5s', function() {\n\t\t\tthis.next();\n\t\t});\n\t};\n\n\tthis.on('animationend', function(_e) {\n\t\tif(!this.ball.is(_e.target)) return;\n\t\tthis.addClass('FINISHED');\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/"],"sourceRoot":""}