!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="/build/",__webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(20),module.exports=__webpack_require__(19)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg))classes.push(classNames.apply(null,arg));else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}var hasOwn={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?module.exports=classNames:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){var BALLOONS=[{x:15,y:432,text:"bathing"},{x:307,y:632,text:"drinking"},{x:460,y:832,text:"canoeing"},{x:614,y:1032,text:"factories"},{x:768,y:1232,text:"washing"},{x:256,y:568,text:"swimming"},{x:409,y:768,text:"brushing"},{x:409,y:768,text:"electricity"},{x:563,y:968,text:"cooking"},{x:716,y:1168,text:"rafting"},{x:204,y:504,text:"water"},{x:358,y:704,text:"growing"},{x:512,y:904,text:"lawns"},{x:665,y:1104,text:"flowers"},{x:153,y:440,text:"animal"}],playSFX=function playSFX(){var sfx,target=_.get(props,"data.selection.target.props.data-ref",null),index=_.findIndex(BALLOONS,function(value){return value.text===target});return 0<=index&&index<7?sfx="yellow":7<=index&&index<11?sfx="green":11<=index&&index<14&&(sfx="red"),sfx};return React.createElement(skoash.Screen,_extends({id:"balloons"},props,{ref:ref,key:key}),React.createElement(skoash.MediaCollection,{play:playSFX()},React.createElement(skoash.Audio,{ref:"yellow",type:"sfx",src:MEDIA.EFFECT+"Select1.mp3",volume:.6}),React.createElement(skoash.Audio,{ref:"green",type:"sfx",src:MEDIA.EFFECT+"Select2.mp3",volume:.4}),React.createElement(skoash.Audio,{ref:"red",type:"sfx",src:MEDIA.EFFECT+"Select3.mp3",volume:.4})),React.createElement(skoash.MediaCollection,{play:_.get(props,"data.selection.target.props.data-ref",null)},BALLOONS.map(function(value,index){return React.createElement(skoash.Audio,{ref:value.text,type:"voiceOver",src:MEDIA.VO+"Things"+_.upperFirst(value.text)+".mp3",key:index})})),React.createElement(skoash.Image,{src:MEDIA.IMAGE+"img_7.1.png"}),React.createElement(_3["default"],{ref:"selectable-canvas-move",selectClass:"HIGHLIGHTED",onSelect:function onSelect(target){this.updateScreenData({key:"selection",data:{target:target}})},items:BALLOONS.map(function(value,index){return React.createElement(skoash.Image,{src:MEDIA.SPRITE+"img_7.2.png","data-ref":value.text,backgroundRow:index,x:value.x,y:value.y,crossOrigin:"Anonymous"})})}))};var _2=__webpack_require__(25),_3=_interopRequireDefault(_2)},function(module,exports){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){var WAYS=["dishes","teeth","plants","clothes","lukewarm","cooler","trash","car"],openReveal=function openReveal(){var index=_.get(props,"data.reveal.index",-1);(!_.isFinite(index)||index>7)&&(index=-1),this.updateScreenData({key:"reveal",data:{index:index+1}})},closeReveal=function closeReveal(){this.updateScreenData({key:"reveal",data:{close:!0}}),updateMeterHeight.call(this)},updateMeterHeight=function updateMeterHeight(){var complete=!1,height=_.get(props,"data.meter.height",0);(!_.isFinite(height)||height>=7)&&(height=7,complete=!0),this.updateScreenData({key:"meter",data:{height:height+1,complete:complete}})};return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"conserve",className:_.get(props,"data.selectable.target")?"SELECTING":null}),React.createElement(skoash.Image,{src:MEDIA.IMAGE+"img_15.1.png"}),React.createElement(skoash.Image,{className:"hidden",src:MEDIA.IMAGE+"FR_4.png"}),React.createElement(skoash.Image,{className:"hidden",src:MEDIA.SPRITE+"img_sp_15.1.png"}),React.createElement(skoash.Image,{className:"hidden",src:MEDIA.SPRITE+"img_15.3.png"}),React.createElement("div",{id:"door-sprite",className:_.get(props,"data.reveal.open.length",-1)>0?"open":""}),React.createElement(skoash.Component,{id:"meter-sprite"},[].concat(_toConsumableArray(Array(WAYS.length+1))).map(function(value,index){return React.createElement(skoash.Component,{className:_.get(props,"data.meter.height",-1)===index?"visible":"",key:index})})),React.createElement(skoash.MediaCollection,{play:_.get(props,"data.meter.complete",!1)?"meter-complete":""},React.createElement(skoash.Audio,{type:"sfx","data-ref":"meter-complete",src:MEDIA.EFFECT+"Harmonica.mp3"})),React.createElement(skoash.Audio,{type:"voiceOver",src:MEDIA.VO+"WaysConserve.mp3"}),React.createElement(skoash.Selectable,{ref:"selectable",list:[React.createElement("li",{id:"door",className:_.get(props,"data.reveal.open.length",-1)>0?"open":""})],dataTarget:"selectable",onSelect:openReveal}),React.createElement(skoash.MediaCollection,{play:WAYS[_.get(props,"data.reveal.index",null)]+" "+_},WAYS.map(function(value){return React.createElement(skoash.Audio,{onComplete:closeReveal,type:"voiceOver","data-ref":value,src:MEDIA.VO+"Ways"+_.upperFirst(value)+".mp3"})})),React.createElement(skoash.Component,{ref:"frame",className:"frame animated"},React.createElement(skoash.Reveal,{ref:"reveal",openTarget:"reveal",openReveal:WAYS[_.get(props,"data.reveal.index",null)],closeReveal:_.get(props,"data.reveal.close"),list:[React.createElement(skoash.ListItem,{"data-ref":WAYS[0]},React.createElement("p",null,"Don't let the water",React.createElement("br",null),"run while",React.createElement("br",null),"washing dishes.")),React.createElement(skoash.ListItem,{"data-ref":WAYS[1]},React.createElement("p",null,"Don't let the water",React.createElement("br",null),"run continuously while",React.createElement("br",null),"brushing your teeth.")),React.createElement(skoash.ListItem,{"data-ref":WAYS[2]},React.createElement("p",null,"Use leftover water from",React.createElement("br",null),"the melted ice in your",React.createElement("br",null),"glass to water your plants.")),React.createElement(skoash.ListItem,{"data-ref":WAYS[3]},React.createElement("p",null,"Only wash full loads",React.createElement("br",null),"of clothes.")),React.createElement(skoash.ListItem,{"data-ref":WAYS[4]},React.createElement("p",null,"Use lukewarm water.",React.createElement("br",null),React.createElement("br",null),"Don't let it",React.createElement("br",null),"run to warm up.")),React.createElement(skoash.ListItem,{"data-ref":WAYS[5]},React.createElement("p",null,"Collect rain water in",React.createElement("br",null),"a bucket for plants or",React.createElement("br",null),"cleaning or even flushing.")),React.createElement(skoash.ListItem,{"data-ref":WAYS[6]},React.createElement("p",null,"Throw trash in",React.createElement("br",null),"a waste basket.",React.createElement("br",null),React.createElement("br",null),"Don't flush it.")),React.createElement(skoash.ListItem,{"data-ref":WAYS[7]},React.createElement("p",null,"Wash the car in the grass",React.createElement("br",null),"instead of the driveway."))],assets:[React.createElement(skoash.Audio,{"data-ref":"open-sound",type:"sfx",src:MEDIA.EFFECT+"RevealOpen.mp3"}),React.createElement(skoash.Audio,{"data-ref":"close-sound",type:"sfx",src:MEDIA.EFFECT+"RevealClosed.mp3",delay:500})]})))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"info-drain"}),React.createElement(skoash.MediaSequence,null,React.createElement(skoash.Audio,{ref:"info",type:"voiceOver",src:MEDIA.VO+"WeNowUse.mp3",completeTarget:"vo"}),React.createElement(skoash.Audio,{ref:"drain",type:"sfx",src:MEDIA.EFFECT+"Spin.mp3"})),React.createElement(skoash.Image,{src:MEDIA.IMAGE+"img_12.1.png"}),React.createElement("p",{className:"animated "+(_.get(props,"data.vo.complete")?"draining":"")},"Today we use",React.createElement("br",null),"127% more water",React.createElement("br",null),"than we did in 1950!",React.createElement("br",null),React.createElement("br",null),"Most of that water",React.createElement("br",null),"swirls down the drain."))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"drought-effects",className:"large-frame"}),React.createElement(skoash.Audio,{type:"voiceOver",src:MEDIA.VO+"DroughtCan.mp3"}),React.createElement(skoash.Component,{className:"frame animated"},React.createElement(skoash.Image,{className:"falcon",src:MEDIA.IMAGE+"falcon.png"}),React.createElement("p",null,"Drought can have",React.createElement("br",null)," severe effects on",React.createElement("br",null)," the environment.",React.createElement("br",null),"It's really bad for",React.createElement("br",null)," humans, too!"),React.createElement(skoash.Image,{className:"cactus",src:MEDIA.IMAGE+"img_9.1.png"})))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){var REVEALS=["less","loss","erosion","endangered","threats","unable"];return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"environment-effects",className:"bottom-frame"}),React.createElement(skoash.Audio,{type:"voiceOver",src:MEDIA.VO+"EffectsDrought.mp3"}),React.createElement(skoash.Selectable,{ref:"selectable",list:_.map(REVEALS,function(value){return React.createElement(skoash.ListItem,{"data-ref":value})}),selectClass:"HIGHLIGHTED",className:"scroll-selectable",dataTarget:"selectable"}),React.createElement(skoash.MediaCollection,{ref:"media-collection",play:_.get(props,"data.media.open",null)},React.createElement(skoash.Audio,{"data-ref":REVEALS[0],type:"voiceOver",src:MEDIA.VO+"EffectsLess.mp3"}),React.createElement(skoash.Audio,{"data-ref":REVEALS[1],type:"voiceOver",src:MEDIA.VO+"EffectsLoss.mp3"}),React.createElement(skoash.Audio,{"data-ref":REVEALS[2],type:"voiceOver",src:MEDIA.VO+"EffectsErosion.mp3"}),React.createElement(skoash.Audio,{"data-ref":REVEALS[3],type:"voiceOver",src:MEDIA.VO+"EffectsEndangered.mp3"}),React.createElement(skoash.Audio,{"data-ref":REVEALS[4],type:"voiceOver",src:MEDIA.VO+"EffectsThreats.mp3"}),React.createElement(skoash.Audio,{"data-ref":REVEALS[5],type:"voiceOver",src:MEDIA.VO+"EffectsUnable.mp3"})),React.createElement(skoash.Component,{ref:"frame",className:"frame animated"},React.createElement(skoash.Image,{src:MEDIA.IMAGE+"img_10.7.png"}),React.createElement(skoash.Reveal,{ref:"reveal",className:"scroll-reveal",openTarget:"media",openReveal:_.get(props,"data.selectable.target.props.data-ref"),list:[React.createElement(skoash.ListItem,{"data-ref":REVEALS[0]},React.createElement("p",null,"Less food and water.")),React.createElement(skoash.ListItem,{"data-ref":REVEALS[1]},React.createElement("p",null,"Loss of habitat",React.createElement("br",null)," for fish and wildlife.")),React.createElement(skoash.ListItem,{"data-ref":REVEALS[2]},React.createElement("p",null,"Erosion of soil.")),React.createElement(skoash.ListItem,{"data-ref":REVEALS[3]},React.createElement("p",null,"Endangered species",React.createElement("br",null)," could face extinction.")),React.createElement(skoash.ListItem,{"data-ref":REVEALS[4]},React.createElement("p",null,"Threats to homes and lives",React.createElement("br",null)," from forest fires.")),React.createElement(skoash.ListItem,{"data-ref":REVEALS[5]},React.createElement("p",null,"Unable to play in the water."))]})))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"flip",className:"large-frame",emitOnComplete:{name:"flip"}}),React.createElement(skoash.MediaSequence,null,React.createElement(skoash.Audio,{type:"voiceOver",src:MEDIA.VO+"DOFlip.mp3",completeTarget:"vo",volume:2}),React.createElement(skoash.Audio,{type:"sfx",src:MEDIA.EFFECT+"Rattle.mp3"})),React.createElement(skoash.Component,{className:"frame animated"},React.createElement("h3",null,"Thank you."),React.createElement("p",null,"You learned a lot about",React.createElement("br",null),"how to save water!",React.createElement("br",null),"Now lets work together",React.createElement("br",null),"to get the Drought Out."),React.createElement(skoash.Image,{className:"animated "+(_.get(props,"data.vo.complete")?"shaking":""),src:MEDIA.IMAGE+"img_17.1.png"})))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"great-job",className:"large-frame"}),React.createElement(skoash.MediaSequence,null,React.createElement(skoash.Audio,{ref:"great-job",type:"voiceOver",src:MEDIA.VO+"GreatJob.mp3"})),React.createElement(skoash.Component,{className:"frame animated"},React.createElement(skoash.Image,{src:MEDIA.IMAGE+"img_8.1.png"}),React.createElement("p",null,"Now let's look",React.createElement("br",null)," at the impact of drought."),React.createElement(skoash.Image,{src:MEDIA.IMAGE+"img_8.2.png"})))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"hero",className:"large-frame"}),React.createElement(skoash.Audio,{type:"voiceOver",src:MEDIA.VO+"BeAHero.mp3"}),React.createElement(skoash.Component,{className:"frame animated"},React.createElement(skoash.Image,{src:MEDIA.IMAGE+"img_16.1.png"}),React.createElement("p",null,"Take this real world!",React.createElement("br",null),"Do ",React.createElement(skoash.Image,{className:"inline",src:MEDIA.IMAGE+"img_16.2.png"}),"and show your family",React.createElement("br",null)," how they can be heroes too.")))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"humans-animals",className:"small-frame",playOnStart:"tumbleweed"}),React.createElement(skoash.Audio,{ref:"tumbleweed",type:"sfx",src:MEDIA.EFFECT+"Tumbleweed.mp3",loop:!0,complete:!0,checkComplete:!1}),React.createElement(skoash.Audio,{type:"voiceOver",src:MEDIA.VO+"HumansAnimals.mp3"}),React.createElement(skoash.Component,{className:"frame animated"},React.createElement("p",null,"Humans, animals and ",React.createElement("br",null),"plants need ",React.createElement("br",null),"water to live!")),React.createElement(skoash.Sprite,{className:"tumbleweed",src:MEDIA.SPRITE+"tumbleweed",animate:!0}))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"info-no-water",className:"large-frame",restartBackground:!0}),React.createElement(skoash.MediaSequence,null,React.createElement(skoash.Audio,{ref:"vo",type:"voiceOver",src:MEDIA.VO+"WhenThere.mp3",delay:6500,completeTarget:"vo"}),React.createElement(skoash.Audio,{ref:"stamp",type:"sfx",src:MEDIA.EFFECT+"Stamp.mp3"})),React.createElement(skoash.Image,{className:"hidden",src:MEDIA.IMAGE+"FR_4.png"}),React.createElement(skoash.Component,{className:"frame animated"},React.createElement("p",null,"When there is less rain and snow",React.createElement("br",null),"consistently over a period of years,",React.createElement("br",null),"it causes drought."),React.createElement(skoash.Image,{id:"stamp-img",className:"animated "+(_.get(props,"data.vo.complete")?"TRANSLATE":""),src:MEDIA.IMAGE+"img_3.1.png"})))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"info-use-water",className:"large-frame"}),React.createElement(skoash.Audio,{type:"voiceOver",src:MEDIA.VO+"ClickTo.mp3",volume:2}),React.createElement(skoash.Component,{className:"frame animated"},React.createElement(skoash.Image,{src:MEDIA.IMAGE+"img_6.1.png"}),React.createElement("p",null,"Click to reveal things",React.createElement("br",null)," that we use water for",React.createElement("br",null)," almost every day!")))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"shower"}),React.createElement(skoash.Audio,{type:"voiceOver",src:MEDIA.VO+"IfYouDecrease.mp3"}),React.createElement(skoash.Image,{className:"hidden",src:MEDIA.SPRITE+"sprites.cards.png"}),React.createElement(skoash.Image,{className:"title",src:MEDIA.IMAGE+"img_14.1.png"}),React.createElement("p",null,"Turn each card."),React.createElement(skoash.Component,{className:"flip-card-component bt"},React.createElement(skoash.Selectable,{ref:"selectable-card",className:"flip-card-component",list:[React.createElement(skoash.Component,{type:"li",correct:!0,"data-ref":"day"},React.createElement("div",{className:"side b center inline"}),React.createElement("div",{className:"side a center inline"})),React.createElement(skoash.Component,{type:"li",correct:!0,"data-ref":"week"},React.createElement("div",{className:"side b center inline"}),React.createElement("div",{className:"side a center inline"})),React.createElement(skoash.Component,{type:"li",correct:!0,"data-ref":"year"},React.createElement("div",{className:"side b center inline"}),React.createElement("div",{className:"side a center inline"}))],selectClass:"HIGHLIGHTED",dataTarget:"selectable"})),React.createElement(skoash.MediaCollection,{ref:"media-collection",play:_.get(props,"data.selectable.target.props.data-ref")},React.createElement(skoash.Audio,{"data-ref":"day",type:"voiceOver",src:MEDIA.VO+"5Gallons.mp3"}),React.createElement(skoash.Audio,{"data-ref":"week",type:"voiceOver",src:MEDIA.VO+"35Gallons.mp3"}),React.createElement(skoash.Audio,{"data-ref":"year",type:"voiceOver",src:MEDIA.VO+"1680Gallons.mp3"})))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){var ANSWERS=["dry","parched","dusty","hot","no-water","thirsty","arid"],onSelect=function onSelect(target){ANSWERS.indexOf(target)<0&&(ref="incorrect"),playAudio.call(this,target,playAudio.bind(this,"dummy",_.noop))},playAudio=function playAudio(target,cb){this.updateScreenData({key:"selectable",data:{play:target},callback:cb})};return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"think",className:"large-frame"}),React.createElement(skoash.Audio,{type:"voiceOver",src:MEDIA.VO+"WhatDoYou.mp3"}),React.createElement(skoash.Image,{className:"hidden",ref:"hidden",src:MEDIA.IMAGE+"FR_1.png"}),React.createElement(skoash.Component,{className:"frame animated"},React.createElement("p",null,"What do you think of when you hear",React.createElement("br",null),"the word ",React.createElement("span",{className:"inline drought-word"})),React.createElement(skoash.MediaCollection,{ref:"media-collection",play:_.get(props,"data.selectable.play",null)},React.createElement(skoash.Audio,{type:"sfx","data-ref":"incorrect",src:MEDIA.EFFECT+"Wrong.mp3",complete:!0,checkComplete:!1}),React.createElement(skoash.Audio,{type:"voiceOver","data-ref":"dry",src:MEDIA.VO+"WhatDry.mp3"}),React.createElement(skoash.Audio,{type:"voiceOver","data-ref":"parched",src:MEDIA.VO+"WhatParched.mp3"}),React.createElement(skoash.Audio,{type:"voiceOver","data-ref":"dusty",src:MEDIA.VO+"WhatDusty.mp3"}),React.createElement(skoash.Audio,{type:"voiceOver","data-ref":"hot",src:MEDIA.VO+"WhatHot.mp3"}),React.createElement(skoash.Audio,{type:"voiceOver","data-ref":"no-water",src:MEDIA.VO+"WhatNoWater.mp3"}),React.createElement(skoash.Audio,{type:"voiceOver","data-ref":"thirsty",src:MEDIA.VO+"WhatThirsty.mp3"}),React.createElement(skoash.Audio,{type:"voiceOver","data-ref":"arid",src:MEDIA.VO+"WhatArid.mp3"})),React.createElement(skoash.Selectable,{ref:"selectable",selectClass:"HIGHLIGHTED",onSelect:onSelect,answers:ANSWERS,list:[React.createElement(skoash.ListItem,{className:"dry","data-ref":"dry",correct:!0}),React.createElement(skoash.ListItem,{className:"green","data-ref":"incorrect"}),React.createElement(skoash.ListItem,{className:"parched","data-ref":"parched",correct:!0}),React.createElement(skoash.ListItem,{className:"monsoon","data-ref":"incorrect"}),React.createElement(skoash.ListItem,{className:"damp","data-ref":"incorrect"}),React.createElement(skoash.ListItem,{className:"dusty","data-ref":"dusty",correct:!0}),React.createElement(skoash.ListItem,{className:"hot","data-ref":"hot",correct:!0}),React.createElement(skoash.ListItem,{className:"no-water","data-ref":"no-water",correct:!0}),React.createElement(skoash.ListItem,{className:"thirsty","data-ref":"thirsty",correct:!0}),React.createElement(skoash.ListItem,{className:"wet","data-ref":"incorrect"}),React.createElement(skoash.ListItem,{className:"tropical","data-ref":"incorrect"}),React.createElement(skoash.ListItem,{className:"arid","data-ref":"arid",correct:!0}),React.createElement(skoash.ListItem,{className:"steamy","data-ref":"incorrect"}),React.createElement(skoash.ListItem,{className:"balmy","data-ref":"incorrect"}),React.createElement(skoash.ListItem,{className:"swampy","data-ref":"incorrect"})]})))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"title",checkComplete:!1,completeDelay:3e3,completeOnStart:!0,playOnStart:"bird-wing-flap"}),React.createElement(skoash.Audio,{ref:"bird-wing-flap",type:"sfx",delay:3e3,src:MEDIA.EFFECT+"BirdWingFlap.mp3",complete:!0,checkComplete:!1}),React.createElement(skoash.Image,{className:"animated title",src:MEDIA.IMAGE+"img_1.1.png"}),React.createElement(skoash.Sprite,{className:"falcon",src:MEDIA.SPRITE+"Falcon_5-01",frame:0,frames:9,animate:!0}),React.createElement(skoash.Sprite,{className:"tumbleweed",src:MEDIA.SPRITE+"tumbleweed",animate:!0}))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"info-using-less"}),React.createElement(skoash.Audio,{type:"voiceOver",src:MEDIA.VO+"UsingLess.mp3"}),React.createElement(skoash.Image,{src:MEDIA.IMAGE+"img_13.1.png"}),React.createElement("p",null,"Using less",React.createElement("br",null)," adds up!"))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"what-can-we-do"}),React.createElement(skoash.Audio,{type:"voiceOver",src:MEDIA.VO+"WhatCanWe.mp3"}),React.createElement(skoash.Image,{src:MEDIA.IMAGE+"img_11.1.png"}),React.createElement(skoash.Component,{className:"flip-card-component bt"},React.createElement(skoash.Selectable,{ref:"selectable-card",className:"flip-card-component",list:[React.createElement(skoash.Component,{type:"li",correct:!0,"data-ref":"flip conservation"},React.createElement("div",{className:"side b center inline"}),React.createElement("div",{className:"side a center inline"}))],selectClass:"HIGHLIGHTED",dataTarget:"selectable"})),React.createElement(skoash.MediaCollection,{ref:"media-collection",play:_.get(props,"data.selectable.target.props.data-ref",null)},React.createElement(skoash.Audio,{"data-ref":"conservation",type:"voiceOver",src:MEDIA.VO+"FirstLine.mp3"}),React.createElement(skoash.Audio,{"data-ref":"flip",type:"voiceOver",src:MEDIA.EFFECT+"CardFlip.mp3"})))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var config={id:"drought-out",version:2,skoash:"1.1.2",dimensions:{width:960,ratio:16/9}};exports["default"]=config},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _config=__webpack_require__(18),_config2=_interopRequireDefault(_config),_=__webpack_require__(22),_2=_interopRequireDefault(_),_3=__webpack_require__(21),_4=_interopRequireDefault(_3),_title_screen=__webpack_require__(15),_title_screen2=_interopRequireDefault(_title_screen),_think_screen=__webpack_require__(14),_think_screen2=_interopRequireDefault(_think_screen),_info_no_water_screen=__webpack_require__(11),_info_no_water_screen2=_interopRequireDefault(_info_no_water_screen),_humans_animals_screen=__webpack_require__(10),_humans_animals_screen2=_interopRequireDefault(_humans_animals_screen),_info_use_water_screen=__webpack_require__(12),_info_use_water_screen2=_interopRequireDefault(_info_use_water_screen),_balloons_screen=__webpack_require__(2),_balloons_screen2=_interopRequireDefault(_balloons_screen),_great_job_screen=__webpack_require__(8),_great_job_screen2=_interopRequireDefault(_great_job_screen),_drought_effects_screen=__webpack_require__(5),_drought_effects_screen2=_interopRequireDefault(_drought_effects_screen),_environment_effects_screen=__webpack_require__(6),_environment_effects_screen2=_interopRequireDefault(_environment_effects_screen),_what_can_we_do_screen=__webpack_require__(17),_what_can_we_do_screen2=_interopRequireDefault(_what_can_we_do_screen),_drain_screen=__webpack_require__(4),_drain_screen2=_interopRequireDefault(_drain_screen),_using_less_screen=__webpack_require__(16),_using_less_screen2=_interopRequireDefault(_using_less_screen),_shower_screen=__webpack_require__(13),_shower_screen2=_interopRequireDefault(_shower_screen),_conserve_screen=__webpack_require__(3),_conserve_screen2=_interopRequireDefault(_conserve_screen),_hero_screen=__webpack_require__(9),_hero_screen2=_interopRequireDefault(_hero_screen),_flip_screen=__webpack_require__(7),_flip_screen2=_interopRequireDefault(_flip_screen),_5=__webpack_require__(23),_6=_interopRequireDefault(_5),DroughtOut;MEDIA.GAME=MEDIA.BASE+"Games/DroughtOut/",MEDIA.EFFECT=MEDIA.GAME+"SoundAssets/effects/",MEDIA.VO=MEDIA.GAME+"SoundAssets/vos/",MEDIA.IMAGE=MEDIA.GAME+"ImageAssets/",MEDIA.SPRITE=MEDIA.GAME+"SpritesAnimations/",DroughtOut=React.createElement(skoash.Game,{config:_config2["default"],screens:{0:_4["default"],1:_title_screen2["default"],2:_think_screen2["default"],3:_info_no_water_screen2["default"],4:_humans_animals_screen2["default"],5:_info_use_water_screen2["default"],6:_balloons_screen2["default"],7:_great_job_screen2["default"],8:_drought_effects_screen2["default"],9:_environment_effects_screen2["default"],10:_what_can_we_do_screen2["default"],11:_drain_screen2["default"],12:_using_less_screen2["default"],13:_shower_screen2["default"],14:_conserve_screen2["default"],15:_hero_screen2["default"],16:_flip_screen2["default"]},menus:{quit:_6["default"]},loader:React.createElement(_2["default"],null),getBackgroundIndex:function getBackgroundIndex(index,id){switch(id){case"title":return 0;case"think":return;case"info-no-water":case"info-impact":case"info-need-water":case"info-use-water":return 1;case"balloons":case"info-great-job":return 2;case"info-environment-effects":case"environment-effects":case"what-can-we-do":return 3;case"conserve":case"hero":return 4;case"info-drain":case"shower":return 5;case"info-using-less":return 6;case"flip":return 7}},assets:[React.createElement(skoash.Audio,{ref:"bkg-0",type:"background",src:MEDIA.EFFECT+"Theme.mp3"}),React.createElement(skoash.Audio,{ref:"bkg-1",type:"background",src:MEDIA.EFFECT+"BKG1.mp3",loop:!0}),React.createElement(skoash.Audio,{ref:"bkg-2",type:"background",src:MEDIA.EFFECT+"BKG2.mp3",loop:!0}),React.createElement(skoash.Audio,{ref:"bkg-3",type:"background",src:MEDIA.EFFECT+"BKG3.mp3",loop:!0}),React.createElement(skoash.Audio,{
ref:"bkg-4",type:"background",src:MEDIA.EFFECT+"BKG4.mp3"}),React.createElement(skoash.Audio,{ref:"bkg-5",type:"background",src:MEDIA.EFFECT+"BKG5.mp3"}),React.createElement(skoash.Audio,{ref:"bkg-6",type:"background",src:MEDIA.EFFECT+"CashRegister.mp3"}),React.createElement(skoash.Audio,{ref:"bkg-7",type:"background",src:MEDIA.EFFECT+"FlipBKG.mp3",volume:.8}),React.createElement(skoash.Audio,{ref:"button",type:"sfx",src:MEDIA.EFFECT+"Next.mp3"}),React.createElement(skoash.Audio,{ref:"screen-complete",type:"sfx",src:MEDIA.EFFECT+"WhooHoo.mp3"}),React.createElement("div",{className:"background-1"}),React.createElement("div",{className:"background-2"}),React.createElement("div",{className:"background-3"}),React.createElement("div",{className:"background-4"}),React.createElement("div",{className:"background-5"}),React.createElement(skoash.Image,{ref:"bkg-image-1",className:"hidden",src:MEDIA.IMAGE+"BKG_1.jpg"}),React.createElement(skoash.Image,{ref:"bkg-image-2",className:"hidden",src:MEDIA.IMAGE+"BKG_2.jpg"}),React.createElement(skoash.Image,{ref:"bkg-image-3",className:"hidden",src:MEDIA.IMAGE+"BKG_3.jpg"}),React.createElement(skoash.Image,{ref:"bkg-image-4",className:"hidden",src:MEDIA.IMAGE+"BKG_4.jpg"}),React.createElement(skoash.Image,{ref:"bkg-image-5",className:"hidden",src:MEDIA.IMAGE+"BKG_5.jpg"}),React.createElement(skoash.Image,{ref:"buttons",className:"hidden",src:MEDIA.SPRITE+"BU_1.png"})]}),skoash.start(DroughtOut)},function(module,exports){"use strict";window.ENVIRONMENT={MEDIA:"https://media.changemyworldnow.com/f/"},window.MEDIA={BASE:"https://media.changemyworldnow.com/f/"}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=function(props,ref,key){return React.createElement(skoash.Screen,_extends({},props,{ref:ref,key:key,id:"ios-splash",checkComplete:!1,completeDelay:6e3,nextDelay:3e3,completeOnStart:!0,hidePrev:!0}),React.createElement(skoash.Image,{className:"hidden",src:"../shared/images/ios_start_ball.png"}),React.createElement(skoash.Image,{className:"hidden",src:"../shared/images/ios_start_ball_anim.gif"}))}},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Loader=function(_skoash$Component){function Loader(){return _classCallCheck(this,Loader),_possibleConstructorReturn(this,(Loader.__proto__||Object.getPrototypeOf(Loader)).apply(this,arguments))}return _inherits(Loader,_skoash$Component),_createClass(Loader,[{key:"render",value:function render(){return React.createElement("div",{id:"loader",className:"center"},React.createElement("div",{className:"group"},React.createElement("h2",null,"Loading!"),React.createElement("div",{className:"spinner animated"},React.createElement("div",{className:"spinner animated"},React.createElement("div",{className:"spinner animated"})))))}}]),Loader}(skoash.Component);exports["default"]=Loader},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),QuitScreen=function(_skoash$Screen){function QuitScreen(){return _classCallCheck(this,QuitScreen),_possibleConstructorReturn(this,(QuitScreen.__proto__||Object.getPrototypeOf(QuitScreen)).apply(this,arguments))}return _inherits(QuitScreen,_skoash$Screen),_createClass(QuitScreen,[{key:"okay",value:function okay(){skoash.trigger("quit")}},{key:"cancel",value:function cancel(){this.close(),skoash.trigger("menuClose",{id:this.props.id})}},{key:"renderAssets",value:function renderAssets(){return this.props.assets?this.props.assets.map(function(asset,key){return React.createElement(skoash.Audio,_extends({},asset.props,{ref:asset.ref||asset.props["data-ref"]||"asset-"+key,key:key,"data-ref":key}))}):null}},{key:"render",value:function render(){return React.createElement("div",{id:this.props.id,className:"screen "+this.getClassNames()},this.renderAssets(),React.createElement("div",{className:"center"},React.createElement("div",{className:"frame"},React.createElement("h2",null,"Are you sure you",React.createElement("br",null),"want to quit?"),React.createElement("h3",null,"Your game progress will be saved"),React.createElement("button",{className:"quit-yes",onClick:this.okay.bind(this)}),React.createElement("button",{className:"quit-no",onClick:this.cancel.bind(this)}))))}}]),QuitScreen}(skoash.Screen);exports["default"]=React.createElement(QuitScreen,{id:"quit"})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),SelectableCanvas=function(_skoash$Selectable){function SelectableCanvas(){_classCallCheck(this,SelectableCanvas);var _this=_possibleConstructorReturn(this,(SelectableCanvas.__proto__||Object.getPrototypeOf(SelectableCanvas)).call(this));return _this.state={classes:{},selectFunction:_this.select},_this}return _inherits(SelectableCanvas,_skoash$Selectable),_createClass(SelectableCanvas,[{key:"bootstrap",value:function bootstrap(){var _this2=this,offset;_get(SelectableCanvas.prototype.__proto__||Object.getPrototypeOf(SelectableCanvas.prototype),"bootstrap",this).call(this),this.buffer=this.refs.canvas||document.createElement("canvas"),this.buffer=document.createElement("canvas"),this.bctx=this.buffer.getContext("2d"),this.el=ReactDOM.findDOMNode(this),offset=this.el.getBoundingClientRect(),this.buffer.width=offset.width,this.buffer.height=offset.height,this.items=[],_.forIn(this.refs,function(component){var img=ReactDOM.findDOMNode(component.refs.img);component.refs&&img&&_this2.items.push(img)})}},{key:"selectHelper",value:function selectHelper(e,classes){var _this3=this,offset,target,dataRef;offset=this.el.getBoundingClientRect(),this.buffer.width=offset.width,this.buffer.height=offset.height,this.items.some(function(item,key){return!!_this3.isImageTarget(item,e,offset)&&(dataRef=item.getAttribute("data-ref"),target=_this3.refs[dataRef]||_this3.refs[key],target.complete(),classes[key]=_this3.props.selectClass,!0)}),this.setState({classes:classes}),target&&"function"==typeof this.props.selectRespond&&this.props.selectRespond.call(this,target.props.message),this.checkComplete()}},{key:"isImageTarget",value:function isImageTarget(image,e,parentOffset){var offset,pixel;return offset=image.getBoundingClientRect(),this.bctx.clearRect(0,0,this.buffer.width,this.buffer.height),this.bctx.drawImage(image,offset.left-parentOffset.left,offset.top-parentOffset.top,offset.width,offset.height),pixel=this.bctx.getImageData(e.pageX,e.pageY,1,1),this.bctx.fillStyle="blue",this.bctx.fillRect(e.pageX,e.pageY,5,5),pixel.data[3]>0}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])("selectable-canvas",_get(SelectableCanvas.prototype.__proto__||Object.getPrototypeOf(SelectableCanvas.prototype),"getClassNames",this).call(this))}},{key:"render",value:function render(){return React.createElement("div",null,React.createElement("canvas",{ref:"canvas"}),React.createElement("ul",{className:this.getClassNames(),onClick:this.state.selectFunction.bind(this)},this.renderList()))}}]),SelectableCanvas}(skoash.Selectable);exports["default"]=SelectableCanvas},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_classnames=__webpack_require__(1),_classnames2=_interopRequireDefault(_classnames),_2=__webpack_require__(24),_3=_interopRequireDefault(_2),Item=function Item(component,context){return this.position={x:component.props.x,y:component.props.y},this.margin=0,this.left=0,this.selected=!1,this.speed=(5*Math.random()%3+2)/2,this.component=component,this.image=ReactDOM.findDOMNode(component),this.context=context,this.backgroundSize={width:200,height:200},this.size={width:360,height:460},this.render=function(){this.context.drawImage(this.image,this.left,this.component.props.backgroundRow*this.image.naturalHeight/15,this.size.width,this.size.height,this.position.x,this.position.y,this.backgroundSize.width,this.backgroundSize.height)},this.hover=function(){this.selected||(this.left=this.image.naturalWidth/3)},this.unhover=function(){this.selected||(this.left=0)},this.select=function(){this.selected=!0,this.left=2*this.image.naturalWidth/3},this.deselect=function(){this.selected=!1,this.left=0},this},SelectableCanvasMove=function(_SelectableCanvas){function SelectableCanvasMove(){_classCallCheck(this,SelectableCanvasMove);var _this=_possibleConstructorReturn(this,(SelectableCanvasMove.__proto__||Object.getPrototypeOf(SelectableCanvasMove)).call(this));return _this.state={classes:{},selectFunction:_this.highlight},_this.move=_this.move.bind(_this),_this.onHover=_this.onHover.bind(_this),_this}return _inherits(SelectableCanvasMove,_SelectableCanvas),_createClass(SelectableCanvasMove,[{key:"bootstrap",value:function bootstrap(){var _this2=this;skoash.Selectable.prototype.bootstrap.call(this),this.buffer=document.createElement("canvas"),this.el=ReactDOM.findDOMNode(this),this.setDimensions(),this.bctx=this.buffer.getContext("2d"),this.context=this.refs.canvas.getContext("2d"),this.items=[],_.forIn(this.refs,function(item){item instanceof skoash.Image&&_this2.items.push(new Item(item,_this2.context))}),this.itemsReverse=_.reverse(_.clone(this.items))}},{key:"setDimensions",value:function setDimensions(){this.refs.canvas.width=this.el.offsetWidth,this.refs.canvas.height=this.el.offsetHeight,this.buffer.width=this.el.offsetWidth,this.buffer.height=this.el.offsetHeight}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.setDimensions()}},{key:"start",value:function start(){_get(SelectableCanvasMove.prototype.__proto__||Object.getPrototypeOf(SelectableCanvasMove.prototype),"start",this).call(this),this.isRunning=!0,window.requestAnimationFrame(this.move),_.each(this.items,function(item){return item.deselect()})}},{key:"move",value:function move(){var _this3=this;this.context.clearRect(0,0,this.refs.canvas.width,this.refs.canvas.height),_.each(this.items,function(item){var y,height;item.position.y-=item.speed,y=item.position.y+item.margin,height=item.size.height,y+height<0&&(item.position.y=1.1*_this3.el.offsetHeight),item.render()}),this.isRunning&&window.requestAnimationFrame(this.move)}},{key:"selectHelper",value:function selectHelper(e,classes){var _this4=this,target;this.itemsReverse.some(function(item,key){return!!_this4.isImageTarget(item,e)&&(item.select(),target=item.component,target.complete(),classes[key]=_this4.props.selectClass,!0)}),this.setState({classes:classes}),this.props.onSelect.call(this,target),this.checkComplete()}},{key:"onHover",value:function onHover(e){var _this5=this;this.itemsReverse.forEach(function(item){item.unhover()}),this.itemsReverse.some(function(item){return!!_this5.isImageTarget(item,e)&&(item.hover(),!0)})}},{key:"isImageTarget",value:function isImageTarget(item,e){var pixel;return this.bctx.clearRect(0,0,this.buffer.width,this.buffer.height),this.bctx.drawImage(item.image,item.left,item.component.props.backgroundRow*item.image.naturalHeight/15,item.size.width,item.size.height,item.position.x,item.position.y,item.backgroundSize.width,item.backgroundSize.height),pixel=this.bctx.getImageData(e.pageX,e.pageY,1,1),this.bctx.fillStyle="blue",this.bctx.fillRect(e.pageX,e.pageY,5,5),pixel.data[3]>0}},{key:"getClassNames",value:function getClassNames(){return(0,_classnames2["default"])("selectable-canvas-move",_get(SelectableCanvasMove.prototype.__proto__||Object.getPrototypeOf(SelectableCanvasMove.prototype),"getClassNames",this).call(this))}},{key:"render",value:function render(){return React.createElement("div",{className:this.getClassNames()},React.createElement("div",{className:"items hidden"},this.renderContentList("items")),React.createElement("canvas",{ref:"canvas",onClick:this.state.selectFunction.bind(this),onMouseMove:this.onHover}))}}]),SelectableCanvasMove}(_3["default"]);SelectableCanvasMove.defaultProps=_.defaults({items:[],onSelect:_.noop},_3["default"].defaultProps),exports["default"]=SelectableCanvasMove}]);
//# sourceMappingURL=ai.js.map