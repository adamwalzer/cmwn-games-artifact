{"version":3,"sources":["webpack:///tag-it/ai.js","webpack:///webpack/bootstrap 4f0409826a6b6ec2cb27","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js","webpack:///./tag-it/source/js/components/audio-sequence/behavior.js","webpack:///./tag-it/source/js/components/frame/behavior.js","webpack:///./tag-it/source/js/components/modal/behavior.js","webpack:///./tag-it/source/js/components/multiple-choice/behavior.js","webpack:///./tag-it/source/js/components/reveal/behavior.js","webpack:///./tag-it/source/js/components/score/behavior.js","webpack:///./tag-it/source/js/components/screen-basic/behavior.js","webpack:///./tag-it/source/js/components/screen-quit/behavior.js","webpack:///./tag-it/source/js/components/screen-title/behavior.js","webpack:///./tag-it/source/js/components/selectable-reveal/behavior.js","webpack:///./tag-it/source/js/components/selectable/behavior.js","webpack:///./tag-it/source/js/components/slides/behavior.js","webpack:///./tag-it/source/js/config.game.js","webpack:///./tag-it/source/js/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","i","s","o","g","r","a","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","window","document","ga","pl","game","component","this","on","_e","is","target","title","state","STATE","READY","splash","close","loader","hasClass","open","ball","delay","next","nextScreen","proto","screen","leave","audio","sfx","button","play","complete","startGame","addClass","test","_env","parent","location","href","domain","sounds","_event","find","toArray","OPEN","playSound","$","data","bind","start","bgSound","voSound","util","resolvePath","hasOwnProperty","entities","handleProperty","_node","_name","_value","defineRule","index","backgroundImage","isReady","targetScope","isComplete","requiredQueue","length","isMemberSafe","item","_id","select","reveal","VOICE_OVER","demoMode","deselect","validateAnswer","_scope","answers","properties","correct","split","indexOf","String","getSelected","answer","$li","event","closest","vo","eq","voiceOver","value","entity","template","ready","html","render","replace","init","require","board","up","_count","parseInt","max","down","currentVO","allowAction","_sound","media","attr","type","buttonSound","prev","prevScreen","fxSound","stop","timeoutID","clearTimeout","gameClass","wallpaper","changeWallpaper","removeClass","LEAVE","pause","resume","okay","exit","cancel","iosSplash","so","respond","stateMethod","message","select_state","behaviorTarget","shouldSelect","_$target","HIGHLIGHTED","behavior","_target","$target","deselectAll","items","unhighlight","slides","scope","current","n","nextSlide","completed","prevSlide","config","screenSelector","componentDirectory","dimensions","width","ratio","shouldLoadComponentStyles","audioClasses","audioScreens","k","classes","$el","toUpperCase","quit","eventCategory","join","report","flip","name","gameData","ctx","AudioContext","webkitAudioContext","sure","setContext","findOwn"],"mappings":"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","file":"tag-it/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(17);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\t\tthis.splash();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.splash = function () {\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tif (this.game.hasClass('iOS')) {\n\t\t\t\tthis.open();\n\t\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t\t} else {\n\t\t\t\tthis.game.title.open();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen = this.proto();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tthis.game.audio.sfx.button.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.play('screenComplete');\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.startGame = function () {\n\t\t\tif (!this.hasClass('FINISHED')) return;\n\t\t\tthis.game.addClass('STARTED');\n\t\t\tthis.delay('2.5s', function () {\n\t\t\t\tthis.next();\n\t\t\t});\n\t\t};\n\t\n\t\tthis.on('animationend', function (_e) {\n\t\t\tif (!this.ball.is(_e.target)) return;\n\t\t\tthis.addClass('FINISHED');\n\t\t});\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t(function test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t})();\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('audio-sequence', function () {\n\t  var i, sounds;\n\t\n\t  this.on('ready', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t\n\t    sounds = this.find('> audio').toArray();\n\t\n\t    this.audio.on('ended', (function () {\n\t      var next = sounds[i++];\n\t      if (next && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound($(next).data('context'));\n\t    }).bind(this));\n\t  });\n\t\n\t  this.start = function () {\n\t    i = 1;\n\t    if (sounds[0] && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound($(sounds[0]).data('context'));\n\t  };\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('frame', function () {\n\t\n\t  this.start = function () {\n\t    var bgSound, voSound;\n\t\n\t    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t\n\t    if (bgSound) bgSound.play();\n\t    if (voSound) this.screen.playSound(voSound);\n\t\n\t    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t    return this;\n\t  };\n\t\n\t  this.handleProperty({\n\t    title: function title(_node, _name, _value) {\n\t      if (this.is(_node)) {\n\t        this.find('.frame').addClass('title');\n\t        this.game.defineRule('.experiment:nth-of-type(' + (this.screen.index() + 1) + ') .frame-component .frame.title::before', {\n\t          backgroundImage: 'url(' + _value + ')'\n\t        });\n\t      }\n\t    }\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.isReady) {\n\t      this.start();\n\t    }\n\t\n\t    if (this === _event.targetScope) {\n\t      if (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && this.requiredQueue && this.requiredQueue.length)) {\n\t        this.complete();\n\t      }\n\t    }\n\t  });\n\t\n\t  this.on('ready', function () {\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'audio.sfx.screenComplete') || pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) this.playSound(sfx);\n\t      }));\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('modal', function () {\n\t\n\t  this.item = function (_id) {\n\t    this.select(this);\n\t    this.reveal.item(_id);\n\t  };\n\t\n\t  this.close = function () {\n\t    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t      this.deselect(this);\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t  function validateAnswer(_scope) {\n\t    var answers;\n\t\n\t    if (_scope.properties.correct) {\n\t      answers = _scope.properties.correct.split(/\\s*,\\s*/);\n\t\n\t      if (~answers.indexOf(String(_scope.getSelected().index()))) {\n\t        _scope.complete();\n\t      }\n\t    }\n\t\n\t    return false;\n\t  }\n\t\n\t  this.answer = function () {\n\t    var $li;\n\t\n\t    if (this.event) {\n\t      $li = $(this.event.target).closest('li');\n\t\n\t      if (!this.isComplete && this.select($li)) {\n\t        validateAnswer(this);\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t  this.item = function (_id) {\n\t    var vo, index;\n\t\n\t    if (typeof _id === 'number') {\n\t      this.select(this.find('li').eq(_id));\n\t      this.audio.voiceOver[_id].play();\n\t    } else if (typeof _id === 'string') {\n\t      if (this[_id]) {\n\t        this.select(this[_id]);\n\t\n\t        if (this.audio) {\n\t          index = this[_id].index();\n\t          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t          if (vo) vo.play();\n\t        }\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('score', function () {\n\t\n\t  this.value = 0;\n\t\n\t  this.entity('.board', function () {\n\t\n\t    this.template = null;\n\t\n\t    this.ready = function () {\n\t      this.template = this.html();\n\t    };\n\t\n\t    this.render = function () {\n\t      this.html(this.template.replace('{{score}}', this.value));\n\t      return this;\n\t    };\n\t  });\n\t\n\t  this.init = function () {\n\t    this.screen.require(this);\n\t  };\n\t\n\t  this.ready = function () {\n\t    this.board.render();\n\t  };\n\t\n\t  this.up = function (_count) {\n\t    this.value += _count || 1;\n\t\n\t    this.board.render();\n\t\n\t    if (this.value === parseInt(this.properties.max, 10)) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.down = function (_count) {\n\t    this.value -= _count || 1;\n\t\n\t    this.board.render();\n\t\n\t    if (this.value === parseInt(this.properties.max, 10)) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t  this.currentVO = null;\n\t\n\t  this.allowAction = function () {\n\t    return this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t  };\n\t\n\t  this.playSound = function (_sound) {\n\t    var delay;\n\t\n\t    delay = $(_sound.media).attr('pl-start');\n\t\n\t    if (_sound.type === 'voiceOver') {\n\t      this.currentVO = _sound;\n\t    }\n\t\n\t    if (delay) {\n\t      return this.delay(delay, _sound.play.bind(_sound));\n\t    } else {\n\t      return _sound.play();\n\t    }\n\t  };\n\t\n\t  this.next = function () {\n\t    var nextScreen, buttonSound;\n\t\n\t    nextScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (nextScreen) {\n\t      this.leave();\n\t      nextScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t\n\t  this.prev = function () {\n\t    var prevScreen, buttonSound;\n\t\n\t    prevScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (prevScreen) {\n\t      this.screen.close();\n\t      prevScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return prevScreen;\n\t  };\n\t\n\t  this.start = function () {\n\t    var bgSound, voSound, fxSound;\n\t\n\t    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t    fxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\t\n\t    if (bgSound) {\n\t      this.game.bgSound = bgSound;\n\t      bgSound.play();\n\t    }\n\t    if (fxSound) fxSound.play();\n\t    if (voSound) this.playSound(voSound);\n\t\n\t    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t    return this;\n\t  };\n\t\n\t  this.stop = function () {\n\t    if (this.timeoutID) {\n\t      clearTimeout(this.timeoutID);\n\t    }\n\t\n\t    if (this.currentVO) {\n\t      this.currentVO.stop();\n\t    }\n\t  };\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.isReady && this === _event.targetScope) {\n\t      this.start();\n\t    }\n\t\n\t    if (this.properties.gameClass) {\n\t      this.game.addClass(this.properties.gameClass);\n\t    }\n\t\n\t    if (!this.requiredQueue || this.hasOwnProperty('requiredQueue') && !this.requiredQueue.length) {\n\t      this.complete();\n\t    }\n\t\n\t    if (typeof this.properties.wallpaper !== 'undefined') {\n\t      this.game.changeWallpaper(this.properties.wallpaper);\n\t    }\n\t  });\n\t\n\t  this.on('ui-leave', function (_event) {\n\t    if (this.properties.gameClass) {\n\t      this.game.removeClass(this.properties.gameClass);\n\t    }\n\t\n\t    if (this.isReady && this === _event.targetScope) {\n\t      this.stop();\n\t    }\n\t  });\n\t\n\t  this.on('ui-close', function (_event) {\n\t    if (this.properties.gameClass) {\n\t      this.game.removeClass(this.properties.gameClass);\n\t    }\n\t\n\t    if (this.isReady && this === _event.targetScope) {\n\t      this.stop();\n\t    }\n\t  });\n\t\n\t  this.on('ready', function () {\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) this.playSound(sfx);\n\t      }));\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t  this.buttonSound = function () {\n\t    if (this.audio.sfx.button) this.audio.sfx.button.play();\n\t  };\n\t\n\t  // TODO: Make an automated way to handle this\n\t  this.on('transitionend', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    if (this.state(this.STATE.LEAVE)) {\n\t      this.addClass('LEAVE-END');\n\t    }\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    this.buttonSound();\n\t    this.game.addClass('QUIT-SCREEN');\n\t    this.removeClass('LEAVE-END');\n\t    this.game.pause(true);\n\t  });\n\t\n\t  this.on('ui-leave', function () {\n\t    this.game.removeClass('QUIT-SCREEN');\n\t    this.game.resume();\n\t  });\n\t\n\t  this.init = function () {\n\t    this.addClass('LEAVE LEAVE-END');\n\t  };\n\t\n\t  this.okay = function () {\n\t    this.buttonSound();\n\t    this.game.exit();\n\t  };\n\t\n\t  this.cancel = function () {\n\t    this.buttonSound();\n\t    this.leave();\n\t  };\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-title', function () {\n\t\n\t  this.playSound = function (_sound) {\n\t    var delay;\n\t\n\t    delay = $(_sound).attr('pl-delay');\n\t\n\t    if ($(_sound).hasClass('voice-over')) {\n\t      this.currentVO = _sound;\n\t    }\n\t\n\t    if (delay) {\n\t      return this.delay(delay, _sound.play.bind(_sound));\n\t    } else {\n\t      return _sound.play();\n\t    }\n\t  };\n\t\n\t  this.on('ready', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t\n\t    if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) this.playSound(sfx);\n\t      }));\n\t    }\n\t  });\n\t\n\t  /**\n\t   * Start the title screen logo animation when the screen opens.\n\t   */\n\t  this.on('ui-open', function () {\n\t    var so;\n\t\n\t    if (typeof this.properties.wallpaper !== 'undefined') {\n\t      this.game.changeWallpaper(this.properties.wallpaper);\n\t    }\n\t\n\t    so = pl.util.resolvePath(this, 'audio.background[0]?');\n\t\n\t    if (so) so.play();\n\t\n\t    return this;\n\t  });\n\t\n\t  this.on('ui-close', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    this.on('transitionend', function (_e) {\n\t      if (!this.is(_e.target)) return;\n\t    });\n\t  });\n\t\n\t  this.next = function () {\n\t    var nextScreen, buttonSound;\n\t\n\t    nextScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'audio.sfx.button') || pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (nextScreen) {\n\t      this.leave();\n\t      nextScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable-reveal', function () {\n\t\n\t  this.respond('select', function (_event) {\n\t    var index, stateMethod;\n\t\n\t    index = _event.message;\n\t    stateMethod = this.properties.select_state || 'select';\n\t\n\t    if (~index) {\n\t      this[stateMethod](_event.behaviorTarget);\n\t      this.reveal.item(index);\n\t    }\n\t  });\n\t\n\t  this.entity('selectable', function () {\n\t\n\t    this.shouldSelect = function (_$target) {\n\t      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n\t        return !this.screen.state(this.STATE.VOICE_OVER);\n\t      }\n\t\n\t      return false;\n\t    };\n\t  });\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t  this.behavior('select', function (_target) {\n\t    var $target;\n\t\n\t    if (this.event) {\n\t      $target = $(this.event.target).closest('li');\n\t\n\t      if (this.shouldSelect($target) !== false) {\n\t        return {\n\t          message: $target.id(),\n\t          behaviorTarget: $target\n\t        };\n\t      }\n\t    } else {\n\t      this.proto(_target);\n\t    }\n\t\n\t    return false;\n\t  });\n\t\n\t  this.shouldSelect = function () {\n\t    return true;\n\t  };\n\t\n\t  this.deselectAll = function () {\n\t    var items = this.find('li');\n\t    this.deselect(items);\n\t    this.unhighlight(items);\n\t  };\n\t});\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tpl.game.component('slides', function () {\n\t\n\t  this.slides = null;\n\t\n\t  this.ready = function () {\n\t    this.slides = this.find('> div').scope();\n\t  };\n\t\n\t  this.start = function () {\n\t    var current, i, n;\n\t\n\t    current = this.current();\n\t\n\t    if (current) {\n\t      current.start();\n\t    } else if (this.slides.length) {\n\t      this.slides[0].open();\n\t      for (i = 1, n = this.slides.length; i < n; i++) {\n\t        this.slides[i] && this.slides[i].close();\n\t      }\n\t    }\n\t  };\n\t\n\t  this.current = function () {\n\t    return this.find('> .OPEN').scope();\n\t  };\n\t\n\t  /*\n\t   * @this {frame-component-scope} called by the next button in a frame component.\n\t   */\n\t  this.next = function () {\n\t    var index, nextSlide, buttonSound;\n\t\n\t    if (!this.completed()) return false;\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    index = this.slides.indexOf(this);\n\t\n\t    if (~index) nextSlide = this.slides[index + 1];\n\t\n\t    if (nextSlide) {\n\t      this.leave();\n\t      nextSlide.open();\n\t\n\t      if (buttonSound) buttonSound.play();\n\t\n\t      return nextSlide;\n\t    } else {\n\t      return this.screen.next();\n\t    }\n\t  };\n\t\n\t  /*\n\t   * @this {frame-component-scope} called by the next button in a frame component.\n\t   */\n\t  this.prev = function () {\n\t    var index, prevSlide, buttonSound;\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    index = this.slides.indexOf(this);\n\t\n\t    if (~index) prevSlide = this.slides[index - 1];\n\t\n\t    if (prevSlide) {\n\t      this.close();\n\t      prevSlide.open();\n\t\n\t      if (buttonSound) buttonSound.play();\n\t\n\t      return prevSlide;\n\t    } else {\n\t      return this.proto();\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t  screenSelector: '.screen',\n\t  componentDirectory: 'components/',\n\t  dimensions: {\n\t    width: 960,\n\t    ratio: 16 / 9\n\t  },\n\t  shouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t\n\t__webpack_require__(16);\n\t\n\t// SCREENS\n\t\n\t// COMPONENTS\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(12);\n\t\n\t__webpack_require__(13);\n\t\n\t__webpack_require__(14);\n\t\n\t__webpack_require__(15);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(1);\n\t\n\tpl.game('tag-it', function () {\n\t\n\t  var audioClasses, audioScreens, k;\n\t\n\t  this.changeWallpaper = function (wallpaper) {\n\t    this.removeClass('PRECIOUS RECYCLE STEPS SCISSORS SPREAD').addClass(wallpaper);\n\t  };\n\t\n\t  audioClasses = function () {\n\t    var classes = '';\n\t\n\t    this.on('audio-play', function (_event) {\n\t      var id = _event.target.$el[0].id;\n\t      id = id ? id.toUpperCase() : false;\n\t      classes += id + ' ';\n\t      this.addClass(id);\n\t    });\n\t\n\t    this.on('ui-close', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t      this.removeClass(classes);\n\t      classes = '';\n\t    });\n\t  };\n\t\n\t  audioScreens = ['step-1', 'step-2', 'what-need'];\n\t\n\t  for (k in audioScreens) {\n\t    this.screen(audioScreens[k], audioClasses);\n\t  }\n\t\n\t  this.screen('what-faucet', function () {\n\t    audioClasses.call(this);\n\t\n\t    this.respond('select', function (_event) {\n\t      this.playSound(this.audio.sfx);\n\t      this.select(_event.behaviorTarget);\n\t    });\n\t  });\n\t\n\t  this.screen('tips', function () {\n\t    var classes = '';\n\t\n\t    this.on('audio-play', function (_event) {\n\t      var id = _event.target.$el[0].id;\n\t      if (id === 'answer') return;\n\t      id = id ? id.toUpperCase() : false;\n\t      classes += id + ' ';\n\t      this.addClass(id);\n\t      if (id) this.playSound(this.audio.sfx.answer);\n\t    });\n\t\n\t    this.on('ui-close', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t      this.removeClass(classes);\n\t      classes = '';\n\t    });\n\t  });\n\t\n\t  this.screen('flip', function () {\n\t    audioClasses.call(this);\n\t\n\t    this.next = function () {\n\t      this.game.quit.okay();\n\t    };\n\t\n\t    this.complete = function () {\n\t      var eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t\n\t      ga('send', 'event', eventCategory, 'complete');\n\t\n\t      pl.game.report.flip(this, {\n\t        name: 'flip',\n\t        gameData: { id: this.game.id() }\n\t      });\n\t\n\t      return this.proto();\n\t    };\n\t  });\n\t\n\t  this.screen('quit', function () {\n\t    var ctx;\n\t\n\t    this.on('ready', function (_e) {\n\t      if (!this.is(_e.target)) return;\n\t\n\t      ctx = new (window.AudioContext || window.webkitAudioContext)();\n\t      this.audio.voiceOver.sure.setContext(ctx);\n\t      this.audio.sfx.button.setContext(ctx);\n\t    });\n\t\n\t    this.on('ui-open', function () {\n\t      var vo;\n\t\n\t      vo = this.audio.voiceOver.sure;\n\t      if (vo) vo.play();\n\t    });\n\t  });\n\t\n\t  this.exit = function () {\n\t    var screen, eventCategory;\n\t\n\t    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t    eventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t    ga('send', 'event', eventCategory, 'quit');\n\t\n\t    return this.proto();\n\t  };\n\t});\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** tag-it/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4f0409826a6b6ec2cb27\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n\tthis.on('ready', function (_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\tthis.splash();\n\t\t}\n\t});\n\n\tthis.splash = function() {\n\t\tthis.close(this.game.loader);\n\n\t\tif(this.game.hasClass('iOS')) {\n\t\t\tthis.open();\n\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t} else {\n\t\t\tthis.game.title.open();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen = this.proto();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tthis.game.audio.sfx.button.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.play('screenComplete');\n\t\treturn this.proto();\n\t};\n\n\tthis.startGame = function() {\n\t\tif(!this.hasClass('FINISHED')) return;\n\t\tthis.game.addClass('STARTED');\n\t\tthis.delay('2.5s', function() {\n\t\t\tthis.next();\n\t\t});\n\t};\n\n\tthis.on('animationend', function(_e) {\n\t\tif(!this.ball.is(_e.target)) return;\n\t\tthis.addClass('FINISHED');\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","(function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/","pl.game.component('audio-sequence', function () {\n  var i, sounds;\n\n  this.on('ready', function (_event) {\n    if (!this.is(_event.target)) return;\n\n    sounds = this.find('> audio').toArray();\n\n    this.audio.on('ended', function () {\n      var next = sounds[i++];\n      if (next && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound($(next).data('context'));\n    }.bind(this));\n  });\n\n  this.start = function () {\n    i = 1;\n    if (sounds[0] && this.screen.state(this.screen.STATE.OPEN)) this.screen.playSound($(sounds[0]).data('context'));\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/audio-sequence/behavior.js\n **/","pl.game.component('frame', function () {\n\n  this.start = function () {\n    var bgSound, voSound;\n\n    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\n    if (bgSound) bgSound.play();\n    if (voSound) this.screen.playSound(voSound);\n\n    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n    return this;\n  };\n\n  this.handleProperty({\n    title: function (_node, _name, _value) {\n      if (this.is(_node)) {\n        this.find('.frame').addClass('title');\n        this.game.defineRule('.experiment:nth-of-type(' + (this.screen.index() + 1) + ') .frame-component .frame.title::before', {\n          backgroundImage: 'url(' + _value + ')'\n        });\n      }\n    }\n  });\n\n  this.on('ui-open', function (_event) {\n    if (this.isReady) {\n      this.start();\n    }\n\n    if (this === _event.targetScope) {\n      if (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && (this.requiredQueue && this.requiredQueue.length))) {\n        this.complete();\n      }\n    }\n  });\n\n  this.on('ready', function () {\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'audio.sfx.screenComplete') || pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) this.playSound(sfx);\n      }));\n    }\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/frame/behavior.js\n **/","pl.game.component('modal', function () {\n\n  this.item = function (_id) {\n    this.select(this);\n    this.reveal.item(_id);\n  };\n\n  this.close = function () {\n    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n      this.deselect(this);\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/modal/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n  function validateAnswer(_scope) {\n    var answers;\n\n    if (_scope.properties.correct) {\n      answers = _scope.properties.correct.split(/\\s*,\\s*/);\n\n      if (~answers.indexOf(String(_scope.getSelected().index()))) {\n        _scope.complete();\n      }\n    }\n\n    return false;\n  }\n\n  this.answer = function () {\n    var $li;\n\n    if (this.event) {\n      $li = $(this.event.target).closest('li');\n\n      if (!this.isComplete && this.select($li)) {\n        validateAnswer(this);\n      }\n    }\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n  this.item = function (_id) {\n    var vo, index;\n\n    if (typeof _id === 'number') {\n      this.select(this.find('li').eq(_id));\n      this.audio.voiceOver[_id].play();\n    } else if (typeof _id === 'string') {\n      if (this[_id]) {\n        this.select(this[_id]);\n\n        if (this.audio) {\n          index = this[_id].index();\n          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\n          if (vo) vo.play();\n        }\n      }\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/reveal/behavior.js\n **/","pl.game.component('score', function () {\n\n  this.value = 0;\n\n  this.entity('.board', function () {\n\n    this.template = null;\n\n    this.ready = function () {\n      this.template = this.html();\n    };\n\n    this.render = function () {\n      this.html(this.template.replace('{{score}}', this.value));\n      return this;\n    };\n\n  });\n\n  this.init = function () {\n    this.screen.require(this);\n  };\n\n  this.ready = function () {\n    this.board.render();\n  };\n\n  this.up = function (_count) {\n    this.value += _count || 1;\n\n    this.board.render();\n\n    if (this.value === parseInt(this.properties.max, 10)) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n  this.down = function (_count) {\n    this.value -= _count || 1;\n\n    this.board.render();\n\n    if (this.value === parseInt(this.properties.max, 10)) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/score/behavior.js\n **/","pl.game.component('screen-basic', function () {\n  this.currentVO = null;\n\n  this.allowAction = function () {\n    return (this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER)) || this.game.demoMode;\n  };\n\n  this.playSound = function (_sound) {\n    var delay;\n\n    delay = $(_sound.media).attr('pl-start');\n\n    if (_sound.type === 'voiceOver') {\n      this.currentVO = _sound;\n    }\n\n    if (delay) {\n      return this.delay(delay, _sound.play.bind(_sound));\n    } else {\n      return _sound.play();\n    }\n  };\n\n  this.next = function () {\n    var nextScreen, buttonSound;\n\n    nextScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (nextScreen) {\n      this.leave();\n      nextScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return nextScreen;\n  };\n\n  this.prev = function () {\n    var prevScreen, buttonSound;\n\n    prevScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (prevScreen) {\n      this.screen.close();\n      prevScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return prevScreen;\n  };\n\n  this.start = function () {\n    var bgSound, voSound, fxSound;\n\n    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n    fxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\n    if (bgSound) {\n      this.game.bgSound = bgSound;\n      bgSound.play();\n    }\n    if (fxSound) fxSound.play();\n    if (voSound) this.playSound(voSound);\n\n    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n    return this;\n  };\n\n  this.stop = function () {\n    if (this.timeoutID) {\n      clearTimeout(this.timeoutID);\n    }\n\n    if (this.currentVO) {\n      this.currentVO.stop();\n    }\n  };\n\n  this.on('ui-open', function (_event) {\n    if (this.isReady && this === _event.targetScope) {\n      this.start();\n    }\n\n    if (this.properties.gameClass) {\n      this.game.addClass(this.properties.gameClass);\n    }\n\n    if (!this.requiredQueue || (this.hasOwnProperty('requiredQueue') && !this.requiredQueue.length)) {\n      this.complete();\n    }\n\n    if (typeof this.properties.wallpaper !== 'undefined') {\n      this.game.changeWallpaper(this.properties.wallpaper);\n    }\n  });\n\n  this.on('ui-leave', function (_event) {\n    if (this.properties.gameClass) {\n      this.game.removeClass(this.properties.gameClass);\n    }\n\n    if (this.isReady && this === _event.targetScope) {\n      this.stop();\n    }\n  });\n\n  this.on('ui-close', function (_event) {\n    if (this.properties.gameClass) {\n      this.game.removeClass(this.properties.gameClass);\n    }\n\n    if (this.isReady && this === _event.targetScope) {\n      this.stop();\n    }\n  });\n\n  this.on('ready', function () {\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) this.playSound(sfx);\n      }));\n    }\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n  this.buttonSound = function () {\n    if (this.audio.sfx.button) this.audio.sfx.button.play();\n  };\n\n  // TODO: Make an automated way to handle this\n  this.on('transitionend', function (_event) {\n    if (!this.is(_event.target)) return;\n    if (this.state(this.STATE.LEAVE)) {\n      this.addClass('LEAVE-END');\n    }\n  });\n\n  this.on('ui-open', function (_event) {\n    if (!this.is(_event.target)) return;\n    this.buttonSound();\n    this.game.addClass('QUIT-SCREEN');\n    this.removeClass('LEAVE-END');\n    this.game.pause(true);\n  });\n\n  this.on('ui-leave', function () {\n    this.game.removeClass('QUIT-SCREEN');\n    this.game.resume();\n  });\n\n  this.init = function () {\n    this.addClass('LEAVE LEAVE-END');\n  };\n\n  this.okay = function () {\n    this.buttonSound();\n    this.game.exit();\n  };\n\n  this.cancel = function () {\n    this.buttonSound();\n    this.leave();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('screen-title', function () {\n\n  this.playSound = function (_sound) {\n    var delay;\n\n    delay = $(_sound).attr('pl-delay');\n\n    if ($(_sound).hasClass('voice-over')) {\n      this.currentVO = _sound;\n    }\n\n    if (delay) {\n      return this.delay(delay, _sound.play.bind(_sound));\n    } else {\n      return _sound.play();\n    }\n  };\n\n  this.on('ready', function (_event) {\n    if (!this.is(_event.target)) return;\n\n    if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) this.playSound(sfx);\n      }));\n    }\n  });\n\n  /**\n   * Start the title screen logo animation when the screen opens.\n   */\n  this.on('ui-open', function () {\n    var so;\n\n    if (typeof this.properties.wallpaper !== 'undefined') {\n      this.game.changeWallpaper(this.properties.wallpaper);\n    }\n\n    so = pl.util.resolvePath(this, 'audio.background[0]?');\n\n    if (so) so.play();\n\n    return this;\n  });\n\n  this.on('ui-close', function (_event) {\n    if (!this.is(_event.target)) return;\n    this.on('transitionend', function (_e) {\n      if (!this.is(_e.target)) return;\n    });\n  });\n\n  this.next = function () {\n    var nextScreen, buttonSound;\n\n    nextScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'audio.sfx.button') || pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (nextScreen) {\n      this.leave();\n      nextScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return nextScreen;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/screen-title/behavior.js\n **/","pl.game.component('selectable-reveal', function () {\n\n  this.respond('select', function (_event) {\n    var index, stateMethod;\n\n    index = _event.message;\n    stateMethod = this.properties.select_state || 'select';\n\n    if (~index) {\n      this[stateMethod](_event.behaviorTarget);\n      this.reveal.item(index);\n    }\n  });\n\n  this.entity('selectable', function () {\n\n    this.shouldSelect = function (_$target) {\n      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n        return !this.screen.state(this.STATE.VOICE_OVER);\n      }\n\n      return false;\n    };\n\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/selectable-reveal/behavior.js\n **/","pl.game.component('selectable', function () {\n\n  this.behavior('select', function (_target) {\n    var $target;\n\n    if (this.event) {\n      $target = $(this.event.target).closest('li');\n\n      if (this.shouldSelect($target) !== false) {\n        return {\n          message: $target.id(),\n          behaviorTarget: $target\n        };\n      }\n    } else {\n      this.proto(_target);\n    }\n\n    return false;\n  });\n\n  this.shouldSelect = function () {\n    return true;\n  };\n\n  this.deselectAll = function () {\n    var items = this.find('li');\n    this.deselect(items);\n    this.unhighlight(items);\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/selectable/behavior.js\n **/","pl.game.component('slides', function () {\n\n  this.slides = null;\n\n  this.ready = function () {\n    this.slides = this.find('> div').scope();\n  };\n\n  this.start = function () {\n    var current, i, n;\n\n    current = this.current();\n\n    if (current) {\n      current.start();\n    } else if (this.slides.length) {\n      this.slides[0].open();\n      for (i = 1, n = this.slides.length; i < n; i++) {\n        this.slides[i] && this.slides[i].close();\n      }\n    }\n  };\n\n  this.current = function () {\n    return this.find('> .OPEN').scope();\n  };\n\n  /*\n   * @this {frame-component-scope} called by the next button in a frame component.\n   */\n  this.next = function () {\n    var index, nextSlide, buttonSound;\n\n    if (!this.completed()) return false;\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    index = this.slides.indexOf(this);\n\n    if (~index) nextSlide = this.slides[index + 1];\n\n    if (nextSlide) {\n      this.leave();\n      nextSlide.open();\n\n      if (buttonSound) buttonSound.play();\n\n      return nextSlide;\n    } else {\n      return this.screen.next();\n    }\n  };\n\n  /*\n   * @this {frame-component-scope} called by the next button in a frame component.\n   */\n  this.prev = function () {\n    var index, prevSlide, buttonSound;\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    index = this.slides.indexOf(this);\n\n    if (~index) prevSlide = this.slides[index - 1];\n\n    if (prevSlide) {\n      this.close();\n      prevSlide.open();\n\n      if (buttonSound) buttonSound.play();\n\n      return prevSlide;\n    } else {\n      return this.proto();\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/slides/behavior.js\n **/","pl.game.config({\n  screenSelector: '.screen',\n  componentDirectory: 'components/',\n  dimensions: {\n    width: 960,\n    ratio: 16 / 9\n  },\n  shouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\nimport './config.game';\n\n// SCREENS\n\n// COMPONENTS\nimport '../../../shared/js/screen-ios-splash';\nimport './components/audio-sequence/behavior';\nimport './components/frame/behavior';\nimport './components/modal/behavior';\nimport './components/multiple-choice/behavior';\nimport './components/reveal/behavior';\nimport './components/score/behavior';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/screen-title/behavior';\nimport './components/selectable-reveal/behavior';\nimport './components/selectable/behavior';\nimport './components/slides/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\npl.game('tag-it', function () {\n\n  var audioClasses, audioScreens, k;\n\n  this.changeWallpaper = function (wallpaper) {\n    this.removeClass('PRECIOUS RECYCLE STEPS SCISSORS SPREAD').addClass(wallpaper);\n  };\n\n  audioClasses = function () {\n    var classes = '';\n\n    this.on('audio-play', function (_event) {\n      var id = _event.target.$el[0].id;\n      id = id ? id.toUpperCase() : false;\n      classes += id + ' ';\n      this.addClass(id);\n    });\n\n    this.on('ui-close', function (_event) {\n      if (!this.is(_event.target)) return;\n      this.removeClass(classes);\n      classes = '';\n    });\n  };\n\n  audioScreens = ['step-1', 'step-2', 'what-need'];\n\n  for (k in audioScreens) {\n    this.screen(audioScreens[k], audioClasses);\n  }\n\n  this.screen('what-faucet', function () {\n    audioClasses.call(this);\n\n    this.respond('select', function (_event) {\n      this.playSound(this.audio.sfx);\n      this.select(_event.behaviorTarget);\n    });\n  });\n\n  this.screen('tips', function () {\n    var classes = '';\n\n    this.on('audio-play', function (_event) {\n      var id = _event.target.$el[0].id;\n      if (id === 'answer') return;\n      id = id ? id.toUpperCase() : false;\n      classes += id + ' ';\n      this.addClass(id);\n      if (id) this.playSound(this.audio.sfx.answer);\n    });\n\n    this.on('ui-close', function (_event) {\n      if (!this.is(_event.target)) return;\n      this.removeClass(classes);\n      classes = '';\n    });\n  });\n\n  this.screen('flip', function () {\n    audioClasses.call(this);\n\n    this.next = function () {\n      this.game.quit.okay();\n    };\n\n    this.complete = function () {\n      var eventCategory = (['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')']).join(' ');\n\n      ga('send', 'event', eventCategory, 'complete');\n\n      pl.game.report.flip(this, {\n        name: 'flip',\n        gameData: {id: this.game.id()}\n      });\n\n      return this.proto();\n    };\n  });\n\n  this.screen('quit', function () {\n    var ctx;\n\n    this.on('ready', function (_e) {\n      if (!this.is(_e.target)) return;\n\n      ctx = new (window.AudioContext || window.webkitAudioContext);\n      this.audio.voiceOver.sure.setContext(ctx);\n      this.audio.sfx.button.setContext(ctx);\n    });\n\n    this.on('ui-open', function () {\n      var vo;\n\n      vo = this.audio.voiceOver.sure;\n      if (vo) vo.play();\n    });\n  });\n\n  this.exit = function () {\n    var screen, eventCategory;\n\n    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n    eventCategory = (['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')']).join(' ');\n\n    ga('send', 'event', eventCategory, 'quit');\n\n    return this.proto();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/index.js\n **/"],"sourceRoot":""}