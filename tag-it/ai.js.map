{"version":3,"sources":["webpack:///tag-it/ai.js","webpack:///webpack/bootstrap c0fef6d58a1b8b38a3cd","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js","webpack:///./tag-it/config.game.js","webpack:///./tag-it/index.js","webpack:///./tag-it/source/js/components/audio-sequence/behavior.js","webpack:///./tag-it/source/js/components/frame/behavior.js","webpack:///./tag-it/source/js/components/modal/behavior.js","webpack:///./tag-it/source/js/components/multiple-choice/behavior.js","webpack:///./tag-it/source/js/components/reveal/behavior.js","webpack:///./tag-it/source/js/components/score/behavior.js","webpack:///./tag-it/source/js/components/screen-basic/behavior.js","webpack:///./tag-it/source/js/components/screen-quit/behavior.js","webpack:///./tag-it/source/js/components/screen-title/behavior.js","webpack:///./tag-it/source/js/components/selectable-reveal/behavior.js","webpack:///./tag-it/source/js/components/selectable/behavior.js","webpack:///./tag-it/source/js/components/slides/behavior.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","i","s","o","g","r","a","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","window","document","ga","pl","game","component","this","on","_e","is","target","title","state","splash","close","loader","hasClass","open","ball","delay","next","nextScreen","proto","screen","leave","audio","sfx","button","play","complete","startGame","addClass","test","parent","location","href","domain","config","screenSelector","componentDirectory","dimensions","width","ratio","shouldLoadComponentStyles","audioClasses","audioScreens","k","changeWallpaper","wallpaper","removeClass","classes","_event","$el","toUpperCase","respond","playSound","select","behaviorTarget","ids","indexOf","answer","quit","okay","eventCategory","theEvent","Event","bubbles","cancelable","name","gameData","frameElement","dispatchEvent","index","join","exit","findOwn","scope","sounds","self","find","toArray","STATE","OPEN","setTimeout","$","data","bind","start","bgSound","voSound","util","resolvePath","hasOwnProperty","entities","handleProperty","_node","_name","_value","defineRule","backgroundImage","isReady","targetScope","isComplete","requiredQueue","length","isMemberSafe","item","_id","reveal","VOICE_OVER","demoMode","deselect","validateAnswer","_scope","answers","properties","correct","split","String","getSelected","$li","event","closest","vo","eq","voiceOver","value","entity","template","ready","html","render","replace","init","require","board","up","_count","parseInt","max","down","currentMedia","allowAction","_sound","media","attr","type","buttonSound","prev","prevScreen","fxSound","stop","timeoutID","clearTimeout","currentVO","gameClass","LEAVE","ctx","AudioContext","webkitAudioContext","sure","setContext","pause","resume","cancel","iosSplash","READY","so","stateMethod","message","select_state","shouldSelect","_$target","HIGHLIGHTED","behavior","_target","$target","deselectAll","items","unhighlight","slides","current","n","nextSlide","completed","prevSlide"],"mappings":"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","file":"tag-it/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(5);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t  this.on('ready', function (_e) {\n\t    if (!this.is(_e.target)) return;\n\t\n\t    if (this.game && this.game.title.state('READY')) {\n\t      this.splash();\n\t    }\n\t  });\n\t\n\t  this.splash = function () {\n\t    this.close(this.game.loader);\n\t\n\t    if (this.game.hasClass('iOS')) {\n\t      this.open();\n\t      this.ball.delay(0, this.ball.open);\n\t    } else {\n\t      this.game.title.open();\n\t    }\n\t  };\n\t\n\t  this.next = function () {\n\t    var nextScreen = this.proto();\n\t\n\t    if (nextScreen) {\n\t      this.screen.leave();\n\t      nextScreen.open();\n\t      this.game.audio.sfx.button.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t\n\t  this.complete = function () {\n\t    this.game.audio.sfx.play('screenComplete');\n\t    return this.proto();\n\t  };\n\t\n\t  this.startGame = function () {\n\t    if (!this.hasClass('FINISHED')) return;\n\t    this.game.addClass('STARTED');\n\t    this.delay('2.5s', function () {\n\t      this.next();\n\t    });\n\t  };\n\t\n\t  this.on('animationend', function (_e) {\n\t    if (!this.ball.is(_e.target)) return;\n\t    this.addClass('FINISHED');\n\t  });\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t(function test() {\n\t  if (window.parent === window) {\n\t    window.location.href = 'https://www.changemyworldnow.com/';\n\t  } else {\n\t    document.domain = 'changemyworldnow.com';\n\t  }\n\t})();\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t  screenSelector: '.screen',\n\t  componentDirectory: 'components/',\n\t  dimensions: {\n\t    width: 960,\n\t    ratio: 16 / 9\n\t  },\n\t  shouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t\n\t__webpack_require__(4);\n\t\n\t// SCREENS\n\t\n\t// COMPONENTS\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(12);\n\t\n\t__webpack_require__(13);\n\t\n\t__webpack_require__(14);\n\t\n\t__webpack_require__(15);\n\t\n\t__webpack_require__(16);\n\t\n\t__webpack_require__(17);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(1);\n\t\n\tpl.game('tag-it', function () {\n\t\n\t  var audioClasses, audioScreens, k;\n\t\n\t  this.changeWallpaper = function (wallpaper) {\n\t    this.removeClass('PRECIOUS RECYCLE STEPS SCISSORS SPREAD').addClass(wallpaper);\n\t  };\n\t\n\t  audioClasses = function () {\n\t    var classes = '';\n\t\n\t    this.on('audio-play', function (_event) {\n\t      var id = _event.target.$el[0].id;\n\t      id = id ? id.toUpperCase() : false;\n\t      classes += id + ' ';\n\t      this.addClass(id);\n\t    });\n\t\n\t    this.on('ui-close', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t      this.removeClass(classes);\n\t      classes = '';\n\t    });\n\t  };\n\t\n\t  audioScreens = ['step-1', 'step-2', 'what-need'];\n\t\n\t  for (k in audioScreens) {\n\t    this.screen(audioScreens[k], audioClasses);\n\t  }\n\t\n\t  this.screen('what-faucet', function () {\n\t    audioClasses.call(this);\n\t\n\t    this.respond('select', function (_event) {\n\t      this.playSound(this.audio.sfx);\n\t      this.select(_event.behaviorTarget);\n\t    });\n\t  });\n\t\n\t  this.screen('tips', function () {\n\t    var classes = '';\n\t\n\t    this.on('audio-play', function (_event) {\n\t      var id = _event.target.$el[0].id;\n\t      var ids = ['use-your', 'try-glow', 'use-multiple', 'create', 'personalize'];\n\t      if (ids.indexOf(id) === -1) return;\n\t      id = id ? id.toUpperCase() : false;\n\t      classes += id + ' ';\n\t      this.addClass(id);\n\t      if (id) this.playSound(this.audio.sfx.answer);\n\t    });\n\t\n\t    this.on('ui-close', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t      this.removeClass(classes);\n\t      classes = '';\n\t    });\n\t  });\n\t\n\t  this.screen('flip', function () {\n\t    audioClasses.call(this);\n\t\n\t    this.next = function () {\n\t      this.game.quit.okay();\n\t    };\n\t\n\t    this.complete = function () {\n\t      var eventCategory;\n\t      var theEvent = new Event('game-event', { bubbles: true, cancelable: false });\n\t      theEvent.name = 'flip';\n\t      theEvent.gameData = { id: this.game.id() };\n\t      if (window.frameElement) window.frameElement.dispatchEvent(theEvent);\n\t      eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t      ga('send', 'event', eventCategory, 'complete');\n\t      return this.proto();\n\t    };\n\t  });\n\t\n\t  this.exit = function () {\n\t    var screen, eventCategory;\n\t\n\t    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t    eventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t    ga('send', 'event', eventCategory, 'quit');\n\t\n\t    return this.proto();\n\t  };\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('audio-sequence', function () {\n\t  var i,\n\t      sounds,\n\t      self = this;\n\t\n\t  self.on('ready', function (_event) {\n\t    if (!self.is(_event.target)) return;\n\t\n\t    sounds = self.find('> audio').toArray();\n\t\n\t    self.audio.on('ended', (function () {\n\t      var next = sounds[i++];\n\t      if (next && self.screen.state(self.screen.STATE.OPEN)) {\n\t        setTimeout(function () {\n\t          self.screen.playSound($(next).data('context'));\n\t        }, 0);\n\t      }\n\t    }).bind(self));\n\t  });\n\t\n\t  self.start = function () {\n\t    i = 1;\n\t    if (sounds[0] && self.screen.state(self.screen.STATE.OPEN)) self.screen.playSound($(sounds[0]).data('context'));\n\t  };\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('frame', function () {\n\t\n\t  this.start = function () {\n\t    var bgSound, voSound;\n\t\n\t    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t\n\t    if (bgSound) bgSound.play();\n\t    if (voSound) this.screen.playSound(voSound);\n\t\n\t    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t    return this;\n\t  };\n\t\n\t  this.handleProperty({\n\t    title: function title(_node, _name, _value) {\n\t      if (this.is(_node)) {\n\t        this.find('.frame').addClass('title');\n\t        this.game.defineRule('.experiment:nth-of-type(' + (this.screen.index() + 1) + ') .frame-component .frame.title::before', {\n\t          backgroundImage: 'url(' + _value + ')'\n\t        });\n\t      }\n\t    }\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.isReady) {\n\t      this.start();\n\t    }\n\t\n\t    if (this === _event.targetScope) {\n\t      if (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && this.requiredQueue && this.requiredQueue.length)) {\n\t        this.complete();\n\t      }\n\t    }\n\t  });\n\t\n\t  this.on('ready', function () {\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'audio.sfx.screenComplete') || pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) this.playSound(sfx);\n\t      }));\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('modal', function () {\n\t\n\t  this.item = function (_id) {\n\t    this.select(this);\n\t    this.reveal.item(_id);\n\t  };\n\t\n\t  this.close = function () {\n\t    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t      this.deselect(this);\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t  function validateAnswer(_scope) {\n\t    var answers;\n\t\n\t    if (_scope.properties.correct) {\n\t      answers = _scope.properties.correct.split(/\\s*,\\s*/);\n\t\n\t      if (~answers.indexOf(String(_scope.getSelected().index()))) {\n\t        _scope.complete();\n\t      }\n\t    }\n\t\n\t    return false;\n\t  }\n\t\n\t  this.answer = function () {\n\t    var $li;\n\t\n\t    if (this.event) {\n\t      $li = $(this.event.target).closest('li');\n\t\n\t      if (!this.isComplete && this.select($li)) {\n\t        validateAnswer(this);\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t  this.item = function (_id) {\n\t    var vo, index;\n\t\n\t    if (typeof _id === 'number') {\n\t      this.select(this.find('li').eq(_id));\n\t      this.audio.voiceOver[_id].play();\n\t    } else if (typeof _id === 'string') {\n\t      if (this[_id]) {\n\t        this.select(this[_id]);\n\t\n\t        if (this.audio) {\n\t          index = this[_id].index();\n\t          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t          if (vo) vo.play();\n\t        }\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('score', function () {\n\t\n\t  this.value = 0;\n\t\n\t  this.entity('.board', function () {\n\t\n\t    this.template = null;\n\t\n\t    this.ready = function () {\n\t      this.template = this.html();\n\t    };\n\t\n\t    this.render = function () {\n\t      this.html(this.template.replace('{{score}}', this.value));\n\t      return this;\n\t    };\n\t  });\n\t\n\t  this.init = function () {\n\t    this.screen.require(this);\n\t  };\n\t\n\t  this.ready = function () {\n\t    this.board.render();\n\t  };\n\t\n\t  this.up = function (_count) {\n\t    this.value += _count || 1;\n\t\n\t    this.board.render();\n\t\n\t    if (this.value === parseInt(this.properties.max, 10)) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.down = function (_count) {\n\t    this.value -= _count || 1;\n\t\n\t    this.board.render();\n\t\n\t    if (this.value === parseInt(this.properties.max, 10)) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t  this.currentMedia = {};\n\t\n\t  this.allowAction = function () {\n\t    return this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t  };\n\t\n\t  this.playSound = function (_sound) {\n\t    var delay;\n\t\n\t    delay = $(_sound.media).attr('pl-start');\n\t\n\t    if (_sound.type === 'voiceOver') {\n\t      this.currentMedia.voiceOver = _sound;\n\t    }\n\t\n\t    if (delay) {\n\t      return this.delay(delay, _sound.play.bind(_sound));\n\t    } else {\n\t      return _sound.play();\n\t    }\n\t  };\n\t\n\t  this.next = function () {\n\t    var nextScreen, buttonSound;\n\t\n\t    nextScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (nextScreen) {\n\t      this.leave();\n\t      nextScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t\n\t  this.prev = function () {\n\t    var prevScreen, buttonSound;\n\t\n\t    prevScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (prevScreen) {\n\t      this.screen.close();\n\t      prevScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return prevScreen;\n\t  };\n\t\n\t  this.start = function () {\n\t    var bgSound, voSound, fxSound;\n\t\n\t    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t    fxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\t\n\t    if (bgSound) {\n\t      this.game.bgSound = bgSound;\n\t      bgSound.play();\n\t    }\n\t    if (fxSound) fxSound.play();\n\t    if (voSound) this.playSound(voSound);\n\t\n\t    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t    return this;\n\t  };\n\t\n\t  this.stop = function () {\n\t    if (this.timeoutID) {\n\t      clearTimeout(this.timeoutID);\n\t    }\n\t\n\t    if (this.currentVO) {\n\t      this.currentVO.stop();\n\t    }\n\t  };\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.isReady && this === _event.targetScope) {\n\t      this.start();\n\t    }\n\t\n\t    if (this.properties.gameClass) {\n\t      this.game.addClass(this.properties.gameClass);\n\t    }\n\t\n\t    if (!this.requiredQueue || this.hasOwnProperty('requiredQueue') && !this.requiredQueue.length) {\n\t      this.complete();\n\t    }\n\t\n\t    if (typeof this.properties.wallpaper !== 'undefined') {\n\t      this.game.changeWallpaper(this.properties.wallpaper);\n\t    }\n\t  });\n\t\n\t  this.on('ui-leave', function (_event) {\n\t    if (this.properties.gameClass) {\n\t      this.game.removeClass(this.properties.gameClass);\n\t    }\n\t\n\t    if (this.isReady && this === _event.targetScope) {\n\t      this.stop();\n\t    }\n\t  });\n\t\n\t  this.on('ui-close', function (_event) {\n\t    if (this.properties.gameClass) {\n\t      this.game.removeClass(this.properties.gameClass);\n\t    }\n\t\n\t    if (this.isReady && this === _event.targetScope) {\n\t      this.stop();\n\t    }\n\t  });\n\t\n\t  this.on('ready', function () {\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) this.playSound(sfx);\n\t      }));\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t  this.buttonSound = function () {\n\t    if (this.audio.sfx.button) this.audio.sfx.button.play();\n\t  };\n\t\n\t  // TODO: Make an automated way to handle this\n\t  this.on('transitionend', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    if (this.state(this.STATE.LEAVE)) {\n\t      this.addClass('LEAVE-END');\n\t    }\n\t  });\n\t\n\t  this.on('ready', function (_e) {\n\t    var ctx;\n\t\n\t    if (!this.is(_e.target)) return;\n\t\n\t    ctx = new (window.AudioContext || window.webkitAudioContext)();\n\t    if (this.audio.sfx.sure) this.audio.sfx.sure.setContext(ctx);\n\t    if (this.audio.sfx.button) this.audio.sfx.button.setContext(ctx);\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    if (this.audio.sfx.sure) this.audio.sfx.sure.play();\n\t    this.buttonSound();\n\t    this.game.addClass('QUIT-SCREEN');\n\t    this.removeClass('LEAVE-END');\n\t    this.game.pause(true);\n\t  });\n\t\n\t  this.on('ui-leave', function () {\n\t    if (this.audio.sfx.sure) this.audio.sfx.sure.stop();\n\t    this.game.removeClass('QUIT-SCREEN');\n\t    this.game.resume();\n\t  });\n\t\n\t  this.init = function () {\n\t    this.addClass('LEAVE LEAVE-END');\n\t  };\n\t\n\t  this.okay = function () {\n\t    this.buttonSound();\n\t    this.game.exit();\n\t  };\n\t\n\t  this.cancel = function () {\n\t    this.buttonSound();\n\t    this.leave();\n\t  };\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-title', function () {\n\t\n\t  this.playSound = function (_sound) {\n\t    var delay;\n\t\n\t    delay = $(_sound).attr('pl-delay');\n\t\n\t    if ($(_sound).hasClass('voice-over')) {\n\t      this.currentVO = _sound;\n\t    }\n\t\n\t    if (delay) {\n\t      return this.delay(delay, _sound.play.bind(_sound));\n\t    } else {\n\t      return _sound.play();\n\t    }\n\t  };\n\t\n\t  this.on('ready', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t\n\t    if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) this.playSound(sfx);\n\t      }));\n\t    }\n\t  });\n\t\n\t  /**\n\t   * Start the title screen logo animation when the screen opens.\n\t   */\n\t  this.on('ui-open', function () {\n\t    var so;\n\t\n\t    if (typeof this.properties.wallpaper !== 'undefined') {\n\t      this.game.changeWallpaper(this.properties.wallpaper);\n\t    }\n\t\n\t    so = pl.util.resolvePath(this, 'audio.background[0]?');\n\t\n\t    if (so) so.play();\n\t\n\t    return this;\n\t  });\n\t\n\t  this.on('ui-close', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    this.on('transitionend', function (_e) {\n\t      if (!this.is(_e.target)) return;\n\t    });\n\t  });\n\t\n\t  this.next = function () {\n\t    var nextScreen, buttonSound;\n\t\n\t    nextScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'audio.sfx.button') || pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (nextScreen) {\n\t      this.leave();\n\t      nextScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t});\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable-reveal', function () {\n\t\n\t  this.respond('select', function (_event) {\n\t    var index, stateMethod;\n\t\n\t    index = _event.message;\n\t    stateMethod = this.properties.select_state || 'select';\n\t\n\t    if (~index) {\n\t      this[stateMethod](_event.behaviorTarget);\n\t      this.reveal.item(index);\n\t    }\n\t  });\n\t\n\t  this.entity('selectable', function () {\n\t\n\t    this.shouldSelect = function (_$target) {\n\t      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n\t        return !this.screen.state(this.STATE.VOICE_OVER);\n\t      }\n\t\n\t      return false;\n\t    };\n\t  });\n\t});\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t  this.behavior('select', function (_target) {\n\t    var $target;\n\t\n\t    if (this.event) {\n\t      $target = $(this.event.target).closest('li');\n\t\n\t      if (this.shouldSelect($target) !== false) {\n\t        return {\n\t          message: $target.id(),\n\t          behaviorTarget: $target\n\t        };\n\t      }\n\t    } else {\n\t      this.proto(_target);\n\t    }\n\t\n\t    return false;\n\t  });\n\t\n\t  this.shouldSelect = function () {\n\t    return true;\n\t  };\n\t\n\t  this.deselectAll = function () {\n\t    var items = this.find('li');\n\t    this.deselect(items);\n\t    this.unhighlight(items);\n\t  };\n\t});\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tpl.game.component('slides', function () {\n\t\n\t  this.slides = null;\n\t\n\t  this.ready = function () {\n\t    this.slides = this.find('> div').scope();\n\t  };\n\t\n\t  this.start = function () {\n\t    var current, i, n;\n\t\n\t    current = this.current();\n\t\n\t    if (current) {\n\t      current.start();\n\t    } else if (this.slides.length) {\n\t      this.slides[0].open();\n\t      for (i = 1, n = this.slides.length; i < n; i++) {\n\t        this.slides[i] && this.slides[i].close();\n\t      }\n\t    }\n\t  };\n\t\n\t  this.current = function () {\n\t    return this.find('> .OPEN').scope();\n\t  };\n\t\n\t  /*\n\t   * @this {frame-component-scope} called by the next button in a frame component.\n\t   */\n\t  this.next = function () {\n\t    var index, nextSlide, buttonSound;\n\t\n\t    if (!this.completed()) return false;\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    index = this.slides.indexOf(this);\n\t\n\t    if (~index) nextSlide = this.slides[index + 1];\n\t\n\t    if (nextSlide) {\n\t      this.leave();\n\t      nextSlide.open();\n\t\n\t      if (buttonSound) buttonSound.play();\n\t\n\t      return nextSlide;\n\t    } else {\n\t      return this.screen.next();\n\t    }\n\t  };\n\t\n\t  /*\n\t   * @this {frame-component-scope} called by the next button in a frame component.\n\t   */\n\t  this.prev = function () {\n\t    var index, prevSlide, buttonSound;\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    index = this.slides.indexOf(this);\n\t\n\t    if (~index) prevSlide = this.slides[index - 1];\n\t\n\t    if (prevSlide) {\n\t      this.close();\n\t      prevSlide.open();\n\t\n\t      if (buttonSound) buttonSound.play();\n\t\n\t      return prevSlide;\n\t    } else {\n\t      return this.proto();\n\t    }\n\t  };\n\t});\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** tag-it/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c0fef6d58a1b8b38a3cd\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n  this.on('ready', function (_e) {\n    if (!this.is(_e.target)) return;\n\n    if (this.game && this.game.title.state('READY')) {\n      this.splash();\n    }\n  });\n\n  this.splash = function () {\n    this.close(this.game.loader);\n\n    if (this.game.hasClass('iOS')) {\n      this.open();\n      this.ball.delay(0, this.ball.open);\n    } else {\n      this.game.title.open();\n    }\n  };\n\n  this.next = function () {\n    var nextScreen = this.proto();\n\n    if (nextScreen) {\n      this.screen.leave();\n      nextScreen.open();\n      this.game.audio.sfx.button.play();\n    }\n\n    return nextScreen;\n  };\n\n  this.complete = function () {\n    this.game.audio.sfx.play('screenComplete');\n    return this.proto();\n  };\n\n  this.startGame = function () {\n    if (!this.hasClass('FINISHED')) return;\n    this.game.addClass('STARTED');\n    this.delay('2.5s', function () {\n      this.next();\n    });\n  };\n\n  this.on('animationend', function (_e) {\n    if (!this.ball.is(_e.target)) return;\n    this.addClass('FINISHED');\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","(function test() {\n  if (window.parent === window) {\n    window.location.href = 'https://www.changemyworldnow.com/';\n  } else {\n    document.domain = 'changemyworldnow.com';\n  }\n}());\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/","pl.game.config({\n  screenSelector: '.screen',\n  componentDirectory: 'components/',\n  dimensions: {\n    width: 960,\n    ratio: 16 / 9\n  },\n  shouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/config.game.js\n **/","/**\n * Index script\n * @module\n */\nimport './config.game';\n\n// SCREENS\n\n// COMPONENTS\nimport 'shared/js/screen-ios-splash';\nimport './source/js/components/audio-sequence/behavior';\nimport './source/js/components/frame/behavior';\nimport './source/js/components/modal/behavior';\nimport './source/js/components/multiple-choice/behavior';\nimport './source/js/components/reveal/behavior';\nimport './source/js/components/score/behavior';\nimport './source/js/components/screen-basic/behavior';\nimport './source/js/components/screen-quit/behavior';\nimport './source/js/components/screen-title/behavior';\nimport './source/js/components/selectable-reveal/behavior';\nimport './source/js/components/selectable/behavior';\nimport './source/js/components/slides/behavior';\n\nimport 'shared/js/test-platform-integration';\nimport 'shared/js/google-analytics';\n\npl.game('tag-it', function () {\n\n  var audioClasses, audioScreens, k;\n\n  this.changeWallpaper = function (wallpaper) {\n    this.removeClass('PRECIOUS RECYCLE STEPS SCISSORS SPREAD').addClass(wallpaper);\n  };\n\n  audioClasses = function () {\n    var classes = '';\n\n    this.on('audio-play', function (_event) {\n      var id = _event.target.$el[0].id;\n      id = id ? id.toUpperCase() : false;\n      classes += id + ' ';\n      this.addClass(id);\n    });\n\n    this.on('ui-close', function (_event) {\n      if (!this.is(_event.target)) return;\n      this.removeClass(classes);\n      classes = '';\n    });\n  };\n\n  audioScreens = ['step-1', 'step-2', 'what-need'];\n\n  for (k in audioScreens) {\n    this.screen(audioScreens[k], audioClasses);\n  }\n\n  this.screen('what-faucet', function () {\n    audioClasses.call(this);\n\n    this.respond('select', function (_event) {\n      this.playSound(this.audio.sfx);\n      this.select(_event.behaviorTarget);\n    });\n  });\n\n  this.screen('tips', function () {\n    var classes = '';\n\n    this.on('audio-play', function (_event) {\n      var id = _event.target.$el[0].id;\n      var ids = [\n        'use-your',\n        'try-glow',\n        'use-multiple',\n        'create',\n        'personalize'\n      ];\n      if (ids.indexOf(id) === -1) return;\n      id = id ? id.toUpperCase() : false;\n      classes += id + ' ';\n      this.addClass(id);\n      if (id) this.playSound(this.audio.sfx.answer);\n    });\n\n    this.on('ui-close', function (_event) {\n      if (!this.is(_event.target)) return;\n      this.removeClass(classes);\n      classes = '';\n    });\n  });\n\n  this.screen('flip', function () {\n    audioClasses.call(this);\n\n    this.next = function () {\n      this.game.quit.okay();\n    };\n\n    this.complete = function () {\n      var eventCategory;\n      var theEvent = new Event('game-event', {bubbles: true, cancelable: false});\n      theEvent.name = 'flip';\n      theEvent.gameData = {id: this.game.id()};\n      if (window.frameElement) window.frameElement.dispatchEvent(theEvent);\n      eventCategory = (['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')']).join(' ');\n      ga('send', 'event', eventCategory, 'complete');\n      return this.proto();\n    };\n  });\n\n  this.exit = function () {\n    var screen, eventCategory;\n\n    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n    eventCategory = (['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')']).join(' ');\n\n    ga('send', 'event', eventCategory, 'quit');\n\n    return this.proto();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/index.js\n **/","pl.game.component('audio-sequence', function () {\n  var i, sounds, self = this;\n\n  self.on('ready', function (_event) {\n    if (!self.is(_event.target)) return;\n\n    sounds = self.find('> audio').toArray();\n\n    self.audio.on('ended', function () {\n      var next = sounds[i++];\n      if (next && self.screen.state(self.screen.STATE.OPEN)) {\n        setTimeout(function () {\n          self.screen.playSound($(next).data('context'));\n        }, 0);\n      }\n    }.bind(self));\n  });\n\n  self.start = function () {\n    i = 1;\n    if (sounds[0] && self.screen.state(self.screen.STATE.OPEN)) self.screen.playSound($(sounds[0]).data('context'));\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/audio-sequence/behavior.js\n **/","pl.game.component('frame', function () {\n\n  this.start = function () {\n    var bgSound, voSound;\n\n    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\n    if (bgSound) bgSound.play();\n    if (voSound) this.screen.playSound(voSound);\n\n    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n    return this;\n  };\n\n  this.handleProperty({\n    title: function (_node, _name, _value) {\n      if (this.is(_node)) {\n        this.find('.frame').addClass('title');\n        this.game.defineRule('.experiment:nth-of-type(' + (this.screen.index() + 1) + ') .frame-component .frame.title::before', {\n          backgroundImage: 'url(' + _value + ')'\n        });\n      }\n    }\n  });\n\n  this.on('ui-open', function (_event) {\n    if (this.isReady) {\n      this.start();\n    }\n\n    if (this === _event.targetScope) {\n      if (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && (this.requiredQueue && this.requiredQueue.length))) {\n        this.complete();\n      }\n    }\n  });\n\n  this.on('ready', function () {\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'audio.sfx.screenComplete') || pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) this.playSound(sfx);\n      }));\n    }\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/frame/behavior.js\n **/","pl.game.component('modal', function () {\n\n  this.item = function (_id) {\n    this.select(this);\n    this.reveal.item(_id);\n  };\n\n  this.close = function () {\n    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n      this.deselect(this);\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/modal/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n  function validateAnswer(_scope) {\n    var answers;\n\n    if (_scope.properties.correct) {\n      answers = _scope.properties.correct.split(/\\s*,\\s*/);\n\n      if (~answers.indexOf(String(_scope.getSelected().index()))) {\n        _scope.complete();\n      }\n    }\n\n    return false;\n  }\n\n  this.answer = function () {\n    var $li;\n\n    if (this.event) {\n      $li = $(this.event.target).closest('li');\n\n      if (!this.isComplete && this.select($li)) {\n        validateAnswer(this);\n      }\n    }\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n  this.item = function (_id) {\n    var vo, index;\n\n    if (typeof _id === 'number') {\n      this.select(this.find('li').eq(_id));\n      this.audio.voiceOver[_id].play();\n    } else if (typeof _id === 'string') {\n      if (this[_id]) {\n        this.select(this[_id]);\n\n        if (this.audio) {\n          index = this[_id].index();\n          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\n          if (vo) vo.play();\n        }\n      }\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/reveal/behavior.js\n **/","pl.game.component('score', function () {\n\n  this.value = 0;\n\n  this.entity('.board', function () {\n\n    this.template = null;\n\n    this.ready = function () {\n      this.template = this.html();\n    };\n\n    this.render = function () {\n      this.html(this.template.replace('{{score}}', this.value));\n      return this;\n    };\n\n  });\n\n  this.init = function () {\n    this.screen.require(this);\n  };\n\n  this.ready = function () {\n    this.board.render();\n  };\n\n  this.up = function (_count) {\n    this.value += _count || 1;\n\n    this.board.render();\n\n    if (this.value === parseInt(this.properties.max, 10)) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n  this.down = function (_count) {\n    this.value -= _count || 1;\n\n    this.board.render();\n\n    if (this.value === parseInt(this.properties.max, 10)) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/score/behavior.js\n **/","pl.game.component('screen-basic', function () {\n  this.currentMedia = {};\n\n  this.allowAction = function () {\n    return (this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER)) || this.game.demoMode;\n  };\n\n  this.playSound = function (_sound) {\n    var delay;\n\n    delay = $(_sound.media).attr('pl-start');\n\n    if (_sound.type === 'voiceOver') {\n      this.currentMedia.voiceOver = _sound;\n    }\n\n    if (delay) {\n      return this.delay(delay, _sound.play.bind(_sound));\n    } else {\n      return _sound.play();\n    }\n  };\n\n  this.next = function () {\n    var nextScreen, buttonSound;\n\n    nextScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (nextScreen) {\n      this.leave();\n      nextScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return nextScreen;\n  };\n\n  this.prev = function () {\n    var prevScreen, buttonSound;\n\n    prevScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (prevScreen) {\n      this.screen.close();\n      prevScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return prevScreen;\n  };\n\n  this.start = function () {\n    var bgSound, voSound, fxSound;\n\n    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n    fxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\n    if (bgSound) {\n      this.game.bgSound = bgSound;\n      bgSound.play();\n    }\n    if (fxSound) fxSound.play();\n    if (voSound) this.playSound(voSound);\n\n    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n    return this;\n  };\n\n  this.stop = function () {\n    if (this.timeoutID) {\n      clearTimeout(this.timeoutID);\n    }\n\n    if (this.currentVO) {\n      this.currentVO.stop();\n    }\n  };\n\n  this.on('ui-open', function (_event) {\n    if (this.isReady && this === _event.targetScope) {\n      this.start();\n    }\n\n    if (this.properties.gameClass) {\n      this.game.addClass(this.properties.gameClass);\n    }\n\n    if (!this.requiredQueue || (this.hasOwnProperty('requiredQueue') && !this.requiredQueue.length)) {\n      this.complete();\n    }\n\n    if (typeof this.properties.wallpaper !== 'undefined') {\n      this.game.changeWallpaper(this.properties.wallpaper);\n    }\n  });\n\n  this.on('ui-leave', function (_event) {\n    if (this.properties.gameClass) {\n      this.game.removeClass(this.properties.gameClass);\n    }\n\n    if (this.isReady && this === _event.targetScope) {\n      this.stop();\n    }\n  });\n\n  this.on('ui-close', function (_event) {\n    if (this.properties.gameClass) {\n      this.game.removeClass(this.properties.gameClass);\n    }\n\n    if (this.isReady && this === _event.targetScope) {\n      this.stop();\n    }\n  });\n\n  this.on('ready', function () {\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) this.playSound(sfx);\n      }));\n    }\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n  this.buttonSound = function () {\n    if (this.audio.sfx.button) this.audio.sfx.button.play();\n  };\n\n  // TODO: Make an automated way to handle this\n  this.on('transitionend', function (_event) {\n    if (!this.is(_event.target)) return;\n    if (this.state(this.STATE.LEAVE)) {\n      this.addClass('LEAVE-END');\n    }\n  });\n\n  this.on('ready', function (_e) {\n    var ctx;\n\n    if (!this.is(_e.target)) return;\n\n    ctx = new (window.AudioContext || window.webkitAudioContext);\n    if (this.audio.sfx.sure) this.audio.sfx.sure.setContext(ctx);\n    if (this.audio.sfx.button) this.audio.sfx.button.setContext(ctx);\n  });\n\n  this.on('ui-open', function (_event) {\n    if (!this.is(_event.target)) return;\n    if (this.audio.sfx.sure) this.audio.sfx.sure.play();\n    this.buttonSound();\n    this.game.addClass('QUIT-SCREEN');\n    this.removeClass('LEAVE-END');\n    this.game.pause(true);\n  });\n\n  this.on('ui-leave', function () {\n    if (this.audio.sfx.sure) this.audio.sfx.sure.stop();\n    this.game.removeClass('QUIT-SCREEN');\n    this.game.resume();\n  });\n\n  this.init = function () {\n    this.addClass('LEAVE LEAVE-END');\n  };\n\n  this.okay = function () {\n    this.buttonSound();\n    this.game.exit();\n  };\n\n  this.cancel = function () {\n    this.buttonSound();\n    this.leave();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('screen-title', function () {\n\n  this.playSound = function (_sound) {\n    var delay;\n\n    delay = $(_sound).attr('pl-delay');\n\n    if ($(_sound).hasClass('voice-over')) {\n      this.currentVO = _sound;\n    }\n\n    if (delay) {\n      return this.delay(delay, _sound.play.bind(_sound));\n    } else {\n      return _sound.play();\n    }\n  };\n\n  this.on('ready', function (_event) {\n    if (!this.is(_event.target)) return;\n\n    if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) this.playSound(sfx);\n      }));\n    }\n  });\n\n  /**\n   * Start the title screen logo animation when the screen opens.\n   */\n  this.on('ui-open', function () {\n    var so;\n\n    if (typeof this.properties.wallpaper !== 'undefined') {\n      this.game.changeWallpaper(this.properties.wallpaper);\n    }\n\n    so = pl.util.resolvePath(this, 'audio.background[0]?');\n\n    if (so) so.play();\n\n    return this;\n  });\n\n  this.on('ui-close', function (_event) {\n    if (!this.is(_event.target)) return;\n    this.on('transitionend', function (_e) {\n      if (!this.is(_e.target)) return;\n    });\n  });\n\n  this.next = function () {\n    var nextScreen, buttonSound;\n\n    nextScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'audio.sfx.button') || pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (nextScreen) {\n      this.leave();\n      nextScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return nextScreen;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/screen-title/behavior.js\n **/","pl.game.component('selectable-reveal', function () {\n\n  this.respond('select', function (_event) {\n    var index, stateMethod;\n\n    index = _event.message;\n    stateMethod = this.properties.select_state || 'select';\n\n    if (~index) {\n      this[stateMethod](_event.behaviorTarget);\n      this.reveal.item(index);\n    }\n  });\n\n  this.entity('selectable', function () {\n\n    this.shouldSelect = function (_$target) {\n      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n        return !this.screen.state(this.STATE.VOICE_OVER);\n      }\n\n      return false;\n    };\n\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/selectable-reveal/behavior.js\n **/","pl.game.component('selectable', function () {\n\n  this.behavior('select', function (_target) {\n    var $target;\n\n    if (this.event) {\n      $target = $(this.event.target).closest('li');\n\n      if (this.shouldSelect($target) !== false) {\n        return {\n          message: $target.id(),\n          behaviorTarget: $target\n        };\n      }\n    } else {\n      this.proto(_target);\n    }\n\n    return false;\n  });\n\n  this.shouldSelect = function () {\n    return true;\n  };\n\n  this.deselectAll = function () {\n    var items = this.find('li');\n    this.deselect(items);\n    this.unhighlight(items);\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/selectable/behavior.js\n **/","pl.game.component('slides', function () {\n\n  this.slides = null;\n\n  this.ready = function () {\n    this.slides = this.find('> div').scope();\n  };\n\n  this.start = function () {\n    var current, i, n;\n\n    current = this.current();\n\n    if (current) {\n      current.start();\n    } else if (this.slides.length) {\n      this.slides[0].open();\n      for (i = 1, n = this.slides.length; i < n; i++) {\n        this.slides[i] && this.slides[i].close();\n      }\n    }\n  };\n\n  this.current = function () {\n    return this.find('> .OPEN').scope();\n  };\n\n  /*\n   * @this {frame-component-scope} called by the next button in a frame component.\n   */\n  this.next = function () {\n    var index, nextSlide, buttonSound;\n\n    if (!this.completed()) return false;\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    index = this.slides.indexOf(this);\n\n    if (~index) nextSlide = this.slides[index + 1];\n\n    if (nextSlide) {\n      this.leave();\n      nextSlide.open();\n\n      if (buttonSound) buttonSound.play();\n\n      return nextSlide;\n    } else {\n      return this.screen.next();\n    }\n  };\n\n  /*\n   * @this {frame-component-scope} called by the next button in a frame component.\n   */\n  this.prev = function () {\n    var index, prevSlide, buttonSound;\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    index = this.slides.indexOf(this);\n\n    if (~index) prevSlide = this.slides[index - 1];\n\n    if (prevSlide) {\n      this.close();\n      prevSlide.open();\n\n      if (buttonSound) buttonSound.play();\n\n      return prevSlide;\n    } else {\n      return this.proto();\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/slides/behavior.js\n **/"],"sourceRoot":""}