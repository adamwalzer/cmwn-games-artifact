{"version":3,"sources":["webpack:///tag-it/ai.js","webpack:///webpack/bootstrap 20e3ad0a2081a36f3b1e","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js","webpack:///./tag-it/source/js/components/audio-sequence/behavior.js","webpack:///./tag-it/source/js/components/frame/behavior.js","webpack:///./tag-it/source/js/components/modal/behavior.js","webpack:///./tag-it/source/js/components/multiple-choice/behavior.js","webpack:///./tag-it/source/js/components/reveal/behavior.js","webpack:///./tag-it/source/js/components/score/behavior.js","webpack:///./tag-it/source/js/components/screen-basic/behavior.js","webpack:///./tag-it/source/js/components/screen-quit/behavior.js","webpack:///./tag-it/source/js/components/screen-title/behavior.js","webpack:///./tag-it/source/js/components/selectable-reveal/behavior.js","webpack:///./tag-it/source/js/components/selectable/behavior.js","webpack:///./tag-it/source/js/components/slides/behavior.js","webpack:///./tag-it/source/js/config.game.js","webpack:///./tag-it/source/js/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","i","s","o","g","r","a","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","window","document","ga","pl","game","component","this","on","_e","is","target","title","state","splash","close","loader","hasClass","open","ball","delay","next","nextScreen","proto","screen","leave","audio","sfx","button","play","complete","startGame","addClass","test","_env","parent","location","href","domain","sounds","self","_event","find","toArray","STATE","OPEN","setTimeout","playSound","$","data","bind","start","bgSound","voSound","util","resolvePath","hasOwnProperty","entities","handleProperty","_node","_name","_value","defineRule","index","backgroundImage","isReady","targetScope","isComplete","requiredQueue","length","isMemberSafe","item","_id","select","reveal","VOICE_OVER","demoMode","deselect","validateAnswer","_scope","answers","properties","correct","split","indexOf","String","getSelected","answer","$li","event","closest","vo","eq","voiceOver","value","entity","template","ready","html","render","replace","init","require","board","up","_count","parseInt","max","down","currentMedia","allowAction","_sound","media","attr","type","buttonSound","prev","prevScreen","fxSound","stop","timeoutID","clearTimeout","currentVO","gameClass","wallpaper","changeWallpaper","removeClass","LEAVE","ctx","AudioContext","webkitAudioContext","sure","setContext","pause","resume","okay","exit","cancel","iosSplash","READY","so","respond","stateMethod","message","select_state","behaviorTarget","shouldSelect","_$target","HIGHLIGHTED","behavior","_target","$target","deselectAll","items","unhighlight","slides","scope","current","n","nextSlide","completed","prevSlide","config","screenSelector","componentDirectory","dimensions","width","ratio","shouldLoadComponentStyles","audioClasses","audioScreens","k","classes","$el","toUpperCase","ids","quit","eventCategory","theEvent","Event","bubbles","cancelable","name","gameData","frameElement","dispatchEvent","join","findOwn"],"mappings":"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","file":"tag-it/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(17);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t  this.on('ready', function (_e) {\n\t    if (!this.is(_e.target)) return;\n\t\n\t    if (this.game && this.game.title.state('READY')) {\n\t      this.splash();\n\t    }\n\t  });\n\t\n\t  this.splash = function () {\n\t    this.close(this.game.loader);\n\t\n\t    if (this.game.hasClass('iOS')) {\n\t      this.open();\n\t      this.ball.delay(0, this.ball.open);\n\t    } else {\n\t      this.game.title.open();\n\t    }\n\t  };\n\t\n\t  this.next = function () {\n\t    var nextScreen = this.proto();\n\t\n\t    if (nextScreen) {\n\t      this.screen.leave();\n\t      nextScreen.open();\n\t      this.game.audio.sfx.button.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t\n\t  this.complete = function () {\n\t    this.game.audio.sfx.play('screenComplete');\n\t    return this.proto();\n\t  };\n\t\n\t  this.startGame = function () {\n\t    if (!this.hasClass('FINISHED')) return;\n\t    this.game.addClass('STARTED');\n\t    this.delay('2.5s', function () {\n\t      this.next();\n\t    });\n\t  };\n\t\n\t  this.on('animationend', function (_e) {\n\t    if (!this.ball.is(_e.target)) return;\n\t    this.addClass('FINISHED');\n\t  });\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t(function test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t})();\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('audio-sequence', function () {\n\t  var i,\n\t      sounds,\n\t      self = this;\n\t\n\t  self.on('ready', function (_event) {\n\t    if (!self.is(_event.target)) return;\n\t\n\t    sounds = self.find('> audio').toArray();\n\t\n\t    self.audio.on('ended', (function () {\n\t      var next = sounds[i++];\n\t      if (next && self.screen.state(self.screen.STATE.OPEN)) {\n\t        setTimeout(function () {\n\t          self.screen.playSound($(next).data('context'));\n\t        }, 0);\n\t      }\n\t    }).bind(self));\n\t  });\n\t\n\t  self.start = function () {\n\t    i = 1;\n\t    if (sounds[0] && self.screen.state(self.screen.STATE.OPEN)) self.screen.playSound($(sounds[0]).data('context'));\n\t  };\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('frame', function () {\n\t\n\t  this.start = function () {\n\t    var bgSound, voSound;\n\t\n\t    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t\n\t    if (bgSound) bgSound.play();\n\t    if (voSound) this.screen.playSound(voSound);\n\t\n\t    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t    return this;\n\t  };\n\t\n\t  this.handleProperty({\n\t    title: function title(_node, _name, _value) {\n\t      if (this.is(_node)) {\n\t        this.find('.frame').addClass('title');\n\t        this.game.defineRule('.experiment:nth-of-type(' + (this.screen.index() + 1) + ') .frame-component .frame.title::before', {\n\t          backgroundImage: 'url(' + _value + ')'\n\t        });\n\t      }\n\t    }\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.isReady) {\n\t      this.start();\n\t    }\n\t\n\t    if (this === _event.targetScope) {\n\t      if (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && this.requiredQueue && this.requiredQueue.length)) {\n\t        this.complete();\n\t      }\n\t    }\n\t  });\n\t\n\t  this.on('ready', function () {\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'audio.sfx.screenComplete') || pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) this.playSound(sfx);\n\t      }));\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('modal', function () {\n\t\n\t  this.item = function (_id) {\n\t    this.select(this);\n\t    this.reveal.item(_id);\n\t  };\n\t\n\t  this.close = function () {\n\t    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t      this.deselect(this);\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t  function validateAnswer(_scope) {\n\t    var answers;\n\t\n\t    if (_scope.properties.correct) {\n\t      answers = _scope.properties.correct.split(/\\s*,\\s*/);\n\t\n\t      if (~answers.indexOf(String(_scope.getSelected().index()))) {\n\t        _scope.complete();\n\t      }\n\t    }\n\t\n\t    return false;\n\t  }\n\t\n\t  this.answer = function () {\n\t    var $li;\n\t\n\t    if (this.event) {\n\t      $li = $(this.event.target).closest('li');\n\t\n\t      if (!this.isComplete && this.select($li)) {\n\t        validateAnswer(this);\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t  this.item = function (_id) {\n\t    var vo, index;\n\t\n\t    if (typeof _id === 'number') {\n\t      this.select(this.find('li').eq(_id));\n\t      this.audio.voiceOver[_id].play();\n\t    } else if (typeof _id === 'string') {\n\t      if (this[_id]) {\n\t        this.select(this[_id]);\n\t\n\t        if (this.audio) {\n\t          index = this[_id].index();\n\t          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t          if (vo) vo.play();\n\t        }\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('score', function () {\n\t\n\t  this.value = 0;\n\t\n\t  this.entity('.board', function () {\n\t\n\t    this.template = null;\n\t\n\t    this.ready = function () {\n\t      this.template = this.html();\n\t    };\n\t\n\t    this.render = function () {\n\t      this.html(this.template.replace('{{score}}', this.value));\n\t      return this;\n\t    };\n\t  });\n\t\n\t  this.init = function () {\n\t    this.screen.require(this);\n\t  };\n\t\n\t  this.ready = function () {\n\t    this.board.render();\n\t  };\n\t\n\t  this.up = function (_count) {\n\t    this.value += _count || 1;\n\t\n\t    this.board.render();\n\t\n\t    if (this.value === parseInt(this.properties.max, 10)) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.down = function (_count) {\n\t    this.value -= _count || 1;\n\t\n\t    this.board.render();\n\t\n\t    if (this.value === parseInt(this.properties.max, 10)) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t  this.currentMedia = {};\n\t\n\t  this.allowAction = function () {\n\t    return this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t  };\n\t\n\t  this.playSound = function (_sound) {\n\t    var delay;\n\t\n\t    delay = $(_sound.media).attr('pl-start');\n\t\n\t    if (_sound.type === 'voiceOver') {\n\t      this.currentMedia.voiceOver = _sound;\n\t    }\n\t\n\t    if (delay) {\n\t      return this.delay(delay, _sound.play.bind(_sound));\n\t    } else {\n\t      return _sound.play();\n\t    }\n\t  };\n\t\n\t  this.next = function () {\n\t    var nextScreen, buttonSound;\n\t\n\t    nextScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (nextScreen) {\n\t      this.leave();\n\t      nextScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t\n\t  this.prev = function () {\n\t    var prevScreen, buttonSound;\n\t\n\t    prevScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (prevScreen) {\n\t      this.screen.close();\n\t      prevScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return prevScreen;\n\t  };\n\t\n\t  this.start = function () {\n\t    var bgSound, voSound, fxSound;\n\t\n\t    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n\t    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\t    fxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\t\n\t    if (bgSound) {\n\t      this.game.bgSound = bgSound;\n\t      bgSound.play();\n\t    }\n\t    if (fxSound) fxSound.play();\n\t    if (voSound) this.playSound(voSound);\n\t\n\t    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t    return this;\n\t  };\n\t\n\t  this.stop = function () {\n\t    if (this.timeoutID) {\n\t      clearTimeout(this.timeoutID);\n\t    }\n\t\n\t    if (this.currentVO) {\n\t      this.currentVO.stop();\n\t    }\n\t  };\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.isReady && this === _event.targetScope) {\n\t      this.start();\n\t    }\n\t\n\t    if (this.properties.gameClass) {\n\t      this.game.addClass(this.properties.gameClass);\n\t    }\n\t\n\t    if (!this.requiredQueue || this.hasOwnProperty('requiredQueue') && !this.requiredQueue.length) {\n\t      this.complete();\n\t    }\n\t\n\t    if (typeof this.properties.wallpaper !== 'undefined') {\n\t      this.game.changeWallpaper(this.properties.wallpaper);\n\t    }\n\t  });\n\t\n\t  this.on('ui-leave', function (_event) {\n\t    if (this.properties.gameClass) {\n\t      this.game.removeClass(this.properties.gameClass);\n\t    }\n\t\n\t    if (this.isReady && this === _event.targetScope) {\n\t      this.stop();\n\t    }\n\t  });\n\t\n\t  this.on('ui-close', function (_event) {\n\t    if (this.properties.gameClass) {\n\t      this.game.removeClass(this.properties.gameClass);\n\t    }\n\t\n\t    if (this.isReady && this === _event.targetScope) {\n\t      this.stop();\n\t    }\n\t  });\n\t\n\t  this.on('ready', function () {\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) this.playSound(sfx);\n\t      }));\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t  this.buttonSound = function () {\n\t    if (this.audio.sfx.button) this.audio.sfx.button.play();\n\t  };\n\t\n\t  // TODO: Make an automated way to handle this\n\t  this.on('transitionend', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    if (this.state(this.STATE.LEAVE)) {\n\t      this.addClass('LEAVE-END');\n\t    }\n\t  });\n\t\n\t  this.on('ready', function (_e) {\n\t    var ctx;\n\t\n\t    if (!this.is(_e.target)) return;\n\t\n\t    ctx = new (window.AudioContext || window.webkitAudioContext)();\n\t    if (this.audio.sfx.sure) this.audio.sfx.sure.setContext(ctx);\n\t    if (this.audio.sfx.button) this.audio.sfx.button.setContext(ctx);\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    if (this.audio.sfx.sure) this.audio.sfx.sure.play();\n\t    this.buttonSound();\n\t    this.game.addClass('QUIT-SCREEN');\n\t    this.removeClass('LEAVE-END');\n\t    this.game.pause(true);\n\t  });\n\t\n\t  this.on('ui-leave', function () {\n\t    if (this.audio.sfx.sure) this.audio.sfx.sure.stop();\n\t    this.game.removeClass('QUIT-SCREEN');\n\t    this.game.resume();\n\t  });\n\t\n\t  this.init = function () {\n\t    this.addClass('LEAVE LEAVE-END');\n\t  };\n\t\n\t  this.okay = function () {\n\t    this.buttonSound();\n\t    this.game.exit();\n\t  };\n\t\n\t  this.cancel = function () {\n\t    this.buttonSound();\n\t    this.leave();\n\t  };\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-title', function () {\n\t\n\t  this.playSound = function (_sound) {\n\t    var delay;\n\t\n\t    delay = $(_sound).attr('pl-delay');\n\t\n\t    if ($(_sound).hasClass('voice-over')) {\n\t      this.currentVO = _sound;\n\t    }\n\t\n\t    if (delay) {\n\t      return this.delay(delay, _sound.play.bind(_sound));\n\t    } else {\n\t      return _sound.play();\n\t    }\n\t  };\n\t\n\t  this.on('ready', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t\n\t    if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) this.playSound(sfx);\n\t      }));\n\t    }\n\t  });\n\t\n\t  /**\n\t   * Start the title screen logo animation when the screen opens.\n\t   */\n\t  this.on('ui-open', function () {\n\t    var so;\n\t\n\t    if (typeof this.properties.wallpaper !== 'undefined') {\n\t      this.game.changeWallpaper(this.properties.wallpaper);\n\t    }\n\t\n\t    so = pl.util.resolvePath(this, 'audio.background[0]?');\n\t\n\t    if (so) so.play();\n\t\n\t    return this;\n\t  });\n\t\n\t  this.on('ui-close', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    this.on('transitionend', function (_e) {\n\t      if (!this.is(_e.target)) return;\n\t    });\n\t  });\n\t\n\t  this.next = function () {\n\t    var nextScreen, buttonSound;\n\t\n\t    nextScreen = this.proto();\n\t    buttonSound = pl.util.resolvePath(this, 'audio.sfx.button') || pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    if (nextScreen) {\n\t      this.leave();\n\t      nextScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable-reveal', function () {\n\t\n\t  this.respond('select', function (_event) {\n\t    var index, stateMethod;\n\t\n\t    index = _event.message;\n\t    stateMethod = this.properties.select_state || 'select';\n\t\n\t    if (~index) {\n\t      this[stateMethod](_event.behaviorTarget);\n\t      this.reveal.item(index);\n\t    }\n\t  });\n\t\n\t  this.entity('selectable', function () {\n\t\n\t    this.shouldSelect = function (_$target) {\n\t      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n\t        return !this.screen.state(this.STATE.VOICE_OVER);\n\t      }\n\t\n\t      return false;\n\t    };\n\t  });\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t  this.behavior('select', function (_target) {\n\t    var $target;\n\t\n\t    if (this.event) {\n\t      $target = $(this.event.target).closest('li');\n\t\n\t      if (this.shouldSelect($target) !== false) {\n\t        return {\n\t          message: $target.id(),\n\t          behaviorTarget: $target\n\t        };\n\t      }\n\t    } else {\n\t      this.proto(_target);\n\t    }\n\t\n\t    return false;\n\t  });\n\t\n\t  this.shouldSelect = function () {\n\t    return true;\n\t  };\n\t\n\t  this.deselectAll = function () {\n\t    var items = this.find('li');\n\t    this.deselect(items);\n\t    this.unhighlight(items);\n\t  };\n\t});\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tpl.game.component('slides', function () {\n\t\n\t  this.slides = null;\n\t\n\t  this.ready = function () {\n\t    this.slides = this.find('> div').scope();\n\t  };\n\t\n\t  this.start = function () {\n\t    var current, i, n;\n\t\n\t    current = this.current();\n\t\n\t    if (current) {\n\t      current.start();\n\t    } else if (this.slides.length) {\n\t      this.slides[0].open();\n\t      for (i = 1, n = this.slides.length; i < n; i++) {\n\t        this.slides[i] && this.slides[i].close();\n\t      }\n\t    }\n\t  };\n\t\n\t  this.current = function () {\n\t    return this.find('> .OPEN').scope();\n\t  };\n\t\n\t  /*\n\t   * @this {frame-component-scope} called by the next button in a frame component.\n\t   */\n\t  this.next = function () {\n\t    var index, nextSlide, buttonSound;\n\t\n\t    if (!this.completed()) return false;\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    index = this.slides.indexOf(this);\n\t\n\t    if (~index) nextSlide = this.slides[index + 1];\n\t\n\t    if (nextSlide) {\n\t      this.leave();\n\t      nextSlide.open();\n\t\n\t      if (buttonSound) buttonSound.play();\n\t\n\t      return nextSlide;\n\t    } else {\n\t      return this.screen.next();\n\t    }\n\t  };\n\t\n\t  /*\n\t   * @this {frame-component-scope} called by the next button in a frame component.\n\t   */\n\t  this.prev = function () {\n\t    var index, prevSlide, buttonSound;\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    index = this.slides.indexOf(this);\n\t\n\t    if (~index) prevSlide = this.slides[index - 1];\n\t\n\t    if (prevSlide) {\n\t      this.close();\n\t      prevSlide.open();\n\t\n\t      if (buttonSound) buttonSound.play();\n\t\n\t      return prevSlide;\n\t    } else {\n\t      return this.proto();\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t  screenSelector: '.screen',\n\t  componentDirectory: 'components/',\n\t  dimensions: {\n\t    width: 960,\n\t    ratio: 16 / 9\n\t  },\n\t  shouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t\n\t__webpack_require__(16);\n\t\n\t// SCREENS\n\t\n\t// COMPONENTS\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(12);\n\t\n\t__webpack_require__(13);\n\t\n\t__webpack_require__(14);\n\t\n\t__webpack_require__(15);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(1);\n\t\n\tpl.game('tag-it', function () {\n\t\n\t  var audioClasses, audioScreens, k;\n\t\n\t  this.changeWallpaper = function (wallpaper) {\n\t    this.removeClass('PRECIOUS RECYCLE STEPS SCISSORS SPREAD').addClass(wallpaper);\n\t  };\n\t\n\t  audioClasses = function () {\n\t    var classes = '';\n\t\n\t    this.on('audio-play', function (_event) {\n\t      var id = _event.target.$el[0].id;\n\t      id = id ? id.toUpperCase() : false;\n\t      classes += id + ' ';\n\t      this.addClass(id);\n\t    });\n\t\n\t    this.on('ui-close', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t      this.removeClass(classes);\n\t      classes = '';\n\t    });\n\t  };\n\t\n\t  audioScreens = ['step-1', 'step-2', 'what-need'];\n\t\n\t  for (k in audioScreens) {\n\t    this.screen(audioScreens[k], audioClasses);\n\t  }\n\t\n\t  this.screen('what-faucet', function () {\n\t    audioClasses.call(this);\n\t\n\t    this.respond('select', function (_event) {\n\t      this.playSound(this.audio.sfx);\n\t      this.select(_event.behaviorTarget);\n\t    });\n\t  });\n\t\n\t  this.screen('tips', function () {\n\t    var classes = '';\n\t\n\t    this.on('audio-play', function (_event) {\n\t      var id = _event.target.$el[0].id;\n\t      var ids = ['use-your', 'try-glow', 'use-multiple', 'create', 'personalize'];\n\t      if (ids.indexOf(id) === -1) return;\n\t      id = id ? id.toUpperCase() : false;\n\t      classes += id + ' ';\n\t      this.addClass(id);\n\t      if (id) this.playSound(this.audio.sfx.answer);\n\t    });\n\t\n\t    this.on('ui-close', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t      this.removeClass(classes);\n\t      classes = '';\n\t    });\n\t  });\n\t\n\t  this.screen('flip', function () {\n\t    audioClasses.call(this);\n\t\n\t    this.next = function () {\n\t      this.game.quit.okay();\n\t    };\n\t\n\t    this.complete = function () {\n\t      var eventCategory;\n\t      var theEvent = new Event('game-event', { bubbles: true, cancelable: false });\n\t      theEvent.name = 'flip';\n\t      theEvent.gameData = { id: this.game.id() };\n\t      if (window.frameElement) window.frameElement.dispatchEvent(theEvent);\n\t      eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t      ga('send', 'event', eventCategory, 'complete');\n\t      return this.proto();\n\t    };\n\t  });\n\t\n\t  this.exit = function () {\n\t    var screen, eventCategory;\n\t\n\t    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t    eventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t    ga('send', 'event', eventCategory, 'quit');\n\t\n\t    return this.proto();\n\t  };\n\t});\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** tag-it/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 20e3ad0a2081a36f3b1e\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n  this.on('ready', function (_e) {\n    if (!this.is(_e.target)) return;\n\n    if (this.game && this.game.title.state('READY')) {\n      this.splash();\n    }\n  });\n\n  this.splash = function () {\n    this.close(this.game.loader);\n\n    if (this.game.hasClass('iOS')) {\n      this.open();\n      this.ball.delay(0, this.ball.open);\n    } else {\n      this.game.title.open();\n    }\n  };\n\n  this.next = function () {\n    var nextScreen = this.proto();\n\n    if (nextScreen) {\n      this.screen.leave();\n      nextScreen.open();\n      this.game.audio.sfx.button.play();\n    }\n\n    return nextScreen;\n  };\n\n  this.complete = function () {\n    this.game.audio.sfx.play('screenComplete');\n    return this.proto();\n  };\n\n  this.startGame = function () {\n    if (!this.hasClass('FINISHED')) return;\n    this.game.addClass('STARTED');\n    this.delay('2.5s', function () {\n      this.next();\n    });\n  };\n\n  this.on('animationend', function (_e) {\n    if (!this.ball.is(_e.target)) return;\n    this.addClass('FINISHED');\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","(function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n}());\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/","pl.game.component('audio-sequence', function () {\n  var i, sounds, self = this;\n\n  self.on('ready', function (_event) {\n    if (!self.is(_event.target)) return;\n\n    sounds = self.find('> audio').toArray();\n\n    self.audio.on('ended', function () {\n      var next = sounds[i++];\n      if (next && self.screen.state(self.screen.STATE.OPEN)) {\n        setTimeout(function () {\n          self.screen.playSound($(next).data('context'));\n        }, 0);\n      }\n    }.bind(self));\n  });\n\n  self.start = function () {\n    i = 1;\n    if (sounds[0] && self.screen.state(self.screen.STATE.OPEN)) self.screen.playSound($(sounds[0]).data('context'));\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/audio-sequence/behavior.js\n **/","pl.game.component('frame', function () {\n\n  this.start = function () {\n    var bgSound, voSound;\n\n    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n\n    if (bgSound) bgSound.play();\n    if (voSound) this.screen.playSound(voSound);\n\n    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n    return this;\n  };\n\n  this.handleProperty({\n    title: function (_node, _name, _value) {\n      if (this.is(_node)) {\n        this.find('.frame').addClass('title');\n        this.game.defineRule('.experiment:nth-of-type(' + (this.screen.index() + 1) + ') .frame-component .frame.title::before', {\n          backgroundImage: 'url(' + _value + ')'\n        });\n      }\n    }\n  });\n\n  this.on('ui-open', function (_event) {\n    if (this.isReady) {\n      this.start();\n    }\n\n    if (this === _event.targetScope) {\n      if (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && (this.requiredQueue && this.requiredQueue.length))) {\n        this.complete();\n      }\n    }\n  });\n\n  this.on('ready', function () {\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'audio.sfx.screenComplete') || pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) this.playSound(sfx);\n      }));\n    }\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/frame/behavior.js\n **/","pl.game.component('modal', function () {\n\n  this.item = function (_id) {\n    this.select(this);\n    this.reveal.item(_id);\n  };\n\n  this.close = function () {\n    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n      this.deselect(this);\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/modal/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n  function validateAnswer(_scope) {\n    var answers;\n\n    if (_scope.properties.correct) {\n      answers = _scope.properties.correct.split(/\\s*,\\s*/);\n\n      if (~answers.indexOf(String(_scope.getSelected().index()))) {\n        _scope.complete();\n      }\n    }\n\n    return false;\n  }\n\n  this.answer = function () {\n    var $li;\n\n    if (this.event) {\n      $li = $(this.event.target).closest('li');\n\n      if (!this.isComplete && this.select($li)) {\n        validateAnswer(this);\n      }\n    }\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n  this.item = function (_id) {\n    var vo, index;\n\n    if (typeof _id === 'number') {\n      this.select(this.find('li').eq(_id));\n      this.audio.voiceOver[_id].play();\n    } else if (typeof _id === 'string') {\n      if (this[_id]) {\n        this.select(this[_id]);\n\n        if (this.audio) {\n          index = this[_id].index();\n          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\n          if (vo) vo.play();\n        }\n      }\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/reveal/behavior.js\n **/","pl.game.component('score', function () {\n\n  this.value = 0;\n\n  this.entity('.board', function () {\n\n    this.template = null;\n\n    this.ready = function () {\n      this.template = this.html();\n    };\n\n    this.render = function () {\n      this.html(this.template.replace('{{score}}', this.value));\n      return this;\n    };\n\n  });\n\n  this.init = function () {\n    this.screen.require(this);\n  };\n\n  this.ready = function () {\n    this.board.render();\n  };\n\n  this.up = function (_count) {\n    this.value += _count || 1;\n\n    this.board.render();\n\n    if (this.value === parseInt(this.properties.max, 10)) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n  this.down = function (_count) {\n    this.value -= _count || 1;\n\n    this.board.render();\n\n    if (this.value === parseInt(this.properties.max, 10)) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/score/behavior.js\n **/","pl.game.component('screen-basic', function () {\n  this.currentMedia = {};\n\n  this.allowAction = function () {\n    return (this.screen.state(this.screen.STATE.OPEN) && !this.screen.state(this.screen.STATE.VOICE_OVER)) || this.game.demoMode;\n  };\n\n  this.playSound = function (_sound) {\n    var delay;\n\n    delay = $(_sound.media).attr('pl-start');\n\n    if (_sound.type === 'voiceOver') {\n      this.currentMedia.voiceOver = _sound;\n    }\n\n    if (delay) {\n      return this.delay(delay, _sound.play.bind(_sound));\n    } else {\n      return _sound.play();\n    }\n  };\n\n  this.next = function () {\n    var nextScreen, buttonSound;\n\n    nextScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (nextScreen) {\n      this.leave();\n      nextScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return nextScreen;\n  };\n\n  this.prev = function () {\n    var prevScreen, buttonSound;\n\n    prevScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (prevScreen) {\n      this.screen.close();\n      prevScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return prevScreen;\n  };\n\n  this.start = function () {\n    var bgSound, voSound, fxSound;\n\n    bgSound = pl.util.resolvePath(this, 'audio.background[0]?');\n    voSound = pl.util.resolvePath(this, 'audio.voiceOver[0]?');\n    fxSound = pl.util.resolvePath(this, 'audio.sfx.start');\n\n    if (bgSound) {\n      this.game.bgSound = bgSound;\n      bgSound.play();\n    }\n    if (fxSound) fxSound.play();\n    if (voSound) this.playSound(voSound);\n\n    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n    return this;\n  };\n\n  this.stop = function () {\n    if (this.timeoutID) {\n      clearTimeout(this.timeoutID);\n    }\n\n    if (this.currentVO) {\n      this.currentVO.stop();\n    }\n  };\n\n  this.on('ui-open', function (_event) {\n    if (this.isReady && this === _event.targetScope) {\n      this.start();\n    }\n\n    if (this.properties.gameClass) {\n      this.game.addClass(this.properties.gameClass);\n    }\n\n    if (!this.requiredQueue || (this.hasOwnProperty('requiredQueue') && !this.requiredQueue.length)) {\n      this.complete();\n    }\n\n    if (typeof this.properties.wallpaper !== 'undefined') {\n      this.game.changeWallpaper(this.properties.wallpaper);\n    }\n  });\n\n  this.on('ui-leave', function (_event) {\n    if (this.properties.gameClass) {\n      this.game.removeClass(this.properties.gameClass);\n    }\n\n    if (this.isReady && this === _event.targetScope) {\n      this.stop();\n    }\n  });\n\n  this.on('ui-close', function (_event) {\n    if (this.properties.gameClass) {\n      this.game.removeClass(this.properties.gameClass);\n    }\n\n    if (this.isReady && this === _event.targetScope) {\n      this.stop();\n    }\n  });\n\n  this.on('ready', function () {\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) this.playSound(sfx);\n      }));\n    }\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n  this.buttonSound = function () {\n    if (this.audio.sfx.button) this.audio.sfx.button.play();\n  };\n\n  // TODO: Make an automated way to handle this\n  this.on('transitionend', function (_event) {\n    if (!this.is(_event.target)) return;\n    if (this.state(this.STATE.LEAVE)) {\n      this.addClass('LEAVE-END');\n    }\n  });\n\n  this.on('ready', function (_e) {\n    var ctx;\n\n    if (!this.is(_e.target)) return;\n\n    ctx = new (window.AudioContext || window.webkitAudioContext);\n    if (this.audio.sfx.sure) this.audio.sfx.sure.setContext(ctx);\n    if (this.audio.sfx.button) this.audio.sfx.button.setContext(ctx);\n  });\n\n  this.on('ui-open', function (_event) {\n    if (!this.is(_event.target)) return;\n    if (this.audio.sfx.sure) this.audio.sfx.sure.play();\n    this.buttonSound();\n    this.game.addClass('QUIT-SCREEN');\n    this.removeClass('LEAVE-END');\n    this.game.pause(true);\n  });\n\n  this.on('ui-leave', function () {\n    if (this.audio.sfx.sure) this.audio.sfx.sure.stop();\n    this.game.removeClass('QUIT-SCREEN');\n    this.game.resume();\n  });\n\n  this.init = function () {\n    this.addClass('LEAVE LEAVE-END');\n  };\n\n  this.okay = function () {\n    this.buttonSound();\n    this.game.exit();\n  };\n\n  this.cancel = function () {\n    this.buttonSound();\n    this.leave();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('screen-title', function () {\n\n  this.playSound = function (_sound) {\n    var delay;\n\n    delay = $(_sound).attr('pl-delay');\n\n    if ($(_sound).hasClass('voice-over')) {\n      this.currentVO = _sound;\n    }\n\n    if (delay) {\n      return this.delay(delay, _sound.play.bind(_sound));\n    } else {\n      return _sound.play();\n    }\n  };\n\n  this.on('ready', function (_event) {\n    if (!this.is(_event.target)) return;\n\n    if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'screen.audio.sfx.screenComplete') || pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) this.playSound(sfx);\n      }));\n    }\n  });\n\n  /**\n   * Start the title screen logo animation when the screen opens.\n   */\n  this.on('ui-open', function () {\n    var so;\n\n    if (typeof this.properties.wallpaper !== 'undefined') {\n      this.game.changeWallpaper(this.properties.wallpaper);\n    }\n\n    so = pl.util.resolvePath(this, 'audio.background[0]?');\n\n    if (so) so.play();\n\n    return this;\n  });\n\n  this.on('ui-close', function (_event) {\n    if (!this.is(_event.target)) return;\n    this.on('transitionend', function (_e) {\n      if (!this.is(_e.target)) return;\n    });\n  });\n\n  this.next = function () {\n    var nextScreen, buttonSound;\n\n    nextScreen = this.proto();\n    buttonSound = pl.util.resolvePath(this, 'audio.sfx.button') || pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    if (nextScreen) {\n      this.leave();\n      nextScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return nextScreen;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/screen-title/behavior.js\n **/","pl.game.component('selectable-reveal', function () {\n\n  this.respond('select', function (_event) {\n    var index, stateMethod;\n\n    index = _event.message;\n    stateMethod = this.properties.select_state || 'select';\n\n    if (~index) {\n      this[stateMethod](_event.behaviorTarget);\n      this.reveal.item(index);\n    }\n  });\n\n  this.entity('selectable', function () {\n\n    this.shouldSelect = function (_$target) {\n      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0) {\n        return !this.screen.state(this.STATE.VOICE_OVER);\n      }\n\n      return false;\n    };\n\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/selectable-reveal/behavior.js\n **/","pl.game.component('selectable', function () {\n\n  this.behavior('select', function (_target) {\n    var $target;\n\n    if (this.event) {\n      $target = $(this.event.target).closest('li');\n\n      if (this.shouldSelect($target) !== false) {\n        return {\n          message: $target.id(),\n          behaviorTarget: $target\n        };\n      }\n    } else {\n      this.proto(_target);\n    }\n\n    return false;\n  });\n\n  this.shouldSelect = function () {\n    return true;\n  };\n\n  this.deselectAll = function () {\n    var items = this.find('li');\n    this.deselect(items);\n    this.unhighlight(items);\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/selectable/behavior.js\n **/","pl.game.component('slides', function () {\n\n  this.slides = null;\n\n  this.ready = function () {\n    this.slides = this.find('> div').scope();\n  };\n\n  this.start = function () {\n    var current, i, n;\n\n    current = this.current();\n\n    if (current) {\n      current.start();\n    } else if (this.slides.length) {\n      this.slides[0].open();\n      for (i = 1, n = this.slides.length; i < n; i++) {\n        this.slides[i] && this.slides[i].close();\n      }\n    }\n  };\n\n  this.current = function () {\n    return this.find('> .OPEN').scope();\n  };\n\n  /*\n   * @this {frame-component-scope} called by the next button in a frame component.\n   */\n  this.next = function () {\n    var index, nextSlide, buttonSound;\n\n    if (!this.completed()) return false;\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    index = this.slides.indexOf(this);\n\n    if (~index) nextSlide = this.slides[index + 1];\n\n    if (nextSlide) {\n      this.leave();\n      nextSlide.open();\n\n      if (buttonSound) buttonSound.play();\n\n      return nextSlide;\n    } else {\n      return this.screen.next();\n    }\n  };\n\n  /*\n   * @this {frame-component-scope} called by the next button in a frame component.\n   */\n  this.prev = function () {\n    var index, prevSlide, buttonSound;\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    index = this.slides.indexOf(this);\n\n    if (~index) prevSlide = this.slides[index - 1];\n\n    if (prevSlide) {\n      this.close();\n      prevSlide.open();\n\n      if (buttonSound) buttonSound.play();\n\n      return prevSlide;\n    } else {\n      return this.proto();\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/components/slides/behavior.js\n **/","pl.game.config({\n  screenSelector: '.screen',\n  componentDirectory: 'components/',\n  dimensions: {\n    width: 960,\n    ratio: 16 / 9\n  },\n  shouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\nimport './config.game';\n\n// SCREENS\n\n// COMPONENTS\nimport '../../../shared/js/screen-ios-splash';\nimport './components/audio-sequence/behavior';\nimport './components/frame/behavior';\nimport './components/modal/behavior';\nimport './components/multiple-choice/behavior';\nimport './components/reveal/behavior';\nimport './components/score/behavior';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/screen-title/behavior';\nimport './components/selectable-reveal/behavior';\nimport './components/selectable/behavior';\nimport './components/slides/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\npl.game('tag-it', function () {\n\n  var audioClasses, audioScreens, k;\n\n  this.changeWallpaper = function (wallpaper) {\n    this.removeClass('PRECIOUS RECYCLE STEPS SCISSORS SPREAD').addClass(wallpaper);\n  };\n\n  audioClasses = function () {\n    var classes = '';\n\n    this.on('audio-play', function (_event) {\n      var id = _event.target.$el[0].id;\n      id = id ? id.toUpperCase() : false;\n      classes += id + ' ';\n      this.addClass(id);\n    });\n\n    this.on('ui-close', function (_event) {\n      if (!this.is(_event.target)) return;\n      this.removeClass(classes);\n      classes = '';\n    });\n  };\n\n  audioScreens = ['step-1', 'step-2', 'what-need'];\n\n  for (k in audioScreens) {\n    this.screen(audioScreens[k], audioClasses);\n  }\n\n  this.screen('what-faucet', function () {\n    audioClasses.call(this);\n\n    this.respond('select', function (_event) {\n      this.playSound(this.audio.sfx);\n      this.select(_event.behaviorTarget);\n    });\n  });\n\n  this.screen('tips', function () {\n    var classes = '';\n\n    this.on('audio-play', function (_event) {\n      var id = _event.target.$el[0].id;\n      var ids = [\n        'use-your',\n        'try-glow',\n        'use-multiple',\n        'create',\n        'personalize'\n      ];\n      if (ids.indexOf(id) === -1) return;\n      id = id ? id.toUpperCase() : false;\n      classes += id + ' ';\n      this.addClass(id);\n      if (id) this.playSound(this.audio.sfx.answer);\n    });\n\n    this.on('ui-close', function (_event) {\n      if (!this.is(_event.target)) return;\n      this.removeClass(classes);\n      classes = '';\n    });\n  });\n\n  this.screen('flip', function () {\n    audioClasses.call(this);\n\n    this.next = function () {\n      this.game.quit.okay();\n    };\n\n    this.complete = function () {\n      var eventCategory;\n      var theEvent = new Event('game-event', {bubbles: true, cancelable: false});\n      theEvent.name = 'flip';\n      theEvent.gameData = {id: this.game.id()};\n      if (window.frameElement) window.frameElement.dispatchEvent(theEvent);\n      eventCategory = (['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')']).join(' ');\n      ga('send', 'event', eventCategory, 'complete');\n      return this.proto();\n    };\n  });\n\n  this.exit = function () {\n    var screen, eventCategory;\n\n    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n    eventCategory = (['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')']).join(' ');\n\n    ga('send', 'event', eventCategory, 'quit');\n\n    return this.proto();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./tag-it/source/js/index.js\n **/"],"sourceRoot":""}