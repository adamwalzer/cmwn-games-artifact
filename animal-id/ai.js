!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="/build/",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(14)},function(module,exports){pl.game.component("class-switcher",function(){this.start=function(){var target,add,remove;target=this.properties.target||"body",add=this.properties.add||"",remove=this.properties.remove||"",$(target).addClass(add).removeClass(remove)}})},function(module,exports){pl.game.component("drop-responder",function(){this.respond("drop",function(_event){this.screen.reveal.item(_event.behaviorTarget.id())})})},function(module,exports){pl.game.component("dropzone",function(){this.entity(".area",function(){this.cache=null,this.respond("grab",function(){this.audio.sfx.drag.play(),this.cache={position:this.absolutePosition().dec(this.game.absolutePosition()),size:this.size().scale(this.game.transformScale().x)}}),this.respond("release",function(_event){var point,scale;if(point=1!==(scale=this.game.transformScale().x)?[_event.state.start.point[0]+scale*_event.state.progress.distance[0],_event.state.start.point[1]+scale*_event.state.progress.distance[1]]:_event.state.progress.point,point&&this.isPointInBounds(point)){if(this.takes(_event.state.$draggable.id()))return _event.state.$draggable.removeClass("PLUCKED"),_event.state.$helper.addClass("DROPED"),this.drop(_event.state.$draggable),void this.audio.sfx.correct.play();this.audio.sfx.incorrect.play()}_event.state.$helper.addClass("RETURN")})}),this.init=function(){this.takes().forEach(this.bind(function(_id){this.require(_id)}))},this.takes=function(_id){var takes=this.properties.take.split(/\s+/);return arguments.length?!!~takes.indexOf(_id):takes},this.isPointInBounds=function(_point,_y){var point,scale;return point=pl.Point.create(arguments),point.x>=this.cache.position.x&&point.x<=this.cache.position.x+this.cache.size.width&&point.y>=this.cache.position.y&&point.y<=this.cache.position.y+this.cache.size.height?!0:!1},this.isBoxInBounds=function(_point,_size){},this.behavior("drop",function(_$thing){return console.log("*** In bounds!!",_$thing.id()),this.requiredQueue.ready(_$thing.id()),{behaviorTarget:_$thing}})})},function(module,exports){pl.game.component("flip-card",function(){this.flip=function(_card){console.log(_card)}})},function(module,exports){pl.game.component("frame",function(){this.start=function(){var voSound=this.audio.voiceOver[0];return this.audio.background.play(),voSound&&!voSound.config("dontautoplay")&&voSound.play(),this.hasOwnProperty("entities")&&this.entities[0]&&this.entities[0].start(),this},this.handleProperty({title:function title(_node,_name,_value){this.is(_node)&&(this.find(".frame").addClass("title"),this.game.defineRule(".experiment:nth-of-type("+(this.screen.index()+1)+") .frame-component .frame.title::before",{backgroundImage:"url("+_value+")"}))}}),this.on("ui-open",function(_event){this.isReady&&this.start(),this===_event.targetScope&&(this.hasOwnProperty("isComplete")&&this.isComplete||this.hasOwnProperty("requiredQueue")&&this.requiredQueue&&this.requiredQueue.length||this.complete())})})},function(module,exports){pl.game.component("match-game",function(){this.behavior("select",function(_target){var $target;if(this.event&&!_target){if($target=$(this.event.target).closest("li"),!$target.length)return!1;if(this.shouldSelect($target)!==!1){if($target.is("li")&&this.audio.sfx.correct.play(),this.showSelect($target))return{message:$target.id(),behaviorTarget:$target}}else this.audio.sfx.incorrect&&this.audio.sfx.incorrect.play()}else this.proto(_target);return!1}),this.shouldSelect=function(_$target){return!_$target.hasClass(this.STATE.HIGHLIGHTED)&&!_$target.parent().hasClass("show-all")},this.start=function(){var $items,self=this;$items=this.find(".items").addClass("show-all"),this.disable(),setTimeout(function(){$items.removeClass("show-all"),this.enable()}.bind(this),5e3),this.$currentCard=null,this.find("li").each(function(){self.unhighlight($(this))})},this.showSelect=function(_$target){var stateMethod,undoStateMethod;if(stateMethod=this.properties.selectState||"select","select"===stateMethod&&(undoStateMethod="deselect"),"highlight"===stateMethod&&(undoStateMethod="unhighlight"),_$target)if(this[stateMethod](_$target),this.$currentCard){if(this.$currentCard.id()===_$target.id())return this.$currentCard=null,this.enable(),!0;this.disable(),setTimeout(function(){this[undoStateMethod](_$target),this[undoStateMethod](this.$currentCard),this.$currentCard=null,this.enable()}.bind(this),1e3)}else this.$currentCard=_$target,this.disable().on("transitionend",function(){this.enable().off("transitionend")}.bind(this));return!1},this.populateList=function(_$bin){var $items,$bin,random;for($items=this.find(".items"),$bin=_$bin;$bin.length;)random=Math.floor(_$bin.length*Math.random()),$bin.eq(random).remove().appendTo($items),$bin=this.find(".bin li")},this.randomize=function(){var $bin;$bin=this.find(".bin"),this.find(".items li").remove().appendTo($bin),this.populateList($bin.find("li"))},this.ready=function(){var correct,$bin;correct=pl.Queue.create(),correct.on("complete",this.bind(function(){this.screen.complete()})),this.items=this.find(".items li[pl-correct]").map(function(_index,_node){return correct.add(_node.getAttribute("pl-id")),_node}).toArray(),this.items.correct=correct,$bin=this.find(".bin li"),$bin.length&&this.populateList($bin)}})},function(module,exports){pl.game.component("reveal",function(){function playSound(_sound){var delay;return delay=$(_sound).attr("pl-delay"),delay?this.delay(delay,_sound.play.bind(_sound)):_sound.play()}this.screen.STATE.COMPLETE="COMPLETE",this.respond("select",function(_event){var vo,index;index=_event.message,this.closeAll(),"undefined"!=typeof index&&("number"==typeof index?(this.open(this.find("li").eq(index)),this.audio.voiceOver[index].play()):"string"==typeof index&&this[index]&&(this.open(this[index]),this.audio&&(this.audio.voiceOver.length&&(index=this[index].index()),vo=this.audio.voiceOver?this.audio.voiceOver[index]:null,vo&&playSound.call(this,vo))))}),this.item=function(_id){var vo;this.closeAll(),"undefined"!=typeof _id&&("number"==typeof _id?(this.open("li:nth-child("+_id+")"),this.audio.voiceOver[_id].play()):"string"==typeof _id&&this[_id]&&(this.open(this[_id]),this.audio&&(this.audio.voiceOver.length&&(_id=this[_id].index()),vo=this.audio.voiceOver?this.audio.voiceOver[_id]:null,vo&&playSound.call(this,vo))))},this.closeAll=function(){(!this.screen.state(this.screen.STATE.VOICE_OVER)||this.screen.state(this.screen.STATE.COMPLETE)||this.game.demoMode)&&this.close(this.find("li.OPEN"))},this.handleCloseClick=function(){(this.screen.state(this.screen.STATE.COMPLETE)||this.game.demoMode)&&(this.closeAll(),this.screen.next())}})},function(module,exports){pl.game.component("screen-basic",function(){this.SELECTOR={CORRECT:"[pl-correct]",INCORRECT:"[pl-incorrect]"},this.on("ui-open",function(_event){this.is(_event.target)&&(this.completed()&&!this.isComplete&&this.complete(),this.isReady&&this.start(),this.screen.isLast()&&this.addClass("last"))}),this.on("ui-leave",function(_event){this.isReady&&this.is(_event.target)&&this.stop()}),this.next=function(){var nextScreen;return this.screen.isLast()&&this.completed()&&this.game.quit.okay(),nextScreen=this.proto(),nextScreen&&(this.screen.leave(),nextScreen.open(),this.game.audio.sfx.button.play()),nextScreen},this.prev=function(){var prevScreen;return prevScreen=this.proto(),prevScreen&&(this.screen.close(),prevScreen.open(),this.game.audio.sfx.button.play()),prevScreen},this.start=function(){var entities=this.hasOwnProperty("entities")&&this.entities;return this.startAudio(),entities&&entities.forEach(function(_entity){var type=typeof _entity.start;_entity.hasOwnProperty("start")&&"function"===type&&_entity.start()}),this},this.complete=function(){return this.game.audio.sfx.play("screenComplete"),this.proto()},this.on("ui-close",function(_event){this.is(_event.target)&&this.stop()}),this.on("ready",function(_event){this.is(_event.target)&&this.state(this.STATE.OPEN)&&this.start()})})},function(module,exports){pl.game.component("screen-quit",function(){this.on("transitionend",function(_event){this.state(this.STATE.LEAVE)&&this.addClass("LEAVE-END")}),this.on("ui-open",function(_event){this.game.addClass("QUIT-SCREEN"),this.removeClass("LEAVE-END"),this.game.pause(!0)}),this.on("ui-leave",function(){this.game.removeClass("QUIT-SCREEN"),this.game.resume()}),this.okay=function(){this.screen.audio.sfx.play(),this.game.exit()},this.cancel=function(){this.screen.audio.sfx.play(),this.leave()}})},function(module,exports){pl.game.component("selectable",function(){this.behavior("select",function(_target){var $target;if(this.screen.state(this.screen.STATE.VOICE_OVER)&&!this.game.demoMode)return!1;if(this.event&&!_target)if($target=$(this.event.target).closest("li"),this.shouldSelect($target)!==!1){if($target.is("li")&&this.audio.sfx.correct.play(),this.showSelect($target))return{message:$target.id(),behaviorTarget:$target}}else this.audio.sfx.incorrect&&this.audio.sfx.incorrect.play();else this.proto(_target);return!1}),this.shouldSelect=function(_$target){return _$target.is(this.screen.SELECTOR.CORRECT)},this.showSelect=function(_$target){var stateMethod;return stateMethod=this.properties.selectState||"select",_$target&&this[stateMethod](_$target),!0},this.populateList=function(_$bin){var $items,$bin,random;for($items=this.find(".items"),$bin=_$bin;$bin.length;)random=Math.floor(_$bin.length*Math.random()),$bin.eq(random).remove().appendTo($items),$bin=this.find(".bin li")},this.ready=function(){var $bin=this.find(".bin li");$bin.length&&this.populateList($bin)}})},function(module,exports){pl.game.component("sparkles",function(){})},function(module,exports){pl.game.component("title",function(){this.ready=function(){}})},function(module,exports){pl.game.config({screenSelector:".screen",componentDirectory:"components/",dimensions:{width:960,ratio:16/9},shouldLoadComponentStyles:!1})},function(module,exports,__webpack_require__){__webpack_require__(16),__webpack_require__(13),__webpack_require__(15),__webpack_require__(8),__webpack_require__(9),__webpack_require__(12),__webpack_require__(5),__webpack_require__(1),__webpack_require__(7),__webpack_require__(10),__webpack_require__(6),__webpack_require__(4),__webpack_require__(2),__webpack_require__(3),__webpack_require__(11),pl.game("animal-id",function(){var showNext=function showNext(){this.STATE.BACK="RETURN",this.state("return","+RETURN"),this.on("ui-open",function(_event){this.is(_event.target)&&this.state(this.STATE.COMPLETE)&&this["return"](this)})};this.screen("title",function(){this.on("ready",function(_event){this.is(_event.target)&&this.game.iosSplash.state(this.STATE.READY)&&this.game.iosSplash.splash()}),this.on("ui-open",function(_event){this.is(_event.target)&&this.title.startAudio(),this.state(this.STATE.OPEN)&&this.start()}),this.startAudio=function(){this.title.audio.background.play()},this.stopAudio=function(){this.title.audio.background.stop()},this.entity("title",function(){this.on("animationend",function(_event){this.image.is(_event.target)&&this.complete()})})}),this.screen("id-carnivore",showNext),this.screen("id-marsupial",showNext),this.screen("id-rodent",showNext),this.screen("id-arachnid",showNext),this.screen("id-mammal",showNext),this.screen("id-mollusk",showNext),this.screen("id-reptile",showNext),this.screen("id-herbivore",showNext),this.screen("match-game",function(){this.entity("reveal",function(){this.handleCloseClick=function(){(!this.screen.state(this.screen.STATE.VOICE_OVER)||this.game.demoMode)&&this.closeAll()}}),this.on("ui-close",function(_event){this.is(_event.target)&&(this.reveal.closeAll(),this.delay(".5s",this.matchGame.randomize.bind(this.matchGame)))})}),this.screen("what-does-a-nose-do",function(){this.on("ui-open",function(_e){this.is(_e.target)&&this.state(this.STATE.COMPLETE)&&this.unhighlight(this.find("."+this.STATE.HIGHLIGHTED))})}),this.screen("dnd-lion",showNext),this.screen("dnd-sloth",showNext),this.screen("dnd-wolf",showNext),this.screen("dnd-elephant",showNext),this.screen("dnd-dragon",showNext),this.screen("dnd-pig",showNext),this.screen("dnd-gorilla",showNext),this.screen("dnd-mule",showNext),this.screen("flip",function(){this.complete=function(_event){var eventCategory=["game",this.game.id(),this.id()+"("+(this.index()+1)+")"].join(" ");return ga("send","event",eventCategory,"complete"),this.proto()}}),this.exit=function(){var screen,eventCategory;return screen=this.findOwn(pl.game.config("screenSelector")+".OPEN:not(#quit)").scope(),eventCategory=["game",this.id(),screen.id()+"("+(screen.index()+1)+")"].join(" "),ga("send","event",eventCategory,"quit"),this.proto()},this.defineRule=function(_selector_scope,_selector_def,_definition){var _scope,_selector,source,prop,value;_selector_scope.$els?(_scope=_selector_scope,"string"==typeof _selector_def?_selector=_scope.address()+_selector_def:(_selector=_scope.address(),_definition=_selector_def)):(_selector=_selector_scope,_definition=_selector_def),source=_selector+" {";for(prop in _definition)_definition.hasOwnProperty(prop)&&(value=_definition[prop],source+=prop.replace(/([A-Z]+)/g,"-$1").toLowerCase()+": "+value+";");return source+="}",$('<style type="text/css" class="dynanic-styles">'+source+"</style>").appendTo(document.body),source}})},function(module,exports){pl.game.component("screen-ios-splash",function(){this.on("ready",function(_e){this.is(_e.target)&&this.game&&this.game.title.state(this.STATE.READY)&&this.splash()}),this.splash=function(){this.close(this.game.loader),this.game.hasClass("iOS")?(this.open(),this.ball.delay(0,this.ball.open)):this.game.title.open()},this.next=function(){var nextScreen=this.proto();return nextScreen&&(this.screen.leave(),nextScreen.open(),this.game.audio.sfx.button.play()),nextScreen},this.complete=function(){return this.game.audio.sfx.play("screenComplete"),this.proto()},this.startGame=function(){this.hasClass("FINISHED")&&(this.game.addClass("STARTED"),this.delay("2.5s",function(){this.next()}))},this.on("animationend",function(_e){this.ball.is(_e.target)&&this.addClass("FINISHED")})})},function(module,exports){!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="/build/",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){function run(){_play2["default"].game.run()}var _interopRequireDefault=__webpack_require__(2)["default"];__webpack_require__(4);var _play=__webpack_require__(25),_play2=_interopRequireDefault(_play);window.play=window.pl=_play2["default"],document.addEventListener("DOMContentLoaded",run,!1)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)},function(module,exports){"use strict";exports.__esModule=!0,exports["default"]=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}},function(module,exports,__webpack_require__){var _Array$forEach=__webpack_require__(5)["default"],_interopRequireDefault=__webpack_require__(2)["default"],_typesDimensions=__webpack_require__(14),_libMatrix=__webpack_require__(24),_libMatrix2=_interopRequireDefault(_libMatrix);(function(){var original;original={position:this.position},this.scope=function(){var result;return result=[],this.each(function(){var $node,scope;$node=$(this),scope=$node.data("pl-scope"),scope||(scope=$node.closest(".pl-scope").data("pl-scope")),scope&&result.push(scope)}),result.length>1?result:result[0]},this.id=function(_set){return void 0!==_set?(~["",null].indexOf(_set)&&this.attr("id",null),$("#"+_set).length?this.attr("pl-id",_set):this.attr("id",_set),this):this.attr("id")||this.attr("pl-id")||this.attr("pl-component")},this.address=function(){var tag,id,classes;return tag=this[0].nodeName.toLowerCase(),id=this.attr("id"),classes=this.attr("class")?"."+this.attr("class").split(" ").join("."):"",tag+(id?"#"+id:"")+classes},this.state=function(_test){var classes;return _test?this.hasClass(_test.toUpperCase()):(classes=(this.attr("class")||"").match(/[0-9A-Z]+(?:-[0-9A-Z]+)?/g),classes&&(1===classes.length?classes[0]:classes))},this.size=function(){var size;return arguments.length?(size=_typesDimensions.Size.create(arguments),this.css(size)):size=_typesDimensions.Size.create().set(this.width(),this.height()),size},this.position=function(){var pos;return arguments.length?(pos=_typesDimensions.Point.create(arguments),this.css({position:"relative",left:pos.x,top:pos.y})):(pos=original.position.call(this),pos=_typesDimensions.Point.create().set(pos.left,pos.top)),pos},this.absolutePosition=function(){var offset;return arguments.length?(offset=_typesDimensions.Point.create(arguments),this.css({position:"absolute",top:offset.y,left:offset.x}),offset):(offset=this.offset(),_typesDimensions.Point.create().set(offset.left,offset.top))},this.transform=function(){var t,matrix,is3d;return matrix=new _libMatrix2["default"],arguments.length?(matrix.setTransform.apply(matrix,arguments),this.css("transform",matrix.toCSS()),matrix):(t=this.css("transform"),is3d=!!~t.indexOf("matrix3d"),"none"!==t?(t=((t.match(/\(([,\d\.\s\-]+)\)/)||[])[1]||"").split(/\s*,\s*/),is3d&&(t=function(_matrix){var i,result;for(result=[],i=0;i<_matrix.length;i+=4)result=result.concat(_matrix.slice(i,i+2));return result}(t)),t=t.map(parseFloat),matrix.setTransform.apply(matrix,t),matrix):t)},this.transformPosition=function(){var matrix,point;return matrix=this.transform(),point=_typesDimensions.Point.create().set(0,0),arguments.length?("none"===matrix&&(matrix=new _libMatrix2["default"]),point.set.apply(point,arguments),matrix.translate(point.x,point.y),this.css("transform",matrix.toCSS())):"none"!==matrix&&point.set(matrix.e,matrix.f),point},this.transformScale=function(){var matrix,scale;return matrix=this.transform(),scale=_typesDimensions.Point.create().set(1,1),arguments.length?("none"===matrix&&(matrix=new _libMatrix2["default"]),scale.set.apply(scale,arguments),matrix.scale(scale.x,scale.y),this.css("transform",matrix.toCSS())):"none"!==matrix&&scale.set(matrix.a,matrix.d),scale},this.pl=function(_name,_value){var args,result;return _name?(args=["pl-"+_name],"undefined"!=typeof _value&&args.push(_value),null===_value?(this.removeAttr("pl-"+_name),this):this.attr.apply(this,args)):(result={},this.each(function(){_Array$forEach(this.attributes,function(_attr){0===_attr.name.indexOf("pl-")&&(result[_attr.name.slice(3)]=_attr.value)})}),result)},this.exec=function(_method,_args){return this.map(function(){return"function"==typeof this[_method]?this[_method].apply(this,_args):void 0}).toArray()}}).call($.fn)},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(6),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(7),module.exports=__webpack_require__(11).Array.forEach},function(module,exports,__webpack_require__){var $=__webpack_require__(8),$export=__webpack_require__(9),$ctx=__webpack_require__(12),$Array=__webpack_require__(11).Array||Array,statics={},setStatics=function(keys,length){$.each.call(keys.split(","),function(key){void 0==length&&key in $Array?statics[key]=$Array[key]:key in[]&&(statics[key]=$ctx(Function.call,[][key],length))})};setStatics("pop,reverse,shift,keys,values,entries",1),setStatics("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),setStatics("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),$export($export.S,"Array",statics)},function(module,exports){var $Object=Object;module.exports={create:$Object.create,getProto:$Object.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:$Object.getOwnPropertyDescriptor,setDesc:$Object.defineProperty,setDescs:$Object.defineProperties,getKeys:$Object.keys,getNames:$Object.getOwnPropertyNames,getSymbols:$Object.getOwnPropertySymbols,each:[].forEach}},function(module,exports,__webpack_require__){var global=__webpack_require__(10),core=__webpack_require__(11),ctx=__webpack_require__(12),PROTOTYPE="prototype",$export=function(type,name,source){var IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{})[PROTOTYPE],key,own,out;IS_GLOBAL&&(source=name);for(key in source)own=!IS_FORCED&&target&&key in target,own&&key in exports||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(param){return this instanceof C?new C(param):C(param)};return F[PROTOTYPE]=C[PROTOTYPE],F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports[PROTOTYPE]||(exports[PROTOTYPE]={}))[key]=out))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,module.exports=$export},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports){var core=module.exports={version:"1.2.6"};"number"==typeof __e&&(__e=core)},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(13);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports,__webpack_require__){var _Object$defineProperties=__webpack_require__(15)["default"],_interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _typesBasicArray=__webpack_require__(17),_typesBasicArray2=_interopRequireDefault(_typesBasicArray),Dimension,Size,Point;Array.prototype.to=function(_Thing){var map;return map={point:Point,size:Size},"string"==typeof _Thing?map[_Thing.toLowerCase()].create().set(this):"object"==typeof _Thing&&~[Point.set,Size.set].indexOf(_Thing.set)&&!_Thing.isPrototypeOf(this)?_Thing.set.apply(_Thing.create(),this):this},Dimension=_typesBasicArray2["default"].extend(function(){var originalMap;originalMap=this.map,this[0]=this[1]=0,this.planeMap=null,this.length=2,this.create=function create(_argumentsArray){var instance;return instance=this.proto(this.create),_argumentsArray&&instance.set.apply(instance,_argumentsArray),instance},this.inc=function(_val,_plane2){var a,b;return 2===_val.length?(a=_val[0],b=_val[1]):null!=_plane2?(a=_val,b=_plane2):a=b=_val,this.create().set(this[0]+a,this[1]+b)},this.dec=function(_val,_plane2){var a,b;return 2===_val.length?(a=_val[0],b=_val[1]):null!=_plane2?(a=_val,b=_plane2):a=b=_val,this.create().set(this[0]-a,this[1]-b)},this.scale=function(_scale,_plane2){return this.create().set(this[0]*_scale,this[1]*(null!=_plane2?_plane2:_scale))},this.math=function(_fun){var args=[].slice.call(arguments,1);return this.create().set(Math[_fun].apply(Math,[this[0]].concat(args)),Math[_fun].apply(Math,[this[1]].concat(args)))},this.parseInt=function(){return this.create().set(parseInt(this[0]),parseInt(this[1]))},this.parseFloat=function(){return this.create().set(parseFloat(this[0]),parseFloat(this[1]))},this.planeOf=function(_index){return isNaN(parseInt(_index))?null:this.planeMap[_index]},this.map=function(_handler){return originalMap.call(this,_handler).to(Object.getPrototypeOf(this))},this.product=function(){return this[0]*this[1]},this.ratio=function(){return this[0]/this[1]},this.quotient=function(){return Math.floor(this[0]/this[1])},this.remainder=function(){return this[0]%this[1]}}),Size=Dimension.extend(function(){this.planeMap=["width","height"],_Object$defineProperties(this,{width:{get:function get(){return this[0]},set:function set(_val){this[0]=Number(_val)}},height:{get:function get(){return this[1]},set:function set(_val){this[1]=Number(_val)}}}),this.set=function(_width,_height){return 1===arguments.length?void 0!==_width.width&&void 0!==_width.height?(this[0]=Number(_width.width),this[1]=Number(_width.height)):2===_width.length&&(this[0]=Number(_width[0]),this[1]=Number(_width[1])):(this[0]=Number(_width),this[1]=Number(_height)),this},this.hypotenuse=function(){return Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))},this.applyTo=function(_object){return _object.nodeType===document.ELEMENT_NODE&&void 0===_object.width&&void 0===_object.height?(_object.style.width=this.width,_object.style.height=this.height,this):(_object.width=this.width,_object.height=this.height,this)}}),Point=Dimension.extend(function(){this.planeMap=["x","y"],_Object$defineProperties(this,{x:{get:function get(){return this[0]},set:function set(_val){this[0]=Number(_val)}},y:{get:function get(){return this[1]},set:function set(_val){this[1]=Number(_val)}}}),this.set=function(_x,_y){return 1===arguments.length?void 0!==_x.x&&void 0!==_x.y?(this[0]=Number(_x.x),this[1]=Number(_x.y)):2===_x.length&&(this[0]=Number(_x[0]),this[1]=Number(_x[1])):(this[0]=Number(_x),this[1]=Number(_y)),this},this.distance=function(_point){return void 0!==_point.x&&void 0!==_point.y?Size.create().set(_point.x-this.x,_point.y-this.y):null},this.applyTo=function(_object){return _object.nodeType===document.ELEMENT_NODE?(_object.style.left=this.x,_object.style.top=this.y):(_object.x=this.x,_object.y=this.y),this},this.rotate=function(_origin,_angle){var x,y,rad;return rad=_angle*(Math.PI/180),x=this.x-_origin.x,y=this.y-_origin.y,this.create().set(Math.sin(rad)*x-Math.cos(rad)*y+_origin.x,Math.cos(rad)*x+Math.sin(rad)*y+_origin.y)}}),exports["default"]={Dimension:Dimension,Size:Size,Point:Point},module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(16),__esModule:!0}},function(module,exports,__webpack_require__){var $=__webpack_require__(8);module.exports=function defineProperties(T,D){return $.setDescs(T,D)}},function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _util=__webpack_require__(18),_util2=_interopRequireDefault(_util),_typesBasic=__webpack_require__(19),_typesBasic2=_interopRequireDefault(_typesBasic),BasicArray=function(){return this.baseType="TYPE_BASIC_ARRAY",_util2["default"].mixin(this,_typesBasic2["default"]),this}.call([]);exports["default"]=BasicArray,module.exports=exports["default"]},function(module,exports){exports.__esModule=!0;var util=new function(){this.mixin=function(){var member,i,target,objs;for(target=arguments[0],objs=[].slice.call(arguments,1),i=0;i<objs.length;i+=1)for(member in objs[i])objs[i].hasOwnProperty(member)&&(target[member]=objs[i][member]);return target},this.keyOf=function(_obj,_member){var member;for(member in _obj)if(_obj.hasOwnProperty(member)&&_obj[member]===_member)return member;return null},this.getOwner=function(_obj,_member){var prototype,name;for(prototype=Object.getPrototypeOf(_obj);prototype&&!(name=util.keyOf(prototype,_member));)prototype=Object.getPrototypeOf(prototype);return{name:name,object:prototype}},this.random=function(_collection_rangeA,_rangeB){var index,val;return index=Math.floor(Math.random()*_collection_rangeA.length),2===arguments.length?(val=Math.round(Math.random()*_rangeB),_collection_rangeA>val?_collection_rangeA:val):(index===_collection_rangeA.length&&(index=_collection_rangeA.length-1),_collection_rangeA&&_collection_rangeA[index])},this.transformId=function(_id,_camelCase){return _id&&_camelCase?_id.replace(/[-\s]+([\w\d]?)/g,function(_match){return RegExp.$1.toUpperCase()}):_id&&_id.replace(/[-\s]+/g,"_")},this.isSet=function(){return[].every.call(arguments,function(_arg){return null!=_arg})},this.toMillisec=function(_source){var tokens,time,units;if("number"==typeof _source)return _source;if(_source)return tokens=_source.split(/\s+/),time=0,units={d:864e5,h:36e5,m:6e4,s:1e3},tokens.forEach(function(_token){var unit,value;unit=(_token.match(/[dhms]/)||[])[0],unit?(value=Number(_token.slice(0,-1)),time+=value*units[unit]):time+=Number(_token)}),time},this.toArray=function(_collection){return Array.prototype.map.call(_collection,function(i){return i})},this.resolvePath=function(_obj,_path){var path,obj,i,name,index,testArray;for(path=_path.split("."),obj=_obj,i=0;obj&&(testArray=/\?$/.test(path[i]),index=(path[i].match(/\[(\d+)\]/)||[])[1]||-1,name=~index?path[i].slice(0,path[i].indexOf("[")):path[i],obj=obj[name],~index&&obj&&(obj=testArray?obj[index]||obj:obj[index]),i+=1,path.length!==i););return obj},this.assignRef=function(_obj,_name,_ref){var name;return name=util.transformId(_name,!0),_obj[name]===_ref?_ref:(_obj[name]?(_obj[name].__refCollction__||(_obj[name]=[_obj[name]],Object.defineProperty(_obj[name],"__refCollction__",{value:!0,enumerable:!1,writeable:!1,configureable:!1})),_obj[name].push(_ref)):_obj[name]=_ref,_obj[name])},this.noop=function(){},this.resolveFileName=function(_path){return _path.slice(_path.lastIndexOf("/")+1)},this.createId=function(_pattern){return(_pattern||"xy-z").replace(/[xyz]/g,function(_token){return"x"===_token?(Math.floor(5*Math.random())+10).toString(16):"y"===_token?Math.floor(10*Math.random()).toString(16):Math.floor(Math.random()*Date.now()).toString(16).slice(0,4)})}};exports["default"]=util,module.exports=exports["default"]},function(module,exports,__webpack_require__){var _Object$create=__webpack_require__(20)["default"],_interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _util=__webpack_require__(18),_util2=_interopRequireDefault(_util),_lodash=__webpack_require__(22),_lodash2=_interopRequireDefault(_lodash),Basic={baseType:"TYPE_BASIC",create:function create(){return _Object$create(this)},extend:function extend(_implementation){var instance;if(!_implementation)return null;switch(typeof _implementation){case"function":_implementation.prototype=this,instance=new _implementation;break;case"object":instance=this.create(),instance.mixin(_implementation);break;default:console.error("TypeError: Invalid type given for object extention.",typeof _implementation)}return instance},mixin:function mixin(){return _util2["default"].mixin.apply(null,[this].concat([].slice.call(arguments,0)))},keyOf:function keyOf(_member){return _util2["default"].keyOf(this,_member)},proto:function proto(method){var methodRef=method,name,owner,prototype,args=[];if(args.push.apply(args,arguments),args.shift(),name=this.keyOf(method))prototype=Object.getPrototypeOf(this);else{owner=_util2["default"].getOwner(this,method),name=owner.name;try{prototype=Object.getPrototypeOf(owner.object)}catch(err){}}return method=prototype[name],method&&method!==methodRef?method.apply(this,args):(console.error("ReferenceError: Unable to locate prototype method.",name),null)},sup:function sup(method_name){var method,name,owner,prototype,args=[];
if(args.push.apply(args,arguments),args.shift(),_lodash2["default"].isFunction(method_name))method=method_name,name=method_name.name;else{if(!_lodash2["default"].isString(method_name))return console.error("ReferenceError: Unable to locate prototype method from passed method/name: "+method_name),null;method=_lodash2["default"].noop,name=method_name}return owner=_util2["default"].getOwner(this,this.baseType),prototype=owner.object,name=this.keyOf(method),name||(owner=_util2["default"].getOwner(this,method),name=owner.name),method=prototype[name],method?method.apply(this,args):(console.error("ReferenceError: Unable to locate prototype method.",name),null)},toString:function toString(){var type;return this.baseType?(type=this.baseType.replace("TYPE_",""),type=type.slice(0,1)+type.slice(1).toLowerCase()):type=this.constructor.name||"Object","[object "+type+"]"}};exports["default"]=Basic,module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(21),__esModule:!0}},function(module,exports,__webpack_require__){var $=__webpack_require__(8);module.exports=function create(P,D){return $.create(P,D)}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(module,global){(function(){function baseCompareAscending(value,other){if(value!==other){var valIsNull=null===value,valIsUndef=value===undefined,valIsReflexive=value===value,othIsNull=null===other,othIsUndef=other===undefined,othIsReflexive=other===other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive)return 1;if(other>value&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive)return-1}return 0}function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return"function"==typeof value||!1}function baseToString(value){return null==value?"":value+""}function charsLeftIndex(string,chars){for(var index=-1,length=string.length;++index<length&&chars.indexOf(string.charAt(index))>-1;);return index}function charsRightIndex(string,chars){for(var index=string.length;index--&&chars.indexOf(string.charAt(index))>-1;);return index}function compareAscending(object,other){return baseCompareAscending(object.criteria,other.criteria)||object.index-other.index}function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=baseCompareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*("asc"===order||order===!0?1:-1)}}return object.index-other.index}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeRegExpChar(chr,leadingChar,whitespaceChar){return leadingChar?chr=regexpEscapes[chr]:whitespaceChar&&(chr=stringEscapes[chr]),"\\"+chr}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:++index<length;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&"object"==typeof value}function isSpace(charCode){return 160>=charCode&&charCode>=9&&13>=charCode||32==charCode||160==charCode||5760==charCode||6158==charCode||charCode>=8192&&(8202>=charCode||8232==charCode||8233==charCode||8239==charCode||8287==charCode||12288==charCode||65279==charCode)}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;)array[index]===placeholder&&(array[index]=PLACEHOLDER,result[++resIndex]=index);return result}function sortedUniq(array,iteratee){for(var seen,index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;index&&seen===computed||(seen=computed,result[++resIndex]=value)}return result}function trimmedLeftIndex(string){for(var index=-1,length=string.length;++index<length&&isSpace(string.charCodeAt(index)););return index}function trimmedRightIndex(string){for(var index=string.length;index--&&isSpace(string.charCodeAt(index)););return index}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}function runInContext(context){function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__chain__")&&hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll,actions){this.__wrapped__=value,this.__actions__=actions||[],this.__chain__=!!chainAll}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=POSITIVE_INFINITY,this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=arrayCopy(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=arrayCopy(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=arrayCopy(this.__views__),result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else result=this.clone(),result.__dir__*=-1;return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=0>dir,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||LARGE_ARRAY_SIZE>arrLength||arrLength==length&&takeCount==length)return baseWrapperValue(isRight&&isArr?array.reverse():array,this.__actions__);var result=[];outer:for(;length--&&takeCount>resIndex;){index+=dir;for(var iterIndex=-1,value=array[index];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}result[resIndex++]=value}return result}function MapCache(){this.__data__={}}function mapDelete(key){return this.has(key)&&delete this.__data__[key]}function mapGet(key){return"__proto__"==key?undefined:this.__data__[key]}function mapHas(key){return"__proto__"!=key&&hasOwnProperty.call(this.__data__,key)}function mapSet(key,value){return"__proto__"!=key&&(this.__data__[key]=value),this}function SetCache(values){var length=values?values.length:0;for(this.data={hash:nativeCreate(null),set:new Set};length--;)this.push(values[length])}function cacheIndexOf(cache,value){var data=cache.data,result="string"==typeof value||isObject(value)?data.set.has(value):data.hash[value];return result?0:-1}function cachePush(value){var data=this.data;"string"==typeof value||isObject(value)?data.set.add(value):data.hash[value]=!0}function arrayConcat(array,other){for(var index=-1,length=array.length,othIndex=-1,othLength=other.length,result=Array(length+othLength);++index<length;)result[index]=array[index];for(;++othIndex<othLength;)result[index++]=other[othIndex];return result}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function arrayEachRight(array,iteratee){for(var length=array.length;length--&&iteratee(array[length],length,array)!==!1;);return array}function arrayEvery(array,predicate){for(var index=-1,length=array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayExtremum(array,iteratee,comparator,exValue){for(var index=-1,length=array.length,computed=exValue,result=computed;++index<length;){var value=array[index],current=+iteratee(value);comparator(current,computed)&&(computed=current,result=value)}return result}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;for(initFromArray&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initFromArray){var length=array.length;for(initFromArray&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function arraySum(array,iteratee){for(var length=array.length,result=0;length--;)result+=+iteratee(array[length])||0;return result}function assignDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:objectValue}function assignOwnDefaults(objectValue,sourceValue,key,object){return objectValue!==undefined&&hasOwnProperty.call(object,key)?objectValue:sourceValue}function assignWith(object,source,customizer){for(var index=-1,props=keys(source),length=props.length;++index<length;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseAssign(object,source){return null==source?object:baseCopy(source,keys(source),object)}function baseAt(collection,props){for(var index=-1,isNil=null==collection,isArr=!isNil&&isArrayLike(collection),length=isArr?collection.length:0,propsLength=props.length,result=Array(propsLength);++index<propsLength;){var key=props[index];isArr?result[index]=isIndex(key,length)?collection[key]:undefined:result[index]=isNil?undefined:collection[key]}return result}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values){var length=array?array.length:0,result=[];if(!length)return result;var index=-1,indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,cache=isCommon&&values.length>=LARGE_ARRAY_SIZE?createCache(values):null,valuesLength=values.length;cache&&(indexOf=cacheIndexOf,isCommon=!1,values=cache);outer:for(;++index<length;){var value=array[index];if(isCommon&&value===value){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===value)continue outer;result.push(value)}else indexOf(values,value,0)<0&&result.push(value)}return result}function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseExtremum(collection,iteratee,comparator,exValue){var computed=exValue,result=computed;return baseEach(collection,function(value,index,collection){var current=+iteratee(value,index,collection);(comparator(current,computed)||current===exValue&&current===result)&&(computed=current,result=value)}),result}function baseFill(array,value,start,end){var length=array.length;for(start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end>>>0,start>>>=0;length>start;)array[start++]=value;return array}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFind(collection,predicate,eachFunc,retKey){var result;return eachFunc(collection,function(value,key,collection){return predicate(value,key,collection)?(result=retKey?key:value,!1):void 0}),result}function baseFlatten(array,isDeep,isStrict,result){result||(result=[]);for(var index=-1,length=array.length;++index<length;){var value=array[index];isObjectLike(value)&&isArrayLike(value)&&(isStrict||isArray(value)||isArguments(value))?isDeep?baseFlatten(value,isDeep,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return baseForRight(object,iteratee,keys)}function baseFunctions(object,props){for(var index=-1,length=props.length,resIndex=-1,result=[];++index<length;){var key=props[index];isFunction(object[key])&&(result[++resIndex]=key)}return result}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=0,length=path.length;null!=object&&length>index;)object=object[path[index++]];return index&&index==length?object:undefined}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){return value===other?!0:null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped)return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=toObject(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var result=customizer?customizer(objValue,srcValue,key):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,!0):result))return!1}}return!0}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);if(1==matchData.length&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in toObject(object))}}return function(object){return baseIsMatch(object,matchData)}}function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),(isArr||!isCommon)&&!(key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===srcValue?srcValue!==undefined||key in object:baseIsEqual(srcValue,object[key],undefined,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isArrayLike(source)&&(isArray(source)||isTypedArray(source)),props=isSrcArr?undefined:keys(source);return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),result===undefined&&(!isSrcArr||key in object)||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return void(object[key]=stackB[length]);var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isArrayLike(srcValue)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:isArrayLike(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function basePullAt(array,indexes){for(var length=array?indexes.length:0;length--;){var index=indexes[length];if(index!=previous&&isIndex(index)){var previous=index;splice.call(array,index,1)}}return array}function baseRandom(min,max){return min+nativeFloor(nativeRandom()*(max-min+1))}function baseReduce(collection,iteratee,accumulator,initFromCollection,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initFromCollection?(initFromCollection=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}function baseSortByOrder(collection,iteratees,orders){var callback=getCallback(),index=-1;iteratees=arrayMap(iteratees,function(iteratee){return callback(iteratee)});var result=baseMap(collection,function(value){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function baseSum(collection,iteratee){var result=0;return baseEach(collection,function(value,index,collection){result+=+iteratee(value,index,collection)||0}),result}function baseUniq(array,iteratee){var index=-1,indexOf=getIndexOf(),length=array.length,isCommon=indexOf==baseIndexOf,isLarge=isCommon&&length>=LARGE_ARRAY_SIZE,seen=isLarge?createCache():null,result=[];seen?(indexOf=cacheIndexOf,isCommon=!1):(isLarge=!1,seen=iteratee?[]:result);outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value===value){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else indexOf(seen,computed,0)<0&&((iteratee||isLarge)&&seen.push(computed),result.push(value))}return result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);++index<length;)result[index]=object[props[index]];return result}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;result instanceof LazyWrapper&&(result=result.value());for(var index=-1,length=actions.length;++index<length;){var action=actions[index];result=action.func.apply(action.thisArg,arrayPush([result],action.args))}return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)&&null!==computed?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=null===value,valIsUndef=value===undefined;high>low;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsNull?isReflexive&&isDef&&(retHighest||null!=computed):valIsUndef?isReflexive&&(retHighest||isDef):null==computed?!1:retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){var result=new ArrayBuffer(buffer.byteLength),view=new Uint8Array(result);return view.set(new Uint8Array(buffer)),result}function composeArgs(args,partials,holders){for(var holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),leftIndex=-1,leftLength=partials.length,result=Array(leftLength+argsLength);++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)result[holders[argsIndex]]=args[argsIndex];for(;argsLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders){for(var holdersIndex=-1,holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),rightIndex=-1,rightLength=partials.length,result=Array(argsLength+rightLength);++argsIndex<argsLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)result[offset+holders[holdersIndex]]=args[argsIndex++];return result}function createAggregator(setter,initializer){return function(collection,iteratee,thisArg){var result=initializer?initializer():{};if(iteratee=getCallback(iteratee,thisArg,3),isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];setter(result,value,iteratee(value,index,collection),collection)}else baseEach(collection,function(value,key,collection){setter(result,value,iteratee(value,key,collection),collection)});return result}}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer="function"==typeof thisArg?thisArg:undefined,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?undefined:customizer,length=1);++index<length;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:++index<length;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createBindWrapper(func,thisArg){function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(thisArg,arguments)}var Ctor=createCtorWrapper(func);return wrapper}function createCache(values){return nativeCreate&&Set?new SetCache(values):null}function createCompounder(callback){return function(string){for(var index=-1,array=words(deburr(string)),length=array.length,result="";++index<length;)result=callback(result,array[index],index);return result}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(flag){function curryFunc(func,arity,guard){guard&&isIterateeCall(func,arity,guard)&&(arity=undefined);var result=createWrapper(func,flag,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curryFunc.placeholder,result}return curryFunc}function createDefaults(assigner,customizer){return restParam(function(args){var object=args[0];return null==object?object:(args.push(customizer),assigner.apply(undefined,args))})}function createExtremum(comparator,exValue){return function(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=undefined),iteratee=getCallback(iteratee,thisArg,3),1==iteratee.length){collection=isArray(collection)?collection:toIterable(collection);var result=arrayExtremum(collection,iteratee,comparator,exValue);if(!collection.length||result!==exValue)return result}return baseExtremum(collection,iteratee,comparator,exValue)}}function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){if(predicate=getCallback(predicate,thisArg,3),isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,eachFunc)}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createFindKey(objectFunc){return function(object,predicate,thisArg){return predicate=getCallback(predicate,thisArg,3),baseFind(object,predicate,objectFunc,!0)}}function createFlow(fromRight){return function(){for(var wrapper,length=arguments.length,index=fromRight?length:-1,leftIndex=0,funcs=Array(length);fromRight?index--:++index<length;){var func=funcs[leftIndex++]=arguments[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);!wrapper&&LodashWrapper.prototype.thru&&"wrapper"==getFuncName(func)&&(wrapper=new LodashWrapper([],!0))}for(index=wrapper?-1:length;++index<length;){func=funcs[index];var funcName=getFuncName(func),data="wrapper"==funcName?getData(func):undefined;wrapper=data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE)return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3));
}}function createForIn(objectFunc){return function(object,iteratee,thisArg){return("function"!=typeof iteratee||thisArg!==undefined)&&(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee,keysIn)}}function createForOwn(objectFunc){return function(object,iteratee,thisArg){return("function"!=typeof iteratee||thisArg!==undefined)&&(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee)}}function createObjectMapper(isMapKeys){return function(object,iteratee,thisArg){var result={};return iteratee=getCallback(iteratee,thisArg,3),baseForOwn(object,function(value,key,object){var mapped=iteratee(value,key,object);key=isMapKeys?mapped:key,value=isMapKeys?value:mapped,result[key]=value}),result}}function createPadDir(fromRight){return function(string,length,chars){return string=baseToString(string),(fromRight?string:"")+createPadding(string,length,chars)+(fromRight?"":string)}}function createPartial(flag){var partialFunc=restParam(function(func,partials){var holders=replaceHolders(partials,partialFunc.placeholder);return createWrapper(func,flag,undefined,partials,holders)});return partialFunc}function createReduce(arrayFunc,eachFunc){return function(collection,iteratee,accumulator,thisArg){var initFromArray=arguments.length<3;return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee,accumulator,initFromArray):baseReduce(collection,getCallback(iteratee,thisArg,4),accumulator,initFromArray,eachFunc)}}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){function wrapper(){for(var length=arguments.length,index=length,args=Array(length);index--;)args[index]=arguments[index];if(partials&&(args=composeArgs(args,partials,holders)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight)),isCurry||isCurryRight){var placeholder=wrapper.placeholder,argsHolders=replaceHolders(args,placeholder);if(length-=argsHolders.length,arity>length){var newArgPos=argPos?arrayCopy(argPos):undefined,newArity=nativeMax(arity-length,0),newsHolders=isCurry?argsHolders:undefined,newHoldersRight=isCurry?undefined:argsHolders,newPartials=isCurry?args:undefined,newPartialsRight=isCurry?undefined:args;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG,bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG),isCurryBound||(bitmask&=~(BIND_FLAG|BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,newPartials,newsHolders,newPartialsRight,newHoldersRight,newArgPos,ary,newArity],result=createHybridWrapper.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,result}}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return argPos&&(args=reorder(args,argPos)),isAry&&ary<args.length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtorWrapper(func)),fn.apply(thisBinding,args)}var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurry=bitmask&CURRY_FLAG,isCurryBound=bitmask&CURRY_BOUND_FLAG,isCurryRight=bitmask&CURRY_RIGHT_FLAG,Ctor=isBindKey?undefined:createCtorWrapper(func);return wrapper}function createPadding(string,length,chars){var strLength=string.length;if(length=+length,strLength>=length||!nativeIsFinite(length))return"";var padLength=length-strLength;return chars=null==chars?" ":chars+"",repeat(chars,nativeCeil(padLength/chars.length)).slice(0,padLength)}function createPartialWrapper(func,bitmask,thisArg,partials){function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength);++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,args)}var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);return wrapper}function createRound(methodName){var func=Math[methodName];return function(number,precision){return precision=precision===undefined?0:+precision||0,precision?(precision=pow(10,precision),func(number*precision)/precision):func(number)}}function createSortedIndex(retHighest){return function(array,value,iteratee,thisArg){var callback=getCallback(iteratee);return null==iteratee&&callback===baseCallback?binaryIndex(array,value,retHighest):binaryIndexBy(array,value,callback(iteratee,thisArg,1),retHighest)}}function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG),partials=holders=undefined),length-=holders?holders.length:0,bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&(mergeData(newData,data),bitmask=newData[1],arity=newData[9]),newData[9]=null==arity?isBindKey?0:func.length:nativeMax(arity-length,0)||0,bitmask==BIND_FLAG)var result=createBindWrapper(newData[0],newData[2]);else result=bitmask!=PARTIAL_FLAG&&bitmask!=(BIND_FLAG|PARTIAL_FLAG)||newData[4].length?createHybridWrapper.apply(undefined,newData):createPartialWrapper.apply(undefined,newData);var setter=data?baseSetData:setData;return setter(result,newData)}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;++index<arrLength;){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;if(result!==undefined){if(result)continue;return!1}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}))return!1}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))return!1}return!0}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key)))return!1}for(var skipCtor=isLoose;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;if(!(result===undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result))return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getFuncName(func){for(var result=func.name,array=realNames[result],length=array?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function getMatchData(object){for(var result=pairs(object),length=result.length;length--;)result[length][2]=isStrictComparable(result[length][1]);return result}function getNative(object,key){var value=null==object?undefined:object[key];return isNative(value)?value:undefined}function getView(start,end,transforms){for(var index=-1,length=transforms.length;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function invokePath(object,path,args){null==object||isKey(path,object)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path));var func=null==object?object:object[path];return null==func?undefined:func.apply(object,args)}function isArrayLike(value){return null!=value&&isLength(getLength(value))}function isIndex(value,length){return value="number"==typeof value||reIsUint.test(value)?+value:-1,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&length>value}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if("string"==type&&reIsPlainProp.test(value)||"number"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLaziable(func){var funcName=getFuncName(func);if(!(funcName in LazyWrapper.prototype))return!1;var other=lodash[funcName];if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&MAX_SAFE_INTEGER>=value}function isStrictComparable(value){return value===value&&!isObject(value)}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=ARY_FLAG>newBitmask,isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&bitmask==CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):arrayCopy(value),data[4]=partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4])}return value=source[5],value&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):arrayCopy(value),data[6]=partials?replaceHolders(data[5],PLACEHOLDER):arrayCopy(source[6])),value=source[7],value&&(data[7]=arrayCopy(value)),srcBitmask&ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}function mergeDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:merge(objectValue,sourceValue,mergeDefaults)}function pickByArray(object,props){object=toObject(object);for(var index=-1,length=props.length,result={};++index<length;){var key=props[index];key in object&&(result[key]=object[key])}return result}function pickByCallback(object,predicate){var result={};return baseForIn(object,function(value,key,object){predicate(value,key,object)&&(result[key]=value)}),result}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=arrayCopy(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object)),index=-1,result=[];++index<propsLength;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toIterable(value){return null==value?[]:isArrayLike(value)?isObject(value)?value:Object(value):values(value)}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function wrapperClone(wrapper){return wrapper instanceof LazyWrapper?wrapper.clone():new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__))}function chunk(array,size,guard){size=(guard?isIterateeCall(array,size,guard):null==size)?1:nativeMax(nativeFloor(size)||1,1);for(var index=0,length=array?array.length:0,resIndex=-1,result=Array(nativeCeil(length/size));length>index;)result[++resIndex]=baseSlice(array,index,index+=size);return result}function compact(array){for(var index=-1,length=array?array.length:0,resIndex=-1,result=[];++index<length;){var value=array[index];value&&(result[++resIndex]=value)}return result}function drop(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,0>n?0:n)):[]}function dropRight(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),n=length-(+n||0),baseSlice(array,0,0>n?0:n)):[]}function dropRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0,!0):[]}function dropWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0):[]}function fill(array,value,start,end){var length=array?array.length:0;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),baseFill(array,value,start,end)):[]}function first(array){return array?array[0]:undefined}function flatten(array,isDeep,guard){var length=array?array.length:0;return guard&&isIterateeCall(array,isDeep,guard)&&(isDeep=!1),length?baseFlatten(array,isDeep):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,!0):[]}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=0>fromIndex?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value);return length>index&&(value===value?value===array[index]:array[index]!==array[index])?index:-1}return baseIndexOf(array,value,fromIndex||0)}function initial(array){return dropRight(array,1)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=length;if("number"==typeof fromIndex)index=(0>fromIndex?nativeMax(length+fromIndex,0):nativeMin(fromIndex||0,length-1))+1;else if(fromIndex){index=binaryIndex(array,value,!0)-1;var other=array[index];return(value===value?value===other:other!==other)?index:-1}if(value!==value)return indexOfNaN(array,index,!0);for(;index--;)if(array[index]===value)return index;return-1}function pull(){var args=arguments,array=args[0];if(!array||!array.length)return array;for(var index=0,indexOf=getIndexOf(),length=args.length;++index<length;)for(var fromIndex=0,value=args[index];(fromIndex=indexOf(array,value,fromIndex))>-1;)splice.call(array,fromIndex,1);return array}function remove(array,predicate,thisArg){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getCallback(predicate,thisArg,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result}function rest(array){return drop(array,1)}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function take(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,0,0>n?0:n)):[]}function takeRight(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),n=length-(+n||0),baseSlice(array,0>n?0:n)):[]}function takeRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!1,!0):[]}function takeWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3)):[]}function uniq(array,isSorted,iteratee,thisArg){var length=array?array.length:0;if(!length)return[];null!=isSorted&&"boolean"!=typeof isSorted&&(thisArg=iteratee,iteratee=isIterateeCall(array,isSorted,thisArg)?undefined:isSorted,isSorted=!1);var callback=getCallback();return(null!=iteratee||callback!==baseCallback)&&(iteratee=callback(iteratee,thisArg,3)),isSorted&&getIndexOf()==baseIndexOf?sortedUniq(array,iteratee):baseUniq(array,iteratee)}function unzip(array){if(!array||!array.length)return[];var index=-1,length=0;array=arrayFilter(array,function(group){return isArrayLike(group)?(length=nativeMax(group.length,length),!0):void 0});for(var result=Array(length);++index<length;)result[index]=arrayMap(array,baseProperty(index));return result}function unzipWith(array,iteratee,thisArg){var length=array?array.length:0;if(!length)return[];var result=unzip(array);return null==iteratee?result:(iteratee=bindCallback(iteratee,thisArg,4),arrayMap(result,function(group){return arrayReduce(group,iteratee,undefined,!0)}))}function xor(){for(var index=-1,length=arguments.length;++index<length;){var array=arguments[index];if(isArrayLike(array))var result=result?arrayPush(baseDifference(result,array),baseDifference(array,result)):array}return result?baseUniq(result):[]}function zipObject(props,values){var index=-1,length=props?props.length:0,result={};for(!length||values||isArray(props[0])||(values=[]);++index<length;){var key=props[index];values?result[key]=values[index]:key&&(result[key[0]]=key[1])}return result}function chain(value){var result=lodash(value);return result.__chain__=!0,result}function tap(value,interceptor,thisArg){return interceptor.call(thisArg,value),value}function thru(value,interceptor,thisArg){return interceptor.call(thisArg,value)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperPlant(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result}function wrapperReverse(){var value=this.__wrapped__,interceptor=function(value){return wrapped&&wrapped.__dir__<0?value:value.reverse()};if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),wrapped=wrapped.reverse(),wrapped.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(interceptor)}function wrapperToString(){return this.value()+""}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(collection,predicate,thisArg){var func=isArray(collection)?arrayEvery:baseEvery;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=undefined),("function"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function filter(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,predicate)}function findWhere(collection,source){return find(collection,baseMatches(source))}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:0>fromIndex?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?length>=fromIndex&&collection.indexOf(target,fromIndex)>-1:!!length&&getIndexOf(collection,target,fromIndex)>-1}function map(collection,iteratee,thisArg){var func=isArray(collection)?arrayMap:baseMap;return iteratee=getCallback(iteratee,thisArg,3),func(collection,iteratee)}function pluck(collection,path){return map(collection,property(path))}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function sample(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):null==n){collection=toIterable(collection);var length=collection.length;return length>0?collection[baseRandom(0,length-1)]:undefined}var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;for(n=nativeMin(0>n?0:+n||0,length);++index<n;){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index],result[index]=value}return result.length=n,result}function shuffle(collection){return sample(collection,POSITIVE_INFINITY)}function size(collection){var length=collection?getLength(collection):0;return isLength(length)?length:keys(collection).length}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=undefined),("function"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function sortBy(collection,iteratee,thisArg){if(null==collection)return[];thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=undefined);var index=-1;iteratee=getCallback(iteratee,thisArg,3);var result=baseMap(collection,function(value,key,collection){return{criteria:iteratee(value,key,collection),index:++index,value:value}});return baseSortBy(result,compareAscending)}function sortByOrder(collection,iteratees,orders,guard){return null==collection?[]:(guard&&isIterateeCall(iteratees,orders,guard)&&(orders=undefined),isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders)||(orders=null==orders?[]:[orders]),baseSortByOrder(collection,iteratees,orders))}function where(collection,source){return filter(collection,baseMatches(source))}function after(n,func){if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return n=nativeIsFinite(n=+n)?n:0,function(){return--n<1?func.apply(this,arguments):void 0}}function ary(func,n,guard){return guard&&isIterateeCall(func,n,guard)&&(n=undefined),n=func&&null==n?func.length:nativeMax(+n||0,0),createWrapper(func,ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return function(){return--n>0&&(result=func.apply(this,arguments)),1>=n&&(func=undefined),result}}function debounce(func,wait,options){function cancel(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId&&clearTimeout(maxTimeoutId),lastCalled=0,maxTimeoutId=timeoutId=trailingCall=undefined}function complete(isCalled,id){id&&clearTimeout(id),maxTimeoutId=timeoutId=trailingCall=undefined,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=undefined))}function delayed(){var remaining=wait-(now()-stamp);0>=remaining||remaining>wait?complete(trailingCall,maxTimeoutId):timeoutId=setTimeout(delayed,remaining)}function maxDelayed(){complete(trailing,timeoutId)}function debounced(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),maxWait===!1)var leadingCall=leading&&!timeoutId;else{maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=0>=remaining||remaining>maxWait;isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=undefined),result}var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(wait=0>wait?0:+wait||0,options===!0){var leading=!0;trailing=!1}else isObject(options)&&(leading=!!options.leading,maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait),trailing="trailing"in options?!!options.trailing:trailing);return debounced.cancel=cancel,debounced}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new memoize.Cache,memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){return!predicate.apply(this,arguments)}}function once(func){return before(2,func)}function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);++index<length;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function spread(func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return function(array){return func.apply(this,array)}}function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return options===!1?leading=!1:isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:+wait,trailing:trailing})}function wrap(value,wrapper){return wrapper=null==wrapper?identity:wrapper,createWrapper(wrapper,PARTIAL_FLAG,undefined,[value],[])}function clone(value,isDeep,customizer,thisArg){return isDeep&&"boolean"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:"function"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),"function"==typeof customizer?baseClone(value,isDeep,bindCallback(customizer,thisArg,1)):baseClone(value,isDeep)}function cloneDeep(value,customizer,thisArg){return"function"==typeof customizer?baseClone(value,!0,bindCallback(customizer,thisArg,1)):baseClone(value,!0)}function gt(value,other){return value>other}function gte(value,other){return value>=other}function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}function isBoolean(value){return value===!0||value===!1||isObjectLike(value)&&objToString.call(value)==boolTag}function isDate(value){return isObjectLike(value)&&objToString.call(value)==dateTag}function isElement(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&!isPlainObject(value)}function isEmpty(value){return null==value?!0:isArrayLike(value)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!value.length:!keys(value).length}function isEqual(value,other,customizer,thisArg){customizer="function"==typeof customizer?bindCallback(customizer,thisArg,3):undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){return isObjectLike(value)&&"string"==typeof value.message&&objToString.call(value)==errorTag}function isFinite(value){return"number"==typeof value&&nativeIsFinite(value)}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isMatch(object,source,customizer,thisArg){return customizer="function"==typeof customizer?bindCallback(customizer,thisArg,3):undefined,baseIsMatch(object,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){return null==value?!1:isFunction(value)?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}function isNull(value){return null===value}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isPlainObject(value){var Ctor;if(!isObjectLike(value)||objToString.call(value)!=objectTag||isArguments(value)||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,"function"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function isRegExp(value){return isObject(value)&&objToString.call(value)==regexpTag}function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function isUndefined(value){return value===undefined}function lt(value,other){return other>value}function lte(value,other){return other>=value}function toArray(value){var length=value?getLength(value):0;return isLength(length)?length?arrayCopy(value):[]:values(value)}function toPlainObject(value){return baseCopy(value,keysIn(value))}function create(prototype,properties,guard){var result=baseCreate(prototype);return guard&&isIterateeCall(prototype,properties,guard)&&(properties=undefined),properties?baseAssign(result,properties):result}function functions(object){return baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,toPath(path),path+"");return result===undefined?defaultValue:result;
}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);if(!result&&!isKey(path)){if(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;path=last(path),result=hasOwnProperty.call(object,path)}return result||isLength(object.length)&&isIndex(path,object.length)&&(isArray(object)||isArguments(object))}function invert(object,multiValue,guard){guard&&isIterateeCall(object,multiValue,guard)&&(multiValue=undefined);for(var index=-1,props=keys(object),length=props.length,result={};++index<length;){var key=props[index],value=object[key];multiValue?hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]:result[value]=key}return result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto="function"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;++index<length;)result[index]=index+"";for(var key in object)skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function pairs(object){object=toObject(object);for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;){var key=props[index];result[index]=[key,object[key]]}return result}function result(object,path,defaultValue){var result=null==object?undefined:object[path];return result===undefined&&(null==object||isKey(path,object)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),result=null==object?undefined:object[last(path)]),result=result===undefined?defaultValue:result),isFunction(result)?result.call(object):result}function set(object,path,value){if(null==object)return object;var pathKey=path+"";path=null!=object[pathKey]||isKey(path,object)?[pathKey]:toPath(path);for(var index=-1,length=path.length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=path[index];isObject(nested)&&(index==lastIndex?nested[key]=value:null==nested[key]&&(nested[key]=isIndex(path[index+1])?[]:{})),nested=nested[key]}return object}function transform(object,iteratee,accumulator,thisArg){var isArr=isArray(object)||isTypedArray(object);if(iteratee=getCallback(iteratee,thisArg,4),null==accumulator)if(isArr||isObject(object)){var Ctor=object.constructor;accumulator=isArr?isArray(object)?new Ctor:[]:baseCreate(isFunction(Ctor)?Ctor.prototype:undefined)}else accumulator={};return(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}function values(object){return baseValues(object,keys(object))}function valuesIn(object){return baseValues(object,keysIn(object))}function inRange(value,start,end){return start=+start||0,end===undefined?(end=start,start=0):end=+end||0,value>=nativeMin(start,end)&&value<nativeMax(start,end)}function random(min,max,floating){floating&&isIterateeCall(min,max,floating)&&(max=floating=undefined);var noMin=null==min,noMax=null==max;if(null==floating&&(noMax&&"boolean"==typeof min?(floating=min,min=1):"boolean"==typeof max&&(floating=max,noMax=!0)),noMin&&noMax&&(max=1,noMax=!1),min=+min||0,noMax?(max=min,min=0):max=+max||0,floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)}function capitalize(string){return string=baseToString(string),string&&string.charAt(0).toUpperCase()+string.slice(1)}function deburr(string){return string=baseToString(string),string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=baseToString(string),target+="";var length=string.length;return position=position===undefined?length:nativeMin(0>position?0:+position||0,length),position-=target.length,position>=0&&string.indexOf(target,position)==position}function escape(string){return string=baseToString(string),string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,escapeRegExpChar):string||"(?:)"}function pad(string,length,chars){string=baseToString(string),length=+length;var strLength=string.length;if(strLength>=length||!nativeIsFinite(length))return string;var mid=(length-strLength)/2,leftLength=nativeFloor(mid),rightLength=nativeCeil(mid);return chars=createPadding("",rightLength,chars),chars.slice(0,leftLength)+string+chars}function parseInt(string,radix,guard){return(guard?isIterateeCall(string,radix,guard):null==radix)?radix=0:radix&&(radix=+radix),string=trim(string),nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))}function repeat(string,n){var result="";if(string=baseToString(string),n=+n,1>n||!string||!nativeIsFinite(n))return result;do n%2&&(result+=string),n=nativeFloor(n/2),string+=string;while(n);return result}function startsWith(string,target,position){return string=baseToString(string),position=null==position?0:nativeMin(0>position?0:+position||0,string.length),string.lastIndexOf(target,position)==position}function template(string,options,otherOptions){var settings=lodash.templateSettings;otherOptions&&isIterateeCall(string,options,otherOptions)&&(options=otherOptions=undefined),string=baseToString(string),options=assignWith(baseAssign({},otherOptions||options),settings,assignOwnDefaults);var imports=assignWith(baseAssign({},options.imports),settings.imports,assignOwnDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result}function trim(string,chars,guard){var value=string;return(string=baseToString(string))?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string),trimmedRightIndex(string)+1):(chars+="",string.slice(charsLeftIndex(string,chars),charsRightIndex(string,chars)+1)):string}function trimLeft(string,chars,guard){var value=string;return string=baseToString(string),string?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string)):string.slice(charsLeftIndex(string,chars+"")):string}function trimRight(string,chars,guard){var value=string;return string=baseToString(string),string?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(0,trimmedRightIndex(string)+1):string.slice(0,charsRightIndex(string,chars+"")+1):string}function trunc(string,options,guard){guard&&isIterateeCall(string,options,guard)&&(options=undefined);var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(null!=options)if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?+options.length||0:length,omission="omission"in options?baseToString(options.omission):omission}else length=+options||0;if(string=baseToString(string),length>=string.length)return string;var end=length-omission.length;if(1>end)return omission;var result=string.slice(0,end);if(null==separator)return result+omission;if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,newEnd,substring=string.slice(0,end);for(separator.global||(separator=RegExp(separator.source,(reFlags.exec(separator)||"")+"g")),separator.lastIndex=0;match=separator.exec(substring);)newEnd=match.index;result=result.slice(0,null==newEnd?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission}function unescape(string){return string=baseToString(string),string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}function words(string,pattern,guard){return guard&&isIterateeCall(string,pattern,guard)&&(pattern=undefined),string=baseToString(string),string.match(pattern||reWords)||[]}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=undefined),isObjectLike(func)?matches(func):baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function matches(source){return baseMatches(baseClone(source,!0))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,!0))}function mixin(object,source,options){if(null==options){var isObj=isObject(source),props=isObj?keys(source):undefined,methodNames=props&&props.length?baseFunctions(source,props):undefined;(methodNames?methodNames.length:isObj)||(methodNames=!1,options=source,source=object,object=this)}methodNames||(methodNames=baseFunctions(source,keys(source)));var chain=!0,index=-1,isFunc=isFunction(object),length=methodNames.length;options===!1?chain=!1:isObject(options)&&"chain"in options&&(chain=options.chain);for(;++index<length;){var methodName=methodNames[index],func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(func){return function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=arrayCopy(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))}}(func))}return object}function noConflict(){return root._=oldDash,this}function noop(){}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}function propertyOf(object){return function(path){return baseGet(object,toPath(path),path+"")}}function range(start,end,step){step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=+start||0,step=null==step?1:+step||0,null==end?(end=start,start=0):end=+end||0;for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);++index<length;)result[index]=start,start+=step;return result}function times(n,iteratee,thisArg){if(n=nativeFloor(n),1>n||!nativeIsFinite(n))return[];var index=-1,result=Array(nativeMin(n,MAX_ARRAY_LENGTH));for(iteratee=bindCallback(iteratee,thisArg,1);++index<n;)MAX_ARRAY_LENGTH>index?result[index]=iteratee(index):iteratee(index);return result}function uniqueId(prefix){var id=++idCounter;return baseToString(prefix)+id}function add(augend,addend){return(+augend||0)+(+addend||0)}function sum(collection,iteratee,thisArg){return thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=undefined),iteratee=getCallback(iteratee,thisArg,3),1==iteratee.length?arraySum(isArray(collection)?collection:toIterable(collection),iteratee):baseSum(collection,iteratee)}context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,objectProto=Object.prototype,stringProto=String.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,objToString=objectProto.toString,oldDash=root._,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ArrayBuffer=context.ArrayBuffer,clearTimeout=context.clearTimeout,parseFloat=context.parseFloat,pow=Math.pow,propertyIsEnumerable=objectProto.propertyIsEnumerable,Set=getNative(context,"Set"),setTimeout=context.setTimeout,splice=arrayProto.splice,Uint8Array=context.Uint8Array,WeakMap=getNative(context,"WeakMap"),nativeCeil=Math.ceil,nativeCreate=getNative(Object,"create"),nativeFloor=Math.floor,nativeIsArray=getNative(Array,"isArray"),nativeIsFinite=context.isFinite,nativeKeys=getNative(Object,"keys"),nativeMax=Math.max,nativeMin=Math.min,nativeNow=getNative(Date,"now"),nativeParseInt=context.parseInt,nativeRandom=Math.random,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,POSITIVE_INFINITY=Number.POSITIVE_INFINITY,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,MAX_SAFE_INTEGER=9007199254740991,metaMap=WeakMap&&new WeakMap,realNames={},support=lodash.support={};lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};var baseCreate=function(){function object(){}return function(prototype){if(isObject(prototype)){object.prototype=prototype;var result=new object;object.prototype=undefined}return result||{}}}(),baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0),baseFor=createBaseFor(),baseForRight=createBaseFor(!0),baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,getData=metaMap?function(func){return metaMap.get(func)}:noop,getLength=baseProperty("length"),setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return key}else count=0;return baseSetData(key,value)}}(),difference=restParam(function(array,values){return isObjectLike(array)&&isArrayLike(array)?baseDifference(array,baseFlatten(values,!1,!0)):[]}),findIndex=createFindIndex(),findLastIndex=createFindIndex(!0),intersection=restParam(function(arrays){for(var othLength=arrays.length,othIndex=othLength,caches=Array(length),indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,result=[];othIndex--;){var value=arrays[othIndex]=isArrayLike(value=arrays[othIndex])?value:[];caches[othIndex]=isCommon&&value.length>=120?createCache(othIndex&&value):null}var array=arrays[0],index=-1,length=array?array.length:0,seen=caches[0];outer:for(;++index<length;)if(value=array[index],(seen?cacheIndexOf(seen,value):indexOf(result,value,0))<0){for(var othIndex=othLength;--othIndex;){var cache=caches[othIndex];if((cache?cacheIndexOf(cache,value):indexOf(arrays[othIndex],value,0))<0)continue outer}seen&&seen.push(value),result.push(value)}return result}),pullAt=restParam(function(array,indexes){indexes=baseFlatten(indexes);var result=baseAt(array,indexes);return basePullAt(array,indexes.sort(baseCompareAscending)),result}),sortedIndex=createSortedIndex(),sortedLastIndex=createSortedIndex(!0),union=restParam(function(arrays){return baseUniq(baseFlatten(arrays,!1,!0))}),without=restParam(function(array,values){return isArrayLike(array)?baseDifference(array,values):[]}),zip=restParam(unzip),zipWith=restParam(function(arrays){var length=arrays.length,iteratee=length>2?arrays[length-2]:undefined,thisArg=length>1?arrays[length-1]:undefined;return length>2&&"function"==typeof iteratee?length-=2:(iteratee=length>1&&"function"==typeof thisArg?(--length,thisArg):undefined,thisArg=undefined),arrays.length=length,unzipWith(arrays,iteratee,thisArg)}),wrapperConcat=restParam(function(values){return values=baseFlatten(values),this.thru(function(array){return arrayConcat(isArray(array)?array:[toObject(array)],values)})}),at=restParam(function(collection,props){return baseAt(collection,baseFlatten(props))}),countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1}),find=createFind(baseEach),findLast=createFind(baseEachRight,!0),forEach=createForEach(arrayEach,baseEach),forEachRight=createForEach(arrayEachRight,baseEachRight),groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):result[key]=[value]}),indexBy=createAggregator(function(result,value,key){result[key]=value}),invoke=restParam(function(collection,path,args){var index=-1,isFunc="function"==typeof path,isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){var func=isFunc?path:isProp&&null!=value?value[path]:undefined;result[++index]=func?func.apply(value,args):invokePath(value,path,args)}),result}),partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]}),reduce=createReduce(arrayReduce,baseEach),reduceRight=createReduce(arrayReduceRight,baseEachRight),sortByAll=restParam(function(collection,iteratees){if(null==collection)return[];var guard=iteratees[2];return guard&&isIterateeCall(iteratees[0],iteratees[1],guard)&&(iteratees.length=1),baseSortByOrder(collection,baseFlatten(iteratees),[])}),now=nativeNow||function(){return(new Date).getTime()},bind=restParam(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,bind.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)}),bindAll=restParam(function(object,methodNames){methodNames=methodNames.length?baseFlatten(methodNames):functions(object);for(var index=-1,length=methodNames.length;++index<length;){var key=methodNames[index];object[key]=createWrapper(object[key],BIND_FLAG,object)}return object}),bindKey=restParam(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,bindKey.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)}),curry=createCurry(CURRY_FLAG),curryRight=createCurry(CURRY_RIGHT_FLAG),defer=restParam(function(func,args){return baseDelay(func,1,args)}),delay=restParam(function(func,wait,args){return baseDelay(func,wait,args)}),flow=createFlow(),flowRight=createFlow(!0),modArgs=restParam(function(func,transforms){if(transforms=baseFlatten(transforms),"function"!=typeof func||!arrayEvery(transforms,baseIsFunction))throw new TypeError(FUNC_ERROR_TEXT);var length=transforms.length;return restParam(function(args){for(var index=nativeMin(args.length,length);index--;)args[index]=transforms[index](args[index]);return func.apply(this,args)})}),partial=createPartial(PARTIAL_FLAG),partialRight=createPartial(PARTIAL_RIGHT_FLAG),rearg=restParam(function(func,indexes){return createWrapper(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes))}),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag},merge=createAssigner(baseMerge),assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),defaults=createDefaults(assign,assignDefaults),defaultsDeep=createDefaults(merge,mergeDefaults),findKey=createFindKey(baseForOwn),findLastKey=createFindKey(baseForOwnRight),forIn=createForIn(baseFor),forInRight=createForIn(baseForRight),forOwn=createForOwn(baseForOwn),forOwnRight=createForOwn(baseForOwnRight),keys=nativeKeys?function(object){var Ctor=null==object?undefined:object.constructor;return"function"==typeof Ctor&&Ctor.prototype===object||"function"!=typeof object&&isArrayLike(object)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,mapKeys=createObjectMapper(!0),mapValues=createObjectMapper(),omit=restParam(function(object,props){if(null==object)return{};if("function"!=typeof props[0]){var props=arrayMap(baseFlatten(props),String);return pickByArray(object,baseDifference(keysIn(object),props))}var predicate=bindCallback(props[0],props[1],3);return pickByCallback(object,function(value,key,object){return!predicate(value,key,object)})}),pick=restParam(function(object,props){return null==object?{}:"function"==typeof props[0]?pickByCallback(object,bindCallback(props[0],props[1],3)):pickByArray(object,baseFlatten(props))}),camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?word.charAt(0).toUpperCase()+word.slice(1):word)}),kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),padLeft=createPadDir(),padRight=createPadDir(!0),snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}),startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+(word.charAt(0).toUpperCase()+word.slice(1))}),attempt=restParam(function(func,args){try{return func.apply(undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),method=restParam(function(path,args){return function(object){return invokePath(object,path,args)}}),methodOf=restParam(function(object,args){return function(path){return invokePath(object,path,args)}}),ceil=createRound("ceil"),floor=createRound("floor"),max=createExtremum(gt,NEGATIVE_INFINITY),min=createExtremum(lt,POSITIVE_INFINITY),round=createRound("round");return lodash.prototype=baseLodash.prototype,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,MapCache.prototype["delete"]=mapDelete,MapCache.prototype.get=mapGet,MapCache.prototype.has=mapHas,MapCache.prototype.set=mapSet,SetCache.prototype.push=cachePush,memoize.Cache=MapCache,lodash.after=after,lodash.ary=ary,lodash.assign=assign,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.callback=callback,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flow=flow,lodash.flowRight=flowRight,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.functions=functions,lodash.groupBy=groupBy,lodash.indexBy=indexBy,lodash.initial=initial,lodash.intersection=intersection,lodash.invert=invert,lodash.invoke=invoke,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=merge,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.modArgs=modArgs,lodash.negate=negate,lodash.omit=omit,lodash.once=once,lodash.pairs=pairs,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pluck=pluck,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=pull,lodash.pullAt=pullAt,lodash.range=range,lodash.rearg=rearg,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.restParam=restParam,lodash.set=set,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=sortBy,lodash.sortByAll=sortByAll,lodash.sortByOrder=sortByOrder,lodash.spread=spread,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.times=times,lodash.toArray=toArray,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.union=union,lodash.uniq=uniq,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.where=where,lodash.without=without,lodash.wrap=wrap,lodash.xor=xor,lodash.zip=zip,lodash.zipObject=zipObject,lodash.zipWith=zipWith,lodash.backflow=flowRight,lodash.collect=map,lodash.compose=flowRight,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.extend=assign,lodash.iteratee=callback,lodash.methods=functions,lodash.object=zipObject,lodash.select=filter,lodash.tail=rest,lodash.unique=uniq,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.deburr=deburr,lodash.endsWith=endsWith,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.findWhere=findWhere,lodash.first=first,lodash.floor=floor,lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isBoolean=isBoolean,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isMatch=isMatch,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lt=lt,lodash.lte=lte,lodash.max=max,lodash.min=min,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.pad=pad,lodash.padLeft=padLeft,lodash.padRight=padRight,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.result=result,lodash.round=round,lodash.runInContext=runInContext,lodash.size=size,lodash.snakeCase=snakeCase,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedLastIndex=sortedLastIndex,lodash.startCase=startCase,lodash.startsWith=startsWith,lodash.sum=sum,lodash.template=template,lodash.trim=trim,lodash.trimLeft=trimLeft,lodash.trimRight=trimRight,lodash.trunc=trunc,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.words=words,lodash.all=every,lodash.any=some,lodash.contains=includes,lodash.eq=isEqual,lodash.detect=find,lodash.foldl=reduce,lodash.foldr=reduceRight,lodash.head=first,lodash.include=includes,lodash.inject=reduce,mixin(lodash,function(){var source={};return baseForOwn(lodash,function(func,methodName){lodash.prototype[methodName]||(source[methodName]=func)}),source}(),!1),lodash.sample=sample,lodash.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(value){return sample(value,n)}):sample(this.value())},lodash.VERSION=VERSION,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index)return new LazyWrapper(this);n=null==n?1:nativeMax(nativeFloor(n)||0,0);var result=this.clone();return filtered?result.__takeCount__=nativeMin(result.__takeCount__,n):result.__views__.push({size:n,type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}),arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type!=LAZY_MAP_FLAG;LazyWrapper.prototype[methodName]=function(iteratee,thisArg){var result=this.clone();return result.__iteratees__.push({iteratee:getCallback(iteratee,thisArg,1),type:type}),result.__filtered__=result.__filtered__||isFilter,result}}),arrayEach(["first","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","rest"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}),arrayEach(["pluck","where"],function(methodName,index){var operationName=index?"filter":"map",createCallback=index?baseMatches:property;LazyWrapper.prototype[methodName]=function(value){return this[operationName](createCallback(value))}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.reject=function(predicate,thisArg){return predicate=getCallback(predicate,thisArg,1),this.filter(function(value){return!predicate(value)})},LazyWrapper.prototype.slice=function(start,end){start=null==start?0:+start||0;var result=this;return result.__filtered__&&(start>0||0>end)?new LazyWrapper(result):(0>start?result=result.takeRight(-start):start&&(result=result.drop(start)),end!==undefined&&(end=+end||0,result=0>end?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate,thisArg){return this.reverse().takeWhile(predicate,thisArg).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(POSITIVE_INFINITY)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|map|reject)|While$/.test(methodName),retUnwrapped=/^(?:first|last)$/.test(methodName),lodashFunc=lodash[retUnwrapped?"take"+("last"==methodName?"Right":""):methodName];lodashFunc&&(lodash.prototype[methodName]=function(){var args=retUnwrapped?[1]:arguments,chainAll=this.__chain__,value=this.__wrapped__,isHybrid=!!this.__actions__.length,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var interceptor=function(value){return retUnwrapped&&chainAll?lodashFunc(value,1)[0]:lodashFunc.apply(undefined,arrayPush([value],args))},action={func:thru,args:[interceptor],thisArg:undefined},onlyLazy=isLazy&&!isHybrid;if(retUnwrapped&&!chainAll)return onlyLazy?(value=value.clone(),value.__actions__.push(action),func.call(value)):lodashFunc.call(undefined,this.value())[0];if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push(action),new LodashWrapper(result,chainAll)}return this.thru(interceptor)})}),arrayEach(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(methodName){var func=(/^(?:replace|split)$/.test(methodName)?stringProto:arrayProto)[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:join|pop|replace|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;return retUnwrapped&&!this.__chain__?func.apply(this.value(),args):this[chainName](function(value){
return func.apply(value,args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name,names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}}),realNames[createHybridWrapper(undefined,BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.concat=wrapperConcat,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toString=wrapperToString,lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.collect=lodash.prototype.map,lodash.prototype.head=lodash.prototype.first,lodash.prototype.select=lodash.prototype.filter,lodash.prototype.tail=lodash.prototype.rest,lodash}var undefined,VERSION="3.10.1",BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=150,HOT_SPAN=16,LARGE_ARRAY_SIZE=200,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,FUNC_ERROR_TEXT="Expected a function",PLACEHOLDER="__lodash_placeholder__",argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,reRegExpChars=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,reHasRegExpChars=RegExp(reRegExpChars.source),reComboMark=/[\u0300-\u036f\ufe20-\ufe23]/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reHasHexPrefix=/^0[xX]/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^\d+$/,reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,reWords=function(){var upper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lower="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(upper+"+(?="+upper+lower+")|"+upper+"?"+lower+"|"+upper+"+|[0-9]+","g")}(),contextProps=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},objectTypes={"function":!0,object:!0},regexpEscapes={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,_=runInContext();root._=_,__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module),!(__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this)}).call(exports,__webpack_require__(23)(module),function(){return this}())},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children=[],module.webpackPolyfill=1),module}},function(module,exports){function Matrix(context){var me=this;me._t=me.transform,me.a=me.d=1,me.b=me.c=me.e=me.f=0,me.context=context,context&&context.setTransform(1,0,0,1,0,0)}exports.__esModule=!0,Matrix.prototype={concat:function concat(cm){return this.clone()._t(cm.a,cm.b,cm.c,cm.d,cm.e,cm.f)},flipX:function flipX(){return this._t(-1,0,0,1,0,0)},flipY:function flipY(){return this._t(1,0,0,-1,0,0)},reflectVector:function reflectVector(x,y){var v=this.applyToPoint(0,1),d=2*(v.x*x+v.y*y);return x-=d*v.x,y-=d*v.y,{x:x,y:y}},reset:function reset(){return this.setTransform(1,0,0,1,0,0)},rotate:function rotate(angle){var cos=Math.cos(angle),sin=Math.sin(angle);return this._t(cos,sin,-sin,cos,0,0)},rotateFromVector:function rotateFromVector(x,y){return this.rotate(Math.atan2(y,x))},rotateDeg:function rotateDeg(angle){return this.rotate(angle*Math.PI/180)},scaleU:function scaleU(f){return this._t(f,0,0,f,0,0)},scale:function scale(sx,sy){return this._t(sx,0,0,sy,0,0)},scaleX:function scaleX(sx){return this._t(sx,0,0,1,0,0)},scaleY:function scaleY(sy){return this._t(1,0,0,sy,0,0)},shear:function shear(sx,sy){return this._t(1,sy,sx,1,0,0)},shearX:function shearX(sx){return this._t(1,0,sx,1,0,0)},shearY:function shearY(sy){return this._t(1,sy,0,1,0,0)},skew:function skew(ax,ay){return this.shear(Math.tan(ax),Math.tan(ay))},skewX:function skewX(ax){return this.shearX(Math.tan(ax))},skewY:function skewY(ay){return this.shearY(Math.tan(ay))},setTransform:function setTransform(a,b,c,d,e,f){var me=this;return me.a=a,me.b=b,me.c=c,me.d=d,me.e=e,me.f=f,me._x()},translate:function translate(tx,ty){return this._t(1,0,0,1,tx,ty)},translateX:function translateX(tx){return this._t(1,0,0,1,tx,0)},translateY:function translateY(ty){return this._t(1,0,0,1,0,ty)},transform:function transform(a2,b2,c2,d2,e2,f2){var me=this,a1=me.a,b1=me.b,c1=me.c,d1=me.d,e1=me.e,f1=me.f;return me.a=a1*a2+c1*b2,me.b=b1*a2+d1*b2,me.c=a1*c2+c1*d2,me.d=b1*c2+d1*d2,me.e=a1*e2+c1*f2+e1,me.f=b1*e2+d1*f2+f1,me._x()},divide:function divide(m){if(!m.isInvertible())throw"Input matrix is not invertible";var im=m.inverse();return this._t(im.a,im.b,im.c,im.d,im.e,im.f)},divideScalar:function divideScalar(d){var me=this;return me.a/=d,me.b/=d,me.c/=d,me.d/=d,me.e/=d,me.f/=d,me._x()},inverse:function inverse(){if(this.isIdentity())return new Matrix;if(this.isInvertible()){var me=this,a=me.a,b=me.b,c=me.c,d=me.d,e=me.e,f=me.f,m=new Matrix,dt=a*d-b*c;return m.a=d/dt,m.b=-b/dt,m.c=-c/dt,m.d=a/dt,m.e=(c*f-d*e)/dt,m.f=-(a*f-b*e)/dt,m}throw"Matrix is not invertible."},interpolate:function interpolate(m2,t,context){var me=this,m=context?new Matrix(context):new Matrix;return m.a=me.a+(m2.a-me.a)*t,m.b=me.b+(m2.b-me.b)*t,m.c=me.c+(m2.c-me.c)*t,m.d=me.d+(m2.d-me.d)*t,m.e=me.e+(m2.e-me.e)*t,m.f=me.f+(m2.f-me.f)*t,m._x()},interpolateAnim:function interpolateAnim(m2,t,context){var me=this,m=context?new Matrix(context):new Matrix,d1=me.decompose(),d2=m2.decompose(),rotation=d1.rotation+(d2.rotation-d1.rotation)*t,translateX=d1.translate.x+(d2.translate.x-d1.translate.x)*t,translateY=d1.translate.y+(d2.translate.y-d1.translate.y)*t,scaleX=d1.scale.x+(d2.scale.x-d1.scale.x)*t,scaleY=d1.scale.y+(d2.scale.y-d1.scale.y)*t;return m.translate(translateX,translateY),m.rotate(rotation),m.scale(scaleX,scaleY),m._x()},decompose:function decompose(useLU){var me=this,a=me.a,b=me.b,c=me.c,d=me.d,acos=Math.acos,atan=Math.atan,sqrt=Math.sqrt,pi=Math.PI,translate={x:me.e,y:me.f},rotation=0,scale={x:1,y:1},skew={x:0,y:0},determ=a*d-b*c;if(useLU)a?(skew={x:atan(c/a),y:atan(b/a)},scale={x:a,y:determ/a}):b?(rotation=.5*pi,scale={x:b,y:determ/b},skew.x=atan(d/b)):(scale={x:c,y:d},skew.x=.25*pi);else if(a||b){var r=sqrt(a*a+b*b);rotation=b>0?acos(a/r):-acos(a/r),scale={x:r,y:determ/r},skew.x=atan((a*c+b*d)/(r*r))}else if(c||d){var s=sqrt(c*c+d*d);rotation=.5*pi-(d>0?acos(-c/s):-acos(c/s)),scale={x:determ/s,y:s},skew.y=atan((a*c+b*d)/(s*s))}else scale={x:0,y:0};return{scale:scale,translate:translate,rotation:rotation,skew:skew}},determinant:function determinant(){return this.a*this.d-this.b*this.c},applyToPoint:function applyToPoint(x,y){var me=this;return{x:x*me.a+y*me.c+me.e,y:x*me.b+y*me.d+me.f}},applyToArray:function applyToArray(points){var i=0,p,l,mxPoints=[];if("number"==typeof points[0])for(l=points.length;l>i;)p=this.applyToPoint(points[i++],points[i++]),mxPoints.push(p.x,p.y);else for(;p=points[i];i++)mxPoints.push(this.applyToPoint(p.x,p.y));return mxPoints},applyToTypedArray:function applyToTypedArray(points,use64){for(var i=0,p,l=points.length,mxPoints=use64?new Float64Array(l):new Float32Array(l);l>i;)p=this.applyToPoint(points[i],points[i+1]),mxPoints[i++]=p.x,mxPoints[i++]=p.y;return mxPoints},applyToContext:function applyToContext(context){var me=this;return context.setTransform(me.a,me.b,me.c,me.d,me.e,me.f),me},isIdentity:function isIdentity(){var me=this;return me._q(me.a,1)&&me._q(me.b,0)&&me._q(me.c,0)&&me._q(me.d,1)&&me._q(me.e,0)&&me._q(me.f,0)},isInvertible:function isInvertible(){return!this._q(this.determinant(),0)},isValid:function isValid(){return!this._q(this.a*this.d,0)},clone:function clone(noContext){var me=this,m=new Matrix;return m.a=me.a,m.b=me.b,m.c=me.c,m.d=me.d,m.e=me.e,m.f=me.f,noContext||(m.context=me.context),m},isEqual:function isEqual(m){var me=this,q=me._q;return q(me.a,m.a)&&q(me.b,m.b)&&q(me.c,m.c)&&q(me.d,m.d)&&q(me.e,m.e)&&q(me.f,m.f)},toArray:function toArray(){var me=this;return[me.a,me.b,me.c,me.d,me.e,me.f]},toCSS:function toCSS(){return"matrix("+this.toArray()+")"},toCSS3D:function toCSS3D(){var me=this;return"matrix3d("+me.a+", "+me.b+", 0, 0, "+me.c+", "+me.d+", 0, 0, 0, 0, 1, 0, "+me.e+", "+me.f+", 0, 1)"},toJSON:function toJSON(){return JSON.stringify(this.toArray())},toString:function toString(){return""+this.toArray()},_q:function _q(f1,f2){return Math.abs(f1-f2)<1e-14},_x:function _x(){var me=this;return me.context&&me.context.setTransform(me.a,me.b,me.c,me.d,me.e,me.f),me}},exports["default"]=Matrix,module.exports=exports["default"]},function(module,exports,__webpack_require__){function resolveEventType(){var resolution;return resolution=_playGame2["default"].feature("touch")?{ACTION:"touchend",ACTION_DOWN:"touchstart",ACTION_UP:"touchend",ACTION_MOVE:"touchmove",ACTION_OUT:"touchcancel"}:{ACTION:"click",ACTION_DOWN:"mousedown",ACTION_UP:"mouseup",ACTION_MOVE:"mousemove",ACTION_OUT:"mouseout"}}var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _playGame=__webpack_require__(26),_playGame2=_interopRequireDefault(_playGame),_util=__webpack_require__(18),_util2=_interopRequireDefault(_util),_typesBasic=__webpack_require__(19),_typesBasic2=_interopRequireDefault(_typesBasic),_typesQueue=__webpack_require__(42),_typesQueue2=_interopRequireDefault(_typesQueue),_typesDimensions=__webpack_require__(14),pl;pl={Basic:_typesBasic2["default"],Point:_typesDimensions.Point,Size:_typesDimensions.Size,Queue:_typesQueue2["default"],game:_playGame2["default"],util:_util2["default"],EVENT:resolveEventType()},exports["default"]=pl,module.exports=exports["default"]},function(module,exports,__webpack_require__){function game(_name,_implementation){game.isDOMReady?initialize(_name,_implementation):register(_name,_implementation)}function ready(_eventName){return READY_QUEUE.length?!1:void game.trigger(_eventName||"ready")}function register(_name,_implementation){~GAMES.indexOf(_name)||GAMES.push({id:_name,implementation:_implementation})}function initialize(_name_collection,_implementation){switch(typeof _name_collection){case"string":_typesGlobalScope2["default"][_name_collection]=_typesGame2["default"].extend(_implementation).initialize("#"+_name_collection);break;case"object":_name_collection.forEach(function(_item,_index){initialize(_item.id,_item.implementation)})}}var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _playGameComponent=__webpack_require__(27),_playGameComponent2=_interopRequireDefault(_playGameComponent),_playGameManager=__webpack_require__(29),_playGameManager2=_interopRequireDefault(_playGameManager),_util=__webpack_require__(18),_util2=_interopRequireDefault(_util),_typesEvents=__webpack_require__(28),_typesEvents2=_interopRequireDefault(_typesEvents),_typesGlobalScope=__webpack_require__(32),_typesGlobalScope2=_interopRequireDefault(_typesGlobalScope),_typesEntity=__webpack_require__(95),_typesEntity2=_interopRequireDefault(_typesEntity),_typesScreen=__webpack_require__(96),_typesScreen2=_interopRequireDefault(_typesScreen),_typesGame=__webpack_require__(97),_typesGame2=_interopRequireDefault(_typesGame),_platform=__webpack_require__(98),_platform2=_interopRequireDefault(_platform),GAMES,CONFIG,READY_QUEUE;GAMES=[],CONFIG={},READY_QUEUE=[],function(){var audioContext;this.component=_playGameComponent2["default"],this.manager=_playGameManager2["default"],_util2["default"].mixin(game,_typesEvents2["default"]),this.on("platform-event",function(_event){console.log("play.game -",_event.name,_event.gameData)}),this.run=function(){game.isDOMReady=!0,game.trigger("dom-ready"),game.component.loadAll(function(){initialize(GAMES),GAMES=null}),_platform2["default"].emit(_platform2["default"].EVENT_INIT)},this.report=function(_name){return _platform2["default"].emit(_name),this.report},this.report.exit=function(_gameScope){return _platform2["default"].saveGameState(_gameScope.progress()),_platform2["default"].emit(_platform2["default"].EVENT_EXIT),this},this.report.flip=function(_gameScope){return _platform2["default"].saveGameState(_gameScope.progress()),_platform2["default"].emit(_platform2["default"].EVENT_FLIPPED),this},this.config=function(_key_mixin){switch(typeof _key_mixin){case"string":return _util2["default"].resolvePath(CONFIG,_key_mixin);case"object":_key_mixin&&_util2["default"].mixin(CONFIG,_key_mixin)}return this},this.provideEntityType=function(){return _typesEntity2["default"]},this.provideScreenType=function(){return _typesScreen2["default"]},this.scope=function(_mixin){return"function"==typeof _mixin?_mixin.call(_typesGlobalScope2["default"]):_mixin&&_typesGlobalScope2["default"].mixin(_mixin),this},this.queue=function(_item){return~READY_QUEUE.indexOf(_item)||READY_QUEUE.push(_item),this},this.queue.complete=function(_item,_eventName){var index;return index=READY_QUEUE.indexOf(_item),READY_QUEUE.splice(index,1),ready(_eventName),this},this.feature=function(){var detect={touch:function touch(){return window.hasOwnProperty("ontouchend")}};return function(_name){var tester=detect[_name];return!tester&&console&&console.warn('No feature detection for "'+_name+'".'),tester&&tester()}}(),this.getAudioContext=function(){return audioContext||(audioContext=new(window.AudioContext||window.webkitAudioContext),window.onfocus=function(){audioContext.resume()},window.onblur=function(){audioContext.suspend()}),audioContext},this.enableAudioContext=function(){var ctx,silence;return ctx=this.getAudioContext(),silence=ctx.createBufferSource(),silence.buffer=ctx.createBuffer(2,1,44100),silence.connect(ctx.destination),silence.start(),silence.disconnect(),silence}}.call(game),exports["default"]=game,module.exports=exports["default"]},function(module,exports,__webpack_require__){function component(_name,_implementation){return component.get(_name)||COMPONENTS.push({name:_name,implementation:_implementation,config:{}}),this}var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _util=__webpack_require__(18),_util2=_interopRequireDefault(_util),_typesEvents=__webpack_require__(28),_typesEvents2=_interopRequireDefault(_typesEvents),COMPONENTS;COMPONENTS=[],function(){_util2["default"].mixin(this,_typesEvents2["default"]),this.get=function(_name){var i,record;for(i=0;record=COMPONENTS[i];i+=1)if(record.name===_name)return record;return null},this.load=function(_name,_callback){var path;return component.get(_name)?(_callback&&_callback.call(component,_name),null):(path=pl.game.config("componentDirectory")+_name+"/behavior.js",$.getScript(path,function(){_callback&&_callback.call(component,_name),component.trigger("loaded",[_name])}),this)},this.loadAll=function(_callback){var $components,queue;return $components=$("[pl-component]"),queue=[],$components.each(function(_index){var name;name=$(this).attr("pl-component"),~queue.indexOf(name)||queue.push(name)}),queue.slice(0).forEach(function(_name){component.load(_name,function(){var index;index=queue.indexOf(_name),queue.splice(index,1),!queue.length&&_callback&&_callback.apply(component,arguments)})}),this}}.call(component),exports["default"]=component,module.exports=exports["default"]},function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _typesBasic=__webpack_require__(19),_typesBasic2=_interopRequireDefault(_typesBasic),Events=_typesBasic2["default"].extend(function(){function createProxyFunction(_name){return function(){var $jq=$();return $jq.push(this),$.fn[_name].apply($jq,arguments)}}var i,method,methods;for(methods=["on","off","trigger"],this.baseType="TYPE_EVENTS",i=0;method=methods[i];i+=1)this[method]=createProxyFunction(method)});exports["default"]=Events,module.exports=exports["default"]},function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _playGameManagerDraggable=__webpack_require__(30),_playGameManagerDraggable2=_interopRequireDefault(_playGameManagerDraggable);exports.draggable=_playGameManagerDraggable2["default"]},function(module,exports,__webpack_require__){function boot(){createHelperStyleSheet(),attachEvents()}function attachEvents(){var state,E;E=pl.EVENT,"touchmove"===E.ACTION_MOVE&&attachEvents.disableTouchScroll(),$(document).on(E.ACTION_DOWN,function(_event){var $draggable,scope,cursor,mode,game,point,transform,helperID,dragStartEvent;if($draggable=$(_event.target).closest("[pl-draggable]"),$draggable.length){switch(scope=$draggable.scope(),cursor=resolveEventPoint(_event,1/scope.game.zoom),mode=$draggable.pl("draggable"),game={position:scope.game.absolutePosition(),scale:scope.game.transformScale().x},point=$draggable.absolutePosition().dec(game.position),transform=$draggable.transform(),helperID=createID(),state={mode:mode,$draggable:$draggable,scope:scope,$helper:null,start:{cursor:cursor,point:point,transform:transform},progress:{distance:null,point:null,transform:null}},1!==game.scale&&(point=point.scale(1/game.scale)),draggableStyleSheet.html(provideSource(helperID,createDraggableRule($draggable))),mode){case"clone":state.$helper=$draggable.clone(),state.$helper.id(helperID).pl("draggable",null).addClass("draggable-helper").appendTo(document.body).absolutePosition(point);break;case"pluck":$draggable.addClass("PLUCKED"),state.$helper=$draggable.clone(),state.$helper.id(helperID).pl("draggable",null).addClass("draggable-helper").appendTo(document.body).absolutePosition(point);break;default:state.$helper=$draggable}state.$helper.removeClass("DRAG-ENDED").addClass("DRAG-START"),dragStartEvent=$.Event("drag-start",{state:state,targetScope:scope}),scope.trigger(dragStartEvent)}}).on(E.ACTION_MOVE,function(_event){var cursor,$draggable,distance,point,transform,dragMoveEvent;state&&(cursor=resolveEventPoint(_event,1/state.scope.game.zoom),distance=state.start.cursor.distance(cursor),point=_typesDimensions.Point.create(),transform=null,"none"!==state.start.transform?(transform=state.start.transform.clone(),transform.translate(distance.width,distance.height),point.set(transform.applyToPoint(0,0))):point=distance.to("point"),state.$helper.hasClass("DRAG-START")&&state.$helper.removeClass("DRAG-START").addClass("DRAGGING"),dragMoveEvent=$.Event("drag-move",{state:state,targetScope:state.scope}),state.progress.distance=distance,state.progress.point=state.start.point.inc(point),state.progress.transform=transform,state.scope.translate(state.$helper,point),state.scope.trigger(dragMoveEvent))}).on([E.ACTION_UP,E.ACTION_OUT].join(" "),function(_event){var $draggable,dragEndEvent;if(state){if("mouseout"===_event.type&&!~[null,document.documentElement].indexOf(_event.toElement))return;$draggable=state.$draggable,state.$helper.hasClass("draggable-helper")&&state.$helper.on("transitionend",function(){$draggable.removeClass("PLUCKED"),$(this).remove()}),state.$helper.removeClass("DRAG-START DRAGGING").addClass("DRAG-ENDED"),dragEndEvent=$.Event("drag-end",{state:state,targetScope:state.scope}),state.scope.trigger(dragEndEvent),state=null}})}function resolveEventPoint(_event,_scale){var scale=_scale||1;return _event.originalEvent&&_event.originalEvent.changedTouches&&(_event.touch=_event.originalEvent.changedTouches[_event.originalEvent.changedTouches.length-1]),_typesDimensions.Point.create().set(new function(){_event.touch?(this.x=_event.touch.clientX*scale,this.y=_event.touch.clientY*scale):(this.x=_event.clientX*scale,this.y=_event.clientY*scale)})}function createHelperStyleSheet(){draggableStyleSheet=$('<style id="draggable-helper-css" type="text/css"></style>').appendTo(document.body)}function createDraggableRule(_$draggable){var i,style,blacklist,rule,prop;for(style=window.getComputedStyle(_$draggable[0]),rule={},blacklist=["zIndex","opacity","cursor","transition","transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],i=0;i<style.length;i+=1)prop=_util2["default"].transformId(style[i],!0),~blacklist.indexOf(prop)||(0===prop.indexOf("Webkit")&&(prop=prop.slice(0,1).toLowerCase()+prop.slice(1)),style[prop]&&(rule[prop]=style[prop]));return rule}function provideSource(_id,_rule){var source,prop,value;source="#"+_id+".draggable-helper {";for(prop in _rule)_rule.hasOwnProperty(prop)&&(value=_rule[prop],source+=prop.replace(/([A-Z]+)/g,"-$1").toLowerCase()+": "+value+";");return source+="}"}function createID(){return"xy-xyxy-y".replace(/x|y/g,function(_token){return"x"===_token?(Math.floor(5*Math.random())+10).toString(16):Math.floor(Math.random()*Date.now()).toString(16).slice(2)})}var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _util=__webpack_require__(18),_util2=_interopRequireDefault(_util),_typesCollection=__webpack_require__(31),_typesCollection2=_interopRequireDefault(_typesCollection),_typesDimensions=__webpack_require__(14),COLLECTION_DRAGABLES=_typesCollection2["default"].create(),draggableStyleSheet;attachEvents.disableTouchScroll=function(){document.addEventListener("touchmove",function(_event){_event.preventDefault()},!1)};var draggableManager={};$(boot),exports["default"]=draggableManager,module.exports=exports["default"]},function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _typesBasicArray=__webpack_require__(17),_typesBasicArray2=_interopRequireDefault(_typesBasicArray),Collection=_typesBasicArray2["default"].extend(function(){function getRecord(_member,_key,_shouldCollect){var i,record,member,result;for(result=[],i=0;record=this[i];i+=1)if(void 0!==_key){if(record[_key]===_member){if(!_shouldCollect)return record;result.push(record)}}else if(record instanceof Array){if(~record.indexOf(_member)){if(!_shouldCollect)return record;result.push(record)}}else for(member in record)if(record.hasOwnProperty(member)&&record[member]===_member){if(!_shouldCollect)return record;result.push(record)}return result.length?result:null}this.baseType="TYPE_COLLECTION",this.add=function(_record){return~this.indexOf(_record)?!1:(this.push(_record),this)},this.remove=function(_record){var index;return index=this.indexOf(_record),~index&&this.splice(index,1),this},this.has=function(_record){return!!~this.indexOf(_record)},this.get=function(_member,_key){return getRecord.call(this,_member,_key)},this.filter=function(_member,_key){return getRecord.call(this,_member,_key,!0)}});exports["default"]=Collection,module.exports=exports["default"]},function(module,exports,__webpack_require__){exports.__esModule=!0;var _typesScope=__webpack_require__(33),GlobalScope=_typesScope.Scope.extend(function(){this.baseType="TYPE_GLOBAL_SCOPE"});exports["default"]=GlobalScope,module.exports=exports["default"]},function(module,exports,__webpack_require__){function createEntity(_$node,_implementation){var component,prototype,componentRecord,instance;if(component=_$node.attr("pl-component"),prototype=this,component){if(componentRecord=_playGame2["default"].component.get(component),!componentRecord)throw new Error("No implementation record for the "+component+"component.");componentRecord.implementation!==_implementation&&(prototype=this.extend(componentRecord.implementation))}return instance="function"==typeof _implementation?prototype.extend(_implementation):prototype.create(),instance.initialize(_$node,component)}var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _typesJQProxy=__webpack_require__(34),_typesJQProxy2=_interopRequireDefault(_typesJQProxy),_typesBasic=__webpack_require__(19),_typesBasic2=_interopRequireDefault(_typesBasic),_typesQueue=__webpack_require__(42),_typesQueue2=_interopRequireDefault(_typesQueue),_typesDimensions=__webpack_require__(14),_playGame=__webpack_require__(26),_playGame2=_interopRequireDefault(_playGame),_util=__webpack_require__(18),_util2=_interopRequireDefault(_util),_evalAction=__webpack_require__(43),_evalAction2=_interopRequireDefault(_evalAction),_typesAudioManager=__webpack_require__(44),Scope=_typesJQProxy2["default"].extend(function(){function attachActionHandler(){this.on(pl.EVENT.ACTION,function(_event){var target,record;target=$(_event.target).closest("[pl-action]")[0],_event.originalEvent&&_event.originalEvent.changedTouches&&(_event.touch=_event.originalEvent.changedTouches[_event.originalEvent.changedTouches.length-1]),_event.cursor=_typesDimensions.Point.create().set(new function(){_event.touch?(this.x=_event.touch.clientX,this.y=_event.touch.clientY):(this.x=_event.clientX,this.y=_event.clientY)}),target&&(record=this.actionables.item(target),record&&(_event.targetScope=this,this.event=_event,_evalAction2["default"](this,record.action,record.method,record.parameter),this.event=null))})}function getRecordBy(_key,_member,_collection){var i,record;if(_collection)for(i=0;record=_collection[i];i+=1)if(record[_key]===_member)return record;return null}function removeRecord(_record,_collection){var index;index=_collection.indexOf(_record),~index&&_collection.splice(index,1)}function captureDropables(_scope){var collection;return collection=[],_scope.find("> [pl-pluck]").each(function(){var name;name=$(this).attr("pl-pluck"),collection.push(this),collection[name]=this}),collection}function pluckAndDrop(_dropables,_template){$(_template).find("[pl-drop]").each(function(){var $node,name,dropable;$node=$(this),name=$node.attr("pl-drop"),dropable=_dropables[name],dropable&&$node.replaceWith(dropable.children)})}function loadComponentAssets(_name,_callback){function ready(){ready.status+=1,ready.status===totalRequests&&_callback&&_callback.call(scope,_name)}var scope,path,totalRequests,transcludeMode,dropables;return totalRequests=0,scope=this,path=_playGame2["default"].config("componentDirectory")+_name+"/",dropables=captureDropables(this),transcludeMode=dropables.length?this.TRANSCLUDE_PLUCK:this.properties.transclude,ready.status=0,(!this.children().length||transcludeMode)&&(totalRequests+=1,$("<div>").load(path+"template.html",function(){var memory;switch(memory=[],transcludeMode){case scope.TRANSCLUDE_APPEND:scope.append(this.children);break;case scope.TRANSCLUDE_PREPEND:scope.prepend(this.children);break;case scope.TRANSCLUDE_PLUCK:pluckAndDrop(dropables,this),scope.empty().append(this.children);break;case scope.TRANSCLUDE_REPLACE:scope.empty().append(this.children);break;default:transcludeMode?(pluckAndDrop(new function(){this[transcludeMode]=scope.node()},this),scope.empty().append(this.children)):scope.empty().append(this.children)}scope.findOwn("[pl-component]").each(function(){var name;name=$(this).attr("pl-component"),~memory.indexOf(name)||(memory.push(name),totalRequests+=1,_playGame2["default"].component.load(name,function(){ready()}))}),ready()})),$('style[pl-for-component="'+_name+'"]').length||_playGame2["default"].config("shouldLoadComponentStyles")===!1||(totalRequests+=1,$('<style type="text/css" pl-for-component="'+_name+'">').load(path+"style.css",ready).appendTo(document.body)),totalRequests||_callback&&_callback.call(this,_name),this}function captureProperties(){var i,attr,name,collection;for(collection=function(){return this.has=function(_name){return!!~this.indexOf(_name)},this}.call([]),i=0;attr=this.$els[0].attributes[i];i+=1)0===attr.name.indexOf("pl-")&&(name=attr.name.slice(3),collection[_util2["default"].transformId(name,!0)]=attr.value,collection.push(name));return collection.length&&(this.properties=collection),this}function initializeEntities(){return this.hasOwnProperty("entities")?(this.entities.forEach(this.bind(function(_record,_index){var $nodes,query,index;for($nodes=this.findOwn(_record.selector),query=["#"+_record.selector,"[pl-id="+_record.selector+"]","[pl-component="+_record.selector+"]","[pl-"+_record.selector+"]"],
index=0;!$nodes.length;){if(index===query.length)throw new Error("Unable to locate entity with selector",_record.selector);$nodes=this.findOwn(query[index]),index+=1}$nodes.each(this.bind(function(_index,_node){var $node,instance,id;$node=$(_node),Scope.isPrototypeOf(_record)?instance=_record:(instance=createEntity.call(this,$node,_record.implementation),instance.isReady||this.assetQueue.add(instance)),id=_util2["default"].transformId(instance.id(),!0),id&&_util2["default"].assignRef(this,id,instance)}))})),this):this}function handleProperties(){var scope,property,handler;if(scope=this,this.hasOwnProperty("properties")&&this.properties.forEach(function(_name){handler=scope.propertyHandlers[_name],handler&&handler.call(scope,scope.$els[0],_name,scope.properties[_name])}),this.propertyHandlers)for(property in this.propertyHandlers)_typesBasic2["default"].hasOwnProperty(property)||(handler=this.propertyHandlers[property],this.findOwn("[pl-"+property+"]").each(function(){var attr;scope===$(this).scope()&&(attr=this.attributes.getNamedItem("pl-"+property),handler&&handler.call(scope,this,property,attr.value))}));return this}function invokeLocal(_name){var args,owner;return args=[].slice.call(arguments,1),this.isMemberSafe(_name)?this[_name].apply(this,arguments):void 0}function init(){var willInitEvent,initEvent;return initEvent=$.Event("initialize",{targetScope:this}),willInitEvent=$.Event("will-initialize",{targetScope:this}),invokeLocal.call(this,"willInit"),this.trigger(willInitEvent),this.attachEvents(),initializeEntities.call(this),handleProperties.call(this),this.watchAssets(),this.captureAudioAssets(),this.captureReferences(),this.__init(),invokeLocal.call(this,"init"),this.trigger(initEvent),this.isReady||this.assetQueue.ready(),this}function ready(){var readyEvent,entities;readyEvent=$.Event("ready",{targetScope:this}),entities=this.findOwn(".pl-scope").scope(),entities&&(entities.length>0?this.entities=entities:this.entities=[entities]),this.hasOwnProperty("audio")&&((this.game||this).media.addShadow(this.audio),this.audio.collections().forEach(function(_collection){var map={voiceOver:"voice-over",background:"background",sfx:"sfx"};_collection.length&&this.findOwn("audio."+map[_collection.type]).each(function(_index,_node){var id,audio,collection,index;id=$(_node).id(),audio=(_collection.find("#"+id)||[])[0],index=_collection.indexOf(audio),index!==_index&&(_collection[index]=_collection[_index],_collection[_index]=audio)})}.bind(this))),this.isReady=!0,this.addClass("READY"),this.__ready(),invokeLocal.call(this,"ready"),this.trigger(readyEvent)}var Actionables;Actionables=function(){return _util2["default"].mixin(this,_typesBasic2["default"]),this.add=function(node,action,method,parameter){return this.has(node)||this.push({node:node,action:action,method:method,parameter:parameter}),this},this.remove=function(_node){var item,index;return item=this.item(_node),index=this.indexOf(item),~index&&this.splice(index,1),this},this.item=function(_node){var i,item;for(i=0;item=this[i];i++)if(item.node===_node)return item},this.has=function(_node){return!!this.item(_node)},this}.call([]),this.TRANSCLUDE_REPLACE="replace",this.TRANSCLUDE_PREPEND="prepend",this.TRANSCLUDE_APPEND="append",this.TRANSCLUDE_PLUCK="pluck",this.baseType="TYPE_SCOPE",this.actionables=null,this.isReady=null,this.isComponent=!1,this.entities=null,this.audio=null,this.properties=null,this.propertyHandlers=null,this.assetQueue=null,this.event=null,this.initialize=function(_node_selector,_componentName){var scope;if(scope=this,this.isReady=!1,this.isComponent=!!_componentName,this.event=null,this.assetQueue=_typesQueue2["default"].create(),this.$els=_node_selector.jquery?_node_selector:$(_node_selector),!this.$els.length)throw new ReferenceError("Unable to locate the element with selector "+this.$els.selector+".");return this.addClass("pl-scope "+(_componentName?_componentName+"-component":"")),this.data("pl-scope",this),this.data("pl-isComponent",!!_componentName),captureProperties.call(this),_componentName?loadComponentAssets.call(this,_componentName,function(){init.call(this)}):init.call(this),this},this.__init=function(){return this},this.__ready=function(){return this},this.willInit=function(){return this},this.init=function(){return this},this.ready=function(){return this},this.watchAssets=function(_nodes){var createHandler,watch;return createHandler=this.bind(function(_node){return function(){var loadedEvent=$.Event("loaded",{targetScope:this});this.assetQueue.ready(_node.src),this.trigger(loadedEvent,[_node]),_node.onload=null}.bind(this)}),watch=this.bind(function(_index,_node){var node="number"==typeof _index?_node:_index;"IMG"!==node.nodeName||node.complete||this.assetQueue.add(node.src)&&(node.onload=createHandler(node),node.onerror=function(){console.error("Image failed to load",node.src)})}),_nodes?(_nodes.forEach(watch),this):(this.each(watch),this.findOwn("img").each(watch),this)},this.attachEvents=function attachEvents(){return this.proto(this.attachEvents),this.assetQueue.on("complete",this.bind(function(){this.assetQueue.off(),ready.call(this)})),this.on("ready",function(_event){this.has(_event.targetScope)&&this.assetQueue.has(_event.targetScope)&&this.assetQueue.ready(_event.targetScope),!this.assetQueue.length&&this.isReady&&this.off("ready")}),this},this.captureReferences=function(){this.findOwn("[id], [pl-id]").each(this.bind(function(_index,_node){var $node,id;"AUDIO"!==_node.nodeName&&($node=$(_node),id=$node.attr("id")||$node.attr("pl-id"),this[id]||_util2["default"].assignRef(this,id,$node.data("pl-scope")||$node))}))},this.captureAudioAssets=function(){var deQ,$audio;return($audio=this.findOwn("audio")).length?(deQ=function(_item){[this,this.screen].forEach(function(_scope){_scope.requiredQueue&&_scope.isMemberSafe("requiredQueue")&&_scope.requiredQueue.has(_item)&&_scope.requiredQueue.ready(_item)})}.bind(this),this.audio=_typesAudioManager.AudioManager.create(this.id()),$audio.each(function(_index,_node){this.assetQueue.add(_node.src),this.audio.watch(_node).then(function(_audio){var loadedEvent=$.Event("loaded",{target:_node,targetScope:this});$(_node).is("[pl-required]")&&this.screen.require(_audio),this.assetQueue.has(_node.src)&&this.assetQueue.ready(_node.src),this.trigger(loadedEvent)}.bind(this))}.bind(this)),this.audio.on("play pause ended stopped",this.bind(function(_event){var map={background:"BACKGROUND",voiceOver:"VOICE-OVER",sfx:"SFX"};switch(_event.type){case"play":[this,this.screen].forEach(function(_scope,_index,_set){(1!==_index||_scope!==_set[0])&&_scope.$els&&_scope.addClass("PLAYING "+map[_event.target.type])}),$(_event.targetNode).addClass("PLAYING");break;case"pause":case"stopped":case"ended":[this,this.screen].forEach(function(_scope,_index,_set){var state;(1!==_index||_scope!==_set[0])&&_scope.$els&&(_scope.removeClass(map[_event.target.type]),state=_scope.attr("class"),/BACKGROUND|VOICE-OVER|SFX/.test(state)||_scope.removeClass("PLAYING"))}),$(_event.targetNode).removeClass("PLAYING"),"ended"===_event.type&&deQ(_event.target)}var audioEvent=$.Event("audio-"+_event.type,{target:_event.target,targetSource:_event.targetSource,targetNode:_event.targetNode,targetScope:this});this.trigger(audioEvent)})),this):!1},this.handleProperty=function(_implementation){if(this.propertyHandlers)if(this.hasOwnProperty("propertyHandlers"))switch(typeof _implementation){case"function":_implementation.call(this.propertyHandlers);break;case"object":this.propertyHandlers.mixin(_implementation)}else this.propertyHandlers=this.propertyHandlers.extend(_implementation);else this.propertyHandlers=_typesBasic2["default"].extend(_implementation);return this},this.entity=function(_selector,_implementation){var Entity,prototype,id;if(Entity=_playGame2["default"].provideEntityType(),this.hasOwnProperty("entities")||(this.entities=[]),this.hasOwnProperty("$els"))throw new Error("Wait this hasn't been tested.");return this.entities.push({selector:_selector,implementation:_implementation}),this},this.has=function(_child){var child;return child=Scope.isPrototypeOf(_child)?_child.$els:_child,!!this.$els.has(child).length},this.toString=function(){var type;return type=this.baseType.replace("TYPE_",""),type=type.slice(0,1)+type.slice(1).toLowerCase(),["[",this.id()||this.address()," ",type,"]"].join("")},this.log=function(){var args;return args=_util2["default"].toArray(arguments),console.log.apply(console,[this.id()||this.address(),"-"].concat(args)),this},this.handleProperty(function(){this.component=function(_node,_name,_value,_property){var $node,record,scope,id;if($node=$(_node),!$node.data("pl-isComponent")){if(record=_playGame2["default"].component.get(_value),!record)throw new Error("Ahh!");scope=createEntity.call(this,$node,record.implementation),id=_util2["default"].transformId(scope.id()||_value,!0),_util2["default"].assignRef(this,id,scope),scope.isReady||this.assetQueue.add(scope)}},this.action=function(node,name,actionName){this.hasOwnProperty("actionables")||(this.actionables=Actionables.create(),attachActionHandler.call(this)),this.actionables.add(node,actionName,node.getAttribute("pl-method"),node.getAttribute("pl-parameter"))},this.required=function(_node,_name,_value){this.is(_node)&&this.screen.require(this)},this.require=function(_node,_name,_value){var query,$node;this.is(_node)&&(query="#_value, [pl-id=_value], [pl-component=_value]".replace(/_value/g,_value),$node=this.find(query),$node.on("ready",this.bind(function(_event){$node.is(_event.target)&&this.require(_event.targetScope)})))}})});exports["default"]={Scope:Scope,createEntity:createEntity},module.exports=exports["default"]},function(module,exports,__webpack_require__){var _Object$keys=__webpack_require__(35)["default"],_interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _util=__webpack_require__(18),_util2=_interopRequireDefault(_util),_typesBasic=__webpack_require__(19),_typesBasic2=_interopRequireDefault(_typesBasic),jQProxy=_typesBasic2["default"].extend(function(){function createProxyFunction(_name){return function(){var response;if(!this.hasOwnProperty("$els")){if("on"!==_name)throw new ReferenceError("Unable to invoke "+_name+" because the scope is not initialized.");return void registerHandler.call(this,arguments)}return response=$.fn[_name].apply(this.$els,resolveEventHandler(this,_name,arguments)),response===this.$els||response&&response.jquery&&response.is(this.$els)?this:response}}function resolveEventHandler(_scope,_method,_args){var i,arg,args;if(args=[],~["on","load"].indexOf(_method)){for(i=0;arg=_args[i];i+=1)"function"==typeof arg?args.push(function(_handler){return function(){return _handler.apply(_scope,arguments)}}(arg)):args.push(arg);return args}return _args}function registerHandler(_definition){return this.hasOwnProperty("eventRegistry")||(this.eventRegistry&&this.isMemberSafe("eventRegistry")?this.eventRegistry=this.eventRegistry.slice(0):this.eventRegistry=[]),this.eventRegistry.push(_definition),!0}var method,exclude;exclude=["constructor"].concat(_Object$keys(_typesBasic2["default"])),this.baseType="TYPE_JQPROXY",this.$els=null,this.eventRegistry=null;for(method in $.fn)$.fn.hasOwnProperty(method)&&!~exclude.indexOf(method)&&(this[method]=createProxyFunction(method));this.node=function(){return this.$els[0]},this.attachEvents=function(){var self;self=this,this.eventRegistry&&this.isMemberSafe("eventRegistry")&&this.eventRegistry.forEach(function(_definition){self.on.apply(self,_definition)})},this.listen=function(_name,_isCapure_handler,_handler){var _isCapture,node,handler;return _isCapture=!1,"boolean"==typeof _isCapure_handler?_isCapture=_isCapure_handler:_handler=_isCapure_handler,_handler.cb=_handler.bind(this),this.$els?(node=this.$els[0])?node.addEventListener(_name,_handler.cb,_isCapture):!1:registerHandler([_name,_handler.cb,_isCapture])},this.ignore=function(_name,_handler){var node=this.$els&&this.$els[0];return node?node.removeEventListener(_name,_handler.cb||_handler):!1},this.bind=function(_handler){var args;return args=[].map.call(arguments,function(m){return m}).slice(1),_handler.bind.apply(_handler,[this].concat(args))},this.findOwn=function(_selector){return this.find(_selector).filter(this.bind(function(_index,_node){var $node;return $node=$(_node),$node.hasClass("pl-scope")?$node.parent().scope()===this:$node.scope()===this}))},this.isMemberSafe=function(_name){var owner,elOwner,prototype;return this.hasOwnProperty(_name)?!0:(prototype=Object.getPrototypeOf(this),owner=_util2["default"].getOwner(this,this[_name]),owner.object.hasOwnProperty("$els")||prototype.hasOwnProperty("$els")?!1:prototype.$els&&(elOwner=_util2["default"].getOwner(prototype,prototype.$els),owner.object.isPrototypeOf(elOwner.object))?!1:!0)},this.is=function(_obj){return _obj?_obj.$els?this.$els.is(_obj.$els):this.$els.is(_obj):!1}});exports["default"]=jQProxy,module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(36),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(37),module.exports=__webpack_require__(11).Object.keys},function(module,exports,__webpack_require__){var toObject=__webpack_require__(38);__webpack_require__(40)("keys",function($keys){return function keys(it){return $keys(toObject(it))}})},function(module,exports,__webpack_require__){var defined=__webpack_require__(39);module.exports=function(it){return Object(defined(it))}},function(module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__webpack_require__){var $export=__webpack_require__(9),core=__webpack_require__(11),fails=__webpack_require__(41);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _util=__webpack_require__(18),_util2=_interopRequireDefault(_util),_typesCollection=__webpack_require__(31),_typesCollection2=_interopRequireDefault(_typesCollection),_typesEvents=__webpack_require__(28),_typesEvents2=_interopRequireDefault(_typesEvents),Queue=_typesCollection2["default"].extend(function(){return this.baseType="TYPE_QUEUE",this.ready=function(_record){return null!=_record&&this.remove(_record),this.length||this.trigger("complete"),this},_util2["default"].mixin(this,_typesEvents2["default"]),this});exports["default"]=Queue,module.exports=exports["default"]},function(module,exports){function evalAction(scope,source,method,parameter){function target(selector){return scope.event?selector?$(scope.event.target).closest(selector):$(scope.event.target):void 0}var error,arg;return null!=method&&null!=parameter?arg=scope[method](parameter):null!=method?arg=scope[method]():null!=parameter&&(arg=parameter),scope[source](arg)}exports.__esModule=!0,exports["default"]=evalAction,module.exports=exports["default"]},function(module,exports,__webpack_require__){function MediaManager($,sup){_util2["default"].mixin(this,EventTargetInterface,InspectorInterface,LegislatorInterface,StateInterface),$("video",function alloc(_id){sup(this,"alloc",arguments),this.video=_typesCollection2["default"].create(),this.initialize(_id,"media manager")})}function AudioManager($){function AudioBufferRecord(_node,_buffer){this.node=_node,this.type=getAudioType(_node),this.buffer=_buffer}function getAudioType(_audio){return _util2["default"].transformId((_audio.className.match(AUDIO_TYPES)||[])[0],!0)}function loadArrayBuffer(_audio){var xhr,manager,fileName;return xhr=new(XMLHttpRequest||_util2["default"].noop),manager=this,fileName=_util2["default"].resolveFileName(_audio.src),xhr.open||_Promise.reject("This platfom does not support the XMLHttpRequest API."),new _Promise(function(resolve,reject){function onLoad(){var ctx,promise;if(xhr.status>=200&&xhr.status<300){if(ctx=pl.game.getAudioContext())return promise=new _Promise(function(resolveDecoding,rejectDecoding){try{ctx.decodeAudioData(xhr.response,function(_buffer){var audio=manager.collect(new AudioBufferRecord(_audio,_buffer));resolveDecoding(audio),BUFFER_CACHE[fileName]=_buffer},function(){rejectDecoding("Failed to decode ArrayBuffer for "+fileName+".")})}catch(e){rejectDecoding(e)}}),promise.then(resolve)["catch"](reject),promise}else reject(xhr.statusText);xhr.removeEventListener("load",onLoad),xhr=null}function onError(){reject(xhr.statusText),xhr.removeEventListener("error",onError),xhr=null}var cache=BUFFER_CACHE[fileName];return cache&&"loading"!==cache?resolve(manager.collect(new AudioBufferRecord(_audio,cache))):(BUFFER_CACHE[fileName]="loading",xhr.responseType="arraybuffer",xhr.addEventListener("load",onLoad,!1),xhr.addEventListener("error",onError,!1),xhr.open("GET",_audio.src,!0),void xhr.send())})}var AUDIO_TYPES,BUFFER_CACHE;AUDIO_TYPES=/background|voice-over|sfx/i,BUFFER_CACHE={},_util2["default"].mixin(this,EventTargetInterface,PlayableInterface,InspectorInterface,LegislatorInterface,StateInterface),$("background, voiceOver, sfx, scope",function alloc(_id){this.initialize(_id,"audio manager"),["background","voiceOver","sfx"].forEach(function(_type){var collection=this[_type]=AudioCollection.create(_type);this.addShadow(collection)}.bind(this))},function load(_audio){var manager,type;return manager=this,type=getAudioType(_audio),type?loadArrayBuffer.call(this,_audio):_Promise.reject("Audio is missing a type. Please classify as 'background', 'voiceOver' or 'sfx'.")},function watch(_audio){function reject(_error){var scope=$$(_audio).scope();console.warn(scope.id(),"-",_error)}var promise;return"AUDIO"!==_audio.nodeName?_Promise.reject("Invalid type for audio node. "+typeof _audio+" ["+_audio.protoype.constructor.name+" "+_audio.nodeName+"]."):((promise=this.load(_audio))["catch"](reject.bind(this)),promise)},function collect(_audio){var type;return _audio?_audio.length?_audio.map(collect.bind(this)):(type=_audio.type||getAudioType(_audio),type&&this[type]?this[type].add(_audio):!1):!1},function collections(){var result,types;return result=[],types=_Object$keys(this),types.forEach(function(_type){this[_type]instanceof AudioCollection&&result.push(this[_type])}.bind(this)),result},function toString(){return"[object "+(this.constructor.name||"Object")+"]"})}function AudioCollection($,sup){_util2["default"].mixin(this,EventTargetInterface,PlayableInterface,InspectorInterface,StateInterface),$("type",function alloc(_type){_type&&(this.type=_type),this.initialize(_type,"collection")},function add(_audio){var audio;return _audio?(audio=_audio instanceof Audio?_audio:Audio.create(_audio,this.type),sup(this,"add")(audio),this.addShadow(audio),audio.id()&&_util2["default"].assignRef(this,audio.id(),audio),audio):!1},function manager(){return this.$el.closest("#man").data("context")},function toString(){return"[object "+(this.constructor.name||"Object")+"]"})}function MediaCollection($,sup){$(function add(_media){return this.addShadow(_media),_media.id()&&_util2["default"].assignRef(this,_media.id(),_media),_typesCollection2["default"].add.call(this,_media)},function addShadow(_media){var $clone;return $clone=_media.$el.clone(),$clone.data(_media.$el.data()),this.$el.append($clone),this})}function Audio($){function accessConfig(_augment,_val){return _val?this[_augment]=_val:"string"==typeof _augment?this[_augment]:(_util2["default"].mixin(this,_augment),_augment)}_util2["default"].mixin(this,EventTargetInterface,PlayableInterface,StateInterface),$("type, media, activeSource, buffer, config, fileName, gain, delay, delayID",function alloc(_audio,_type){var $audio,config,ctx,readyEvent,id;$audio=$$(_audio.node||_audio),config=$audio.pl(),ctx=pl.game.getAudioContext(),readyEvent=$$.Event("ready",{targetScope:this}),(id=$audio.id())||$audio.id(id=_util2["default"].createId()),this.type=_type||null,this.fileName=_util2["default"].resolveFileName($audio.attr("src")),this.media=$audio[0],this.gain=ctx.createGain(),this.gain.connect(ctx.destination),$audio.data("context",this),_audio.buffer&&(this.buffer=_audio.buffer),Object.defineProperty(this,"config",{value:accessConfig.bind(config),writeable:!1}),this.initialize(id,"audio "+this.type),$$(this.media).trigger(readyEvent)},function getSource(){var ctx,src;if(ctx=pl.game.getAudioContext()){if(this.buffer)return src=ctx.createBufferSource(),src.buffer=this.buffer,src.loop=this.media.loop,src;try{return this.activeSource||ctx.createMediaElementSource(this.media)}catch(e){console.warn(e.message,this)}}return null},function collection(){return this.$el.closest(".collection").data("context")},function manager(){return this.$el.closest("#man").data("context")},function toString(){return"[audio#"+this.id()+" "+this.fileName+"]"})}var _Promise=__webpack_require__(45)["default"],_Object$keys=__webpack_require__(35)["default"],_Object$create=__webpack_require__(20)["default"],_interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _typesType=__webpack_require__(92),_typesType2=_interopRequireDefault(_typesType),_util=__webpack_require__(18),_util2=_interopRequireDefault(_util),_typesCollection=__webpack_require__(31),_typesCollection2=_interopRequireDefault(_typesCollection),EventTargetInterface,InspectorInterface,PlayableInterface,LegislatorInterface,StateInterface,$$=window.jQuery;AudioCollection.prototype=_Object$create(_typesCollection2["default"],{constructor:{value:AudioCollection,enumerable:!1,writeable:!1,configureable:!1}}),EventTargetInterface={$el:null,initialize:function initialize(_id,_class){Object.defineProperty(this,"$el",{value:$$("<div "+(_id?'id="'+_id+'"':"")+" "+(_class?'class="'+_class+'"':"")+">"),writeable:!1,configureable:!1,enumerable:!1}),this.$el.data("context",this)},id:function id(_id){return this.$el.id(_id)},addShadow:function addShadow(_obj){return this.$el.append(_obj.$el),this},parent:function parent(){return this.$el.parent().data("context")},find:function find(_selector){var collection=MediaCollection.create();return this.$el.find(_selector).each(function(){collection.add($$(this).data("context"))}),collection},filter:function filter(_selector){var collection;return _selector?(collection=MediaCollection.create(),this.$el.children().each(function(){var $node=$$(this);$node.is(_selector)&&collection.add($node.data("context"))}),collection):this},on:function on(){return this.$el.on.apply(this.$el,arguments),this},off:function off(){return this.$el.off.apply(this.$el,arguments),this},trigger:function trigger(){return this.$el.trigger.apply(this.$el,arguments),this}},InspectorInterface={playing:function playing(_filterSelector){var playing=this.find(".PLAYING").filter(_filterSelector);return!!playing.length&&playing},has:function has(_query){return this.background?["background","voiceOver","sfx"].some(function(_name){return this[_name].has(_query)}.bind(this)):this[_query]?!0:this.some(function(_audio){return _audio===_query||_audio.media===_query||_audio.fileName===_query||_audio.id()===_query})}},LegislatorInterface={rule:function rule(_selector,_event,_handler){var handler,args;handler=[typeof _event,typeof _handler].indexOf("function"),args=_util2["default"].toArray(arguments).slice(1),"function"==typeof _event&&(_event="play pause stopped ended"),this.on(_event,function(_e){_e.target.$el.is(_selector)&&args[handler].apply(this,arguments)}.bind(this))}},StateInterface={state:function state(){return this.$el.state.apply(this.$el,arguments)},addState:function addState(_state){return this.$el.addClass(_state.toUpperCase())},removeState:function removeState(_state){return this.$el.removeClass(_state.toUpperCase())}},PlayableInterface={play:function play(_selector){function handler(_event){"ended"===_event.type&&_event.activeSource&&_event.activeSource.disconnect(),proxyEvent(_event)}function playSource(){var time;this.buffer?(this.activeSource.start(0),this.activeSource.loop||(time=Math.ceil(1e3*this.buffer.duration)+500,setTimeout(function(){this.activeSource&&(console.warn("Native `ended` failed to fire, simulating..."),handler({target:this.activeSource,type:"ended"}))}.bind(this),time))):this.media.play(),this.delayID=null}function response(_val){shouldPlay=_val}var ctx,src,proxyEvent,dest,delay,shouldPlay;return ctx=pl.game.getAudioContext(),shouldPlay=!0,this.background?this.background.play():null!=this.length?_selector?this[_selector]?this[_selector].play():this.find(_selector).play():this[0]&&this[0].play():(src=this.getSource())?(proxyEvent=function(_event){var theEvent=$$.Event(_event.type,{target:this,targetSource:_event.target,targetNode:this.media});this.activeSource&&("ended"===_event.type&&(this.removeState("PLAYING"),this.activeSource=null),this.trigger(theEvent)),_event.target.removeEventListener(_event.type,handler,!1)}.bind(this),src.connect(this.gain),src.addEventListener("ended",handler,!1),this.trigger($$.Event("shouldPlay",{target:this,targetSource:src,targetNode:this.media,response:response})),shouldPlay&&(this.addState("PLAYING"),this.activeSource=src,(delay=this.config("delay"))?this.delayID=setTimeout(playSource.bind(this),_util2["default"].toMillisec(delay)):playSource.call(this),handler({target:src,type:"play"})),this):!1},pause:function pause(){return this},stop:function stop(_filterSelector){var stopEvent=$$.Event("stopped",{target:this,targetSource:this.activeSource,targetNode:this.media});if(this.background)return this.background.stop(_filterSelector);if(null!=this.length){if("@ALL"!==_filterSelector)return this[0]&&this[0].stop();this.forEach(function(_audio){_audio.stop()})}return this.activeSource?(this.buffer?this.delayID||this.activeSource.stop():(this.media.pause(),this.media.currentTime=0),this.delayID&&(clearTimeout(this.delayID),this.delayID=null),this.activeSource=null,this.removeState("PLAYING"),this.trigger(stopEvent),this):!1},volume:function volume(_level,_filterSelector){if(this.background)return this.background.volume(_level);if(null!=this.length){if("@ALL"!==_filterSelector)return this[0]&&this[0].volume(_level);this.forEach(function(_audio){_audio.volume(_level)})}this.gain.gain.value=_level}},exports["default"]=_typesType2["default"](MediaManager,AudioManager,AudioCollection,Audio),AudioCollection.extend(MediaCollection),module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(46),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(47),__webpack_require__(48),__webpack_require__(64),__webpack_require__(71),module.exports=__webpack_require__(11).Promise},function(module,exports){},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(49)(!0);__webpack_require__(51)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var O=this._t,index=this._i,point;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(50),defined=__webpack_require__(39);module.exports=function(TO_STRING){return function(that,pos){var s=String(defined(that)),i=toInteger(pos),l=s.length,a,b;return 0>i||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),55296>a||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536)}}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(52),$export=__webpack_require__(9),redefine=__webpack_require__(53),hide=__webpack_require__(54),has=__webpack_require__(57),Iterators=__webpack_require__(58),$iterCreate=__webpack_require__(59),setToStringTag=__webpack_require__(60),getProto=__webpack_require__(8).getProto,ITERATOR=__webpack_require__(61)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function keys(){return new Constructor(this,kind)};case VALUES:return function values(){return new Constructor(this,kind)}}return function entries(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),methods,key;if($native){var IteratorPrototype=getProto($default.call(new Base));setToStringTag(IteratorPrototype,TAG,!0),!LIBRARY&&has(proto,FF_ITERATOR)&&hide(IteratorPrototype,ITERATOR,returnThis),DEF_VALUES&&$native.name!==VALUES&&(VALUES_BUG=!0,$default=function values(){return $native.call(this)})}if(LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:DEF_VALUES?getMethod("entries"):$default},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports){module.exports=!0},function(module,exports,__webpack_require__){module.exports=__webpack_require__(54)},function(module,exports,__webpack_require__){var $=__webpack_require__(8),createDesc=__webpack_require__(55);module.exports=__webpack_require__(56)?function(object,key,value){return $.setDesc(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(41)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(8),descriptor=__webpack_require__(55),setToStringTag=__webpack_require__(60),IteratorPrototype={};__webpack_require__(54)(IteratorPrototype,__webpack_require__(61)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=$.create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){var def=__webpack_require__(8).setDesc,has=__webpack_require__(57),TAG=__webpack_require__(61)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__webpack_require__){var store=__webpack_require__(62)("wks"),uid=__webpack_require__(63),Symbol=__webpack_require__(10).Symbol;module.exports=function(name){return store[name]||(store[name]=Symbol&&Symbol[name]||(Symbol||uid)("Symbol."+name))}},function(module,exports,__webpack_require__){var global=__webpack_require__(10),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(key){return store[key]||(store[key]={})}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports,__webpack_require__){__webpack_require__(65);
var Iterators=__webpack_require__(58);Iterators.NodeList=Iterators.HTMLCollection=Iterators.Array},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(66),step=__webpack_require__(67),Iterators=__webpack_require__(58),toIObject=__webpack_require__(68);module.exports=__webpack_require__(51)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(69),defined=__webpack_require__(39);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){var cof=__webpack_require__(70);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(8),LIBRARY=__webpack_require__(52),global=__webpack_require__(10),ctx=__webpack_require__(12),classof=__webpack_require__(72),$export=__webpack_require__(9),isObject=__webpack_require__(73),anObject=__webpack_require__(74),aFunction=__webpack_require__(13),strictNew=__webpack_require__(75),forOf=__webpack_require__(76),setProto=__webpack_require__(81).set,same=__webpack_require__(82),SPECIES=__webpack_require__(61)("species"),speciesConstructor=__webpack_require__(83),asap=__webpack_require__(84),PROMISE="Promise",process=global.process,isNode="process"==classof(process),P=global[PROMISE],Wrapper,testResolve=function(sub){var test=new P(function(){});return sub&&(test.constructor=Object),P.resolve(test)===test},USE_NATIVE=function(){function P2(x){var self=new P(x);return setProto(self,P2.prototype),self}var works=!1;try{if(works=P&&P.resolve&&testResolve(),setProto(P2,P),P2.prototype=$.create(P.prototype,{constructor:{value:P2}}),P2.resolve(5).then(function(){})instanceof P2||(works=!1),works&&__webpack_require__(56)){var thenableThenGotten=!1;P.resolve($.setDesc({},"then",{get:function(){thenableThenGotten=!0}})),works=thenableThenGotten}}catch(e){works=!1}return works}(),sameConstructor=function(a,b){return LIBRARY&&a===P&&b===Wrapper?!0:same(a,b)},getConstructor=function(C){var S=anObject(C)[SPECIES];return void 0!=S?S:C},isThenable=function(it){var then;return isObject(it)&&"function"==typeof(then=it.then)?then:!1},PromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)},perform=function(exec){try{exec()}catch(e){return{error:e}}},notify=function(record,isReject){if(!record.n){record.n=!0;var chain=record.c;asap(function(){for(var value=record.v,ok=1==record.s,i=0,run=function(reaction){var handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,result,then;try{handler?(ok||(record.h=!0),result=handler===!0?value:handler(value),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){reject(e)}};chain.length>i;)run(chain[i++]);chain.length=0,record.n=!1,isReject&&setTimeout(function(){var promise=record.p,handler,console;isUnhandled(promise)&&(isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)),record.a=void 0},1)})}},isUnhandled=function(promise){var record=promise._d,chain=record.a||record.c,i=0,reaction;if(record.h)return!1;for(;chain.length>i;)if(reaction=chain[i++],reaction.fail||!isUnhandled(reaction.promise))return!1;return!0},$reject=function(value){var record=this;record.d||(record.d=!0,record=record.r||record,record.v=value,record.s=2,record.a=record.c.slice(),notify(record,!0))},$resolve=function(value){var record=this,then;if(!record.d){record.d=!0,record=record.r||record;try{if(record.p===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?asap(function(){var wrapper={r:record,d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(record.v=value,record.s=1,notify(record,!1))}catch(e){$reject.call({r:record,d:!1},e)}}};USE_NATIVE||(P=function Promise(executor){aFunction(executor);var record=this._d={p:strictNew(this,P,PROMISE),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{executor(ctx($resolve,record,1),ctx($reject,record,1))}catch(err){$reject.call(record,err)}},__webpack_require__(89)(P.prototype,{then:function then(onFulfilled,onRejected){var reaction=new PromiseCapability(speciesConstructor(this,P)),promise=reaction.promise,record=this._d;return reaction.ok="function"==typeof onFulfilled?onFulfilled:!0,reaction.fail="function"==typeof onRejected&&onRejected,record.c.push(reaction),record.a&&record.a.push(reaction),record.s&&notify(record,!1),promise},"catch":function(onRejected){return this.then(void 0,onRejected)}})),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:P}),__webpack_require__(60)(P,PROMISE),__webpack_require__(90)(PROMISE),Wrapper=__webpack_require__(11)[PROMISE],$export($export.S+$export.F*!USE_NATIVE,PROMISE,{reject:function reject(r){var capability=new PromiseCapability(this),$$reject=capability.reject;return $$reject(r),capability.promise}}),$export($export.S+$export.F*(!USE_NATIVE||testResolve(!0)),PROMISE,{resolve:function resolve(x){if(x instanceof P&&sameConstructor(x.constructor,this))return x;var capability=new PromiseCapability(this),$$resolve=capability.resolve;return $$resolve(x),capability.promise}}),$export($export.S+$export.F*!(USE_NATIVE&&__webpack_require__(91)(function(iter){P.all(iter)["catch"](function(){})})),PROMISE,{all:function all(iterable){var C=getConstructor(this),capability=new PromiseCapability(C),resolve=capability.resolve,reject=capability.reject,values=[],abrupt=perform(function(){forOf(iterable,!1,values.push,values);var remaining=values.length,results=Array(remaining);remaining?$.each.call(values,function(promise,index){var alreadyCalled=!1;C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,results[index]=value,--remaining||resolve(results))},reject)}):resolve(results)});return abrupt&&reject(abrupt.error),capability.promise},race:function race(iterable){var C=getConstructor(this),capability=new PromiseCapability(C),reject=capability.reject,abrupt=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return abrupt&&reject(abrupt.error),capability.promise}})},function(module,exports,__webpack_require__){var cof=__webpack_require__(70),TAG=__webpack_require__(61)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}());module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=(O=Object(it))[TAG])?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(73);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports){module.exports=function(it,Constructor,name){if(!(it instanceof Constructor))throw TypeError(name+": use the 'new' operator!");return it}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(12),call=__webpack_require__(77),isArrayIter=__webpack_require__(78),anObject=__webpack_require__(74),toLength=__webpack_require__(79),getIterFn=__webpack_require__(80);module.exports=function(iterable,entries,fn,that){var iterFn=getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0,length,step,iterator;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn))for(length=toLength(iterable.length);length>index;index++)entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]);else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)call(iterator,f,step.value,entries)}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(74);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator["return"];throw void 0!==ret&&anObject(ret.call(iterator)),e}}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(58),ITERATOR=__webpack_require__(61)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(50),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){var classof=__webpack_require__(72),ITERATOR=__webpack_require__(61)("iterator"),Iterators=__webpack_require__(58);module.exports=__webpack_require__(11).getIteratorMethod=function(it){return void 0!=it?it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]:void 0}},function(module,exports,__webpack_require__){var getDesc=__webpack_require__(8).getDesc,isObject=__webpack_require__(73),anObject=__webpack_require__(74),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{set=__webpack_require__(12)(Function.call,getDesc(Object.prototype,"__proto__").set,2),set(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function setPrototypeOf(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},function(module,exports){module.exports=Object.is||function is(x,y){return x===y?0!==x||1/x===1/y:x!=x&&y!=y}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(74),aFunction=__webpack_require__(13),SPECIES=__webpack_require__(61)("species");module.exports=function(O,D){var C=anObject(O).constructor,S;return void 0===C||void 0==(S=anObject(C)[SPECIES])?D:aFunction(S)}},function(module,exports,__webpack_require__){var global=__webpack_require__(10),macrotask=__webpack_require__(85).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==__webpack_require__(70)(process),head,last,notify,flush=function(){var parent,domain,fn;for(isNode&&(parent=process.domain)&&(process.domain=null,parent.exit());head;)domain=head.domain,fn=head.fn,domain&&domain.enter(),fn(),domain&&domain.exit(),head=head.next;last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(Observer){var toggle=1,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=-toggle}}else notify=Promise&&Promise.resolve?function(){Promise.resolve().then(flush)}:function(){macrotask.call(global,flush)};module.exports=function asap(fn){var task={fn:fn,next:void 0,domain:isNode&&process.domain};last&&(last.next=task),head||(head=task,notify()),last=task}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(12),invoke=__webpack_require__(86),html=__webpack_require__(87),cel=__webpack_require__(88),global=__webpack_require__(10),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port,run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listner=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function setImmediate(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function clearImmediate(id){delete queue[id]},"process"==__webpack_require__(70)(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listner,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listner,!1)):defer=ONREADYSTATECHANGE in cel("script")?function(id){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},function(module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(10).document&&document.documentElement},function(module,exports,__webpack_require__){var isObject=__webpack_require__(73),document=__webpack_require__(10).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var redefine=__webpack_require__(53);module.exports=function(target,src){for(var key in src)redefine(target,key,src[key]);return target}},function(module,exports,__webpack_require__){"use strict";var core=__webpack_require__(11),$=__webpack_require__(8),DESCRIPTORS=__webpack_require__(56),SPECIES=__webpack_require__(61)("species");module.exports=function(KEY){var C=core[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&$.setDesc(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(61)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){safe=!0},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},function(module,exports,__webpack_require__){"use strict";function Bindings(_from,_to){var method;for(method in _from)"function"==typeof _from[method]&&(this[method]=_from[method].bind(_to))}function toArray(_itterable){return[].map.call(_itterable,function(m){return m})}function type(){function createApi(_constructor){var args,api;return args=(Function.prototype.toString.call(_constructor).match(/\(((?:\s*[^\(\)\.\s,]+\s*,?)+)\)/)||["",""])[1].split(/\s*,\s*/),api={proto:function proto(_obj,_name,_args){var proto,method;if(proto=Object.getPrototypeOf(this||_obj),method=proto[_name],"function"!=typeof _obj[_name])throw new TypeError("Member "+_name+" is not a function.");if(!method)return new Bindings(proto,_obj);if(proto.hasOwnProperty(_name)&&_obj[_name]!==proto[_name])return _args?method.apply(_obj,_args):method.bind(_obj);for(;proto;){if(proto.hasOwnProperty(_name)&&_obj[_name]!==proto[_name])return _args?method.apply(_obj,_args):method.bind(_obj);proto=Object.getPrototypeOf(proto)}},base:function base(_obj,_name,_args){var proto,method;if(proto=_constructor.prototype,method=proto[_name],"function"!=typeof method)throw new TypeError("Member "+_name+" is not a function.");return method?_args?method.apply(_obj,_args):method.bind(_obj):new Bindings(proto,_obj)},sup:function sup(_obj,_name,_args){return api.proto.apply(_constructor.prototype,arguments)},constant:function constant(_obj,_name,_value){return _Object$defineProperty(_obj,_name,{value:_value,configureable:!1,writeable:!1}),api},"static":function _static(_name_def,_value){var member,_name,_def;if(_value?_name=_name_def:_def=_name_def,_def)for(member in _def)_def.hasOwnProperty(member)&&(_constructor[member]=_def[member]);return _name&&(_constructor[_name]=_value),api},$:function $(){var args=toArray(arguments);return args.forEach(function(_member){var memberType,props,key;switch(memberType=typeof _member){case"string":props=_member.split(/\s*,\s*/),props&&props.forEach(function(_def){var prop,val;prop=_def.split(/\s*[:=]\s*/);try{val=JSON.parse(prop[1])}catch(e){}_constructor.prototype[prop[0]]="undefined"!=typeof prop[1]?val||prop[1]:null});break;case"object":for(key in _member)_member.hasOwnProperty(key)&&(_constructor.prototype[key]=_member[key]);break;case"function":if(!_member.name)throw TypeError("Member must be a named function.");_constructor.prototype[_member.name]=_member}}),api}},args.map(function(_call){return api[_call]||module[_call]})}var defs,module;return defs=toArray(arguments),module=this?this:{},defs.forEach(function(_constructor){var api;if("object"==typeof _constructor){var Super,keys=_Object$keys(_constructor);if(1===keys.length&&module[keys[0]])return Super=module[keys[0]],Super.extend.call(module,_constructor[keys[0]])}api=createApi(_constructor),_constructor.create=function(){var instance=_Object$create(_constructor.prototype);return"function"==typeof instance.alloc&&instance.alloc.apply(instance,arguments),instance},_constructor.extend=function(_definition){return _definition.prototype=_Object$create(_constructor.prototype,{constructor:{value:_definition,enumerable:!1,writeable:!1,configureable:!1}}),type.call(this===_constructor?null:this,_definition)},_constructor.apply(_constructor.prototype,api),module[_constructor.name]=_constructor}),defs.length>1?module:defs[0]}var _Object$defineProperty=__webpack_require__(93)["default"],_Object$keys=__webpack_require__(35)["default"],_Object$create=__webpack_require__(20)["default"];exports.__esModule=!0,exports["default"]=type,module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(94),__esModule:!0}},function(module,exports,__webpack_require__){var $=__webpack_require__(8);module.exports=function defineProperty(it,key,desc){return $.setDesc(it,key,desc)}},function(module,exports,__webpack_require__){function invokeResponsibilities(_scope,_event){_scope&&_scope.responsibilities&&_scope.isMemberSafe("responsibilities")&&_scope.responsibilities.forEach(function(_record){_record.name===_event.name&&_record.ability.call(_scope,_event)})}var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _util=__webpack_require__(18),_util2=_interopRequireDefault(_util),_typesGlobalScope=__webpack_require__(32),_typesGlobalScope2=_interopRequireDefault(_typesGlobalScope),_typesCollection=__webpack_require__(31),_typesCollection2=_interopRequireDefault(_typesCollection),_typesDimensions=__webpack_require__(14),_typesQueue=__webpack_require__(42),_typesQueue2=_interopRequireDefault(_typesQueue),Entity=_typesGlobalScope2["default"].extend(function(){function resolveTarget(_target){switch(typeof _target){case"string":return this.findOwn(_target);case"object":if(_target.jquery)return _target;if(Entity.isPrototypeOf(_target))return _target;if(_target.nodeType===document.ELEMENT_NODE)return $(_target)}return this}function ResponsibilityRecord(_name,_ability){this.name=_name,this.ability=_ability}function dragGreeter(_event){switch(_event.type){case"drag-start":this.grab(_event.state);break;case"drag-move":this.dragging(_event.state);break;case"drag-end":this.release(_event.state)}}function attachDragEvents(){this.draggables&&this.isMemberSafe("draggables")&&this.draggables.length&&this.on("drag-start drag-move drag-end",dragGreeter)}this.baseType="TYPE_ENTITY",this.STATE={PLAYING:"PLAYING",BACKGROUND:"BACKGROUND",VOICE_OVER:"VOICE-OVER",SFX:"SFX"},this.timeoutID=null,this.intervalID=null,this.responsibilities=null,this.isComplete=!1,this.shouldInheritAbilities=!0,this.frameHandlers=null,this.frameRate=60,this.draggables=null,this.requiredQueue=null,this.bgImageCollection=null,this.handleProperty({size:function size(_node,_name,_value){var size;this.is(_node)&&(size=_value.split(/\s*[x,]\s*/),this.css({width:size[0],height:size[1]||size[0]}))},position:function position(_node,_name,_value){var size;this.is(_node)&&(size=_value.split(/\s*[x,]\s*/),this.css({top:size[1]||size[0],left:size[0]}))},draggable:function draggable(_node,_name,_value){this.hasOwnProperty("draggables")||(this.draggables=$()),this.draggables.push(_node)},bg:function bg(_node,_name,_value){var img=new Image;this.hasOwnProperty("bgImageCollection")||(this.bgImageCollection=[]),this.isMemberSafe("bgImageCollection")&&(img.src=_value,this.bgImageCollection.push(img),$(_node).css("background-image","url("+_value+")"))}}),this.not_init=function not_init(_event){return this.bgImageCollection&&this.isMemberSafe("bgImageCollection")&&this.watchAssets(this.bgImageCollection),attachDragEvents.call(this),this.proto(this.not_init)},this.size=function(){var size;return arguments.length?(size=_typesDimensions.Size.create(arguments),this.css(size),size):_typesDimensions.Size.create().set(this.width(),this.height())},this.propagateBehavior=function(_event){var ids;return ids=[],this.findOwn(".pl-scope").each(function(_index,_node){var $node=$(_node);ids.push($node.id()||$node.address())}),this.hasOwnProperty("entities")&&this.entities.length&&this.entities.forEach(function(_scope){invokeResponsibilities(_scope,_event),_scope.propagateBehavior(_event)}),this},this.require=function(_entity){return this.hasOwnProperty("requiredQueue")||(this.requiredQueue=_typesQueue2["default"].create(),this.requiredQueue.on("complete",this.bind(function(){this.log("entity complete"),this.complete()})),this.respond("complete",function(_event){this.has(_event.target)&&_event.targetScope!==this&&this.requiredQueue.ready(_event.behaviorTarget)})),this.requiredQueue.add(_entity),this.gate(),this},this.behavior=function(_name,_behavior){return _behavior.method=this[_name]=function(){var behaviorEvent,result;return behaviorEvent={name:_name,message:"",targetScope:this,behaviorTarget:this},result=_behavior.apply(this,arguments),"object"==typeof result&&(behaviorEvent=_util2["default"].mixin(behaviorEvent,result)),result!==!1&&this.trigger($.Event("behavior",behaviorEvent)),this},this},this.respond=function(){var name,ability,parentScope,abilities,protoAbilities;if(this.hasOwnProperty("responsibilities")||(abilities=_typesCollection2["default"].create(),protoAbilities=this.provideAblilityPototype(),this.shouldInheritAbilities&&protoAbilities&&protoAbilities.responsibilities&&abilities.push.apply(abilities,protoAbilities.responsibilities),this.responsibilities=abilities),1===arguments.length)switch(typeof arguments[0]){case"string":name=arguments[0];break;case"function":case"object":ability=arguments[0]}else name=arguments[0],ability=arguments[1];switch(typeof ability){case"object":for(name in ability)ability.hasOwnProperty(name)&&this.respond(name,ability[name]);break;case"function":this.responsibilities.add(new ResponsibilityRecord(name,ability))}return this},this.delay=function(_time,_cb){var time=_util2["default"].toMillisec(_time);return _util2["default"].assignRef(this,"timeoutID",setTimeout(_cb.bind(this),time)),this},this.repeat=function(_time,_cb){var time=_util2["default"].toMillisec(_time);return _util2["default"].assignRef(this,"intervalID",setInterval(_cb.bind(this),time)),this},this.kill=function(_timer){var id="repeat"===_timer?this.intervalID:this.timeoutID;return"number"==typeof id?(("repeat"===_timer?clearInterval:clearTimeout)(id),this["repeat"===_timer?"intervalID":"timeoutID"]=null):id&&(id.forEach(function(_id){("repeat"===_timer?clearInterval:clearTimeout)(_id)}),"repeat"===_timer?this.intervalID=null:this.timeoutID=null),this},this.eachFrame=function(_handler,_on){var binder,frame,lastTime,rate,frames;return rate=this.frameRate||1e3,frames=0,lastTime=0,this.hasOwnProperty("frameHandlers")&&0!==this.frameHandlers.length||(frame=function(_time){var i,handler;if(rate&&_time-lastTime>=1e3/rate){for(i=0;handler=this.frameHandlers[i];i+=1)handler.call(this,_time,Math.round(1e3/(_time-lastTime)),rate);frames===rate&&(frames=0),frames+=1,lastTime=_time}this.frameHandlers.length&&window.requestAnimationFrame(binder)},binder=this.bind(frame),frame.method=this.eachFrame,this.frameHandlers=_typesCollection2["default"].create(),window.requestAnimationFrame(binder)),_on!==!1?this.frameHandlers.add(_handler):this.frameHandlers.remove(_handler),this},this.state=function state(_flag,_definition,_imp){var flag,tester,setter,getter,STATE,def,opperations,names;return _definition?(def=_definition.split(/\s+/),names=_flag.split(/\s+/),opperations=[],def.forEach(this.bind(function(_opp){var method,flag;method="+"===_opp.slice(0,1)?"addClass":"removeClass",opperations.push({method:method,flag:_opp.slice(1)}),"addClass"===method&&(flag=_opp.slice(1),STATE=_util2["default"].transformId(flag),this.STATE[STATE]=flag)})),setter=names[0],tester=names[1],this[setter]=function(_target){var target,uiStateEvent,oppsPerformed;return target=resolveTarget.call(this,_target),uiStateEvent=$.Event("ui-"+setter,{target:target.jquery?target[0]:target,targetScope:this}),oppsPerformed=0,_imp&&_imp.shouldSet&&_imp.shouldSet.apply(this,arguments)===!1?!(!_imp||!_imp.notSet)&&_imp.notSet.apply(this,arguments):(_imp&&_imp.willSet&&_imp.willSet.apply(this,arguments),opperations.forEach(function(_record){oppsPerformed+=Number(target.hasClass(_record.flag)===!~_record.method.indexOf("add")),target[_record.method](_record.flag)}),_imp&&_imp.didSet&&_imp.didSet.apply(this,arguments),oppsPerformed?(this.trigger(uiStateEvent),target):!1)},tester&&(getter="get"+tester.slice(0,1).toUpperCase()+tester.slice(1),this[tester]=function(_target){var target;return target=resolveTarget.call(this,_target),target.hasClass(this.STATE[STATE])},this[getter]=function(){return this.findOwn("."+this.STATE[STATE])}),this):this.proto(this.state,_flag)},this.provideBehaviorEventScope=function(){return this},this.provideAblilityPototype=function(){var owner;return owner=_util2["default"].getOwner(this,this.baseType),!!owner&&owner.object},this.completed=function(){return this.game.demoMode||this.hasOwnProperty("isComplete")&&this.isComplete||!this.requiredQueue||this.hasOwnProperty("requiredQueue")&&0===this.requiredQueue.length},this.behavior("complete",function(){return this.hasOwnProperty("isComplete")&&this.isComplete?!1:(this.isComplete=!0,this.addClass("COMPLETE"),{behaviorTarget:this})}),this.behavior("grab",function(_state){return{state:_state,behaviorTarget:_state.$draggable}}),this.behavior("dragging",function(_state){return{state:_state,behaviorTarget:_state.$draggable}}),this.behavior("release",function(_state){return{state:_state,behaviorTarget:_state.$draggable}}),this.state("open opened","+OPEN -LEAVE"),this.state("close","-OPEN"),this.state("leave left","+LEAVE",{willSet:function willSet(_target){this.close(_target)}}),this.state("enable enabled","+ENABLED -DISABLED"),this.state("disable disabled","+DISABLED -ENABLED"),this.state("select selected","+SELECTED",{willSet:function willSet(_target){var target,$parent;target=resolveTarget.call(this,_target),$parent=target.parent(),$parent.find("> .SELECTED").each(this.bind(function(_index,_node){this.deselect(_node)})),$parent.find("> .HIGHLIGHTED").each(this.bind(function(_index,_node){this.unhighlight(_node)}))}}),this.state("deselect","-SELECTED"),this.state("highlight highlighted","+HIGHLIGHTED"),this.state("unhighlight","-HIGHLIGHTED"),this.state("draggable dragEnabled","+DRAGGABLE",{didSet:function didSet(_target){this.translate(resolveTarget.call(this,_target))}}),this.state("undraggable","-DRAGGABLE"),this.state("translate translated","+TRANSLATED",{willSet:function willSet(_target_point,_point){var point,target;target=resolveTarget.call(this,_target_point),point=~[_target_point.x,_target_point.y].indexOf(void 0)?_point:_target_point,point&&target.css("transform","translateX("+point.x+"px) translateY("+point.y+"px)")}}),this.state("untranslate","-TRANSLATED",{willSet:function willSet(){this.css("transform","none")}}),this.state("gate gated","+GATED")});exports["default"]={Entity:Entity,invokeResponsibilities:invokeResponsibilities},module.exports=exports["default"]},function(module,exports,__webpack_require__){exports.__esModule=!0;var _typesEntity=__webpack_require__(95),Screen=_typesEntity.Entity.extend(function(){function attachBehaviorEvent(){this.on("behavior",function(_event){this!==_event.targetScope&&_typesEntity.invokeResponsibilities(this,_event),this.propagateBehavior(_event)})}this.baseType="TYPE_SCREEN",this.game=null,this.screen=null,this.__init=function __init(){this.proto(this.__init),this.is(pl.game.config("screenSelector"))&&attachBehaviorEvent.call(this)},this.start=function(){return this.startAudio(),this},this.stop=function(){return this.stopAudio(),this},this.startAudio=function(){this.audio&&(this.audio.background.play(),this.audio.voiceOver.play())},this.stopAudio=function(){this.audio&&this.audio.voiceOver.stop("@ALL")},this.index=function(){return this===this.screen?this.game.screens.indexOf(this):this.$els.index()},this.next=function(){return this.completed()?this.game.screens[this.screen.index()+1]:!1},this.prev=function(){return this.game.screens[this.screen.index()-1]},this.quit=function(){this.game.quit.open()},this.nextSib=function(){return $.fn.next.apply(this.$els,arguments)},this.prevSib=function(){return $.fn.prev.apply(this.$els,arguments)},this.isLast=function(){return this.game.screens.indexOf(this.screen)===this.game.screens.length-1}});exports["default"]=Screen,module.exports=exports["default"]},function(module,exports,__webpack_require__){var _Object$defineProperties=__webpack_require__(15)["default"],_interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _util=__webpack_require__(18),_util2=_interopRequireDefault(_util),_playGame=__webpack_require__(26),_playGame2=_interopRequireDefault(_playGame),_typesGlobalScope=__webpack_require__(32),_typesGlobalScope2=_interopRequireDefault(_typesGlobalScope),_typesScreen=__webpack_require__(96),_typesScreen2=_interopRequireDefault(_typesScreen),_typesCollection=__webpack_require__(31),_typesCollection2=_interopRequireDefault(_typesCollection),_typesScope=__webpack_require__(33),_typesDimensions=__webpack_require__(14),_typesAudioManager=__webpack_require__(44),Game=_typesGlobalScope2["default"].extend(function(){function scaleGame(){var vpSize,gameDimensions,width,height,zoom;vpSize=this.viewport.size(),gameDimensions=_playGame2["default"].config("dimensions"),width=gameDimensions.width||this.width(),height=Math.round(gameDimensions.width/gameDimensions.ratio),zoom=this.viewport.width/width,Math.round(height*zoom)>this.viewport.height&&(zoom=(this.viewport.height/height).toPrecision(4)),_util2["default"].mixin(this.node().style,{width:width+"px",zoom:zoom}),this.css("zoom")||this.css({transform:"scale("+zoom+")",transformOrigin:(1>zoom?"0px":"50%")+" 0px 0px",height:this.viewport.height/zoom
}),this.zoom=zoom}function demoMode(_set){this.demoMode=null!=_set?_set:!this.demoMode,this[this.demoMode?"addClass":"removeClass"]("DEMO"),console.info(this.id(),"is now "+(this.demoMode?"in":"out of")+" Demo Mode.")}function collectVideos(){this.find("video").each(function(_index,_node){this.media.video.add(_node),_node.onplay=function(){var playing=this.media.playing(".background, .voiceOver");playing&&playing.stop("@ALL"),this.log("video play",playing)}.bind(this)}.bind(this))}var Viewport,screenPrototype,platformEventHandler;screenPrototype=_typesScreen2["default"],platformEventHandler=new function(){this.invoke=function(_event,_ctx){"function"==typeof this[_event.name]&&this[_event.name].call(_ctx,_event)},this["toggle-demo-mode"]=function(_set){demoMode.call(this)}},this.baseType="TYPE_GAME",this.screens=null,this.zoom=1,this.keyCommands=null,this.demoMode=!1,this.media=null,this.viewport=new function(){var vp,$html,RESIZE_HANDLERS;vp=this,$html=$("html"),RESIZE_HANDLERS=[],$(window).on("resize",function(_event){$html.hasClass(vp.orientation)||$html.removeClass("squareish landscape protrait").addClass(vp.orientation),RESIZE_HANDLERS.forEach(function(_handler){_handler(_event)})}),this.LANDSCAPE="landscape",this.PROTRAIT="protrait",this.SQUAREISH="squareish",this.size=function(){return _typesDimensions.Size.create().set(window.innerWidth,window.innerHeight)},_Object$defineProperties(this,{width:{get:function get(){return window.innerWidth},configurable:!1},height:{get:function get(){return window.innerHeight},configurable:!1},orientation:{get:function get(){var ratio=this.size().ratio();switch(!0){case ratio>.9&&1.1>ratio:return"squareish";case ratio>1.1:return"landscape";case.9>ratio:return"protrait"}}}}),this.onResize=function(_handler){RESIZE_HANDLERS.push(_handler)},this.offResize=function(_handler){var index=RESIZE_HANDLERS.indexOf(_handler);~index&&RESIZE_HANDLERS.splice(index,1)},$html.addClass(this.orientation)},this.willInit=function(){return this.addClass("pl-game"),scaleGame.call(this),this.watchAudio(),this.captureScreens(),this.viewport.onResize(this.bind(scaleGame)),pl.game.on("platform-event",this.bind(function(_event){platformEventHandler.invoke(_event,this)})),this},this.onKeys=function(_commands,_handler){var sequence,chords,modifiers,map;return this.keyCommands||(this.keyCommands={},map={13:"enter",16:"shift",17:"ctrl",18:"alt",27:"esc",37:"left",38:"up",39:"right",40:"down",91:"meta",enter:13,shift:16,ctrl:17,alt:18,esc:27,left:37,up:38,right:39,down:40,meta:91},modifiers=[16,17,18,91],sequence=[],chords=[],this.on("keydown",function(_event){var modifier,key,eventMods,currentMods,command,handler;modifier=!!~modifiers.indexOf(_event.keyCode)&&map[_event.keyCode],key=modifier?modifier:map[_event.keyCode]||String.fromCharCode(_event.keyCode),eventMods=[_event.shiftKey,_event.ctrlKey,_event.altKey,_event.metaKey],currentMods=[],eventMods.forEach(function(_modifierDown,_index){_modifierDown&&currentMods.push(map[modifiers[_index]])}),~chords.indexOf(key)||~sequence.indexOf(key)||(command=chords.length?(chords.push(key),chords.join(",")):(sequence.push(key),sequence.join("+")),handler=this.keyCommands[command],handler&&(handler.call(this,_event,command),sequence=currentMods.map(function(_key,_index){var key=sequence[_index];return currentMods[currentMods.indexOf(key)]}),chords=[],_event.preventDefault()))}),this.on("keyup",function(_event){var key,index,modifier,eventMods,currentMods;key=modifier?modifier:map[_event.keyCode]||String.fromCharCode(_event.keyCode),index=sequence.indexOf(key),modifier=!!~modifiers.indexOf(_event.keyCode)&&map[_event.keyCode],eventMods=[_event.shiftKey,_event.ctrlKey,_event.altKey,_event.metaKey],currentMods=[],eventMods.forEach(function(_modifierDown,_index){_modifierDown&&currentMods.push(map[modifiers[_index]])}),key===modifier?(sequence=currentMods.map(function(_key,_index){var key=sequence[_index];return currentMods[currentMods.indexOf(key)]}),chords=[]):(sequence.length>1&&~modifiers.indexOf(map[sequence[0]])&&chords.push(sequence.join("+")),~index&&sequence.splice(index,1),sequence.length||(chords=[]))})),this.keyCommands[_commands]=_handler,this},this.screen=function(_id,_implementation){var prototype,selector,screenSelector,instance;return 1===arguments.length&&"function"==typeof _id?(screenPrototype=_typesScreen2["default"].extend(_id),this):(this.hasOwnProperty("screens")||(this.screens=_typesCollection2["default"].create()),this.hasOwnProperty("$els")?(screenSelector=pl.game.config("screenSelector"),prototype=screenPrototype.isPrototypeOf(this)?this:screenPrototype,selector="number"==typeof _id?screenSelector+":nth-child("+(_id+1)+")":"#"+_id,instance=prototype.extend(_implementation).initialize(this.find(selector)),instance.screen=instance,instance.game||(instance.game=instance.closest(".pl-game").scope())):this.screens.push({index:"number"==typeof _id?_id:null,name:"string"==typeof _id?_id:null,implementation:_implementation}),this)},this.captureScreens=function(){var screenSelector,prototype,collection;return screenSelector=pl.game.config("screenSelector"),prototype=screenPrototype.isPrototypeOf(this)?this:screenPrototype,collection=[],this.findOwn(screenSelector).each(this.bind(function(_index,_node){var $node,screen,record,key,id,index,component;$node=$(_node),id=$node.id(),key=id?"name":(id=_index,"index"),record=this.screens&&this.screens.get(id,key),component=$node.attr("pl-component"),screen=_typesScope.createEntity.call(prototype,$node,record&&record.implementation),screen.screen=screen,screen.game=this,null==$node.attr("pl-skip")&&collection.push(screen),("name"===key||component)&&_util2["default"].assignRef(this,_util2["default"].transformId("name"===key&&id||component,!0),screen)})),collection.length&&(this.screens=collection),this},this.watchAudio=function(){this.media=_typesAudioManager.MediaManager.create(this.id()),this.media.rule(".background, .voiceOver","shouldPlay",function(_event){var playing=this.playing()||[];_event.response(!playing||!playing.length||!~playing.indexOf(_event.target)&&!playing.has(_event.target.fileName))}),this.media.rule(".voiceOver",function(_event){var audio,playing;switch(audio=_event.target,playing=audio&&this.playing(".audio:not(#"+audio.id()+")"),_event.type){case"play":playing&&(playing.filter(".voiceOver").stop("@ALL"),playing.filter(".background").volume(_playGame2["default"].config("bgVolume.drop")||.2));break;case"pause":case"stopped":case"ended":playing&&playing.filter(".background").volume(_playGame2["default"].config("bgVolume.max")||1)}}),this.media.rule(".background","play",function(_event){var playing=this.playing(".background:not(#"+_event.target.id()+")");playing&&playing.stop("@ALL")}),~pl.EVENT.ACTION.indexOf("touch")&&this.on(pl.EVENT.ACTION,function beginAudio(_event){var ctx,screen;ctx=_playGame2["default"].getAudioContext(),screen=this.currentScreen(),screen&&ctx&&"suspended"===ctx.state&&(_playGame2["default"].enableAudioContext(),this.log("awesome!"),screen.startAudio(),this.off(pl.EVENT.ACTION,beginAudio))}),collectVideos.call(this)},this.progress=function(){return{currentScreen:this.currentScreen().index()}},this.currentScreen=function(){return this.findOwn(pl.game.config("screenSelector")+".OPEN").not("#quit").scope()},this.flip=function(){console.log("THATS A FLIP!"),_playGame2["default"].report.flip(this)},this.exit=function(){console.log("GOODBYE!"),_playGame2["default"].report.exit(this)},this.onKeys("ctrl+D,M",function(){demoMode.call(this)}),this.onKeys("left",function(){var current;current=this.currentScreen(),current&&current.prev()}),this.onKeys("right",function(){var current;current=this.currentScreen(),current&&current.next()})});exports["default"]=Game,module.exports=exports["default"]},function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=!0;var _util=__webpack_require__(18),_util2=_interopRequireDefault(_util),platform=new function(){function createEvent(_name,_props){var eventObject;return eventObject=_util2["default"].mixin(new Event("game-event",{bubbles:!0,cancelable:!1}),{name:_name,respond:function respond(_data){var platformEvent;platformEvent=$.Event("platform-event",{name:_name,gameData:_data}),pl.game.trigger(platformEvent)}},_props)}this.EVENT_INIT="init",this.EVENT_SAVE="save",this.EVENT_EXIT="exit",this.EVENT_FLIPPED="flipped",this.emit=function(_name){window.frameElement&&window.frameElement.dispatchEvent(createEvent(_name))},this.saveGameState=function(_data){window.frameElement&&window.frameElement.dispatchEvent(createEvent(this.EVENT_SAVE,{gameData:_data}))},window.addEventListener("platform-event",function(_event){var platformEvent;platformEvent=$.Event("platform-event",{name:_event.name}),pl.game.trigger(platformEvent)})};exports["default"]=platform,module.exports=exports["default"]}])}]);
//# sourceMappingURL=ai.js.map