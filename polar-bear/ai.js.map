{"version":3,"sources":["webpack:///polar-bear/ai.js","webpack:///webpack/bootstrap 32273ef62d5f52f218ba","webpack:///./polar-bear/source/js/components/cannon/behavior.js","webpack:///./polar-bear/source/js/components/carousel/behavior.js","webpack:///./polar-bear/source/js/components/frame/behavior.js","webpack:///./polar-bear/source/js/components/multiple-choice/behavior.js","webpack:///./polar-bear/source/js/components/reveal/behavior.js","webpack:///./polar-bear/source/js/components/score/behavior.js","webpack:///./polar-bear/source/js/components/screen-basic/behavior.js","webpack:///./polar-bear/source/js/components/screen-quit/behavior.js","webpack:///./polar-bear/source/js/components/selectable-reveal/behavior.js","webpack:///./polar-bear/source/js/components/selectable/behavior.js","webpack:///./polar-bear/source/js/components/slides/behavior.js","webpack:///./polar-bear/source/js/components/title/behavior.js","webpack:///./polar-bear/source/js/config.game.js","webpack:///./polar-bear/source/js/index.js","webpack:////Users/adamwalzer/Sites/js-interactive-library/build/play.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","pl","game","component","this","entity","reloadRequest","isLaunchComplete","willInit","cannon","properties","ball","attr","on","assetQueue","ready","node","src","off","log","launched","playSFX","reload","state","didSet","shouldSet","behavior","launch","message","fire","_name","sfx","util","resolvePath","play","TYPE","SLIDE","CROSS_FADE","type","$images","nodes","shouldRandomize","isPlaying","find","has","every","bind","_type","hasClass","addClass","length","map","_index","_node","siblings","previousSibling","nextSibling","forEach","nodeType","document","TEXT_NODE","$","remove","toArray","_item","_event","target","nodeName","STATE","LEAVE","recycle","provideBehaviorTarget","current","respond","hit","_message","behaviorTarget","first","leave","open","next","start","delay","toMillisec","isReady","repeat","beginShow","stop","kill","filter","$current","reloadWithNode","removeClass","shift","push","append","$clone","random","clone","join","isMemberSafe","requiredQueue","voSound","audio","voiceOver","background","config","hasOwnProperty","entities","handleProperty","title","_value","is","defineRule","screen","index","backgroundImage","targetScope","isComplete","complete","validateAnswer","_scope","$selected","answers","$correct","correctCount","getSelected","correct","split","indexOf","String","inArray","_answer","playVO","vo","answer","VOICE_OVER","demoMode","event","$li","closest","select","opened","item","_id","value","template","counter","html","render","replace","board","up","_count","console","max","down","allowAction","nextScreen","buttonSound","quit","okay","trace","slides","isComponent","proto","prev","prevScreen","close","startAudio","isLast","init","exit","cancel","stateMethod","selectState","reveal","features","shouldSelect","_$target","HIGHLIGHTED","Queue","create","add","_target","$target","scope","i","n","nextSlide","completed","prevSlide","showTitle","image","screenSelector","componentDirectory","dimensions","width","ratio","shouldLoadComponentStyles","loader","stopAudio","isCorrect","_element","$el","jquery","SELECTOR","CORRECT","INCORRECT","buffer","bctx","countries","grayMap","iceland","russia","northPole","greenland","denmark","norway","canada","usa","sweden","finland","createElement","getContext","$countries","height","not","$node","transformId","isImageTarget","_image","_point","clearRect","drawImage","pixel","getImageData","x","y","fillStyle","fillRect","data","test","_cursor","offset","cursor","gameScale","absolutePosition","transformScale","dec","scale","zoom","math","_country","$country","carousel","willSet","score","highlight","eventCategory","ga","findOwn","_selector_scope","_selector_def","_definition","_selector","source","prop","$els","address","toLowerCase","appendTo","body","run","_play2","_interopRequireDefault","_play","window","addEventListener","__esModule","obj","default","_Array$forEach","_typesDimensions","_libMatrix","_libMatrix2","original","position","result","each","_set","undefined","tag","classes","_test","toUpperCase","match","size","arguments","Size","css","set","pos","Point","left","top","transform","t","matrix","is3d","setTransform","apply","toCSS","_matrix","concat","slice","parseFloat","transformPosition","point","translate","e","f","a","d","args","removeAttr","attributes","_attr","name","exec","_method","_args","fn","Array","$export","$ctx","$Array","statics","setStatics","keys","key","Function","S","$Object","Object","getProto","getPrototypeOf","isEnum","propertyIsEnumerable","getDesc","getOwnPropertyDescriptor","setDesc","defineProperty","setDescs","defineProperties","getKeys","getNames","getOwnPropertyNames","getSymbols","getOwnPropertySymbols","global","core","ctx","PROTOTYPE","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","own","out","C","param","Math","self","__g","version","__e","aFunction","that","b","it","TypeError","_Object$defineProperties","_typesBasicArray","_typesBasicArray2","Dimension","prototype","to","_Thing","isPrototypeOf","extend","originalMap","planeMap","_argumentsArray","instance","inc","_val","_plane2","_scale","_fun","parseInt","planeOf","isNaN","_handler","product","quotient","floor","remainder","get","Number","_width","_height","hypotenuse","sqrt","pow","applyTo","_object","ELEMENT_NODE","style","_x","_y","distance","rotate","_origin","_angle","rad","PI","sin","cos","T","D","_util","_util2","_typesBasic","_typesBasic2","BasicArray","baseType","mixin","member","objs","keyOf","_obj","_member","getOwner","object","_collection_rangeA","_rangeB","val","round","_camelCase","_match","RegExp","$1","isSet","_arg","_source","tokens","time","units","h","s","_token","unit","_collection","_path","path","testArray","assignRef","_ref","__refCollction__","enumerable","writeable","configureable","noop","resolveFileName","lastIndexOf","createId","_pattern","toString","Date","now","_Object$create","Basic","_implementation","error","method","owner","caller","sup","constructor","Matrix","context","me","_t","cm","flipX","flipY","reflectVector","v","applyToPoint","reset","angle","rotateFromVector","atan2","rotateDeg","scaleU","sx","sy","scaleX","scaleY","shear","shearX","shearY","skew","ax","ay","tan","skewX","skewY","tx","ty","translateX","translateY","a2","b2","c2","d2","e2","f2","a1","b1","c1","d1","e1","f1","divide","isInvertible","im","inverse","divideScalar","isIdentity","dt","interpolate","m2","interpolateAnim","decompose","rotation","useLU","acos","atan","pi","determ","r","determinant","applyToArray","points","l","mxPoints","applyToTypedArray","use64","Float64Array","Float32Array","applyToContext","_q","isValid","noContext","isEqual","q","toCSS3D","toJSON","JSON","stringify","abs","resolveEventType","resolution","_playGame2","feature","ACTION","ACTION_DOWN","ACTION_UP","ACTION_MOVE","ACTION_OUT","_playGame","_typesQueue","_typesQueue2","EVENT","isDOMReady","initialize","register","_eventName","READY_QUEUE","trigger","GAMES","implementation","_name_collection","_typesGlobalScope2","_typesGame2","_playGameComponent","_playGameComponent2","_playGameManager","_playGameManager2","_typesEvents","_typesEvents2","_typesGlobalScope","_typesEntity","_typesEntity2","_typesScreen","_typesScreen2","_typesGame","_platform","_platform2","CONFIG","audioContext","manager","gameData","loadAll","emit","EVENT_INIT","report","_gameScope","saveGameState","progress","EVENT_EXIT","flip","EVENT_FLIPPED","_key_mixin","provideEntityType","provideScreenType","_mixin","queue","splice","detect","touch","tester","warn","getAudioContext","AudioContext","webkitAudioContext","onfocus","resume","onblur","suspend","enableAudioContext","silence","createBufferSource","createBuffer","connect","destination","disconnect","COMPONENTS","record","load","_callback","getScript","$components","Events","createProxyFunction","$jq","methods","_playGameManagerDraggable","_playGameManagerDraggable2","draggable","boot","createHelperStyleSheet","attachEvents","E","disableTouchScroll","$draggable","mode","helperID","dragStartEvent","resolveEventPoint","createID","$helper","draggableStyleSheet","provideSource","createDraggableRule","Event","dragMoveEvent","dragEndEvent","documentElement","toElement","originalEvent","changedTouches","clientX","clientY","_$draggable","blacklist","rule","getComputedStyle","_rule","_typesCollection","_typesCollection2","COLLECTION_DRAGABLES","preventDefault","draggableManager","Collection","getRecord","_key","_shouldCollect","_record","_typesScope","GlobalScope","Scope","createEntity","_$node","componentRecord","Error","_typesJQProxy","_typesJQProxy2","_evalAction","_evalAction2","_typesAudioManager","attachActionHandler","actionables","action","getRecordBy","removeRecord","captureDropables","collection","pluckAndDrop","_dropables","_template","dropable","replaceWith","children","loadComponentAssets","status","totalRequests","transcludeMode","dropables","TRANSCLUDE_PLUCK","transclude","memory","TRANSCLUDE_APPEND","TRANSCLUDE_PREPEND","prepend","empty","TRANSCLUDE_REPLACE","captureProperties","initializeEntities","$nodes","query","selector","handleProperties","property","handler","propertyHandlers","getNamedItem","invokeLocal","willInitEvent","initEvent","watchAssets","captureAudioAssets","captureReferences","__init","readyEvent","media","addShadow","collections","__ready","Actionables","_action","_node_selector","_componentName","ReferenceError","_nodes","createHandler","watch","loadedEvent","onload","onerror","deQ","$audio","AudioManager","then","_audio","require","targetNode","audioEvent","targetSource","Entity","_child","child","_property","required","_Object$keys","jQProxy","response","registerHandler","resolveEventHandler","arg","eventRegistry","exclude","listen","_isCapure_handler","_isCapture","cb","ignore","removeEventListener","parent","elOwner","toObject","$keys","defined","fails","KEY","exp","evalAction","eval","MediaManager","EventTargetInterface","InspectorInterface","LegislatorInterface","StateInterface","alloc","video","AudioBufferRecord","_buffer","getAudioType","className","AUDIO_TYPES","loadArrayBuffer","xhr","fileName","XMLHttpRequest","_Promise","reject","resolve","onLoad","promise","resolveDecoding","rejectDecoding","decodeAudioData","collect","BUFFER_CACHE","statusText","onError","cache","responseType","send","PlayableInterface","AudioCollection","_error","$$","protoype","types","Audio","MediaCollection","_media","accessConfig","_augment","gain","createGain","getSource","loop","activeSource","createMediaElementSource","_typesType","_typesType2","jQuery","_class","playing","_filterSelector","_query","some","_e","addState","_state","removeState","proxyEvent","playSource","ceil","duration","setTimeout","delayID","shouldPlay","dest","theEvent","pause","stopEvent","currentTime","clearTimeout","volume","_level","Promise","$at","iterated","_i","O","done","toInteger","TO_STRING","charCodeAt","charAt","LIBRARY","redefine","hide","Iterators","$iterCreate","setToStringTag","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","NAME","Constructor","DEFAULT","IS_SET","FORCED","getMethod","kind","values","entries","TAG","DEF_VALUES","VALUES_BUG","$native","$default","IteratorPrototype","createDesc","bitmap","configurable","writable","descriptor","def","stat","store","uid","Symbol","SHARED","px","NodeList","HTMLCollection","addToUnscopables","step","toIObject","_k","Arguments","IObject","cof","classof","isObject","anObject","strictNew","forOf","setProto","same","SPECIES","speciesConstructor","asap","PROMISE","process","isNode","Wrapper","testResolve","sub","USE_NATIVE","P2","works","thenableThenGotten","sameConstructor","getConstructor","isThenable","PromiseCapability","$$resolve","$$reject","perform","notify","isReject","chain","ok","reaction","fail","isUnhandled","onunhandledrejection","reason","_d","$reject","$resolve","wrapper","executor","err","onFulfilled","onRejected","catch","capability","iter","all","iterable","abrupt","remaining","results","alreadyCalled","race","ARG","callee","isArrayIter","toLength","getIterFn","iterFn","iterator","ret","ArrayProto","min","getIteratorMethod","check","setPrototypeOf","buggy","__proto__","macrotask","Observer","MutationObserver","WebKitMutationObserver","head","last","flush","domain","enter","nextTick","toggle","createTextNode","observe","characterData","task","invoke","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","ONREADYSTATECHANGE","defer","channel","port","listner","port2","port1","onmessage","postMessage","importScripts","appendChild","removeChild","clear","un","DESCRIPTORS","SAFE_CLOSING","riter","from","skipClosing","safe","arr","Bindings","_from","_to","_itterable","createApi","_constructor","api","base","constant","_Object$defineProperty","static","_static","_name_def","_def","memberType","props","parse","_call","defs","Super","desc","invokeResponsibilities","responsibilities","ability","resolveTarget","ResponsibilityRecord","_ability","dragGreeter","grab","dragging","release","attachDragEvents","draggables","PLAYING","BACKGROUND","SFX","timeoutID","intervalID","shouldInheritAbilities","frameHandlers","frameRate","bgImageCollection","bg","img","Image","propagateBehavior","ids","_entity","gate","_behavior","behaviorEvent","parentScope","abilities","protoAbilities","provideAblilityPototype","_time","_cb","setInterval","_timer","clearInterval","eachFrame","_on","binder","frame","lastTime","rate","frames","requestAnimationFrame","_flag","_imp","flag","setter","getter","opperations","names","_opp","uiStateEvent","oppsPerformed","notSet","provideBehaviorEventScope","$parent","deselect","unhighlight","_target_point","Screen","attachBehaviorEvent","screens","nextSib","prevSib","Game","scaleGame","vpSize","gameDimensions","viewport","toPrecision","transformOrigin","info","collectVideos","onplay","Viewport","screenPrototype","platformEventHandler","_ctx","keyCommands","vp","$html","RESIZE_HANDLERS","orientation","LANDSCAPE","PROTRAIT","SQUAREISH","innerWidth","innerHeight","onResize","offResize","watchAudio","captureScreens","onKeys","_commands","sequence","chords","modifiers",13,16,17,18,27,37,38,39,40,91,"ctrl","alt","esc","right","meta","modifier","eventMods","currentMods","command","keyCode","fromCharCode","shiftKey","ctrlKey","altKey","metaKey","_modifierDown","beginAudio","currentScreen","platform","createEvent","_props","eventObject","bubbles","cancelable","_data","platformEvent","EVENT_SAVE","frameElement","dispatchEvent"],"mappings":"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","file":"polar-bear/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(14);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tpl.game.component('cannon', function () {\n\t\n\t\tthis.entity('ball', function () {\n\t\n\t\t\tthis.reloadRequest = false;\n\t\t\tthis.isLaunchComplete = false;\n\t\n\t\t\tthis.willInit = function () {\n\t\t\t\tif (this.cannon.properties.ball) {\n\t\t\t\t\tthis.attr('src', this.cannon.properties.ball);\n\t\t\t\t\t// I shouldn't have to do this\n\t\t\t\t\tthis.on('load', function () {\n\t\t\t\t\t\tthis.assetQueue.ready(this.node().src);\n\t\t\t\t\t\tthis.off('load');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.on('transitionend', function () {\n\t\t\t\tthis.log('transitionend');\n\t\n\t\t\t\tthis.isLaunchComplete = true;\n\t\n\t\t\t\tif (this.launched()) {\n\t\t\t\t\tthis.playSFX('hit');\n\t\n\t\t\t\t\tif (this.reloadRequest) {\n\t\t\t\t\t\tthis.reload();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.state('launch launched', '+LAUNCHED -RELOAD', {\n\t\t\t\tdidSet: function didSet() {\n\t\t\t\t\tthis.playSFX('fire');\n\t\t\t\t\tthis.isLaunchComplete = false;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.state('reload', '+RELOAD -LAUNCHED', {\n\t\t\t\tshouldSet: function shouldSet() {\n\t\t\t\t\tif (!this.isLaunchComplete) {\n\t\t\t\t\t\tthis.reloadRequest = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tdidSet: function didSet() {\n\t\t\t\t\tthis.reloadRequest = false;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\n\t\tthis.behavior('fire', function () {\n\t\t\tthis.ball.launch();\n\t\t\treturn {\n\t\t\t\tmessage: this.cannon.properties.fire\n\t\t\t};\n\t\t});\n\t\n\t\tthis.reload = function () {\n\t\t\tthis.ball.reload();\n\t\t};\n\t\n\t\tthis.playSFX = function (_name) {\n\t\t\tvar sfx;\n\t\n\t\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.' + _name);\n\t\n\t\t\tif (sfx) sfx.play();\n\t\n\t\t\treturn this;\n\t\t};\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('carousel', function () {\n\t\n\t\tthis.TYPE = (function () {\n\t\n\t\t\tthis.SLIDE = 'slide';\n\t\t\tthis.CROSS_FADE = 'cross-fade';\n\t\n\t\t\treturn this;\n\t\t}).call(['slide', 'cross-fade']);\n\t\n\t\tthis.type = null;\n\t\tthis.$images = null;\n\t\tthis.nodes = null;\n\t\tthis.shouldRandomize = false;\n\t\tthis.isPlaying = false;\n\t\n\t\tthis.ready = function () {\n\t\t\tthis.$images = this.find('img');\n\t\t\tthis.shouldRandomize = this.properties.has('randomize');\n\t\n\t\t\tif (this.TYPE.every(this.bind(function (_type) {\n\t\t\t\treturn !this.hasClass(_type);\n\t\t\t}))) {\n\t\t\t\tthis.addClass(this.TYPE.CROSS_FADE);\n\t\t\t}\n\t\n\t\t\tif (this.$images.length) {\n\t\t\t\tthis.nodes = this.$images.map(this.bind(function (_index, _node) {\n\t\t\t\t\tvar siblings;\n\t\n\t\t\t\t\tsiblings = [_node.previousSibling, _node.nextSibling];\n\t\n\t\t\t\t\tsiblings.forEach(function (_node) {\n\t\t\t\t\t\tif (_node.nodeType === document.TEXT_NODE) {\n\t\t\t\t\t\t\t$(_node).remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\treturn _node;\n\t\t\t\t})).toArray();\n\t\t\t}\n\t\n\t\t\tthis.TYPE.forEach(this.bind(function (_item) {\n\t\t\t\tif (this.hasClass(_item)) this.type = _item;\n\t\t\t}));\n\t\n\t\t\tthis.on('transitionend', function (_event) {\n\t\t\t\tif (_event.target.nodeName === 'IMG' && $(_event.target).state(this.STATE.LEAVE)) {\n\t\t\t\t\tthis.recycle();\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\n\t\tthis.provideBehaviorTarget = function () {\n\t\t\treturn this.current();\n\t\t};\n\t\n\t\tthis.respond('fire', function (_event) {\n\t\t\tthis.hit(_event.message);\n\t\t});\n\t\n\t\tthis.behavior('hit', function (_message) {\n\t\t\treturn {\n\t\t\t\tmessage: _message,\n\t\t\t\tbehaviorTarget: this.provideBehaviorTarget()\n\t\t\t};\n\t\t});\n\t\n\t\tthis.behavior('next', function () {\n\t\t\tvar current;\n\t\n\t\t\tcurrent = this.$images.first();\n\t\n\t\t\tthis.leave(current);\n\t\t\tthis.open(current.next());\n\t\t});\n\t\n\t\tthis.start = function () {\n\t\t\tvar delay;\n\t\n\t\t\tdelay = pl.util.toMillisec(this.properties.delay) || 1000;\n\t\n\t\t\tif (this.isReady && !this.isPlaying) {\n\t\t\t\tthis.isPlaying = true;\n\t\t\t\tthis.open(this.$images.first());\n\t\t\t\tthis.repeat(delay, this.next);\n\t\t\t} else {\n\t\t\t\tthis.on('ready', this.beginShow);\n\t\t\t}\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tthis.kill('repeat');\n\t\t\tthis.isPlaying = false;\n\t\t};\n\t\n\t\tthis.current = function () {\n\t\t\treturn this.$images.filter('.OPEN');\n\t\t};\n\t\n\t\tthis.recycle = function () {\n\t\t\tvar $current, reload;\n\t\n\t\t\t$current = this.$images.first();\n\t\t\treload = this.reloadWithNode(this.$images[0]);\n\t\n\t\t\t$current.removeClass(this.STATE.LEAVE);\n\t\t\t$current.remove();\n\t\n\t\t\t[].shift.call(this.$images);\n\t\n\t\t\tthis.$images.push(reload);\n\t\t\tthis.append(reload);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.reloadWithNode = function (_item) {\n\t\t\tvar $clone, state;\n\t\n\t\t\tif (this.shouldRandomize) {\n\t\t\t\t$clone = $(pl.util.random(this.nodes)).clone();\n\t\t\t\tstate = $clone.state();\n\t\n\t\t\t\tif (state) $clone.removeClass(state.join ? state.join(' ') : state);\n\t\n\t\t\t\treturn $clone[0];\n\t\t\t}\n\t\n\t\t\treturn _item;\n\t\t};\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tpl.game.component('frame', function () {\n\t\n\t\tthis.ready = function () {\n\t\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\t\tvar sfx;\n\t\n\t\t\t\t\tsfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t\t\t\t\tif (sfx) sfx.play();\n\t\t\t\t}));\n\t\t\t}\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tvar voSound;\n\t\n\t\t\tif (this.audio) {\n\t\t\t\tvoSound = this.audio.voiceOver[0];\n\t\n\t\t\t\tthis.audio.background.play();\n\t\t\t\tif (voSound && !voSound.config(\"dontautoplay\")) voSound.play();\n\t\t\t}\n\t\n\t\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.handleProperty({\n\t\t\ttitle: function title(_node, _name, _value) {\n\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\tthis.find('.frame').addClass('title');\n\t\t\t\t\tthis.game.defineRule('.experiment:nth-of-type(' + (this.screen.index() + 1) + ') .frame-component .frame.title::before', {\n\t\t\t\t\t\tbackgroundImage: 'url(' + _value + ')'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (this.isReady) {\n\t\t\t\tthis.start();\n\t\t\t}\n\t\n\t\t\tif (this === _event.targetScope) {\n\t\t\t\tif (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && this.requiredQueue && this.requiredQueue.length)) {\n\t\t\t\t\tthis.complete();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t\tfunction validateAnswer(_scope) {\n\t\t\tvar $selected, answers, $correct, correctCount;\n\t\n\t\t\t$selected = _scope.getSelected();\n\t\n\t\t\tif (_scope.properties.correct) {\n\t\t\t\tanswers = _scope.properties.correct.split(/\\s*,\\s*/);\n\t\n\t\t\t\tif (~answers.indexOf(String($selected.index()))) {\n\t\t\t\t\t_scope.playSFX('correct');\n\t\t\t\t\t_scope.complete();\n\t\t\t\t} else {\n\t\t\t\t\t_scope.playSFX('incorrect');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcorrectCount = 0;\n\t\t\t\t$correct = _scope.find('[pl-correct]');\n\t\n\t\t\t\tif (~$.inArray($selected[0], $correct)) {\n\t\t\t\t\t_scope.playSFX('correct');\n\t\t\t\t\t_scope.complete();\n\t\t\t\t} else {\n\t\t\t\t\t_scope.playSFX('incorrect');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t}\n\t\n\t\tthis.playSFX = function (_answer) {\n\t\t\tvar sfx;\n\t\n\t\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.' + _answer);\n\t\n\t\t\tif (sfx) sfx.play();\n\t\n\t\t\treturn sfx;\n\t\t};\n\t\n\t\tthis.playVO = function (_name) {\n\t\t\tvar vo;\n\t\n\t\t\tvo = pl.util.resolvePath(this, 'audio.voiceOver.' + _name);\n\t\n\t\t\tif (vo) vo.play();\n\t\n\t\t\treturn vo;\n\t\t};\n\t\n\t\tthis.answer = function () {\n\t\t\tif (this.screen.state(this.screen.STATE.VOICE_OVER) && !this.game.demoMode) return;\n\t\n\t\t\tif (this.event) {\n\t\t\t\t$li = $(this.event.target).closest('li');\n\t\t\t\tthis.playVO($li.id());\n\t\n\t\t\t\tif (!this.isComplete && this.select($li)) {\n\t\t\t\t\tvalidateAnswer(this);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tthis.start = function () {};\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (!this.opened()) {\n\t\t\t\tthis.addClass('ANIM-DONE');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.item = function (_id) {\n\t\t\tvar vo, index;\n\t\n\t\t\tthis.removeClass('ANIM-DONE');\n\t\t\tthis.open();\n\t\n\t\t\tif (typeof _id === 'number') {\n\t\t\t\tthis.select('li:nth-child(' + _id + ')');\n\t\t\t\tthis.audio.voiceOver[_id].play();\n\t\t\t} else if (typeof _id === 'string') {\n\t\t\t\tif (this[_id]) {\n\t\t\t\t\tthis.select(this[_id]);\n\t\n\t\t\t\t\tif (this.audio) {\n\t\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t\t\t\t\t\tif (vo) vo.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('score', function () {\n\t\n\t\tthis.value = 0;\n\t\n\t\tthis.entity('board', function () {\n\t\n\t\t\tthis.template = null;\n\t\n\t\t\tthis.ready = function () {\n\t\t\t\tthis.template = this.counter.html();\n\t\t\t};\n\t\n\t\t\tthis.render = function () {\n\t\t\t\tthis.counter.html(this.template.replace('{{score}}', this.value));\n\t\t\t\treturn this;\n\t\t\t};\n\t\t});\n\t\n\t\tthis.ready = function () {\n\t\t\tthis.attr('value', this.value);\n\t\t\tthis.board.render();\n\t\t};\n\t\n\t\tthis.up = function (_count) {\n\t\t\tthis.value += _count || 1;\n\t\n\t\t\tthis.attr('value', this.value);\n\t\t\tthis.board.render();\n\t\n\t\t\tconsole.log('score', this.value, this.properties.max);\n\t\n\t\t\tif (this.value >= this.properties.max) {\n\t\t\t\tconsole.log('oh word');\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.down = function (_count) {\n\t\t\tthis.value -= _count || 1;\n\t\n\t\t\tthis.attr('value', this.value);\n\t\t\tthis.board.render();\n\t\n\t\t\tif (this.value >= this.properties.max) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\n\t\tthis.allowAction = function () {\n\t\t\treturn !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t\t};\n\t\n\t\tthis.ready = function () {\n\t\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\t\tvar sfx;\n\t\n\t\t\t\t\tsfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t\t\t\t\tif (sfx) sfx.play();\n\t\t\t\t}));\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar current, nextScreen, buttonSound;\n\t\n\t\t\tif (this.hasClass('last') && this.hasClass('COMPLETE')) this.game.quit.okay();\n\t\n\t\t\tif (this !== this.screen) {\n\t\t\t\tthis.log('Not called on a screen');\n\t\t\t\tconsole.trace();\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\t// delegate to a child \"slides\" component.\n\t\t\tif (this.slides && this.slides.isComponent) {\n\t\t\t\tcurrent = this.slides.current();\n\t\t\t\tnextScreen = current.next();\n\t\n\t\t\t\tif (nextScreen == null) {\n\t\t\t\t\tcurrent = this;\n\t\t\t\t\tnextScreen = this.proto();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrent = this;\n\t\t\t\tnextScreen = this.proto();\n\t\t\t}\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tcurrent.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.prev = function () {\n\t\t\tvar current, prevScreen, buttonSound;\n\t\n\t\t\tif (this !== this.screen) {\n\t\t\t\tthis.log('Not called on a screen');\n\t\t\t\tconsole.trace();\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\t// delegate to a child \"slides\" component.\n\t\t\tif (this.slides && this.slides.isComponent) {\n\t\t\t\tcurrent = this.slides.current();\n\t\t\t\tprevScreen = current.prev();\n\t\n\t\t\t\tif (prevScreen == null) {\n\t\t\t\t\tcurrent = this;\n\t\t\t\t\tprevScreen = this.proto();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrent = this;\n\t\t\t\tprevScreen = this.proto();\n\t\t\t}\n\t\n\t\t\tif (prevScreen) {\n\t\t\t\tcurrent.close();\n\t\t\t\tprevScreen.open();\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\t\t}\n\t\n\t\t\treturn prevScreen;\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tthis.startAudio();\n\t\n\t\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (this !== _event.targetScope) return;\n\t\n\t\t\tif (this.isReady) {\n\t\t\t\tthis.start();\n\t\t\t}\n\t\n\t\t\tif (!this.isComplete) {\n\t\t\t\tif (!this.requiredQueue || this.isMemberSafe('requiredQueue') && !this.requiredQueue.length) {\n\t\t\t\t\tthis.complete();\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (this.screen.isLast()) {\n\t\t\t\tthis.addClass('last');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-leave', function (_event) {\n\t\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\t\tthis.stop();\n\t\t\t}\n\t\t});\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t\t// TODO: Make an automated way to handle this\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\t\tthis.addClass('LEAVE-END');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tthis.game.addClass('QUIT-SCREEN');\n\t\t\tthis.removeClass('LEAVE-END');\n\t\t});\n\t\n\t\tthis.on('ui-leave', function () {\n\t\t\tthis.game.removeClass('QUIT-SCREEN');\n\t\t});\n\t\n\t\tthis.init = function () {\n\t\t\tthis.addClass('LEAVE LEAVE-END');\n\t\t};\n\t\n\t\tthis.okay = function () {\n\t\t\tthis.game.exit();\n\t\t};\n\t\n\t\tthis.cancel = function () {\n\t\t\tthis.leave();\n\t\t};\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable-reveal', function () {\n\t\n\t\tthis.respond('select', function (_event) {\n\t\t\tvar index, stateMethod;\n\t\n\t\t\tindex = _event.message;\n\t\t\tstateMethod = this.properties.selectState || 'select';\n\t\n\t\t\tif (~index) {\n\t\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\t\tthis.reveal.item(index);\n\t\t\t\tthis.features.correct.ready(index);\n\t\t\t}\n\t\t});\n\t\n\t\tthis.entity('selectable', function () {\n\t\n\t\t\tthis.shouldSelect = function (_$target) {\n\t\t\t\tif (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0 || _$target.is('[pl-always-selectable]')) {\n\t\t\t\t\treturn !this.screen.state(this.STATE.VOICE_OVER) && !_$target.state(this.STATE.HIGHLIGHTED);\n\t\t\t\t}\n\t\n\t\t\t\treturn false;\n\t\t\t};\n\t\t});\n\t\n\t\tthis.ready = function () {\n\t\t\tvar correct;\n\t\n\t\t\tcorrect = pl.Queue.create();\n\t\n\t\t\tcorrect.on('complete', this.bind(function () {\n\t\t\t\tthis.complete();\n\t\t\t}));\n\t\n\t\t\tthis.features = this.find('.items li').map(function (_index, _node) {\n\t\t\t\tcorrect.add(_index);\n\t\t\t\treturn _index;\n\t\t\t}).toArray();\n\t\n\t\t\tthis.features.correct = correct;\n\t\t};\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t\tthis.behavior('select', function (_target) {\n\t\t\tvar $target;\n\t\n\t\t\tif (this.event) {\n\t\t\t\t$target = $(this.event.target).closest('li');\n\t\n\t\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: $target.index(),\n\t\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.proto(_target);\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t});\n\t\n\t\tthis.shouldSelect = function (_target) {\n\t\t\tif (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t};\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('slides', function () {\n\t\n\t\tthis.slides = null;\n\t\n\t\tthis.ready = function () {\n\t\t\tthis.slides = this.find('> *').scope();\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tvar current, i, n;\n\t\n\t\t\tcurrent = this.current();\n\t\n\t\t\tif (current) {\n\t\t\t\tcurrent.start();\n\t\t\t} else if (this.slides.length) {\n\t\t\t\tthis.slides[0].open();\n\t\t\t\tfor (i = 1, n = this.slides.length; i < n; i++) {\n\t\t\t\t\tthis.slides[i] && this.slides[i].close();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tthis.current = function () {\n\t\t\treturn this.find('> .OPEN').scope();\n\t\t};\n\t\n\t\t/*\n\t  * @this {frame-component-scope} called by the next button in a frame component.\n\t  */\n\t\tthis.next = function () {\n\t\t\tvar index, nextSlide, buttonSound;\n\t\n\t\t\tif (!this.completed()) return false;\n\t\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\t\tindex = this.slides.indexOf(this);\n\t\t\tif (~index) return this.slides[index + 1];\n\t\n\t\t\tif (~index) nextSlide = this.slides[index + 1];\n\t\n\t\t\tif (nextSlide) {\n\t\t\t\tthis.leave();\n\t\t\t\tnextSlide.open();\n\t\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\n\t\t\t\treturn nextSlide;\n\t\t\t} else {\n\t\t\t\treturn this.proto();\n\t\t\t}\n\t\t};\n\t\n\t\t/*\n\t  * @this {frame-component-scope} called by the next button in a frame component.\n\t  */\n\t\tthis.prev = function () {\n\t\t\tvar index, prevSlide, buttonSound;\n\t\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\t\tindex = this.slides.indexOf(this);\n\t\t\tif (~index) return this.slides[index - 1];\n\t\n\t\t\tif (~index) prevSlide = this.slides[index - 1];\n\t\n\t\t\tif (prevSlide) {\n\t\t\t\tthis.close();\n\t\t\t\tprevSlide.open();\n\t\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\n\t\t\t\treturn prevSlide;\n\t\t\t} else {\n\t\t\t\treturn this.proto();\n\t\t\t}\n\t\t};\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tpl.game.component('title', function () {\n\t\n\t\tthis.start = function () {\n\t\t\tthis.proto();\n\t\t\tthis.showTitle();\n\t\t};\n\t\n\t\tthis.showTitle = function () {\n\t\t\tthis.image.addClass('animated ' + this.image.attr('pl-animation'));\n\t\t\tthis.complete();\n\t\t};\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t\tscreenSelector: '.screen',\n\t\tcomponentDirectory: 'components/',\n\t\tdimensions: {\n\t\t\twidth: 960,\n\t\t\tratio: 16 / 9\n\t\t},\n\t\tshouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t// import 'js-interactive-library';\n\t// Use when doing local changes to the library\n\t\n\t__webpack_require__(15);\n\t\n\t__webpack_require__(13);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(12);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(1);\n\t\n\tpl.game('polar-bear', function () {\n\t\n\t\tthis.screen('title', function () {\n\t\t\tthis.on('ready', function (_event) {\n\t\t\t\t// Screens are display:none then when READY get display:block.\n\t\t\t\t// When a screen is OPEN then it transitions a transform,\n\t\t\t\t// the delay is to prevent the transition failing to play\n\t\t\t\t// because of collision of these styles.\n\t\t\t\t//\n\t\t\t\tif (this.is(_event.target)) this.delay(0, this.open);\n\t\t\t\tthis.close(this.game.loader);\n\t\t\t});\n\t\n\t\t\tthis.startAudio = function () {\n\t\t\t\tthis.title.audio.background.play();\n\t\t\t\tthis.title.audio.voiceOver.play();\n\t\t\t};\n\t\n\t\t\tthis.stopAudio = function () {\n\t\t\t\tthis.title.audio.voiceOver.stop('@ALL');\n\t\t\t};\n\t\t});\n\t\n\t\tthis.screen('map', function () {\n\t\n\t\t\tthis.entity('slides', function () {\n\t\n\t\t\t\tthis.entity('.map-entity', function () {\n\t\n\t\t\t\t\tvar SELECTOR;\n\t\n\t\t\t\t\tfunction isCorrect(_element) {\n\t\t\t\t\t\tvar $el;\n\t\n\t\t\t\t\t\t$el = _element.jquery ? _element : $(_element);\n\t\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tSELECTOR = {\n\t\t\t\t\t\tCORRECT: '[pl-correct]',\n\t\t\t\t\t\tINCORRECT: '[pl-incorrect]'\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.buffer = null;\n\t\t\t\t\tthis.bctx = null;\n\t\t\t\t\tthis.countries = null;\n\t\n\t\t\t\t\t// images\n\t\t\t\t\tthis.grayMap = null;\n\t\t\t\t\tthis.iceland = null;\n\t\t\t\t\tthis.russia = null;\n\t\t\t\t\tthis.northPole = null;\n\t\t\t\t\tthis.greenland = null;\n\t\t\t\t\tthis.denmark = null;\n\t\t\t\t\tthis.norway = null;\n\t\t\t\t\tthis.canada = null;\n\t\t\t\t\tthis.usa = null;\n\t\t\t\t\tthis.sweden = null;\n\t\t\t\t\tthis.finland = null;\n\t\n\t\t\t\t\tthis.init = function () {\n\t\t\t\t\t\tthis.buffer = document.createElement('canvas');\n\t\t\t\t\t\tthis.bctx = this.buffer.getContext('2d');\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.ready = function () {\n\t\t\t\t\t\tvar correct, $countries;\n\t\n\t\t\t\t\t\tcorrect = pl.Queue.create();\n\t\n\t\t\t\t\t\tcorrect.on('complete', this.bind(function () {\n\t\t\t\t\t\t\tvar sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\t\t\t\t\t\tif (sfx) sfx.play();\n\t\t\t\t\t\t\tthis.complete();\n\t\t\t\t\t\t}));\n\t\n\t\t\t\t\t\tthis.buffer.width = 500;\n\t\t\t\t\t\tthis.buffer.height = 500;\n\t\n\t\t\t\t\t\t$countries = this.find('.country');\n\t\n\t\t\t\t\t\t$countries.not(SELECTOR.CORRECT).on('animationend', function () {\n\t\t\t\t\t\t\t$(this).removeClass('flash').addClass('fadeIn');\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\tthis.countries = $countries.map(function (_index, _node) {\n\t\t\t\t\t\t\tvar $node, id;\n\t\n\t\t\t\t\t\t\t$node = $(_node);\n\t\t\t\t\t\t\tid = pl.util.transformId($node.id(), true);\n\t\n\t\t\t\t\t\t\tif ($node.is(SELECTOR.CORRECT)) correct.add(id);\n\t\n\t\t\t\t\t\t\treturn id;\n\t\t\t\t\t\t}).toArray();\n\t\n\t\t\t\t\t\tthis.countries.correct = correct;\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.isImageTarget = function (_image, _point) {\n\t\t\t\t\t\tthis.bctx.clearRect(0, 0, this.buffer.width, this.buffer.height);\n\t\t\t\t\t\tthis.bctx.drawImage(_image[0], 0, 0, _image.width(), _image.height());\n\t\t\t\t\t\tpixel = this.bctx.getImageData(_point.x, _point.y, 1, 1);\n\t\n\t\t\t\t\t\tthis.bctx.fillStyle = 'white';\n\t\t\t\t\t\tthis.bctx.fillRect(_point.x, _point.y, 5, 5);\n\t\n\t\t\t\t\t\t// opaque pixel\n\t\t\t\t\t\treturn pixel.data[3] > 0;\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.test = function (_cursor) {\n\t\t\t\t\t\tvar offset, cursor, pixel, gameScale;\n\t\n\t\t\t\t\t\tif (!this.screen.allowAction()) return false;\n\t\n\t\t\t\t\t\toffset = this.grayMap.absolutePosition();\n\t\t\t\t\t\tgameScale = this.game.transformScale().x;\n\t\n\t\t\t\t\t\t// FireFox uses transfom scale which\n\t\t\t\t\t\t// does NOT produce scaled DOM values like `zoom`.\n\t\t\t\t\t\tif (gameScale !== 1) {\n\t\t\t\t\t\t\tcursor = _cursor.dec(offset).scale(1 / this.game.zoom).math('floor');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcursor = _cursor.scale(1 / this.game.zoom).math('floor').dec(offset);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tthis.countries.every(this.bind(function (_country) {\n\t\t\t\t\t\t\tif (this.isImageTarget(this[_country], cursor)) {\n\t\t\t\t\t\t\t\tthis.answer(_country);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}));\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.answer = function (_country) {\n\t\t\t\t\t\tvar $country, index;\n\t\n\t\t\t\t\t\t$country = this[_country];\n\t\n\t\t\t\t\t\tif ($country.is(SELECTOR.CORRECT)) {\n\t\n\t\t\t\t\t\t\tthis.playSFX('correct');\n\t\t\t\t\t\t\tthis.playVO(_country);\n\t\n\t\t\t\t\t\t\t$country.addClass('animated fadeIn');\n\t\n\t\t\t\t\t\t\tthis.countries.correct.ready(_country);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.playSFX('incorrect');\n\t\t\t\t\t\t\t$country.addClass('animated flash');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.playSFX = function (_answer) {\n\t\t\t\t\t\tvar sfx;\n\t\n\t\t\t\t\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.' + _answer);\n\t\n\t\t\t\t\t\tif (sfx) sfx.play();\n\t\n\t\t\t\t\t\treturn sfx;\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.playVO = function (_name) {\n\t\t\t\t\t\tvar vo;\n\t\n\t\t\t\t\t\tvo = pl.util.resolvePath(this, 'audio.voiceOver.' + _name);\n\t\n\t\t\t\t\t\tif (vo) vo.play();\n\t\n\t\t\t\t\t\treturn vo;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('bears', function () {\n\t\n\t\t\tthis.start = function (_event) {\n\t\t\t\tthis.proto();\n\t\t\t\tthis.carousel.start();\n\t\t\t};\n\t\n\t\t\tthis.stop = function () {\n\t\t\t\tthis.carousel.stop();\n\t\t\t};\n\t\n\t\t\tthis.on('ui-select', function (_event) {\n\t\t\t\tif (_event.targetScope === this.reveal) {\n\t\t\t\t\tthis.reveal.delay('1s', function () {\n\t\t\t\t\t\tvar $selected;\n\t\n\t\t\t\t\t\t$selected = this.getSelected();\n\t\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t\t$selected.addClass('animated slideOutUp').on('animationend', function () {\n\t\t\t\t\t\t\t$selected.removeClass('slideOutUp');\n\t\t\t\t\t\t\t$selected.off();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.on('ui-open', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\t\t\tthis.carousel.start();\n\t\t\t});\n\t\n\t\t\tthis.state('incomplete', '-COMPLETE', {\n\t\t\t\twillSet: function willSet(_target) {\n\t\t\t\t\tthis.isComplete = false;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.entity('carousel', function () {\n\t\t\t\t// The event 'behaviorTarget' for this entities 'hit' behavior\n\t\t\t\tthis.provideBehaviorTarget = function () {\n\t\t\t\t\t// Choose the item thats in the middle of the 3 visible.\n\t\t\t\t\treturn this.current().next();\n\t\t\t\t};\n\t\t\t});\n\t\n\t\t\tthis.respond('hit', function (_event) {\n\t\t\t\tif (_event.message === _event.behaviorTarget.id()) {\n\t\t\t\t\tthis.score.up();\n\t\t\t\t\tthis.playSFX('correct');\n\t\t\t\t} else {\n\t\t\t\t\tthis.playSFX('incorrect');\n\t\t\t\t}\n\t\n\t\t\t\tthis.reveal.item(_event.behaviorTarget.id());\n\t\t\t});\n\t\n\t\t\tthis.respond('next', function () {\n\t\t\t\tthis.cannon.ball.reload();\n\t\t\t});\n\t\n\t\t\tthis.playSFX = function (_name) {\n\t\t\t\tvar sfx;\n\t\n\t\t\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.' + _name);\n\t\n\t\t\t\tif (sfx) sfx.play();\n\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t});\n\t\n\t\tthis.screen('experiment-discover', function () {\n\t\t\tthis.respond('select', function (_event) {\n\t\t\t\tvar id = _event.message;\n\t\n\t\t\t\tif (id) {\n\t\t\t\t\tthis.highlight(_event.behaviorTarget);\n\t\t\t\t\tthis.audio.voiceOver[id].play();\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.entity('selectable', function () {\n\t\t\t\tthis.behavior('select', function (_target) {\n\t\t\t\t\tvar $target;\n\t\n\t\t\t\t\tif (this.event) {\n\t\t\t\t\t\t$target = $(this.event.target).closest('li');\n\t\n\t\t\t\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tmessage: $target.id(),\n\t\t\t\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.proto(_target);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('flip', function () {\n\t\n\t\t\tthis.complete = function (_event) {\n\t\t\t\tvar eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t\n\t\t\t\tga('send', 'event', eventCategory, 'complete');\n\t\n\t\t\t\treturn this.proto();\n\t\t\t};\n\t\t});\n\t\n\t\tthis.exit = function () {\n\t\t\tvar screen, eventCategory;\n\t\n\t\t\tscreen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t\t\teventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t\t\tga('send', 'event', eventCategory, 'quit');\n\t\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.defineRule = function (_selector_scope, _selector_def, _definition) {\n\t\t\tvar _scope, _selector, source, prop, value;\n\t\t\t// Resolve arguments.\n\t\t\t_selector_scope.$els ? ( // (A) if we are a scope\n\t\t\t_scope = _selector_scope, // assign scope arg...\n\t\t\ttypeof _selector_def === 'string' ? // ...also, (B) if arg 2 is a string\n\t\t\t_selector = _scope.address() + _selector_def : ( // assing selector arg with scope address:\n\t\t\t_selector = _scope.address(), _definition = _selector_def)) : ( // (B) otherwise, assign selector arg to scope address, also assing definition arg\n\t\t\t_selector = _selector_scope, _definition = _selector_def); // (A) otherwise, assing selector and definition args.\n\t\n\t\t\tsource = _selector + ' {';\n\t\n\t\t\tfor (prop in _definition) {\n\t\t\t\tif (!_definition.hasOwnProperty(prop)) continue;\n\t\t\t\tvalue = _definition[prop];\n\t\t\t\tsource += prop.replace(/([A-Z]+)/g, '-$1').toLowerCase() + ': ' + value + ';';\n\t\t\t}\n\t\n\t\t\tsource += '}';\n\t\n\t\t\t$('<style type=\"text/css\" class=\"dynanic-styles\">' + source + '</style>').appendTo(document.body);\n\t\n\t\t\treturn source;\n\t\t};\n\t});\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t/******/ (function(modules) { // webpackBootstrap\n\t/******/ \t// The module cache\n\t/******/ \tvar installedModules = {};\n\t/******/\n\t/******/ \t// The require function\n\t/******/ \tfunction __webpack_require__(moduleId) {\n\t/******/\n\t/******/ \t\t// Check if module is in cache\n\t/******/ \t\tif(installedModules[moduleId])\n\t/******/ \t\t\treturn installedModules[moduleId].exports;\n\t/******/\n\t/******/ \t\t// Create a new module (and put it into the cache)\n\t/******/ \t\tvar module = installedModules[moduleId] = {\n\t/******/ \t\t\texports: {},\n\t/******/ \t\t\tid: moduleId,\n\t/******/ \t\t\tloaded: false\n\t/******/ \t\t};\n\t/******/\n\t/******/ \t\t// Execute the module function\n\t/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\t/******/\n\t/******/ \t\t// Flag the module as loaded\n\t/******/ \t\tmodule.loaded = true;\n\t/******/\n\t/******/ \t\t// Return the exports of the module\n\t/******/ \t\treturn module.exports;\n\t/******/ \t}\n\t/******/\n\t/******/\n\t/******/ \t// expose the modules object (__webpack_modules__)\n\t/******/ \t__webpack_require__.m = modules;\n\t/******/\n\t/******/ \t// expose the module cache\n\t/******/ \t__webpack_require__.c = installedModules;\n\t/******/\n\t/******/ \t// __webpack_public_path__\n\t/******/ \t__webpack_require__.p = \"/build/\";\n\t/******/\n\t/******/ \t// Load entry module and return exports\n\t/******/ \treturn __webpack_require__(0);\n\t/******/ })\n\t/************************************************************************/\n\t/******/ ([\n\t/* 0 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(1);\n\t\n\t\n\t/***/ },\n\t/* 1 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\t/**\n\t\t * Boot file for the Play library.\n\t\t *\n\t\t * @module\n\t\t *\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t *\n\t\t * @requires jQExtentions\n\t\t * @requires play\n\t\t */\n\t\t\n\t\t__webpack_require__(4);\n\t\t\n\t\tvar _play = __webpack_require__(23);\n\t\t\n\t\tvar _play2 = _interopRequireDefault(_play);\n\t\t\n\t\t/**\n\t\t * Begin running the library\n\t\t */\n\t\tfunction run() {\n\t\t  _play2['default'].game.run();\n\t\t}\n\t\t\n\t\t// export namespace to global object.\n\t\twindow.play = window.pl = _play2['default'];\n\t\t\n\t\t// Invoke 'run' when DOM has finished loading.\n\t\tdocument.addEventListener('DOMContentLoaded', run, false);\n\t\n\t/***/ },\n\t/* 2 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(3);\n\t\n\t/***/ },\n\t/* 3 */\n\t/***/ function(module, exports) {\n\t\n\t\t\"use strict\";\n\t\t\n\t\texports.__esModule = true;\n\t\t\n\t\texports.default = function (obj) {\n\t\t  return obj && obj.__esModule ? obj : {\n\t\t    default: obj\n\t\t  };\n\t\t};\n\t\n\t/***/ },\n\t/* 4 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _Array$forEach = __webpack_require__(5)['default'];\n\t\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\t/**\n\t\t * Extentions to jQuery used by the library.\n\t\t * \n\t\t * @module\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t *\n\t\t * @requires types/Dimensions\n\t\t * @requires Matrix\n\t\t */\n\t\t\n\t\tvar _typesDimensions = __webpack_require__(14);\n\t\t\n\t\tvar _libMatrix = __webpack_require__(22);\n\t\t\n\t\tvar _libMatrix2 = _interopRequireDefault(_libMatrix);\n\t\t\n\t\t/**\n\t\t * jQuery's prototype\n\t\t * @external jQuery\n\t\t * @see {@link http://api.jquery.com/}\n\t\t */\n\t\t\n\t\t(function () {\n\t\t\tvar original;\n\t\t\n\t\t\toriginal = {\n\t\t\t\tposition: this.position\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Resolves the scope for each of the set of matched nodes.\n\t\t  * @function external:jQuery#scope\n\t\t  * @returns {Scope|array} Scope - for 1 result. array - for multiple.\n\t\t  */\n\t\t\tthis.scope = function () {\n\t\t\t\tvar result;\n\t\t\n\t\t\t\tresult = [];\n\t\t\n\t\t\t\tthis.each(function () {\n\t\t\t\t\tvar $node, scope;\n\t\t\n\t\t\t\t\t$node = $(this);\n\t\t\t\t\tscope = $node.data('pl-scope');\n\t\t\n\t\t\t\t\tif (!scope) {\n\t\t\t\t\t\tscope = $node.closest('.pl-scope').data('pl-scope');\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (scope) result.push(scope);\n\t\t\t\t});\n\t\t\n\t\t\t\treturn result.length > 1 ? result : result[0];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Resolves the id on the first node in the collection. The id can be sourced from a node's 'id', 'pl-id' or 'pl-component' arguments.\n\t\t  * @function external:jQuery#id\n\t\t  * @arg {string} [_set] Name to set as the node's id.\n\t\t  * @returns {string} The resolved id.\n\t\t  */\n\t\t\tthis.id = function (_set) {\n\t\t\t\tif (_set !== undefined) {\n\t\t\t\t\t// Remove attribute.\n\t\t\t\t\tif (~['', null].indexOf(_set)) {\n\t\t\t\t\t\tthis.attr('id', null);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t// If document already has the id defined then set as a unique library id.\n\t\t\t\t\tif ($('#' + _set).length) {\n\t\t\t\t\t\tthis.attr('pl-id', _set);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.attr('id', _set);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this.attr('id') || this.attr('pl-id') || this.attr('pl-component');\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Provides the 'relative' CSS selector for the first node in the collection.\n\t\t  * @function external:jQuery#address\n\t\t  * @returns {string}\n\t\t  *\n\t\t  * @example\n\t\t  * // HTML: <div id=\"sweater\" class=\"wide\"></div>\n\t\t  * $('#sweater').address() // div#sweater.wide\n\t\t  */\n\t\t\tthis.address = function () {\n\t\t\t\tvar tag, id, classes;\n\t\t\n\t\t\t\ttag = this[0].nodeName.toLowerCase();\n\t\t\t\tid = this.attr('id');\n\t\t\t\tclasses = this.attr('class') ? '.' + this.attr('class').split(' ').join('.') : '';\n\t\t\n\t\t\t\treturn tag + (id ? '#' + id : '') + classes;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Provides a node's UPPER CASE class names. Given '_test' it will check if the node has the class.\n\t\t  * @function external:jQuery#state\n\t\t  * @arg {string} [_test] The UPPER CASE class name to test on the first node in the collection.\n\t\t  * @returns {string|array|boolean} string - for one result. array - for multiple. boolean - for tests.\n\t\t  */\n\t\t\tthis.state = function (_test) {\n\t\t\t\tvar classes;\n\t\t\n\t\t\t\tif (_test) return this.hasClass(_test.toUpperCase());\n\t\t\n\t\t\t\tclasses = (this.attr('class') || '').match(/[0-9A-Z]+(?:-[0-9A-Z]+)?/g);\n\t\t\n\t\t\t\treturn classes && (classes.length === 1 ? classes[0] : classes);\n\t\t\t};\n\t\t\n\t\t\tthis.size = function () {\n\t\t\t\tvar size;\n\t\t\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\tsize = _typesDimensions.Size.create().set(this.width(), this.height());\n\t\t\t\t} else {\n\t\t\t\t\tsize = _typesDimensions.Size.create(arguments);\n\t\t\t\t\tthis.css(size);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn size;\n\t\t\t};\n\t\t\n\t\t\tthis.position = function () {\n\t\t\t\tvar pos;\n\t\t\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\tpos = original.position.call(this);\n\t\t\t\t\tpos = _typesDimensions.Point.create().set(pos.left, pos.top);\n\t\t\t\t} else {\n\t\t\t\t\tpos = _typesDimensions.Point.create(arguments);\n\t\t\n\t\t\t\t\tthis.css({\n\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\tleft: pos.x,\n\t\t\t\t\t\ttop: pos.y\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\treturn pos;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Provides the jQuery offset for the first node in the collection.\n\t\t  * Given a point, all nodes in the collection will get {position: absolute;} to the corrdinates.\n\t\t  * @function external:jQuery#absolutePosition\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\tthis.absolutePosition = function () {\n\t\t\t\tvar offset;\n\t\t\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\toffset = this.offset();\n\t\t\n\t\t\t\t\treturn _typesDimensions.Point.create().set(offset.left, offset.top);\n\t\t\t\t} else {\n\t\t\t\t\toffset = _typesDimensions.Point.create(arguments);\n\t\t\n\t\t\t\t\tthis.css({\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: offset.y,\n\t\t\t\t\t\tleft: offset.x\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\treturn offset;\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Sets a CSS matrix transform on all nodes in the collection. (overloaded)\n\t\t  * @function external:jQuery#transform\n\t\t  * @arg {number} [_scaleX] - scale x\n\t\t  * @arg {number} [_shearY] - shear y\n\t\t  * @arg {number} [_shearX] - shear x\n\t\t  * @arg {number} [_scaleY] - scale y\n\t\t  * @arg {number} [_translateX] - translate x\n\t\t  * @arg {number} [_translateY] - translate y\n\t\t  * @returns {Matrix}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Provides the CSS matrix transform for the first node in the collection.\n\t\t  * @function external:jQuery#transform\n\t\t  * @returns {Matrix}\n\t\t  */\n\t\t\tthis.transform = function () {\n\t\t\t\tvar t, matrix, is3d;\n\t\t\n\t\t\t\tmatrix = new _libMatrix2['default']();\n\t\t\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\tt = this.css('transform');\n\t\t\t\t\tis3d = !! ~t.indexOf('matrix3d');\n\t\t\n\t\t\t\t\tif (t !== 'none') {\n\t\t\t\t\t\tt = ((t.match(/\\(([,\\d\\.\\s\\-]+)\\)/) || [])[1] || '').split(/\\s*,\\s*/);\n\t\t\t\t\t\tif (is3d) {\n\t\t\t\t\t\t\tt = (function (_matrix) {\n\t\t\t\t\t\t\t\tvar i, result;\n\t\t\n\t\t\t\t\t\t\t\tresult = [];\n\t\t\n\t\t\t\t\t\t\t\tfor (i = 0; i < _matrix.length; i += 4) {\n\t\t\t\t\t\t\t\t\tresult = result.concat(_matrix.slice(i, i + 2));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t})(t);\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tt = t.map(parseFloat);\n\t\t\n\t\t\t\t\t\tmatrix.setTransform.apply(matrix, t);\n\t\t\n\t\t\t\t\t\treturn matrix;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn t;\n\t\t\t\t}\n\t\t\n\t\t\t\tmatrix.setTransform.apply(matrix, arguments);\n\t\t\n\t\t\t\tthis.css('transform', matrix.toCSS());\n\t\t\n\t\t\t\treturn matrix;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Getter/Setter for the CSS transform translation. (overloaded)\n\t\t  * @function external:jQuery#transformPosition\n\t\t  * @arg {Point} _point - A point object {x,y}\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Getter/Setter for the CSS transform translation.\n\t\t  * @function external:jQuery#transformPosition\n\t\t  * @arg {number} _x - x coordinate\n\t\t  * @arg {number} _y - y coordinate\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\tthis.transformPosition = function () {\n\t\t\t\tvar matrix, point;\n\t\t\n\t\t\t\tmatrix = this.transform();\n\t\t\t\tpoint = _typesDimensions.Point.create().set(0, 0);\n\t\t\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\tif (matrix !== 'none') point.set(matrix.e, matrix.f);\n\t\t\t\t} else {\n\t\t\t\t\tif (matrix === 'none') matrix = new _libMatrix2['default']();\n\t\t\n\t\t\t\t\tpoint.set.apply(point, arguments);\n\t\t\t\t\tmatrix.translate(point.x, point.y);\n\t\t\t\t\tthis.css('transform', matrix.toCSS());\n\t\t\t\t}\n\t\t\n\t\t\t\treturn point;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Getter for the CSS transform scale. (overloaded)\n\t\t  * @function external:jQuery#transformPosition\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Setter for the CSS transform scale. (overloaded)\n\t\t  * @function external:jQuery#transformPosition\n\t\t  * @arg {Point} _point - A point object {x,y}\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Setter for the CSS transform scale.\n\t\t  * @function external:jQuery#transformPosition\n\t\t  * @arg {number} _x - x coordinate\n\t\t  * @arg {number} _y - y coordinate\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\tthis.transformScale = function () {\n\t\t\t\tvar matrix, scale;\n\t\t\n\t\t\t\tmatrix = this.transform();\n\t\t\t\tscale = _typesDimensions.Point.create().set(1, 1);\n\t\t\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\tif (matrix !== 'none') scale.set(matrix.a, matrix.d);\n\t\t\t\t} else {\n\t\t\t\t\tif (matrix === 'none') matrix = new _libMatrix2['default']();\n\t\t\n\t\t\t\t\tscale.set.apply(scale, arguments);\n\t\t\t\t\tmatrix.scale(scale.x, scale.y);\n\t\t\t\t\tthis.css('transform', matrix.toCSS());\n\t\t\t\t}\n\t\t\n\t\t\t\treturn scale;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Accessor method for `pl` attributes.\n\t\t  */\n\t\t\tthis.pl = function (_name, _value) {\n\t\t\t\tvar args, result;\n\t\t\n\t\t\t\tif (!_name) {\n\t\t\t\t\tresult = {};\n\t\t\t\t\tthis.each(function () {\n\t\t\t\t\t\t_Array$forEach(this.attributes, function (_attr) {\n\t\t\t\t\t\t\tif (_attr.name.indexOf('pl-') === 0) {\n\t\t\t\t\t\t\t\tresult[_attr.name.slice(3)] = _attr.value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\n\t\t\t\targs = ['pl-' + _name];\n\t\t\t\tif (typeof _value !== 'undefined') args.push(_value);\n\t\t\n\t\t\t\tif (_value === null) {\n\t\t\t\t\tthis.removeAttr('pl-' + _name);\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this.attr.apply(this, args);\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Invoke a method of each item in the set of matched elements.\n\t\t  */\n\t\t\tthis.exec = function (_method, _args) {\n\t\t\t\treturn this.map(function () {\n\t\t\t\t\tif (typeof this[_method] === 'function') return this[_method].apply(this, _args);\n\t\t\t\t}).toArray();\n\t\t\t};\n\t\t}).call($.fn);\n\t\n\t/***/ },\n\t/* 5 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = { \"default\": __webpack_require__(6), __esModule: true };\n\t\n\t/***/ },\n\t/* 6 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t__webpack_require__(7);\n\t\tmodule.exports = __webpack_require__(11).Array.forEach;\n\t\n\t/***/ },\n\t/* 7 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// JavaScript 1.6 / Strawman array statics shim\n\t\tvar $       = __webpack_require__(8)\n\t\t  , $export = __webpack_require__(9)\n\t\t  , $ctx    = __webpack_require__(12)\n\t\t  , $Array  = __webpack_require__(11).Array || Array\n\t\t  , statics = {};\n\t\tvar setStatics = function(keys, length){\n\t\t  $.each.call(keys.split(','), function(key){\n\t\t    if(length == undefined && key in $Array)statics[key] = $Array[key];\n\t\t    else if(key in [])statics[key] = $ctx(Function.call, [][key], length);\n\t\t  });\n\t\t};\n\t\tsetStatics('pop,reverse,shift,keys,values,entries', 1);\n\t\tsetStatics('indexOf,every,some,forEach,map,filter,find,findIndex,includes', 3);\n\t\tsetStatics('join,slice,concat,push,splice,unshift,sort,lastIndexOf,' +\n\t\t           'reduce,reduceRight,copyWithin,fill');\n\t\t$export($export.S, 'Array', statics);\n\t\n\t/***/ },\n\t/* 8 */\n\t/***/ function(module, exports) {\n\t\n\t\tvar $Object = Object;\n\t\tmodule.exports = {\n\t\t  create:     $Object.create,\n\t\t  getProto:   $Object.getPrototypeOf,\n\t\t  isEnum:     {}.propertyIsEnumerable,\n\t\t  getDesc:    $Object.getOwnPropertyDescriptor,\n\t\t  setDesc:    $Object.defineProperty,\n\t\t  setDescs:   $Object.defineProperties,\n\t\t  getKeys:    $Object.keys,\n\t\t  getNames:   $Object.getOwnPropertyNames,\n\t\t  getSymbols: $Object.getOwnPropertySymbols,\n\t\t  each:       [].forEach\n\t\t};\n\t\n\t/***/ },\n\t/* 9 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar global    = __webpack_require__(10)\n\t\t  , core      = __webpack_require__(11)\n\t\t  , ctx       = __webpack_require__(12)\n\t\t  , PROTOTYPE = 'prototype';\n\t\t\n\t\tvar $export = function(type, name, source){\n\t\t  var IS_FORCED = type & $export.F\n\t\t    , IS_GLOBAL = type & $export.G\n\t\t    , IS_STATIC = type & $export.S\n\t\t    , IS_PROTO  = type & $export.P\n\t\t    , IS_BIND   = type & $export.B\n\t\t    , IS_WRAP   = type & $export.W\n\t\t    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n\t\t    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n\t\t    , key, own, out;\n\t\t  if(IS_GLOBAL)source = name;\n\t\t  for(key in source){\n\t\t    // contains in native\n\t\t    own = !IS_FORCED && target && key in target;\n\t\t    if(own && key in exports)continue;\n\t\t    // export native or passed\n\t\t    out = own ? target[key] : source[key];\n\t\t    // prevent global pollution for namespaces\n\t\t    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n\t\t    // bind timers to global for call from export context\n\t\t    : IS_BIND && own ? ctx(out, global)\n\t\t    // wrap global constructors for prevent change them in library\n\t\t    : IS_WRAP && target[key] == out ? (function(C){\n\t\t      var F = function(param){\n\t\t        return this instanceof C ? new C(param) : C(param);\n\t\t      };\n\t\t      F[PROTOTYPE] = C[PROTOTYPE];\n\t\t      return F;\n\t\t    // make static versions for prototype methods\n\t\t    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n\t\t    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n\t\t  }\n\t\t};\n\t\t// type bitmap\n\t\t$export.F = 1;  // forced\n\t\t$export.G = 2;  // global\n\t\t$export.S = 4;  // static\n\t\t$export.P = 8;  // proto\n\t\t$export.B = 16; // bind\n\t\t$export.W = 32; // wrap\n\t\tmodule.exports = $export;\n\t\n\t/***/ },\n\t/* 10 */\n\t/***/ function(module, exports) {\n\t\n\t\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\t\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n\t\t  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\t\tif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\t\n\t/***/ },\n\t/* 11 */\n\t/***/ function(module, exports) {\n\t\n\t\tvar core = module.exports = {version: '1.2.6'};\n\t\tif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\t\n\t/***/ },\n\t/* 12 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// optional / simple context binding\n\t\tvar aFunction = __webpack_require__(13);\n\t\tmodule.exports = function(fn, that, length){\n\t\t  aFunction(fn);\n\t\t  if(that === undefined)return fn;\n\t\t  switch(length){\n\t\t    case 1: return function(a){\n\t\t      return fn.call(that, a);\n\t\t    };\n\t\t    case 2: return function(a, b){\n\t\t      return fn.call(that, a, b);\n\t\t    };\n\t\t    case 3: return function(a, b, c){\n\t\t      return fn.call(that, a, b, c);\n\t\t    };\n\t\t  }\n\t\t  return function(/* ...args */){\n\t\t    return fn.apply(that, arguments);\n\t\t  };\n\t\t};\n\t\n\t/***/ },\n\t/* 13 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(it){\n\t\t  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n\t\t  return it;\n\t\t};\n\t\n\t/***/ },\n\t/* 14 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _Object$defineProperties = __webpack_require__(15)['default'];\n\t\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * \n\t\t * @module\n\t\t * @version 1.1\n\t\t * @author Micah Rolon <functionmicah@gmail.com>\n\t\t * @requires module:types/BasicArray~BasicArray\n\t\t *\n\t\t * @desc *Created: 11/12/14*\n\t\t *\n\t\t * This file contains objects for containing values about a plane. i.e. x or width.\n\t\t * Adds the convenience of keeping these values paired to passed around your application.\n\t\t * It also includes methods which you perform on the values and returns a new object\n\t\t * so the original values are maintained.\n\t\t *\n\t\t * #### Usage\n\t\t *\n\t\t * New instances can be created by calling the create method.\n\t\t * ```\n\t\t * cursorLocation = Point.create();\n\t\t * ```\n\t\t *\n\t\t * Then call `set()` to apply your values.\n\t\t * ```\n\t\t * cursorLocation.set(event.clientX, event.clientY);\n\t\t * ```\n\t\t *\n\t\t * Then you can use the calculation methods to perform transformations.\n\t\t * ```\n\t\t * relativeCursor = cursorLocation.scale(zoom);\n\t\t * ```\n\t\t *\n\t\t * #### Developer Notes\n\t\t *\n\t\t * When adding new methods make sure you are returning a new instance.\n\t\t * Dimensional objects are meant to be immutable.\n\t\t *\n\t\t * Follow this pattern:\n\t\t * ```\n\t\t * this.method = function () {\n\t\t *     // set with your calculated values.\n\t\t *     return this.create().set( ... )\n\t\t * }\n\t\t * ```\n\t\t *\n\t\t * #### Change Log\n\t\t * *v1.1 - 12/13/15*\n\t\t * - Defined setter/getter properties for unique planes keys. You can now do `point.width = 10`.\n\t\t */\n\t\t\n\t\t/*jslint browser: true, eqeq: true, nomen: true, sloppy: true, white: true */\n\t\t\n\t\tvar _typesBasicArray = __webpack_require__(17);\n\t\t\n\t\tvar _typesBasicArray2 = _interopRequireDefault(_typesBasicArray);\n\t\t\n\t\tvar Dimension, Size, Point;\n\t\t\n\t\t/**\n\t\t * The native Array\n\t\t * @external Array\n\t\t * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array}\n\t\t */\n\t\t\n\t\t/**\n\t\t * Array prototype extension\n\t\t * Creates an instance of `_Thing` and passes the array to its set function as its arguments.\n\t\t * @function external:Array#to\n\t\t * @arg {Point|Size|string} _Thing - A Dimension object or one the strings 'point'/'size'\n\t\t * @example\n\t\t * somePoint = [10, 10].to(Point);\n\t\t * somePoint = [10, 10].to('point');\n\t\t */\n\t\tArray.prototype.to = function (_Thing) {\n\t\t\tvar map;\n\t\t\n\t\t\tmap = {\n\t\t\t\tpoint: Point,\n\t\t\t\tsize: Size\n\t\t\t};\n\t\t\n\t\t\tif (typeof _Thing === 'string') {\n\t\t\t\treturn map[_Thing.toLowerCase()].create().set(this);\n\t\t\t} else if (typeof _Thing === 'object' && ~[Point.set, Size.set].indexOf(_Thing.set)) {\n\t\t\t\tif (!_Thing.isPrototypeOf(this)) {\n\t\t\t\t\treturn _Thing.set.apply(_Thing.create(), this);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\treturn this;\n\t\t};\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Dimension.create()` to get a new instance.\n\t\t * @class\n\t\t * @classdesc Base class for dimensional objects consisting of 2 planes.<br>\n\t\t * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n\t\t * @extends module:types/BasicArray~BasicArray\n\t\t */\n\t\tDimension = _typesBasicArray2['default'].extend(function () {\n\t\t\tvar originalMap;\n\t\t\n\t\t\toriginalMap = this.map;\n\t\t\n\t\t\tthis[0] = this[1] = 0;\n\t\t\tthis.planeMap = null, this.length = 2;\n\t\t\n\t\t\t/**\n\t\t  * Provides a new instance.\n\t\t  * @arg {array} _argumentsArray - Create a new instace with an arguments array.\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.create = function (_argumentsArray) {\n\t\t\t\tvar instance;\n\t\t\n\t\t\t\tinstance = this.proto();\n\t\t\n\t\t\t\tif (_argumentsArray) instance.set.apply(instance, _argumentsArray);\n\t\t\n\t\t\t\treturn instance;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Incerement each plane by a value or specify each plane.\n\t\t  * @arg {number} _val - plane a of (a,b)\n\t\t  * @arg {number} [_plane2] - plane b of (a,b)\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.inc = function (_val, _plane2) {\n\t\t\t\tvar a, b;\n\t\t\n\t\t\t\tif (_val.length === 2) {\n\t\t\t\t\ta = _val[0];\n\t\t\t\t\tb = _val[1];\n\t\t\t\t} else if (_plane2 != null) {\n\t\t\t\t\ta = _val;\n\t\t\t\t\tb = _plane2;\n\t\t\t\t} else {\n\t\t\t\t\ta = b = _val;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this.create().set(this[0] + a, this[1] + b);\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Decerement each plane by a value or specify each plane.\n\t\t  * @arg {number} _val - plane a of (a,b)\n\t\t  * @arg {number} [_plane2] - plane b of (a,b)\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.dec = function (_val, _plane2) {\n\t\t\t\tvar a, b;\n\t\t\n\t\t\t\tif (_val.length === 2) {\n\t\t\t\t\ta = _val[0];\n\t\t\t\t\tb = _val[1];\n\t\t\t\t} else if (_plane2 != null) {\n\t\t\t\t\ta = _val;\n\t\t\t\t\tb = _plane2;\n\t\t\t\t} else {\n\t\t\t\t\ta = b = _val;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this.create().set(this[0] - a, this[1] - b);\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Multiply each plane by a value or specify each plane.\n\t\t  * @arg {number} _scale - plane a of (a,b)\n\t\t  * @arg {number} [_plane2] - plane b of (a,b)\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.scale = function (_scale, _plane2) {\n\t\t\t\treturn this.create().set(this[0] * _scale, this[1] * (_plane2 != null ? _plane2 : _scale));\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Perfom a Math function on each plane\n\t\t  * @arg {string} _fun - a string of the function name in the JS Math object,\n\t\t  * followed by the whatever arguments the function takes after its first\n\t\t  * since the first argument is the plane value.\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.math = function (_fun) {\n\t\t\t\tvar args = [].slice.call(arguments, 1);\n\t\t\n\t\t\t\treturn this.create().set(Math[_fun].apply(Math, [this[0]].concat(args)), Math[_fun].apply(Math, [this[1]].concat(args)));\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Takes each plane value and passes it to parseInt().\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.parseInt = function () {\n\t\t\t\treturn this.create().set(parseInt(this[0]), parseInt(this[1]));\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Takes each plane value and passes it to parseFloat().\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.parseFloat = function () {\n\t\t\t\treturn this.create().set(parseFloat(this[0]), parseFloat(this[1]));\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Resolves the name of the plane at the given index.\n\t\t  * @arg {number} _index - The index of the plane.\n\t\t  * @returns {string}\n\t\t  */\n\t\t\tthis.planeOf = function (_index) {\n\t\t\t\tif (isNaN(parseInt(_index))) return null;\n\t\t\t\treturn this.planeMap[_index];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Make a new array by iterating over each plane.<br>\n\t\t  * See [`Array.prototype.map()`]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map}\n\t\t  * @arg {function} _handler - handler for each index.\n\t\t  * @override\n\t\t  * @returns {Dimension}\n\t\t  */\n\t\t\tthis.map = function (_handler) {\n\t\t\t\treturn originalMap.call(this, _handler).to(Object.getPrototypeOf(this));\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Multiplies the planes.\n\t\t  * @returns {number}\n\t\t  */\n\t\t\tthis.product = function () {\n\t\t\t\treturn this[0] * this[1];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Divides the planes.\n\t\t  * @returns {number}\n\t\t  */\n\t\t\tthis.ratio = function () {\n\t\t\t\treturn this[0] / this[1];\n\t\t\t};\n\t\t\n\t\t\tthis.quotient = function () {\n\t\t\t\treturn Math.floor(this[0] / this[1]);\n\t\t\t};\n\t\t\n\t\t\tthis.remainder = function () {\n\t\t\t\treturn this[0] % this[1];\n\t\t\t};\n\t\t});\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Size.create()` to get a new instance.\n\t\t * @class\n\t\t * @extends module:types/Dimensions~Dimension\n\t\t * @classdesc 2 Dimensional object containing width and height.<br>\n\t\t * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n\t\t * @prop {number} width - The width.\n\t\t * @prop {number} height - The height.\n\t\t */\n\t\tSize = Dimension.extend(function () {\n\t\t\t/**\n\t\t  * Maps the names of the indexes.<br>\n\t\t  * See [Dimension#planeOf]{@link module:types/Dimensions~Dimension#planeOf} for resolving plane name.\n\t\t  * @protected\n\t\t  * @default ['width', 'height']\n\t\t  */\n\t\t\tthis.planeMap = ['width', 'height'];\n\t\t\n\t\t\t_Object$defineProperties(this, {\n\t\t\t\twidth: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\treturn this[0];\n\t\t\t\t\t},\n\t\t\n\t\t\t\t\tset: function set(_val) {\n\t\t\t\t\t\tthis[0] = Number(_val);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\n\t\t\t\theight: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\treturn this[1];\n\t\t\t\t\t},\n\t\t\n\t\t\t\t\tset: function set(_val) {\n\t\t\t\t\t\tthis[1] = Number(_val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * Define the size with an object. (overloaded)\n\t\t  * @function module:types/Dimensions~Size#set\n\t\t  * @arg {object} _size - A size object {width, height}.\n\t\t  * @returns {Size}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Define the size with an array. (overloaded)\n\t\t  * @function module:types/Dimensions~Size#set\n\t\t  * @arg {array} _size - A size array [width, height].\n\t\t  * @returns {Size}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Define the size.\n\t\t  * @arg {number} _width - The width.\n\t\t  * @arg {number} _height - The height.\n\t\t  * @returns {Size}\n\t\t  */\n\t\t\tthis.set = function (_width, _height) {\n\t\t\t\tif (arguments.length === 1) {\n\t\t\t\t\tif (_width.width !== undefined && _width.height !== undefined) {\n\t\t\t\t\t\tthis[0] = Number(_width.width);\n\t\t\t\t\t\tthis[1] = Number(_width.height);\n\t\t\t\t\t} else if (_width.length === 2) {\n\t\t\t\t\t\tthis[0] = Number(_width[0]);\n\t\t\t\t\t\tthis[1] = Number(_width[1]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis[0] = Number(_width);\n\t\t\t\t\tthis[1] = Number(_height);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Calculates the hypotenuse.\n\t\t  * @see {@link https://en.wikipedia.org/wiki/Hypotenuse}\n\t\t  * @returns {number}\n\t\t  */\n\t\t\tthis.hypotenuse = function () {\n\t\t\t\treturn Math.sqrt(Math.pow(this.width, 2) + Math.pow(this.height, 2));\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Sets width and height properties on the given object. If the object is an HTML node then it will be set on the nodes style object.\n\t\t  * @arg {object|HTMLElement} - The object or DOM node.\n\t\t  * @returns {this}\n\t\t  */\n\t\t\tthis.applyTo = function (_object) {\n\t\t\t\tif (_object.nodeType === document.ELEMENT_NODE) {\n\t\t\t\t\tif (!(_object.width !== undefined || _object.height !== undefined)) {\n\t\t\t\t\t\t_object.style.width = this.width;\n\t\t\t\t\t\t_object.style.height = this.height;\n\t\t\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t_object.width = this.width;\n\t\t\t\t_object.height = this.height;\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t});\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Point.create()` to get a new instance.\n\t\t * @class\n\t\t * @extends module:types/Dimensions~Dimension\n\t\t * @classdesc Object containing coordinates on a 2-dimensional cartesian plane.<br>\n\t\t * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n\t\t * @prop {number} x - The x coordinate.\n\t\t * @prop {number} y - The y coordinate.\n\t\t */\n\t\tPoint = Dimension.extend(function () {\n\t\t\t/**\n\t\t  * Maps the names of the indexes.<br>\n\t\t  * See [Dimension#planeOf]{@link module:types/Dimensions~Dimension#planeOf} for resolving plane name.\n\t\t  * @protected\n\t\t  * @default ['x', 'y']\n\t\t  */\n\t\t\tthis.planeMap = ['x', 'y'];\n\t\t\n\t\t\t_Object$defineProperties(this, {\n\t\t\t\tx: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\treturn this[0];\n\t\t\t\t\t},\n\t\t\n\t\t\t\t\tset: function set(_val) {\n\t\t\t\t\t\tthis[0] = Number(_val);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\n\t\t\t\ty: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\treturn this[1];\n\t\t\t\t\t},\n\t\t\n\t\t\t\t\tset: function set(_val) {\n\t\t\t\t\t\tthis[1] = Number(_val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * Define the point with an object. (overloaded)\n\t\t  * @function module:types/Dimensions~Point#set\n\t\t  * @arg {object} _point - A point object {x, y}.\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Define the point with an array. (overloaded)\n\t\t  * @function module:types/Dimensions~Point#set\n\t\t  * @arg {array} _point - A point array [x, y].\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Define the point.\n\t\t  * @arg {number} _x - The x.\n\t\t  * @arg {number} _y - The y.\n\t\t  * @returns {Point}\n\t\t  */\n\t\t\tthis.set = function (_x, _y) {\n\t\t\t\tif (arguments.length === 1) {\n\t\t\t\t\tif (_x.x !== undefined && _x.y !== undefined) {\n\t\t\t\t\t\tthis[0] = Number(_x.x);\n\t\t\t\t\t\tthis[1] = Number(_x.y);\n\t\t\t\t\t} else if (_x.length === 2) {\n\t\t\t\t\t\tthis[0] = Number(_x[0]);\n\t\t\t\t\t\tthis[1] = Number(_x[1]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis[0] = Number(_x);\n\t\t\t\t\tthis[1] = Number(_y);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Calculates the distance between the insatnce and a point object.\n\t\t  * @arg {Point} _point - A point object {x,y}.\n\t\t  * @returns {Size}\n\t\t  */\n\t\t\tthis.distance = function (_point) {\n\t\t\t\tif (_point.x !== undefined && _point.y !== undefined) {\n\t\t\t\t\treturn Size.create().set(_point.x - this.x, _point.y - this.y);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn null;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Sets x and y properties on the given object. If the object is an HTML node then the left and top properties will be set on the nodes style object.\n\t\t  * @arg {object|HTMLElement} - The object or DOM node.\n\t\t  * @returns {this}\n\t\t  */\n\t\t\tthis.applyTo = function (_object) {\n\t\t\t\tif (_object.nodeType === document.ELEMENT_NODE) {\n\t\t\t\t\t_object.style.left = this.x;\n\t\t\t\t\t_object.style.top = this.y;\n\t\t\t\t} else {\n\t\t\t\t\t_object.x = this.x;\n\t\t\t\t\t_object.y = this.y;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Rotate the point based on an origin point and an angle in degrees.\n\t\t  * @arg {Point} _origin - A point object {x,y}.\n\t\t  * @arg {number} _angle - The angle of rotation in degrees.\n\t\t  * @returns {this}\n\t\t  */\n\t\t\tthis.rotate = function (_origin, _angle) {\n\t\t\t\tvar x, y, rad;\n\t\t\n\t\t\t\trad = _angle * (Math.PI / 180);\n\t\t\n\t\t\t\tx = this.x - _origin.x;\n\t\t\t\ty = this.y - _origin.y;\n\t\t\n\t\t\t\treturn this.create().set(Math.sin(rad) * x - Math.cos(rad) * y + _origin.x, Math.cos(rad) * x + Math.sin(rad) * y + _origin.y);\n\t\t\t};\n\t\t});\n\t\t\n\t\texports['default'] = { Dimension: Dimension, Size: Size, Point: Point };\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 15 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = { \"default\": __webpack_require__(16), __esModule: true };\n\t\n\t/***/ },\n\t/* 16 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar $ = __webpack_require__(8);\n\t\tmodule.exports = function defineProperties(T, D){\n\t\t  return $.setDescs(T, D);\n\t\t};\n\t\n\t/***/ },\n\t/* 17 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Base object type for 'array like' objects.\n\t\t * @module\n\t\t * @requires module:util\n\t\t * @requires module:types/Basic\n\t\t */\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesBasic = __webpack_require__(19);\n\t\t\n\t\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `BasicArray.create()` to get a new instance.\n\t\t * @classdesc A base object type for 'array like' object.\n\t\t * @class\n\t\t * @extends external:Array\n\t\t * @extends module:types/Basic~Basic\n\t\t * @mixes module:types/Basic~Basic\n\t\t */\n\t\tvar BasicArray = (function () {\n\t\t  /**\n\t\t   * Objects with this as an own property will be identified as the root object.\n\t\t   * @memberof module:types/BasicArray~BasicArray\n\t\t   * @readonly\n\t\t   * @default\n\t\t   */\n\t\t  this.baseType = 'TYPE_BASIC_ARRAY';\n\t\t\n\t\t  _util2['default'].mixin(this, _typesBasic2['default']);\n\t\t\n\t\t  return this;\n\t\t}).call([]);\n\t\t\n\t\texports['default'] = BasicArray;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 18 */\n\t/***/ function(module, exports) {\n\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Utility functions.\n\t\t * @namespace\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t * @memberof module:play~pl\n\t\t */\n\t\tvar util = new function () {\n\t\t\n\t\t\t/**\n\t\t  * Accepts one or more objects to combine their own properties to single object.\n\t\t  * @arg {object} _target - The object that will recieve all members.\n\t\t  * @arg {object} _sources... - The object(s) to join with the '_target'.\n\t\t  * @returns {object} _target\n\t\t  */\n\t\t\tthis.mixin = function () {\n\t\t\t\tvar member, i, target, objs;\n\t\t\n\t\t\t\ttarget = arguments[0];\n\t\t\t\tobjs = [].slice.call(arguments, 1);\n\t\t\n\t\t\t\tfor (i = 0; i < objs.length; i += 1) {\n\t\t\t\t\tfor (member in objs[i]) {\n\t\t\t\t\t\tif (!objs[i].hasOwnProperty(member)) continue;\n\t\t\t\t\t\ttarget[member] = objs[i][member];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn target;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Matches the name of the key which references the given pointer inside an object. Like indexOf() for objects.\n\t\t  * @arg {object} _obj - Object to search in.\n\t\t  * @arg {*} _member - The reference which is expected to be in the object as a property.\n\t\t  * @returns {string} The name of the key in the object matching '_member'.\n\t\t  */\n\t\t\tthis.keyOf = function (_obj, _member) {\n\t\t\t\tvar member;\n\t\t\n\t\t\t\tfor (member in _obj) {\n\t\t\t\t\tif (!_obj.hasOwnProperty(member)) continue;\n\t\t\t\t\tif (_obj[member] === _member) return member;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn null;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Matches the object, deep in the prototype chain, which is the owner of the property referencing the given pointer.\n\t\t  * @arg {object} _obj - The object to search.\n\t\t  * @arg {*} _member - The reference which is expected to be a property in the prototype chain.\n\t\t  * @return {object} An object containing the name of the property and the owning object. {name, object}\n\t\t  */\n\t\t\tthis.getOwner = function (_obj, _member) {\n\t\t\t\tvar prototype, name;\n\t\t\n\t\t\t\tprototype = Object.getPrototypeOf(_obj);\n\t\t\n\t\t\t\t// keep searching until we go as deep as we can go.\n\t\t\t\twhile (prototype) {\n\t\t\t\t\t// search for the key in the prototype\n\t\t\t\t\tname = util.keyOf(prototype, _member);\n\t\t\n\t\t\t\t\t// If we found the key in the prototype then we found\n\t\t\t\t\t// our match and we can break out of the loop.\n\t\t\t\t\tif (name) break;\n\t\t\n\t\t\t\t\t// Otherwise go deeper (thats what she said ;p)\n\t\t\t\t\tprototype = Object.getPrototypeOf(prototype);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn {\n\t\t\t\t\tname: name,\n\t\t\t\t\tobject: prototype\n\t\t\t\t};\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Given a range; provides a random number in that range.\n\t\t  * @function play~pl.util.random\n\t\t  * @arg {number} _rangeA - A number for the low end of the range.\n\t\t  * @arg {number} _rangeB - The top end of the range.\n\t\t  * @returns {number|*} The resulting number in range or the member found at random.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Given an iterable; provides a random item.\n\t\t  * @arg {array} _collection - The iterable.\n\t\t  * @returns {number|*} The member found at random.\n\t\t  */\n\t\t\tthis.random = function (_collection_rangeA, _rangeB) {\n\t\t\t\tvar index, val;\n\t\t\n\t\t\t\tindex = Math.floor(Math.random() * _collection_rangeA.length);\n\t\t\n\t\t\t\tif (arguments.length === 2) {\n\t\t\t\t\tval = Math.round(Math.random() * _rangeB);\n\t\t\n\t\t\t\t\treturn val < _collection_rangeA ? _collection_rangeA : val;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (index === _collection_rangeA.length) index = _collection_rangeA.length - 1;\n\t\t\n\t\t\t\treturn _collection_rangeA && _collection_rangeA[index];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Take string and makes it dot notation friendly.\n\t\t  * @arg {string} _id - The string to transform.\n\t\t  * @arg {boolean} _camelCase - Transform with camel case.\n\t\t  * @returns {string}\n\t\t  */\n\t\t\tthis.transformId = function (_id, _camelCase) {\n\t\t\t\tif (_id && _camelCase) {\n\t\t\t\t\treturn _id.replace(/[-\\s]+([\\w\\d]?)/g, function (_match) {\n\t\t\t\t\t\treturn RegExp.$1.toUpperCase();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\treturn _id && _id.replace(/[-\\s]+/g, '_');\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Test all arguments for != null\n\t\t  * @return {boolean}\n\t\t  */\n\t\t\tthis.isSet = function () {\n\t\t\t\treturn [].every.call(arguments, function (_arg) {\n\t\t\t\t\treturn _arg != null;\n\t\t\t\t});\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Parses a formated string and calculates it in milliseconds.\n\t\t  * @arg {string} _source - The formated string for calculation in the pattern '1d 1h 1m 1s'.\n\t\t  * @return {number}\n\t\t  */\n\t\t\tthis.toMillisec = function (_source) {\n\t\t\t\tvar tokens, time, units;\n\t\t\n\t\t\t\tif (typeof _source === 'number') return _source;\n\t\t\t\tif (!_source) return;\n\t\t\n\t\t\t\ttokens = _source.split(/\\s+/);\n\t\t\t\ttime = 0;\n\t\t\t\tunits = {\n\t\t\t\t\td: 24 * 60 * 60 * 1000,\n\t\t\t\t\th: 60 * 60 * 1000,\n\t\t\t\t\tm: 60 * 1000,\n\t\t\t\t\ts: 1000\n\t\t\t\t};\n\t\t\n\t\t\t\ttokens.forEach(function (_token) {\n\t\t\t\t\tvar unit, value;\n\t\t\n\t\t\t\t\tunit = (_token.match(/[dhms]/) || [])[0];\n\t\t\n\t\t\t\t\tif (unit) {\n\t\t\t\t\t\tvalue = Number(_token.slice(0, -1));\n\t\t\t\t\t\ttime += value * units[unit];\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttime += Number(_token);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\treturn time;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Needs no introduction\n\t\t  * @arg {iterable} _collection - iterable.\n\t\t  * @return {array}\n\t\t  */\n\t\t\tthis.toArray = function (_collection) {\n\t\t\t\treturn Array.prototype.map.call(_collection, function (i) {\n\t\t\t\t\treturn i;\n\t\t\t\t});\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Resolves the value in the object at the given path.\n\t\t  * @arg {object} _obj - The object to query.\n\t\t  * @arg {string} _path - The path to the desired reference.\n\t\t  * @returns {*} The resulting reference value.\n\t\t  * @example\n\t\t  * var user = {\n\t\t  *   name: 'John',\n\t\t  *   family: {\n\t\t  *\t   guardians: {David}, // property could be an array of multiple guardians.\n\t\t  *     siblings: [{Jane}, {Thomas}] // collection of user objects.\n\t\t  *   }\n\t\t  * };\n\t\t  *\n\t\t  * pl.util.resolvePath(user, 'family.sliblings[2].name');\n\t\t  * // Matches the `guardians` propery if `guardians[0]` is undefined when `?` is used.\n\t\t  * pl.util.resolvePath(user, 'family.guardians[0]?.name'); \n\t\t  */\n\t\t\tthis.resolvePath = function (_obj, _path) {\n\t\t\t\tvar path, obj, i, name, index, testArray;\n\t\t\n\t\t\t\tpath = _path.split('.');\n\t\t\t\tobj = _obj;\n\t\t\t\ti = 0;\n\t\t\n\t\t\t\twhile (obj) {\n\t\t\t\t\ttestArray = /\\?$/.test(path[i]);\n\t\t\t\t\tindex = (path[i].match(/\\[(\\d+)\\]/) || [])[1] || -1;\n\t\t\t\t\tname = ~index ? path[i].slice(0, path[i].indexOf('[')) : path[i];\n\t\t\t\t\tobj = obj[name];\n\t\t\n\t\t\t\t\tif (~index && obj) {\n\t\t\t\t\t\tobj = testArray ? obj[index] || obj : obj[index];\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\ti += 1;\n\t\t\n\t\t\t\t\tif (path.length === i) break;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn obj;\n\t\t\t};\n\t\t\n\t\t\tthis.assignRef = function (_obj, _name, _ref) {\n\t\t\t\tvar name;\n\t\t\n\t\t\t\tname = util.transformId(_name, true);\n\t\t\n\t\t\t\tif (_obj[name] === _ref) return _ref;\n\t\t\n\t\t\t\tif (_obj[name]) {\n\t\t\t\t\tif (!_obj[name].__refCollction__) {\n\t\t\t\t\t\t_obj[name] = [_obj[name]];\n\t\t\n\t\t\t\t\t\tObject.defineProperty(_obj[name], '__refCollction__', {\n\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\tenumerable: false,\n\t\t\t\t\t\t\twriteable: false,\n\t\t\t\t\t\t\tconfigureable: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t_obj[name].push(_ref);\n\t\t\t\t} else {\n\t\t\t\t\t_obj[name] = _ref;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn _obj[name];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * N0 OPeration.\n\t\t  */\n\t\t\tthis.noop = function () {};\n\t\t\n\t\t\t/**\n\t\t  * Get the file name out of a simple file path.\n\t\t  * @arg {string} _path - The file path. \n\t\t  * @returns {string} The extracted name.\n\t\t  */\n\t\t\tthis.resolveFileName = function (_path) {\n\t\t\t\treturn _path.slice(_path.lastIndexOf('/') + 1);\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Produces a string following the specied pattern. Which is a mix of x, y, z and - characters.\n\t\t  * - x; produces a letter a-f.\n\t\t  * - y; produces a digit 0-9.\n\t\t  * - z; produces a 4 character hex value derived from the now time stamp.\n\t\t  * @arg {string} _pattern - The xyz pattern.\n\t\t  * @returns {string} The generated ID.\n\t\t  */\n\t\t\tthis.createId = function (_pattern) {\n\t\t\t\treturn (_pattern || 'xy-z').replace(/[xyz]/g, function (_token) {\n\t\t\t\t\tif (_token === 'x') return (Math.floor(Math.random() * 5) + 10).toString(16);\n\t\t\t\t\tif (_token === 'y') return Math.floor(Math.random() * 10).toString(16);\n\t\t\t\t\treturn Math.floor(Math.random() * Date.now()).toString(16).slice(0, 4);\n\t\t\t\t});\n\t\t\t};\n\t\t}();\n\t\t\n\t\texports['default'] = util;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 19 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _Object$create = __webpack_require__(20)['default'];\n\t\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Base object type for 'classes' implementing methods for extention and super callbacks.\n\t\t * @module\n\t\t * @requires module:play~pl.util\n\t\t */\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Basic.create()` to get a new instance.\n\t\t * @classdesc The base type for all objects which will act as prototypes.\n\t\t * @class\n\t\t */\n\t\tvar Basic = {\n\t\t\t/**\n\t\t  * Objects with this as an own property will be identified as the root object.\n\t\t  * @readonly\n\t\t  * @default\n\t\t  */\n\t\t\tbaseType: 'TYPE_BASIC',\n\t\t\n\t\t\t/**\n\t\t  * Creates a new object with the current object as its prototype.\n\t\t  * @instance\n\t\t  * @returns {Basic} The new instance.\n\t\t  */\n\t\t\tcreate: function create() {\n\t\t\t\treturn _Object$create(this);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Creates a new object using a constructor function or object with the current object as its prototype.\n\t\t  * @instance\n\t\t  * @arg {Function|Object} _implementation - The implementation of the new type as either a constructor function or object to mixin.\n\t\t  * @returns {Basic} The new instance.\n\t\t  *\n\t\t  * @todo define constructor property\n\t\t  */\n\t\t\textend: function extend(_implementation) {\n\t\t\t\tvar instance;\n\t\t\n\t\t\t\tif (!_implementation) return null;\n\t\t\n\t\t\t\tswitch (typeof _implementation) {\n\t\t\t\t\tcase 'function':\n\t\t\t\t\t\t_implementation.prototype = this;\n\t\t\t\t\t\tinstance = new _implementation();\n\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tinstance = this.create();\n\t\t\t\t\t\tinstance.mixin(_implementation);\n\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error('TypeError: Invalid type given for object extention.', typeof _implementation);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn instance;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Accepts one or more objects to combine their own properties to the instance.\n\t\t  * @instance\n\t\t  * @arg {object} _sources... - The object(s) to join with the instance.\n\t\t  * @returns this\n\t\t  */\n\t\t\tmixin: function mixin() {\n\t\t\t\treturn _util2['default'].mixin.apply(null, [this].concat([].slice.call(arguments, 0)));\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Matches the name of the key which references the given pointer inside the instance. Like indexOf() for objects.\n\t\t  * @instance\n\t\t  * @arg {*} _member - The reference which is expected to be in the object as a property.\n\t\t  * @returns {string} The name of the key in the object matching '_member'.\n\t\t  */\n\t\t\tkeyOf: function keyOf(_member) {\n\t\t\t\treturn _util2['default'].keyOf(this, _member);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Performs a super callback of the function which called it. Allowing you to still invoke a method which was overridden.\n\t\t  * @instance\n\t\t  * @arg {*} _args... - Whatever amount of arguments the caller takes.\n\t\t  * @returns {*} Whatever the caller returns.\n\t\t  */\n\t\t\tproto: function proto() {\n\t\t\t\tvar method, name, owner, prototype;\n\t\t\n\t\t\t\t// Get the function which invoked proto() in the call stack.\n\t\t\t\t// If the caller is a behavior then we retrieve the method.\n\t\t\t\tmethod = this.proto.caller.method || this.proto.caller;\n\t\t\n\t\t\t\t// Check to see if 'this' owns the method.\n\t\t\t\t// NOTE: We may want to move this logic into getOwner().\n\t\t\t\tif (name = this.keyOf(method)) {\n\t\t\t\t\tprototype = Object.getPrototypeOf(this);\n\t\t\t\t}\n\t\t\n\t\t\t\t// Otherwise find the object which owns the caller function.\n\t\t\t\telse {\n\t\t\t\t\t\towner = _util2['default'].getOwner(this, method);\n\t\t\t\t\t\tname = owner.name;\n\t\t\t\t\t\tprototype = Object.getPrototypeOf(owner.object);\n\t\t\t\t\t}\n\t\t\n\t\t\t\tmethod = prototype[name];\n\t\t\n\t\t\t\tif (!method) {\n\t\t\t\t\tconsole.error('ReferenceError: Unable to locate prototype method.', this.proto.caller);\n\t\t\t\t\tdebugger;\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn method.apply(this, arguments);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Performs a super callback of the function which called it. Unlike `proto()` which looks for the overidden method, sup looks for the base class' implementation.\n\t\t  * @instance\n\t\t  * @arg {*} _args... - Whatever amount of arguments the caller takes.\n\t\t  * @returns {*} Whatever the caller returns.\n\t\t  */\n\t\t\tsup: function sup() {\n\t\t\t\tvar method, name, owner, prototype;\n\t\t\n\t\t\t\t// Get the function which invoked sup() in the call stack.\n\t\t\t\tmethod = this.sup.caller;\n\t\t\t\towner = _util2['default'].getOwner(this, this.baseType);\n\t\t\t\tprototype = owner.object;\n\t\t\t\tname = this.keyOf(method);\n\t\t\n\t\t\t\t// Check to see if 'this' owns the method.\n\t\t\t\t// NOTE: We may want to move this logic into getOwner().\n\t\t\t\t//\n\t\t\t\tif (!name) {\n\t\t\t\t\towner = _util2['default'].getOwner(this, method);\n\t\t\t\t\tname = owner.name;\n\t\t\t\t}\n\t\t\n\t\t\t\tmethod = prototype[name];\n\t\t\n\t\t\t\tif (!method) {\n\t\t\t\t\tconsole.error('ReferenceError: Unable to locate prototype method.', this.sup.caller);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn method.apply(this, arguments);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Provides the object type.\n\t\t  * @instance\n\t\t  */\n\t\t\ttoString: function toString() {\n\t\t\t\tvar type;\n\t\t\n\t\t\t\tif (this.baseType) {\n\t\t\t\t\ttype = this.baseType.replace('TYPE_', '');\n\t\t\t\t\ttype = type.slice(0, 1) + type.slice(1).toLowerCase();\n\t\t\t\t} else {\n\t\t\t\t\ttype = this.constructor.name || 'Object';\n\t\t\t\t}\n\t\t\n\t\t\t\treturn '[object ' + type + ']';\n\t\t\t}\n\t\t\n\t\t};\n\t\t\n\t\texports['default'] = Basic;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 20 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = { \"default\": __webpack_require__(21), __esModule: true };\n\t\n\t/***/ },\n\t/* 21 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar $ = __webpack_require__(8);\n\t\tmodule.exports = function create(P, D){\n\t\t  return $.create(P, D);\n\t\t};\n\t\n\t/***/ },\n\t/* 22 */\n\t/***/ function(module, exports) {\n\t\n\t\texports.__esModule = true;\n\t\t/**\r\n\t\t *\r\n\t\t * Copy of the deleted repository epistemex/transformation-matrix-js.\r\n\t\t * All rights are reserved to Epistemex.\r\n\t\t *\r\n\t\t * 2D transformation matrix object initialized with identity matrix.\r\n\t\t *\r\n\t\t * The matrix can synchronize a canvas context by supplying the context\r\n\t\t * as an argument, or later apply current absolute transform to an\r\n\t\t * existing context.\r\n\t\t *\r\n\t\t * All values are handled as floating point values.\r\n\t\t *\r\n\t\t * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n\t\t * @prop {number} a - scale x\r\n\t\t * @prop {number} b - shear y\r\n\t\t * @prop {number} c - shear x\r\n\t\t * @prop {number} d - scale y\r\n\t\t * @prop {number} e - translate x\r\n\t\t * @prop {number} f - translate y\r\n\t\t * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n\t\t * @constructor\r\n\t\t */\n\t\tfunction Matrix(context) {\n\t\t\n\t\t    var me = this;\n\t\t    me._t = me.transform;\n\t\t\n\t\t    me.a = me.d = 1;\n\t\t    me.b = me.c = me.e = me.f = 0;\n\t\t\n\t\t    me.context = context;\n\t\t\n\t\t    // reset canvas transformations (if any) to enable 100% sync.\n\t\t    if (context) context.setTransform(1, 0, 0, 1, 0, 0);\n\t\t}\n\t\t\n\t\tMatrix.prototype = {\n\t\t\n\t\t    /**\r\n\t\t     * Concatenates transforms of this matrix onto the given child matrix and\r\n\t\t     * returns a new matrix. This instance is used on left side.\r\n\t\t     *\r\n\t\t     * @param {Matrix} cm - child matrix to apply concatenation to\r\n\t\t     * @returns {Matrix}\r\n\t\t     */\n\t\t    concat: function concat(cm) {\n\t\t        return this.clone()._t(cm.a, cm.b, cm.c, cm.d, cm.e, cm.f);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Flips the horizontal values.\r\n\t\t     */\n\t\t    flipX: function flipX() {\n\t\t        return this._t(-1, 0, 0, 1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Flips the vertical values.\r\n\t\t     */\n\t\t    flipY: function flipY() {\n\t\t        return this._t(1, 0, 0, -1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Reflects incoming (velocity) vector on the normal which will be the\r\n\t\t     * current transformed x axis. Call when a trigger condition is met.\r\n\t\t     *\r\n\t\t     * NOTE: BETA, simple implementation\r\n\t\t     *\r\n\t\t     * @param {number} x - vector end point for x (start = 0)\r\n\t\t     * @param {number} y - vector end point for y (start = 0)\r\n\t\t     * @returns {{x: number, y: number}}\r\n\t\t     */\n\t\t    reflectVector: function reflectVector(x, y) {\n\t\t\n\t\t        var v = this.applyToPoint(0, 1),\n\t\t            d = 2 * (v.x * x + v.y * y);\n\t\t\n\t\t        x -= d * v.x;\n\t\t        y -= d * v.y;\n\t\t\n\t\t        return { x: x, y: y };\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Short-hand to reset current matrix to an identity matrix.\r\n\t\t     */\n\t\t    reset: function reset() {\n\t\t        return this.setTransform(1, 0, 0, 1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Rotates current matrix accumulative by angle.\r\n\t\t     * @param {number} angle - angle in radians\r\n\t\t     */\n\t\t    rotate: function rotate(angle) {\n\t\t        var cos = Math.cos(angle),\n\t\t            sin = Math.sin(angle);\n\t\t        return this._t(cos, sin, -sin, cos, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Converts a vector given as x and y to angle, and\r\n\t\t     * rotates (accumulative).\r\n\t\t     * @param x\r\n\t\t     * @param y\r\n\t\t     * @returns {*}\r\n\t\t     */\n\t\t    rotateFromVector: function rotateFromVector(x, y) {\n\t\t        return this.rotate(Math.atan2(y, x));\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Helper method to make a rotation based on an angle in degrees.\r\n\t\t     * @param {number} angle - angle in degrees\r\n\t\t     */\n\t\t    rotateDeg: function rotateDeg(angle) {\n\t\t        return this.rotate(angle * Math.PI / 180);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Scales current matrix uniformly and accumulative.\r\n\t\t     * @param {number} f - scale factor for both x and y (1 does nothing)\r\n\t\t     */\n\t\t    scaleU: function scaleU(f) {\n\t\t        return this._t(f, 0, 0, f, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Scales current matrix accumulative.\r\n\t\t     * @param {number} sx - scale factor x (1 does nothing)\r\n\t\t     * @param {number} sy - scale factor y (1 does nothing)\r\n\t\t     */\n\t\t    scale: function scale(sx, sy) {\n\t\t        return this._t(sx, 0, 0, sy, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Scales current matrix on x axis accumulative.\r\n\t\t     * @param {number} sx - scale factor x (1 does nothing)\r\n\t\t     */\n\t\t    scaleX: function scaleX(sx) {\n\t\t        return this._t(sx, 0, 0, 1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Scales current matrix on y axis accumulative.\r\n\t\t     * @param {number} sy - scale factor y (1 does nothing)\r\n\t\t     */\n\t\t    scaleY: function scaleY(sy) {\n\t\t        return this._t(1, 0, 0, sy, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply shear to the current matrix accumulative.\r\n\t\t     * @param {number} sx - amount of shear for x\r\n\t\t     * @param {number} sy - amount of shear for y\r\n\t\t     */\n\t\t    shear: function shear(sx, sy) {\n\t\t        return this._t(1, sy, sx, 1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply shear for x to the current matrix accumulative.\r\n\t\t     * @param {number} sx - amount of shear for x\r\n\t\t     */\n\t\t    shearX: function shearX(sx) {\n\t\t        return this._t(1, 0, sx, 1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply shear for y to the current matrix accumulative.\r\n\t\t     * @param {number} sy - amount of shear for y\r\n\t\t     */\n\t\t    shearY: function shearY(sy) {\n\t\t        return this._t(1, sy, 0, 1, 0, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply skew to the current matrix accumulative.\r\n\t\t     * @param {number} ax - angle of skew for x\r\n\t\t     * @param {number} ay - angle of skew for y\r\n\t\t     */\n\t\t    skew: function skew(ax, ay) {\n\t\t        return this.shear(Math.tan(ax), Math.tan(ay));\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply skew for x to the current matrix accumulative.\r\n\t\t     * @param {number} ax - angle of skew for x\r\n\t\t     */\n\t\t    skewX: function skewX(ax) {\n\t\t        return this.shearX(Math.tan(ax));\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply skew for y to the current matrix accumulative.\r\n\t\t     * @param {number} ay - angle of skew for y\r\n\t\t     */\n\t\t    skewY: function skewY(ay) {\n\t\t        return this.shearY(Math.tan(ay));\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Set current matrix to new absolute matrix.\r\n\t\t     * @param {number} a - scale x\r\n\t\t     * @param {number} b - shear y\r\n\t\t     * @param {number} c - shear x\r\n\t\t     * @param {number} d - scale y\r\n\t\t     * @param {number} e - translate x\r\n\t\t     * @param {number} f - translate y\r\n\t\t     */\n\t\t    setTransform: function setTransform(a, b, c, d, e, f) {\n\t\t        var me = this;\n\t\t        me.a = a;\n\t\t        me.b = b;\n\t\t        me.c = c;\n\t\t        me.d = d;\n\t\t        me.e = e;\n\t\t        me.f = f;\n\t\t        return me._x();\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Translate current matrix accumulative.\r\n\t\t     * @param {number} tx - translation for x\r\n\t\t     * @param {number} ty - translation for y\r\n\t\t     */\n\t\t    translate: function translate(tx, ty) {\n\t\t        return this._t(1, 0, 0, 1, tx, ty);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Translate current matrix on x axis accumulative.\r\n\t\t     * @param {number} tx - translation for x\r\n\t\t     */\n\t\t    translateX: function translateX(tx) {\n\t\t        return this._t(1, 0, 0, 1, tx, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Translate current matrix on y axis accumulative.\r\n\t\t     * @param {number} ty - translation for y\r\n\t\t     */\n\t\t    translateY: function translateY(ty) {\n\t\t        return this._t(1, 0, 0, 1, 0, ty);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Multiplies current matrix with new matrix values.\r\n\t\t     * @param {number} a2 - scale x\r\n\t\t     * @param {number} b2 - shear y\r\n\t\t     * @param {number} c2 - shear x\r\n\t\t     * @param {number} d2 - scale y\r\n\t\t     * @param {number} e2 - translate x\r\n\t\t     * @param {number} f2 - translate y\r\n\t\t     */\n\t\t    transform: function transform(a2, b2, c2, d2, e2, f2) {\n\t\t\n\t\t        var me = this,\n\t\t            a1 = me.a,\n\t\t            b1 = me.b,\n\t\t            c1 = me.c,\n\t\t            d1 = me.d,\n\t\t            e1 = me.e,\n\t\t            f1 = me.f;\n\t\t\n\t\t        /* matrix order (canvas compatible):\r\n\t\t         * ace\r\n\t\t         * bdf\r\n\t\t         * 001\r\n\t\t         */\n\t\t        me.a = a1 * a2 + c1 * b2;\n\t\t        me.b = b1 * a2 + d1 * b2;\n\t\t        me.c = a1 * c2 + c1 * d2;\n\t\t        me.d = b1 * c2 + d1 * d2;\n\t\t        me.e = a1 * e2 + c1 * f2 + e1;\n\t\t        me.f = b1 * e2 + d1 * f2 + f1;\n\t\t\n\t\t        return me._x();\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Divide this matrix on input matrix which must be invertible.\r\n\t\t     * @param {Matrix} m - matrix to divide on (divisor)\r\n\t\t     * @returns {Matrix}\r\n\t\t     */\n\t\t    divide: function divide(m) {\n\t\t\n\t\t        if (!m.isInvertible()) throw \"Input matrix is not invertible\";\n\t\t\n\t\t        var im = m.inverse();\n\t\t\n\t\t        return this._t(im.a, im.b, im.c, im.d, im.e, im.f);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Divide current matrix on scalar value != 0.\r\n\t\t     * @param {number} d - divisor (can not be 0)\r\n\t\t     * @returns {Matrix}\r\n\t\t     */\n\t\t    divideScalar: function divideScalar(d) {\n\t\t\n\t\t        var me = this;\n\t\t        me.a /= d;\n\t\t        me.b /= d;\n\t\t        me.c /= d;\n\t\t        me.d /= d;\n\t\t        me.e /= d;\n\t\t        me.f /= d;\n\t\t\n\t\t        return me._x();\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Get an inverse matrix of current matrix. The method returns a new\r\n\t\t     * matrix with values you need to use to get to an identity matrix.\r\n\t\t     * Context from parent matrix is not applied to the returned matrix.\r\n\t\t     * @returns {Matrix}\r\n\t\t     */\n\t\t    inverse: function inverse() {\n\t\t\n\t\t        if (this.isIdentity()) {\n\t\t            return new Matrix();\n\t\t        } else if (!this.isInvertible()) {\n\t\t            throw \"Matrix is not invertible.\";\n\t\t        } else {\n\t\t            var me = this,\n\t\t                a = me.a,\n\t\t                b = me.b,\n\t\t                c = me.c,\n\t\t                d = me.d,\n\t\t                e = me.e,\n\t\t                f = me.f,\n\t\t                m = new Matrix(),\n\t\t                dt = a * d - b * c; // determinant(), skip DRY here...\n\t\t\n\t\t            m.a = d / dt;\n\t\t            m.b = -b / dt;\n\t\t            m.c = -c / dt;\n\t\t            m.d = a / dt;\n\t\t            m.e = (c * f - d * e) / dt;\n\t\t            m.f = -(a * f - b * e) / dt;\n\t\t\n\t\t            return m;\n\t\t        }\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Interpolate this matrix with another and produce a new matrix.\r\n\t\t     * t is a value in the range [0.0, 1.0] where 0 is this instance and\r\n\t\t     * 1 is equal to the second matrix. The t value is not constrained.\r\n\t\t     *\r\n\t\t     * Context from parent matrix is not applied to the returned matrix.\r\n\t\t     *\r\n\t\t     * Note: this interpolation is naive. For animation use the\r\n\t\t     * intrpolateAnim() method instead.\r\n\t\t     *\r\n\t\t     * @param {Matrix} m2 - the matrix to interpolate with.\r\n\t\t     * @param {number} t - interpolation [0.0, 1.0]\r\n\t\t     * @param {CanvasRenderingContext2D} [context] - optional context to affect\r\n\t\t     * @returns {Matrix} - new instance with the interpolated result\r\n\t\t     */\n\t\t    interpolate: function interpolate(m2, t, context) {\n\t\t\n\t\t        var me = this,\n\t\t            m = context ? new Matrix(context) : new Matrix();\n\t\t\n\t\t        m.a = me.a + (m2.a - me.a) * t;\n\t\t        m.b = me.b + (m2.b - me.b) * t;\n\t\t        m.c = me.c + (m2.c - me.c) * t;\n\t\t        m.d = me.d + (m2.d - me.d) * t;\n\t\t        m.e = me.e + (m2.e - me.e) * t;\n\t\t        m.f = me.f + (m2.f - me.f) * t;\n\t\t\n\t\t        return m._x();\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Interpolate this matrix with another and produce a new matrix.\r\n\t\t     * t is a value in the range [0.0, 1.0] where 0 is this instance and\r\n\t\t     * 1 is equal to the second matrix. The t value is not constrained.\r\n\t\t     *\r\n\t\t     * Context from parent matrix is not applied to the returned matrix.\r\n\t\t     *\r\n\t\t     * Note: this interpolation method uses decomposition which makes\r\n\t\t     * it suitable for animations (in particular where rotation takes\r\n\t\t     * places).\r\n\t\t     *\r\n\t\t     * @param {Matrix} m2 - the matrix to interpolate with.\r\n\t\t     * @param {number} t - interpolation [0.0, 1.0]\r\n\t\t     * @param {CanvasRenderingContext2D} [context] - optional context to affect\r\n\t\t     * @returns {Matrix} - new instance with the interpolated result\r\n\t\t     */\n\t\t    interpolateAnim: function interpolateAnim(m2, t, context) {\n\t\t\n\t\t        var me = this,\n\t\t            m = context ? new Matrix(context) : new Matrix(),\n\t\t            d1 = me.decompose(),\n\t\t            d2 = m2.decompose(),\n\t\t            rotation = d1.rotation + (d2.rotation - d1.rotation) * t,\n\t\t            translateX = d1.translate.x + (d2.translate.x - d1.translate.x) * t,\n\t\t            translateY = d1.translate.y + (d2.translate.y - d1.translate.y) * t,\n\t\t            scaleX = d1.scale.x + (d2.scale.x - d1.scale.x) * t,\n\t\t            scaleY = d1.scale.y + (d2.scale.y - d1.scale.y) * t;\n\t\t\n\t\t        m.translate(translateX, translateY);\n\t\t        m.rotate(rotation);\n\t\t        m.scale(scaleX, scaleY);\n\t\t\n\t\t        return m._x();\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Decompose the current matrix into simple transforms using either\r\n\t\t     * QR (default) or LU decomposition. Code adapted from\r\n\t\t     * http://www.maths-informatique-jeux.com/blog/frederic/?post/2013/12/01/Decomposition-of-2D-transform-matrices\r\n\t\t     *\r\n\t\t     * The result must be applied in the following order to reproduce the current matrix:\r\n\t\t     *\r\n\t\t     *     QR: translate -> rotate -> scale -> skewX\r\n\t\t     *     LU: translate -> skewY  -> scale -> skewX\r\n\t\t     *\r\n\t\t     * @param {boolean} [useLU=false] - set to true to use LU rather than QR algorithm\r\n\t\t     * @returns {*} - an object containing current decomposed values (rotate, skew, scale, translate)\r\n\t\t     */\n\t\t    decompose: function decompose(useLU) {\n\t\t\n\t\t        var me = this,\n\t\t            a = me.a,\n\t\t            b = me.b,\n\t\t            c = me.c,\n\t\t            d = me.d,\n\t\t            acos = Math.acos,\n\t\t            atan = Math.atan,\n\t\t            sqrt = Math.sqrt,\n\t\t            pi = Math.PI,\n\t\t            translate = { x: me.e, y: me.f },\n\t\t            rotation = 0,\n\t\t            scale = { x: 1, y: 1 },\n\t\t            skew = { x: 0, y: 0 },\n\t\t            determ = a * d - b * c; // determinant(), skip DRY here...\n\t\t\n\t\t        if (useLU) {\n\t\t            if (a) {\n\t\t                skew = { x: atan(c / a), y: atan(b / a) };\n\t\t                scale = { x: a, y: determ / a };\n\t\t            } else if (b) {\n\t\t                rotation = pi * 0.5;\n\t\t                scale = { x: b, y: determ / b };\n\t\t                skew.x = atan(d / b);\n\t\t            } else {\n\t\t                // a = b = 0\n\t\t                scale = { x: c, y: d };\n\t\t                skew.x = pi * 0.25;\n\t\t            }\n\t\t        } else {\n\t\t            // Apply the QR-like decomposition.\n\t\t            if (a || b) {\n\t\t                var r = sqrt(a * a + b * b);\n\t\t                rotation = b > 0 ? acos(a / r) : -acos(a / r);\n\t\t                scale = { x: r, y: determ / r };\n\t\t                skew.x = atan((a * c + b * d) / (r * r));\n\t\t            } else if (c || d) {\n\t\t                var s = sqrt(c * c + d * d);\n\t\t                rotation = pi * 0.5 - (d > 0 ? acos(-c / s) : -acos(c / s));\n\t\t                scale = { x: determ / s, y: s };\n\t\t                skew.y = atan((a * c + b * d) / (s * s));\n\t\t            } else {\n\t\t                // a = b = c = d = 0\n\t\t                scale = { x: 0, y: 0 }; // = invalid matrix\n\t\t            }\n\t\t        }\n\t\t\n\t\t        return {\n\t\t            scale: scale,\n\t\t            translate: translate,\n\t\t            rotation: rotation,\n\t\t            skew: skew\n\t\t        };\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Returns the determinant of the current matrix.\r\n\t\t     * @returns {number}\r\n\t\t     */\n\t\t    determinant: function determinant() {\n\t\t        return this.a * this.d - this.b * this.c;\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply current matrix to x and y point.\r\n\t\t     * Returns a point object.\r\n\t\t     *\r\n\t\t     * @param {number} x - value for x\r\n\t\t     * @param {number} y - value for y\r\n\t\t     * @returns {{x: number, y: number}} A new transformed point object\r\n\t\t     */\n\t\t    applyToPoint: function applyToPoint(x, y) {\n\t\t\n\t\t        var me = this;\n\t\t\n\t\t        return {\n\t\t            x: x * me.a + y * me.c + me.e,\n\t\t            y: x * me.b + y * me.d + me.f\n\t\t        };\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply current matrix to array with point objects or point pairs.\r\n\t\t     * Returns a new array with points in the same format as the input array.\r\n\t\t     *\r\n\t\t     * A point object is an object literal:\r\n\t\t     *\r\n\t\t     * {x: x, y: y}\r\n\t\t     *\r\n\t\t     * so an array would contain either:\r\n\t\t     *\r\n\t\t     * [{x: x1, y: y1}, {x: x2, y: y2}, ... {x: xn, y: yn}]\r\n\t\t     *\r\n\t\t     * or\r\n\t\t     * [x1, y1, x2, y2, ... xn, yn]\r\n\t\t     *\r\n\t\t     * @param {Array} points - array with point objects or pairs\r\n\t\t     * @returns {Array} A new array with transformed points\r\n\t\t     */\n\t\t    applyToArray: function applyToArray(points) {\n\t\t\n\t\t        var i = 0,\n\t\t            p,\n\t\t            l,\n\t\t            mxPoints = [];\n\t\t\n\t\t        if (typeof points[0] === 'number') {\n\t\t\n\t\t            l = points.length;\n\t\t\n\t\t            while (i < l) {\n\t\t                p = this.applyToPoint(points[i++], points[i++]);\n\t\t                mxPoints.push(p.x, p.y);\n\t\t            }\n\t\t        } else {\n\t\t            for (; p = points[i]; i++) {\n\t\t                mxPoints.push(this.applyToPoint(p.x, p.y));\n\t\t            }\n\t\t        }\n\t\t\n\t\t        return mxPoints;\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply current matrix to a typed array with point pairs. Although\r\n\t\t     * the input array may be an ordinary array, this method is intended\r\n\t\t     * for more performant use where typed arrays are used. The returned\r\n\t\t     * array is regardless always returned as a Float32Array.\r\n\t\t     *\r\n\t\t     * @param {*} points - (typed) array with point pairs\r\n\t\t     * @param {boolean} [use64=false] - use Float64Array instead of Float32Array\r\n\t\t     * @returns {*} A new typed array with transformed points\r\n\t\t     */\n\t\t    applyToTypedArray: function applyToTypedArray(points, use64) {\n\t\t\n\t\t        var i = 0,\n\t\t            p,\n\t\t            l = points.length,\n\t\t            mxPoints = use64 ? new Float64Array(l) : new Float32Array(l);\n\t\t\n\t\t        while (i < l) {\n\t\t            p = this.applyToPoint(points[i], points[i + 1]);\n\t\t            mxPoints[i++] = p.x;\n\t\t            mxPoints[i++] = p.y;\n\t\t        }\n\t\t\n\t\t        return mxPoints;\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply to any canvas 2D context object. This does not affect the\r\n\t\t     * context that optionally was referenced in constructor unless it is\r\n\t\t     * the same context.\r\n\t\t     * @param {CanvasRenderingContext2D} context\r\n\t\t     */\n\t\t    applyToContext: function applyToContext(context) {\n\t\t        var me = this;\n\t\t        context.setTransform(me.a, me.b, me.c, me.d, me.e, me.f);\n\t\t        return me;\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Returns true if matrix is an identity matrix (no transforms applied).\r\n\t\t     * @returns {boolean} True if identity (not transformed)\r\n\t\t     */\n\t\t    isIdentity: function isIdentity() {\n\t\t        var me = this;\n\t\t        return me._q(me.a, 1) && me._q(me.b, 0) && me._q(me.c, 0) && me._q(me.d, 1) && me._q(me.e, 0) && me._q(me.f, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Returns true if matrix is invertible\r\n\t\t     * @returns {boolean}\r\n\t\t     */\n\t\t    isInvertible: function isInvertible() {\n\t\t        return !this._q(this.determinant(), 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Test if matrix is valid.\r\n\t\t     */\n\t\t    isValid: function isValid() {\n\t\t        return !this._q(this.a * this.d, 0);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Clones current instance and returning a new matrix.\r\n\t\t     * @param {boolean} [noContext=false] don't clone context reference if true\r\n\t\t     * @returns {Matrix}\r\n\t\t     */\n\t\t    clone: function clone(noContext) {\n\t\t        var me = this,\n\t\t            m = new Matrix();\n\t\t        m.a = me.a;\n\t\t        m.b = me.b;\n\t\t        m.c = me.c;\n\t\t        m.d = me.d;\n\t\t        m.e = me.e;\n\t\t        m.f = me.f;\n\t\t        if (!noContext) m.context = me.context;\n\t\t\n\t\t        return m;\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Compares current matrix with another matrix. Returns true if equal\r\n\t\t     * (within epsilon tolerance).\r\n\t\t     * @param {Matrix} m - matrix to compare this matrix with\r\n\t\t     * @returns {boolean}\r\n\t\t     */\n\t\t    isEqual: function isEqual(m) {\n\t\t\n\t\t        var me = this,\n\t\t            q = me._q;\n\t\t\n\t\t        return q(me.a, m.a) && q(me.b, m.b) && q(me.c, m.c) && q(me.d, m.d) && q(me.e, m.e) && q(me.f, m.f);\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Returns an array with current matrix values.\r\n\t\t     * @returns {Array}\r\n\t\t     */\n\t\t    toArray: function toArray() {\n\t\t        var me = this;\n\t\t        return [me.a, me.b, me.c, me.d, me.e, me.f];\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Generates a matrix() string that can be used with CSS transform.\r\n\t\t     * @returns {string}\r\n\t\t     */\n\t\t    toCSS: function toCSS() {\n\t\t        return \"matrix(\" + this.toArray() + \")\";\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Generates a matrix3d() string that can be used with CSS transform.\r\n\t\t     * @returns {string}\r\n\t\t     */\n\t\t    toCSS3D: function toCSS3D() {\n\t\t        var me = this;\n\t\t        return \"matrix3d(\" + me.a + \", \" + me.b + \", 0, 0, \" + me.c + \", \" + me.d + \", 0, 0, 0, 0, 1, 0, \" + me.e + \", \" + me.f + \", 0, 1)\";\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Returns a JSON compatible string of current matrix.\r\n\t\t     * @returns {string}\r\n\t\t     */\n\t\t    toJSON: function toJSON() {\n\t\t        return JSON.stringify(this.toArray());\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Returns a string with current matrix as comma-separated list.\r\n\t\t     * @returns {string}\r\n\t\t     */\n\t\t    toString: function toString() {\n\t\t        return \"\" + this.toArray();\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Compares floating point values with some tolerance (epsilon)\r\n\t\t     * @param {number} f1 - float 1\r\n\t\t     * @param {number} f2 - float 2\r\n\t\t     * @returns {boolean}\r\n\t\t     * @private\r\n\t\t     */\n\t\t    _q: function _q(f1, f2) {\n\t\t        return Math.abs(f1 - f2) < 1e-14;\n\t\t    },\n\t\t\n\t\t    /**\r\n\t\t     * Apply current absolute matrix to context if defined, to sync it.\r\n\t\t     * @private\r\n\t\t     */\n\t\t    _x: function _x() {\n\t\t        var me = this;\n\t\t        if (me.context) me.context.setTransform(me.a, me.b, me.c, me.d, me.e, me.f);\n\t\t        return me;\n\t\t    }\n\t\t};\n\t\t\n\t\texports[\"default\"] = Matrix;\n\t\tmodule.exports = exports[\"default\"];\n\t\n\t/***/ },\n\t/* 23 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Defines the global root level namespace for the library.\n\t\t *\n\t\t * @module\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t *\n\t\t * @requires game\n\t\t * @requires module:play~pl.util\n\t\t * @requires types/Basic\n\t\t * @requires types/Dimensions\n\t\t */\n\t\t\n\t\tvar _playGame = __webpack_require__(24);\n\t\t\n\t\tvar _playGame2 = _interopRequireDefault(_playGame);\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesBasic = __webpack_require__(19);\n\t\t\n\t\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\t\n\t\tvar _typesQueue = __webpack_require__(40);\n\t\t\n\t\tvar _typesQueue2 = _interopRequireDefault(_typesQueue);\n\t\t\n\t\tvar _typesDimensions = __webpack_require__(14);\n\t\t\n\t\tvar pl;\n\t\t/**\n\t\t * Resolves the event type for user interactions.\n\t\t */\n\t\tfunction resolveEventType() {\n\t\t\tvar resolution;\n\t\t\n\t\t\tif (_playGame2['default'].feature('touch')) {\n\t\t\t\tresolution = {\n\t\t\t\t\tACTION: 'touchend',\n\t\t\t\t\tACTION_DOWN: 'touchstart',\n\t\t\t\t\tACTION_UP: 'touchend',\n\t\t\t\t\tACTION_MOVE: 'touchmove',\n\t\t\t\t\tACTION_OUT: 'touchcancel'\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tresolution = {\n\t\t\t\t\tACTION: 'click',\n\t\t\t\t\tACTION_DOWN: 'mousedown',\n\t\t\t\t\tACTION_UP: 'mouseup',\n\t\t\t\t\tACTION_MOVE: 'mousemove',\n\t\t\t\t\tACTION_OUT: 'mouseout'\n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\treturn resolution;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Globaly accesable, root level namespace for the library.\n\t\t * @namespace\n\t\t * @prop {object} EVENT - Namespace for noralized event name constants.\n\t\t * @prop {Basic} Basic - Base object type.\n\t\t * @prop {Point} Point - Object type which holds values on a 2D cartesian plane.\n\t\t * @prop {Size} Size - Object type which holds 2-dimentional values for size.\n\t\t * @prop {function} game - Registers a game view implementation. Also a namespace for other methods.\n\t\t * @prop {object} util - Namespace for utility functions.\n\t\t */\n\t\tpl = {\n\t\t\tBasic: _typesBasic2['default'], Point: _typesDimensions.Point, Size: _typesDimensions.Size, Queue: _typesQueue2['default'],\n\t\t\tgame: _playGame2['default'],\n\t\t\tutil: _util2['default'],\n\t\t\n\t\t\t/**\n\t\t  * @namespace\n\t\t  * @prop {string} ACTION - The device normalized `click` event name.\n\t\t  * @prop {string} ACTION_DOWN - The device normalized `mousedown` event name.\n\t\t  * @prop {string} ACTION_UP - The device normalized `mouseup` event name.\n\t\t  * @prop {string} ACTION_MOVE - The device normalized `mousemove` event name.\n\t\t  * @prop {string} ACTION_OUT - The device normalized `mouseout` event name.\n\t\t  */\n\t\t\tEVENT: resolveEventType()\n\t\t};\n\t\t\n\t\texports['default'] = pl;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 24 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Defines the 'game' method for registration and initialization of game scopes. This method also acts as a namespace for game level functions (See: [pl.game]{@link module:play~pl.game}).\n\t\t *\n\t\t * @module game\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t *\n\t\t * @requires play.game.component\n\t\t * @requires play.game.manager\n\t\t * @requires util\n\t\t * @requires types/Events\n\t\t * @requires types/GlobalScope\n\t\t * @requires types/Entity\n\t\t * @requires types/Screen\n\t\t * @requires types/Game\n\t\t */\n\t\t\n\t\tvar _playGameComponent = __webpack_require__(25);\n\t\t\n\t\tvar _playGameComponent2 = _interopRequireDefault(_playGameComponent);\n\t\t\n\t\tvar _playGameManager = __webpack_require__(27);\n\t\t\n\t\tvar _playGameManager2 = _interopRequireDefault(_playGameManager);\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesEvents = __webpack_require__(26);\n\t\t\n\t\tvar _typesEvents2 = _interopRequireDefault(_typesEvents);\n\t\t\n\t\tvar _typesGlobalScope = __webpack_require__(30);\n\t\t\n\t\tvar _typesGlobalScope2 = _interopRequireDefault(_typesGlobalScope);\n\t\t\n\t\tvar _typesEntity = __webpack_require__(93);\n\t\t\n\t\tvar _typesEntity2 = _interopRequireDefault(_typesEntity);\n\t\t\n\t\tvar _typesScreen = __webpack_require__(94);\n\t\t\n\t\tvar _typesScreen2 = _interopRequireDefault(_typesScreen);\n\t\t\n\t\tvar _typesGame = __webpack_require__(95);\n\t\t\n\t\tvar _typesGame2 = _interopRequireDefault(_typesGame);\n\t\t\n\t\tvar _platform = __webpack_require__(96);\n\t\t\n\t\tvar _platform2 = _interopRequireDefault(_platform);\n\t\t\n\t\tvar GAMES, CONFIG, READY_QUEUE;\n\t\t\n\t\t/**\n\t\t * Define a game scope for registration and/or initialization.\n\t\t * This method also acts as a namespace for game level functions (See: [pl.game]{@link module:play~pl.game}).\n\t\t *\n\t\t * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n\t\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t\t */\n\t\tfunction game(_name, _implementation) {\n\t\t\tif (game.isDOMReady) {\n\t\t\t\tinitialize(_name, _implementation);\n\t\t\t} else {\n\t\t\t\tregister(_name, _implementation);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction ready(_eventName) {\n\t\t\tif (READY_QUEUE.length) return false;\n\t\t\tgame.trigger(_eventName || 'ready');\n\t\t}\n\t\t\n\t\t/**\n\t\t * Registers an implementation of a game scope for initialization.\n\t\t * @protected\n\t\t * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n\t\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t\t */\n\t\tfunction register(_name, _implementation) {\n\t\t\tif (! ~GAMES.indexOf(_name)) {\n\t\t\t\tGAMES.push({\n\t\t\t\t\tid: _name,\n\t\t\t\t\timplementation: _implementation\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\t * Initializes an implementation of a game scope. (overloaded)\n\t\t * @function initialize\n\t\t * @protected\n\t\t * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n\t\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t\t */\n\t\t\n\t\t/**\n\t\t * Initializes an implementation of a game scope.\n\t\t * @protected\n\t\t * @arg {array} _collection - The collection of game scope records for initialization.\n\t\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t\t */\n\t\tfunction initialize(_name_collection, _implementation) {\n\t\t\tswitch (typeof _name_collection) {\n\t\t\t\tcase 'string':\n\t\t\t\t\t_typesGlobalScope2['default'][_name_collection] = _typesGame2['default'].extend(_implementation).initialize('#' + _name_collection);\n\t\t\t\t\tbreak;\n\t\t\n\t\t\t\tcase 'object':\n\t\t\t\t\t_name_collection.forEach(function (_item, _index) {\n\t\t\t\t\t\tinitialize(_item.id, _item.implementation);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\t/** @protected */\n\t\tGAMES = [];\n\t\t/** @protected */\n\t\tCONFIG = {};\n\t\t/** @protected */\n\t\tREADY_QUEUE = [];\n\t\t\n\t\t/**\n\t\t * Interface for game level configuration.\n\t\t * @namespace game\n\t\t * @memberof module:play~pl\n\t\t * @mixes Events\n\t\t */\n\t\t(function () {\n\t\t\n\t\t\tvar audioContext;\n\t\t\n\t\t\tthis.component = _playGameComponent2['default'];\n\t\t\tthis.manager = _playGameManager2['default'];\n\t\t\n\t\t\t_util2['default'].mixin(game, _typesEvents2['default']);\n\t\t\n\t\t\tthis.on('platform-event', function (_event) {\n\t\t\t\tconsole.log('play.game -', _event.name, _event.gameData);\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * Starts the dominos falling\n\t\t  * @function run\n\t\t  * @memberof module:play~pl.game\n\t\t  */\n\t\t\tthis.run = function () {\n\t\t\t\tgame.isDOMReady = true;\n\t\t\t\tgame.trigger('dom-ready');\n\t\t\n\t\t\t\tgame.component.loadAll(function () {\n\t\t\t\t\t// console.log('** All component sources loaded.');\n\t\t\t\t\tinitialize(GAMES);\n\t\t\n\t\t\t\t\tGAMES = null;\n\t\t\t\t});\n\t\t\n\t\t\t\t_platform2['default'].emit(_platform2['default'].EVENT_INIT);\n\t\t\t};\n\t\t\n\t\t\tthis.report = function (_name) {\n\t\t\t\t_platform2['default'].emit(_name);\n\t\t\n\t\t\t\treturn this.report;\n\t\t\t};\n\t\t\n\t\t\tthis.report.exit = function (_gameScope) {\n\t\t\t\t_platform2['default'].saveGameState(_gameScope.progress());\n\t\t\t\t_platform2['default'].emit(_platform2['default'].EVENT_EXIT);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.report.flip = function (_gameScope) {\n\t\t\t\t_platform2['default'].saveGameState(_gameScope.progress());\n\t\t\t\t_platform2['default'].emit(_platform2['default'].EVENT_FLIPPED);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Getter/Setter for game level configuration.\n\t\t  * @function module:play~pl.game.config\n\t\t  * @arg {string} _key - The key to retrieve\n\t\t  * @returns {this}\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * Getter/Setter for game level configuration.\n\t\t  * @function config\n\t\t  * @memberof module:play~pl.game\n\t\t  * @arg {object} _mixin - Object to set properties on configuration.\n\t\t  * @returns {this}\n\t\t  */\n\t\t\tthis.config = function (_key_mixin) {\n\t\t\t\tswitch (typeof _key_mixin) {\n\t\t\t\t\tcase 'string':\n\t\t\t\t\t\treturn _util2['default'].resolvePath(CONFIG, _key_mixin);\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tif (_key_mixin) _util2['default'].mixin(CONFIG, _key_mixin);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * @function provideEntityType\n\t\t  * @deprecated\n\t\t  * @memberof module:play~pl.game\n\t\t  */\n\t\t\tthis.provideEntityType = function () {\n\t\t\t\treturn _typesEntity2['default'];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * @function provideScreenType\n\t\t  * @deprecated\n\t\t  * @memberof module:play~pl.game\n\t\t  */\n\t\t\tthis.provideScreenType = function () {\n\t\t\t\treturn _typesScreen2['default'];\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Augments the global scope.\n\t\t  * @function scope\n\t\t  * @arg {function|object} _mixin - Object or constructor to define members.\n\t\t  * @returns {this}\n\t\t  *\n\t\t  * @memberof module:play~pl.game\n\t\t  */\n\t\t\tthis.scope = function (_mixin) {\n\t\t\t\tif (typeof _mixin === 'function') {\n\t\t\t\t\t_mixin.call(_typesGlobalScope2['default']);\n\t\t\t\t} else if (_mixin) {\n\t\t\t\t\t_typesGlobalScope2['default'].mixin(_mixin);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * @function queue\n\t\t  * @deprecated\n\t\t  * @memberof module:play~pl.game\n\t\t  */\n\t\t\tthis.queue = function (_item) {\n\t\t\t\tif (! ~READY_QUEUE.indexOf(_item)) READY_QUEUE.push(_item);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.queue.complete = function (_item, _eventName) {\n\t\t\t\tvar index;\n\t\t\n\t\t\t\tindex = READY_QUEUE.indexOf(_item);\n\t\t\t\tREADY_QUEUE.splice(index, 1);\n\t\t\n\t\t\t\tready(_eventName);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Accessor for the detected features supported by the browser.\n\t\t  *\n\t\t  * *Supported Feature Detectors*\n\t\t  * - touch\n\t\t  *\n\t\t  * @function feature;\n\t\t  * @arg {string} _name - The feature which to test for (i.e. `\"touch\"`)\n\t\t  * @returns {boolean} The support status for the specified feature.\n\t\t  */\n\t\t\tthis.feature = (function () {\n\t\t\t\tvar detect = {\n\t\t\t\t\ttouch: function touch() {\n\t\t\t\t\t\treturn window.hasOwnProperty('ontouchend');\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\treturn function (_name) {\n\t\t\t\t\tvar tester = detect[_name];\n\t\t\t\t\tif (!tester && console) console.warn('No feature detection for \"' + _name + '\".');\n\t\t\t\t\treturn tester && tester();\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tthis.getAudioContext = function () {\n\t\t\t\tif (!audioContext) {\n\t\t\t\t\taudioContext = new (window.AudioContext || window.webkitAudioContext)();\n\t\t\t\t\twindow.onfocus = function () {\n\t\t\t\t\t\taudioContext.resume();\n\t\t\t\t\t};\n\t\t\t\t\twindow.onblur = function () {\n\t\t\t\t\t\taudioContext.suspend();\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn audioContext;\n\t\t\t};\n\t\t\n\t\t\tthis.enableAudioContext = function () {\n\t\t\t\tvar ctx, silence;\n\t\t\n\t\t\t\tctx = this.getAudioContext();\n\t\t\t\tsilence = ctx.createBufferSource();\n\t\t\n\t\t\t\tsilence.buffer = ctx.createBuffer(2, 1, 44100);\n\t\t\t\tsilence.connect(ctx.destination);\n\t\t\t\tsilence.start();\n\t\t\t\tsilence.disconnect();\n\t\t\n\t\t\t\treturn silence;\n\t\t\t};\n\t\t}).call(game);\n\t\t\n\t\texports['default'] = game;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 25 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Defines the `component()` method for component behavior registration. This method is also a namesapce for methods to manage and load component behavior scripts.\n\t\t *\n\t\t * @module\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t *\n\t\t * @requires play~pl.util\n\t\t * @requires types/Events\n\t\t */\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesEvents = __webpack_require__(26);\n\t\t\n\t\tvar _typesEvents2 = _interopRequireDefault(_typesEvents);\n\t\t\n\t\t/**\n\t\t * Collection of component behavior records\n\t\t * @const\n\t\t */\n\t\tvar COMPONENTS;\n\t\t\n\t\t/**\n\t\t * Registers a component behavior.\n\t\t * @arg {string} _name - The name for the component.\n\t\t * @arg {function|object} _implementation - Constructor function or object with the behavior's implementation.\n\t\t * @returns {@link module:play~pl.game}\n\t\t */\n\t\tfunction component(_name, _implementation) {\n\t\t\tif (!component.get(_name)) {\n\t\t\t\tCOMPONENTS.push({\n\t\t\t\t\tname: _name,\n\t\t\t\t\timplementation: _implementation,\n\t\t\t\t\tconfig: {}\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tCOMPONENTS = [];\n\t\t\n\t\t/**\n\t\t * Methods to manage and load component behavior scripts.\n\t\t * @namespace component\n\t\t * @memberof module:play~pl.game\n\t\t * @mixes Events\n\t\t */\n\t\t(function () {\n\t\t\n\t\t\t_util2['default'].mixin(this, _typesEvents2['default']);\n\t\t\n\t\t\t/**\n\t\t  * Given a name; provides the component record. `{name, implementation}`\n\t\t  * @memberof module:play~pl.game.component\n\t\t  * @arg {string} _name - The name of the component.\n\t\t  * @returns {object} The record.\n\t\t  */\n\t\t\tthis.get = function (_name) {\n\t\t\t\tvar i, record;\n\t\t\n\t\t\t\tfor (i = 0; record = COMPONENTS[i]; i += 1) {\n\t\t\t\t\tif (record.name === _name) return record;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn null;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Loads the script for the component. The HTML and CSS will be loaded when the component scope initalizes.<br>\n\t\t  * The path of the script file is resolved `{pl.game.config.componentDirectory}/{_name}/behavior.js`.\n\t\t  * @memberof module:play~pl.game.component\n\t\t  * @arg {string} _name - The name of the component.\n\t\t  * @arg {function} _callback - Callback for load success.\n\t\t  * @todo Implement Promises.\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.load = function (_name, _callback) {\n\t\t\t\tvar path;\n\t\t\n\t\t\t\tif (component.get(_name)) {\n\t\t\t\t\tif (_callback) _callback.call(component, _name);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\n\t\t\t\tpath = pl.game.config('componentDirectory') + _name + '/behavior.js';\n\t\t\n\t\t\t\t$.getScript(path, function () {\n\t\t\t\t\tif (_callback) _callback.call(component, _name);\n\t\t\t\t\tcomponent.trigger('loaded', [_name]);\n\t\t\t\t});\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Loads all the component scripts for HTML elements with `pl-component` attributes.\n\t\t  * @memberof module:play~pl.game.component\n\t\t  * @arg {function} _callback - Callback for load success.\n\t\t  * @todo Implement Promises.\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.loadAll = function (_callback) {\n\t\t\t\tvar $components, queue;\n\t\t\n\t\t\t\t$components = $('[pl-component]');\n\t\t\t\tqueue = [];\n\t\t\n\t\t\t\t$components.each(function (_index) {\n\t\t\t\t\tvar name;\n\t\t\n\t\t\t\t\tname = $(this).attr('pl-component');\n\t\t\n\t\t\t\t\tif (~queue.indexOf(name)) return;\n\t\t\n\t\t\t\t\tqueue.push(name);\n\t\t\t\t});\n\t\t\n\t\t\t\tqueue.slice(0).forEach(function (_name) {\n\t\t\t\t\tcomponent.load(_name, function () {\n\t\t\t\t\t\tvar index;\n\t\t\n\t\t\t\t\t\tindex = queue.indexOf(_name);\n\t\t\t\t\t\tqueue.splice(index, 1);\n\t\t\n\t\t\t\t\t\tif (!queue.length && _callback) _callback.apply(component, arguments);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t// Maybe?\n\t\t\t// this.config = function () {};\n\t\t}).call(component);\n\t\t\n\t\texports['default'] = component;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 26 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t*  Events\n\t\t*  @desc Contains methods for managing and dispatching events from objects.\n\t\t*  @proto Basic\n\t\t*/\n\t\t\n\t\tvar _typesBasic = __webpack_require__(19);\n\t\t\n\t\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\t\n\t\tvar Events = _typesBasic2['default'].extend(function () {\n\t\t\tvar i, method, methods;\n\t\t\t/**\n\t\t *  @desc Creates a function with a proxy to the jQuery method.\n\t\t *  @param _name (String) The name of the method being proxied.\n\t\t *  @return (jQuery|*) Either a jQuery object or whatever the original method returns.\n\t\t *  @private\n\t\t */\n\t\t\tfunction createProxyFunction(_name) {\n\t\t\t\treturn function () {\n\t\t\t\t\tvar $jq = $();\n\t\t\t\t\t// We must wrap our object in jQuery. If 'typeof this' is a function then we need\n\t\t\t\t\t// to add it in this manner, otherwise jQuery treats it like a ready callback.\n\t\t\t\t\t$jq.push(this);\n\t\t\n\t\t\t\t\treturn $.fn[_name].apply($jq, arguments);\n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\tmethods = ['on', 'off', 'trigger'];\n\t\t\n\t\t\tthis.baseType = 'TYPE_EVENTS';\n\t\t\n\t\t\tfor (i = 0; method = methods[i]; i += 1) {\n\t\t\t\tthis[method] = createProxyFunction(method);\n\t\t\t}\n\t\t});\n\t\t\n\t\texports['default'] = Events;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 27 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t\n\t\tvar _playGameManagerDraggable = __webpack_require__(28);\n\t\t\n\t\tvar _playGameManagerDraggable2 = _interopRequireDefault(_playGameManagerDraggable);\n\t\t\n\t\texports.draggable = _playGameManagerDraggable2['default'];\n\t\n\t/***/ },\n\t/* 28 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesCollection = __webpack_require__(29);\n\t\t\n\t\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\t\n\t\tvar _typesDimensions = __webpack_require__(14);\n\t\t\n\t\tvar COLLECTION_DRAGABLES = _typesCollection2['default'].create();\n\t\t\n\t\tvar draggableStyleSheet;\n\t\t\n\t\tfunction boot() {\n\t\t\tcreateHelperStyleSheet();\n\t\t\tattachEvents();\n\t\t}\n\t\t\n\t\tfunction attachEvents() {\n\t\t\tvar state, E;\n\t\t\n\t\t\tE = pl.EVENT;\n\t\t\n\t\t\t// Disable scrolling on touchDevices (particularly for iOS elastic scroll).\n\t\t\tif (E.ACTION_MOVE === 'touchmove') attachEvents.disableTouchScroll();\n\t\t\n\t\t\t$(document).on(E.ACTION_DOWN, function (_event) {\n\t\t\t\tvar $draggable, scope, cursor, mode, game, point, transform, helperID, dragStartEvent;\n\t\t\n\t\t\t\t$draggable = $(_event.target).closest('[pl-draggable]');\n\t\t\n\t\t\t\tif ($draggable.length) {\n\t\t\t\t\tscope = $draggable.scope();\n\t\t\t\t\tcursor = resolveEventPoint(_event, 1 / scope.game.zoom);\n\t\t\t\t\tmode = $draggable.pl('draggable');\n\t\t\t\t\tgame = {\n\t\t\t\t\t\tposition: scope.game.absolutePosition(),\n\t\t\t\t\t\tscale: scope.game.transformScale().x\n\t\t\t\t\t};\n\t\t\t\t\tpoint = $draggable.absolutePosition().dec(game.position);\n\t\t\t\t\ttransform = $draggable.transform();\n\t\t\t\t\thelperID = createID();\n\t\t\t\t\tstate = {\n\t\t\t\t\t\tmode: mode,\n\t\t\t\t\t\t$draggable: $draggable,\n\t\t\t\t\t\tscope: scope,\n\t\t\t\t\t\t$helper: null,\n\t\t\n\t\t\t\t\t\tstart: {\n\t\t\t\t\t\t\tcursor: cursor,\n\t\t\t\t\t\t\tpoint: point,\n\t\t\t\t\t\t\ttransform: transform\n\t\t\t\t\t\t},\n\t\t\n\t\t\t\t\t\tprogress: {\n\t\t\t\t\t\t\tdistance: null,\n\t\t\t\t\t\t\tpoint: null,\n\t\t\t\t\t\t\ttransform: null\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\t// FireFox has a different scaling implementation than other browsers (transform:scale(); vs. zoom:;)\n\t\t\t\t\t// so we need to account for the game transform scale.\n\t\t\t\t\t//\n\t\t\t\t\tif (game.scale !== 1) point = point.scale(1 / game.scale);\n\t\t\n\t\t\t\t\tdraggableStyleSheet.html(provideSource(helperID, createDraggableRule($draggable)));\n\t\t\n\t\t\t\t\tswitch (mode) {\n\t\t\t\t\t\tcase 'clone':\n\t\t\t\t\t\t\tstate.$helper = $draggable.clone();\n\t\t\t\t\t\t\tstate.$helper.id(helperID).pl('draggable', null) // helpers are not to be captured as draggable\n\t\t\t\t\t\t\t.addClass('draggable-helper').appendTo(document.body).absolutePosition(point);\n\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\tcase 'pluck':\n\t\t\t\t\t\t\t$draggable.addClass('PLUCKED');\n\t\t\n\t\t\t\t\t\t\tstate.$helper = $draggable.clone();\n\t\t\t\t\t\t\tstate.$helper.id(helperID).pl('draggable', null) // helpers are not to be captured as draggable\n\t\t\t\t\t\t\t.addClass('draggable-helper').appendTo(document.body).absolutePosition(point);\n\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tstate.$helper = $draggable;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tstate.$helper.removeClass('DRAG-ENDED').addClass('DRAG-START');\n\t\t\n\t\t\t\t\tdragStartEvent = $.Event('drag-start', {\n\t\t\t\t\t\tstate: state,\n\t\t\t\t\t\ttargetScope: scope\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tscope.trigger(dragStartEvent);\n\t\t\t\t}\n\t\t\t}).on(E.ACTION_MOVE, function (_event) {\n\t\t\t\tvar cursor, $draggable, distance, point, transform, dragMoveEvent;\n\t\t\n\t\t\t\tif (state) {\n\t\t\t\t\tcursor = resolveEventPoint(_event, 1 / state.scope.game.zoom);\n\t\t\t\t\tdistance = state.start.cursor.distance(cursor);\n\t\t\t\t\tpoint = _typesDimensions.Point.create();\n\t\t\t\t\ttransform = null;\n\t\t\n\t\t\t\t\tif (state.start.transform !== 'none') {\n\t\t\t\t\t\ttransform = state.start.transform.clone();\n\t\t\t\t\t\ttransform.translate(distance.width, distance.height);\n\t\t\t\t\t\tpoint.set(transform.applyToPoint(0, 0));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpoint = distance.to('point');\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (state.$helper.hasClass('DRAG-START')) {\n\t\t\t\t\t\tstate.$helper.removeClass('DRAG-START').addClass('DRAGGING');\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tdragMoveEvent = $.Event('drag-move', {\n\t\t\t\t\t\tstate: state,\n\t\t\t\t\t\ttargetScope: state.scope\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tstate.progress.distance = distance;\n\t\t\t\t\tstate.progress.point = state.start.point.inc(point);\n\t\t\t\t\tstate.progress.transform = transform;\n\t\t\n\t\t\t\t\tstate.scope.translate(state.$helper, point);\n\t\t\t\t\tstate.scope.trigger(dragMoveEvent);\n\t\t\t\t}\n\t\t\t}).on([E.ACTION_UP, E.ACTION_OUT].join(' '), function (_event) {\n\t\t\t\tvar $draggable, dragEndEvent;\n\t\t\n\t\t\t\tif (state) {\n\t\t\t\t\t// Do not end dragging if we dont mouse out of the document.\n\t\t\t\t\tif (_event.type === 'mouseout' && ! ~[null, document.documentElement].indexOf(_event.toElement)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t$draggable = state.$draggable;\n\t\t\n\t\t\t\t\tif (state.$helper.hasClass('draggable-helper')) {\n\t\t\t\t\t\tstate.$helper.on('transitionend', function () {\n\t\t\t\t\t\t\t$draggable.removeClass('PLUCKED');\n\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tstate.$helper.removeClass('DRAG-START DRAGGING').addClass('DRAG-ENDED');\n\t\t\n\t\t\t\t\tdragEndEvent = $.Event('drag-end', {\n\t\t\t\t\t\tstate: state,\n\t\t\t\t\t\ttargetScope: state.scope\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tstate.scope.trigger(dragEndEvent);\n\t\t\n\t\t\t\t\tstate = null;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tattachEvents.disableTouchScroll = function () {\n\t\t\tdocument.addEventListener(\"touchmove\", function (_event) {\n\t\t\t\t_event.preventDefault();\n\t\t\t}, false);\n\t\t};\n\t\t\n\t\tfunction resolveEventPoint(_event, _scale) {\n\t\t\tvar scale = _scale || 1;\n\t\t\n\t\t\tif (_event.originalEvent && _event.originalEvent.changedTouches) {\n\t\t\t\t/**\n\t\t   * For now, interactions should use the last touch if multiple fingers are captured.\n\t\t   * @todo Maybe invoke action for each touch.\n\t\t   */\n\t\t\t\t_event.touch = _event.originalEvent.changedTouches[_event.originalEvent.changedTouches.length - 1];\n\t\t\t}\n\t\t\n\t\t\treturn _typesDimensions.Point.create().set(new function () {\n\t\t\t\tif (_event.touch) {\n\t\t\t\t\tthis.x = _event.touch.clientX * scale;\n\t\t\t\t\tthis.y = _event.touch.clientY * scale;\n\t\t\t\t} else {\n\t\t\t\t\tthis.x = _event.clientX * scale;\n\t\t\t\t\tthis.y = _event.clientY * scale;\n\t\t\t\t}\n\t\t\t}());\n\t\t}\n\t\t\n\t\tfunction createHelperStyleSheet() {\n\t\t\tdraggableStyleSheet = $('<style id=\"draggable-helper-css\" type=\"text/css\"></style>').appendTo(document.body);\n\t\t}\n\t\t\n\t\tfunction createDraggableRule(_$draggable) {\n\t\t\tvar i, style, blacklist, rule, prop;\n\t\t\n\t\t\tstyle = window.getComputedStyle(_$draggable[0]);\n\t\t\trule = {};\n\t\t\tblacklist = [\"zIndex\", \"opacity\", \"cursor\", \"transition\", \"transitionDelay\", \"transitionDuration\", \"transitionProperty\", \"transitionTimingFunction\"];\n\t\t\n\t\t\tfor (i = 0; i < style.length; i += 1) {\n\t\t\t\tprop = _util2['default'].transformId(style[i], true);\n\t\t\t\tif (~blacklist.indexOf(prop)) continue;\n\t\t\t\tif (prop.indexOf('Webkit') === 0) prop = prop.slice(0, 1).toLowerCase() + prop.slice(1);\n\t\t\t\tif (style[prop]) rule[prop] = style[prop];\n\t\t\t}\n\t\t\n\t\t\treturn rule;\n\t\t}\n\t\t\n\t\tfunction provideSource(_id, _rule) {\n\t\t\tvar source, prop, value;\n\t\t\n\t\t\tsource = '#' + _id + '.draggable-helper {';\n\t\t\n\t\t\tfor (prop in _rule) {\n\t\t\t\tif (!_rule.hasOwnProperty(prop)) continue;\n\t\t\t\tvalue = _rule[prop];\n\t\t\t\tsource += prop.replace(/([A-Z]+)/g, '-$1').toLowerCase() + ': ' + value + ';';\n\t\t\t}\n\t\t\n\t\t\tsource += '}';\n\t\t\n\t\t\treturn source;\n\t\t};\n\t\t\n\t\tfunction createID() {\n\t\t\treturn 'xy-xyxy-y'.replace(/x|y/g, function (_token) {\n\t\t\t\tif (_token === 'x') return (Math.floor(Math.random() * 5) + 10).toString(16);\n\t\t\t\treturn Math.floor(Math.random() * Date.now()).toString(16).slice(2);\n\t\t\t});\n\t\t}\n\t\t\n\t\tvar draggableManager = {};\n\t\t\n\t\t$(boot);\n\t\t\n\t\texports['default'] = draggableManager;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 29 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Collections are iterables which hold a consistent interface throughout its indexes.\n\t\t *\n\t\t * @module\n\t\t * @requires module:types/BasicArray\n\t\t */\n\t\t\n\t\tvar _typesBasicArray = __webpack_require__(17);\n\t\t\n\t\tvar _typesBasicArray2 = _interopRequireDefault(_typesBasicArray);\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Collection.create()` to get a new instance.\n\t\t * @classdesc Iterable holding record objects of the same interface.\n\t\t * @class\n\t\t * @extends module:types/BasicArray~BasicArray\n\t\t */\n\t\tvar Collection = _typesBasicArray2['default'].extend(function () {\n\t\t\t/**\n\t\t  * Gets the record object which has `_member` as a member.\n\t\t  * @instance\n\t\t  * @protected\n\t\t  * @memberof module:types/Collection~Collection\n\t\t  * @arg {*} _member - object reference to search for.\n\t\t  * @arg {string} _key - the target key to test the `_member` against.\n\t\t  * @arg {boolean} _shouldCollect - <span style=\"color: blue; font-weight: bold;\">`true`</span>: collect all matching elements.<br>\n\t\t  * <span style=\"color: blue; font-weight: bold;\">`false`</span>: return first result.\n\t\t  */\n\t\t\tfunction getRecord(_member, _key, _shouldCollect) {\n\t\t\t\tvar i, record, member, result;\n\t\t\n\t\t\t\tresult = [];\n\t\t\n\t\t\t\tfor (i = 0; record = this[i]; i += 1) {\n\t\t\t\t\tif (_key !== undefined) {\n\t\t\t\t\t\tif (record[_key] === _member) {\n\t\t\t\t\t\t\tif (_shouldCollect) {\n\t\t\t\t\t\t\t\tresult.push(record);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn record;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (record instanceof Array) {\n\t\t\t\t\t\tif (~record.indexOf(_member)) {\n\t\t\t\t\t\t\tif (_shouldCollect) {\n\t\t\t\t\t\t\t\tresult.push(record);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn record;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (member in record) {\n\t\t\t\t\t\t\tif (!record.hasOwnProperty(member)) continue;\n\t\t\t\t\t\t\tif (record[member] === _member) {\n\t\t\t\t\t\t\t\tif (_shouldCollect) {\n\t\t\t\t\t\t\t\t\tresult.push(record);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn record;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn result.length ? result : null;\n\t\t\t}\n\t\t\n\t\t\t/**\n\t\t  * Objects with this as an own property will be identified as the root object.\n\t\t  * @memberof module:types/Collection~Collection\n\t\t  * @readonly\n\t\t  * @default\n\t\t  */\n\t\t\tthis.baseType = 'TYPE_COLLECTION';\n\t\t\n\t\t\tthis.add = function (_record) {\n\t\t\t\tif (~this.indexOf(_record)) return false;\n\t\t\t\tthis.push(_record);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.remove = function (_record) {\n\t\t\t\tvar index;\n\t\t\n\t\t\t\tindex = this.indexOf(_record);\n\t\t\t\tif (~index) this.splice(index, 1);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.has = function (_record) {\n\t\t\t\treturn !! ~this.indexOf(_record);\n\t\t\t};\n\t\t\n\t\t\tthis.get = function (_member, _key) {\n\t\t\t\treturn getRecord.call(this, _member, _key);\n\t\t\t};\n\t\t\n\t\t\tthis.filter = function (_member, _key) {\n\t\t\t\treturn getRecord.call(this, _member, _key, true);\n\t\t\t};\n\t\t});\n\t\t\n\t\texports['default'] = Collection;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 30 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t*  GlobalScope\n\t\t*/\n\t\t\n\t\tvar _typesScope = __webpack_require__(31);\n\t\t\n\t\tvar GlobalScope = _typesScope.Scope.extend(function () {\n\t\t\n\t\t\tthis.baseType = 'TYPE_GLOBAL_SCOPE';\n\t\t});\n\t\t\n\t\texports['default'] = GlobalScope;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 31 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Scopes are packages which contain a reference to a DOM element wrapped in a jQuery object.\n\t\t * This enables properties and methods to be in context of the DOM node and its descendants.\n\t\t *\n\t\t * @module\n\t\t * @requires types/jQProxy\n\t\t * @requires types/Basic\n\t\t * @requires types/Queue\n\t\t * @requires play.game\n\t\t * @requires util\n\t\t * @requires evalAction\n\t\t *\n\t\t * @exports createEntity\n\t\t */\n\t\t\n\t\tvar _typesJQProxy = __webpack_require__(32);\n\t\t\n\t\tvar _typesJQProxy2 = _interopRequireDefault(_typesJQProxy);\n\t\t\n\t\tvar _typesBasic = __webpack_require__(19);\n\t\t\n\t\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\t\n\t\tvar _typesQueue = __webpack_require__(40);\n\t\t\n\t\tvar _typesQueue2 = _interopRequireDefault(_typesQueue);\n\t\t\n\t\tvar _typesDimensions = __webpack_require__(14);\n\t\t\n\t\tvar _playGame = __webpack_require__(24);\n\t\t\n\t\tvar _playGame2 = _interopRequireDefault(_playGame);\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _evalAction = __webpack_require__(41);\n\t\t\n\t\tvar _evalAction2 = _interopRequireDefault(_evalAction);\n\t\t\n\t\tvar _typesAudioManager = __webpack_require__(42);\n\t\t\n\t\t/**\n\t\t * Creates a new Enitiy instance with a context node and implementation.\n\t\t * The instance is prototyped from the parent scope.\n\t\t *\n\t\t * @memberof module:types/Scope~Scope#createEntity\n\t\t * @protected\n\t\t * @arg {jQuery} _$node - jQuery object with a single node in the collection.\n\t\t * @arg {function|object} _implementation - Constructor function or object with the entity behavior.\n\t\t * @returns {module:types/Scope~Scope}\n\t\t */\n\t\tfunction createEntity(_$node, _implementation) {\n\t\t\tvar component, prototype, componentRecord, instance;\n\t\t\n\t\t\tcomponent = _$node.attr('pl-component');\n\t\t\tprototype = this;\n\t\t\n\t\t\tif (component) {\n\t\t\t\tcomponentRecord = _playGame2['default'].component.get(component);\n\t\t\n\t\t\t\tif (componentRecord) {\n\t\t\t\t\t// If a scope is being defined as an extention of a component before the component scope\n\t\t\t\t\t// has been allocated, we construct the component first then pass it as the proto.\n\t\t\t\t\t// But we need to make sure we are not allocating the component it self.\n\t\t\t\t\tif (componentRecord.implementation !== _implementation) {\n\t\t\t\t\t\tprototype = this.extend(componentRecord.implementation);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('No implementation record for the ' + component + 'component.');\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tinstance = typeof _implementation === 'function' ? prototype.extend(_implementation) : prototype.create();\n\t\t\n\t\t\treturn instance.initialize(_$node, component);\n\t\t}\n\t\t\n\t\t/**\n\t\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. Use `Scope.create()` to get a new instance.\n\t\t * @classdesc A package which contains a reference to a DOM node wrapped in a jQuery object. For more information on scopes read [this]{@link module:types/Scope}.\n\t\t * @class\n\t\t * @extends module:types/jQProxy~jQProxy\n\t\t */\n\t\tvar Scope = _typesJQProxy2['default'].extend(function () {\n\t\t\n\t\t\t/**\n\t\t  * Collection of records pairing a node with its action.\n\t\t  * @memberof module:types/Scope~Scope\n\t\t  * @static\n\t\t  * @protected\n\t\t  * @todo Convert to types/Collection\n\t\t  */\n\t\t\tvar Actionables;\n\t\t\n\t\t\tfunction attachActionHandler() {\n\t\t\t\tthis.on(pl.EVENT.ACTION, function (_event) {\n\t\t\t\t\tvar target, record;\n\t\t\n\t\t\t\t\ttarget = $(_event.target).closest('[pl-action]')[0];\n\t\t\n\t\t\t\t\tif (_event.originalEvent && _event.originalEvent.changedTouches) {\n\t\t\t\t\t\t/**\n\t\t     * For now, interactions should use the last touch if multiple fingers are captured.\n\t\t     * @todo Maybe invoke action for each touch.\n\t\t     */\n\t\t\t\t\t\t_event.touch = _event.originalEvent.changedTouches[_event.originalEvent.changedTouches.length - 1];\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t_event.cursor = _typesDimensions.Point.create().set(new function () {\n\t\t\t\t\t\tif (_event.touch) {\n\t\t\t\t\t\t\tthis.x = _event.touch.clientX;\n\t\t\t\t\t\t\tthis.y = _event.touch.clientY;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.x = _event.clientX;\n\t\t\t\t\t\t\tthis.y = _event.clientY;\n\t\t\t\t\t\t}\n\t\t\t\t\t}());\n\t\t\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\trecord = this.actionables.item(target);\n\t\t\n\t\t\t\t\t\tif (record) {\n\t\t\t\t\t\t\t_event.targetScope = this;\n\t\t\t\t\t\t\tthis.event = _event;\n\t\t\t\t\t\t\t_evalAction2['default'](record.action, this);\n\t\t\t\t\t\t\tthis.event = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tfunction getRecordBy(_key, _member, _collection) {\n\t\t\t\tvar i, record;\n\t\t\n\t\t\t\tif (_collection) {\n\t\t\t\t\tfor (i = 0; record = _collection[i]; i += 1) {\n\t\t\t\t\t\tif (record[_key] === _member) return record;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\n\t\t\tfunction removeRecord(_record, _collection) {\n\t\t\t\tvar index;\n\t\t\n\t\t\t\tindex = _collection.indexOf(_record);\n\t\t\t\tif (~index) _collection.splice(index, 1);\n\t\t\t}\n\t\t\n\t\t\tfunction captureDropables(_scope) {\n\t\t\t\tvar collection;\n\t\t\n\t\t\t\tcollection = [];\n\t\t\n\t\t\t\t_scope.find('> [pl-pluck]').each(function () {\n\t\t\t\t\tvar name;\n\t\t\n\t\t\t\t\tname = $(this).attr('pl-pluck');\n\t\t\n\t\t\t\t\tcollection.push(this);\n\t\t\t\t\tcollection[name] = this;\n\t\t\t\t});\n\t\t\n\t\t\t\treturn collection;\n\t\t\t}\n\t\t\n\t\t\tfunction pluckAndDrop(_dropables, _template) {\n\t\t\t\t$(_template).find('[pl-drop]').each(function () {\n\t\t\t\t\tvar $node, name, dropable;\n\t\t\n\t\t\t\t\t$node = $(this);\n\t\t\t\t\tname = $node.attr('pl-drop');\n\t\t\t\t\tdropable = _dropables[name];\n\t\t\n\t\t\t\t\tif (dropable) {\n\t\t\t\t\t\t$node.replaceWith(dropable.children);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\t// Protected\n\t\t\tfunction loadComponentAssets(_name, _callback) {\n\t\t\t\tvar scope, path, totalRequests, transcludeMode, dropables;\n\t\t\n\t\t\t\tfunction ready() {\n\t\t\t\t\tready.status += 1;\n\t\t\n\t\t\t\t\tif (ready.status === totalRequests) {\n\t\t\t\t\t\tif (_callback) {\n\t\t\t\t\t\t\t_callback.call(scope, _name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\ttotalRequests = 0;\n\t\t\t\tscope = this;\n\t\t\t\tpath = _playGame2['default'].config('componentDirectory') + _name + '/';\n\t\t\t\tdropables = captureDropables(this);\n\t\t\t\ttranscludeMode = dropables.length ? this.TRANSCLUDE_PLUCK : this.properties.transclude;\n\t\t\t\tready.status = 0;\n\t\t\n\t\t\t\tif (!this.children().length || transcludeMode) {\n\t\t\t\t\ttotalRequests += 1;\n\t\t\t\t\t$('<div>').load(path + 'template.html', function () {\n\t\t\t\t\t\tvar memory;\n\t\t\n\t\t\t\t\t\tmemory = [];\n\t\t\n\t\t\t\t\t\tswitch (transcludeMode) {\n\t\t\t\t\t\t\tcase scope.TRANSCLUDE_APPEND:\n\t\t\t\t\t\t\t\tscope.append(this.children);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\tcase scope.TRANSCLUDE_PREPEND:\n\t\t\t\t\t\t\t\tscope.prepend(this.children);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\tcase scope.TRANSCLUDE_PLUCK:\n\t\t\t\t\t\t\t\tpluckAndDrop(dropables, this);\n\t\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\tcase scope.TRANSCLUDE_REPLACE:\n\t\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tif (transcludeMode) {\n\t\t\t\t\t\t\t\t\tpluckAndDrop(new function () {\n\t\t\t\t\t\t\t\t\t\tthis[transcludeMode] = scope.node();\n\t\t\t\t\t\t\t\t\t}(), this);\n\t\t\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tscope.findOwn('[pl-component]').each(function () {\n\t\t\t\t\t\t\tvar name;\n\t\t\n\t\t\t\t\t\t\tname = $(this).attr('pl-component');\n\t\t\n\t\t\t\t\t\t\tif (~memory.indexOf(name)) return;\n\t\t\n\t\t\t\t\t\t\tmemory.push(name);\n\t\t\n\t\t\t\t\t\t\ttotalRequests += 1;\n\t\t\n\t\t\t\t\t\t\t_playGame2['default'].component.load(name, function () {\n\t\t\t\t\t\t\t\tready();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tready();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!$('style[pl-for-component=\"' + _name + '\"]').length && _playGame2['default'].config('shouldLoadComponentStyles') !== false) {\n\t\t\t\t\ttotalRequests += 1;\n\t\t\t\t\t$('<style type=\"text/css\" pl-for-component=\"' + _name + '\">').load(path + 'style.css', ready).appendTo(document.body);\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!totalRequests) _callback && _callback.call(this, _name);\n\t\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\n\t\t\tfunction captureProperties() {\n\t\t\t\tvar i, attr, name, collection;\n\t\t\n\t\t\t\tcollection = (function () {\n\t\t\n\t\t\t\t\tthis.has = function (_name) {\n\t\t\t\t\t\treturn !! ~this.indexOf(_name);\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t}).call([]);\n\t\t\n\t\t\t\tfor (i = 0; attr = this.$els[0].attributes[i]; i += 1) {\n\t\t\t\t\t// I explicitly want it to be at the beginning.\n\t\t\t\t\tif (attr.name.indexOf('pl-') === 0) {\n\t\t\t\t\t\tname = attr.name.slice(3);\n\t\t\t\t\t\tcollection[_util2['default'].transformId(name, true)] = attr.value;\n\t\t\n\t\t\t\t\t\tcollection.push(name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tif (collection.length) this.properties = collection;\n\t\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\n\t\t\tfunction initializeEntities() {\n\t\t\t\tif (!this.hasOwnProperty('entities')) return this;\n\t\t\n\t\t\t\tthis.entities.forEach(this.bind(function (_record, _index) {\n\t\t\t\t\tvar $nodes, query, index;\n\t\t\n\t\t\t\t\t$nodes = this.findOwn(_record.selector);\n\t\t\t\t\tquery = ['#' + _record.selector, '[pl-id=' + _record.selector + ']', '[pl-component=' + _record.selector + ']', '[pl-' + _record.selector + ']'];\n\t\t\t\t\tindex = 0;\n\t\t\n\t\t\t\t\twhile (!$nodes.length) {\n\t\t\t\t\t\tif (index === query.length) {\n\t\t\t\t\t\t\tthrow new Error(\"Unable to locate entity with selector\", _record.selector);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$nodes = this.findOwn(query[index]);\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t$nodes.each(this.bind(function (_index, _node) {\n\t\t\t\t\t\tvar $node, instance, id;\n\t\t\n\t\t\t\t\t\t$node = $(_node);\n\t\t\n\t\t\t\t\t\tif (!Scope.isPrototypeOf(_record)) {\n\t\t\t\t\t\t\tinstance = createEntity.call(this, $node, _record.implementation);\n\t\t\t\t\t\t\tif (!instance.isReady) this.assetQueue.add(instance);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinstance = _record;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tid = _util2['default'].transformId(instance.id(), true);\n\t\t\t\t\t\tif (id) _util2['default'].assignRef(this, id, instance);\n\t\t\t\t\t}));\n\t\t\t\t}));\n\t\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\n\t\t\tfunction handleProperties() {\n\t\t\t\tvar scope, property, handler;\n\t\t\n\t\t\t\tscope = this;\n\t\t\n\t\t\t\tif (this.hasOwnProperty('properties')) {\n\t\t\t\t\tthis.properties.forEach(function (_name) {\n\t\t\t\t\t\thandler = scope.propertyHandlers[_name];\n\t\t\t\t\t\tif (handler) handler.call(scope, scope.$els[0], _name, scope.properties[_name]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tif (this.propertyHandlers) {\n\t\t\t\t\tfor (property in this.propertyHandlers) {\n\t\t\t\t\t\t// Only exclide members on the base type.\n\t\t\t\t\t\tif (_typesBasic2['default'].hasOwnProperty(property)) continue;\n\t\t\n\t\t\t\t\t\thandler = this.propertyHandlers[property];\n\t\t\n\t\t\t\t\t\tthis.findOwn('[pl-' + property + ']').each(function () {\n\t\t\t\t\t\t\tvar attr;\n\t\t\n\t\t\t\t\t\t\tif (scope === $(this).scope()) {\n\t\t\t\t\t\t\t\tattr = this.attributes.getNamedItem('pl-' + property);\n\t\t\n\t\t\t\t\t\t\t\tif (handler) handler.call(scope, this, property, attr.value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\n\t\t\tfunction invokeLocal(_name) {\n\t\t\t\tvar args, owner;\n\t\t\n\t\t\t\targs = [].slice.call(arguments, 1);\n\t\t\n\t\t\t\tif (this.isMemberSafe(_name)) {\n\t\t\t\t\treturn this[_name].apply(this, arguments);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction init() {\n\t\t\t\tvar willInitEvent, initEvent;\n\t\t\n\t\t\t\tinitEvent = $.Event('initialize', { targetScope: this });\n\t\t\t\twillInitEvent = $.Event('will-initialize', { targetScope: this });\n\t\t\n\t\t\t\tinvokeLocal.call(this, 'willInit');\n\t\t\t\tthis.trigger(willInitEvent);\n\t\t\n\t\t\t\tthis.attachEvents();\n\t\t\n\t\t\t\tinitializeEntities.call(this);\n\t\t\t\thandleProperties.call(this);\n\t\t\n\t\t\t\tthis.watchAssets();\n\t\t\t\tthis.captureAudioAssets();\n\t\t\t\tthis.captureReferences();\n\t\t\n\t\t\t\tthis.__init();\n\t\t\t\tinvokeLocal.call(this, 'init');\n\t\t\n\t\t\t\tthis.trigger(initEvent);\n\t\t\n\t\t\t\tif (!this.isReady) this.assetQueue.ready();\n\t\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\n\t\t\tfunction ready() {\n\t\t\t\tvar readyEvent, entities;\n\t\t\n\t\t\t\treadyEvent = $.Event('ready', { targetScope: this });\n\t\t\t\tentities = this.findOwn('.pl-scope').scope();\n\t\t\n\t\t\t\tif (entities) {\n\t\t\t\t\tif (entities.length > 0) {\n\t\t\t\t\t\tthis.entities = entities;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.entities = [entities];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t/**\n\t\t   * Sort audio into DOM order.\n\t\t   * @todo Consider including this into `AudioManager`. Micah: 2/23/2016.\n\t\t   */\n\t\t\t\tif (this.hasOwnProperty('audio')) {\n\t\t\t\t\t(this.game || this).media.addShadow(this.audio);\n\t\t\t\t\tthis.audio.collections().forEach((function (_collection) {\n\t\t\t\t\t\tvar map = {\n\t\t\t\t\t\t\tvoiceOver: 'voice-over',\n\t\t\t\t\t\t\tbackground: 'background',\n\t\t\t\t\t\t\tsfx: 'sfx'\n\t\t\t\t\t\t};\n\t\t\n\t\t\t\t\t\tif (!_collection.length) return;\n\t\t\n\t\t\t\t\t\tthis.findOwn('audio.' + map[_collection.type]).each(function (_index, _node) {\n\t\t\t\t\t\t\tvar id, audio, collection, index;\n\t\t\n\t\t\t\t\t\t\tid = $(_node).id();\n\t\t\t\t\t\t\taudio = (_collection.find('#' + id) || [])[0];\n\t\t\t\t\t\t\tindex = _collection.indexOf(audio);\n\t\t\n\t\t\t\t\t\t\tif (index !== _index) {\n\t\t\t\t\t\t\t\t_collection[index] = _collection[_index];\n\t\t\t\t\t\t\t\t_collection[_index] = audio;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}).bind(this));\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.isReady = true;\n\t\t\t\tthis.addClass('READY');\n\t\t\n\t\t\t\tthis.__ready();\n\t\t\t\tinvokeLocal.call(this, 'ready');\n\t\t\n\t\t\t\tthis.trigger(readyEvent);\n\t\t\t}\n\t\t\n\t\t\tActionables = (function () {\n\t\t\n\t\t\t\t_util2['default'].mixin(this, _typesBasic2['default']);\n\t\t\n\t\t\t\tthis.add = function (_node, _action) {\n\t\t\t\t\tif (!this.has(_node)) {\n\t\t\t\t\t\tthis.push({\n\t\t\t\t\t\t\tnode: _node,\n\t\t\t\t\t\t\taction: _action\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.remove = function (_node) {\n\t\t\t\t\tvar item, index;\n\t\t\n\t\t\t\t\titem = this.item(_node);\n\t\t\t\t\tindex = this.indexOf(item);\n\t\t\t\t\tif (~index) this.splice(index, 1);\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.item = function (_node) {\n\t\t\t\t\tvar i, item;\n\t\t\n\t\t\t\t\tfor (i = 0; item = this[i]; i += 1) {\n\t\t\t\t\t\tif (item.node === _node) return item;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.has = function (_node) {\n\t\t\t\t\treturn !!this.item(_node);\n\t\t\t\t};\n\t\t\n\t\t\t\treturn this;\n\t\t\t}).call([]);\n\t\t\n\t\t\tthis.TRANSCLUDE_REPLACE = 'replace';\n\t\t\tthis.TRANSCLUDE_PREPEND = 'prepend';\n\t\t\tthis.TRANSCLUDE_APPEND = 'append';\n\t\t\tthis.TRANSCLUDE_PLUCK = 'pluck';\n\t\t\n\t\t\tthis.baseType = 'TYPE_SCOPE';\n\t\t\tthis.actionables = null;\n\t\t\tthis.isReady = null;\n\t\t\tthis.isComponent = false;\n\t\t\tthis.entities = null;\n\t\t\tthis.audio = null;\n\t\t\tthis.properties = null;\n\t\t\tthis.propertyHandlers = null;\n\t\t\tthis.assetQueue = null;\n\t\t\tthis.event = null;\n\t\t\n\t\t\tthis.initialize = function (_node_selector, _componentName) {\n\t\t\t\tvar scope;\n\t\t\n\t\t\t\tscope = this;\n\t\t\n\t\t\t\tthis.isReady = false;\n\t\t\t\tthis.isComponent = !!_componentName;\n\t\t\t\tthis.event = null;\n\t\t\t\tthis.assetQueue = _typesQueue2['default'].create();\n\t\t\t\tthis.$els = _node_selector.jquery ? _node_selector : $(_node_selector);\n\t\t\n\t\t\t\tif (!this.$els.length) {\n\t\t\t\t\tthrow new ReferenceError('Unable to locate the element with selector ' + this.$els.selector + '.');\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.addClass('pl-scope ' + (_componentName ? _componentName + '-component' : ''));\n\t\t\t\tthis.data('pl-scope', this);\n\t\t\t\tthis.data('pl-isComponent', !!_componentName);\n\t\t\n\t\t\t\tcaptureProperties.call(this);\n\t\t\n\t\t\t\tif (_componentName) {\n\t\t\t\t\tloadComponentAssets.call(this, _componentName, function () {\n\t\t\t\t\t\tinit.call(this);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tinit.call(this);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t// only for use in base types\n\t\t\tthis.__init = function () {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tthis.__ready = function () {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.willInit = function () {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tthis.init = function () {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tthis.ready = function () {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.watchAssets = function (_nodes) {\n\t\t\t\tvar createHandler, watch;\n\t\t\n\t\t\t\tcreateHandler = this.bind(function (_node) {\n\t\t\t\t\treturn (function () {\n\t\t\t\t\t\tvar loadedEvent = $.Event('loaded', { targetScope: this });\n\t\t\n\t\t\t\t\t\tthis.assetQueue.ready(_node.src);\n\t\t\t\t\t\tthis.trigger(loadedEvent, [_node]);\n\t\t\n\t\t\t\t\t\t_node.onload = null;\n\t\t\t\t\t}).bind(this);\n\t\t\t\t});\n\t\t\n\t\t\t\twatch = this.bind(function (_index, _node) {\n\t\t\t\t\tvar node = typeof _index === 'number' ? _node : _index;\n\t\t\n\t\t\t\t\tif (node.nodeName !== 'IMG' || node.complete) return;\n\t\t\t\t\tif (this.assetQueue.add(node.src)) {\n\t\t\t\t\t\tnode.onload = createHandler(node);\n\t\t\t\t\t\tnode.onerror = function () {\n\t\t\t\t\t\t\tconsole.error('Image failed to load', node.src);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\tif (_nodes) {\n\t\t\t\t\t_nodes.forEach(watch);\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.each(watch);\n\t\t\t\tthis.findOwn('img').each(watch);\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.attachEvents = function () {\n\t\t\n\t\t\t\tthis.proto();\n\t\t\n\t\t\t\tthis.assetQueue.on('complete', this.bind(function () {\n\t\t\t\t\tthis.assetQueue.off();\n\t\t\t\t\tready.call(this);\n\t\t\t\t}));\n\t\t\n\t\t\t\tthis.on('ready', function (_event) {\n\t\t\t\t\tif (this.has(_event.targetScope) && this.assetQueue.has(_event.targetScope)) {\n\t\t\t\t\t\tthis.assetQueue.ready(_event.targetScope);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (!this.assetQueue.length && this.isReady) this.off('ready');\n\t\t\t\t});\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.captureReferences = function () {\n\t\t\t\tthis.findOwn('[id], [pl-id]').each(this.bind(function (_index, _node) {\n\t\t\t\t\tvar $node, id;\n\t\t\n\t\t\t\t\tif (_node.nodeName === 'AUDIO') return;\n\t\t\n\t\t\t\t\t$node = $(_node);\n\t\t\t\t\tid = $node.attr('id') || $node.attr('pl-id');\n\t\t\n\t\t\t\t\tif (!this[id]) {\n\t\t\t\t\t\t_util2['default'].assignRef(this, id, $node.data('pl-scope') || $node);\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t};\n\t\t\n\t\t\tthis.captureAudioAssets = function () {\n\t\t\t\tvar deQ, $audio;\n\t\t\n\t\t\t\tif (!($audio = this.findOwn('audio')).length) return false;\n\t\t\n\t\t\t\tdeQ = (function (_item) {\n\t\t\t\t\t[this, this.screen].forEach(function (_scope) {\n\t\t\t\t\t\tif (_scope.requiredQueue && _scope.isMemberSafe('requiredQueue') && _scope.requiredQueue.has(_item)) {\n\t\t\t\t\t\t\t_scope.requiredQueue.ready(_item);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}).bind(this);\n\t\t\n\t\t\t\tthis.audio = _typesAudioManager.AudioManager.create(this.id());\n\t\t\n\t\t\t\t$audio.each((function (_index, _node) {\n\t\t\t\t\tthis.assetQueue.add(_node.src);\n\t\t\t\t\tthis.audio.watch(_node).then((function (_audio) {\n\t\t\t\t\t\tvar loadedEvent = $.Event('loaded', { target: _node, targetScope: this });\n\t\t\n\t\t\t\t\t\tif ($(_node).is('[pl-required]')) this.screen.require(_audio);\n\t\t\n\t\t\t\t\t\tif (this.assetQueue.has(_node.src)) this.assetQueue.ready(_node.src);\n\t\t\n\t\t\t\t\t\tthis.trigger(loadedEvent);\n\t\t\t\t\t}).bind(this));\n\t\t\t\t}).bind(this));\n\t\t\n\t\t\t\t// proxy events\n\t\t\t\tthis.audio.on('play pause ended stopped', this.bind(function (_event) {\n\t\t\t\t\tvar map = {\n\t\t\t\t\t\tbackground: 'BACKGROUND',\n\t\t\t\t\t\tvoiceOver: 'VOICE-OVER',\n\t\t\t\t\t\tsfx: 'SFX'\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tswitch (_event.type) {\n\t\t\t\t\t\tcase 'play':\n\t\t\t\t\t\t\t[this, this.screen].forEach(function (_scope, _index, _set) {\n\t\t\t\t\t\t\t\tif (_index === 1 && _scope === _set[0]) return;\n\t\t\t\t\t\t\t\tif (_scope.$els) _scope.addClass('PLAYING ' + map[_event.target.type]);\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t\t$(_event.targetNode).addClass('PLAYING');\n\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\tcase 'pause':\n\t\t\t\t\t\tcase 'stopped':\n\t\t\t\t\t\tcase 'ended':\n\t\t\t\t\t\t\t[this, this.screen].forEach(function (_scope, _index, _set) {\n\t\t\t\t\t\t\t\tvar state;\n\t\t\n\t\t\t\t\t\t\t\tif (_index === 1 && _scope === _set[0]) return;\n\t\t\n\t\t\t\t\t\t\t\tif (_scope.$els) {\n\t\t\t\t\t\t\t\t\t_scope.removeClass(map[_event.target.type]);\n\t\t\t\t\t\t\t\t\tstate = _scope.attr('class');\n\t\t\t\t\t\t\t\t\tif (!/BACKGROUND|VOICE-OVER|SFX/.test(state)) _scope.removeClass('PLAYING');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t\t$(_event.targetNode).removeClass('PLAYING');\n\t\t\t\t\t\t\tif (_event.type === 'ended') deQ(_event.target);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tvar audioEvent = $.Event('audio-' + _event.type, {\n\t\t\t\t\t\ttarget: _event.target,\n\t\t\t\t\t\ttargetSource: _event.targetSource,\n\t\t\t\t\t\ttargetNode: _event.targetNode,\n\t\t\t\t\t\ttargetScope: this\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tthis.trigger(audioEvent);\n\t\t\t\t}));\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.handleProperty = function (_implementation) {\n\t\t\t\tif (this.propertyHandlers) {\n\t\t\t\t\tif (this.hasOwnProperty('propertyHandlers')) {\n\t\t\t\t\t\tswitch (typeof _implementation) {\n\t\t\t\t\t\t\tcase 'function':\n\t\t\t\t\t\t\t\t_implementation.call(this.propertyHandlers);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\t\t\tthis.propertyHandlers.mixin(_implementation);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.propertyHandlers = this.propertyHandlers.extend(_implementation);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.propertyHandlers = _typesBasic2['default'].extend(_implementation);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.entity = function (_selector, _implementation) {\n\t\t\t\tvar Entity, prototype, id;\n\t\t\n\t\t\t\tEntity = _playGame2['default'].provideEntityType();\n\t\t\n\t\t\t\tif (!this.hasOwnProperty('entities')) this.entities = [];\n\t\t\n\t\t\t\tif (this.hasOwnProperty('$els')) {\n\t\t\t\t\tthrow new Error('Wait this hasn\\'t been tested.');\n\t\t\t\t\tprototype = Entity.isPrototypeOf(this) ? this : Entity;\n\t\t\t\t\tinstance = prototype.extend(_implementation).initialize(this.find(_selector));\n\t\t\t\t\tid = _util2['default'].transformId(instance.id());\n\t\t\n\t\t\t\t\t// this.entities.push(instance);\n\t\t\t\t\tif (id) this[id] = instance;\n\t\t\t\t} else {\n\t\t\t\t\tthis.entities.push({\n\t\t\t\t\t\tselector: _selector,\n\t\t\t\t\t\timplementation: _implementation\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.has = function (_child) {\n\t\t\t\tvar child;\n\t\t\n\t\t\t\tchild = Scope.isPrototypeOf(_child) ? _child.$els : _child;\n\t\t\n\t\t\t\treturn !!this.$els.has(child).length;\n\t\t\t};\n\t\t\n\t\t\tthis.toString = function () {\n\t\t\t\tvar type;\n\t\t\n\t\t\t\ttype = this.baseType.replace('TYPE_', '');\n\t\t\t\ttype = type.slice(0, 1) + type.slice(1).toLowerCase();\n\t\t\n\t\t\t\treturn ['[', this.id() || this.address(), ' ', type, ']'].join('');\n\t\t\t};\n\t\t\n\t\t\tthis.log = function () {\n\t\t\t\tvar args;\n\t\t\n\t\t\t\targs = _util2['default'].toArray(arguments);\n\t\t\n\t\t\t\tconsole.log.apply(console, [this.id() || this.address(), '-'].concat(args));\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.handleProperty(function () {\n\t\t\n\t\t\t\tthis.component = function (_node, _name, _value, _property) {\n\t\t\t\t\tvar $node, record, scope, id;\n\t\t\n\t\t\t\t\t$node = $(_node);\n\t\t\n\t\t\t\t\tif (!$node.data('pl-isComponent')) {\n\t\t\t\t\t\trecord = _playGame2['default'].component.get(_value);\n\t\t\n\t\t\t\t\t\tif (record) {\n\t\t\t\t\t\t\tscope = createEntity.call(this, $node, record.implementation);\n\t\t\t\t\t\t\tid = _util2['default'].transformId(scope.id() || _value, true);\n\t\t\t\t\t\t\t_util2['default'].assignRef(this, id, scope);\n\t\t\n\t\t\t\t\t\t\tif (!scope.isReady) this.assetQueue.add(scope);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new Error('Ahh!');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.action = function (_node, _name, _value) {\n\t\t\t\t\tif (!this.hasOwnProperty('actionables')) {\n\t\t\t\t\t\tthis.actionables = Actionables.create();\n\t\t\t\t\t\tattachActionHandler.call(this);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tthis.actionables.add(_node, _value);\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.required = function (_node, _name, _value) {\n\t\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\t\tthis.screen.require(this);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.require = function (_node, _name, _value) {\n\t\t\t\t\tvar query, $node;\n\t\t\n\t\t\t\t\t// if the node with the attribute is the node for this scope\n\t\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\t\tquery = '#_value, [pl-id=_value], [pl-component=_value]'.replace(/_value/g, _value);\n\t\t\t\t\t\t$node = this.find(query);\n\t\t\n\t\t\t\t\t\t$node.on('ready', this.bind(function (_event) {\n\t\t\t\t\t\t\tif ($node.is(_event.target)) {\n\t\t\t\t\t\t\t\tthis.require(_event.targetScope);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t});\n\t\t\n\t\texports['default'] = { Scope: Scope, createEntity: createEntity };\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 32 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _Object$keys = __webpack_require__(33)['default'];\n\t\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t*  jQProxy\n\t\t*  @desc Contains all the jQuery methods targeted towards a property which references a jQuery object.\n\t\t*  @proto Basic\n\t\t*  \n\t\t*  NOTE: Custom events may trigger on scopes\n\t\t*  that also targets the same elments. Testing needed.\n\t\t*/\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesBasic = __webpack_require__(19);\n\t\t\n\t\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\t\n\t\tvar jQProxy = _typesBasic2['default'].extend(function () {\n\t\t\tvar method, exclude;\n\t\t\n\t\t\t/**\n\t\t *  @desc Creates a function with a proxy to the jQuery method.\n\t\t *  @param _name (String) The name of the method being proxied.\n\t\t *  @return (jQuery|*) Either a jQuery object or whatever the original method returns.\n\t\t *  @private\n\t\t */\n\t\t\tfunction createProxyFunction(_name) {\n\t\t\t\treturn function () {\n\t\t\t\t\tvar response;\n\t\t\n\t\t\t\t\t// This makes sure your not calling any jQuery methods before initialization.\n\t\t\t\t\tif (!this.hasOwnProperty('$els')) {\n\t\t\t\t\t\tif (_name === 'on') {\n\t\t\t\t\t\t\tregisterHandler.call(this, arguments);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new ReferenceError('Unable to invoke ' + _name + ' because the scope is not initialized.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tresponse = $.fn[_name].apply(this.$els, resolveEventHandler(this, _name, arguments));\n\t\t\n\t\t\t\t\tif (response === this.$els || response && response.jquery && response.is(this.$els)) {\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn response;\n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\tfunction resolveEventHandler(_scope, _method, _args) {\n\t\t\t\tvar i, arg, args;\n\t\t\n\t\t\t\targs = [];\n\t\t\n\t\t\t\tif (~['on', 'load'].indexOf(_method)) {\n\t\t\t\t\tfor (i = 0; arg = _args[i]; i += 1) {\n\t\t\t\t\t\tif (typeof arg === 'function') {\n\t\t\t\t\t\t\targs.push((function (_handler) {\n\t\t\t\t\t\t\t\treturn function () {\n\t\t\t\t\t\t\t\t\treturn _handler.apply(_scope, arguments);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t})(arg));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\targs.push(arg);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn args;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn _args;\n\t\t\t}\n\t\t\n\t\t\tfunction registerHandler(_definition) {\n\t\t\t\tif (!this.hasOwnProperty('eventRegistry')) {\n\t\t\t\t\tif (this.eventRegistry && this.isMemberSafe('eventRegistry')) {\n\t\t\t\t\t\tthis.eventRegistry = this.eventRegistry.slice(0);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.eventRegistry = [];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.eventRegistry.push(_definition);\n\t\t\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\n\t\t\t// We don't want jQuery methods overridding our base type's methods.\n\t\t\texclude = ['constructor'].concat(_Object$keys(_typesBasic2['default']));\n\t\t\n\t\t\tthis.baseType = 'TYPE_JQPROXY';\n\t\t\tthis.$els = null;\n\t\t\tthis.eventRegistry = null;\n\t\t\n\t\t\tfor (method in $.fn) {\n\t\t\t\tif (!$.fn.hasOwnProperty(method) || ~exclude.indexOf(method)) continue;\n\t\t\t\tthis[method] = createProxyFunction(method);\n\t\t\t}\n\t\t\n\t\t\tthis.node = function () {\n\t\t\t\treturn this.$els[0];\n\t\t\t};\n\t\t\n\t\t\tthis.attachEvents = function () {\n\t\t\t\tvar self;\n\t\t\n\t\t\t\tself = this;\n\t\t\n\t\t\t\tif (this.eventRegistry && this.isMemberSafe('eventRegistry')) {\n\t\t\t\t\tthis.eventRegistry.forEach(function (_definition) {\n\t\t\t\t\t\tself.on.apply(self, _definition);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\tthis.listen = function (_name, _isCapure_handler, _handler) {\n\t\t\t\tvar _isCapture, node, handler;\n\t\t\n\t\t\t\t_isCapture = false;\n\t\t\n\t\t\t\t// resolve arguments\n\t\t\t\ttypeof _isCapure_handler === 'boolean' ? _isCapture = _isCapure_handler : _handler = _isCapure_handler;\n\t\t\n\t\t\t\t_handler.cb = _handler.bind(this);\n\t\t\n\t\t\t\tif (this.$els) {\n\t\t\t\t\tnode = this.$els[0];\n\t\t\t\t\tif (node) return node.addEventListener(_name, _handler.cb, _isCapture);\n\t\t\t\t} else {\n\t\t\t\t\treturn registerHandler([_name, _handler.cb, _isCapture]);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\n\t\t\tthis.ignore = function (_name, _handler) {\n\t\t\t\tvar node = this.$els && this.$els[0];\n\t\t\n\t\t\t\tif (node) return node.removeEventListener(_name, _handler.cb || _handler);\n\t\t\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\n\t\t\t// Wraps you function 'this' to the scope.\n\t\t\t//\n\t\t\tthis.bind = function (_handler) {\n\t\t\t\tvar args;\n\t\t\n\t\t\t\targs = [].map.call(arguments, function (m) {\n\t\t\t\t\treturn m;\n\t\t\t\t}).slice(1);\n\t\t\n\t\t\t\treturn _handler.bind.apply(_handler, [this].concat(args));\n\t\t\t};\n\t\t\n\t\t\tthis.findOwn = function (_selector) {\n\t\t\t\treturn this.find(_selector).filter(this.bind(function (_index, _node) {\n\t\t\t\t\tvar $node;\n\t\t\n\t\t\t\t\t$node = $(_node);\n\t\t\n\t\t\t\t\tif ($node.hasClass('pl-scope')) {\n\t\t\t\t\t\treturn $node.parent().scope() === this;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn $node.scope() === this;\n\t\t\t\t}));\n\t\t\t};\n\t\t\n\t\t\tthis.isMemberSafe = function (_name) {\n\t\t\t\tvar owner, elOwner, prototype;\n\t\t\n\t\t\t\tif (this.hasOwnProperty(_name)) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tprototype = Object.getPrototypeOf(this);\n\t\t\t\t\towner = _util2['default'].getOwner(this, this[_name]);\n\t\t\n\t\t\t\t\tif (owner.object.hasOwnProperty('$els') || prototype.hasOwnProperty('$els')) return false;\n\t\t\n\t\t\t\t\tif (prototype.$els) {\n\t\t\t\t\t\telOwner = _util2['default'].getOwner(prototype, prototype.$els);\n\t\t\n\t\t\t\t\t\tif (owner.object.isPrototypeOf(elOwner.object)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\n\t\t\tthis.is = function (_obj) {\n\t\t\t\tif (!_obj) return false;\n\t\t\t\tif (_obj.$els) return this.$els.is(_obj.$els);\n\t\t\n\t\t\t\treturn this.$els.is(_obj);\n\t\t\t};\n\t\t});\n\t\t\n\t\texports['default'] = jQProxy;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 33 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = { \"default\": __webpack_require__(34), __esModule: true };\n\t\n\t/***/ },\n\t/* 34 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t__webpack_require__(35);\n\t\tmodule.exports = __webpack_require__(11).Object.keys;\n\t\n\t/***/ },\n\t/* 35 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// 19.1.2.14 Object.keys(O)\n\t\tvar toObject = __webpack_require__(36);\n\t\t\n\t\t__webpack_require__(38)('keys', function($keys){\n\t\t  return function keys(it){\n\t\t    return $keys(toObject(it));\n\t\t  };\n\t\t});\n\t\n\t/***/ },\n\t/* 36 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// 7.1.13 ToObject(argument)\n\t\tvar defined = __webpack_require__(37);\n\t\tmodule.exports = function(it){\n\t\t  return Object(defined(it));\n\t\t};\n\t\n\t/***/ },\n\t/* 37 */\n\t/***/ function(module, exports) {\n\t\n\t\t// 7.2.1 RequireObjectCoercible(argument)\n\t\tmodule.exports = function(it){\n\t\t  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n\t\t  return it;\n\t\t};\n\t\n\t/***/ },\n\t/* 38 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// most Object methods by ES6 should accept primitives\n\t\tvar $export = __webpack_require__(9)\n\t\t  , core    = __webpack_require__(11)\n\t\t  , fails   = __webpack_require__(39);\n\t\tmodule.exports = function(KEY, exec){\n\t\t  var fn  = (core.Object || {})[KEY] || Object[KEY]\n\t\t    , exp = {};\n\t\t  exp[KEY] = exec(fn);\n\t\t  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n\t\t};\n\t\n\t/***/ },\n\t/* 39 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(exec){\n\t\t  try {\n\t\t    return !!exec();\n\t\t  } catch(e){\n\t\t    return true;\n\t\t  }\n\t\t};\n\t\n\t/***/ },\n\t/* 40 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t*  Queue\n\t\t*  @desc Contains...\n\t\t*  @proto Array, Events, Basic\n\t\t*/\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesCollection = __webpack_require__(29);\n\t\t\n\t\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\t\n\t\tvar _typesEvents = __webpack_require__(26);\n\t\t\n\t\tvar _typesEvents2 = _interopRequireDefault(_typesEvents);\n\t\t\n\t\tvar Queue = _typesCollection2['default'].extend(function () {\n\t\t\n\t\t\tthis.baseType = 'TYPE_QUEUE';\n\t\t\n\t\t\tthis.ready = function (_record) {\n\t\t\t\tif (_record != null) this.remove(_record);\n\t\t\n\t\t\t\tif (!this.length) {\n\t\t\t\t\tthis.trigger('complete');\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t_util2['default'].mixin(this, _typesEvents2['default']);\n\t\t\n\t\t\treturn this;\n\t\t});\n\t\t\n\t\texports['default'] = Queue;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 41 */\n\t/***/ function(module, exports) {\n\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * @module evalAction\n\t\t */\n\t\t\n\t\t/**\n\t\t * Performs `eval()` on the value of an `action` attribute on an HTML element.\n\t\t * @arg {string} _source - JavaScript source code.\n\t\t * @arg {Scope} _scope - The context in which to run the source.\n\t\t * @returns {*} The result of the evaluated source.\n\t\t */\n\t\tfunction evalAction(_source, _scope) {\n\t\t\tvar error;\n\t\t\n\t\t\tfunction target(_selector) {\n\t\t\t\tif (_scope.event) {\n\t\t\t\t\treturn _selector ? $(_scope.event.target).closest(_selector) : $(_scope.event.target);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t// expose members of the object as if they were local variables.\n\t\t\t// NOTE: methods still retain their \"this\" binding to the object! :D\n\t\t\treturn eval(\"with (_scope) { try {\" + _source + \";} catch (error) { console.error('Error:', error.message, 'evaluating action', _source, 'in', _scope.id() || _scope.address()); } }\");\n\t\t}\n\t\t\n\t\texports[\"default\"] = evalAction;\n\t\tmodule.exports = exports[\"default\"];\n\t\n\t/***/ },\n\t/* 42 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _Promise = __webpack_require__(43)['default'];\n\t\t\n\t\tvar _Object$keys = __webpack_require__(33)['default'];\n\t\t\n\t\tvar _Object$create = __webpack_require__(20)['default'];\n\t\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t\n\t\t/**\n\t\t * Contains classes for managing different media types.\n\t\t * Providing an API for referencing and control.\n\t\t * @module\n\t\t * @author Micah Rolon <micah@ginasink.com>\n\t\t */\n\t\t\n\t\tvar _typesType = __webpack_require__(90);\n\t\t\n\t\tvar _typesType2 = _interopRequireDefault(_typesType);\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesCollection = __webpack_require__(29);\n\t\t\n\t\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\t\n\t\t// Object type definitions are using  `$` as the augmentation method for Types.\n\t\t\"use strict\";var EventTargetInterface,\n\t\t    InspectorInterface,\n\t\t    PlayableInterface,\n\t\t    LegislatorInterface,\n\t\t    StateInterface,\n\t\t    $$ = window.jQuery;\n\t\t\n\t\t/**\n\t\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `MediaManager.create()`.</span>\n\t\t * Manages any playing media (Audio, Video).\n\t\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t\t * @classdesc Manages any playing media (Audio, Video).\n\t\t * <style>\n\t\t * .note {\n\t\t *   border: solid 1px;\n\t\t *   border-radius: 4px;\n\t\t *   padding: 1px 4px;\n\t\t *   color: #aaa;\n\t\t *   background-color: #eee;\n\t\t * }\n\t\t * \n\t\t * .note.important {\n\t\t *   color: #b55;\n\t\t *   background-color: #fee;\n\t\t * }\n\t\t * </style>\n\t\t *\n\t\t * @class\n\t\t */\n\t\tfunction MediaManager($, sup) {\n\t\t\t/**\n\t\t  * Duck typed multiple inheritance.\n\t\t  */\n\t\t\t_util2['default'].mixin(this, EventTargetInterface, InspectorInterface, LegislatorInterface, StateInterface);\n\t\t\t$('video', function alloc(_id) {\n\t\t\t\tsup(this, 'alloc', arguments);\n\t\t\t\tthis.video = _typesCollection2['default'].create();\n\t\t\t\tthis.initialize(_id, 'media manager');\n\t\t\t});\n\t\t}\n\t\t\n\t\t/**\n\t\t * The Scopes entry for its audio management interface. This gives access to collections of Audio objects grouped into three types.\n\t\t *\n\t\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioManager.create()`.</span>\n\t\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t\t * @classdesc The Scopes entry for its audio management interface. This gives access to collections of Audio objects grouped into three types.\n\t\t * - Background\n\t\t * - Voice Over\n\t\t * - SFX (Sound Effects)\n\t\t * These collections are filled by the HTML Audio elements which have classes corresponding to these types.\n\t\t * @class\n\t\t * @prop {type} member - Text.\n\t\t * @extends EventTargetInterface\n\t\t * @extends PlayableInterface\n\t\t * @extends InspectorInterface\n\t\t */\n\t\tfunction AudioManager($) {\n\t\t\tvar AUDIO_TYPES, BUFFER_CACHE;\n\t\t\n\t\t\t/**\n\t\t  * A record object for passing the MediaElement which got loaded as an `AudioBuffer`.\n\t\t  * @arg {HTMLAudioElement} _node - The loaded audio element.\n\t\t  * @arg {ArrayBuffer} _buffer - The array buffer loaded from XHR2.\n\t\t  */\n\t\t\tfunction AudioBufferRecord(_node, _buffer) {\n\t\t\t\tthis.node = _node;\n\t\t\t\tthis.type = getAudioType(_node);\n\t\t\t\tthis.buffer = _buffer;\n\t\t\t}\n\t\t\t/**\n\t\t  * Provides the classification an audio element falls into.\n\t\t  * - Background (`background`)\n\t\t  * - Voice Over (`voiceOver`)\n\t\t  * - Sound Effects (`sfx`)\n\t\t  * @protected\n\t\t  * @arg {HTMLAudioElement} _audio - The audio element.\n\t\t  * @returns {string} - The type.\n\t\t  */\n\t\t\tfunction getAudioType(_audio) {\n\t\t\t\treturn _util2['default'].transformId((_audio.className.match(AUDIO_TYPES) || [])[0], true);\n\t\t\t}\n\t\t\t/**\n\t\t  * Given an HTMLAudioElement, load its source as an `ArrayBuffer` with XHR2.\n\t\t  * @protected\n\t\t  * @arg {HTMLAudioElement} _audio - The audio element.\n\t\t  * @returns {Promise}\n\t\t  */\n\t\t\tfunction loadArrayBuffer(_audio) {\n\t\t\t\tvar xhr, manager, fileName;\n\t\t\n\t\t\t\txhr = new (XMLHttpRequest || _util2['default'].noop)();\n\t\t\t\tmanager = this;\n\t\t\t\tfileName = _util2['default'].resolveFileName(_audio.src);\n\t\t\n\t\t\t\tif (!xhr.open) _Promise.reject('This platfom does not support the XMLHttpRequest API.');\n\t\t\n\t\t\t\treturn new _Promise(function (resolve, reject) {\n\t\t\t\t\tvar cache = BUFFER_CACHE[fileName];\n\t\t\n\t\t\t\t\t// Decodes ArrayBuffer into an AudioBuffer.\n\t\t\t\t\tfunction onLoad() {\n\t\t\t\t\t\tvar ctx, promise;\n\t\t\n\t\t\t\t\t\tif (xhr.status >= 200 && xhr.status < 300) {\n\t\t\t\t\t\t\tif (ctx = pl.game.getAudioContext()) {\n\t\t\t\t\t\t\t\tpromise = new _Promise(function (resolveDecoding, rejectDecoding) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tctx.decodeAudioData(xhr.response, function (_buffer) {\n\t\t\t\t\t\t\t\t\t\t\tvar audio = manager.collect(new AudioBufferRecord(_audio, _buffer));\n\t\t\n\t\t\t\t\t\t\t\t\t\t\tresolveDecoding(audio);\n\t\t\t\t\t\t\t\t\t\t\t// Cache the AudioBuffer to resolve duplicates.\n\t\t\t\t\t\t\t\t\t\t\tBUFFER_CACHE[fileName] = _buffer;\n\t\t\t\t\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\t\t\t\t\trejectDecoding(\"Failed to decode ArrayBuffer for \" + fileName + \".\");\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\trejectDecoding(e);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t\t\tpromise.then(resolve)['catch'](reject);\n\t\t\n\t\t\t\t\t\t\t\treturn promise;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\txhr.removeEventListener('load', onLoad);\n\t\t\t\t\t\txhr = null;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tfunction onError() {\n\t\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t\t\txhr.removeEventListener('error', onError);\n\t\t\t\t\t\txhr = null;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (cache && cache !== 'loading') return resolve(manager.collect(new AudioBufferRecord(_audio, cache)));\n\t\t\n\t\t\t\t\tBUFFER_CACHE[fileName] = 'loading';\n\t\t\n\t\t\t\t\txhr.responseType = 'arraybuffer';\n\t\t\n\t\t\t\t\txhr.addEventListener('load', onLoad, false);\n\t\t\t\t\txhr.addEventListener('error', onError, false);\n\t\t\t\t\txhr.open('GET', _audio.src, true);\n\t\t\t\t\txhr.send();\n\t\t\t\t});\n\t\t\t}\n\t\t\t/**\n\t\t  * The CSS class names reconized as audio types.\n\t\t  */\n\t\t\tAUDIO_TYPES = /background|voice-over|sfx/i;\n\t\t\tBUFFER_CACHE = {};\n\t\t\t/**\n\t\t  * Duck typed multiple inheritance.\n\t\t  */\n\t\t\t_util2['default'].mixin(this, EventTargetInterface, PlayableInterface, InspectorInterface, LegislatorInterface, StateInterface);\n\t\t\n\t\t\t// A little ugg but define instance members.\n\t\t\t$(\n\t\t\t// Declare properties.\n\t\t\t'background, voiceOver, sfx, scope',\n\t\t\n\t\t\t/**\n\t\t  * Define instance properties.\n\t\t  */\n\t\t\tfunction alloc(_id) {\n\t\t\t\tthis.initialize(_id, 'audio manager');\n\t\t\n\t\t\t\t['background', 'voiceOver', 'sfx'].forEach((function (_type) {\n\t\t\t\t\tvar collection = this[_type] = AudioCollection.create(_type);\n\t\t\t\t\tthis.addShadow(collection);\n\t\t\t\t}).bind(this));\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Given an audio element begin loading the asset.\n\t\t  * @arg {HTMLAudioElement} _audio - The HTML Audio element which to preload and add to the game audio context.\n\t\t  * @returns {Promise}\n\t\t  * @todo Support loading from node source or a string argument. - Micah:2/19/16\n\t\t  */\n\t\t\tfunction load(_audio) {\n\t\t\t\tvar manager, type;\n\t\t\n\t\t\t\tmanager = this;\n\t\t\t\ttype = getAudioType(_audio);\n\t\t\n\t\t\t\tif (!type) return _Promise.reject(\"Audio is missing a type. Please classify as 'background', 'voiceOver' or 'sfx'.\");\n\t\t\t\t// if (~['sfx', 'voiceOver'].indexOf(type))\n\t\t\t\treturn loadArrayBuffer.call(this, _audio);\n\t\t\n\t\t\t\t// return new Promise(function (resolve, reject) {\n\t\t\t\t// \t_audio.onloadeddata = function () { resolve(manager.collect(this)); };\n\t\t\t\t// \t_audio.onerror = reject;\n\t\t\t\t// \t_audio.load();\n\t\t\t\t// });\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Begins loading an AudioElement waits for it to load.\n\t\t  * @arg {HTMLAudioElement} _audio - The HTML Audio element which to preload and add to the game audio context.\n\t\t  * @returns {Promise}\n\t\t  */\n\t\t\tfunction watch(_audio) {\n\t\t\t\tvar promise;\n\t\t\n\t\t\t\tif (_audio.nodeName !== 'AUDIO') return _Promise.reject('Invalid type for audio node. ' + typeof _audio + ' [' + _audio.protoype.constructor.name + ' ' + _audio.nodeName + '].');\n\t\t\n\t\t\t\tfunction reject(_error) {\n\t\t\t\t\tvar scope = $$(_audio).scope();\n\t\t\t\t\tconsole.warn(scope.id(), '-', _error);\n\t\t\t\t}\n\t\t\n\t\t\t\t(promise = this.load(_audio))['catch'](reject.bind(this));\n\t\t\n\t\t\t\treturn promise;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t  * Adds a audio to the collection. You may also pass an itterable of items to add.\n\t\t  * @arg {Audio|HTMLAudioElement|AudioBufferRecord|Array} _audio - The HTML Audio element or `AudioBufferRecord` for addition to the collection.\n\t\t  * @returns {Promise}\n\t\t  */\n\t\t\tfunction collect(_audio) {\n\t\t\t\tvar type;\n\t\t\n\t\t\t\tif (!_audio) return false;\n\t\t\n\t\t\t\tif (_audio.length) {\n\t\t\t\t\treturn _audio.map(collect.bind(this));\n\t\t\t\t}\n\t\t\n\t\t\t\ttype = _audio.type || getAudioType(_audio);\n\t\t\n\t\t\t\tif (type && this[type]) return this[type].add(_audio);\n\t\t\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t/**\n\t\t  * Provides a collection of `AudioCollection` objects.\n\t\t  * @returns {array}\n\t\t  */\n\t\t\tfunction collections() {\n\t\t\t\tvar result, types;\n\t\t\n\t\t\t\tresult = [];\n\t\t\t\ttypes = _Object$keys(this);\n\t\t\n\t\t\t\ttypes.forEach((function (_type) {\n\t\t\t\t\tif (this[_type] instanceof AudioCollection) result.push(this[_type]);\n\t\t\t\t}).bind(this));\n\t\t\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t/**\n\t\t  * Proveds a string representation of the object type.\n\t\t  */\n\t\t\tfunction toString() {\n\t\t\t\treturn '[object ' + (this.constructor.name || 'Object') + ']';\n\t\t\t});\n\t\t}\n\t\t\n\t\t/**\n\t\t * An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n\t\t *\n\t\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioCollection.create()`.</span>\n\t\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t\t * @classdesc An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n\t\t * @extends Collection\n\t\t */\n\t\tfunction AudioCollection($, sup) {\n\t\t\t/**\n\t\t  * Duck typed multiple inheritance.\n\t\t  */\n\t\t\t_util2['default'].mixin(this, EventTargetInterface, PlayableInterface, InspectorInterface, StateInterface);\n\t\t\n\t\t\t$('type', function alloc(_type) {\n\t\t\t\tif (_type) this.type = _type;\n\t\t\t\tthis.initialize(_type, 'collection');\n\t\t\t},\n\t\t\t/**\n\t\t  * Adds an Audio object to the collection.\n\t\t  * @arg {HTMLAudioElement|Audio} _audio - Object to add.\n\t\t  * @override\n\t\t  * @returns {Audio}\n\t\t  */\n\t\t\tfunction add(_audio) {\n\t\t\t\tvar audio;\n\t\t\n\t\t\t\tif (!_audio) return false;\n\t\t\n\t\t\t\taudio = _audio instanceof Audio ? _audio : Audio.create(_audio, this.type);\n\t\t\n\t\t\t\tsup(this, 'add')(audio);\n\t\t\t\tthis.addShadow(audio);\n\t\t\t\tif (audio.id()) _util2['default'].assignRef(this, audio.id(), audio);\n\t\t\n\t\t\t\treturn audio;\n\t\t\t},\n\t\t\t/**\n\t\t  * Get the owning manager interface for an Audio object.\n\t\t  * @returns {AudioManager}\n\t\t  */\n\t\t\tfunction manager() {\n\t\t\t\treturn this.$el.closest('#man').data('context');\n\t\t\t},\n\t\t\t/**\n\t\t  * Proveds a string representation of the object type.\n\t\t  */\n\t\t\tfunction toString() {\n\t\t\t\treturn '[object ' + (this.constructor.name || 'Object') + ']';\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Extend AudioCollection with Collection.\n\t\t */\n\t\tAudioCollection.prototype = _Object$create(_typesCollection2['default'], {\n\t\t\tconstructor: {\n\t\t\t\tvalue: AudioCollection,\n\t\t\t\tenumerable: false,\n\t\t\t\twriteable: false,\n\t\t\t\tconfigureable: false\n\t\t\t}\n\t\t});\n\t\t/**\n\t\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `MediaCollection.create()`.</span>\n\t\t * Returned as the result of some collection process.\n\t\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t\t * @classdesc Returned as the result of some collection process.\n\t\t *\n\t\t * @class\n\t\t * @extends AudioCollection\n\t\t * @extends EventTargetInterface\n\t\t * @extends InspectorInterface\n\t\t * @extends LegislatorInterface\n\t\t * @extends StateInterface\n\t\t */\n\t\tfunction MediaCollection($, sup) {\n\t\t\t$(\n\t\t\t/**\n\t\t  * @override\n\t\t  */\n\t\t\tfunction add(_media) {\n\t\t\t\tthis.addShadow(_media);\n\t\t\t\tif (_media.id()) _util2['default'].assignRef(this, _media.id(), _media);\n\t\t\t\treturn _typesCollection2['default'].add.call(this, _media);\n\t\t\t},\n\t\t\t/**\n\t\t  * @override\n\t\t  */\n\t\t\tfunction addShadow(_media) {\n\t\t\t\tvar $clone;\n\t\t\n\t\t\t\t$clone = _media.$el.clone();\n\t\t\t\t$clone.data(_media.$el.data());\n\t\t\n\t\t\t\tthis.$el.append($clone);\n\t\t\t\treturn this;\n\t\t\t});\n\t\t}\n\t\t\n\t\t/**\n\t\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioCollection.create()`.</span>\n\t\t * An interface for controlling a MediaElement or AudioBuffer.\n\t\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t\t * @classdesc An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n\t\t */\n\t\tfunction Audio($) {\n\t\t\n\t\t\tfunction accessConfig(_augment, _val) {\n\t\t\t\tif (_val) {\n\t\t\t\t\treturn this[_augment] = _val;\n\t\t\t\t} else if (typeof _augment === 'string') {\n\t\t\t\t\treturn this[_augment];\n\t\t\t\t} else {\n\t\t\t\t\t_util2['default'].mixin(this, _augment);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn _augment;\n\t\t\t}\n\t\t\n\t\t\t/**\n\t\t  * Duck typed multiple inheritance.\n\t\t  */\n\t\t\t_util2['default'].mixin(this, EventTargetInterface, PlayableInterface, StateInterface);\n\t\t\n\t\t\t$('type, media, activeSource, buffer, config, fileName, gain, delay, delayID',\n\t\t\n\t\t\t/**\n\t\t  * Allocates instance props.\n\t\t  * @arg {HTMLAudioElement|AudioBufferRecord} _audio - The object being wrapped.\n\t\t  * @arg {string} _type - The collection type.\n\t\t  */\n\t\t\tfunction alloc(_audio, _type) {\n\t\t\t\tvar $audio, config, ctx, readyEvent, id;\n\t\t\n\t\t\t\t$audio = $$(_audio.node || _audio);\n\t\t\t\tconfig = $audio.pl();\n\t\t\t\tctx = pl.game.getAudioContext();\n\t\t\t\treadyEvent = $$.Event('ready', { targetScope: this });\n\t\t\n\t\t\t\tif (!(id = $audio.id())) $audio.id(id = _util2['default'].createId());\n\t\t\n\t\t\t\tthis.type = _type || null;\n\t\t\t\tthis.fileName = _util2['default'].resolveFileName($audio.attr('src'));\n\t\t\t\tthis.media = $audio[0];\n\t\t\t\tthis.gain = ctx.createGain();\n\t\t\n\t\t\t\tthis.gain.connect(ctx.destination);\n\t\t\n\t\t\t\t$audio.data('context', this);\n\t\t\n\t\t\t\tif (_audio.buffer) this.buffer = _audio.buffer;\n\t\t\n\t\t\t\tObject.defineProperty(this, 'config', {\n\t\t\t\t\tvalue: accessConfig.bind(config),\n\t\t\t\t\twriteable: false\n\t\t\t\t});\n\t\t\n\t\t\t\tthis.initialize(id, 'audio ' + this.type);\n\t\t\n\t\t\t\t$$(this.media).trigger(readyEvent);\n\t\t\t},\n\t\t\t/**\n\t\t  * Provides an `AudioNode` for a particular audio source.\n\t\t  * @returns\n\t\t  *  - `MediaElementSouceNode` for audio elements.\n\t\t  *  - `AudioBufferSourceNode` for an ArrayBuffer.\n\t\t  */\n\t\t\tfunction getSource() {\n\t\t\t\tvar ctx, src;\n\t\t\n\t\t\t\tctx = pl.game.getAudioContext();\n\t\t\n\t\t\t\tif (ctx) {\n\t\t\t\t\tif (this.buffer) {\n\t\t\t\t\t\tsrc = ctx.createBufferSource();\n\t\t\t\t\t\tsrc.buffer = this.buffer;\n\t\t\t\t\t\tsrc.loop = this.media.loop;\n\t\t\n\t\t\t\t\t\treturn src;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn this.activeSource || ctx.createMediaElementSource(this.media);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.warn(e.message, this);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t/**\n\t\t  * Get the owning collection interface for an Audio object.\n\t\t  * @returns {AudioCollection}\n\t\t  */\n\t\t\tfunction collection() {\n\t\t\t\treturn this.$el.closest('.collection').data('context');\n\t\t\t},\n\t\t\t/**\n\t\t  * Get the owning manager interface for an Audio object.\n\t\t  * @returns {AudioManager}\n\t\t  */\n\t\t\tfunction manager() {\n\t\t\t\treturn this.$el.closest('#man').data('context');\n\t\t\t},\n\t\t\t/**\n\t\t  * Proveds a string representation of the object type.\n\t\t  */\n\t\t\tfunction toString() {\n\t\t\t\treturn '[audio#' + this.id() + ' ' + this.fileName + ']';\n\t\t\t});\n\t\t}\n\t\t\n\t\t/**\n\t\t * A virtual DOM to handle navigation and propagation of events through the API interfaces.\n\t\t * For example an Audio object that triggers an event it should bubble up to its collection and on through to the manager.\n\t\t * That way you can listen for an event at any level of the interface.\n\t\t */\n\t\tEventTargetInterface = {\n\t\t\t/**\n\t\t  * The shadow node.\n\t\t  */\n\t\t\t$el: null,\n\t\t\t/**\n\t\t  * Define a node for the shadow DOM.\n\t\t  * @arg {string} _id - Idendifier for the node.\n\t\t  * @arg {string} _class - Classification of the node.\n\t\t  */\n\t\t\tinitialize: function initialize(_id, _class) {\n\t\t\t\tObject.defineProperty(this, '$el', {\n\t\t\t\t\tvalue: $$('<div ' + (_id ? 'id=\"' + _id + '\"' : '') + ' ' + (_class ? 'class=\"' + _class + '\"' : '') + '>'),\n\t\t\t\t\twriteable: false,\n\t\t\t\t\tconfigureable: false,\n\t\t\t\t\tenumerable: false\n\t\t\t\t});\n\t\t\n\t\t\t\tthis.$el.data('context', this);\n\t\t\t},\n\t\t\t/**\n\t\t  * Get/set the id of the interface.\n\t\t  * @arg {string} _id - A valid CSS ID.\n\t\t  */\n\t\t\tid: function id(_id) {\n\t\t\t\treturn this.$el.id(_id);\n\t\t\t},\n\t\t\t/**\n\t\t  * Add an interface to the shadow DOM.\n\t\t  * @arg {Audio|AudioCollection} _obj - The object to add.\n\t\t  * @returns this\n\t\t  */\n\t\t\taddShadow: function addShadow(_obj) {\n\t\t\t\tthis.$el.append(_obj.$el);\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * Provides the parent level interface.\n\t\t  * @returns {AudioManager|AudioCollection}\n\t\t  */\n\t\t\tparent: function parent() {\n\t\t\t\treturn this.$el.parent().data('context');\n\t\t\t},\n\t\t\t/**\n\t\t  * Find an interface in the API tree.\n\t\t  * @arg {string} _selector - A CSS selector to match a node in the shadow DOM API tree.\n\t\t  */\n\t\t\tfind: function find(_selector) {\n\t\t\t\tvar collection = MediaCollection.create();\n\t\t\n\t\t\t\tthis.$el.find(_selector).each(function () {\n\t\t\t\t\tcollection.add($$(this).data('context'));\n\t\t\t\t});\n\t\t\n\t\t\t\treturn collection;\n\t\t\t},\n\t\t\t/**\n\t\t  * \n\t\t  */\n\t\t\tfilter: function filter(_selector) {\n\t\t\t\tvar collection;\n\t\t\n\t\t\t\tif (!_selector) return this;\n\t\t\n\t\t\t\tcollection = MediaCollection.create();\n\t\t\n\t\t\t\tthis.$el.children().each(function () {\n\t\t\t\t\tvar $node = $$(this);\n\t\t\t\t\tif ($node.is(_selector)) collection.add($node.data('context'));\n\t\t\t\t});\n\t\t\n\t\t\t\treturn collection;\n\t\t\t},\n\t\t\t/**\n\t\t  * Attach events to a shadow node.\n\t\t  */\n\t\t\ton: function on() {\n\t\t\t\tthis.$el.on.apply(this.$el, arguments);\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * Remove events from a shadow node.\n\t\t  */\n\t\t\toff: function off() {\n\t\t\t\tthis.$el.off.apply(this.$el, arguments);\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * Dispatch a event from a shadow node.\n\t\t  */\n\t\t\ttrigger: function trigger() {\n\t\t\t\tthis.$el.trigger.apply(this.$el, arguments);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t};\n\t\t/**\n\t\t * Interface for inspecting an API level (i.e. manager or collection).\n\t\t */\n\t\tInspectorInterface = {\n\t\t\tplaying: function playing(_filterSelector) {\n\t\t\t\tvar playing = this.find('.PLAYING').filter(_filterSelector);\n\t\t\t\treturn !!playing.length && playing;\n\t\t\t},\n\t\t\t/**\n\t\t  * Query a collection for ownership of an audio object.\n\t\t  * @arg {string|Audio|HTMLAudioElement} The validating reference.\n\t\t  * @returns {boolean}\n\t\t  */\n\t\t\thas: function has(_query) {\n\t\t\t\tif (this.background) {\n\t\t\t\t\treturn ['background', 'voiceOver', 'sfx'].some((function (_name) {\n\t\t\t\t\t\treturn this[_name].has(_query);\n\t\t\t\t\t}).bind(this));\n\t\t\t\t}\n\t\t\n\t\t\t\tif (this[_query]) return true;\n\t\t\n\t\t\t\treturn this.some(function (_audio) {\n\t\t\t\t\treturn _audio === _query || _audio.media === _query || _audio.fileName === _query || _audio.id() === _query;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\t\n\t\tLegislatorInterface = {\n\t\t\trule: function rule(_selector, _event, _handler) {\n\t\t\t\tvar handler, args;\n\t\t\n\t\t\t\thandler = [typeof _event, typeof _handler].indexOf('function');\n\t\t\t\targs = _util2['default'].toArray(arguments).slice(1);\n\t\t\n\t\t\t\tif (typeof _event === 'function') _event = 'play pause stopped ended';\n\t\t\n\t\t\t\tthis.on(_event, (function (_e) {\n\t\t\t\t\tif (_e.target.$el.is(_selector)) args[handler].apply(this, arguments);\n\t\t\t\t}).bind(this));\n\t\t\t}\n\t\t};\n\t\t\n\t\tStateInterface = {\n\t\t\tstate: function state() {\n\t\t\t\treturn this.$el.state.apply(this.$el, arguments);\n\t\t\t},\n\t\t\n\t\t\taddState: function addState(_state) {\n\t\t\t\treturn this.$el.addClass(_state.toUpperCase());\n\t\t\t},\n\t\t\n\t\t\tremoveState: function removeState(_state) {\n\t\t\t\treturn this.$el.removeClass(_state.toUpperCase());\n\t\t\t}\n\t\t};\n\t\t\n\t\t/**\n\t\t * Interface for methods involving audio control for any API level.\n\t\t */\n\t\tPlayableInterface = {\n\t\t\t/**\n\t\t  * Play an audio object.\n\t\t  */\n\t\t\tplay: function play(_selector) {\n\t\t\t\tvar ctx, src, proxyEvent, dest, delay, shouldPlay;\n\t\t\n\t\t\t\tfunction handler(_event) {\n\t\t\t\t\tif (_event.type === 'ended' && _event.activeSource) {\n\t\t\t\t\t\t_event.activeSource.disconnect();\n\t\t\t\t\t}\n\t\t\t\t\tproxyEvent(_event);\n\t\t\t\t}\n\t\t\n\t\t\t\tfunction playSource() {\n\t\t\t\t\tvar time;\n\t\t\t\t\tif (this.buffer) {\n\t\t\t\t\t\tthis.activeSource.start(0);\n\t\t\n\t\t\t\t\t\tif (!this.activeSource.loop) {\n\t\t\t\t\t\t\ttime = Math.ceil(this.buffer.duration * 1000) + 500;\n\t\t\t\t\t\t\tsetTimeout((function () {\n\t\t\t\t\t\t\t\tif (this.activeSource) {\n\t\t\t\t\t\t\t\t\tconsole.warn('Native `ended` failed to fire, simulating...');\n\t\t\t\t\t\t\t\t\thandler({ target: this.activeSource, type: 'ended' });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).bind(this), time);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.media.play();\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tthis.delayID = null;\n\t\t\t\t}\n\t\t\n\t\t\t\tfunction response(_val) {\n\t\t\t\t\tshouldPlay = _val;\n\t\t\t\t}\n\t\t\n\t\t\t\tctx = pl.game.getAudioContext();\n\t\t\t\tshouldPlay = true;\n\t\t\n\t\t\t\t// if (ctx.state === 'suspended') return false;\n\t\t\n\t\t\t\tif (this.background) return this.background.play();\n\t\t\t\tif (this.length != null) {\n\t\t\t\t\tif (_selector) {\n\t\t\t\t\t\tif (this[_selector]) return this[_selector].play();\n\t\t\n\t\t\t\t\t\treturn this.find(_selector).play();\n\t\t\t\t\t}\n\t\t\t\t\treturn this[0] && this[0].play();\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!(src = this.getSource())) return false;\n\t\t\t\tproxyEvent = (function (_event) {\n\t\t\t\t\tvar theEvent = $$.Event(_event.type, { target: this, targetSource: _event.target, targetNode: this.media });\n\t\t\n\t\t\t\t\t// proxy event to shadow DOM only when it has an active source.\n\t\t\t\t\tif (this.activeSource) {\n\t\t\t\t\t\tif (_event.type === 'ended') {\n\t\t\t\t\t\t\tthis.removeState('PLAYING');\n\t\t\t\t\t\t\tthis.activeSource = null;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tthis.trigger(theEvent);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t_event.target.removeEventListener(_event.type, handler, false);\n\t\t\t\t}).bind(this);\n\t\t\n\t\t\t\tsrc.connect(this.gain);\n\t\t\t\tsrc.addEventListener('ended', handler, false);\n\t\t\n\t\t\t\tthis.trigger($$.Event('shouldPlay', { target: this, targetSource: src, targetNode: this.media, response: response }));\n\t\t\n\t\t\t\tif (shouldPlay) {\n\t\t\t\t\tthis.addState('PLAYING');\n\t\t\t\t\tthis.activeSource = src;\n\t\t\n\t\t\t\t\tif (delay = this.config('delay')) {\n\t\t\t\t\t\tthis.delayID = setTimeout(playSource.bind(this), _util2['default'].toMillisec(delay));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tplaySource.call(this);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\thandler({ target: src, type: 'play' });\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * Pause an audio object.\n\t\t  */\n\t\t\tpause: function pause() {\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * Stop an audio object.\n\t\t  */\n\t\t\tstop: function stop(_filterSelector) {\n\t\t\t\tvar stopEvent = $$.Event('stopped', { target: this, targetSource: this.activeSource, targetNode: this.media });\n\t\t\n\t\t\t\tif (this.background) return this.background.stop(_filterSelector);\n\t\t\t\tif (this.length != null) {\n\t\t\t\t\tif (_filterSelector === '@ALL') {\n\t\t\t\t\t\tthis.forEach(function (_audio) {\n\t\t\t\t\t\t\t_audio.stop();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn this[0] && this[0].stop();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!this.activeSource) return false;\n\t\t\n\t\t\t\tif (this.buffer) {\n\t\t\t\t\tif (!this.delayID) this.activeSource.stop();\n\t\t\t\t} else {\n\t\t\t\t\tthis.media.pause();\n\t\t\t\t\tthis.media.currentTime = 0;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (this.delayID) {\n\t\t\t\t\tclearTimeout(this.delayID);\n\t\t\t\t\tthis.delayID = null;\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.activeSource = null;\n\t\t\n\t\t\t\tthis.removeState('PLAYING');\n\t\t\t\tthis.trigger(stopEvent);\n\t\t\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/**\n\t\t  * @todo MGR, 2/9/2016: Pipe audio sources into gain nodes for each level of the API.\n\t\t  */\n\t\t\tvolume: function volume(_level, _filterSelector) {\n\t\t\t\tif (this.background) return this.background.volume(_level);\n\t\t\t\tif (this.length != null) {\n\t\t\t\t\tif (_filterSelector === '@ALL') {\n\t\t\t\t\t\tthis.forEach(function (_audio) {\n\t\t\t\t\t\t\t_audio.volume(_level);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn this[0] && this[0].volume(_level);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.gain.gain.value = _level;\n\t\t\t}\n\t\t};\n\t\t\n\t\texports['default'] = _typesType2['default'](MediaManager, AudioManager, AudioCollection, Audio);\n\t\t\n\t\tAudioCollection.extend(MediaCollection);\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 43 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = { \"default\": __webpack_require__(44), __esModule: true };\n\t\n\t/***/ },\n\t/* 44 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t__webpack_require__(45);\n\t\t__webpack_require__(46);\n\t\t__webpack_require__(62);\n\t\t__webpack_require__(69);\n\t\tmodule.exports = __webpack_require__(11).Promise;\n\t\n\t/***/ },\n\t/* 45 */\n\t/***/ function(module, exports) {\n\t\n\t\n\t\n\t/***/ },\n\t/* 46 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\tvar $at  = __webpack_require__(47)(true);\n\t\t\n\t\t// 21.1.3.27 String.prototype[@@iterator]()\n\t\t__webpack_require__(49)(String, 'String', function(iterated){\n\t\t  this._t = String(iterated); // target\n\t\t  this._i = 0;                // next index\n\t\t// 21.1.5.2.1 %StringIteratorPrototype%.next()\n\t\t}, function(){\n\t\t  var O     = this._t\n\t\t    , index = this._i\n\t\t    , point;\n\t\t  if(index >= O.length)return {value: undefined, done: true};\n\t\t  point = $at(O, index);\n\t\t  this._i += point.length;\n\t\t  return {value: point, done: false};\n\t\t});\n\t\n\t/***/ },\n\t/* 47 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar toInteger = __webpack_require__(48)\n\t\t  , defined   = __webpack_require__(37);\n\t\t// true  -> String#at\n\t\t// false -> String#codePointAt\n\t\tmodule.exports = function(TO_STRING){\n\t\t  return function(that, pos){\n\t\t    var s = String(defined(that))\n\t\t      , i = toInteger(pos)\n\t\t      , l = s.length\n\t\t      , a, b;\n\t\t    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n\t\t    a = s.charCodeAt(i);\n\t\t    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n\t\t      ? TO_STRING ? s.charAt(i) : a\n\t\t      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n\t\t  };\n\t\t};\n\t\n\t/***/ },\n\t/* 48 */\n\t/***/ function(module, exports) {\n\t\n\t\t// 7.1.4 ToInteger\n\t\tvar ceil  = Math.ceil\n\t\t  , floor = Math.floor;\n\t\tmodule.exports = function(it){\n\t\t  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n\t\t};\n\t\n\t/***/ },\n\t/* 49 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\tvar LIBRARY        = __webpack_require__(50)\n\t\t  , $export        = __webpack_require__(9)\n\t\t  , redefine       = __webpack_require__(51)\n\t\t  , hide           = __webpack_require__(52)\n\t\t  , has            = __webpack_require__(55)\n\t\t  , Iterators      = __webpack_require__(56)\n\t\t  , $iterCreate    = __webpack_require__(57)\n\t\t  , setToStringTag = __webpack_require__(58)\n\t\t  , getProto       = __webpack_require__(8).getProto\n\t\t  , ITERATOR       = __webpack_require__(59)('iterator')\n\t\t  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n\t\t  , FF_ITERATOR    = '@@iterator'\n\t\t  , KEYS           = 'keys'\n\t\t  , VALUES         = 'values';\n\t\t\n\t\tvar returnThis = function(){ return this; };\n\t\t\n\t\tmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n\t\t  $iterCreate(Constructor, NAME, next);\n\t\t  var getMethod = function(kind){\n\t\t    if(!BUGGY && kind in proto)return proto[kind];\n\t\t    switch(kind){\n\t\t      case KEYS: return function keys(){ return new Constructor(this, kind); };\n\t\t      case VALUES: return function values(){ return new Constructor(this, kind); };\n\t\t    } return function entries(){ return new Constructor(this, kind); };\n\t\t  };\n\t\t  var TAG        = NAME + ' Iterator'\n\t\t    , DEF_VALUES = DEFAULT == VALUES\n\t\t    , VALUES_BUG = false\n\t\t    , proto      = Base.prototype\n\t\t    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n\t\t    , $default   = $native || getMethod(DEFAULT)\n\t\t    , methods, key;\n\t\t  // Fix native\n\t\t  if($native){\n\t\t    var IteratorPrototype = getProto($default.call(new Base));\n\t\t    // Set @@toStringTag to native iterators\n\t\t    setToStringTag(IteratorPrototype, TAG, true);\n\t\t    // FF fix\n\t\t    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n\t\t    // fix Array#{values, @@iterator}.name in V8 / FF\n\t\t    if(DEF_VALUES && $native.name !== VALUES){\n\t\t      VALUES_BUG = true;\n\t\t      $default = function values(){ return $native.call(this); };\n\t\t    }\n\t\t  }\n\t\t  // Define iterator\n\t\t  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n\t\t    hide(proto, ITERATOR, $default);\n\t\t  }\n\t\t  // Plug for library\n\t\t  Iterators[NAME] = $default;\n\t\t  Iterators[TAG]  = returnThis;\n\t\t  if(DEFAULT){\n\t\t    methods = {\n\t\t      values:  DEF_VALUES  ? $default : getMethod(VALUES),\n\t\t      keys:    IS_SET      ? $default : getMethod(KEYS),\n\t\t      entries: !DEF_VALUES ? $default : getMethod('entries')\n\t\t    };\n\t\t    if(FORCED)for(key in methods){\n\t\t      if(!(key in proto))redefine(proto, key, methods[key]);\n\t\t    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n\t\t  }\n\t\t  return methods;\n\t\t};\n\t\n\t/***/ },\n\t/* 50 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = true;\n\t\n\t/***/ },\n\t/* 51 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(52);\n\t\n\t/***/ },\n\t/* 52 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar $          = __webpack_require__(8)\n\t\t  , createDesc = __webpack_require__(53);\n\t\tmodule.exports = __webpack_require__(54) ? function(object, key, value){\n\t\t  return $.setDesc(object, key, createDesc(1, value));\n\t\t} : function(object, key, value){\n\t\t  object[key] = value;\n\t\t  return object;\n\t\t};\n\t\n\t/***/ },\n\t/* 53 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(bitmap, value){\n\t\t  return {\n\t\t    enumerable  : !(bitmap & 1),\n\t\t    configurable: !(bitmap & 2),\n\t\t    writable    : !(bitmap & 4),\n\t\t    value       : value\n\t\t  };\n\t\t};\n\t\n\t/***/ },\n\t/* 54 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// Thank's IE8 for his funny defineProperty\n\t\tmodule.exports = !__webpack_require__(39)(function(){\n\t\t  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n\t\t});\n\t\n\t/***/ },\n\t/* 55 */\n\t/***/ function(module, exports) {\n\t\n\t\tvar hasOwnProperty = {}.hasOwnProperty;\n\t\tmodule.exports = function(it, key){\n\t\t  return hasOwnProperty.call(it, key);\n\t\t};\n\t\n\t/***/ },\n\t/* 56 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = {};\n\t\n\t/***/ },\n\t/* 57 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\tvar $              = __webpack_require__(8)\n\t\t  , descriptor     = __webpack_require__(53)\n\t\t  , setToStringTag = __webpack_require__(58)\n\t\t  , IteratorPrototype = {};\n\t\t\n\t\t// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n\t\t__webpack_require__(52)(IteratorPrototype, __webpack_require__(59)('iterator'), function(){ return this; });\n\t\t\n\t\tmodule.exports = function(Constructor, NAME, next){\n\t\t  Constructor.prototype = $.create(IteratorPrototype, {next: descriptor(1, next)});\n\t\t  setToStringTag(Constructor, NAME + ' Iterator');\n\t\t};\n\t\n\t/***/ },\n\t/* 58 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar def = __webpack_require__(8).setDesc\n\t\t  , has = __webpack_require__(55)\n\t\t  , TAG = __webpack_require__(59)('toStringTag');\n\t\t\n\t\tmodule.exports = function(it, tag, stat){\n\t\t  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n\t\t};\n\t\n\t/***/ },\n\t/* 59 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar store  = __webpack_require__(60)('wks')\n\t\t  , uid    = __webpack_require__(61)\n\t\t  , Symbol = __webpack_require__(10).Symbol;\n\t\tmodule.exports = function(name){\n\t\t  return store[name] || (store[name] =\n\t\t    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n\t\t};\n\t\n\t/***/ },\n\t/* 60 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar global = __webpack_require__(10)\n\t\t  , SHARED = '__core-js_shared__'\n\t\t  , store  = global[SHARED] || (global[SHARED] = {});\n\t\tmodule.exports = function(key){\n\t\t  return store[key] || (store[key] = {});\n\t\t};\n\t\n\t/***/ },\n\t/* 61 */\n\t/***/ function(module, exports) {\n\t\n\t\tvar id = 0\n\t\t  , px = Math.random();\n\t\tmodule.exports = function(key){\n\t\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t\t};\n\t\n\t/***/ },\n\t/* 62 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t__webpack_require__(63);\n\t\tvar Iterators = __webpack_require__(56);\n\t\tIterators.NodeList = Iterators.HTMLCollection = Iterators.Array;\n\t\n\t/***/ },\n\t/* 63 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\tvar addToUnscopables = __webpack_require__(64)\n\t\t  , step             = __webpack_require__(65)\n\t\t  , Iterators        = __webpack_require__(56)\n\t\t  , toIObject        = __webpack_require__(66);\n\t\t\n\t\t// 22.1.3.4 Array.prototype.entries()\n\t\t// 22.1.3.13 Array.prototype.keys()\n\t\t// 22.1.3.29 Array.prototype.values()\n\t\t// 22.1.3.30 Array.prototype[@@iterator]()\n\t\tmodule.exports = __webpack_require__(49)(Array, 'Array', function(iterated, kind){\n\t\t  this._t = toIObject(iterated); // target\n\t\t  this._i = 0;                   // next index\n\t\t  this._k = kind;                // kind\n\t\t// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n\t\t}, function(){\n\t\t  var O     = this._t\n\t\t    , kind  = this._k\n\t\t    , index = this._i++;\n\t\t  if(!O || index >= O.length){\n\t\t    this._t = undefined;\n\t\t    return step(1);\n\t\t  }\n\t\t  if(kind == 'keys'  )return step(0, index);\n\t\t  if(kind == 'values')return step(0, O[index]);\n\t\t  return step(0, [index, O[index]]);\n\t\t}, 'values');\n\t\t\n\t\t// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n\t\tIterators.Arguments = Iterators.Array;\n\t\t\n\t\taddToUnscopables('keys');\n\t\taddToUnscopables('values');\n\t\taddToUnscopables('entries');\n\t\n\t/***/ },\n\t/* 64 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(){ /* empty */ };\n\t\n\t/***/ },\n\t/* 65 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(done, value){\n\t\t  return {value: value, done: !!done};\n\t\t};\n\t\n\t/***/ },\n\t/* 66 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// to indexed object, toObject with fallback for non-array-like ES3 strings\n\t\tvar IObject = __webpack_require__(67)\n\t\t  , defined = __webpack_require__(37);\n\t\tmodule.exports = function(it){\n\t\t  return IObject(defined(it));\n\t\t};\n\t\n\t/***/ },\n\t/* 67 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// fallback for non-array-like ES3 and non-enumerable old V8 strings\n\t\tvar cof = __webpack_require__(68);\n\t\tmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n\t\t  return cof(it) == 'String' ? it.split('') : Object(it);\n\t\t};\n\t\n\t/***/ },\n\t/* 68 */\n\t/***/ function(module, exports) {\n\t\n\t\tvar toString = {}.toString;\n\t\t\n\t\tmodule.exports = function(it){\n\t\t  return toString.call(it).slice(8, -1);\n\t\t};\n\t\n\t/***/ },\n\t/* 69 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\tvar $          = __webpack_require__(8)\n\t\t  , LIBRARY    = __webpack_require__(50)\n\t\t  , global     = __webpack_require__(10)\n\t\t  , ctx        = __webpack_require__(12)\n\t\t  , classof    = __webpack_require__(70)\n\t\t  , $export    = __webpack_require__(9)\n\t\t  , isObject   = __webpack_require__(71)\n\t\t  , anObject   = __webpack_require__(72)\n\t\t  , aFunction  = __webpack_require__(13)\n\t\t  , strictNew  = __webpack_require__(73)\n\t\t  , forOf      = __webpack_require__(74)\n\t\t  , setProto   = __webpack_require__(79).set\n\t\t  , same       = __webpack_require__(80)\n\t\t  , SPECIES    = __webpack_require__(59)('species')\n\t\t  , speciesConstructor = __webpack_require__(81)\n\t\t  , asap       = __webpack_require__(82)\n\t\t  , PROMISE    = 'Promise'\n\t\t  , process    = global.process\n\t\t  , isNode     = classof(process) == 'process'\n\t\t  , P          = global[PROMISE]\n\t\t  , Wrapper;\n\t\t\n\t\tvar testResolve = function(sub){\n\t\t  var test = new P(function(){});\n\t\t  if(sub)test.constructor = Object;\n\t\t  return P.resolve(test) === test;\n\t\t};\n\t\t\n\t\tvar USE_NATIVE = function(){\n\t\t  var works = false;\n\t\t  function P2(x){\n\t\t    var self = new P(x);\n\t\t    setProto(self, P2.prototype);\n\t\t    return self;\n\t\t  }\n\t\t  try {\n\t\t    works = P && P.resolve && testResolve();\n\t\t    setProto(P2, P);\n\t\t    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});\n\t\t    // actual Firefox has broken subclass support, test that\n\t\t    if(!(P2.resolve(5).then(function(){}) instanceof P2)){\n\t\t      works = false;\n\t\t    }\n\t\t    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162\n\t\t    if(works && __webpack_require__(54)){\n\t\t      var thenableThenGotten = false;\n\t\t      P.resolve($.setDesc({}, 'then', {\n\t\t        get: function(){ thenableThenGotten = true; }\n\t\t      }));\n\t\t      works = thenableThenGotten;\n\t\t    }\n\t\t  } catch(e){ works = false; }\n\t\t  return works;\n\t\t}();\n\t\t\n\t\t// helpers\n\t\tvar sameConstructor = function(a, b){\n\t\t  // library wrapper special case\n\t\t  if(LIBRARY && a === P && b === Wrapper)return true;\n\t\t  return same(a, b);\n\t\t};\n\t\tvar getConstructor = function(C){\n\t\t  var S = anObject(C)[SPECIES];\n\t\t  return S != undefined ? S : C;\n\t\t};\n\t\tvar isThenable = function(it){\n\t\t  var then;\n\t\t  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n\t\t};\n\t\tvar PromiseCapability = function(C){\n\t\t  var resolve, reject;\n\t\t  this.promise = new C(function($$resolve, $$reject){\n\t\t    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n\t\t    resolve = $$resolve;\n\t\t    reject  = $$reject;\n\t\t  });\n\t\t  this.resolve = aFunction(resolve),\n\t\t  this.reject  = aFunction(reject)\n\t\t};\n\t\tvar perform = function(exec){\n\t\t  try {\n\t\t    exec();\n\t\t  } catch(e){\n\t\t    return {error: e};\n\t\t  }\n\t\t};\n\t\tvar notify = function(record, isReject){\n\t\t  if(record.n)return;\n\t\t  record.n = true;\n\t\t  var chain = record.c;\n\t\t  asap(function(){\n\t\t    var value = record.v\n\t\t      , ok    = record.s == 1\n\t\t      , i     = 0;\n\t\t    var run = function(reaction){\n\t\t      var handler = ok ? reaction.ok : reaction.fail\n\t\t        , resolve = reaction.resolve\n\t\t        , reject  = reaction.reject\n\t\t        , result, then;\n\t\t      try {\n\t\t        if(handler){\n\t\t          if(!ok)record.h = true;\n\t\t          result = handler === true ? value : handler(value);\n\t\t          if(result === reaction.promise){\n\t\t            reject(TypeError('Promise-chain cycle'));\n\t\t          } else if(then = isThenable(result)){\n\t\t            then.call(result, resolve, reject);\n\t\t          } else resolve(result);\n\t\t        } else reject(value);\n\t\t      } catch(e){\n\t\t        reject(e);\n\t\t      }\n\t\t    };\n\t\t    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n\t\t    chain.length = 0;\n\t\t    record.n = false;\n\t\t    if(isReject)setTimeout(function(){\n\t\t      var promise = record.p\n\t\t        , handler, console;\n\t\t      if(isUnhandled(promise)){\n\t\t        if(isNode){\n\t\t          process.emit('unhandledRejection', value, promise);\n\t\t        } else if(handler = global.onunhandledrejection){\n\t\t          handler({promise: promise, reason: value});\n\t\t        } else if((console = global.console) && console.error){\n\t\t          console.error('Unhandled promise rejection', value);\n\t\t        }\n\t\t      } record.a = undefined;\n\t\t    }, 1);\n\t\t  });\n\t\t};\n\t\tvar isUnhandled = function(promise){\n\t\t  var record = promise._d\n\t\t    , chain  = record.a || record.c\n\t\t    , i      = 0\n\t\t    , reaction;\n\t\t  if(record.h)return false;\n\t\t  while(chain.length > i){\n\t\t    reaction = chain[i++];\n\t\t    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n\t\t  } return true;\n\t\t};\n\t\tvar $reject = function(value){\n\t\t  var record = this;\n\t\t  if(record.d)return;\n\t\t  record.d = true;\n\t\t  record = record.r || record; // unwrap\n\t\t  record.v = value;\n\t\t  record.s = 2;\n\t\t  record.a = record.c.slice();\n\t\t  notify(record, true);\n\t\t};\n\t\tvar $resolve = function(value){\n\t\t  var record = this\n\t\t    , then;\n\t\t  if(record.d)return;\n\t\t  record.d = true;\n\t\t  record = record.r || record; // unwrap\n\t\t  try {\n\t\t    if(record.p === value)throw TypeError(\"Promise can't be resolved itself\");\n\t\t    if(then = isThenable(value)){\n\t\t      asap(function(){\n\t\t        var wrapper = {r: record, d: false}; // wrap\n\t\t        try {\n\t\t          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n\t\t        } catch(e){\n\t\t          $reject.call(wrapper, e);\n\t\t        }\n\t\t      });\n\t\t    } else {\n\t\t      record.v = value;\n\t\t      record.s = 1;\n\t\t      notify(record, false);\n\t\t    }\n\t\t  } catch(e){\n\t\t    $reject.call({r: record, d: false}, e); // wrap\n\t\t  }\n\t\t};\n\t\t\n\t\t// constructor polyfill\n\t\tif(!USE_NATIVE){\n\t\t  // 25.4.3.1 Promise(executor)\n\t\t  P = function Promise(executor){\n\t\t    aFunction(executor);\n\t\t    var record = this._d = {\n\t\t      p: strictNew(this, P, PROMISE),         // <- promise\n\t\t      c: [],                                  // <- awaiting reactions\n\t\t      a: undefined,                           // <- checked in isUnhandled reactions\n\t\t      s: 0,                                   // <- state\n\t\t      d: false,                               // <- done\n\t\t      v: undefined,                           // <- value\n\t\t      h: false,                               // <- handled rejection\n\t\t      n: false                                // <- notify\n\t\t    };\n\t\t    try {\n\t\t      executor(ctx($resolve, record, 1), ctx($reject, record, 1));\n\t\t    } catch(err){\n\t\t      $reject.call(record, err);\n\t\t    }\n\t\t  };\n\t\t  __webpack_require__(87)(P.prototype, {\n\t\t    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n\t\t    then: function then(onFulfilled, onRejected){\n\t\t      var reaction = new PromiseCapability(speciesConstructor(this, P))\n\t\t        , promise  = reaction.promise\n\t\t        , record   = this._d;\n\t\t      reaction.ok   = typeof onFulfilled == 'function' ? onFulfilled : true;\n\t\t      reaction.fail = typeof onRejected == 'function' && onRejected;\n\t\t      record.c.push(reaction);\n\t\t      if(record.a)record.a.push(reaction);\n\t\t      if(record.s)notify(record, false);\n\t\t      return promise;\n\t\t    },\n\t\t    // 25.4.5.1 Promise.prototype.catch(onRejected)\n\t\t    'catch': function(onRejected){\n\t\t      return this.then(undefined, onRejected);\n\t\t    }\n\t\t  });\n\t\t}\n\t\t\n\t\t$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: P});\n\t\t__webpack_require__(58)(P, PROMISE);\n\t\t__webpack_require__(88)(PROMISE);\n\t\tWrapper = __webpack_require__(11)[PROMISE];\n\t\t\n\t\t// statics\n\t\t$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n\t\t  // 25.4.4.5 Promise.reject(r)\n\t\t  reject: function reject(r){\n\t\t    var capability = new PromiseCapability(this)\n\t\t      , $$reject   = capability.reject;\n\t\t    $$reject(r);\n\t\t    return capability.promise;\n\t\t  }\n\t\t});\n\t\t$export($export.S + $export.F * (!USE_NATIVE || testResolve(true)), PROMISE, {\n\t\t  // 25.4.4.6 Promise.resolve(x)\n\t\t  resolve: function resolve(x){\n\t\t    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n\t\t    if(x instanceof P && sameConstructor(x.constructor, this))return x;\n\t\t    var capability = new PromiseCapability(this)\n\t\t      , $$resolve  = capability.resolve;\n\t\t    $$resolve(x);\n\t\t    return capability.promise;\n\t\t  }\n\t\t});\n\t\t$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(89)(function(iter){\n\t\t  P.all(iter)['catch'](function(){});\n\t\t})), PROMISE, {\n\t\t  // 25.4.4.1 Promise.all(iterable)\n\t\t  all: function all(iterable){\n\t\t    var C          = getConstructor(this)\n\t\t      , capability = new PromiseCapability(C)\n\t\t      , resolve    = capability.resolve\n\t\t      , reject     = capability.reject\n\t\t      , values     = [];\n\t\t    var abrupt = perform(function(){\n\t\t      forOf(iterable, false, values.push, values);\n\t\t      var remaining = values.length\n\t\t        , results   = Array(remaining);\n\t\t      if(remaining)$.each.call(values, function(promise, index){\n\t\t        var alreadyCalled = false;\n\t\t        C.resolve(promise).then(function(value){\n\t\t          if(alreadyCalled)return;\n\t\t          alreadyCalled = true;\n\t\t          results[index] = value;\n\t\t          --remaining || resolve(results);\n\t\t        }, reject);\n\t\t      });\n\t\t      else resolve(results);\n\t\t    });\n\t\t    if(abrupt)reject(abrupt.error);\n\t\t    return capability.promise;\n\t\t  },\n\t\t  // 25.4.4.4 Promise.race(iterable)\n\t\t  race: function race(iterable){\n\t\t    var C          = getConstructor(this)\n\t\t      , capability = new PromiseCapability(C)\n\t\t      , reject     = capability.reject;\n\t\t    var abrupt = perform(function(){\n\t\t      forOf(iterable, false, function(promise){\n\t\t        C.resolve(promise).then(capability.resolve, reject);\n\t\t      });\n\t\t    });\n\t\t    if(abrupt)reject(abrupt.error);\n\t\t    return capability.promise;\n\t\t  }\n\t\t});\n\t\n\t/***/ },\n\t/* 70 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// getting tag from 19.1.3.6 Object.prototype.toString()\n\t\tvar cof = __webpack_require__(68)\n\t\t  , TAG = __webpack_require__(59)('toStringTag')\n\t\t  // ES3 wrong here\n\t\t  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\t\t\n\t\tmodule.exports = function(it){\n\t\t  var O, T, B;\n\t\t  return it === undefined ? 'Undefined' : it === null ? 'Null'\n\t\t    // @@toStringTag case\n\t\t    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n\t\t    // builtinTag case\n\t\t    : ARG ? cof(O)\n\t\t    // ES3 arguments fallback\n\t\t    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n\t\t};\n\t\n\t/***/ },\n\t/* 71 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(it){\n\t\t  return typeof it === 'object' ? it !== null : typeof it === 'function';\n\t\t};\n\t\n\t/***/ },\n\t/* 72 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar isObject = __webpack_require__(71);\n\t\tmodule.exports = function(it){\n\t\t  if(!isObject(it))throw TypeError(it + ' is not an object!');\n\t\t  return it;\n\t\t};\n\t\n\t/***/ },\n\t/* 73 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(it, Constructor, name){\n\t\t  if(!(it instanceof Constructor))throw TypeError(name + \": use the 'new' operator!\");\n\t\t  return it;\n\t\t};\n\t\n\t/***/ },\n\t/* 74 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar ctx         = __webpack_require__(12)\n\t\t  , call        = __webpack_require__(75)\n\t\t  , isArrayIter = __webpack_require__(76)\n\t\t  , anObject    = __webpack_require__(72)\n\t\t  , toLength    = __webpack_require__(77)\n\t\t  , getIterFn   = __webpack_require__(78);\n\t\tmodule.exports = function(iterable, entries, fn, that){\n\t\t  var iterFn = getIterFn(iterable)\n\t\t    , f      = ctx(fn, that, entries ? 2 : 1)\n\t\t    , index  = 0\n\t\t    , length, step, iterator;\n\t\t  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n\t\t  // fast case for arrays with default iterator\n\t\t  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n\t\t    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n\t\t  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n\t\t    call(iterator, f, step.value, entries);\n\t\t  }\n\t\t};\n\t\n\t/***/ },\n\t/* 75 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// call something on iterator step with safe closing on error\n\t\tvar anObject = __webpack_require__(72);\n\t\tmodule.exports = function(iterator, fn, value, entries){\n\t\t  try {\n\t\t    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n\t\t  // 7.4.6 IteratorClose(iterator, completion)\n\t\t  } catch(e){\n\t\t    var ret = iterator['return'];\n\t\t    if(ret !== undefined)anObject(ret.call(iterator));\n\t\t    throw e;\n\t\t  }\n\t\t};\n\t\n\t/***/ },\n\t/* 76 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// check on default Array iterator\n\t\tvar Iterators  = __webpack_require__(56)\n\t\t  , ITERATOR   = __webpack_require__(59)('iterator')\n\t\t  , ArrayProto = Array.prototype;\n\t\t\n\t\tmodule.exports = function(it){\n\t\t  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n\t\t};\n\t\n\t/***/ },\n\t/* 77 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// 7.1.15 ToLength\n\t\tvar toInteger = __webpack_require__(48)\n\t\t  , min       = Math.min;\n\t\tmodule.exports = function(it){\n\t\t  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n\t\t};\n\t\n\t/***/ },\n\t/* 78 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar classof   = __webpack_require__(70)\n\t\t  , ITERATOR  = __webpack_require__(59)('iterator')\n\t\t  , Iterators = __webpack_require__(56);\n\t\tmodule.exports = __webpack_require__(11).getIteratorMethod = function(it){\n\t\t  if(it != undefined)return it[ITERATOR]\n\t\t    || it['@@iterator']\n\t\t    || Iterators[classof(it)];\n\t\t};\n\t\n\t/***/ },\n\t/* 79 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// Works with __proto__ only. Old v8 can't work with null proto objects.\n\t\t/* eslint-disable no-proto */\n\t\tvar getDesc  = __webpack_require__(8).getDesc\n\t\t  , isObject = __webpack_require__(71)\n\t\t  , anObject = __webpack_require__(72);\n\t\tvar check = function(O, proto){\n\t\t  anObject(O);\n\t\t  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n\t\t};\n\t\tmodule.exports = {\n\t\t  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n\t\t    function(test, buggy, set){\n\t\t      try {\n\t\t        set = __webpack_require__(12)(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n\t\t        set(test, []);\n\t\t        buggy = !(test instanceof Array);\n\t\t      } catch(e){ buggy = true; }\n\t\t      return function setPrototypeOf(O, proto){\n\t\t        check(O, proto);\n\t\t        if(buggy)O.__proto__ = proto;\n\t\t        else set(O, proto);\n\t\t        return O;\n\t\t      };\n\t\t    }({}, false) : undefined),\n\t\t  check: check\n\t\t};\n\t\n\t/***/ },\n\t/* 80 */\n\t/***/ function(module, exports) {\n\t\n\t\t// 7.2.9 SameValue(x, y)\n\t\tmodule.exports = Object.is || function is(x, y){\n\t\t  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n\t\t};\n\t\n\t/***/ },\n\t/* 81 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t// 7.3.20 SpeciesConstructor(O, defaultConstructor)\n\t\tvar anObject  = __webpack_require__(72)\n\t\t  , aFunction = __webpack_require__(13)\n\t\t  , SPECIES   = __webpack_require__(59)('species');\n\t\tmodule.exports = function(O, D){\n\t\t  var C = anObject(O).constructor, S;\n\t\t  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n\t\t};\n\t\n\t/***/ },\n\t/* 82 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar global    = __webpack_require__(10)\n\t\t  , macrotask = __webpack_require__(83).set\n\t\t  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n\t\t  , process   = global.process\n\t\t  , Promise   = global.Promise\n\t\t  , isNode    = __webpack_require__(68)(process) == 'process'\n\t\t  , head, last, notify;\n\t\t\n\t\tvar flush = function(){\n\t\t  var parent, domain, fn;\n\t\t  if(isNode && (parent = process.domain)){\n\t\t    process.domain = null;\n\t\t    parent.exit();\n\t\t  }\n\t\t  while(head){\n\t\t    domain = head.domain;\n\t\t    fn     = head.fn;\n\t\t    if(domain)domain.enter();\n\t\t    fn(); // <- currently we use it only for Promise - try / catch not required\n\t\t    if(domain)domain.exit();\n\t\t    head = head.next;\n\t\t  } last = undefined;\n\t\t  if(parent)parent.enter();\n\t\t};\n\t\t\n\t\t// Node.js\n\t\tif(isNode){\n\t\t  notify = function(){\n\t\t    process.nextTick(flush);\n\t\t  };\n\t\t// browsers with MutationObserver\n\t\t} else if(Observer){\n\t\t  var toggle = 1\n\t\t    , node   = document.createTextNode('');\n\t\t  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n\t\t  notify = function(){\n\t\t    node.data = toggle = -toggle;\n\t\t  };\n\t\t// environments with maybe non-completely correct, but existent Promise\n\t\t} else if(Promise && Promise.resolve){\n\t\t  notify = function(){\n\t\t    Promise.resolve().then(flush);\n\t\t  };\n\t\t// for other environments - macrotask based on:\n\t\t// - setImmediate\n\t\t// - MessageChannel\n\t\t// - window.postMessag\n\t\t// - onreadystatechange\n\t\t// - setTimeout\n\t\t} else {\n\t\t  notify = function(){\n\t\t    // strange IE + webpack dev server bug - use .call(global)\n\t\t    macrotask.call(global, flush);\n\t\t  };\n\t\t}\n\t\t\n\t\tmodule.exports = function asap(fn){\n\t\t  var task = {fn: fn, next: undefined, domain: isNode && process.domain};\n\t\t  if(last)last.next = task;\n\t\t  if(!head){\n\t\t    head = task;\n\t\t    notify();\n\t\t  } last = task;\n\t\t};\n\t\n\t/***/ },\n\t/* 83 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar ctx                = __webpack_require__(12)\n\t\t  , invoke             = __webpack_require__(84)\n\t\t  , html               = __webpack_require__(85)\n\t\t  , cel                = __webpack_require__(86)\n\t\t  , global             = __webpack_require__(10)\n\t\t  , process            = global.process\n\t\t  , setTask            = global.setImmediate\n\t\t  , clearTask          = global.clearImmediate\n\t\t  , MessageChannel     = global.MessageChannel\n\t\t  , counter            = 0\n\t\t  , queue              = {}\n\t\t  , ONREADYSTATECHANGE = 'onreadystatechange'\n\t\t  , defer, channel, port;\n\t\tvar run = function(){\n\t\t  var id = +this;\n\t\t  if(queue.hasOwnProperty(id)){\n\t\t    var fn = queue[id];\n\t\t    delete queue[id];\n\t\t    fn();\n\t\t  }\n\t\t};\n\t\tvar listner = function(event){\n\t\t  run.call(event.data);\n\t\t};\n\t\t// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n\t\tif(!setTask || !clearTask){\n\t\t  setTask = function setImmediate(fn){\n\t\t    var args = [], i = 1;\n\t\t    while(arguments.length > i)args.push(arguments[i++]);\n\t\t    queue[++counter] = function(){\n\t\t      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n\t\t    };\n\t\t    defer(counter);\n\t\t    return counter;\n\t\t  };\n\t\t  clearTask = function clearImmediate(id){\n\t\t    delete queue[id];\n\t\t  };\n\t\t  // Node.js 0.8-\n\t\t  if(__webpack_require__(68)(process) == 'process'){\n\t\t    defer = function(id){\n\t\t      process.nextTick(ctx(run, id, 1));\n\t\t    };\n\t\t  // Browsers with MessageChannel, includes WebWorkers\n\t\t  } else if(MessageChannel){\n\t\t    channel = new MessageChannel;\n\t\t    port    = channel.port2;\n\t\t    channel.port1.onmessage = listner;\n\t\t    defer = ctx(port.postMessage, port, 1);\n\t\t  // Browsers with postMessage, skip WebWorkers\n\t\t  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n\t\t  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n\t\t    defer = function(id){\n\t\t      global.postMessage(id + '', '*');\n\t\t    };\n\t\t    global.addEventListener('message', listner, false);\n\t\t  // IE8-\n\t\t  } else if(ONREADYSTATECHANGE in cel('script')){\n\t\t    defer = function(id){\n\t\t      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n\t\t        html.removeChild(this);\n\t\t        run.call(id);\n\t\t      };\n\t\t    };\n\t\t  // Rest old browsers\n\t\t  } else {\n\t\t    defer = function(id){\n\t\t      setTimeout(ctx(run, id, 1), 0);\n\t\t    };\n\t\t  }\n\t\t}\n\t\tmodule.exports = {\n\t\t  set:   setTask,\n\t\t  clear: clearTask\n\t\t};\n\t\n\t/***/ },\n\t/* 84 */\n\t/***/ function(module, exports) {\n\t\n\t\t// fast apply, http://jsperf.lnkit.com/fast-apply/5\n\t\tmodule.exports = function(fn, args, that){\n\t\t  var un = that === undefined;\n\t\t  switch(args.length){\n\t\t    case 0: return un ? fn()\n\t\t                      : fn.call(that);\n\t\t    case 1: return un ? fn(args[0])\n\t\t                      : fn.call(that, args[0]);\n\t\t    case 2: return un ? fn(args[0], args[1])\n\t\t                      : fn.call(that, args[0], args[1]);\n\t\t    case 3: return un ? fn(args[0], args[1], args[2])\n\t\t                      : fn.call(that, args[0], args[1], args[2]);\n\t\t    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n\t\t                      : fn.call(that, args[0], args[1], args[2], args[3]);\n\t\t  } return              fn.apply(that, args);\n\t\t};\n\t\n\t/***/ },\n\t/* 85 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(10).document && document.documentElement;\n\t\n\t/***/ },\n\t/* 86 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar isObject = __webpack_require__(71)\n\t\t  , document = __webpack_require__(10).document\n\t\t  // in old IE typeof document.createElement is 'object'\n\t\t  , is = isObject(document) && isObject(document.createElement);\n\t\tmodule.exports = function(it){\n\t\t  return is ? document.createElement(it) : {};\n\t\t};\n\t\n\t/***/ },\n\t/* 87 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar redefine = __webpack_require__(51);\n\t\tmodule.exports = function(target, src){\n\t\t  for(var key in src)redefine(target, key, src[key]);\n\t\t  return target;\n\t\t};\n\t\n\t/***/ },\n\t/* 88 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\tvar core        = __webpack_require__(11)\n\t\t  , $           = __webpack_require__(8)\n\t\t  , DESCRIPTORS = __webpack_require__(54)\n\t\t  , SPECIES     = __webpack_require__(59)('species');\n\t\t\n\t\tmodule.exports = function(KEY){\n\t\t  var C = core[KEY];\n\t\t  if(DESCRIPTORS && C && !C[SPECIES])$.setDesc(C, SPECIES, {\n\t\t    configurable: true,\n\t\t    get: function(){ return this; }\n\t\t  });\n\t\t};\n\t\n\t/***/ },\n\t/* 89 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar ITERATOR     = __webpack_require__(59)('iterator')\n\t\t  , SAFE_CLOSING = false;\n\t\t\n\t\ttry {\n\t\t  var riter = [7][ITERATOR]();\n\t\t  riter['return'] = function(){ SAFE_CLOSING = true; };\n\t\t  Array.from(riter, function(){ throw 2; });\n\t\t} catch(e){ /* empty */ }\n\t\t\n\t\tmodule.exports = function(exec, skipClosing){\n\t\t  if(!skipClosing && !SAFE_CLOSING)return false;\n\t\t  var safe = false;\n\t\t  try {\n\t\t    var arr  = [7]\n\t\t      , iter = arr[ITERATOR]();\n\t\t    iter.next = function(){ safe = true; };\n\t\t    arr[ITERATOR] = function(){ return iter; };\n\t\t    exec(arr);\n\t\t  } catch(e){ /* empty */ }\n\t\t  return safe;\n\t\t};\n\t\n\t/***/ },\n\t/* 90 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t\"use strict\";\n\t\t/**\n\t\t * Defines an Object type using a named constructor function.\n\t\t * @module\n\t\t */\n\t\t\n\t\t/**\n\t\t * Constructs an object with methods bound to a context.\n\t\t * @arg {object} _from - Object with methods to bind.\n\t\t * @arg {object} _to - Context which methtods should be bound to.\n\t\t */\n\t\t\n\t\tvar _Object$defineProperty = __webpack_require__(91)['default'];\n\t\t\n\t\tvar _Object$keys = __webpack_require__(33)['default'];\n\t\t\n\t\tvar _Object$create = __webpack_require__(20)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\texports['default'] = type;\n\t\tfunction Bindings(_from, _to) {\n\t\t\tvar method;\n\t\t\n\t\t\t// pull all methods from the prototype chain.\n\t\t\tfor (method in _from) {\n\t\t\t\tif (typeof _from[method] !== 'function') continue;\n\t\t\t\tthis[method] = _from[method].bind(_to);\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\t * Takes an itterable object and convert it into an Array.\n\t\t * @arg {object} _itterable\n\t\t * @returns {array}\n\t\t */\n\t\tfunction toArray(_itterable) {\n\t\t\treturn [].map.call(_itterable, function (m) {\n\t\t\t\treturn m;\n\t\t\t});\n\t\t}\n\t\t\n\t\t/**\n\t\t * Converts a constructor function into an object \"type\". Which addapts the constructor with and interface for creating instsances and extension.\n\t\t * @arg {function} _constructor... - any number of constructor functions.\n\t\t * @returns The constructor or an object containing all the defined types.\n\t\t */\n\t\t\n\t\tfunction type() {\n\t\t\tvar defs, module;\n\t\t\n\t\t\t/**\n\t\t  * Constructs an interface which is accesed through the constructors arguments.\n\t\t  * These arguments are parsed from the function string and collected into an array.\n\t\t  * @arg {function} _constructor\n\t\t  * @returns {array} The collection of API functions requested by the constructor.\n\t\t  */\n\t\t\tfunction createApi(_constructor) {\n\t\t\t\tvar args, api;\n\t\t\n\t\t\t\t// Matches the names of the arguments defined in the source of the function.\n\t\t\t\t// [^\\(\\)\\.\\s,]+ captures one or more of any character which is NOT a parenthetical, period, white-space character, or comma.\n\t\t\t\t// It then takes that rule and looks for multiple intances w/o spaces or commas around it, which would be encased in parenthensies.\n\t\t\t\t// NOTE: since this regex is not matching globally, it will not match any argument clusters past the function definition.\n\t\t\t\targs = (Function.prototype.toString.call(_constructor).match(/\\(((?:\\s*[^\\(\\)\\.\\s,]+\\s*,?)+)\\)/) || ['', ''])[1].split(/\\s*,\\s*/);\n\t\t\t\tapi = {\n\t\t\t\t\t/**\n\t\t    * Invokes the specified method closest in the prototype chain. Allowing you to still invoke a method which was overridden.\n\t\t    *\n\t\t    * @arg {object} _obj - The context which to find the parent function.\n\t\t    * @arg {string} _name - The method name.\n\t\t    * @arg {array} _args - A collection of arguments to invoke the method with\n\t\t    * @returns {*} Whatever the caller returns.\n\t\t    *\n\t\t    * @example \n\t\t    * Car.extend(function Ford (proto) {\n\t\t    *     this.drive = function () {\n\t\t    *         proto(this, 'drive', arguments);\n\t\t    *         // do some opps.\n\t\t    *     };\n\t\t    * });\n\t\t    */\n\t\t\t\t\tproto: function proto(_obj, _name, _args) {\n\t\t\t\t\t\tvar proto, method;\n\t\t\n\t\t\t\t\t\tproto = Object.getPrototypeOf(this || _obj);\n\t\t\t\t\t\tmethod = proto[_name];\n\t\t\n\t\t\t\t\t\tif (typeof _obj[_name] !== 'function') {\n\t\t\t\t\t\t\tthrow new TypeError('Member ' + _name + ' is not a function.');\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tif (method) {\n\t\t\t\t\t\t\t// Does _obj's prototype have the method and it's not the same reference as _obj.\n\t\t\t\t\t\t\tif (proto.hasOwnProperty(_name) && _obj[_name] !== proto[_name]) {\n\t\t\t\t\t\t\t\treturn _args ? method.apply(_obj, _args) : method.bind(_obj);\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t// Otherwise, walk the prototype chain to find the prototype that has the parent method.\n\t\t\t\t\t\t\twhile (proto) {\n\t\t\t\t\t\t\t\tif (proto.hasOwnProperty(_name) && _obj[_name] !== proto[_name]) {\n\t\t\t\t\t\t\t\t\treturn _args ? method.apply(_obj, _args) : method.bind(_obj);\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\tproto = Object.getPrototypeOf(proto);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn new Bindings(proto, _obj);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t/**\n\t\t    * Invokes the specified method which lives on the object type's prototype.\n\t\t    * If your instance overrides the object types method, or your many prototype\n\t\t    * levels away from the base prototype, this lets you track back to the original.\n\t\t    *\n\t\t    * @arg {object} _obj - The context which to find the parent function.\n\t\t    * @arg {string} _name - The method name.\n\t\t    * @arg {array} _args - A collection of arguments to invoke the method with\n\t\t    * @returns {*} Whatever the caller returns.\n\t\t    */\n\t\t\t\t\tbase: function base(_obj, _name, _args) {\n\t\t\t\t\t\tvar proto, method;\n\t\t\n\t\t\t\t\t\tproto = _constructor.prototype;\n\t\t\t\t\t\tmethod = proto[_name];\n\t\t\n\t\t\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\t\t\tthrow new TypeError('Member ' + _name + ' is not a function.');\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tif (method) {\n\t\t\t\t\t\t\treturn _args ? method.apply(_obj, _args) : method.bind(_obj);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn new Bindings(proto, _obj);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t/**\n\t\t    * Invokes the specified method on the object type's super type or parent type (i.e. Ford extending Car).\n\t\t    * @arg {object} _obj - The context which to find the parent function.\n\t\t    * @arg {string} _name - The method name.\n\t\t    * @arg {array} _args - A collection of arguments to invoke the method with\n\t\t    * @returns {*} Whatever the caller returns.\n\t\t    */\n\t\t\t\t\tsup: function sup(_obj, _name, _args) {\n\t\t\t\t\t\treturn api.proto.apply(_constructor.prototype, arguments);\n\t\t\t\t\t},\n\t\t\t\t\t/**\n\t\t    * Defines a properpty which is configured `{configureable: false, writeable: false}`.\n\t\t    * @arg {object} _obj - The context which to define members.\n\t\t    * @arg {string} _name - The member name.\n\t\t    * @arg {*} _value - The value.\n\t\t    * @returns api\n\t\t    */\n\t\t\t\t\tconstant: function constant(_obj, _name, _value) {\n\t\t\t\t\t\t_Object$defineProperty(_obj, _name, {\n\t\t\t\t\t\t\tvalue: _value,\n\t\t\t\t\t\t\tconfigureable: false,\n\t\t\t\t\t\t\twriteable: false\n\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\treturn api;\n\t\t\t\t\t},\n\t\t\t\t\t/**\n\t\t    * Defines members on the constructor.\n\t\t    * @function static\n\t\t    * @overload\n\t\t    * @arg {string} _name - The member name.\n\t\t    * @arg {*} _value - The value.\n\t\t    * @returns api\n\t\t    */\n\t\t\n\t\t\t\t\t/**\n\t\t    * Defines members on the constructor.\n\t\t    * @arg {object} _def - An object with members to mixin.\n\t\t    * @returns api\n\t\t    */\n\t\t\t\t\t'static': function _static(_name_def, _value) {\n\t\t\t\t\t\tvar member, _name, _def;\n\t\t\n\t\t\t\t\t\t_value ? _name = _name_def : _def = _name_def;\n\t\t\n\t\t\t\t\t\tif (_def) {\n\t\t\t\t\t\t\tfor (member in _def) {\n\t\t\t\t\t\t\t\tif (!_def.hasOwnProperty(member)) continue;\n\t\t\t\t\t\t\t\t_constructor[member] = _def[member];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tif (_name) {\n\t\t\t\t\t\t\t_constructor[_name] = _value;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\treturn api;\n\t\t\t\t\t},\n\t\t\t\t\t/**\n\t\t    * A pretty way of define the interface of your object type.\n\t\t    *\n\t\t    * You may pass any number of arguments as functions or strings.\n\t\t    * \n\t\t    * **Example**\n\t\t    * ```javascript\n\t\t    * function Car ($) {$(\n\t\t    *     // Defines a member assigned to `null`.\n\t\t    *     'name',\n\t\t    *     // Defines members with values as a string and number. Keep in mind these are put on the prototype.\n\t\t    *     'engineType = \"standard\", speed = 0',\n\t\t    *\n\t\t    *     // Define instance members.\n\t\t    *     function alloc (_name) {\n\t\t    *         this.name = _name;\n\t\t    *     },\n\t\t    *\n\t\t    *     function drive () {\n\t\t    *         this.speed += 1;\n\t\t    *     }\n\t\t    * )}\n\t\t    * ```\n\t\t    *\n\t\t    * One benefit to this interface is that all your methods are named so you have easy access for recursive programs.\n\t\t    * @arg {string|function} _def - A string of property definitions or a named function.\n\t\t    * @todo Support property assignment in alloc. Micah: 2/24/2016\n\t\t    */\n\t\t\t\t\t$: function $() {\n\t\t\t\t\t\tvar args = toArray(arguments);\n\t\t\n\t\t\t\t\t\targs.forEach(function (_member) {\n\t\t\t\t\t\t\tvar memberType, props, key;\n\t\t\n\t\t\t\t\t\t\tmemberType = typeof _member;\n\t\t\n\t\t\t\t\t\t\tswitch (memberType) {\n\t\t\t\t\t\t\t\tcase 'string':\n\t\t\t\t\t\t\t\t\tprops = _member.split(/\\s*,\\s*/);\n\t\t\n\t\t\t\t\t\t\t\t\tif (props) {\n\t\t\t\t\t\t\t\t\t\tprops.forEach(function (_def) {\n\t\t\t\t\t\t\t\t\t\t\tvar prop, val;\n\t\t\n\t\t\t\t\t\t\t\t\t\t\tprop = _def.split(/\\s*[:=]\\s*/);\n\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\tval = JSON.parse(prop[1]);\n\t\t\t\t\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t\t\t\t\t\t_constructor.prototype[prop[0]] = typeof prop[1] !== 'undefined' ? val || prop[1] : null;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\t\t\t\tfor (key in _member) {\n\t\t\t\t\t\t\t\t\t\tif (!_member.hasOwnProperty(key)) continue;\n\t\t\t\t\t\t\t\t\t\t_constructor.prototype[key] = _member[key];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\t\tcase 'function':\n\t\t\t\t\t\t\t\t\tif (!_member.name) throw TypeError('Member must be a named function.');\n\t\t\t\t\t\t\t\t\t_constructor.prototype[_member.name] = _member;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\treturn api;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\treturn args.map(function (_call) {\n\t\t\t\t\treturn api[_call] || module[_call];\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tdefs = toArray(arguments);\n\t\t\tmodule = !this ? {} : this;\n\t\t\n\t\t\tdefs.forEach(function (_constructor) {\n\t\t\t\tvar api;\n\t\t\n\t\t\t\tif (typeof _constructor === 'object') {\n\t\t\t\t\tvar Super,\n\t\t\t\t\t    keys = _Object$keys(_constructor);\n\t\t\n\t\t\t\t\tif (keys.length === 1 && module[keys[0]]) {\n\t\t\t\t\t\tSuper = module[keys[0]];\n\t\t\t\t\t\treturn Super.extend.call(module, _constructor[keys[0]]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tapi = createApi(_constructor);\n\t\t\n\t\t\t\t/**\n\t\t   * Creates a new instance of the constructor prototype.\n\t\t   * This also invokes the `alloc()` on the instance so you can define instance props.\n\t\t   * @arg {*} ... - Any number of arguments for `alloc()`.\n\t\t   * @returns instance\n\t\t   */\n\t\t\t\t_constructor.create = function () {\n\t\t\t\t\tvar instance = _Object$create(_constructor.prototype);\n\t\t\t\t\tif (typeof instance.alloc === 'function') instance.alloc.apply(instance, arguments);\n\t\t\t\t\treturn instance;\n\t\t\t\t};\n\t\t\n\t\t\t\t/**\n\t\t   * Extends the provided constructor prototype.\n\t\t   * @arg {function} _definition - Constructor for the object type.\n\t\t   * @returns _constructor\n\t\t   */\n\t\t\t\t_constructor.extend = function (_definition) {\n\t\t\t\t\t_definition.prototype = _Object$create(_constructor.prototype, {\n\t\t\t\t\t\tconstructor: {\n\t\t\t\t\t\t\tvalue: _definition,\n\t\t\t\t\t\t\tenumerable: false,\n\t\t\t\t\t\t\twriteable: false,\n\t\t\t\t\t\t\tconfigureable: false\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\treturn type.call(this === _constructor ? null : this, _definition);\n\t\t\t\t};\n\t\t\n\t\t\t\t_constructor.apply(_constructor.prototype, api);\n\t\t\n\t\t\t\tmodule[_constructor.name] = _constructor;\n\t\t\t});\n\t\t\n\t\t\treturn defs.length > 1 ? module : defs[0];\n\t\t}\n\t\t\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 91 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = { \"default\": __webpack_require__(92), __esModule: true };\n\t\n\t/***/ },\n\t/* 92 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar $ = __webpack_require__(8);\n\t\tmodule.exports = function defineProperty(it, key, desc){\n\t\t  return $.setDesc(it, key, desc);\n\t\t};\n\t\n\t/***/ },\n\t/* 93 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Base class for a scope acting as an \"entity\" with \"states\", \"behaviors\" and the ability to respond (responsibilities) to behaviors.\n\t\t *\n\t\t * @module\n\t\t */\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _typesGlobalScope = __webpack_require__(30);\n\t\t\n\t\tvar _typesGlobalScope2 = _interopRequireDefault(_typesGlobalScope);\n\t\t\n\t\tvar _typesCollection = __webpack_require__(29);\n\t\t\n\t\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\t\n\t\tvar _typesDimensions = __webpack_require__(14);\n\t\t\n\t\tvar _typesQueue = __webpack_require__(40);\n\t\t\n\t\tvar _typesQueue2 = _interopRequireDefault(_typesQueue);\n\t\t\n\t\tfunction invokeResponsibilities(_scope, _event) {\n\t\t\tif (_scope && _scope.responsibilities && _scope.isMemberSafe('responsibilities')) {\n\t\t\t\t_scope.responsibilities.forEach(function (_record) {\n\t\t\t\t\tif (_record.name === _event.name) {\n\t\t\n\t\t\t\t\t\t// console.log(_scope.id(), 'respond', _record.name, 'from', _event.targetScope.id());\n\t\t\t\t\t\t_record.ability.call(_scope, _event);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\t * <span class=\"note important\">NOTE: This is NOT a constructor. Use `Entity.create()` to get a new instance.</span>\n\t\t * @classdesc Base class for a scope acting as an \"entity\" with \"states\", \"behaviors\" and the ability to respond (responsibilities) to behaviors. For more information on these terms read [this]{@link module:types/Entity}.\n\t\t * <style>\n\t\t * .tag {\n\t\t *   padding: 1px 4px;\n\t\t *   border-radius: 4px;\n\t\t *\n\t\t *   color: #fff;\n\t\t *   background-color: #aaa;\n\t\t * }\n\t\t *\n\t\t * .tag.behavior {\n\t\t *\t background-color: #0ba;\n\t\t * }\n\t\t *\n\t\t * .tag.state {\n\t\t *\t background-color: #ba0;\n\t\t * }\n\t\t *\n\t\t * .note {\n\t\t *   border: solid 1px;\n\t\t *   border-radius: 4px;\n\t\t *   padding: 1px 4px;\n\t\t *   color: #aaa;\n\t\t *   background-color: #eee;\n\t\t * }\n\t\t * \n\t\t * .note.important {\n\t\t *   color: #b55;\n\t\t *   background-color: #fee;\n\t\t * }\n\t\t * </style>\n\t\t *\n\t\t * @class\n\t\t * @prop {module:types/Collection~Collection} responsibilities - A collection of ResponsibilityRecords for the scope.\n\t\t * @prop {boolean} isComplete - Marks a scope as \"complete\" via the [`complete()`]{@link module:types/Entity~Entity#complete} behavior.\n\t\t * @extends GlobalScope\n\t\t */\n\t\tvar Entity = _typesGlobalScope2['default'].extend(function () {\n\t\t\n\t\t\tfunction resolveTarget(_target) {\n\t\t\n\t\t\t\tswitch (typeof _target) {\n\t\t\t\t\tcase 'string':\n\t\t\t\t\t\treturn this.findOwn(_target);\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tif (_target.jquery) return _target;\n\t\t\t\t\t\tif (Entity.isPrototypeOf(_target)) return _target;\n\t\t\t\t\t\tif (_target.nodeType === document.ELEMENT_NODE) return $(_target);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\n\t\t\tfunction ResponsibilityRecord(_name, _ability) {\n\t\t\t\tthis.name = _name;\n\t\t\t\tthis.ability = _ability;\n\t\t\t}\n\t\t\n\t\t\tfunction dragGreeter(_event) {\n\t\t\t\tswitch (_event.type) {\n\t\t\t\t\tcase 'drag-start':\n\t\t\t\t\t\tthis.grab(_event.state);\n\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\tcase 'drag-move':\n\t\t\t\t\t\tthis.dragging(_event.state);\n\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\tcase 'drag-end':\n\t\t\t\t\t\tthis.release(_event.state);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction attachDragEvents() {\n\t\t\t\tif (this.draggables && this.isMemberSafe('draggables') && this.draggables.length) {\n\t\t\t\t\tthis.on('drag-start drag-move drag-end', dragGreeter);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tthis.baseType = 'TYPE_ENTITY';\n\t\t\tthis.STATE = {\n\t\t\t\tPLAYING: 'PLAYING',\n\t\t\t\tBACKGROUND: 'BACKGROUND',\n\t\t\t\tVOICE_OVER: 'VOICE-OVER',\n\t\t\t\tSFX: 'SFX'\n\t\t\t};\n\t\t\n\t\t\tthis.timeoutID = null;\n\t\t\tthis.intervalID = null;\n\t\t\tthis.responsibilities = null;\n\t\t\tthis.isComplete = false;\n\t\t\tthis.shouldInheritAbilities = true;\n\t\t\tthis.frameHandlers = null;\n\t\t\tthis.frameRate = 60; // 60fps\n\t\t\tthis.draggables = null;\n\t\t\tthis.requiredQueue = null;\n\t\t\tthis.bgImageCollection = null;\n\t\t\n\t\t\tthis.handleProperty({\n\t\t\t\tsize: function size(_node, _name, _value) {\n\t\t\t\t\tvar size;\n\t\t\n\t\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\t\tsize = _value.split(/\\s*[x,]\\s*/);\n\t\t\t\t\t\tthis.css({\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\theight: size[1] || size[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\n\t\t\t\tposition: function position(_node, _name, _value) {\n\t\t\t\t\tvar size;\n\t\t\n\t\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\t\tsize = _value.split(/\\s*[x,]\\s*/);\n\t\t\t\t\t\tthis.css({\n\t\t\t\t\t\t\ttop: size[1] || size[0],\n\t\t\t\t\t\t\tleft: size[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\n\t\t\t\tdraggable: function draggable(_node, _name, _value) {\n\t\t\t\t\tif (!this.hasOwnProperty('draggables')) {\n\t\t\t\t\t\tthis.draggables = $();\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tthis.draggables.push(_node);\n\t\t\t\t},\n\t\t\n\t\t\t\tbg: function bg(_node, _name, _value) {\n\t\t\t\t\tvar img = new Image();\n\t\t\n\t\t\t\t\tif (!this.hasOwnProperty('bgImageCollection')) this.bgImageCollection = [];\n\t\t\n\t\t\t\t\tif (this.isMemberSafe('bgImageCollection')) {\n\t\t\t\t\t\timg.src = _value;\n\t\t\t\t\t\tthis.bgImageCollection.push(img);\n\t\t\t\t\t\t$(_node).css('background-image', 'url(' + _value + ')');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\tthis.__init = function (_event) {\n\t\t\t\tif (this.bgImageCollection && this.isMemberSafe('bgImageCollection')) {\n\t\t\t\t\tthis.watchAssets(this.bgImageCollection);\n\t\t\t\t}\n\t\t\t\tattachDragEvents.call(this);\n\t\t\n\t\t\t\treturn this.proto();\n\t\t\t};\n\t\t\n\t\t\tthis.size = function () {\n\t\t\t\tvar size;\n\t\t\n\t\t\t\tif (arguments.length) {\n\t\t\t\t\tsize = _typesDimensions.Size.create(arguments);\n\t\t\t\t\tthis.css(size);\n\t\t\t\t\treturn size;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn _typesDimensions.Size.create().set(this.width(), this.height());\n\t\t\t};\n\t\t\n\t\t\tthis.propagateBehavior = function (_event) {\n\t\t\t\tvar ids;\n\t\t\n\t\t\t\tids = [];\n\t\t\n\t\t\t\tthis.findOwn('.pl-scope').each(function (_index, _node) {\n\t\t\t\t\tvar $node = $(_node);\n\t\t\t\t\tids.push($node.id() || $node.address());\n\t\t\t\t});\n\t\t\n\t\t\t\tif (this.hasOwnProperty('entities') && this.entities.length) {\n\t\t\t\t\t// console.log(this.id(), 'propagate', _event.name, 'to', this.entities.length, 'nodes', ids);\n\t\t\n\t\t\t\t\tthis.entities.forEach(function (_scope) {\n\t\t\t\t\t\tinvokeResponsibilities(_scope, _event);\n\t\t\t\t\t\t_scope.propagateBehavior(_event);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.require = function (_entity) {\n\t\t\t\tif (!this.hasOwnProperty('requiredQueue')) {\n\t\t\t\t\tthis.requiredQueue = _typesQueue2['default'].create();\n\t\t\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\t\t\tthis.log('entity complete');\n\t\t\t\t\t\tthis.complete();\n\t\t\t\t\t}));\n\t\t\n\t\t\t\t\tthis.respond('complete', function (_event) {\n\t\t\t\t\t\tif (!this.has(_event.target)) return;\n\t\t\t\t\t\tif (_event.targetScope === this) return;\n\t\t\n\t\t\t\t\t\tthis.requiredQueue.ready(_event.behaviorTarget);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.requiredQueue.add(_entity);\n\t\t\t\tthis.gate();\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.behavior = function (_name, _behavior) {\n\t\t\t\t_behavior.method = this[_name] = function () {\n\t\t\t\t\tvar behaviorEvent, result;\n\t\t\n\t\t\t\t\tbehaviorEvent = {\n\t\t\t\t\t\tname: _name,\n\t\t\t\t\t\tmessage: '',\n\t\t\t\t\t\ttargetScope: this,\n\t\t\t\t\t\tbehaviorTarget: this\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tresult = _behavior.apply(this, arguments);\n\t\t\n\t\t\t\t\tif (typeof result === 'object') {\n\t\t\t\t\t\tbehaviorEvent = _util2['default'].mixin(behaviorEvent, result);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (result !== false) {\n\t\t\t\t\t\tthis.trigger($.Event('behavior', behaviorEvent));\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.respond = function () {\n\t\t\t\tvar name, ability, parentScope, abilities, protoAbilities;\n\t\t\n\t\t\t\tif (!this.hasOwnProperty('responsibilities')) {\n\t\t\t\t\tabilities = _typesCollection2['default'].create();\n\t\t\t\t\tprotoAbilities = this.provideAblilityPototype();\n\t\t\n\t\t\t\t\tif (this.shouldInheritAbilities && protoAbilities && protoAbilities.responsibilities) {\n\t\t\t\t\t\tabilities.push.apply(abilities, protoAbilities.responsibilities);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tthis.responsibilities = abilities;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (arguments.length === 1) {\n\t\t\t\t\tswitch (typeof arguments[0]) {\n\t\t\t\t\t\tcase 'string':\n\t\t\t\t\t\t\tname = arguments[0];break;\n\t\t\n\t\t\t\t\t\tcase 'function':\n\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\t\tability = arguments[0];break;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tname = arguments[0];\n\t\t\t\t\tability = arguments[1];\n\t\t\t\t}\n\t\t\n\t\t\t\tswitch (typeof ability) {\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tfor (name in ability) {\n\t\t\t\t\t\t\tif (!ability.hasOwnProperty(name)) continue;\n\t\t\n\t\t\t\t\t\t\tthis.respond(name, ability[name]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\tcase 'function':\n\t\t\t\t\t\tthis.responsibilities.add(new ResponsibilityRecord(name, ability));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.delay = function (_time, _cb) {\n\t\t\t\tvar time = _util2['default'].toMillisec(_time);\n\t\t\n\t\t\t\t_util2['default'].assignRef(this, 'timeoutID', setTimeout(_cb.bind(this), time));\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.repeat = function (_time, _cb) {\n\t\t\t\tvar time = _util2['default'].toMillisec(_time);\n\t\t\n\t\t\t\t_util2['default'].assignRef(this, 'intervalID', setInterval(_cb.bind(this), time));\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.kill = function (_timer) {\n\t\t\t\tvar id = _timer === 'repeat' ? this.intervalID : this.timeoutID;\n\t\t\n\t\t\t\tif (typeof id === 'number') {\n\t\t\t\t\t(_timer === 'repeat' ? clearInterval : clearTimeout)(id);\n\t\t\t\t\tthis[_timer === 'repeat' ? 'intervalID' : 'timeoutID'] = null;\n\t\t\t\t} else if (id) {\n\t\t\t\t\tid.forEach(function (_id) {\n\t\t\t\t\t\t(_timer === 'repeat' ? clearInterval : clearTimeout)(_id);\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\t_timer === 'repeat' ? this.intervalID = null : this.timeoutID = null;\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.eachFrame = function (_handler, _on) {\n\t\t\t\tvar binder, frame, lastTime, rate, frames;\n\t\t\n\t\t\t\trate = this.frameRate || 1000;\n\t\t\t\tframes = 0;\n\t\t\t\tlastTime = 0;\n\t\t\n\t\t\t\tif (!this.hasOwnProperty('frameHandlers') || this.frameHandlers.length === 0) {\n\t\t\t\t\tframe = function (_time) {\n\t\t\t\t\t\tvar i, handler;\n\t\t\n\t\t\t\t\t\tif (rate) {\n\t\t\t\t\t\t\tif (_time - lastTime >= 1000 / rate) {\n\t\t\t\t\t\t\t\tfor (i = 0; handler = this.frameHandlers[i]; i += 1) {\n\t\t\t\t\t\t\t\t\thandler.call(this, _time, Math.round(1000 / (_time - lastTime)), rate);\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\tif (frames === rate) frames = 0;\n\t\t\n\t\t\t\t\t\t\t\tframes += 1;\n\t\t\t\t\t\t\t\tlastTime = _time;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tif (this.frameHandlers.length) {\n\t\t\t\t\t\t\twindow.requestAnimationFrame(binder);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tbinder = this.bind(frame);\n\t\t\n\t\t\t\t\t// allows methods passed as _handler's to\n\t\t\t\t\t// be able to trace back for proto() callbacks.\n\t\t\t\t\tframe.method = this.eachFrame;\n\t\t\n\t\t\t\t\tthis.frameHandlers = _typesCollection2['default'].create();\n\t\t\t\t\twindow.requestAnimationFrame(binder);\n\t\t\t\t}\n\t\t\n\t\t\t\tif (_on !== false) {\n\t\t\t\t\tthis.frameHandlers.add(_handler);\n\t\t\t\t} else {\n\t\t\t\t\tthis.frameHandlers.remove(_handler);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.state = function (_flag, _definition, _imp) {\n\t\t\t\tvar flag, tester, setter, getter, STATE, def, opperations, names;\n\t\t\n\t\t\t\tif (!_definition) {\n\t\t\t\t\treturn this.proto(_flag);\n\t\t\t\t}\n\t\t\n\t\t\t\tdef = _definition.split(/\\s+/);\n\t\t\t\tnames = _flag.split(/\\s+/);\n\t\t\t\topperations = [];\n\t\t\n\t\t\t\tdef.forEach(this.bind(function (_opp) {\n\t\t\t\t\tvar method, flag;\n\t\t\n\t\t\t\t\tmethod = _opp.slice(0, 1) === '+' ? 'addClass' : 'removeClass';\n\t\t\n\t\t\t\t\topperations.push({\n\t\t\t\t\t\tmethod: method,\n\t\t\t\t\t\tflag: _opp.slice(1)\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tif (method === 'addClass') {\n\t\t\t\t\t\tflag = _opp.slice(1);\n\t\t\t\t\t\tSTATE = _util2['default'].transformId(flag);\n\t\t\t\t\t\tthis.STATE[STATE] = flag;\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\n\t\t\t\tsetter = names[0];\n\t\t\t\ttester = names[1];\n\t\t\n\t\t\t\tthis[setter] = function (_target) {\n\t\t\t\t\tvar target, uiStateEvent, oppsPerformed;\n\t\t\n\t\t\t\t\ttarget = resolveTarget.call(this, _target);\n\t\t\t\t\tuiStateEvent = $.Event('ui-' + setter, {\n\t\t\t\t\t\ttarget: target.jquery ? target[0] : target,\n\t\t\t\t\t\ttargetScope: this\n\t\t\t\t\t});\n\t\t\t\t\toppsPerformed = 0;\n\t\t\n\t\t\t\t\tif (_imp && _imp.shouldSet && _imp.shouldSet.apply(this, arguments) === false) {\n\t\t\t\t\t\treturn !!(_imp && _imp.notSet) && _imp.notSet.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (_imp && _imp.willSet) _imp.willSet.apply(this, arguments);\n\t\t\n\t\t\t\t\topperations.forEach(function (_record) {\n\t\t\t\t\t\t// If we are adding or removing a class, test if the target already has/removed it.\n\t\t\t\t\t\t// If so, then bump \"oppsPerformed\".\n\t\t\t\t\t\toppsPerformed += Number(target.hasClass(_record.flag) === ! ~_record.method.indexOf('add'));\n\t\t\t\t\t\ttarget[_record.method](_record.flag);\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tif (_imp && _imp.didSet) _imp.didSet.apply(this, arguments);\n\t\t\n\t\t\t\t\tif (oppsPerformed) {\n\t\t\t\t\t\tthis.trigger(uiStateEvent);\n\t\t\t\t\t\treturn target;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\n\t\t\t\tif (tester) {\n\t\t\t\t\tgetter = 'get' + tester.slice(0, 1).toUpperCase() + tester.slice(1);\n\t\t\n\t\t\t\t\tthis[tester] = function (_target) {\n\t\t\t\t\t\tvar target;\n\t\t\n\t\t\t\t\t\ttarget = resolveTarget.call(this, _target);\n\t\t\n\t\t\t\t\t\treturn target.hasClass(this.STATE[STATE]);\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tthis[getter] = function () {\n\t\t\t\t\t\treturn this.findOwn('.' + this.STATE[STATE]);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.provideBehaviorEventScope = function () {\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.provideAblilityPototype = function () {\n\t\t\t\tvar owner;\n\t\t\n\t\t\t\towner = _util2['default'].getOwner(this, this.baseType);\n\t\t\n\t\t\t\treturn !!owner && owner.object;\n\t\t\t};\n\t\t\n\t\t\tthis.completed = function () {\n\t\t\t\treturn this.game.demoMode || this.hasOwnProperty('isComplete') && this.isComplete || !this.requiredQueue || this.hasOwnProperty('requiredQueue') && this.requiredQueue.length === 0;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag behavior\">Behavior</span>\n\t\t  * Marks a scope \"complete\" by seting `isComplete` to `true` and add the `COMPLETE` state flag.\n\t\t  * @function module:types/Entity~Entity#complete\n\t\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t\t  */\n\t\t\tthis.behavior('complete', function () {\n\t\t\t\tif (this.hasOwnProperty('isComplete') && this.isComplete) return false;\n\t\t\n\t\t\t\tthis.isComplete = true;\n\t\t\t\tthis.addClass('COMPLETE');\n\t\t\n\t\t\t\treturn {\n\t\t\t\t\tbehaviorTarget: this\n\t\t\t\t};\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag behavior\">Behavior</span>\n\t\t  * Reports a drggable has been grabbed for dragging.\n\t\t  * @function module:types/Entity~Entity#grab\n\t\t  * @arg {object} _state - An object containing the state of a draggable.\n\t\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t\t  *\n\t\t  * @see module:play~pl.game.manager.draggable for more info on draggable state.\n\t\t  */\n\t\t\tthis.behavior('grab', function (_state) {\n\t\t\t\treturn {\n\t\t\t\t\tstate: _state,\n\t\t\t\t\tbehaviorTarget: _state.$draggable\n\t\t\t\t};\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag behavior\">Behavior</span>\n\t\t  * Reports a draggable as being dragged.\n\t\t  * @function module:types/Entity~Entity#dragging\n\t\t  * @arg {object} _state - An object containing the state of a draggable.\n\t\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t\t  *\n\t\t  * @see module:play~pl.game.manager.draggable for more info on draggable state.\n\t\t  */\n\t\t\tthis.behavior('dragging', function (_state) {\n\t\t\t\treturn {\n\t\t\t\t\tstate: _state,\n\t\t\t\t\tbehaviorTarget: _state.$draggable\n\t\t\t\t};\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag behavior\">Behavior</span>\n\t\t  * Reports a drggable as released or droped.\n\t\t  * @function module:types/Entity~Entity#release\n\t\t  * @arg {object} _state - An object containing the state of a draggable.\n\t\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t\t  *\n\t\t  * @see module:play~pl.game.manager.draggable for more info on draggable state.\n\t\t  */\n\t\t\tthis.behavior('release', function (_state) {\n\t\t\t\treturn {\n\t\t\t\t\tstate: _state,\n\t\t\t\t\tbehaviorTarget: _state.$draggable\n\t\t\t\t};\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds `OPEN` and removes the `LEAVE` CSS class names from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#open\n\t\t  * @fires Entity#ui-open\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `OPEN` class name.\n\t\t  * @function module:types/Entity~Entity#opened\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Open'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `OPEN` class name.\n\t\t  * @function module:types/Entity~Entity#getOpened\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('open opened', '+OPEN -LEAVE');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Removes the `OPEN` CSS class name from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#close\n\t\t  * @fires Entity#ui-close\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.state('close', '-OPEN');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds the `LEAVE` CSS class name to the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#leave\n\t\t  * @fires Entity#ui-leave\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `LEAVE` class name.\n\t\t  * @function module:types/Entity~Entity#left\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Leave'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `LEAVE` class name.\n\t\t  * @function module:types/Entity~Entity#getLeft\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('leave left', '+LEAVE', {\n\t\t\t\twillSet: function willSet(_target) {\n\t\t\t\t\tthis.close(_target);\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds `ENABLED` and removes the `DISABLED` CSS class names from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#enable\n\t\t  * @fires Entity#ui-enable\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `ENABLED` class name.\n\t\t  * @function module:types/Entity~Entity#enabled\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Enabled'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `ENABLED` class name.\n\t\t  * @function module:types/Entity~Entity#getEnabled\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('enable enabled', '+ENABLED -DISABLED');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds `DISABLED` and removes the `ENABLED` CSS class names from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#disable\n\t\t  * @fires Entity#ui-disable\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `DISABLED` class name.\n\t\t  * @function module:types/Entity~Entity#disabled\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Disabled'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `DISABLED` class name.\n\t\t  * @function module:types/Entity~Entity#getDisabled\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('disable disabled', '+DISABLED -ENABLED');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds the `SELECTED` CSS class name to the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#select\n\t\t  * @fires Entity#ui-select\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `SELECTED` class name.\n\t\t  * @function module:types/Entity~Entity#selected\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Selected'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `SELECTED` class name.\n\t\t  * @function module:types/Entity~Entity#getDisabled\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('select selected', '+SELECTED', {\n\t\t\t\twillSet: function willSet(_target) {\n\t\t\t\t\tvar target, $parent;\n\t\t\n\t\t\t\t\ttarget = resolveTarget.call(this, _target);\n\t\t\t\t\t$parent = target.parent();\n\t\t\n\t\t\t\t\t$parent.find('> .SELECTED').each(this.bind(function (_index, _node) {\n\t\t\t\t\t\tthis.deselect(_node);\n\t\t\t\t\t}));\n\t\t\t\t\t$parent.find('> .HIGHLIGHTED').each(this.bind(function (_index, _node) {\n\t\t\t\t\t\tthis.unhighlight(_node);\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Removes the `SELECTED` CSS class name from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#deselect\n\t\t  * @fires Entity#ui-deselect\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.state('deselect', '-SELECTED');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds the `HIGHLIGHTED` CSS class name to the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#highlight\n\t\t  * @fires Entity#ui-highlight\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `HIGHLIGHTED` class name.\n\t\t  * @function module:types/Entity~Entity#highlighted\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Highlighted'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `HIGHLIGHTED` class name.\n\t\t  * @function module:types/Entity~Entity#getHighlighted\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('highlight highlighted', '+HIGHLIGHTED');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Removes the `HIGHLIGHTED` CSS class name from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#unhighlight\n\t\t  * @fires Entity#ui-unhighlight\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.state('unhighlight', '-HIGHLIGHTED');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds the `DRAGGABLE` CSS class name to the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#draggable\n\t\t  * @fires Entity#ui-draggable\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `DRAGGABLE` class name.\n\t\t  * @function module:types/Entity~Entity#dragEnabled\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Draggable'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `DRAGGABLE` class name.\n\t\t  * @function module:types/Entity~Entity#getDragEnabled\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('draggable dragEnabled', '+DRAGGABLE', {\n\t\t\t\tdidSet: function didSet(_target) {\n\t\t\t\t\tthis.translate(resolveTarget.call(this, _target));\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Removes the `DRAGGABLE` CSS class name from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#undraggable\n\t\t  * @fires Entity#ui-undraggable\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.state('undraggable', '-DRAGGABLE');\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds the `TRANSLATED` CSS class name to the scope or the given `_target`. The target also gets a 2d transform at the given `_point`.\n\t\t  * @function module:types/Entity~Entity#translate\n\t\t  * @fires Entity#ui-translate\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @arg {module:types/Dimensions~Point} _point - Point object with coordinates {x,y}.\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Adds the `TRANSLATED` CSS class name to the scope. The scope also gets a 2d transform at the given `_point`.\n\t\t  * @function module:types/Entity~Entity#translate\n\t\t  * @fires Entity#ui-translate\n\t\t  * @arg {module:types/Dimensions~Point} _point - Point object with coordinates {x,y}.\n\t\t  * @returns `this`\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Tests if the scope or given `_target` has the `TRANSLATED` class name.\n\t\t  * @function module:types/Entity~Entity#translated\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns {Boolean} Translate'ness.\n\t\t  */\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Provides the elements with the `TRANSLATED` class name.\n\t\t  * @function module:types/Entity~Entity#getTranslated\n\t\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t\t  * @todo Return scope if available.\n\t\t  */\n\t\t\tthis.state('translate translated', '+TRANSLATED', {\n\t\t\t\twillSet: function willSet(_target_point, _point) {\n\t\t\t\t\tvar point, target;\n\t\t\n\t\t\t\t\ttarget = resolveTarget.call(this, _target_point);\n\t\t\t\t\tpoint = ! ~[_target_point.x, _target_point.y].indexOf(undefined) ? _target_point : _point;\n\t\t\n\t\t\t\t\tif (point) {\n\t\t\t\t\t\ttarget.css('transform', 'translateX(' + point.x + 'px) translateY(' + point.y + 'px)');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * <span class=\"tag state\">State</span>\n\t\t  * Removes the `TRANSLATED` CSS class name and CSS transform from the scope or the given `_target`.\n\t\t  * @function module:types/Entity~Entity#untranslate\n\t\t  * @fires Entity#ui-untranslate\n\t\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.state('untranslate', '-TRANSLATED', {\n\t\t\t\twillSet: function willSet() {\n\t\t\t\t\tthis.css('transform', 'none');\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t\tthis.state('gate gated', '+GATED');\n\t\t});\n\t\t\n\t\texports['default'] = { Entity: Entity, invokeResponsibilities: invokeResponsibilities };\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 94 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t*  Screen\n\t\t*  @desc Contains...\n\t\t*  @proto Entity\n\t\t*/\n\t\t\n\t\tvar _typesEntity = __webpack_require__(93);\n\t\t\n\t\tvar Screen = _typesEntity.Entity.extend(function () {\n\t\t\n\t\t\tfunction attachBehaviorEvent() {\n\t\t\t\tthis.on('behavior', function (_event) {\n\t\t\t\t\t// console.log('SCREEN GOT', _event.targetScope.id(), _event.name);\n\t\t\n\t\t\t\t\tif (this !== _event.targetScope) {\n\t\t\t\t\t\t_typesEntity.invokeResponsibilities(this, _event);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tthis.propagateBehavior(_event);\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tthis.baseType = 'TYPE_SCREEN';\n\t\t\tthis.game = null;\n\t\t\tthis.screen = null;\n\t\t\n\t\t\tthis.__init = function () {\n\t\t\t\tthis.proto();\n\t\t\n\t\t\t\tif (this.is(pl.game.config('screenSelector'))) {\n\t\t\t\t\tattachBehaviorEvent.call(this);\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\tthis.start = function () {\n\t\t\t\tthis.startAudio();\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.stop = function () {\n\t\t\t\tthis.stopAudio();\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.startAudio = function () {\n\t\t\t\tif (!this.audio) return;\n\t\t\t\tthis.audio.background.play();\n\t\t\t\tthis.audio.voiceOver.play();\n\t\t\t};\n\t\t\n\t\t\tthis.stopAudio = function () {\n\t\t\t\tif (!this.audio) return;\n\t\t\t\tthis.audio.voiceOver.stop('@ALL');\n\t\t\t};\n\t\t\n\t\t\tthis.index = function () {\n\t\t\t\tif (this === this.screen) return this.game.screens.indexOf(this);\n\t\t\t\treturn this.$els.index();\n\t\t\t};\n\t\t\n\t\t\tthis.next = function () {\n\t\t\t\tif (!this.completed()) return false;\n\t\t\t\treturn this.game.screens[this.screen.index() + 1];\n\t\t\t};\n\t\t\n\t\t\tthis.prev = function () {\n\t\t\t\treturn this.game.screens[this.screen.index() - 1];\n\t\t\t};\n\t\t\n\t\t\tthis.quit = function () {\n\t\t\t\tthis.game.quit.open();\n\t\t\t};\n\t\t\n\t\t\tthis.nextSib = function () {\n\t\t\t\treturn $.fn.next.apply(this.$els, arguments);\n\t\t\t};\n\t\t\n\t\t\tthis.prevSib = function () {\n\t\t\t\treturn $.fn.prev.apply(this.$els, arguments);\n\t\t\t};\n\t\t\n\t\t\tthis.isLast = function () {\n\t\t\t\treturn this.game.screens.indexOf(this.screen) === this.game.screens.length - 1;\n\t\t\t};\n\t\t});\n\t\t\n\t\texports['default'] = Screen;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 95 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _Object$defineProperties = __webpack_require__(15)['default'];\n\t\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * Node scope for the top level game node.\n\t\t */\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar _playGame = __webpack_require__(24);\n\t\t\n\t\tvar _playGame2 = _interopRequireDefault(_playGame);\n\t\t\n\t\tvar _typesGlobalScope = __webpack_require__(30);\n\t\t\n\t\tvar _typesGlobalScope2 = _interopRequireDefault(_typesGlobalScope);\n\t\t\n\t\tvar _typesScreen = __webpack_require__(94);\n\t\t\n\t\tvar _typesScreen2 = _interopRequireDefault(_typesScreen);\n\t\t\n\t\tvar _typesCollection = __webpack_require__(29);\n\t\t\n\t\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\t\n\t\tvar _typesScope = __webpack_require__(31);\n\t\t\n\t\tvar _typesDimensions = __webpack_require__(14);\n\t\t\n\t\tvar _typesAudioManager = __webpack_require__(42);\n\t\t\n\t\tvar Game = _typesGlobalScope2['default'].extend(function () {\n\t\t\n\t\t\tvar Viewport, screenPrototype, platformEventHandler;\n\t\t\n\t\t\t/**\n\t\t  * Scales the game view to fill the browser window.\n\t\t  */\n\t\t\tfunction scaleGame() {\n\t\t\t\tvar vpSize, gameDimensions, width, height, zoom;\n\t\t\n\t\t\t\tvpSize = this.viewport.size();\n\t\t\t\tgameDimensions = _playGame2['default'].config('dimensions');\n\t\t\t\twidth = gameDimensions.width || this.width();\n\t\t\t\theight = Math.round(gameDimensions.width / gameDimensions.ratio);\n\t\t\t\tzoom = this.viewport.width / width;\n\t\t\n\t\t\t\tif (Math.round(height * zoom) > this.viewport.height) {\n\t\t\t\t\tzoom = (this.viewport.height / height).toPrecision(4);\n\t\t\t\t}\n\t\t\n\t\t\t\t_util2['default'].mixin(this.node().style, {\n\t\t\t\t\twidth: width + 'px',\n\t\t\t\t\tzoom: zoom\n\t\t\t\t});\n\t\t\n\t\t\t\tif (!this.css('zoom')) {\n\t\t\t\t\tthis.css({\n\t\t\t\t\t\ttransform: 'scale(' + zoom + ')',\n\t\t\t\t\t\ttransformOrigin: (zoom < 1 ? '0px' : '50%') + ' 0px 0px',\n\t\t\t\t\t\theight: this.viewport.height / zoom\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.zoom = zoom;\n\t\t\t}\n\t\t\n\t\t\tfunction demoMode(_set) {\n\t\t\t\tthis.demoMode = _set != null ? _set : !this.demoMode;\n\t\t\t\tthis[this.demoMode ? 'addClass' : 'removeClass']('DEMO');\n\t\t\n\t\t\t\tconsole.info(this.id(), 'is now ' + (this.demoMode ? 'in' : 'out of') + ' Demo Mode.');\n\t\t\t}\n\t\t\n\t\t\tfunction collectVideos() {\n\t\t\t\tthis.find('video').each((function (_index, _node) {\n\t\t\t\t\tthis.media.video.add(_node);\n\t\t\n\t\t\t\t\t_node.onplay = (function () {\n\t\t\t\t\t\tvar playing = this.media.playing('.background, .voiceOver');\n\t\t\t\t\t\tif (playing) playing.stop('@ALL');\n\t\t\t\t\t\tthis.log('video play', playing);\n\t\t\t\t\t}).bind(this);\n\t\t\t\t}).bind(this));\n\t\t\t}\n\t\t\n\t\t\tscreenPrototype = _typesScreen2['default'];\n\t\t\tplatformEventHandler = new function () {\n\t\t\n\t\t\t\tthis.invoke = function (_event, _ctx) {\n\t\t\t\t\tif (typeof this[_event.name] === 'function') {\n\t\t\t\t\t\tthis[_event.name].call(_ctx, _event);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tthis['toggle-demo-mode'] = function (_set) {\n\t\t\t\t\tdemoMode.call(this);\n\t\t\t\t};\n\t\t\t}();\n\t\t\n\t\t\tthis.baseType = 'TYPE_GAME';\n\t\t\tthis.screens = null;\n\t\t\tthis.zoom = 1;\n\t\t\tthis.keyCommands = null;\n\t\t\tthis.demoMode = false;\n\t\t\tthis.media = null;\n\t\t\tthis.viewport = new function () {\n\t\t\t\tvar vp, $html, RESIZE_HANDLERS;\n\t\t\n\t\t\t\tvp = this;\n\t\t\t\t$html = $('html');\n\t\t\t\tRESIZE_HANDLERS = [];\n\t\t\n\t\t\t\t$(window).on('resize', function (_event) {\n\t\t\t\t\tif (!$html.hasClass(vp.orientation)) {\n\t\t\t\t\t\t$html.removeClass('squareish landscape protrait').addClass(vp.orientation);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tRESIZE_HANDLERS.forEach(function (_handler) {\n\t\t\t\t\t\t_handler(_event);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\n\t\t\t\tthis.LANDSCAPE = 'landscape';\n\t\t\t\tthis.PROTRAIT = 'protrait';\n\t\t\t\tthis.SQUAREISH = 'squareish';\n\t\t\n\t\t\t\tthis.size = function () {\n\t\t\t\t\treturn _typesDimensions.Size.create().set(window.innerWidth, window.innerHeight);\n\t\t\t\t};\n\t\t\n\t\t\t\t_Object$defineProperties(this, {\n\t\t\t\t\twidth: {\n\t\t\t\t\t\tget: function get() {\n\t\t\t\t\t\t\treturn window.innerWidth;\n\t\t\t\t\t\t},\n\t\t\n\t\t\t\t\t\tconfigurable: false\n\t\t\t\t\t},\n\t\t\n\t\t\t\t\theight: {\n\t\t\t\t\t\tget: function get() {\n\t\t\t\t\t\t\treturn window.innerHeight;\n\t\t\t\t\t\t},\n\t\t\n\t\t\t\t\t\tconfigurable: false\n\t\t\t\t\t},\n\t\t\n\t\t\t\t\torientation: {\n\t\t\t\t\t\tget: function get() {\n\t\t\t\t\t\t\tvar ratio = this.size().ratio();\n\t\t\n\t\t\t\t\t\t\tswitch (true) {\n\t\t\t\t\t\t\t\tcase ratio > 0.9 && ratio < 1.1:\n\t\t\t\t\t\t\t\t\treturn 'squareish';\n\t\t\t\t\t\t\t\tcase ratio > 1.1:\n\t\t\t\t\t\t\t\t\treturn 'landscape';\n\t\t\t\t\t\t\t\tcase ratio < 0.9:\n\t\t\t\t\t\t\t\t\treturn 'protrait';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\tthis.onResize = function (_handler) {\n\t\t\t\t\tRESIZE_HANDLERS.push(_handler);\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.offResize = function (_handler) {\n\t\t\t\t\tvar index = RESIZE_HANDLERS.indexOf(_handler);\n\t\t\n\t\t\t\t\tif (~index) RESIZE_HANDLERS.splice(index, 1);\n\t\t\t\t};\n\t\t\n\t\t\t\t$html.addClass(this.orientation);\n\t\t\t}();;\n\t\t\n\t\t\tthis.willInit = function () {\n\t\t\t\tthis.addClass('pl-game');\n\t\t\n\t\t\t\tscaleGame.call(this);\n\t\t\t\tthis.watchAudio();\n\t\t\t\tthis.captureScreens();\n\t\t\n\t\t\t\tthis.viewport.onResize(this.bind(scaleGame));\n\t\t\n\t\t\t\tpl.game.on('platform-event', this.bind(function (_event) {\n\t\t\t\t\tplatformEventHandler.invoke(_event, this);\n\t\t\t\t}));\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Watch for specific keys or combination of keys. NOTE: meta key commands DO NOT support chords (i.e. meta+K,B).\n\t\t  * ### Key Names\n\t\t  * - *meta*: Command (aka Apple  or win)\n\t\t  * - *alt*: Alt (aka Option )\n\t\t  * - *shift*: Shift \n\t\t  * - *ctrl*: Control ^\n\t\t  * - *enter*: Enter or Return\n\t\t  * - *esc*: Escape\n\t\t  * - *left*: Left arrow\n\t\t  * - *up*: Up arrow\n\t\t  * - *right*: Right arrow\n\t\t  * - *down*: Down arrow\n\t\t  *\n\t\t  * ### Example\n\t\t  * ```javascript\n\t\t  * // Overriding print.\n\t\t  * this.game.onKeys('cmd+P', printHandler);\n\t\t  *\n\t\t  * // Holding Control and pressing \"K\" then \"B\"\n\t\t  * this.game.onKeys('ctrl+K,B', handler);\n\t\t  * ```\n\t\t  * @arg {string} _commands - The key or sequence of keys.\n\t\t  * @arg {function} _handler - Your event handler for when you key pattern is matched.\n\t\t  * @returns `this`\n\t\t  */\n\t\t\tthis.onKeys = function (_commands, _handler) {\n\t\t\t\tvar sequence, chords, modifiers, map;\n\t\t\n\t\t\t\tif (!this.keyCommands) {\n\t\t\t\t\tthis.keyCommands = {};\n\t\t\n\t\t\t\t\tmap = {\n\t\t\t\t\t\t13: 'enter',\n\t\t\t\t\t\t16: 'shift',\n\t\t\t\t\t\t17: 'ctrl',\n\t\t\t\t\t\t18: 'alt',\n\t\t\t\t\t\t27: 'esc',\n\t\t\t\t\t\t37: 'left',\n\t\t\t\t\t\t38: 'up',\n\t\t\t\t\t\t39: 'right',\n\t\t\t\t\t\t40: 'down',\n\t\t\t\t\t\t91: 'meta',\n\t\t\t\t\t\tenter: 13,\n\t\t\t\t\t\tshift: 16,\n\t\t\t\t\t\tctrl: 17,\n\t\t\t\t\t\talt: 18,\n\t\t\t\t\t\tesc: 27,\n\t\t\t\t\t\tleft: 37,\n\t\t\t\t\t\tup: 38,\n\t\t\t\t\t\tright: 39,\n\t\t\t\t\t\tdown: 40,\n\t\t\t\t\t\tmeta: 91\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tmodifiers = [16, 17, 18, 91];\n\t\t\t\t\tsequence = [];\n\t\t\t\t\tchords = [];\n\t\t\n\t\t\t\t\tthis.on('keydown', function (_event) {\n\t\t\t\t\t\tvar modifier, key, eventMods, currentMods, command, handler;\n\t\t\n\t\t\t\t\t\tmodifier = !! ~modifiers.indexOf(_event.keyCode) && map[_event.keyCode];\n\t\t\t\t\t\tkey = modifier ? modifier : map[_event.keyCode] || String.fromCharCode(_event.keyCode);\n\t\t\t\t\t\teventMods = [_event.shiftKey, _event.ctrlKey, _event.altKey, _event.metaKey];\n\t\t\t\t\t\tcurrentMods = [];\n\t\t\n\t\t\t\t\t\t// Collect the modifiers the event says are still down.\n\t\t\t\t\t\teventMods.forEach(function (_modifierDown, _index) {\n\t\t\t\t\t\t\t// use the modifier name\n\t\t\t\t\t\t\tif (_modifierDown) currentMods.push(map[modifiers[_index]]);\n\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t// Don't add keys we already have during rapid-fire events\n\t\t\t\t\t\tif (~chords.indexOf(key) || ~sequence.indexOf(key)) return;\n\t\t\n\t\t\t\t\t\t// Construct the command\n\t\t\t\t\t\tcommand = chords.length ? (chords.push(key), chords.join(',')) : (sequence.push(key), sequence.join('+'));\n\t\t\n\t\t\t\t\t\thandler = this.keyCommands[command];\n\t\t\n\t\t\t\t\t\tif (handler) {\n\t\t\t\t\t\t\thandler.call(this, _event, command);\n\t\t\t\t\t\t\t// Keep current modifiers.\n\t\t\t\t\t\t\tsequence = currentMods.map(function (_key, _index) {\n\t\t\t\t\t\t\t\tvar key = sequence[_index];\n\t\t\t\t\t\t\t\treturn currentMods[currentMods.indexOf(key)];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tchords = [];\n\t\t\n\t\t\t\t\t\t\t// Override original key command (i.e. meta+Q).\n\t\t\t\t\t\t\t_event.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tthis.on('keyup', function (_event) {\n\t\t\t\t\t\tvar key, index, modifier, eventMods, currentMods;\n\t\t\n\t\t\t\t\t\tkey = modifier ? modifier : map[_event.keyCode] || String.fromCharCode(_event.keyCode);\n\t\t\t\t\t\tindex = sequence.indexOf(key);\n\t\t\t\t\t\tmodifier = !! ~modifiers.indexOf(_event.keyCode) && map[_event.keyCode];\n\t\t\t\t\t\t// Follows the same index order as \"modifiers\" [16, 17, 18, 91]\n\t\t\t\t\t\teventMods = [_event.shiftKey, _event.ctrlKey, _event.altKey, _event.metaKey];\n\t\t\t\t\t\tcurrentMods = [];\n\t\t\n\t\t\t\t\t\t// Collect the modifiers the event says are still down.\n\t\t\t\t\t\teventMods.forEach(function (_modifierDown, _index) {\n\t\t\t\t\t\t\t// use the modifier name\n\t\t\t\t\t\t\tif (_modifierDown) currentMods.push(map[modifiers[_index]]);\n\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t// If the key released is a modifier...\n\t\t\t\t\t\tif (key === modifier) {\n\t\t\t\t\t\t\t// ...keep current modifiers...\n\t\t\t\t\t\t\tsequence = currentMods.map(function (_key, _index) {\n\t\t\t\t\t\t\t\tvar key = sequence[_index];\n\t\t\t\t\t\t\t\treturn currentMods[currentMods.indexOf(key)];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// ...clear registered chords.\n\t\t\t\t\t\t\tchords = [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// If we had pressed more than one key...\n\t\t\t\t\t\t\tif (sequence.length > 1) {\n\t\t\t\t\t\t\t\t// Check if the first is a modifier then switch to chord capturing\n\t\t\t\t\t\t\t\tif (~modifiers.indexOf(map[sequence[0]])) {\n\t\t\t\t\t\t\t\t\tchords.push(sequence.join('+'));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\tif (~index) sequence.splice(index, 1);\n\t\t\t\t\t\t\tif (!sequence.length) chords = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.keyCommands[_commands] = _handler;\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.screen = function (_id, _implementation) {\n\t\t\t\tvar prototype, selector, screenSelector, instance;\n\t\t\n\t\t\t\tif (arguments.length === 1 && typeof _id === 'function') {\n\t\t\t\t\tscreenPrototype = _typesScreen2['default'].extend(_id);\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!this.hasOwnProperty('screens')) this.screens = _typesCollection2['default'].create();\n\t\t\n\t\t\t\tif (this.hasOwnProperty('$els')) {\n\t\t\t\t\tdebugger;\n\t\t\t\t\tscreenSelector = pl.game.config('screenSelector');\n\t\t\t\t\tprototype = screenPrototype.isPrototypeOf(this) ? this : screenPrototype;\n\t\t\t\t\tselector = typeof _id === 'number' ? screenSelector + ':nth-child(' + (_id + 1) + ')' : '#' + _id;\n\t\t\t\t\tinstance = prototype.extend(_implementation).initialize(this.find(selector));\n\t\t\n\t\t\t\t\tinstance.screen = instance;\n\t\t\t\t\tif (!instance.game) {\n\t\t\t\t\t\tinstance.game = instance.closest('.pl-game').scope();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.screens.push({\n\t\t\t\t\t\tindex: typeof _id === 'number' ? _id : null,\n\t\t\t\t\t\tname: typeof _id === 'string' ? _id : null,\n\t\t\t\t\t\timplementation: _implementation\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.captureScreens = function () {\n\t\t\t\tvar screenSelector, prototype, collection;\n\t\t\n\t\t\t\tscreenSelector = pl.game.config('screenSelector');\n\t\t\t\tprototype = screenPrototype.isPrototypeOf(this) ? this : screenPrototype;\n\t\t\t\tcollection = [];\n\t\t\n\t\t\t\tthis.findOwn(screenSelector).each(this.bind(function (_index, _node) {\n\t\t\t\t\tvar $node, screen, record, key, id, index, component;\n\t\t\n\t\t\t\t\t$node = $(_node);\n\t\t\t\t\tid = $node.id();\n\t\t\t\t\tkey = id ? 'name' : (id = _index, 'index');\n\t\t\t\t\trecord = this.screens && this.screens.get(id, key);\n\t\t\t\t\tcomponent = $node.attr('pl-component');\n\t\t\t\t\tscreen = _typesScope.createEntity.call(prototype, $node, record && record.implementation);\n\t\t\t\t\tscreen.screen = screen;\n\t\t\t\t\tscreen.game = this;\n\t\t\n\t\t\t\t\tif ($node.attr('pl-skip') == null) collection.push(screen);\n\t\t\n\t\t\t\t\tif (key === 'name' || component) {\n\t\t\t\t\t\t_util2['default'].assignRef(this, _util2['default'].transformId(key === 'name' && id || component, true), screen);\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\n\t\t\t\tif (collection.length) this.screens = collection;\n\t\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\n\t\t\tthis.watchAudio = function () {\n\t\t\t\tthis.media = _typesAudioManager.MediaManager.create(this.id());\n\t\t\n\t\t\t\t/**\n\t\t   * Prevent duplicate playback of voiceOvers and backgrounds.\n\t\t   */\n\t\t\t\tthis.media.rule('.background, .voiceOver', 'shouldPlay', function (_event) {\n\t\t\t\t\tvar playing = this.playing() || [];\n\t\t\t\t\t// shouldPlay = false if _event.target is already playing.\n\t\t\t\t\t_event.response(!playing || !playing.length || ! ~playing.indexOf(_event.target) && !playing.has(_event.target.fileName));\n\t\t\t\t});\n\t\t\n\t\t\t\t/**\n\t\t   * \n\t\t   */\n\t\t\t\tthis.media.rule('.voiceOver', function (_event) {\n\t\t\t\t\tvar audio, playing;\n\t\t\n\t\t\t\t\taudio = _event.target;\n\t\t\t\t\tplaying = audio && this.playing('.audio:not(#' + audio.id() + ')');\n\t\t\n\t\t\t\t\tswitch (_event.type) {\n\t\t\t\t\t\tcase 'play':\n\t\t\t\t\t\t\tif (playing) {\n\t\t\t\t\t\t\t\tplaying.filter('.voiceOver').stop('@ALL');\n\t\t\t\t\t\t\t\tplaying.filter('.background').volume(_playGame2['default'].config('bgVolume.drop') || 0.2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\tcase 'pause':\n\t\t\t\t\t\tcase 'stopped':\n\t\t\t\t\t\tcase 'ended':\n\t\t\t\t\t\t\tif (playing) playing.filter('.background').volume(_playGame2['default'].config('bgVolume.max') || 1);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\tthis.media.rule('.background', 'play', function (_event) {\n\t\t\t\t\tvar playing = this.playing('.background:not(#' + _event.target.id() + ')');\n\t\t\t\t\tif (playing) playing.stop('@ALL');\n\t\t\t\t});\n\t\t\n\t\t\t\tif (~pl.EVENT.ACTION.indexOf('touch')) {\n\t\t\t\t\tthis.on(pl.EVENT.ACTION, function beginAudio(_event) {\n\t\t\t\t\t\tvar ctx, screen;\n\t\t\n\t\t\t\t\t\tctx = _playGame2['default'].getAudioContext();\n\t\t\t\t\t\tscreen = this.currentScreen();\n\t\t\n\t\t\t\t\t\tif (screen && ctx && ctx.state === 'suspended') {\n\t\t\t\t\t\t\t_playGame2['default'].enableAudioContext();\n\t\t\t\t\t\t\tthis.log('awesome!');\n\t\t\t\t\t\t\tscreen.startAudio();\n\t\t\t\t\t\t\tthis.off(pl.EVENT.ACTION, beginAudio);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tcollectVideos.call(this);\n\t\t\t};\n\t\t\n\t\t\tthis.progress = function () {\n\t\t\t\treturn {\n\t\t\t\t\tcurrentScreen: this.currentScreen().index()\n\t\t\t\t};\n\t\t\t};\n\t\t\n\t\t\tthis.currentScreen = function () {\n\t\t\t\treturn this.findOwn(pl.game.config('screenSelector') + '.OPEN').not('#quit').scope();\n\t\t\t};\n\t\t\n\t\t\tthis.flip = function () {\n\t\t\t\tconsole.log('THATS A FLIP!');\n\t\t\t\t_playGame2['default'].report.flip(this);\n\t\t\t};\n\t\t\n\t\t\tthis.exit = function () {\n\t\t\t\tconsole.log('GOODBYE!');\n\t\t\t\t_playGame2['default'].report.exit(this);\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t  * Demo mode key command\n\t\t  */\n\t\t\tthis.onKeys('ctrl+D,M', function () {\n\t\t\t\tdemoMode.call(this);\n\t\t\t});\n\t\t\n\t\t\t/**\n\t\t  * Keyboard screen navigation\n\t\t  */\n\t\t\tthis.onKeys('left', function () {\n\t\t\t\tvar current;\n\t\t\n\t\t\t\tcurrent = this.currentScreen();\n\t\t\n\t\t\t\tif (current) current.prev();\n\t\t\t});\n\t\t\n\t\t\tthis.onKeys('right', function () {\n\t\t\t\tvar current;\n\t\t\n\t\t\t\tcurrent = this.currentScreen();\n\t\t\n\t\t\t\tif (current) current.next();\n\t\t\t});\n\t\t});\n\t\t\n\t\texports['default'] = Game;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ },\n\t/* 96 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\t\n\t\texports.__esModule = true;\n\t\t/**\n\t\t * API for communicaion between a game and the platform.\n\t\t *\n\t\t * @module\n\t\t */\n\t\t\n\t\tvar _util = __webpack_require__(18);\n\t\t\n\t\tvar _util2 = _interopRequireDefault(_util);\n\t\t\n\t\tvar platform = new function () {\n\t\t\n\t\t\tfunction createEvent(_name, _props) {\n\t\t\t\tvar eventObject;\n\t\t\n\t\t\t\teventObject = _util2['default'].mixin(new Event('game-event', { bubbles: true, cancelable: false }), {\n\t\t\t\t\tname: _name,\n\t\t\t\t\trespond: function respond(_data) {\n\t\t\t\t\t\tvar platformEvent;\n\t\t\n\t\t\t\t\t\tplatformEvent = $.Event('platform-event', {\n\t\t\t\t\t\t\tname: _name,\n\t\t\t\t\t\t\tgameData: _data\n\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\tpl.game.trigger(platformEvent);\n\t\t\t\t\t}\n\t\t\t\t}, _props);\n\t\t\n\t\t\t\treturn eventObject;\n\t\t\t}\n\t\t\n\t\t\tthis.EVENT_INIT = 'init';\n\t\t\tthis.EVENT_SAVE = 'save';\n\t\t\tthis.EVENT_EXIT = 'exit';\n\t\t\tthis.EVENT_FLIPPED = 'flipped';\n\t\t\n\t\t\tthis.emit = function (_name) {\n\t\t\t\tif (window.frameElement) window.frameElement.dispatchEvent(createEvent(_name));\n\t\t\t};\n\t\t\n\t\t\tthis.saveGameState = function (_data) {\n\t\t\t\tif (window.frameElement) window.frameElement.dispatchEvent(createEvent(this.EVENT_SAVE, { gameData: _data }));\n\t\t\t};\n\t\t\n\t\t\twindow.addEventListener('platform-event', function (_event) {\n\t\t\t\tvar platformEvent;\n\t\t\n\t\t\t\tplatformEvent = $.Event('platform-event', {\n\t\t\t\t\tname: _event.name\n\t\t\t\t});\n\t\t\n\t\t\t\tpl.game.trigger(platformEvent);\n\t\t\t});\n\t\t}();\n\t\t\n\t\texports['default'] = platform;\n\t\tmodule.exports = exports['default'];\n\t\n\t/***/ }\n\t/******/ ]);\n\t//# sourceMappingURL=play.js.map\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** polar-bear/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 32273ef62d5f52f218ba\n **/","pl.game.component('cannon', function () {\n\n\tthis.entity('ball', function () {\n\t\t\n\t\tthis.reloadRequest = false;\n\t\tthis.isLaunchComplete = false;\n\n\t\tthis.willInit = function () {\n\t\t\tif (this.cannon.properties.ball) {\n\t\t\t\tthis.attr('src', this.cannon.properties.ball);\n\t\t\t\t// I shouldn't have to do this\n\t\t\t\tthis.on('load', function () {\n\t\t\t\t\tthis.assetQueue.ready(this.node().src);\n\t\t\t\t\tthis.off('load');\n\t\t\t\t})\n\t\t\t}\n\t\t};\n\n\t\tthis.on('transitionend', function () {\n\t\t\tthis.log('transitionend');\n\n\t\t\tthis.isLaunchComplete = true;\n\n\t\t\tif (this.launched()) {\n\t\t\t\tthis.playSFX('hit');\n\n\t\t\t\tif (this.reloadRequest) {\n\t\t\t\t\tthis.reload();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.state('launch launched', '+LAUNCHED -RELOAD', {\n\t\t\tdidSet: function () {\n\t\t\t\tthis.playSFX('fire');\n\t\t\t\tthis.isLaunchComplete = false;\n\t\t\t}\n\t\t});\n\n\t\tthis.state('reload', '+RELOAD -LAUNCHED', {\n\t\t\tshouldSet: function () {\n\t\t\t\tif (!this.isLaunchComplete) {\n\t\t\t\t\tthis.reloadRequest = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdidSet: function () {\n\t\t\t\tthis.reloadRequest = false;\n\t\t\t}\n\t\t});\n\t});\n\n\tthis.behavior('fire', function () {\n\t\tthis.ball.launch();\n\t\treturn {\n\t\t\tmessage: this.cannon.properties.fire\n\t\t};\n\t});\n\n\tthis.reload = function () {\n\t\tthis.ball.reload();\n\t};\n\n\tthis.playSFX = function (_name) {\n\t\tvar sfx;\n\n\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.'+_name);\n\n\t\tif (sfx) sfx.play();\n\n\t\treturn this;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/cannon/behavior.js\n **/","pl.game.component('carousel', function () {\n\n\tthis.TYPE = (function () {\n\t\t\n\t\tthis.SLIDE = 'slide';\n\t\tthis.CROSS_FADE = 'cross-fade';\n\n\t\treturn this;\n\n\t}).call(['slide', 'cross-fade']);\n\n\tthis.type = null\n\tthis.$images = null;\n\tthis.nodes = null;\n\tthis.shouldRandomize = false;\n\tthis.isPlaying = false;\n\n\tthis.ready = function () {\n\t\tthis.$images = this.find('img');\n\t\tthis.shouldRandomize = this.properties.has('randomize');\n\n\t\tif (this.TYPE.every(this.bind(function (_type) {\n\t\t\treturn !this.hasClass(_type);\n\t\t}))) {\n\t\t\tthis.addClass(this.TYPE.CROSS_FADE);\n\t\t}\n\n\t\tif (this.$images.length) {\n\t\t\tthis.nodes = this.$images.map(this.bind(function (_index, _node) {\n\t\t\t\tvar siblings;\n\t\t\t\t\n\t\t\t\tsiblings = [_node.previousSibling, _node.nextSibling];\n\n\t\t\t\tsiblings.forEach(function (_node) {\n\t\t\t\t\tif (_node.nodeType === document.TEXT_NODE) {\n\t\t\t\t\t\t$(_node).remove();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn _node;\n\t\t\t})).toArray();\n\t\t}\n\t\t\n\t\tthis.TYPE.forEach(this.bind(function (_item) {\n\t\t\tif (this.hasClass(_item)) this.type = _item;\n\t\t}));\n\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (_event.target.nodeName === 'IMG' && $(_event.target).state(this.STATE.LEAVE)) {\n\t\t\t\tthis.recycle();\n\t\t\t}\n\t\t});\n\t};\n\n\tthis.provideBehaviorTarget = function () {\n\t\treturn this.current();\n\t};\n\n\tthis.respond('fire', function (_event) {\n\t\tthis.hit(_event.message);\n\t});\n\n\tthis.behavior('hit', function (_message) {\n\t\treturn {\n\t\t\tmessage: _message,\n\t\t\tbehaviorTarget: this.provideBehaviorTarget()\n\t\t};\n\t});\n\n\tthis.behavior('next', function () {\n\t\tvar current;\n\n\t\tcurrent = this.$images.first();\n\n\t\tthis.leave(current);\n\t\tthis.open(current.next());\n\t});\n\n\tthis.start = function () {\n\t\tvar delay;\n\n\t\tdelay = pl.util.toMillisec(this.properties.delay) || 1000;\n\n\t\tif (this.isReady && !this.isPlaying) {\n\t\t\tthis.isPlaying = true;\n\t\t\tthis.open(this.$images.first());\n\t\t\tthis.repeat(delay, this.next);\n\t\t}\n\t\t\n\t\telse {\n\t\t\tthis.on('ready', this.beginShow);\n\t\t}\n\t};\n\n\tthis.stop = function () {\n\t\tthis.kill('repeat');\n\t\tthis.isPlaying = false;\n\t};\n\n\tthis.current = function () {\n\t\treturn this.$images.filter('.OPEN');\n\t};\n\n\tthis.recycle = function () {\n\t\tvar $current, reload;\n\n\t\t$current = this.$images.first();\n\t\treload = this.reloadWithNode(this.$images[0]);\n\n\t\t$current.removeClass(this.STATE.LEAVE);\n\t\t$current.remove();\n\n\t\t[].shift.call(this.$images);\n\n\t\tthis.$images.push(reload);\n\t\tthis.append(reload);\n\n\t\treturn this;\n\t};\n\n\tthis.reloadWithNode = function (_item) {\n\t\tvar $clone, state;\n\n\t\tif (this.shouldRandomize) {\n\t\t\t$clone = $(pl.util.random(this.nodes)).clone();\n\t\t\tstate = $clone.state();\n\n\t\t\tif (state) $clone.removeClass(state.join ? state.join(' ') : state);\n\n\t\t\treturn $clone[0];\n\t\t}\n\n\t\treturn _item;\n\t};\n\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/carousel/behavior.js\n **/","pl.game.component('frame', function () {\n\t\n\tthis.ready = function () {\n\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\tvar sfx;\n\n\t\t\t\tsfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n\t\t\t\tif (sfx) sfx.play();\n\t\t\t}));\n\t\t}\n\t};\n\n\tthis.start = function () {\n\t\tvar voSound;\n\n\t\tif (this.audio) {\n\t\t\tvoSound = this.audio.voiceOver[0];\n\n\t\t\tthis.audio.background.play();\n\t\t\tif (voSound && !voSound.config(\"dontautoplay\")) voSound.play();\n\t\t}\n\n\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n\t\treturn this;\n\t};\n\n\tthis.handleProperty({\n\t\ttitle: function (_node, _name, _value) {\n\t\t\tif (this.is(_node)) {\n\t\t\t\tthis.find('.frame').addClass('title');\n\t\t\t\tthis.game.defineRule('.experiment:nth-of-type('+(this.screen.index()+1)+') .frame-component .frame.title::before', {\n\t\t\t\t\tbackgroundImage: 'url('+ _value +')'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\tthis.on('ui-open', function (_event) {\n\t\tif (this.isReady) {\n\t\t\tthis.start();\n\t\t}\n\n\t\tif (this === _event.targetScope) {\n\t\t\tif (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && (this.requiredQueue && this.requiredQueue.length))) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\t}\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/frame/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n\tfunction validateAnswer (_scope) {\n\t\tvar $selected, answers, $correct, correctCount;\n\n\t\t$selected = _scope.getSelected();\n\n\t\tif (_scope.properties.correct) {\n\t\t\tanswers = _scope.properties.correct.split(/\\s*,\\s*/);\n\n\t\t\tif (~answers.indexOf(String($selected.index()))) {\n\t\t\t\t_scope.playSFX('correct');\n\t\t\t\t_scope.complete();\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\t_scope.playSFX('incorrect');\n\t\t\t}\n\t\t}\n\n\t\telse {\n\t\t\tcorrectCount = 0;\n\t\t\t$correct = _scope.find('[pl-correct]');\n\n\t\t\tif (~$.inArray($selected[0], $correct)) {\n\t\t\t\t_scope.playSFX('correct');\n\t\t\t\t_scope.complete();\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\t_scope.playSFX('incorrect');\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tthis.playSFX = function (_answer) {\n\t\tvar sfx;\n\n\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.'+_answer);\n\n\t\tif (sfx) sfx.play();\n\n\t\treturn sfx;\n\t};\n\n\tthis.playVO = function (_name) {\n\t\tvar vo;\n\n\t\tvo = pl.util.resolvePath(this, 'audio.voiceOver.'+_name);\n\n\t\tif (vo) vo.play();\n\n\t\treturn vo;\n\t};\n\n\tthis.answer = function () {\n\t\tif (this.screen.state(this.screen.STATE.VOICE_OVER) && !this.game.demoMode) return;\n\n\t\tif (this.event) {\n\t\t\t$li = $(this.event.target).closest('li');\n\t\t\tthis.playVO($li.id());\n\n\t\t\tif (!this.isComplete && this.select($li)) {\n\t\t\t\tvalidateAnswer(this);\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.start = function() {};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n\tthis.on('transitionend', function (_event) {\n\t\tif (!this.opened()) {\n\t\t\tthis.addClass('ANIM-DONE');\n\t\t}\n\t});\n\n\tthis.item = function (_id) {\n\t\tvar vo, index;\n\n\t\tthis.removeClass('ANIM-DONE');\n\t\tthis.open();\n\n\t\tif (typeof _id === 'number') {\n\t\t\tthis.select('li:nth-child('+_id+')');\n\t\t\tthis.audio.voiceOver[_id].play();\n\t\t}\n\t\t\t\n\t\telse if (typeof _id === 'string') {\n\t\t\tif (this[_id]) {\n\t\t\t\tthis.select(this[_id]);\n\n\t\t\t\tif (this.audio) {\n\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\t\t\t\t\n\t\t\t\t\tif (vo) vo.play();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/reveal/behavior.js\n **/","pl.game.component('score', function () {\n\n\tthis.value = 0;\n\n\tthis.entity('board', function () {\n\t\t\n\t\tthis.template = null;\n\n\t\tthis.ready = function () {\n\t\t\tthis.template = this.counter.html();\n\t\t};\n\n\t\tthis.render = function () {\n\t\t\tthis.counter.html(this.template.replace('{{score}}', this.value));\n\t\t\treturn this;\n\t\t};\n\n\t});\n\n\tthis.ready = function () {\n\t\tthis.attr('value',this.value);\n\t\tthis.board.render();\n\t};\n\n\tthis.up = function (_count) {\n\t\tthis.value+= _count || 1;\n\n\t\tthis.attr('value',this.value);\n\t\tthis.board.render();\n\n\t\tconsole.log('score', this.value, this.properties.max)\n\n\t\tif (this.value >= this.properties.max) {\n\t\t\tconsole.log('oh word');\n\t\t\tthis.complete();\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.down = function (_count) {\n\t\tthis.value-= _count || 1;\n\n\t\tthis.attr('value',this.value);\n\t\tthis.board.render();\n\t\t\n\t\tif (this.value >= this.properties.max) {\n\t\t\tthis.complete();\n\t\t}\n\n\t\treturn this;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/score/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\n\tthis.allowAction = function() {\n\t\treturn !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t};\n\n\tthis.ready = function () {\n\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\tvar sfx;\n\n\t\t\t\tsfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n\t\t\t\tif (sfx) sfx.play();\n\t\t\t}));\n\t\t}\n\t};\n\t\n\tthis.next = function () {\n\t\tvar current, nextScreen, buttonSound;\n\n\t\tif(this.hasClass('last') && this.hasClass('COMPLETE')) this.game.quit.okay();\n\n\t\tif (this !== this.screen) {\n\t\t\tthis.log('Not called on a screen');\n\t\t\tconsole.trace();\n\t\t\treturn;\n\t\t}\n\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\t// delegate to a child \"slides\" component.\n\t\tif (this.slides && this.slides.isComponent) {\n\t\t\tcurrent = this.slides.current();\n\t\t\tnextScreen = current.next();\n\n\t\t\tif (nextScreen == null) {\n\t\t\t\tcurrent = this;\n\t\t\t\tnextScreen = this.proto();\n\t\t\t}\n\t\t}\n\n\t\telse {\n\t\t\tcurrent = this;\n\t\t\tnextScreen = this.proto();\n\t\t}\n\n\t\tif (nextScreen) {\n\t\t\tcurrent.leave();\n\t\t\tnextScreen.open();\n\t\t\tif (buttonSound) buttonSound.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.prev = function () {\n\t\tvar current, prevScreen, buttonSound;\n\n\t\tif (this !== this.screen) {\n\t\t\tthis.log('Not called on a screen');\n\t\t\tconsole.trace();\n\t\t\treturn;\n\t\t}\n\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\t// delegate to a child \"slides\" component.\n\t\tif (this.slides && this.slides.isComponent) {\n\t\t\tcurrent = this.slides.current();\n\t\t\tprevScreen = current.prev();\n\n\t\t\tif (prevScreen == null) {\n\t\t\t\tcurrent = this;\n\t\t\t\tprevScreen = this.proto();\n\t\t\t}\n\t\t}\n\n\t\telse {\n\t\t\tcurrent = this;\n\t\t\tprevScreen = this.proto();\n\t\t}\n\n\t\tif (prevScreen) {\n\t\t\tcurrent.close();\n\t\t\tprevScreen.open();\n\t\t\tif (buttonSound) buttonSound.play();\n\t\t}\n\n\t\treturn prevScreen;\n\t};\n\n\tthis.start = function () {\n\t\tthis.startAudio();\n\n\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n\t\treturn this;\n\t};\n\n\tthis.on('ui-open', function (_event) {\n\t\tif (this !== _event.targetScope) return;\n\n\t\tif (this.isReady) {\n\t\t\tthis.start();\n\t\t}\n\n\t\tif (!this.isComplete) {\n\t\t\tif (!this.requiredQueue || (this.isMemberSafe('requiredQueue') && !this.requiredQueue.length)) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\t}\n\n\t\tif (this.screen.isLast()) {\n\t\t\tthis.addClass('last');\n\t\t}\n\t});\n\n\tthis.on('ui-leave', function (_event) {\n\t\tif (this.isReady && this === _event.targetScope) {\n\t\t\tthis.stop();\n\t\t}\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n\t// TODO: Make an automated way to handle this\n\tthis.on('transitionend', function (_event) {\n\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\tthis.addClass('LEAVE-END');\t\n\t\t}\n\t});\n\n\tthis.on('ui-open', function (_event) {\n\t\tthis.game.addClass('QUIT-SCREEN');\n\t\tthis.removeClass('LEAVE-END');\n\t});\n\n\tthis.on('ui-leave', function () {\n\t\tthis.game.removeClass('QUIT-SCREEN');\n\t});\n\n\tthis.init = function () {\n\t\tthis.addClass('LEAVE LEAVE-END');\n\t};\n\t\n\tthis.okay = function () {\n\t\tthis.game.exit();\n\t};\n\n\tthis.cancel = function () {\n\t\tthis.leave();\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('selectable-reveal', function () {\n\t\n\tthis.respond('select', function (_event) {\n\t\tvar index, stateMethod;\n\n\t\tindex = _event.message;\n\t\tstateMethod = this.properties.selectState || 'select';\n\n\t\tif (~index) {\n\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\tthis.reveal.item(index);\n\t\t\tthis.features.correct.ready(index);\n\t\t}\n\t});\n\n\tthis.entity('selectable', function () {\n\t\t\n\t\tthis.shouldSelect = function (_$target) {\n\t\t\tif (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0 || _$target.is('[pl-always-selectable]')) {\n\t\t\t\treturn !this.screen.state(this.STATE.VOICE_OVER) && !_$target.state(this.STATE.HIGHLIGHTED);\n\t\t\t}\n\n\t\t\treturn false; \n\t\t};\n\n\t});\n\n\tthis.ready = function () {\n\t\tvar correct;\n\n\t\tcorrect = pl.Queue.create();\n\n\t\tcorrect.on('complete', this.bind(function () {\n\t\t\tthis.complete();\n\t\t}));\n\n\t\tthis.features = this\n\t\t\t.find('.items li')\n\t\t\t.map(function (_index, _node) {\n\t\t\t\tcorrect.add(_index);\n\t\t\t\treturn _index;\n\t\t\t})\n\t\t\t.toArray();\n\n\t\tthis.features.correct = correct;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/selectable-reveal/behavior.js\n **/","pl.game.component('selectable', function () {\n\n\tthis.behavior('select', function (_target) {\n\t\tvar $target;\n\n\t\tif (this.event) {\n\t\t\t$target = $(this.event.target).closest('li');\n\n\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: $target.index(),\n\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t};\n\t\t\t}\t\n\t\t}\n\n\t\telse {\n\t\t\tthis.proto(_target);\n\t\t}\n\n\t\treturn false;\n\t});\n\n\tthis.shouldSelect = function (_target) {\n\t\tif(!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/selectable/behavior.js\n **/","pl.game.component('slides', function () {\n\t\n\tthis.slides = null;\n\n\tthis.ready = function () {\n\t\tthis.slides = this.find('> *').scope();\n\t};\n\n\tthis.start = function () {\n\t\tvar current, i, n;\n\n\t\tcurrent = this.current();\n\n\t\tif (current) {\n\t\t\tcurrent.start();\n\t\t}\n\n\t\telse if (this.slides.length) {\n\t\t\tthis.slides[0].open();\n\t\t\tfor(i = 1, n = this.slides.length; i < n; i++) {\n\t\t\t\tthis.slides[i] && this.slides[i].close();\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.current = function () {\n\t\treturn this.find('> .OPEN').scope();\n\t};\n\n\t/*\n\t * @this {frame-component-scope} called by the next button in a frame component.\n\t */\n\tthis.next = function () {\n\t\tvar index, nextSlide, buttonSound;\n\n\t\tif (!this.completed()) return false;\n\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\tindex = this.slides.indexOf(this);\n\t\tif (~index) return this.slides[index+1];\n\n\n\t\tif (~index) nextSlide = this.slides[index+1];\n\t\t\n\t\tif (nextSlide) {\n\t\t\tthis.leave();\n\t\t\tnextSlide.open();\n\n\t\t\tif (buttonSound) buttonSound.play();\n\n\t\t\treturn nextSlide;\n\t\t}\n\n\t\telse {\n\t\t\treturn this.proto();\n\t\t}\n\t};\n\n\t/*\n\t * @this {frame-component-scope} called by the next button in a frame component.\n\t */\n\tthis.prev = function () {\n\t\tvar index, prevSlide, buttonSound;\n\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\tindex = this.slides.indexOf(this);\n\t\tif (~index) return this.slides[index-1];\n\n\n\t\tif (~index) prevSlide = this.slides[index-1];\n\t\t\n\t\tif (prevSlide) {\n\t\t\tthis.close();\n\t\t\tprevSlide.open();\n\n\t\t\tif (buttonSound) buttonSound.play();\n\n\t\t\treturn prevSlide;\n\t\t}\n\n\t\telse {\n\t\t\treturn this.proto();\n\t\t}\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/slides/behavior.js\n **/","pl.game.component('title', function () {\n\n\tthis.start = function () {\n\t\tthis.proto();\n\t\tthis.showTitle();\n\t};\n\n\tthis.showTitle = function () {\n\t\tthis.image.addClass('animated '+this.image.attr('pl-animation'));\n\t\tthis.complete();\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/title/behavior.js\n **/","pl.game.config({\n\tscreenSelector: '.screen',\n\tcomponentDirectory: 'components/',\n\tdimensions: {\n\t\twidth: 960,\n\t\tratio: 16/9\n\t},\n\tshouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\n// import 'js-interactive-library';\n// Use when doing local changes to the library\nimport '../../../../../js-interactive-library/build/play.js';\n\nimport './config.game';\n\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/title/behavior';\nimport './components/frame/behavior';\nimport './components/slides/behavior';\nimport './components/carousel/behavior';\nimport './components/score/behavior';\nimport './components/reveal/behavior';\nimport './components/multiple-choice/behavior';\nimport './components/selectable/behavior';\nimport './components/selectable-reveal/behavior';\nimport './components/cannon/behavior';\n\npl.game('polar-bear', function () {\n\n\tthis.screen('title', function () {\n\t\tthis.on('ready', function (_event) {\n\t\t\t// Screens are display:none then when READY get display:block.\n\t\t\t// When a screen is OPEN then it transitions a transform,\n\t\t\t// the delay is to prevent the transition failing to play\n\t\t\t// because of collision of these styles.\n\t\t\t// \n\t\t\tif (this.is(_event.target)) this.delay(0, this.open);\n\t\t\tthis.close(this.game.loader);\n\t\t});\n\n\t\tthis.startAudio = function () {\n\t\t\tthis.title.audio.background.play();\n\t\t\tthis.title.audio.voiceOver.play();\n\t\t};\n\n\t\tthis.stopAudio = function () {\n\t\t\tthis.title.audio.voiceOver.stop('@ALL');\n\t\t};\n\t});\n\n\tthis.screen('map', function () {\n\n\t\tthis.entity('slides', function () {\n\t\t\t\n\t\t\tthis.entity('.map-entity', function () {\n\n\t\t\t\tvar SELECTOR;\n\n\t\t\t\tfunction isCorrect (_element) {\n\t\t\t\t\tvar $el;\n\n\t\t\t\t\t$el = _element.jquery ? _element : $(_element);\n\n\t\t\t\t\treturn \n\t\t\t\t}\n\n\t\t\t\tSELECTOR = {\n\t\t\t\t\tCORRECT: '[pl-correct]',\n\t\t\t\t\tINCORRECT: '[pl-incorrect]'\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.buffer = null;\n\t\t\t\tthis.bctx = null;\n\t\t\t\tthis.countries = null;\n\n\t\t\t\t// images\n\t\t\t\tthis.grayMap = null;\n\t\t\t\tthis.iceland = null;\n\t\t\t\tthis.russia = null;\n\t\t\t\tthis.northPole = null;\n\t\t\t\tthis.greenland = null;\n\t\t\t\tthis.denmark = null;\n\t\t\t\tthis.norway = null;\n\t\t\t\tthis.canada = null;\n\t\t\t\tthis.usa = null;\n\t\t\t\tthis.sweden = null;\n\t\t\t\tthis.finland = null;\n\n\t\t\t\tthis.init = function () {\n\t\t\t\t\tthis.buffer = document.createElement('canvas');\n\t\t\t\t\tthis.bctx = this.buffer.getContext('2d');\n\t\t\t\t};\n\n\t\t\t\tthis.ready = function () {\n\t\t\t\t\tvar correct, $countries;\n\n\t\t\t\t\tcorrect = pl.Queue.create();\n\n\t\t\t\t\tcorrect.on('complete', this.bind(function () {\n\t\t\t\t\t\tvar sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\t\t\t\t\tif (sfx) sfx.play();\n\t\t\t\t\t\tthis.complete();\n\t\t\t\t\t}));\n\n\t\t\t\t\tthis.buffer.width = 500;\n\t\t\t\t\tthis.buffer.height = 500;\n\n\t\t\t\t\t$countries = this.find('.country');\n\n\t\t\t\t\t$countries\n\t\t\t\t\t\t.not(SELECTOR.CORRECT)\n\t\t\t\t\t\t.on('animationend', function () {\n\t\t\t\t\t\t\t$(this).removeClass('flash').addClass('fadeIn');\n\t\t\t\t\t\t});\n\n\t\t\t\t\tthis.countries = $countries\n\t\t\t\t\t\t.map(function (_index, _node) {\n\t\t\t\t\t\t\tvar $node, id;\n\n\t\t\t\t\t\t\t$node = $(_node);\n\t\t\t\t\t\t\tid = pl.util.transformId($node.id(), true);\n\n\t\t\t\t\t\t\tif ($node.is(SELECTOR.CORRECT)) correct.add(id);\n\n\t\t\t\t\t\t\treturn id;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.toArray();\n\n\t\t\t\t\tthis.countries.correct = correct;\n\n\t\t\t\t};\n\n\t\t\t\tthis.isImageTarget = function (_image, _point) {\n\t\t\t\t\tthis.bctx.clearRect(0,0, this.buffer.width, this.buffer.height);\n\t\t\t\t\tthis.bctx.drawImage(_image[0], 0,0, _image.width(), _image.height());\n\t\t\t\t\tpixel = this.bctx.getImageData(_point.x, _point.y, 1,1);\n\n\t\t\t\t\tthis.bctx.fillStyle = 'white';\n\t\t\t\t\tthis.bctx.fillRect(_point.x, _point.y, 5,5);\n\n\t\t\t\t\t// opaque pixel\n\t\t\t\t\treturn pixel.data[3] > 0;\n\t\t\t\t};\n\n\t\t\t\tthis.test = function (_cursor) {\n\t\t\t\t\tvar offset, cursor, pixel, gameScale;\n\n\t\t\t\t\tif(!this.screen.allowAction()) return false;\n\n\t\t\t\t\toffset = this.grayMap.absolutePosition();\n\t\t\t\t\tgameScale = this.game.transformScale().x;\n\t\t\t\t\t\n\t\t\t\t\t// FireFox uses transfom scale which\n\t\t\t\t\t// does NOT produce scaled DOM values like `zoom`.\n\t\t\t\t\tif (gameScale !== 1) {\n\t\t\t\t\t\tcursor = _cursor\n\t\t\t\t\t\t\t.dec(offset)\n\t\t\t\t\t\t\t.scale(1/this.game.zoom)\n\t\t\t\t\t\t\t.math('floor');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcursor = _cursor\n\t\t\t\t\t\t\t.scale(1/this.game.zoom)\n\t\t\t\t\t\t\t.math('floor')\n\t\t\t\t\t\t\t.dec(offset);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.countries.every(this.bind(function (_country) {\n\t\t\t\t\t\tif (this.isImageTarget(this[_country], cursor)) {\n\t\t\t\t\t\t\tthis.answer( _country);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}));\n\t\t\t\t};\n\n\t\t\t\tthis.answer = function (_country) {\n\t\t\t\t\tvar $country, index;\n\n\t\t\t\t\t$country = this[_country];\n\n\t\t\t\t\tif ($country.is(SELECTOR.CORRECT)) {\n\n\t\t\t\t\t\tthis.playSFX('correct');\n\t\t\t\t\t\tthis.playVO(_country);\n\n\t\t\t\t\t\t$country.addClass('animated fadeIn');\n\n\t\t\t\t\t\tthis.countries.correct.ready(_country);\n\t\t\t\t\t}\n\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.playSFX('incorrect');\n\t\t\t\t\t\t$country.addClass('animated flash');\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.playSFX = function (_answer) {\n\t\t\t\t\tvar sfx;\n\n\t\t\t\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.'+_answer);\n\n\t\t\t\t\tif (sfx) sfx.play();\n\n\t\t\t\t\treturn sfx;\n\t\t\t\t};\n\n\t\t\t\tthis.playVO = function (_name) {\n\t\t\t\t\tvar vo;\n\n\t\t\t\t\tvo = pl.util.resolvePath(this, 'audio.voiceOver.'+_name);\n\n\t\t\t\t\tif (vo) vo.play();\n\n\t\t\t\t\treturn vo;\n\t\t\t\t};\n\t\t\t});\n\n\t\t});\n\n\t});\n\n\tthis.screen('bears', function () {\n\n\t\tthis.start = function (_event) {\n\t\t\tthis.proto();\n\t\t\tthis.carousel.start();\n\t\t};\n\n\t\tthis.stop = function () {\n\t\t\tthis.carousel.stop();\n\t\t}\n\n\t\tthis.on('ui-select', function (_event) {\n\t\t\tif (_event.targetScope === this.reveal) {\n\t\t\t\tthis.reveal.delay('1s', function () {\n\t\t\t\t\tvar $selected;\n\n\t\t\t\t\t$selected = this.getSelected();\n\n\t\t\t\t\tthis.close();\n\t\t\t\t\t$selected\n\t\t\t\t\t\t.addClass('animated slideOutUp')\n\t\t\t\t\t\t.on('animationend', function () {\n\t\t\t\t\t\t\t$selected.removeClass('slideOutUp');\n\t\t\t\t\t\t\t$selected.off();\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t});\n\n\t\tthis.on('ui-open', function(_event) {\n\t\t\tif(!this.is(_event.target)) return;\n\t\t\tthis.carousel.start();\n\t\t});\n\n\t\tthis.state('incomplete','-COMPLETE', {\n\t\t\twillSet: function (_target) {\n\t\t\t\tthis.isComplete = false;\n\t\t\t}\n\t\t});\n\n\t\tthis.entity('carousel', function () {\n\t\t\t// The event 'behaviorTarget' for this entities 'hit' behavior\n\t\t\tthis.provideBehaviorTarget = function () {\n\t\t\t\t// Choose the item thats in the middle of the 3 visible.\n\t\t\t\treturn this.current().next();\n\t\t\t};\n\n\t\t});\n\n\t\tthis.respond('hit', function (_event) {\n\t\t\tif (_event.message === _event.behaviorTarget.id()) {\n\t\t\t\tthis.score.up();\n\t\t\t\tthis.playSFX('correct');\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\tthis.playSFX('incorrect');\n\t\t\t}\n\n\t\t\tthis.reveal.item(_event.behaviorTarget.id());\n\t\t});\n\n\t\tthis.respond('next', function () {\n\t\t\tthis.cannon.ball.reload();\n\t\t});\n\n\t\tthis.playSFX = function (_name) {\n\t\t\tvar sfx;\n\n\t\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.'+_name);\n\n\t\t\tif (sfx) sfx.play();\n\n\t\t\treturn this;\n\t\t};\n\n\t});\n\n\tthis.screen('experiment-discover', function() {\n\t\tthis.respond('select', function (_event) {\n\t\t\tvar id = _event.message;\n\n\t\t\tif (id) {\n\t\t\t\tthis.highlight(_event.behaviorTarget);\n\t\t\t\tthis.audio.voiceOver[id].play();\n\t\t\t}\n\t\t});\n\n\t\tthis.entity('selectable', function() {\n\t\t\tthis.behavior('select', function (_target) {\n\t\t\t\tvar $target;\n\n\t\t\t\tif (this.event) {\n\t\t\t\t\t$target = $(this.event.target).closest('li');\n\n\t\t\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tmessage: $target.id(),\n\t\t\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t\t\t};\n\t\t\t\t\t}\t\n\t\t\t\t}\n\n\t\t\t\telse {\n\t\t\t\t\tthis.proto(_target);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t});\n\t\t});\n\t});\n\n\tthis.screen('flip', function () {\n\n\t\tthis.complete = function (_event) {\n\t\t\tvar eventCategory = (['game', this.game.id(), this.id()+'('+(this.index()+1)+')']).join(' ');\n\n\t\t\tga('send', 'event', eventCategory, 'complete');\n\n\t\t\treturn this.proto();\n\t\t};\n\n\t});\n\n\tthis.exit = function () {\n\t\tvar screen, eventCategory;\n\n\t\tscreen = this.findOwn(pl.game.config('screenSelector')+'.OPEN:not(#quit)').scope();\n\t\teventCategory = (['game', this.id(), screen.id()+'('+(screen.index()+1)+')']).join(' ');\n\n\t\tga('send', 'event', eventCategory, 'quit');\n\n\t\treturn this.proto();\n\t};\n\n\tthis.defineRule = function (_selector_scope, _selector_def, _definition) {\n\t\tvar _scope, _selector, source, prop, value;\n\t\t// Resolve arguments.\n\t\t_selector_scope.$els ? // (A) if we are a scope\n\t\t\t(_scope = _selector_scope, // assign scope arg...\n\t\t\ttypeof _selector_def === 'string' ? // ...also, (B) if arg 2 is a string\n\t\t\t\t_selector = _scope.address() + _selector_def: // assing selector arg with scope address:\n\t\t\t\t(_selector = _scope.address(), _definition = _selector_def)): // (B) otherwise, assign selector arg to scope address, also assing definition arg\n\t\t\t(_selector = _selector_scope, _definition = _selector_def); // (A) otherwise, assing selector and definition args.\n\n\t\tsource = _selector+' {';\n\n\t\tfor (prop in _definition) {\n\t\t\tif (!_definition.hasOwnProperty(prop)) continue;\n\t\t\tvalue = _definition[prop];\n\t\t\tsource += prop.replace(/([A-Z]+)/g, '-$1').toLowerCase()+': '+value+';'\n\t\t}\n\n\t\tsource += '}'\n\n\t\t$('<style type=\"text/css\" class=\"dynanic-styles\">'+source+'</style>')\n\t\t\t.appendTo(document.body);\n\n\t\treturn source;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/index.js\n **/","/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\t/**\n\t * Boot file for the Play library.\n\t *\n\t * @module\n\t *\n\t * @author Micah Rolon <micah@ginasink.com>\n\t *\n\t * @requires jQExtentions\n\t * @requires play\n\t */\n\t\n\t__webpack_require__(4);\n\t\n\tvar _play = __webpack_require__(23);\n\t\n\tvar _play2 = _interopRequireDefault(_play);\n\t\n\t/**\n\t * Begin running the library\n\t */\n\tfunction run() {\n\t  _play2['default'].game.run();\n\t}\n\t\n\t// export namespace to global object.\n\twindow.play = window.pl = _play2['default'];\n\t\n\t// Invoke 'run' when DOM has finished loading.\n\tdocument.addEventListener('DOMContentLoaded', run, false);\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(3);\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\texports.default = function (obj) {\n\t  return obj && obj.__esModule ? obj : {\n\t    default: obj\n\t  };\n\t};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _Array$forEach = __webpack_require__(5)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\t/**\n\t * Extentions to jQuery used by the library.\n\t * \n\t * @module\n\t * @author Micah Rolon <micah@ginasink.com>\n\t *\n\t * @requires types/Dimensions\n\t * @requires Matrix\n\t */\n\t\n\tvar _typesDimensions = __webpack_require__(14);\n\t\n\tvar _libMatrix = __webpack_require__(22);\n\t\n\tvar _libMatrix2 = _interopRequireDefault(_libMatrix);\n\t\n\t/**\n\t * jQuery's prototype\n\t * @external jQuery\n\t * @see {@link http://api.jquery.com/}\n\t */\n\t\n\t(function () {\n\t\tvar original;\n\t\n\t\toriginal = {\n\t\t\tposition: this.position\n\t\t};\n\t\n\t\t/**\n\t  * Resolves the scope for each of the set of matched nodes.\n\t  * @function external:jQuery#scope\n\t  * @returns {Scope|array} Scope - for 1 result. array - for multiple.\n\t  */\n\t\tthis.scope = function () {\n\t\t\tvar result;\n\t\n\t\t\tresult = [];\n\t\n\t\t\tthis.each(function () {\n\t\t\t\tvar $node, scope;\n\t\n\t\t\t\t$node = $(this);\n\t\t\t\tscope = $node.data('pl-scope');\n\t\n\t\t\t\tif (!scope) {\n\t\t\t\t\tscope = $node.closest('.pl-scope').data('pl-scope');\n\t\t\t\t}\n\t\n\t\t\t\tif (scope) result.push(scope);\n\t\t\t});\n\t\n\t\t\treturn result.length > 1 ? result : result[0];\n\t\t};\n\t\n\t\t/**\n\t  * Resolves the id on the first node in the collection. The id can be sourced from a node's 'id', 'pl-id' or 'pl-component' arguments.\n\t  * @function external:jQuery#id\n\t  * @arg {string} [_set] Name to set as the node's id.\n\t  * @returns {string} The resolved id.\n\t  */\n\t\tthis.id = function (_set) {\n\t\t\tif (_set !== undefined) {\n\t\t\t\t// Remove attribute.\n\t\t\t\tif (~['', null].indexOf(_set)) {\n\t\t\t\t\tthis.attr('id', null);\n\t\t\t\t}\n\t\n\t\t\t\t// If document already has the id defined then set as a unique library id.\n\t\t\t\tif ($('#' + _set).length) {\n\t\t\t\t\tthis.attr('pl-id', _set);\n\t\t\t\t} else {\n\t\t\t\t\tthis.attr('id', _set);\n\t\t\t\t}\n\t\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\treturn this.attr('id') || this.attr('pl-id') || this.attr('pl-component');\n\t\t};\n\t\n\t\t/**\n\t  * Provides the 'relative' CSS selector for the first node in the collection.\n\t  * @function external:jQuery#address\n\t  * @returns {string}\n\t  *\n\t  * @example\n\t  * // HTML: <div id=\"sweater\" class=\"wide\"></div>\n\t  * $('#sweater').address() // div#sweater.wide\n\t  */\n\t\tthis.address = function () {\n\t\t\tvar tag, id, classes;\n\t\n\t\t\ttag = this[0].nodeName.toLowerCase();\n\t\t\tid = this.attr('id');\n\t\t\tclasses = this.attr('class') ? '.' + this.attr('class').split(' ').join('.') : '';\n\t\n\t\t\treturn tag + (id ? '#' + id : '') + classes;\n\t\t};\n\t\n\t\t/**\n\t  * Provides a node's UPPER CASE class names. Given '_test' it will check if the node has the class.\n\t  * @function external:jQuery#state\n\t  * @arg {string} [_test] The UPPER CASE class name to test on the first node in the collection.\n\t  * @returns {string|array|boolean} string - for one result. array - for multiple. boolean - for tests.\n\t  */\n\t\tthis.state = function (_test) {\n\t\t\tvar classes;\n\t\n\t\t\tif (_test) return this.hasClass(_test.toUpperCase());\n\t\n\t\t\tclasses = (this.attr('class') || '').match(/[0-9A-Z]+(?:-[0-9A-Z]+)?/g);\n\t\n\t\t\treturn classes && (classes.length === 1 ? classes[0] : classes);\n\t\t};\n\t\n\t\tthis.size = function () {\n\t\t\tvar size;\n\t\n\t\t\tif (!arguments.length) {\n\t\t\t\tsize = _typesDimensions.Size.create().set(this.width(), this.height());\n\t\t\t} else {\n\t\t\t\tsize = _typesDimensions.Size.create(arguments);\n\t\t\t\tthis.css(size);\n\t\t\t}\n\t\n\t\t\treturn size;\n\t\t};\n\t\n\t\tthis.position = function () {\n\t\t\tvar pos;\n\t\n\t\t\tif (!arguments.length) {\n\t\t\t\tpos = original.position.call(this);\n\t\t\t\tpos = _typesDimensions.Point.create().set(pos.left, pos.top);\n\t\t\t} else {\n\t\t\t\tpos = _typesDimensions.Point.create(arguments);\n\t\n\t\t\t\tthis.css({\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\tleft: pos.x,\n\t\t\t\t\ttop: pos.y\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn pos;\n\t\t};\n\t\n\t\t/**\n\t  * Provides the jQuery offset for the first node in the collection.\n\t  * Given a point, all nodes in the collection will get {position: absolute;} to the corrdinates.\n\t  * @function external:jQuery#absolutePosition\n\t  * @returns {Point}\n\t  */\n\t\tthis.absolutePosition = function () {\n\t\t\tvar offset;\n\t\n\t\t\tif (!arguments.length) {\n\t\t\t\toffset = this.offset();\n\t\n\t\t\t\treturn _typesDimensions.Point.create().set(offset.left, offset.top);\n\t\t\t} else {\n\t\t\t\toffset = _typesDimensions.Point.create(arguments);\n\t\n\t\t\t\tthis.css({\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: offset.y,\n\t\t\t\t\tleft: offset.x\n\t\t\t\t});\n\t\n\t\t\t\treturn offset;\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t  * Sets a CSS matrix transform on all nodes in the collection. (overloaded)\n\t  * @function external:jQuery#transform\n\t  * @arg {number} [_scaleX] - scale x\n\t  * @arg {number} [_shearY] - shear y\n\t  * @arg {number} [_shearX] - shear x\n\t  * @arg {number} [_scaleY] - scale y\n\t  * @arg {number} [_translateX] - translate x\n\t  * @arg {number} [_translateY] - translate y\n\t  * @returns {Matrix}\n\t  */\n\t\n\t\t/**\n\t  * Provides the CSS matrix transform for the first node in the collection.\n\t  * @function external:jQuery#transform\n\t  * @returns {Matrix}\n\t  */\n\t\tthis.transform = function () {\n\t\t\tvar t, matrix, is3d;\n\t\n\t\t\tmatrix = new _libMatrix2['default']();\n\t\n\t\t\tif (!arguments.length) {\n\t\t\t\tt = this.css('transform');\n\t\t\t\tis3d = !! ~t.indexOf('matrix3d');\n\t\n\t\t\t\tif (t !== 'none') {\n\t\t\t\t\tt = ((t.match(/\\(([,\\d\\.\\s\\-]+)\\)/) || [])[1] || '').split(/\\s*,\\s*/);\n\t\t\t\t\tif (is3d) {\n\t\t\t\t\t\tt = (function (_matrix) {\n\t\t\t\t\t\t\tvar i, result;\n\t\n\t\t\t\t\t\t\tresult = [];\n\t\n\t\t\t\t\t\t\tfor (i = 0; i < _matrix.length; i += 4) {\n\t\t\t\t\t\t\t\tresult = result.concat(_matrix.slice(i, i + 2));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t})(t);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tt = t.map(parseFloat);\n\t\n\t\t\t\t\tmatrix.setTransform.apply(matrix, t);\n\t\n\t\t\t\t\treturn matrix;\n\t\t\t\t}\n\t\n\t\t\t\treturn t;\n\t\t\t}\n\t\n\t\t\tmatrix.setTransform.apply(matrix, arguments);\n\t\n\t\t\tthis.css('transform', matrix.toCSS());\n\t\n\t\t\treturn matrix;\n\t\t};\n\t\n\t\t/**\n\t  * Getter/Setter for the CSS transform translation. (overloaded)\n\t  * @function external:jQuery#transformPosition\n\t  * @arg {Point} _point - A point object {x,y}\n\t  * @returns {Point}\n\t  */\n\t\n\t\t/**\n\t  * Getter/Setter for the CSS transform translation.\n\t  * @function external:jQuery#transformPosition\n\t  * @arg {number} _x - x coordinate\n\t  * @arg {number} _y - y coordinate\n\t  * @returns {Point}\n\t  */\n\t\tthis.transformPosition = function () {\n\t\t\tvar matrix, point;\n\t\n\t\t\tmatrix = this.transform();\n\t\t\tpoint = _typesDimensions.Point.create().set(0, 0);\n\t\n\t\t\tif (!arguments.length) {\n\t\t\t\tif (matrix !== 'none') point.set(matrix.e, matrix.f);\n\t\t\t} else {\n\t\t\t\tif (matrix === 'none') matrix = new _libMatrix2['default']();\n\t\n\t\t\t\tpoint.set.apply(point, arguments);\n\t\t\t\tmatrix.translate(point.x, point.y);\n\t\t\t\tthis.css('transform', matrix.toCSS());\n\t\t\t}\n\t\n\t\t\treturn point;\n\t\t};\n\t\n\t\t/**\n\t  * Getter for the CSS transform scale. (overloaded)\n\t  * @function external:jQuery#transformPosition\n\t  * @returns {Point}\n\t  */\n\t\n\t\t/**\n\t  * Setter for the CSS transform scale. (overloaded)\n\t  * @function external:jQuery#transformPosition\n\t  * @arg {Point} _point - A point object {x,y}\n\t  * @returns {Point}\n\t  */\n\t\n\t\t/**\n\t  * Setter for the CSS transform scale.\n\t  * @function external:jQuery#transformPosition\n\t  * @arg {number} _x - x coordinate\n\t  * @arg {number} _y - y coordinate\n\t  * @returns {Point}\n\t  */\n\t\tthis.transformScale = function () {\n\t\t\tvar matrix, scale;\n\t\n\t\t\tmatrix = this.transform();\n\t\t\tscale = _typesDimensions.Point.create().set(1, 1);\n\t\n\t\t\tif (!arguments.length) {\n\t\t\t\tif (matrix !== 'none') scale.set(matrix.a, matrix.d);\n\t\t\t} else {\n\t\t\t\tif (matrix === 'none') matrix = new _libMatrix2['default']();\n\t\n\t\t\t\tscale.set.apply(scale, arguments);\n\t\t\t\tmatrix.scale(scale.x, scale.y);\n\t\t\t\tthis.css('transform', matrix.toCSS());\n\t\t\t}\n\t\n\t\t\treturn scale;\n\t\t};\n\t\n\t\t/**\n\t  * Accessor method for `pl` attributes.\n\t  */\n\t\tthis.pl = function (_name, _value) {\n\t\t\tvar args, result;\n\t\n\t\t\tif (!_name) {\n\t\t\t\tresult = {};\n\t\t\t\tthis.each(function () {\n\t\t\t\t\t_Array$forEach(this.attributes, function (_attr) {\n\t\t\t\t\t\tif (_attr.name.indexOf('pl-') === 0) {\n\t\t\t\t\t\t\tresult[_attr.name.slice(3)] = _attr.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\t}\n\t\n\t\t\targs = ['pl-' + _name];\n\t\t\tif (typeof _value !== 'undefined') args.push(_value);\n\t\n\t\t\tif (_value === null) {\n\t\t\t\tthis.removeAttr('pl-' + _name);\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\treturn this.attr.apply(this, args);\n\t\t};\n\t\n\t\t/**\n\t  * Invoke a method of each item in the set of matched elements.\n\t  */\n\t\tthis.exec = function (_method, _args) {\n\t\t\treturn this.map(function () {\n\t\t\t\tif (typeof this[_method] === 'function') return this[_method].apply(this, _args);\n\t\t\t}).toArray();\n\t\t};\n\t}).call($.fn);\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(6), __esModule: true };\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(7);\n\tmodule.exports = __webpack_require__(11).Array.forEach;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// JavaScript 1.6 / Strawman array statics shim\n\tvar $       = __webpack_require__(8)\n\t  , $export = __webpack_require__(9)\n\t  , $ctx    = __webpack_require__(12)\n\t  , $Array  = __webpack_require__(11).Array || Array\n\t  , statics = {};\n\tvar setStatics = function(keys, length){\n\t  $.each.call(keys.split(','), function(key){\n\t    if(length == undefined && key in $Array)statics[key] = $Array[key];\n\t    else if(key in [])statics[key] = $ctx(Function.call, [][key], length);\n\t  });\n\t};\n\tsetStatics('pop,reverse,shift,keys,values,entries', 1);\n\tsetStatics('indexOf,every,some,forEach,map,filter,find,findIndex,includes', 3);\n\tsetStatics('join,slice,concat,push,splice,unshift,sort,lastIndexOf,' +\n\t           'reduce,reduceRight,copyWithin,fill');\n\t$export($export.S, 'Array', statics);\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tvar $Object = Object;\n\tmodule.exports = {\n\t  create:     $Object.create,\n\t  getProto:   $Object.getPrototypeOf,\n\t  isEnum:     {}.propertyIsEnumerable,\n\t  getDesc:    $Object.getOwnPropertyDescriptor,\n\t  setDesc:    $Object.defineProperty,\n\t  setDescs:   $Object.defineProperties,\n\t  getKeys:    $Object.keys,\n\t  getNames:   $Object.getOwnPropertyNames,\n\t  getSymbols: $Object.getOwnPropertySymbols,\n\t  each:       [].forEach\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar global    = __webpack_require__(10)\n\t  , core      = __webpack_require__(11)\n\t  , ctx       = __webpack_require__(12)\n\t  , PROTOTYPE = 'prototype';\n\t\n\tvar $export = function(type, name, source){\n\t  var IS_FORCED = type & $export.F\n\t    , IS_GLOBAL = type & $export.G\n\t    , IS_STATIC = type & $export.S\n\t    , IS_PROTO  = type & $export.P\n\t    , IS_BIND   = type & $export.B\n\t    , IS_WRAP   = type & $export.W\n\t    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n\t    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n\t    , key, own, out;\n\t  if(IS_GLOBAL)source = name;\n\t  for(key in source){\n\t    // contains in native\n\t    own = !IS_FORCED && target && key in target;\n\t    if(own && key in exports)continue;\n\t    // export native or passed\n\t    out = own ? target[key] : source[key];\n\t    // prevent global pollution for namespaces\n\t    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n\t    // bind timers to global for call from export context\n\t    : IS_BIND && own ? ctx(out, global)\n\t    // wrap global constructors for prevent change them in library\n\t    : IS_WRAP && target[key] == out ? (function(C){\n\t      var F = function(param){\n\t        return this instanceof C ? new C(param) : C(param);\n\t      };\n\t      F[PROTOTYPE] = C[PROTOTYPE];\n\t      return F;\n\t    // make static versions for prototype methods\n\t    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n\t    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n\t  }\n\t};\n\t// type bitmap\n\t$export.F = 1;  // forced\n\t$export.G = 2;  // global\n\t$export.S = 4;  // static\n\t$export.P = 8;  // proto\n\t$export.B = 16; // bind\n\t$export.W = 32; // wrap\n\tmodule.exports = $export;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n\t  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\tif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tvar core = module.exports = {version: '1.2.6'};\n\tif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// optional / simple context binding\n\tvar aFunction = __webpack_require__(13);\n\tmodule.exports = function(fn, that, length){\n\t  aFunction(fn);\n\t  if(that === undefined)return fn;\n\t  switch(length){\n\t    case 1: return function(a){\n\t      return fn.call(that, a);\n\t    };\n\t    case 2: return function(a, b){\n\t      return fn.call(that, a, b);\n\t    };\n\t    case 3: return function(a, b, c){\n\t      return fn.call(that, a, b, c);\n\t    };\n\t  }\n\t  return function(/* ...args */){\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(it){\n\t  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n\t  return it;\n\t};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _Object$defineProperties = __webpack_require__(15)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * \n\t * @module\n\t * @version 1.1\n\t * @author Micah Rolon <functionmicah@gmail.com>\n\t * @requires module:types/BasicArray~BasicArray\n\t *\n\t * @desc *Created: 11/12/14*\n\t *\n\t * This file contains objects for containing values about a plane. i.e. x or width.\n\t * Adds the convenience of keeping these values paired to passed around your application.\n\t * It also includes methods which you perform on the values and returns a new object\n\t * so the original values are maintained.\n\t *\n\t * #### Usage\n\t *\n\t * New instances can be created by calling the create method.\n\t * ```\n\t * cursorLocation = Point.create();\n\t * ```\n\t *\n\t * Then call `set()` to apply your values.\n\t * ```\n\t * cursorLocation.set(event.clientX, event.clientY);\n\t * ```\n\t *\n\t * Then you can use the calculation methods to perform transformations.\n\t * ```\n\t * relativeCursor = cursorLocation.scale(zoom);\n\t * ```\n\t *\n\t * #### Developer Notes\n\t *\n\t * When adding new methods make sure you are returning a new instance.\n\t * Dimensional objects are meant to be immutable.\n\t *\n\t * Follow this pattern:\n\t * ```\n\t * this.method = function () {\n\t *     // set with your calculated values.\n\t *     return this.create().set( ... )\n\t * }\n\t * ```\n\t *\n\t * #### Change Log\n\t * *v1.1 - 12/13/15*\n\t * - Defined setter/getter properties for unique planes keys. You can now do `point.width = 10`.\n\t */\n\t\n\t/*jslint browser: true, eqeq: true, nomen: true, sloppy: true, white: true */\n\t\n\tvar _typesBasicArray = __webpack_require__(17);\n\t\n\tvar _typesBasicArray2 = _interopRequireDefault(_typesBasicArray);\n\t\n\tvar Dimension, Size, Point;\n\t\n\t/**\n\t * The native Array\n\t * @external Array\n\t * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array}\n\t */\n\t\n\t/**\n\t * Array prototype extension\n\t * Creates an instance of `_Thing` and passes the array to its set function as its arguments.\n\t * @function external:Array#to\n\t * @arg {Point|Size|string} _Thing - A Dimension object or one the strings 'point'/'size'\n\t * @example\n\t * somePoint = [10, 10].to(Point);\n\t * somePoint = [10, 10].to('point');\n\t */\n\tArray.prototype.to = function (_Thing) {\n\t\tvar map;\n\t\n\t\tmap = {\n\t\t\tpoint: Point,\n\t\t\tsize: Size\n\t\t};\n\t\n\t\tif (typeof _Thing === 'string') {\n\t\t\treturn map[_Thing.toLowerCase()].create().set(this);\n\t\t} else if (typeof _Thing === 'object' && ~[Point.set, Size.set].indexOf(_Thing.set)) {\n\t\t\tif (!_Thing.isPrototypeOf(this)) {\n\t\t\t\treturn _Thing.set.apply(_Thing.create(), this);\n\t\t\t}\n\t\t}\n\t\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Dimension.create()` to get a new instance.\n\t * @class\n\t * @classdesc Base class for dimensional objects consisting of 2 planes.<br>\n\t * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n\t * @extends module:types/BasicArray~BasicArray\n\t */\n\tDimension = _typesBasicArray2['default'].extend(function () {\n\t\tvar originalMap;\n\t\n\t\toriginalMap = this.map;\n\t\n\t\tthis[0] = this[1] = 0;\n\t\tthis.planeMap = null, this.length = 2;\n\t\n\t\t/**\n\t  * Provides a new instance.\n\t  * @arg {array} _argumentsArray - Create a new instace with an arguments array.\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.create = function (_argumentsArray) {\n\t\t\tvar instance;\n\t\n\t\t\tinstance = this.proto();\n\t\n\t\t\tif (_argumentsArray) instance.set.apply(instance, _argumentsArray);\n\t\n\t\t\treturn instance;\n\t\t};\n\t\n\t\t/**\n\t  * Incerement each plane by a value or specify each plane.\n\t  * @arg {number} _val - plane a of (a,b)\n\t  * @arg {number} [_plane2] - plane b of (a,b)\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.inc = function (_val, _plane2) {\n\t\t\tvar a, b;\n\t\n\t\t\tif (_val.length === 2) {\n\t\t\t\ta = _val[0];\n\t\t\t\tb = _val[1];\n\t\t\t} else if (_plane2 != null) {\n\t\t\t\ta = _val;\n\t\t\t\tb = _plane2;\n\t\t\t} else {\n\t\t\t\ta = b = _val;\n\t\t\t}\n\t\n\t\t\treturn this.create().set(this[0] + a, this[1] + b);\n\t\t};\n\t\n\t\t/**\n\t  * Decerement each plane by a value or specify each plane.\n\t  * @arg {number} _val - plane a of (a,b)\n\t  * @arg {number} [_plane2] - plane b of (a,b)\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.dec = function (_val, _plane2) {\n\t\t\tvar a, b;\n\t\n\t\t\tif (_val.length === 2) {\n\t\t\t\ta = _val[0];\n\t\t\t\tb = _val[1];\n\t\t\t} else if (_plane2 != null) {\n\t\t\t\ta = _val;\n\t\t\t\tb = _plane2;\n\t\t\t} else {\n\t\t\t\ta = b = _val;\n\t\t\t}\n\t\n\t\t\treturn this.create().set(this[0] - a, this[1] - b);\n\t\t};\n\t\n\t\t/**\n\t  * Multiply each plane by a value or specify each plane.\n\t  * @arg {number} _scale - plane a of (a,b)\n\t  * @arg {number} [_plane2] - plane b of (a,b)\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.scale = function (_scale, _plane2) {\n\t\t\treturn this.create().set(this[0] * _scale, this[1] * (_plane2 != null ? _plane2 : _scale));\n\t\t};\n\t\n\t\t/**\n\t  * Perfom a Math function on each plane\n\t  * @arg {string} _fun - a string of the function name in the JS Math object,\n\t  * followed by the whatever arguments the function takes after its first\n\t  * since the first argument is the plane value.\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.math = function (_fun) {\n\t\t\tvar args = [].slice.call(arguments, 1);\n\t\n\t\t\treturn this.create().set(Math[_fun].apply(Math, [this[0]].concat(args)), Math[_fun].apply(Math, [this[1]].concat(args)));\n\t\t};\n\t\n\t\t/**\n\t  * Takes each plane value and passes it to parseInt().\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.parseInt = function () {\n\t\t\treturn this.create().set(parseInt(this[0]), parseInt(this[1]));\n\t\t};\n\t\n\t\t/**\n\t  * Takes each plane value and passes it to parseFloat().\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.parseFloat = function () {\n\t\t\treturn this.create().set(parseFloat(this[0]), parseFloat(this[1]));\n\t\t};\n\t\n\t\t/**\n\t  * Resolves the name of the plane at the given index.\n\t  * @arg {number} _index - The index of the plane.\n\t  * @returns {string}\n\t  */\n\t\tthis.planeOf = function (_index) {\n\t\t\tif (isNaN(parseInt(_index))) return null;\n\t\t\treturn this.planeMap[_index];\n\t\t};\n\t\n\t\t/**\n\t  * Make a new array by iterating over each plane.<br>\n\t  * See [`Array.prototype.map()`]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map}\n\t  * @arg {function} _handler - handler for each index.\n\t  * @override\n\t  * @returns {Dimension}\n\t  */\n\t\tthis.map = function (_handler) {\n\t\t\treturn originalMap.call(this, _handler).to(Object.getPrototypeOf(this));\n\t\t};\n\t\n\t\t/**\n\t  * Multiplies the planes.\n\t  * @returns {number}\n\t  */\n\t\tthis.product = function () {\n\t\t\treturn this[0] * this[1];\n\t\t};\n\t\n\t\t/**\n\t  * Divides the planes.\n\t  * @returns {number}\n\t  */\n\t\tthis.ratio = function () {\n\t\t\treturn this[0] / this[1];\n\t\t};\n\t\n\t\tthis.quotient = function () {\n\t\t\treturn Math.floor(this[0] / this[1]);\n\t\t};\n\t\n\t\tthis.remainder = function () {\n\t\t\treturn this[0] % this[1];\n\t\t};\n\t});\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Size.create()` to get a new instance.\n\t * @class\n\t * @extends module:types/Dimensions~Dimension\n\t * @classdesc 2 Dimensional object containing width and height.<br>\n\t * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n\t * @prop {number} width - The width.\n\t * @prop {number} height - The height.\n\t */\n\tSize = Dimension.extend(function () {\n\t\t/**\n\t  * Maps the names of the indexes.<br>\n\t  * See [Dimension#planeOf]{@link module:types/Dimensions~Dimension#planeOf} for resolving plane name.\n\t  * @protected\n\t  * @default ['width', 'height']\n\t  */\n\t\tthis.planeMap = ['width', 'height'];\n\t\n\t\t_Object$defineProperties(this, {\n\t\t\twidth: {\n\t\t\t\tget: function get() {\n\t\t\t\t\treturn this[0];\n\t\t\t\t},\n\t\n\t\t\t\tset: function set(_val) {\n\t\t\t\t\tthis[0] = Number(_val);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\theight: {\n\t\t\t\tget: function get() {\n\t\t\t\t\treturn this[1];\n\t\t\t\t},\n\t\n\t\t\t\tset: function set(_val) {\n\t\t\t\t\tthis[1] = Number(_val);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * Define the size with an object. (overloaded)\n\t  * @function module:types/Dimensions~Size#set\n\t  * @arg {object} _size - A size object {width, height}.\n\t  * @returns {Size}\n\t  */\n\t\n\t\t/**\n\t  * Define the size with an array. (overloaded)\n\t  * @function module:types/Dimensions~Size#set\n\t  * @arg {array} _size - A size array [width, height].\n\t  * @returns {Size}\n\t  */\n\t\n\t\t/**\n\t  * Define the size.\n\t  * @arg {number} _width - The width.\n\t  * @arg {number} _height - The height.\n\t  * @returns {Size}\n\t  */\n\t\tthis.set = function (_width, _height) {\n\t\t\tif (arguments.length === 1) {\n\t\t\t\tif (_width.width !== undefined && _width.height !== undefined) {\n\t\t\t\t\tthis[0] = Number(_width.width);\n\t\t\t\t\tthis[1] = Number(_width.height);\n\t\t\t\t} else if (_width.length === 2) {\n\t\t\t\t\tthis[0] = Number(_width[0]);\n\t\t\t\t\tthis[1] = Number(_width[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis[0] = Number(_width);\n\t\t\t\tthis[1] = Number(_height);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Calculates the hypotenuse.\n\t  * @see {@link https://en.wikipedia.org/wiki/Hypotenuse}\n\t  * @returns {number}\n\t  */\n\t\tthis.hypotenuse = function () {\n\t\t\treturn Math.sqrt(Math.pow(this.width, 2) + Math.pow(this.height, 2));\n\t\t};\n\t\n\t\t/**\n\t  * Sets width and height properties on the given object. If the object is an HTML node then it will be set on the nodes style object.\n\t  * @arg {object|HTMLElement} - The object or DOM node.\n\t  * @returns {this}\n\t  */\n\t\tthis.applyTo = function (_object) {\n\t\t\tif (_object.nodeType === document.ELEMENT_NODE) {\n\t\t\t\tif (!(_object.width !== undefined || _object.height !== undefined)) {\n\t\t\t\t\t_object.style.width = this.width;\n\t\t\t\t\t_object.style.height = this.height;\n\t\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t_object.width = this.width;\n\t\t\t_object.height = this.height;\n\t\n\t\t\treturn this;\n\t\t};\n\t});\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Point.create()` to get a new instance.\n\t * @class\n\t * @extends module:types/Dimensions~Dimension\n\t * @classdesc Object containing coordinates on a 2-dimensional cartesian plane.<br>\n\t * <span class=\"important\">NOTE:</span> This is an immutable class. Methods return a new object with the original as its prototype.\n\t * @prop {number} x - The x coordinate.\n\t * @prop {number} y - The y coordinate.\n\t */\n\tPoint = Dimension.extend(function () {\n\t\t/**\n\t  * Maps the names of the indexes.<br>\n\t  * See [Dimension#planeOf]{@link module:types/Dimensions~Dimension#planeOf} for resolving plane name.\n\t  * @protected\n\t  * @default ['x', 'y']\n\t  */\n\t\tthis.planeMap = ['x', 'y'];\n\t\n\t\t_Object$defineProperties(this, {\n\t\t\tx: {\n\t\t\t\tget: function get() {\n\t\t\t\t\treturn this[0];\n\t\t\t\t},\n\t\n\t\t\t\tset: function set(_val) {\n\t\t\t\t\tthis[0] = Number(_val);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\ty: {\n\t\t\t\tget: function get() {\n\t\t\t\t\treturn this[1];\n\t\t\t\t},\n\t\n\t\t\t\tset: function set(_val) {\n\t\t\t\t\tthis[1] = Number(_val);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * Define the point with an object. (overloaded)\n\t  * @function module:types/Dimensions~Point#set\n\t  * @arg {object} _point - A point object {x, y}.\n\t  * @returns {Point}\n\t  */\n\t\n\t\t/**\n\t  * Define the point with an array. (overloaded)\n\t  * @function module:types/Dimensions~Point#set\n\t  * @arg {array} _point - A point array [x, y].\n\t  * @returns {Point}\n\t  */\n\t\n\t\t/**\n\t  * Define the point.\n\t  * @arg {number} _x - The x.\n\t  * @arg {number} _y - The y.\n\t  * @returns {Point}\n\t  */\n\t\tthis.set = function (_x, _y) {\n\t\t\tif (arguments.length === 1) {\n\t\t\t\tif (_x.x !== undefined && _x.y !== undefined) {\n\t\t\t\t\tthis[0] = Number(_x.x);\n\t\t\t\t\tthis[1] = Number(_x.y);\n\t\t\t\t} else if (_x.length === 2) {\n\t\t\t\t\tthis[0] = Number(_x[0]);\n\t\t\t\t\tthis[1] = Number(_x[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis[0] = Number(_x);\n\t\t\t\tthis[1] = Number(_y);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Calculates the distance between the insatnce and a point object.\n\t  * @arg {Point} _point - A point object {x,y}.\n\t  * @returns {Size}\n\t  */\n\t\tthis.distance = function (_point) {\n\t\t\tif (_point.x !== undefined && _point.y !== undefined) {\n\t\t\t\treturn Size.create().set(_point.x - this.x, _point.y - this.y);\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\t};\n\t\n\t\t/**\n\t  * Sets x and y properties on the given object. If the object is an HTML node then the left and top properties will be set on the nodes style object.\n\t  * @arg {object|HTMLElement} - The object or DOM node.\n\t  * @returns {this}\n\t  */\n\t\tthis.applyTo = function (_object) {\n\t\t\tif (_object.nodeType === document.ELEMENT_NODE) {\n\t\t\t\t_object.style.left = this.x;\n\t\t\t\t_object.style.top = this.y;\n\t\t\t} else {\n\t\t\t\t_object.x = this.x;\n\t\t\t\t_object.y = this.y;\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Rotate the point based on an origin point and an angle in degrees.\n\t  * @arg {Point} _origin - A point object {x,y}.\n\t  * @arg {number} _angle - The angle of rotation in degrees.\n\t  * @returns {this}\n\t  */\n\t\tthis.rotate = function (_origin, _angle) {\n\t\t\tvar x, y, rad;\n\t\n\t\t\trad = _angle * (Math.PI / 180);\n\t\n\t\t\tx = this.x - _origin.x;\n\t\t\ty = this.y - _origin.y;\n\t\n\t\t\treturn this.create().set(Math.sin(rad) * x - Math.cos(rad) * y + _origin.x, Math.cos(rad) * x + Math.sin(rad) * y + _origin.y);\n\t\t};\n\t});\n\t\n\texports['default'] = { Dimension: Dimension, Size: Size, Point: Point };\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(16), __esModule: true };\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(8);\n\tmodule.exports = function defineProperties(T, D){\n\t  return $.setDescs(T, D);\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Base object type for 'array like' objects.\n\t * @module\n\t * @requires module:util\n\t * @requires module:types/Basic\n\t */\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesBasic = __webpack_require__(19);\n\t\n\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `BasicArray.create()` to get a new instance.\n\t * @classdesc A base object type for 'array like' object.\n\t * @class\n\t * @extends external:Array\n\t * @extends module:types/Basic~Basic\n\t * @mixes module:types/Basic~Basic\n\t */\n\tvar BasicArray = (function () {\n\t  /**\n\t   * Objects with this as an own property will be identified as the root object.\n\t   * @memberof module:types/BasicArray~BasicArray\n\t   * @readonly\n\t   * @default\n\t   */\n\t  this.baseType = 'TYPE_BASIC_ARRAY';\n\t\n\t  _util2['default'].mixin(this, _typesBasic2['default']);\n\t\n\t  return this;\n\t}).call([]);\n\t\n\texports['default'] = BasicArray;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\texports.__esModule = true;\n\t/**\n\t * Utility functions.\n\t * @namespace\n\t * @author Micah Rolon <micah@ginasink.com>\n\t * @memberof module:play~pl\n\t */\n\tvar util = new function () {\n\t\n\t\t/**\n\t  * Accepts one or more objects to combine their own properties to single object.\n\t  * @arg {object} _target - The object that will recieve all members.\n\t  * @arg {object} _sources... - The object(s) to join with the '_target'.\n\t  * @returns {object} _target\n\t  */\n\t\tthis.mixin = function () {\n\t\t\tvar member, i, target, objs;\n\t\n\t\t\ttarget = arguments[0];\n\t\t\tobjs = [].slice.call(arguments, 1);\n\t\n\t\t\tfor (i = 0; i < objs.length; i += 1) {\n\t\t\t\tfor (member in objs[i]) {\n\t\t\t\t\tif (!objs[i].hasOwnProperty(member)) continue;\n\t\t\t\t\ttarget[member] = objs[i][member];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn target;\n\t\t};\n\t\n\t\t/**\n\t  * Matches the name of the key which references the given pointer inside an object. Like indexOf() for objects.\n\t  * @arg {object} _obj - Object to search in.\n\t  * @arg {*} _member - The reference which is expected to be in the object as a property.\n\t  * @returns {string} The name of the key in the object matching '_member'.\n\t  */\n\t\tthis.keyOf = function (_obj, _member) {\n\t\t\tvar member;\n\t\n\t\t\tfor (member in _obj) {\n\t\t\t\tif (!_obj.hasOwnProperty(member)) continue;\n\t\t\t\tif (_obj[member] === _member) return member;\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\t};\n\t\n\t\t/**\n\t  * Matches the object, deep in the prototype chain, which is the owner of the property referencing the given pointer.\n\t  * @arg {object} _obj - The object to search.\n\t  * @arg {*} _member - The reference which is expected to be a property in the prototype chain.\n\t  * @return {object} An object containing the name of the property and the owning object. {name, object}\n\t  */\n\t\tthis.getOwner = function (_obj, _member) {\n\t\t\tvar prototype, name;\n\t\n\t\t\tprototype = Object.getPrototypeOf(_obj);\n\t\n\t\t\t// keep searching until we go as deep as we can go.\n\t\t\twhile (prototype) {\n\t\t\t\t// search for the key in the prototype\n\t\t\t\tname = util.keyOf(prototype, _member);\n\t\n\t\t\t\t// If we found the key in the prototype then we found\n\t\t\t\t// our match and we can break out of the loop.\n\t\t\t\tif (name) break;\n\t\n\t\t\t\t// Otherwise go deeper (thats what she said ;p)\n\t\t\t\tprototype = Object.getPrototypeOf(prototype);\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tname: name,\n\t\t\t\tobject: prototype\n\t\t\t};\n\t\t};\n\t\n\t\t/**\n\t  * Given a range; provides a random number in that range.\n\t  * @function play~pl.util.random\n\t  * @arg {number} _rangeA - A number for the low end of the range.\n\t  * @arg {number} _rangeB - The top end of the range.\n\t  * @returns {number|*} The resulting number in range or the member found at random.\n\t  */\n\t\n\t\t/**\n\t  * Given an iterable; provides a random item.\n\t  * @arg {array} _collection - The iterable.\n\t  * @returns {number|*} The member found at random.\n\t  */\n\t\tthis.random = function (_collection_rangeA, _rangeB) {\n\t\t\tvar index, val;\n\t\n\t\t\tindex = Math.floor(Math.random() * _collection_rangeA.length);\n\t\n\t\t\tif (arguments.length === 2) {\n\t\t\t\tval = Math.round(Math.random() * _rangeB);\n\t\n\t\t\t\treturn val < _collection_rangeA ? _collection_rangeA : val;\n\t\t\t}\n\t\n\t\t\tif (index === _collection_rangeA.length) index = _collection_rangeA.length - 1;\n\t\n\t\t\treturn _collection_rangeA && _collection_rangeA[index];\n\t\t};\n\t\n\t\t/**\n\t  * Take string and makes it dot notation friendly.\n\t  * @arg {string} _id - The string to transform.\n\t  * @arg {boolean} _camelCase - Transform with camel case.\n\t  * @returns {string}\n\t  */\n\t\tthis.transformId = function (_id, _camelCase) {\n\t\t\tif (_id && _camelCase) {\n\t\t\t\treturn _id.replace(/[-\\s]+([\\w\\d]?)/g, function (_match) {\n\t\t\t\t\treturn RegExp.$1.toUpperCase();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn _id && _id.replace(/[-\\s]+/g, '_');\n\t\t};\n\t\n\t\t/**\n\t  * Test all arguments for != null\n\t  * @return {boolean}\n\t  */\n\t\tthis.isSet = function () {\n\t\t\treturn [].every.call(arguments, function (_arg) {\n\t\t\t\treturn _arg != null;\n\t\t\t});\n\t\t};\n\t\n\t\t/**\n\t  * Parses a formated string and calculates it in milliseconds.\n\t  * @arg {string} _source - The formated string for calculation in the pattern '1d 1h 1m 1s'.\n\t  * @return {number}\n\t  */\n\t\tthis.toMillisec = function (_source) {\n\t\t\tvar tokens, time, units;\n\t\n\t\t\tif (typeof _source === 'number') return _source;\n\t\t\tif (!_source) return;\n\t\n\t\t\ttokens = _source.split(/\\s+/);\n\t\t\ttime = 0;\n\t\t\tunits = {\n\t\t\t\td: 24 * 60 * 60 * 1000,\n\t\t\t\th: 60 * 60 * 1000,\n\t\t\t\tm: 60 * 1000,\n\t\t\t\ts: 1000\n\t\t\t};\n\t\n\t\t\ttokens.forEach(function (_token) {\n\t\t\t\tvar unit, value;\n\t\n\t\t\t\tunit = (_token.match(/[dhms]/) || [])[0];\n\t\n\t\t\t\tif (unit) {\n\t\t\t\t\tvalue = Number(_token.slice(0, -1));\n\t\t\t\t\ttime += value * units[unit];\n\t\t\t\t} else {\n\t\t\t\t\ttime += Number(_token);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\treturn time;\n\t\t};\n\t\n\t\t/**\n\t  * Needs no introduction\n\t  * @arg {iterable} _collection - iterable.\n\t  * @return {array}\n\t  */\n\t\tthis.toArray = function (_collection) {\n\t\t\treturn Array.prototype.map.call(_collection, function (i) {\n\t\t\t\treturn i;\n\t\t\t});\n\t\t};\n\t\n\t\t/**\n\t  * Resolves the value in the object at the given path.\n\t  * @arg {object} _obj - The object to query.\n\t  * @arg {string} _path - The path to the desired reference.\n\t  * @returns {*} The resulting reference value.\n\t  * @example\n\t  * var user = {\n\t  *   name: 'John',\n\t  *   family: {\n\t  *\t   guardians: {David}, // property could be an array of multiple guardians.\n\t  *     siblings: [{Jane}, {Thomas}] // collection of user objects.\n\t  *   }\n\t  * };\n\t  *\n\t  * pl.util.resolvePath(user, 'family.sliblings[2].name');\n\t  * // Matches the `guardians` propery if `guardians[0]` is undefined when `?` is used.\n\t  * pl.util.resolvePath(user, 'family.guardians[0]?.name'); \n\t  */\n\t\tthis.resolvePath = function (_obj, _path) {\n\t\t\tvar path, obj, i, name, index, testArray;\n\t\n\t\t\tpath = _path.split('.');\n\t\t\tobj = _obj;\n\t\t\ti = 0;\n\t\n\t\t\twhile (obj) {\n\t\t\t\ttestArray = /\\?$/.test(path[i]);\n\t\t\t\tindex = (path[i].match(/\\[(\\d+)\\]/) || [])[1] || -1;\n\t\t\t\tname = ~index ? path[i].slice(0, path[i].indexOf('[')) : path[i];\n\t\t\t\tobj = obj[name];\n\t\n\t\t\t\tif (~index && obj) {\n\t\t\t\t\tobj = testArray ? obj[index] || obj : obj[index];\n\t\t\t\t}\n\t\n\t\t\t\ti += 1;\n\t\n\t\t\t\tif (path.length === i) break;\n\t\t\t}\n\t\n\t\t\treturn obj;\n\t\t};\n\t\n\t\tthis.assignRef = function (_obj, _name, _ref) {\n\t\t\tvar name;\n\t\n\t\t\tname = util.transformId(_name, true);\n\t\n\t\t\tif (_obj[name] === _ref) return _ref;\n\t\n\t\t\tif (_obj[name]) {\n\t\t\t\tif (!_obj[name].__refCollction__) {\n\t\t\t\t\t_obj[name] = [_obj[name]];\n\t\n\t\t\t\t\tObject.defineProperty(_obj[name], '__refCollction__', {\n\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\tenumerable: false,\n\t\t\t\t\t\twriteable: false,\n\t\t\t\t\t\tconfigureable: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\t_obj[name].push(_ref);\n\t\t\t} else {\n\t\t\t\t_obj[name] = _ref;\n\t\t\t}\n\t\n\t\t\treturn _obj[name];\n\t\t};\n\t\n\t\t/**\n\t  * N0 OPeration.\n\t  */\n\t\tthis.noop = function () {};\n\t\n\t\t/**\n\t  * Get the file name out of a simple file path.\n\t  * @arg {string} _path - The file path. \n\t  * @returns {string} The extracted name.\n\t  */\n\t\tthis.resolveFileName = function (_path) {\n\t\t\treturn _path.slice(_path.lastIndexOf('/') + 1);\n\t\t};\n\t\n\t\t/**\n\t  * Produces a string following the specied pattern. Which is a mix of x, y, z and - characters.\n\t  * - x; produces a letter a-f.\n\t  * - y; produces a digit 0-9.\n\t  * - z; produces a 4 character hex value derived from the now time stamp.\n\t  * @arg {string} _pattern - The xyz pattern.\n\t  * @returns {string} The generated ID.\n\t  */\n\t\tthis.createId = function (_pattern) {\n\t\t\treturn (_pattern || 'xy-z').replace(/[xyz]/g, function (_token) {\n\t\t\t\tif (_token === 'x') return (Math.floor(Math.random() * 5) + 10).toString(16);\n\t\t\t\tif (_token === 'y') return Math.floor(Math.random() * 10).toString(16);\n\t\t\t\treturn Math.floor(Math.random() * Date.now()).toString(16).slice(0, 4);\n\t\t\t});\n\t\t};\n\t}();\n\t\n\texports['default'] = util;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _Object$create = __webpack_require__(20)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Base object type for 'classes' implementing methods for extention and super callbacks.\n\t * @module\n\t * @requires module:play~pl.util\n\t */\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Basic.create()` to get a new instance.\n\t * @classdesc The base type for all objects which will act as prototypes.\n\t * @class\n\t */\n\tvar Basic = {\n\t\t/**\n\t  * Objects with this as an own property will be identified as the root object.\n\t  * @readonly\n\t  * @default\n\t  */\n\t\tbaseType: 'TYPE_BASIC',\n\t\n\t\t/**\n\t  * Creates a new object with the current object as its prototype.\n\t  * @instance\n\t  * @returns {Basic} The new instance.\n\t  */\n\t\tcreate: function create() {\n\t\t\treturn _Object$create(this);\n\t\t},\n\t\n\t\t/**\n\t  * Creates a new object using a constructor function or object with the current object as its prototype.\n\t  * @instance\n\t  * @arg {Function|Object} _implementation - The implementation of the new type as either a constructor function or object to mixin.\n\t  * @returns {Basic} The new instance.\n\t  *\n\t  * @todo define constructor property\n\t  */\n\t\textend: function extend(_implementation) {\n\t\t\tvar instance;\n\t\n\t\t\tif (!_implementation) return null;\n\t\n\t\t\tswitch (typeof _implementation) {\n\t\t\t\tcase 'function':\n\t\t\t\t\t_implementation.prototype = this;\n\t\t\t\t\tinstance = new _implementation();\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'object':\n\t\t\t\t\tinstance = this.create();\n\t\t\t\t\tinstance.mixin(_implementation);\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.error('TypeError: Invalid type given for object extention.', typeof _implementation);\n\t\t\t}\n\t\n\t\t\treturn instance;\n\t\t},\n\t\n\t\t/**\n\t  * Accepts one or more objects to combine their own properties to the instance.\n\t  * @instance\n\t  * @arg {object} _sources... - The object(s) to join with the instance.\n\t  * @returns this\n\t  */\n\t\tmixin: function mixin() {\n\t\t\treturn _util2['default'].mixin.apply(null, [this].concat([].slice.call(arguments, 0)));\n\t\t},\n\t\n\t\t/**\n\t  * Matches the name of the key which references the given pointer inside the instance. Like indexOf() for objects.\n\t  * @instance\n\t  * @arg {*} _member - The reference which is expected to be in the object as a property.\n\t  * @returns {string} The name of the key in the object matching '_member'.\n\t  */\n\t\tkeyOf: function keyOf(_member) {\n\t\t\treturn _util2['default'].keyOf(this, _member);\n\t\t},\n\t\n\t\t/**\n\t  * Performs a super callback of the function which called it. Allowing you to still invoke a method which was overridden.\n\t  * @instance\n\t  * @arg {*} _args... - Whatever amount of arguments the caller takes.\n\t  * @returns {*} Whatever the caller returns.\n\t  */\n\t\tproto: function proto() {\n\t\t\tvar method, name, owner, prototype;\n\t\n\t\t\t// Get the function which invoked proto() in the call stack.\n\t\t\t// If the caller is a behavior then we retrieve the method.\n\t\t\tmethod = this.proto.caller.method || this.proto.caller;\n\t\n\t\t\t// Check to see if 'this' owns the method.\n\t\t\t// NOTE: We may want to move this logic into getOwner().\n\t\t\tif (name = this.keyOf(method)) {\n\t\t\t\tprototype = Object.getPrototypeOf(this);\n\t\t\t}\n\t\n\t\t\t// Otherwise find the object which owns the caller function.\n\t\t\telse {\n\t\t\t\t\towner = _util2['default'].getOwner(this, method);\n\t\t\t\t\tname = owner.name;\n\t\t\t\t\tprototype = Object.getPrototypeOf(owner.object);\n\t\t\t\t}\n\t\n\t\t\tmethod = prototype[name];\n\t\n\t\t\tif (!method) {\n\t\t\t\tconsole.error('ReferenceError: Unable to locate prototype method.', this.proto.caller);\n\t\t\t\tdebugger;\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\treturn method.apply(this, arguments);\n\t\t},\n\t\n\t\t/**\n\t  * Performs a super callback of the function which called it. Unlike `proto()` which looks for the overidden method, sup looks for the base class' implementation.\n\t  * @instance\n\t  * @arg {*} _args... - Whatever amount of arguments the caller takes.\n\t  * @returns {*} Whatever the caller returns.\n\t  */\n\t\tsup: function sup() {\n\t\t\tvar method, name, owner, prototype;\n\t\n\t\t\t// Get the function which invoked sup() in the call stack.\n\t\t\tmethod = this.sup.caller;\n\t\t\towner = _util2['default'].getOwner(this, this.baseType);\n\t\t\tprototype = owner.object;\n\t\t\tname = this.keyOf(method);\n\t\n\t\t\t// Check to see if 'this' owns the method.\n\t\t\t// NOTE: We may want to move this logic into getOwner().\n\t\t\t//\n\t\t\tif (!name) {\n\t\t\t\towner = _util2['default'].getOwner(this, method);\n\t\t\t\tname = owner.name;\n\t\t\t}\n\t\n\t\t\tmethod = prototype[name];\n\t\n\t\t\tif (!method) {\n\t\t\t\tconsole.error('ReferenceError: Unable to locate prototype method.', this.sup.caller);\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\treturn method.apply(this, arguments);\n\t\t},\n\t\n\t\t/**\n\t  * Provides the object type.\n\t  * @instance\n\t  */\n\t\ttoString: function toString() {\n\t\t\tvar type;\n\t\n\t\t\tif (this.baseType) {\n\t\t\t\ttype = this.baseType.replace('TYPE_', '');\n\t\t\t\ttype = type.slice(0, 1) + type.slice(1).toLowerCase();\n\t\t\t} else {\n\t\t\t\ttype = this.constructor.name || 'Object';\n\t\t\t}\n\t\n\t\t\treturn '[object ' + type + ']';\n\t\t}\n\t\n\t};\n\t\n\texports['default'] = Basic;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(21), __esModule: true };\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(8);\n\tmodule.exports = function create(P, D){\n\t  return $.create(P, D);\n\t};\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\texports.__esModule = true;\n\t/**\r\n\t *\r\n\t * Copy of the deleted repository epistemex/transformation-matrix-js.\r\n\t * All rights are reserved to Epistemex.\r\n\t *\r\n\t * 2D transformation matrix object initialized with identity matrix.\r\n\t *\r\n\t * The matrix can synchronize a canvas context by supplying the context\r\n\t * as an argument, or later apply current absolute transform to an\r\n\t * existing context.\r\n\t *\r\n\t * All values are handled as floating point values.\r\n\t *\r\n\t * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n\t * @prop {number} a - scale x\r\n\t * @prop {number} b - shear y\r\n\t * @prop {number} c - shear x\r\n\t * @prop {number} d - scale y\r\n\t * @prop {number} e - translate x\r\n\t * @prop {number} f - translate y\r\n\t * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n\t * @constructor\r\n\t */\n\tfunction Matrix(context) {\n\t\n\t    var me = this;\n\t    me._t = me.transform;\n\t\n\t    me.a = me.d = 1;\n\t    me.b = me.c = me.e = me.f = 0;\n\t\n\t    me.context = context;\n\t\n\t    // reset canvas transformations (if any) to enable 100% sync.\n\t    if (context) context.setTransform(1, 0, 0, 1, 0, 0);\n\t}\n\t\n\tMatrix.prototype = {\n\t\n\t    /**\r\n\t     * Concatenates transforms of this matrix onto the given child matrix and\r\n\t     * returns a new matrix. This instance is used on left side.\r\n\t     *\r\n\t     * @param {Matrix} cm - child matrix to apply concatenation to\r\n\t     * @returns {Matrix}\r\n\t     */\n\t    concat: function concat(cm) {\n\t        return this.clone()._t(cm.a, cm.b, cm.c, cm.d, cm.e, cm.f);\n\t    },\n\t\n\t    /**\r\n\t     * Flips the horizontal values.\r\n\t     */\n\t    flipX: function flipX() {\n\t        return this._t(-1, 0, 0, 1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Flips the vertical values.\r\n\t     */\n\t    flipY: function flipY() {\n\t        return this._t(1, 0, 0, -1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Reflects incoming (velocity) vector on the normal which will be the\r\n\t     * current transformed x axis. Call when a trigger condition is met.\r\n\t     *\r\n\t     * NOTE: BETA, simple implementation\r\n\t     *\r\n\t     * @param {number} x - vector end point for x (start = 0)\r\n\t     * @param {number} y - vector end point for y (start = 0)\r\n\t     * @returns {{x: number, y: number}}\r\n\t     */\n\t    reflectVector: function reflectVector(x, y) {\n\t\n\t        var v = this.applyToPoint(0, 1),\n\t            d = 2 * (v.x * x + v.y * y);\n\t\n\t        x -= d * v.x;\n\t        y -= d * v.y;\n\t\n\t        return { x: x, y: y };\n\t    },\n\t\n\t    /**\r\n\t     * Short-hand to reset current matrix to an identity matrix.\r\n\t     */\n\t    reset: function reset() {\n\t        return this.setTransform(1, 0, 0, 1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Rotates current matrix accumulative by angle.\r\n\t     * @param {number} angle - angle in radians\r\n\t     */\n\t    rotate: function rotate(angle) {\n\t        var cos = Math.cos(angle),\n\t            sin = Math.sin(angle);\n\t        return this._t(cos, sin, -sin, cos, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Converts a vector given as x and y to angle, and\r\n\t     * rotates (accumulative).\r\n\t     * @param x\r\n\t     * @param y\r\n\t     * @returns {*}\r\n\t     */\n\t    rotateFromVector: function rotateFromVector(x, y) {\n\t        return this.rotate(Math.atan2(y, x));\n\t    },\n\t\n\t    /**\r\n\t     * Helper method to make a rotation based on an angle in degrees.\r\n\t     * @param {number} angle - angle in degrees\r\n\t     */\n\t    rotateDeg: function rotateDeg(angle) {\n\t        return this.rotate(angle * Math.PI / 180);\n\t    },\n\t\n\t    /**\r\n\t     * Scales current matrix uniformly and accumulative.\r\n\t     * @param {number} f - scale factor for both x and y (1 does nothing)\r\n\t     */\n\t    scaleU: function scaleU(f) {\n\t        return this._t(f, 0, 0, f, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Scales current matrix accumulative.\r\n\t     * @param {number} sx - scale factor x (1 does nothing)\r\n\t     * @param {number} sy - scale factor y (1 does nothing)\r\n\t     */\n\t    scale: function scale(sx, sy) {\n\t        return this._t(sx, 0, 0, sy, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Scales current matrix on x axis accumulative.\r\n\t     * @param {number} sx - scale factor x (1 does nothing)\r\n\t     */\n\t    scaleX: function scaleX(sx) {\n\t        return this._t(sx, 0, 0, 1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Scales current matrix on y axis accumulative.\r\n\t     * @param {number} sy - scale factor y (1 does nothing)\r\n\t     */\n\t    scaleY: function scaleY(sy) {\n\t        return this._t(1, 0, 0, sy, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Apply shear to the current matrix accumulative.\r\n\t     * @param {number} sx - amount of shear for x\r\n\t     * @param {number} sy - amount of shear for y\r\n\t     */\n\t    shear: function shear(sx, sy) {\n\t        return this._t(1, sy, sx, 1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Apply shear for x to the current matrix accumulative.\r\n\t     * @param {number} sx - amount of shear for x\r\n\t     */\n\t    shearX: function shearX(sx) {\n\t        return this._t(1, 0, sx, 1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Apply shear for y to the current matrix accumulative.\r\n\t     * @param {number} sy - amount of shear for y\r\n\t     */\n\t    shearY: function shearY(sy) {\n\t        return this._t(1, sy, 0, 1, 0, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Apply skew to the current matrix accumulative.\r\n\t     * @param {number} ax - angle of skew for x\r\n\t     * @param {number} ay - angle of skew for y\r\n\t     */\n\t    skew: function skew(ax, ay) {\n\t        return this.shear(Math.tan(ax), Math.tan(ay));\n\t    },\n\t\n\t    /**\r\n\t     * Apply skew for x to the current matrix accumulative.\r\n\t     * @param {number} ax - angle of skew for x\r\n\t     */\n\t    skewX: function skewX(ax) {\n\t        return this.shearX(Math.tan(ax));\n\t    },\n\t\n\t    /**\r\n\t     * Apply skew for y to the current matrix accumulative.\r\n\t     * @param {number} ay - angle of skew for y\r\n\t     */\n\t    skewY: function skewY(ay) {\n\t        return this.shearY(Math.tan(ay));\n\t    },\n\t\n\t    /**\r\n\t     * Set current matrix to new absolute matrix.\r\n\t     * @param {number} a - scale x\r\n\t     * @param {number} b - shear y\r\n\t     * @param {number} c - shear x\r\n\t     * @param {number} d - scale y\r\n\t     * @param {number} e - translate x\r\n\t     * @param {number} f - translate y\r\n\t     */\n\t    setTransform: function setTransform(a, b, c, d, e, f) {\n\t        var me = this;\n\t        me.a = a;\n\t        me.b = b;\n\t        me.c = c;\n\t        me.d = d;\n\t        me.e = e;\n\t        me.f = f;\n\t        return me._x();\n\t    },\n\t\n\t    /**\r\n\t     * Translate current matrix accumulative.\r\n\t     * @param {number} tx - translation for x\r\n\t     * @param {number} ty - translation for y\r\n\t     */\n\t    translate: function translate(tx, ty) {\n\t        return this._t(1, 0, 0, 1, tx, ty);\n\t    },\n\t\n\t    /**\r\n\t     * Translate current matrix on x axis accumulative.\r\n\t     * @param {number} tx - translation for x\r\n\t     */\n\t    translateX: function translateX(tx) {\n\t        return this._t(1, 0, 0, 1, tx, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Translate current matrix on y axis accumulative.\r\n\t     * @param {number} ty - translation for y\r\n\t     */\n\t    translateY: function translateY(ty) {\n\t        return this._t(1, 0, 0, 1, 0, ty);\n\t    },\n\t\n\t    /**\r\n\t     * Multiplies current matrix with new matrix values.\r\n\t     * @param {number} a2 - scale x\r\n\t     * @param {number} b2 - shear y\r\n\t     * @param {number} c2 - shear x\r\n\t     * @param {number} d2 - scale y\r\n\t     * @param {number} e2 - translate x\r\n\t     * @param {number} f2 - translate y\r\n\t     */\n\t    transform: function transform(a2, b2, c2, d2, e2, f2) {\n\t\n\t        var me = this,\n\t            a1 = me.a,\n\t            b1 = me.b,\n\t            c1 = me.c,\n\t            d1 = me.d,\n\t            e1 = me.e,\n\t            f1 = me.f;\n\t\n\t        /* matrix order (canvas compatible):\r\n\t         * ace\r\n\t         * bdf\r\n\t         * 001\r\n\t         */\n\t        me.a = a1 * a2 + c1 * b2;\n\t        me.b = b1 * a2 + d1 * b2;\n\t        me.c = a1 * c2 + c1 * d2;\n\t        me.d = b1 * c2 + d1 * d2;\n\t        me.e = a1 * e2 + c1 * f2 + e1;\n\t        me.f = b1 * e2 + d1 * f2 + f1;\n\t\n\t        return me._x();\n\t    },\n\t\n\t    /**\r\n\t     * Divide this matrix on input matrix which must be invertible.\r\n\t     * @param {Matrix} m - matrix to divide on (divisor)\r\n\t     * @returns {Matrix}\r\n\t     */\n\t    divide: function divide(m) {\n\t\n\t        if (!m.isInvertible()) throw \"Input matrix is not invertible\";\n\t\n\t        var im = m.inverse();\n\t\n\t        return this._t(im.a, im.b, im.c, im.d, im.e, im.f);\n\t    },\n\t\n\t    /**\r\n\t     * Divide current matrix on scalar value != 0.\r\n\t     * @param {number} d - divisor (can not be 0)\r\n\t     * @returns {Matrix}\r\n\t     */\n\t    divideScalar: function divideScalar(d) {\n\t\n\t        var me = this;\n\t        me.a /= d;\n\t        me.b /= d;\n\t        me.c /= d;\n\t        me.d /= d;\n\t        me.e /= d;\n\t        me.f /= d;\n\t\n\t        return me._x();\n\t    },\n\t\n\t    /**\r\n\t     * Get an inverse matrix of current matrix. The method returns a new\r\n\t     * matrix with values you need to use to get to an identity matrix.\r\n\t     * Context from parent matrix is not applied to the returned matrix.\r\n\t     * @returns {Matrix}\r\n\t     */\n\t    inverse: function inverse() {\n\t\n\t        if (this.isIdentity()) {\n\t            return new Matrix();\n\t        } else if (!this.isInvertible()) {\n\t            throw \"Matrix is not invertible.\";\n\t        } else {\n\t            var me = this,\n\t                a = me.a,\n\t                b = me.b,\n\t                c = me.c,\n\t                d = me.d,\n\t                e = me.e,\n\t                f = me.f,\n\t                m = new Matrix(),\n\t                dt = a * d - b * c; // determinant(), skip DRY here...\n\t\n\t            m.a = d / dt;\n\t            m.b = -b / dt;\n\t            m.c = -c / dt;\n\t            m.d = a / dt;\n\t            m.e = (c * f - d * e) / dt;\n\t            m.f = -(a * f - b * e) / dt;\n\t\n\t            return m;\n\t        }\n\t    },\n\t\n\t    /**\r\n\t     * Interpolate this matrix with another and produce a new matrix.\r\n\t     * t is a value in the range [0.0, 1.0] where 0 is this instance and\r\n\t     * 1 is equal to the second matrix. The t value is not constrained.\r\n\t     *\r\n\t     * Context from parent matrix is not applied to the returned matrix.\r\n\t     *\r\n\t     * Note: this interpolation is naive. For animation use the\r\n\t     * intrpolateAnim() method instead.\r\n\t     *\r\n\t     * @param {Matrix} m2 - the matrix to interpolate with.\r\n\t     * @param {number} t - interpolation [0.0, 1.0]\r\n\t     * @param {CanvasRenderingContext2D} [context] - optional context to affect\r\n\t     * @returns {Matrix} - new instance with the interpolated result\r\n\t     */\n\t    interpolate: function interpolate(m2, t, context) {\n\t\n\t        var me = this,\n\t            m = context ? new Matrix(context) : new Matrix();\n\t\n\t        m.a = me.a + (m2.a - me.a) * t;\n\t        m.b = me.b + (m2.b - me.b) * t;\n\t        m.c = me.c + (m2.c - me.c) * t;\n\t        m.d = me.d + (m2.d - me.d) * t;\n\t        m.e = me.e + (m2.e - me.e) * t;\n\t        m.f = me.f + (m2.f - me.f) * t;\n\t\n\t        return m._x();\n\t    },\n\t\n\t    /**\r\n\t     * Interpolate this matrix with another and produce a new matrix.\r\n\t     * t is a value in the range [0.0, 1.0] where 0 is this instance and\r\n\t     * 1 is equal to the second matrix. The t value is not constrained.\r\n\t     *\r\n\t     * Context from parent matrix is not applied to the returned matrix.\r\n\t     *\r\n\t     * Note: this interpolation method uses decomposition which makes\r\n\t     * it suitable for animations (in particular where rotation takes\r\n\t     * places).\r\n\t     *\r\n\t     * @param {Matrix} m2 - the matrix to interpolate with.\r\n\t     * @param {number} t - interpolation [0.0, 1.0]\r\n\t     * @param {CanvasRenderingContext2D} [context] - optional context to affect\r\n\t     * @returns {Matrix} - new instance with the interpolated result\r\n\t     */\n\t    interpolateAnim: function interpolateAnim(m2, t, context) {\n\t\n\t        var me = this,\n\t            m = context ? new Matrix(context) : new Matrix(),\n\t            d1 = me.decompose(),\n\t            d2 = m2.decompose(),\n\t            rotation = d1.rotation + (d2.rotation - d1.rotation) * t,\n\t            translateX = d1.translate.x + (d2.translate.x - d1.translate.x) * t,\n\t            translateY = d1.translate.y + (d2.translate.y - d1.translate.y) * t,\n\t            scaleX = d1.scale.x + (d2.scale.x - d1.scale.x) * t,\n\t            scaleY = d1.scale.y + (d2.scale.y - d1.scale.y) * t;\n\t\n\t        m.translate(translateX, translateY);\n\t        m.rotate(rotation);\n\t        m.scale(scaleX, scaleY);\n\t\n\t        return m._x();\n\t    },\n\t\n\t    /**\r\n\t     * Decompose the current matrix into simple transforms using either\r\n\t     * QR (default) or LU decomposition. Code adapted from\r\n\t     * http://www.maths-informatique-jeux.com/blog/frederic/?post/2013/12/01/Decomposition-of-2D-transform-matrices\r\n\t     *\r\n\t     * The result must be applied in the following order to reproduce the current matrix:\r\n\t     *\r\n\t     *     QR: translate -> rotate -> scale -> skewX\r\n\t     *     LU: translate -> skewY  -> scale -> skewX\r\n\t     *\r\n\t     * @param {boolean} [useLU=false] - set to true to use LU rather than QR algorithm\r\n\t     * @returns {*} - an object containing current decomposed values (rotate, skew, scale, translate)\r\n\t     */\n\t    decompose: function decompose(useLU) {\n\t\n\t        var me = this,\n\t            a = me.a,\n\t            b = me.b,\n\t            c = me.c,\n\t            d = me.d,\n\t            acos = Math.acos,\n\t            atan = Math.atan,\n\t            sqrt = Math.sqrt,\n\t            pi = Math.PI,\n\t            translate = { x: me.e, y: me.f },\n\t            rotation = 0,\n\t            scale = { x: 1, y: 1 },\n\t            skew = { x: 0, y: 0 },\n\t            determ = a * d - b * c; // determinant(), skip DRY here...\n\t\n\t        if (useLU) {\n\t            if (a) {\n\t                skew = { x: atan(c / a), y: atan(b / a) };\n\t                scale = { x: a, y: determ / a };\n\t            } else if (b) {\n\t                rotation = pi * 0.5;\n\t                scale = { x: b, y: determ / b };\n\t                skew.x = atan(d / b);\n\t            } else {\n\t                // a = b = 0\n\t                scale = { x: c, y: d };\n\t                skew.x = pi * 0.25;\n\t            }\n\t        } else {\n\t            // Apply the QR-like decomposition.\n\t            if (a || b) {\n\t                var r = sqrt(a * a + b * b);\n\t                rotation = b > 0 ? acos(a / r) : -acos(a / r);\n\t                scale = { x: r, y: determ / r };\n\t                skew.x = atan((a * c + b * d) / (r * r));\n\t            } else if (c || d) {\n\t                var s = sqrt(c * c + d * d);\n\t                rotation = pi * 0.5 - (d > 0 ? acos(-c / s) : -acos(c / s));\n\t                scale = { x: determ / s, y: s };\n\t                skew.y = atan((a * c + b * d) / (s * s));\n\t            } else {\n\t                // a = b = c = d = 0\n\t                scale = { x: 0, y: 0 }; // = invalid matrix\n\t            }\n\t        }\n\t\n\t        return {\n\t            scale: scale,\n\t            translate: translate,\n\t            rotation: rotation,\n\t            skew: skew\n\t        };\n\t    },\n\t\n\t    /**\r\n\t     * Returns the determinant of the current matrix.\r\n\t     * @returns {number}\r\n\t     */\n\t    determinant: function determinant() {\n\t        return this.a * this.d - this.b * this.c;\n\t    },\n\t\n\t    /**\r\n\t     * Apply current matrix to x and y point.\r\n\t     * Returns a point object.\r\n\t     *\r\n\t     * @param {number} x - value for x\r\n\t     * @param {number} y - value for y\r\n\t     * @returns {{x: number, y: number}} A new transformed point object\r\n\t     */\n\t    applyToPoint: function applyToPoint(x, y) {\n\t\n\t        var me = this;\n\t\n\t        return {\n\t            x: x * me.a + y * me.c + me.e,\n\t            y: x * me.b + y * me.d + me.f\n\t        };\n\t    },\n\t\n\t    /**\r\n\t     * Apply current matrix to array with point objects or point pairs.\r\n\t     * Returns a new array with points in the same format as the input array.\r\n\t     *\r\n\t     * A point object is an object literal:\r\n\t     *\r\n\t     * {x: x, y: y}\r\n\t     *\r\n\t     * so an array would contain either:\r\n\t     *\r\n\t     * [{x: x1, y: y1}, {x: x2, y: y2}, ... {x: xn, y: yn}]\r\n\t     *\r\n\t     * or\r\n\t     * [x1, y1, x2, y2, ... xn, yn]\r\n\t     *\r\n\t     * @param {Array} points - array with point objects or pairs\r\n\t     * @returns {Array} A new array with transformed points\r\n\t     */\n\t    applyToArray: function applyToArray(points) {\n\t\n\t        var i = 0,\n\t            p,\n\t            l,\n\t            mxPoints = [];\n\t\n\t        if (typeof points[0] === 'number') {\n\t\n\t            l = points.length;\n\t\n\t            while (i < l) {\n\t                p = this.applyToPoint(points[i++], points[i++]);\n\t                mxPoints.push(p.x, p.y);\n\t            }\n\t        } else {\n\t            for (; p = points[i]; i++) {\n\t                mxPoints.push(this.applyToPoint(p.x, p.y));\n\t            }\n\t        }\n\t\n\t        return mxPoints;\n\t    },\n\t\n\t    /**\r\n\t     * Apply current matrix to a typed array with point pairs. Although\r\n\t     * the input array may be an ordinary array, this method is intended\r\n\t     * for more performant use where typed arrays are used. The returned\r\n\t     * array is regardless always returned as a Float32Array.\r\n\t     *\r\n\t     * @param {*} points - (typed) array with point pairs\r\n\t     * @param {boolean} [use64=false] - use Float64Array instead of Float32Array\r\n\t     * @returns {*} A new typed array with transformed points\r\n\t     */\n\t    applyToTypedArray: function applyToTypedArray(points, use64) {\n\t\n\t        var i = 0,\n\t            p,\n\t            l = points.length,\n\t            mxPoints = use64 ? new Float64Array(l) : new Float32Array(l);\n\t\n\t        while (i < l) {\n\t            p = this.applyToPoint(points[i], points[i + 1]);\n\t            mxPoints[i++] = p.x;\n\t            mxPoints[i++] = p.y;\n\t        }\n\t\n\t        return mxPoints;\n\t    },\n\t\n\t    /**\r\n\t     * Apply to any canvas 2D context object. This does not affect the\r\n\t     * context that optionally was referenced in constructor unless it is\r\n\t     * the same context.\r\n\t     * @param {CanvasRenderingContext2D} context\r\n\t     */\n\t    applyToContext: function applyToContext(context) {\n\t        var me = this;\n\t        context.setTransform(me.a, me.b, me.c, me.d, me.e, me.f);\n\t        return me;\n\t    },\n\t\n\t    /**\r\n\t     * Returns true if matrix is an identity matrix (no transforms applied).\r\n\t     * @returns {boolean} True if identity (not transformed)\r\n\t     */\n\t    isIdentity: function isIdentity() {\n\t        var me = this;\n\t        return me._q(me.a, 1) && me._q(me.b, 0) && me._q(me.c, 0) && me._q(me.d, 1) && me._q(me.e, 0) && me._q(me.f, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Returns true if matrix is invertible\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isInvertible: function isInvertible() {\n\t        return !this._q(this.determinant(), 0);\n\t    },\n\t\n\t    /**\r\n\t     * Test if matrix is valid.\r\n\t     */\n\t    isValid: function isValid() {\n\t        return !this._q(this.a * this.d, 0);\n\t    },\n\t\n\t    /**\r\n\t     * Clones current instance and returning a new matrix.\r\n\t     * @param {boolean} [noContext=false] don't clone context reference if true\r\n\t     * @returns {Matrix}\r\n\t     */\n\t    clone: function clone(noContext) {\n\t        var me = this,\n\t            m = new Matrix();\n\t        m.a = me.a;\n\t        m.b = me.b;\n\t        m.c = me.c;\n\t        m.d = me.d;\n\t        m.e = me.e;\n\t        m.f = me.f;\n\t        if (!noContext) m.context = me.context;\n\t\n\t        return m;\n\t    },\n\t\n\t    /**\r\n\t     * Compares current matrix with another matrix. Returns true if equal\r\n\t     * (within epsilon tolerance).\r\n\t     * @param {Matrix} m - matrix to compare this matrix with\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isEqual: function isEqual(m) {\n\t\n\t        var me = this,\n\t            q = me._q;\n\t\n\t        return q(me.a, m.a) && q(me.b, m.b) && q(me.c, m.c) && q(me.d, m.d) && q(me.e, m.e) && q(me.f, m.f);\n\t    },\n\t\n\t    /**\r\n\t     * Returns an array with current matrix values.\r\n\t     * @returns {Array}\r\n\t     */\n\t    toArray: function toArray() {\n\t        var me = this;\n\t        return [me.a, me.b, me.c, me.d, me.e, me.f];\n\t    },\n\t\n\t    /**\r\n\t     * Generates a matrix() string that can be used with CSS transform.\r\n\t     * @returns {string}\r\n\t     */\n\t    toCSS: function toCSS() {\n\t        return \"matrix(\" + this.toArray() + \")\";\n\t    },\n\t\n\t    /**\r\n\t     * Generates a matrix3d() string that can be used with CSS transform.\r\n\t     * @returns {string}\r\n\t     */\n\t    toCSS3D: function toCSS3D() {\n\t        var me = this;\n\t        return \"matrix3d(\" + me.a + \", \" + me.b + \", 0, 0, \" + me.c + \", \" + me.d + \", 0, 0, 0, 0, 1, 0, \" + me.e + \", \" + me.f + \", 0, 1)\";\n\t    },\n\t\n\t    /**\r\n\t     * Returns a JSON compatible string of current matrix.\r\n\t     * @returns {string}\r\n\t     */\n\t    toJSON: function toJSON() {\n\t        return JSON.stringify(this.toArray());\n\t    },\n\t\n\t    /**\r\n\t     * Returns a string with current matrix as comma-separated list.\r\n\t     * @returns {string}\r\n\t     */\n\t    toString: function toString() {\n\t        return \"\" + this.toArray();\n\t    },\n\t\n\t    /**\r\n\t     * Compares floating point values with some tolerance (epsilon)\r\n\t     * @param {number} f1 - float 1\r\n\t     * @param {number} f2 - float 2\r\n\t     * @returns {boolean}\r\n\t     * @private\r\n\t     */\n\t    _q: function _q(f1, f2) {\n\t        return Math.abs(f1 - f2) < 1e-14;\n\t    },\n\t\n\t    /**\r\n\t     * Apply current absolute matrix to context if defined, to sync it.\r\n\t     * @private\r\n\t     */\n\t    _x: function _x() {\n\t        var me = this;\n\t        if (me.context) me.context.setTransform(me.a, me.b, me.c, me.d, me.e, me.f);\n\t        return me;\n\t    }\n\t};\n\t\n\texports[\"default\"] = Matrix;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Defines the global root level namespace for the library.\n\t *\n\t * @module\n\t * @author Micah Rolon <micah@ginasink.com>\n\t *\n\t * @requires game\n\t * @requires module:play~pl.util\n\t * @requires types/Basic\n\t * @requires types/Dimensions\n\t */\n\t\n\tvar _playGame = __webpack_require__(24);\n\t\n\tvar _playGame2 = _interopRequireDefault(_playGame);\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesBasic = __webpack_require__(19);\n\t\n\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\n\tvar _typesQueue = __webpack_require__(40);\n\t\n\tvar _typesQueue2 = _interopRequireDefault(_typesQueue);\n\t\n\tvar _typesDimensions = __webpack_require__(14);\n\t\n\tvar pl;\n\t/**\n\t * Resolves the event type for user interactions.\n\t */\n\tfunction resolveEventType() {\n\t\tvar resolution;\n\t\n\t\tif (_playGame2['default'].feature('touch')) {\n\t\t\tresolution = {\n\t\t\t\tACTION: 'touchend',\n\t\t\t\tACTION_DOWN: 'touchstart',\n\t\t\t\tACTION_UP: 'touchend',\n\t\t\t\tACTION_MOVE: 'touchmove',\n\t\t\t\tACTION_OUT: 'touchcancel'\n\t\t\t};\n\t\t} else {\n\t\t\tresolution = {\n\t\t\t\tACTION: 'click',\n\t\t\t\tACTION_DOWN: 'mousedown',\n\t\t\t\tACTION_UP: 'mouseup',\n\t\t\t\tACTION_MOVE: 'mousemove',\n\t\t\t\tACTION_OUT: 'mouseout'\n\t\t\t};\n\t\t}\n\t\n\t\treturn resolution;\n\t}\n\t\n\t/**\n\t * Globaly accesable, root level namespace for the library.\n\t * @namespace\n\t * @prop {object} EVENT - Namespace for noralized event name constants.\n\t * @prop {Basic} Basic - Base object type.\n\t * @prop {Point} Point - Object type which holds values on a 2D cartesian plane.\n\t * @prop {Size} Size - Object type which holds 2-dimentional values for size.\n\t * @prop {function} game - Registers a game view implementation. Also a namespace for other methods.\n\t * @prop {object} util - Namespace for utility functions.\n\t */\n\tpl = {\n\t\tBasic: _typesBasic2['default'], Point: _typesDimensions.Point, Size: _typesDimensions.Size, Queue: _typesQueue2['default'],\n\t\tgame: _playGame2['default'],\n\t\tutil: _util2['default'],\n\t\n\t\t/**\n\t  * @namespace\n\t  * @prop {string} ACTION - The device normalized `click` event name.\n\t  * @prop {string} ACTION_DOWN - The device normalized `mousedown` event name.\n\t  * @prop {string} ACTION_UP - The device normalized `mouseup` event name.\n\t  * @prop {string} ACTION_MOVE - The device normalized `mousemove` event name.\n\t  * @prop {string} ACTION_OUT - The device normalized `mouseout` event name.\n\t  */\n\t\tEVENT: resolveEventType()\n\t};\n\t\n\texports['default'] = pl;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Defines the 'game' method for registration and initialization of game scopes. This method also acts as a namespace for game level functions (See: [pl.game]{@link module:play~pl.game}).\n\t *\n\t * @module game\n\t * @author Micah Rolon <micah@ginasink.com>\n\t *\n\t * @requires play.game.component\n\t * @requires play.game.manager\n\t * @requires util\n\t * @requires types/Events\n\t * @requires types/GlobalScope\n\t * @requires types/Entity\n\t * @requires types/Screen\n\t * @requires types/Game\n\t */\n\t\n\tvar _playGameComponent = __webpack_require__(25);\n\t\n\tvar _playGameComponent2 = _interopRequireDefault(_playGameComponent);\n\t\n\tvar _playGameManager = __webpack_require__(27);\n\t\n\tvar _playGameManager2 = _interopRequireDefault(_playGameManager);\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesEvents = __webpack_require__(26);\n\t\n\tvar _typesEvents2 = _interopRequireDefault(_typesEvents);\n\t\n\tvar _typesGlobalScope = __webpack_require__(30);\n\t\n\tvar _typesGlobalScope2 = _interopRequireDefault(_typesGlobalScope);\n\t\n\tvar _typesEntity = __webpack_require__(93);\n\t\n\tvar _typesEntity2 = _interopRequireDefault(_typesEntity);\n\t\n\tvar _typesScreen = __webpack_require__(94);\n\t\n\tvar _typesScreen2 = _interopRequireDefault(_typesScreen);\n\t\n\tvar _typesGame = __webpack_require__(95);\n\t\n\tvar _typesGame2 = _interopRequireDefault(_typesGame);\n\t\n\tvar _platform = __webpack_require__(96);\n\t\n\tvar _platform2 = _interopRequireDefault(_platform);\n\t\n\tvar GAMES, CONFIG, READY_QUEUE;\n\t\n\t/**\n\t * Define a game scope for registration and/or initialization.\n\t * This method also acts as a namespace for game level functions (See: [pl.game]{@link module:play~pl.game}).\n\t *\n\t * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t */\n\tfunction game(_name, _implementation) {\n\t\tif (game.isDOMReady) {\n\t\t\tinitialize(_name, _implementation);\n\t\t} else {\n\t\t\tregister(_name, _implementation);\n\t\t}\n\t}\n\t\n\tfunction ready(_eventName) {\n\t\tif (READY_QUEUE.length) return false;\n\t\tgame.trigger(_eventName || 'ready');\n\t}\n\t\n\t/**\n\t * Registers an implementation of a game scope for initialization.\n\t * @protected\n\t * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t */\n\tfunction register(_name, _implementation) {\n\t\tif (! ~GAMES.indexOf(_name)) {\n\t\t\tGAMES.push({\n\t\t\t\tid: _name,\n\t\t\t\timplementation: _implementation\n\t\t\t});\n\t\t}\n\t}\n\t\n\t/**\n\t * Initializes an implementation of a game scope. (overloaded)\n\t * @function initialize\n\t * @protected\n\t * @arg {string} _name - The name of the game matched with a DOM nodes 'id' attribute.\n\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t */\n\t\n\t/**\n\t * Initializes an implementation of a game scope.\n\t * @protected\n\t * @arg {array} _collection - The collection of game scope records for initialization.\n\t * @arg {function|object} _implementation - The constructor or object which implements the scope behavior.\n\t */\n\tfunction initialize(_name_collection, _implementation) {\n\t\tswitch (typeof _name_collection) {\n\t\t\tcase 'string':\n\t\t\t\t_typesGlobalScope2['default'][_name_collection] = _typesGame2['default'].extend(_implementation).initialize('#' + _name_collection);\n\t\t\t\tbreak;\n\t\n\t\t\tcase 'object':\n\t\t\t\t_name_collection.forEach(function (_item, _index) {\n\t\t\t\t\tinitialize(_item.id, _item.implementation);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t}\n\t\n\t/** @protected */\n\tGAMES = [];\n\t/** @protected */\n\tCONFIG = {};\n\t/** @protected */\n\tREADY_QUEUE = [];\n\t\n\t/**\n\t * Interface for game level configuration.\n\t * @namespace game\n\t * @memberof module:play~pl\n\t * @mixes Events\n\t */\n\t(function () {\n\t\n\t\tvar audioContext;\n\t\n\t\tthis.component = _playGameComponent2['default'];\n\t\tthis.manager = _playGameManager2['default'];\n\t\n\t\t_util2['default'].mixin(game, _typesEvents2['default']);\n\t\n\t\tthis.on('platform-event', function (_event) {\n\t\t\tconsole.log('play.game -', _event.name, _event.gameData);\n\t\t});\n\t\n\t\t/**\n\t  * Starts the dominos falling\n\t  * @function run\n\t  * @memberof module:play~pl.game\n\t  */\n\t\tthis.run = function () {\n\t\t\tgame.isDOMReady = true;\n\t\t\tgame.trigger('dom-ready');\n\t\n\t\t\tgame.component.loadAll(function () {\n\t\t\t\t// console.log('** All component sources loaded.');\n\t\t\t\tinitialize(GAMES);\n\t\n\t\t\t\tGAMES = null;\n\t\t\t});\n\t\n\t\t\t_platform2['default'].emit(_platform2['default'].EVENT_INIT);\n\t\t};\n\t\n\t\tthis.report = function (_name) {\n\t\t\t_platform2['default'].emit(_name);\n\t\n\t\t\treturn this.report;\n\t\t};\n\t\n\t\tthis.report.exit = function (_gameScope) {\n\t\t\t_platform2['default'].saveGameState(_gameScope.progress());\n\t\t\t_platform2['default'].emit(_platform2['default'].EVENT_EXIT);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.report.flip = function (_gameScope) {\n\t\t\t_platform2['default'].saveGameState(_gameScope.progress());\n\t\t\t_platform2['default'].emit(_platform2['default'].EVENT_FLIPPED);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Getter/Setter for game level configuration.\n\t  * @function module:play~pl.game.config\n\t  * @arg {string} _key - The key to retrieve\n\t  * @returns {this}\n\t  */\n\t\n\t\t/**\n\t  * Getter/Setter for game level configuration.\n\t  * @function config\n\t  * @memberof module:play~pl.game\n\t  * @arg {object} _mixin - Object to set properties on configuration.\n\t  * @returns {this}\n\t  */\n\t\tthis.config = function (_key_mixin) {\n\t\t\tswitch (typeof _key_mixin) {\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn _util2['default'].resolvePath(CONFIG, _key_mixin);\n\t\t\t\tcase 'object':\n\t\t\t\t\tif (_key_mixin) _util2['default'].mixin(CONFIG, _key_mixin);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * @function provideEntityType\n\t  * @deprecated\n\t  * @memberof module:play~pl.game\n\t  */\n\t\tthis.provideEntityType = function () {\n\t\t\treturn _typesEntity2['default'];\n\t\t};\n\t\n\t\t/**\n\t  * @function provideScreenType\n\t  * @deprecated\n\t  * @memberof module:play~pl.game\n\t  */\n\t\tthis.provideScreenType = function () {\n\t\t\treturn _typesScreen2['default'];\n\t\t};\n\t\n\t\t/**\n\t  * Augments the global scope.\n\t  * @function scope\n\t  * @arg {function|object} _mixin - Object or constructor to define members.\n\t  * @returns {this}\n\t  *\n\t  * @memberof module:play~pl.game\n\t  */\n\t\tthis.scope = function (_mixin) {\n\t\t\tif (typeof _mixin === 'function') {\n\t\t\t\t_mixin.call(_typesGlobalScope2['default']);\n\t\t\t} else if (_mixin) {\n\t\t\t\t_typesGlobalScope2['default'].mixin(_mixin);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * @function queue\n\t  * @deprecated\n\t  * @memberof module:play~pl.game\n\t  */\n\t\tthis.queue = function (_item) {\n\t\t\tif (! ~READY_QUEUE.indexOf(_item)) READY_QUEUE.push(_item);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.queue.complete = function (_item, _eventName) {\n\t\t\tvar index;\n\t\n\t\t\tindex = READY_QUEUE.indexOf(_item);\n\t\t\tREADY_QUEUE.splice(index, 1);\n\t\n\t\t\tready(_eventName);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Accessor for the detected features supported by the browser.\n\t  *\n\t  * *Supported Feature Detectors*\n\t  * - touch\n\t  *\n\t  * @function feature;\n\t  * @arg {string} _name - The feature which to test for (i.e. `\"touch\"`)\n\t  * @returns {boolean} The support status for the specified feature.\n\t  */\n\t\tthis.feature = (function () {\n\t\t\tvar detect = {\n\t\t\t\ttouch: function touch() {\n\t\t\t\t\treturn window.hasOwnProperty('ontouchend');\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\treturn function (_name) {\n\t\t\t\tvar tester = detect[_name];\n\t\t\t\tif (!tester && console) console.warn('No feature detection for \"' + _name + '\".');\n\t\t\t\treturn tester && tester();\n\t\t\t};\n\t\t})();\n\t\n\t\tthis.getAudioContext = function () {\n\t\t\tif (!audioContext) {\n\t\t\t\taudioContext = new (window.AudioContext || window.webkitAudioContext)();\n\t\t\t\twindow.onfocus = function () {\n\t\t\t\t\taudioContext.resume();\n\t\t\t\t};\n\t\t\t\twindow.onblur = function () {\n\t\t\t\t\taudioContext.suspend();\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn audioContext;\n\t\t};\n\t\n\t\tthis.enableAudioContext = function () {\n\t\t\tvar ctx, silence;\n\t\n\t\t\tctx = this.getAudioContext();\n\t\t\tsilence = ctx.createBufferSource();\n\t\n\t\t\tsilence.buffer = ctx.createBuffer(2, 1, 44100);\n\t\t\tsilence.connect(ctx.destination);\n\t\t\tsilence.start();\n\t\t\tsilence.disconnect();\n\t\n\t\t\treturn silence;\n\t\t};\n\t}).call(game);\n\t\n\texports['default'] = game;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Defines the `component()` method for component behavior registration. This method is also a namesapce for methods to manage and load component behavior scripts.\n\t *\n\t * @module\n\t * @author Micah Rolon <micah@ginasink.com>\n\t *\n\t * @requires play~pl.util\n\t * @requires types/Events\n\t */\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesEvents = __webpack_require__(26);\n\t\n\tvar _typesEvents2 = _interopRequireDefault(_typesEvents);\n\t\n\t/**\n\t * Collection of component behavior records\n\t * @const\n\t */\n\tvar COMPONENTS;\n\t\n\t/**\n\t * Registers a component behavior.\n\t * @arg {string} _name - The name for the component.\n\t * @arg {function|object} _implementation - Constructor function or object with the behavior's implementation.\n\t * @returns {@link module:play~pl.game}\n\t */\n\tfunction component(_name, _implementation) {\n\t\tif (!component.get(_name)) {\n\t\t\tCOMPONENTS.push({\n\t\t\t\tname: _name,\n\t\t\t\timplementation: _implementation,\n\t\t\t\tconfig: {}\n\t\t\t});\n\t\t}\n\t\n\t\treturn this;\n\t}\n\t\n\tCOMPONENTS = [];\n\t\n\t/**\n\t * Methods to manage and load component behavior scripts.\n\t * @namespace component\n\t * @memberof module:play~pl.game\n\t * @mixes Events\n\t */\n\t(function () {\n\t\n\t\t_util2['default'].mixin(this, _typesEvents2['default']);\n\t\n\t\t/**\n\t  * Given a name; provides the component record. `{name, implementation}`\n\t  * @memberof module:play~pl.game.component\n\t  * @arg {string} _name - The name of the component.\n\t  * @returns {object} The record.\n\t  */\n\t\tthis.get = function (_name) {\n\t\t\tvar i, record;\n\t\n\t\t\tfor (i = 0; record = COMPONENTS[i]; i += 1) {\n\t\t\t\tif (record.name === _name) return record;\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\t};\n\t\n\t\t/**\n\t  * Loads the script for the component. The HTML and CSS will be loaded when the component scope initalizes.<br>\n\t  * The path of the script file is resolved `{pl.game.config.componentDirectory}/{_name}/behavior.js`.\n\t  * @memberof module:play~pl.game.component\n\t  * @arg {string} _name - The name of the component.\n\t  * @arg {function} _callback - Callback for load success.\n\t  * @todo Implement Promises.\n\t  * @returns `this`\n\t  */\n\t\tthis.load = function (_name, _callback) {\n\t\t\tvar path;\n\t\n\t\t\tif (component.get(_name)) {\n\t\t\t\tif (_callback) _callback.call(component, _name);\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\tpath = pl.game.config('componentDirectory') + _name + '/behavior.js';\n\t\n\t\t\t$.getScript(path, function () {\n\t\t\t\tif (_callback) _callback.call(component, _name);\n\t\t\t\tcomponent.trigger('loaded', [_name]);\n\t\t\t});\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Loads all the component scripts for HTML elements with `pl-component` attributes.\n\t  * @memberof module:play~pl.game.component\n\t  * @arg {function} _callback - Callback for load success.\n\t  * @todo Implement Promises.\n\t  * @returns `this`\n\t  */\n\t\tthis.loadAll = function (_callback) {\n\t\t\tvar $components, queue;\n\t\n\t\t\t$components = $('[pl-component]');\n\t\t\tqueue = [];\n\t\n\t\t\t$components.each(function (_index) {\n\t\t\t\tvar name;\n\t\n\t\t\t\tname = $(this).attr('pl-component');\n\t\n\t\t\t\tif (~queue.indexOf(name)) return;\n\t\n\t\t\t\tqueue.push(name);\n\t\t\t});\n\t\n\t\t\tqueue.slice(0).forEach(function (_name) {\n\t\t\t\tcomponent.load(_name, function () {\n\t\t\t\t\tvar index;\n\t\n\t\t\t\t\tindex = queue.indexOf(_name);\n\t\t\t\t\tqueue.splice(index, 1);\n\t\n\t\t\t\t\tif (!queue.length && _callback) _callback.apply(component, arguments);\n\t\t\t\t});\n\t\t\t});\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t// Maybe?\n\t\t// this.config = function () {};\n\t}).call(component);\n\t\n\texports['default'] = component;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t*  Events\n\t*  @desc Contains methods for managing and dispatching events from objects.\n\t*  @proto Basic\n\t*/\n\t\n\tvar _typesBasic = __webpack_require__(19);\n\t\n\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\n\tvar Events = _typesBasic2['default'].extend(function () {\n\t\tvar i, method, methods;\n\t\t/**\n\t *  @desc Creates a function with a proxy to the jQuery method.\n\t *  @param _name (String) The name of the method being proxied.\n\t *  @return (jQuery|*) Either a jQuery object or whatever the original method returns.\n\t *  @private\n\t */\n\t\tfunction createProxyFunction(_name) {\n\t\t\treturn function () {\n\t\t\t\tvar $jq = $();\n\t\t\t\t// We must wrap our object in jQuery. If 'typeof this' is a function then we need\n\t\t\t\t// to add it in this manner, otherwise jQuery treats it like a ready callback.\n\t\t\t\t$jq.push(this);\n\t\n\t\t\t\treturn $.fn[_name].apply($jq, arguments);\n\t\t\t};\n\t\t}\n\t\n\t\tmethods = ['on', 'off', 'trigger'];\n\t\n\t\tthis.baseType = 'TYPE_EVENTS';\n\t\n\t\tfor (i = 0; method = methods[i]; i += 1) {\n\t\t\tthis[method] = createProxyFunction(method);\n\t\t}\n\t});\n\t\n\texports['default'] = Events;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t\n\tvar _playGameManagerDraggable = __webpack_require__(28);\n\t\n\tvar _playGameManagerDraggable2 = _interopRequireDefault(_playGameManagerDraggable);\n\t\n\texports.draggable = _playGameManagerDraggable2['default'];\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesCollection = __webpack_require__(29);\n\t\n\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\n\tvar _typesDimensions = __webpack_require__(14);\n\t\n\tvar COLLECTION_DRAGABLES = _typesCollection2['default'].create();\n\t\n\tvar draggableStyleSheet;\n\t\n\tfunction boot() {\n\t\tcreateHelperStyleSheet();\n\t\tattachEvents();\n\t}\n\t\n\tfunction attachEvents() {\n\t\tvar state, E;\n\t\n\t\tE = pl.EVENT;\n\t\n\t\t// Disable scrolling on touchDevices (particularly for iOS elastic scroll).\n\t\tif (E.ACTION_MOVE === 'touchmove') attachEvents.disableTouchScroll();\n\t\n\t\t$(document).on(E.ACTION_DOWN, function (_event) {\n\t\t\tvar $draggable, scope, cursor, mode, game, point, transform, helperID, dragStartEvent;\n\t\n\t\t\t$draggable = $(_event.target).closest('[pl-draggable]');\n\t\n\t\t\tif ($draggable.length) {\n\t\t\t\tscope = $draggable.scope();\n\t\t\t\tcursor = resolveEventPoint(_event, 1 / scope.game.zoom);\n\t\t\t\tmode = $draggable.pl('draggable');\n\t\t\t\tgame = {\n\t\t\t\t\tposition: scope.game.absolutePosition(),\n\t\t\t\t\tscale: scope.game.transformScale().x\n\t\t\t\t};\n\t\t\t\tpoint = $draggable.absolutePosition().dec(game.position);\n\t\t\t\ttransform = $draggable.transform();\n\t\t\t\thelperID = createID();\n\t\t\t\tstate = {\n\t\t\t\t\tmode: mode,\n\t\t\t\t\t$draggable: $draggable,\n\t\t\t\t\tscope: scope,\n\t\t\t\t\t$helper: null,\n\t\n\t\t\t\t\tstart: {\n\t\t\t\t\t\tcursor: cursor,\n\t\t\t\t\t\tpoint: point,\n\t\t\t\t\t\ttransform: transform\n\t\t\t\t\t},\n\t\n\t\t\t\t\tprogress: {\n\t\t\t\t\t\tdistance: null,\n\t\t\t\t\t\tpoint: null,\n\t\t\t\t\t\ttransform: null\n\t\t\t\t\t}\n\t\t\t\t};\n\t\n\t\t\t\t// FireFox has a different scaling implementation than other browsers (transform:scale(); vs. zoom:;)\n\t\t\t\t// so we need to account for the game transform scale.\n\t\t\t\t//\n\t\t\t\tif (game.scale !== 1) point = point.scale(1 / game.scale);\n\t\n\t\t\t\tdraggableStyleSheet.html(provideSource(helperID, createDraggableRule($draggable)));\n\t\n\t\t\t\tswitch (mode) {\n\t\t\t\t\tcase 'clone':\n\t\t\t\t\t\tstate.$helper = $draggable.clone();\n\t\t\t\t\t\tstate.$helper.id(helperID).pl('draggable', null) // helpers are not to be captured as draggable\n\t\t\t\t\t\t.addClass('draggable-helper').appendTo(document.body).absolutePosition(point);\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'pluck':\n\t\t\t\t\t\t$draggable.addClass('PLUCKED');\n\t\n\t\t\t\t\t\tstate.$helper = $draggable.clone();\n\t\t\t\t\t\tstate.$helper.id(helperID).pl('draggable', null) // helpers are not to be captured as draggable\n\t\t\t\t\t\t.addClass('draggable-helper').appendTo(document.body).absolutePosition(point);\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tstate.$helper = $draggable;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\n\t\t\t\tstate.$helper.removeClass('DRAG-ENDED').addClass('DRAG-START');\n\t\n\t\t\t\tdragStartEvent = $.Event('drag-start', {\n\t\t\t\t\tstate: state,\n\t\t\t\t\ttargetScope: scope\n\t\t\t\t});\n\t\n\t\t\t\tscope.trigger(dragStartEvent);\n\t\t\t}\n\t\t}).on(E.ACTION_MOVE, function (_event) {\n\t\t\tvar cursor, $draggable, distance, point, transform, dragMoveEvent;\n\t\n\t\t\tif (state) {\n\t\t\t\tcursor = resolveEventPoint(_event, 1 / state.scope.game.zoom);\n\t\t\t\tdistance = state.start.cursor.distance(cursor);\n\t\t\t\tpoint = _typesDimensions.Point.create();\n\t\t\t\ttransform = null;\n\t\n\t\t\t\tif (state.start.transform !== 'none') {\n\t\t\t\t\ttransform = state.start.transform.clone();\n\t\t\t\t\ttransform.translate(distance.width, distance.height);\n\t\t\t\t\tpoint.set(transform.applyToPoint(0, 0));\n\t\t\t\t} else {\n\t\t\t\t\tpoint = distance.to('point');\n\t\t\t\t}\n\t\n\t\t\t\tif (state.$helper.hasClass('DRAG-START')) {\n\t\t\t\t\tstate.$helper.removeClass('DRAG-START').addClass('DRAGGING');\n\t\t\t\t}\n\t\n\t\t\t\tdragMoveEvent = $.Event('drag-move', {\n\t\t\t\t\tstate: state,\n\t\t\t\t\ttargetScope: state.scope\n\t\t\t\t});\n\t\n\t\t\t\tstate.progress.distance = distance;\n\t\t\t\tstate.progress.point = state.start.point.inc(point);\n\t\t\t\tstate.progress.transform = transform;\n\t\n\t\t\t\tstate.scope.translate(state.$helper, point);\n\t\t\t\tstate.scope.trigger(dragMoveEvent);\n\t\t\t}\n\t\t}).on([E.ACTION_UP, E.ACTION_OUT].join(' '), function (_event) {\n\t\t\tvar $draggable, dragEndEvent;\n\t\n\t\t\tif (state) {\n\t\t\t\t// Do not end dragging if we dont mouse out of the document.\n\t\t\t\tif (_event.type === 'mouseout' && ! ~[null, document.documentElement].indexOf(_event.toElement)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t$draggable = state.$draggable;\n\t\n\t\t\t\tif (state.$helper.hasClass('draggable-helper')) {\n\t\t\t\t\tstate.$helper.on('transitionend', function () {\n\t\t\t\t\t\t$draggable.removeClass('PLUCKED');\n\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\tstate.$helper.removeClass('DRAG-START DRAGGING').addClass('DRAG-ENDED');\n\t\n\t\t\t\tdragEndEvent = $.Event('drag-end', {\n\t\t\t\t\tstate: state,\n\t\t\t\t\ttargetScope: state.scope\n\t\t\t\t});\n\t\n\t\t\t\tstate.scope.trigger(dragEndEvent);\n\t\n\t\t\t\tstate = null;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tattachEvents.disableTouchScroll = function () {\n\t\tdocument.addEventListener(\"touchmove\", function (_event) {\n\t\t\t_event.preventDefault();\n\t\t}, false);\n\t};\n\t\n\tfunction resolveEventPoint(_event, _scale) {\n\t\tvar scale = _scale || 1;\n\t\n\t\tif (_event.originalEvent && _event.originalEvent.changedTouches) {\n\t\t\t/**\n\t   * For now, interactions should use the last touch if multiple fingers are captured.\n\t   * @todo Maybe invoke action for each touch.\n\t   */\n\t\t\t_event.touch = _event.originalEvent.changedTouches[_event.originalEvent.changedTouches.length - 1];\n\t\t}\n\t\n\t\treturn _typesDimensions.Point.create().set(new function () {\n\t\t\tif (_event.touch) {\n\t\t\t\tthis.x = _event.touch.clientX * scale;\n\t\t\t\tthis.y = _event.touch.clientY * scale;\n\t\t\t} else {\n\t\t\t\tthis.x = _event.clientX * scale;\n\t\t\t\tthis.y = _event.clientY * scale;\n\t\t\t}\n\t\t}());\n\t}\n\t\n\tfunction createHelperStyleSheet() {\n\t\tdraggableStyleSheet = $('<style id=\"draggable-helper-css\" type=\"text/css\"></style>').appendTo(document.body);\n\t}\n\t\n\tfunction createDraggableRule(_$draggable) {\n\t\tvar i, style, blacklist, rule, prop;\n\t\n\t\tstyle = window.getComputedStyle(_$draggable[0]);\n\t\trule = {};\n\t\tblacklist = [\"zIndex\", \"opacity\", \"cursor\", \"transition\", \"transitionDelay\", \"transitionDuration\", \"transitionProperty\", \"transitionTimingFunction\"];\n\t\n\t\tfor (i = 0; i < style.length; i += 1) {\n\t\t\tprop = _util2['default'].transformId(style[i], true);\n\t\t\tif (~blacklist.indexOf(prop)) continue;\n\t\t\tif (prop.indexOf('Webkit') === 0) prop = prop.slice(0, 1).toLowerCase() + prop.slice(1);\n\t\t\tif (style[prop]) rule[prop] = style[prop];\n\t\t}\n\t\n\t\treturn rule;\n\t}\n\t\n\tfunction provideSource(_id, _rule) {\n\t\tvar source, prop, value;\n\t\n\t\tsource = '#' + _id + '.draggable-helper {';\n\t\n\t\tfor (prop in _rule) {\n\t\t\tif (!_rule.hasOwnProperty(prop)) continue;\n\t\t\tvalue = _rule[prop];\n\t\t\tsource += prop.replace(/([A-Z]+)/g, '-$1').toLowerCase() + ': ' + value + ';';\n\t\t}\n\t\n\t\tsource += '}';\n\t\n\t\treturn source;\n\t};\n\t\n\tfunction createID() {\n\t\treturn 'xy-xyxy-y'.replace(/x|y/g, function (_token) {\n\t\t\tif (_token === 'x') return (Math.floor(Math.random() * 5) + 10).toString(16);\n\t\t\treturn Math.floor(Math.random() * Date.now()).toString(16).slice(2);\n\t\t});\n\t}\n\t\n\tvar draggableManager = {};\n\t\n\t$(boot);\n\t\n\texports['default'] = draggableManager;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Collections are iterables which hold a consistent interface throughout its indexes.\n\t *\n\t * @module\n\t * @requires module:types/BasicArray\n\t */\n\t\n\tvar _typesBasicArray = __webpack_require__(17);\n\t\n\tvar _typesBasicArray2 = _interopRequireDefault(_typesBasicArray);\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. use `Collection.create()` to get a new instance.\n\t * @classdesc Iterable holding record objects of the same interface.\n\t * @class\n\t * @extends module:types/BasicArray~BasicArray\n\t */\n\tvar Collection = _typesBasicArray2['default'].extend(function () {\n\t\t/**\n\t  * Gets the record object which has `_member` as a member.\n\t  * @instance\n\t  * @protected\n\t  * @memberof module:types/Collection~Collection\n\t  * @arg {*} _member - object reference to search for.\n\t  * @arg {string} _key - the target key to test the `_member` against.\n\t  * @arg {boolean} _shouldCollect - <span style=\"color: blue; font-weight: bold;\">`true`</span>: collect all matching elements.<br>\n\t  * <span style=\"color: blue; font-weight: bold;\">`false`</span>: return first result.\n\t  */\n\t\tfunction getRecord(_member, _key, _shouldCollect) {\n\t\t\tvar i, record, member, result;\n\t\n\t\t\tresult = [];\n\t\n\t\t\tfor (i = 0; record = this[i]; i += 1) {\n\t\t\t\tif (_key !== undefined) {\n\t\t\t\t\tif (record[_key] === _member) {\n\t\t\t\t\t\tif (_shouldCollect) {\n\t\t\t\t\t\t\tresult.push(record);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn record;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (record instanceof Array) {\n\t\t\t\t\tif (~record.indexOf(_member)) {\n\t\t\t\t\t\tif (_shouldCollect) {\n\t\t\t\t\t\t\tresult.push(record);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn record;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (member in record) {\n\t\t\t\t\t\tif (!record.hasOwnProperty(member)) continue;\n\t\t\t\t\t\tif (record[member] === _member) {\n\t\t\t\t\t\t\tif (_shouldCollect) {\n\t\t\t\t\t\t\t\tresult.push(record);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn record;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn result.length ? result : null;\n\t\t}\n\t\n\t\t/**\n\t  * Objects with this as an own property will be identified as the root object.\n\t  * @memberof module:types/Collection~Collection\n\t  * @readonly\n\t  * @default\n\t  */\n\t\tthis.baseType = 'TYPE_COLLECTION';\n\t\n\t\tthis.add = function (_record) {\n\t\t\tif (~this.indexOf(_record)) return false;\n\t\t\tthis.push(_record);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.remove = function (_record) {\n\t\t\tvar index;\n\t\n\t\t\tindex = this.indexOf(_record);\n\t\t\tif (~index) this.splice(index, 1);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.has = function (_record) {\n\t\t\treturn !! ~this.indexOf(_record);\n\t\t};\n\t\n\t\tthis.get = function (_member, _key) {\n\t\t\treturn getRecord.call(this, _member, _key);\n\t\t};\n\t\n\t\tthis.filter = function (_member, _key) {\n\t\t\treturn getRecord.call(this, _member, _key, true);\n\t\t};\n\t});\n\t\n\texports['default'] = Collection;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports.__esModule = true;\n\t/**\n\t*  GlobalScope\n\t*/\n\t\n\tvar _typesScope = __webpack_require__(31);\n\t\n\tvar GlobalScope = _typesScope.Scope.extend(function () {\n\t\n\t\tthis.baseType = 'TYPE_GLOBAL_SCOPE';\n\t});\n\t\n\texports['default'] = GlobalScope;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Scopes are packages which contain a reference to a DOM element wrapped in a jQuery object.\n\t * This enables properties and methods to be in context of the DOM node and its descendants.\n\t *\n\t * @module\n\t * @requires types/jQProxy\n\t * @requires types/Basic\n\t * @requires types/Queue\n\t * @requires play.game\n\t * @requires util\n\t * @requires evalAction\n\t *\n\t * @exports createEntity\n\t */\n\t\n\tvar _typesJQProxy = __webpack_require__(32);\n\t\n\tvar _typesJQProxy2 = _interopRequireDefault(_typesJQProxy);\n\t\n\tvar _typesBasic = __webpack_require__(19);\n\t\n\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\n\tvar _typesQueue = __webpack_require__(40);\n\t\n\tvar _typesQueue2 = _interopRequireDefault(_typesQueue);\n\t\n\tvar _typesDimensions = __webpack_require__(14);\n\t\n\tvar _playGame = __webpack_require__(24);\n\t\n\tvar _playGame2 = _interopRequireDefault(_playGame);\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _evalAction = __webpack_require__(41);\n\t\n\tvar _evalAction2 = _interopRequireDefault(_evalAction);\n\t\n\tvar _typesAudioManager = __webpack_require__(42);\n\t\n\t/**\n\t * Creates a new Enitiy instance with a context node and implementation.\n\t * The instance is prototyped from the parent scope.\n\t *\n\t * @memberof module:types/Scope~Scope#createEntity\n\t * @protected\n\t * @arg {jQuery} _$node - jQuery object with a single node in the collection.\n\t * @arg {function|object} _implementation - Constructor function or object with the entity behavior.\n\t * @returns {module:types/Scope~Scope}\n\t */\n\tfunction createEntity(_$node, _implementation) {\n\t\tvar component, prototype, componentRecord, instance;\n\t\n\t\tcomponent = _$node.attr('pl-component');\n\t\tprototype = this;\n\t\n\t\tif (component) {\n\t\t\tcomponentRecord = _playGame2['default'].component.get(component);\n\t\n\t\t\tif (componentRecord) {\n\t\t\t\t// If a scope is being defined as an extention of a component before the component scope\n\t\t\t\t// has been allocated, we construct the component first then pass it as the proto.\n\t\t\t\t// But we need to make sure we are not allocating the component it self.\n\t\t\t\tif (componentRecord.implementation !== _implementation) {\n\t\t\t\t\tprototype = this.extend(componentRecord.implementation);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error('No implementation record for the ' + component + 'component.');\n\t\t\t}\n\t\t}\n\t\n\t\tinstance = typeof _implementation === 'function' ? prototype.extend(_implementation) : prototype.create();\n\t\n\t\treturn instance.initialize(_$node, component);\n\t}\n\t\n\t/**\n\t * <span class=\"important\">NOTE:</span> This is NOT a constructor. Use `Scope.create()` to get a new instance.\n\t * @classdesc A package which contains a reference to a DOM node wrapped in a jQuery object. For more information on scopes read [this]{@link module:types/Scope}.\n\t * @class\n\t * @extends module:types/jQProxy~jQProxy\n\t */\n\tvar Scope = _typesJQProxy2['default'].extend(function () {\n\t\n\t\t/**\n\t  * Collection of records pairing a node with its action.\n\t  * @memberof module:types/Scope~Scope\n\t  * @static\n\t  * @protected\n\t  * @todo Convert to types/Collection\n\t  */\n\t\tvar Actionables;\n\t\n\t\tfunction attachActionHandler() {\n\t\t\tthis.on(pl.EVENT.ACTION, function (_event) {\n\t\t\t\tvar target, record;\n\t\n\t\t\t\ttarget = $(_event.target).closest('[pl-action]')[0];\n\t\n\t\t\t\tif (_event.originalEvent && _event.originalEvent.changedTouches) {\n\t\t\t\t\t/**\n\t     * For now, interactions should use the last touch if multiple fingers are captured.\n\t     * @todo Maybe invoke action for each touch.\n\t     */\n\t\t\t\t\t_event.touch = _event.originalEvent.changedTouches[_event.originalEvent.changedTouches.length - 1];\n\t\t\t\t}\n\t\n\t\t\t\t_event.cursor = _typesDimensions.Point.create().set(new function () {\n\t\t\t\t\tif (_event.touch) {\n\t\t\t\t\t\tthis.x = _event.touch.clientX;\n\t\t\t\t\t\tthis.y = _event.touch.clientY;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.x = _event.clientX;\n\t\t\t\t\t\tthis.y = _event.clientY;\n\t\t\t\t\t}\n\t\t\t\t}());\n\t\n\t\t\t\tif (target) {\n\t\t\t\t\trecord = this.actionables.item(target);\n\t\n\t\t\t\t\tif (record) {\n\t\t\t\t\t\t_event.targetScope = this;\n\t\t\t\t\t\tthis.event = _event;\n\t\t\t\t\t\t_evalAction2['default'](record.action, this);\n\t\t\t\t\t\tthis.event = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\tfunction getRecordBy(_key, _member, _collection) {\n\t\t\tvar i, record;\n\t\n\t\t\tif (_collection) {\n\t\t\t\tfor (i = 0; record = _collection[i]; i += 1) {\n\t\t\t\t\tif (record[_key] === _member) return record;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\t}\n\t\n\t\tfunction removeRecord(_record, _collection) {\n\t\t\tvar index;\n\t\n\t\t\tindex = _collection.indexOf(_record);\n\t\t\tif (~index) _collection.splice(index, 1);\n\t\t}\n\t\n\t\tfunction captureDropables(_scope) {\n\t\t\tvar collection;\n\t\n\t\t\tcollection = [];\n\t\n\t\t\t_scope.find('> [pl-pluck]').each(function () {\n\t\t\t\tvar name;\n\t\n\t\t\t\tname = $(this).attr('pl-pluck');\n\t\n\t\t\t\tcollection.push(this);\n\t\t\t\tcollection[name] = this;\n\t\t\t});\n\t\n\t\t\treturn collection;\n\t\t}\n\t\n\t\tfunction pluckAndDrop(_dropables, _template) {\n\t\t\t$(_template).find('[pl-drop]').each(function () {\n\t\t\t\tvar $node, name, dropable;\n\t\n\t\t\t\t$node = $(this);\n\t\t\t\tname = $node.attr('pl-drop');\n\t\t\t\tdropable = _dropables[name];\n\t\n\t\t\t\tif (dropable) {\n\t\t\t\t\t$node.replaceWith(dropable.children);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\t// Protected\n\t\tfunction loadComponentAssets(_name, _callback) {\n\t\t\tvar scope, path, totalRequests, transcludeMode, dropables;\n\t\n\t\t\tfunction ready() {\n\t\t\t\tready.status += 1;\n\t\n\t\t\t\tif (ready.status === totalRequests) {\n\t\t\t\t\tif (_callback) {\n\t\t\t\t\t\t_callback.call(scope, _name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\ttotalRequests = 0;\n\t\t\tscope = this;\n\t\t\tpath = _playGame2['default'].config('componentDirectory') + _name + '/';\n\t\t\tdropables = captureDropables(this);\n\t\t\ttranscludeMode = dropables.length ? this.TRANSCLUDE_PLUCK : this.properties.transclude;\n\t\t\tready.status = 0;\n\t\n\t\t\tif (!this.children().length || transcludeMode) {\n\t\t\t\ttotalRequests += 1;\n\t\t\t\t$('<div>').load(path + 'template.html', function () {\n\t\t\t\t\tvar memory;\n\t\n\t\t\t\t\tmemory = [];\n\t\n\t\t\t\t\tswitch (transcludeMode) {\n\t\t\t\t\t\tcase scope.TRANSCLUDE_APPEND:\n\t\t\t\t\t\t\tscope.append(this.children);\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase scope.TRANSCLUDE_PREPEND:\n\t\t\t\t\t\t\tscope.prepend(this.children);\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase scope.TRANSCLUDE_PLUCK:\n\t\t\t\t\t\t\tpluckAndDrop(dropables, this);\n\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase scope.TRANSCLUDE_REPLACE:\n\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif (transcludeMode) {\n\t\t\t\t\t\t\t\tpluckAndDrop(new function () {\n\t\t\t\t\t\t\t\t\tthis[transcludeMode] = scope.node();\n\t\t\t\t\t\t\t\t}(), this);\n\t\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tscope.empty().append(this.children);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tscope.findOwn('[pl-component]').each(function () {\n\t\t\t\t\t\tvar name;\n\t\n\t\t\t\t\t\tname = $(this).attr('pl-component');\n\t\n\t\t\t\t\t\tif (~memory.indexOf(name)) return;\n\t\n\t\t\t\t\t\tmemory.push(name);\n\t\n\t\t\t\t\t\ttotalRequests += 1;\n\t\n\t\t\t\t\t\t_playGame2['default'].component.load(name, function () {\n\t\t\t\t\t\t\tready();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tready();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tif (!$('style[pl-for-component=\"' + _name + '\"]').length && _playGame2['default'].config('shouldLoadComponentStyles') !== false) {\n\t\t\t\ttotalRequests += 1;\n\t\t\t\t$('<style type=\"text/css\" pl-for-component=\"' + _name + '\">').load(path + 'style.css', ready).appendTo(document.body);\n\t\t\t}\n\t\n\t\t\tif (!totalRequests) _callback && _callback.call(this, _name);\n\t\n\t\t\treturn this;\n\t\t}\n\t\n\t\tfunction captureProperties() {\n\t\t\tvar i, attr, name, collection;\n\t\n\t\t\tcollection = (function () {\n\t\n\t\t\t\tthis.has = function (_name) {\n\t\t\t\t\treturn !! ~this.indexOf(_name);\n\t\t\t\t};\n\t\n\t\t\t\treturn this;\n\t\t\t}).call([]);\n\t\n\t\t\tfor (i = 0; attr = this.$els[0].attributes[i]; i += 1) {\n\t\t\t\t// I explicitly want it to be at the beginning.\n\t\t\t\tif (attr.name.indexOf('pl-') === 0) {\n\t\t\t\t\tname = attr.name.slice(3);\n\t\t\t\t\tcollection[_util2['default'].transformId(name, true)] = attr.value;\n\t\n\t\t\t\t\tcollection.push(name);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (collection.length) this.properties = collection;\n\t\n\t\t\treturn this;\n\t\t}\n\t\n\t\tfunction initializeEntities() {\n\t\t\tif (!this.hasOwnProperty('entities')) return this;\n\t\n\t\t\tthis.entities.forEach(this.bind(function (_record, _index) {\n\t\t\t\tvar $nodes, query, index;\n\t\n\t\t\t\t$nodes = this.findOwn(_record.selector);\n\t\t\t\tquery = ['#' + _record.selector, '[pl-id=' + _record.selector + ']', '[pl-component=' + _record.selector + ']', '[pl-' + _record.selector + ']'];\n\t\t\t\tindex = 0;\n\t\n\t\t\t\twhile (!$nodes.length) {\n\t\t\t\t\tif (index === query.length) {\n\t\t\t\t\t\tthrow new Error(\"Unable to locate entity with selector\", _record.selector);\n\t\t\t\t\t}\n\t\t\t\t\t$nodes = this.findOwn(query[index]);\n\t\t\t\t\tindex += 1;\n\t\t\t\t}\n\t\n\t\t\t\t$nodes.each(this.bind(function (_index, _node) {\n\t\t\t\t\tvar $node, instance, id;\n\t\n\t\t\t\t\t$node = $(_node);\n\t\n\t\t\t\t\tif (!Scope.isPrototypeOf(_record)) {\n\t\t\t\t\t\tinstance = createEntity.call(this, $node, _record.implementation);\n\t\t\t\t\t\tif (!instance.isReady) this.assetQueue.add(instance);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinstance = _record;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tid = _util2['default'].transformId(instance.id(), true);\n\t\t\t\t\tif (id) _util2['default'].assignRef(this, id, instance);\n\t\t\t\t}));\n\t\t\t}));\n\t\n\t\t\treturn this;\n\t\t}\n\t\n\t\tfunction handleProperties() {\n\t\t\tvar scope, property, handler;\n\t\n\t\t\tscope = this;\n\t\n\t\t\tif (this.hasOwnProperty('properties')) {\n\t\t\t\tthis.properties.forEach(function (_name) {\n\t\t\t\t\thandler = scope.propertyHandlers[_name];\n\t\t\t\t\tif (handler) handler.call(scope, scope.$els[0], _name, scope.properties[_name]);\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tif (this.propertyHandlers) {\n\t\t\t\tfor (property in this.propertyHandlers) {\n\t\t\t\t\t// Only exclide members on the base type.\n\t\t\t\t\tif (_typesBasic2['default'].hasOwnProperty(property)) continue;\n\t\n\t\t\t\t\thandler = this.propertyHandlers[property];\n\t\n\t\t\t\t\tthis.findOwn('[pl-' + property + ']').each(function () {\n\t\t\t\t\t\tvar attr;\n\t\n\t\t\t\t\t\tif (scope === $(this).scope()) {\n\t\t\t\t\t\t\tattr = this.attributes.getNamedItem('pl-' + property);\n\t\n\t\t\t\t\t\t\tif (handler) handler.call(scope, this, property, attr.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t}\n\t\n\t\tfunction invokeLocal(_name) {\n\t\t\tvar args, owner;\n\t\n\t\t\targs = [].slice.call(arguments, 1);\n\t\n\t\t\tif (this.isMemberSafe(_name)) {\n\t\t\t\treturn this[_name].apply(this, arguments);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction init() {\n\t\t\tvar willInitEvent, initEvent;\n\t\n\t\t\tinitEvent = $.Event('initialize', { targetScope: this });\n\t\t\twillInitEvent = $.Event('will-initialize', { targetScope: this });\n\t\n\t\t\tinvokeLocal.call(this, 'willInit');\n\t\t\tthis.trigger(willInitEvent);\n\t\n\t\t\tthis.attachEvents();\n\t\n\t\t\tinitializeEntities.call(this);\n\t\t\thandleProperties.call(this);\n\t\n\t\t\tthis.watchAssets();\n\t\t\tthis.captureAudioAssets();\n\t\t\tthis.captureReferences();\n\t\n\t\t\tthis.__init();\n\t\t\tinvokeLocal.call(this, 'init');\n\t\n\t\t\tthis.trigger(initEvent);\n\t\n\t\t\tif (!this.isReady) this.assetQueue.ready();\n\t\n\t\t\treturn this;\n\t\t}\n\t\n\t\tfunction ready() {\n\t\t\tvar readyEvent, entities;\n\t\n\t\t\treadyEvent = $.Event('ready', { targetScope: this });\n\t\t\tentities = this.findOwn('.pl-scope').scope();\n\t\n\t\t\tif (entities) {\n\t\t\t\tif (entities.length > 0) {\n\t\t\t\t\tthis.entities = entities;\n\t\t\t\t} else {\n\t\t\t\t\tthis.entities = [entities];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Sort audio into DOM order.\n\t   * @todo Consider including this into `AudioManager`. Micah: 2/23/2016.\n\t   */\n\t\t\tif (this.hasOwnProperty('audio')) {\n\t\t\t\t(this.game || this).media.addShadow(this.audio);\n\t\t\t\tthis.audio.collections().forEach((function (_collection) {\n\t\t\t\t\tvar map = {\n\t\t\t\t\t\tvoiceOver: 'voice-over',\n\t\t\t\t\t\tbackground: 'background',\n\t\t\t\t\t\tsfx: 'sfx'\n\t\t\t\t\t};\n\t\n\t\t\t\t\tif (!_collection.length) return;\n\t\n\t\t\t\t\tthis.findOwn('audio.' + map[_collection.type]).each(function (_index, _node) {\n\t\t\t\t\t\tvar id, audio, collection, index;\n\t\n\t\t\t\t\t\tid = $(_node).id();\n\t\t\t\t\t\taudio = (_collection.find('#' + id) || [])[0];\n\t\t\t\t\t\tindex = _collection.indexOf(audio);\n\t\n\t\t\t\t\t\tif (index !== _index) {\n\t\t\t\t\t\t\t_collection[index] = _collection[_index];\n\t\t\t\t\t\t\t_collection[_index] = audio;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}).bind(this));\n\t\t\t}\n\t\n\t\t\tthis.isReady = true;\n\t\t\tthis.addClass('READY');\n\t\n\t\t\tthis.__ready();\n\t\t\tinvokeLocal.call(this, 'ready');\n\t\n\t\t\tthis.trigger(readyEvent);\n\t\t}\n\t\n\t\tActionables = (function () {\n\t\n\t\t\t_util2['default'].mixin(this, _typesBasic2['default']);\n\t\n\t\t\tthis.add = function (_node, _action) {\n\t\t\t\tif (!this.has(_node)) {\n\t\t\t\t\tthis.push({\n\t\t\t\t\t\tnode: _node,\n\t\t\t\t\t\taction: _action\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\n\t\t\tthis.remove = function (_node) {\n\t\t\t\tvar item, index;\n\t\n\t\t\t\titem = this.item(_node);\n\t\t\t\tindex = this.indexOf(item);\n\t\t\t\tif (~index) this.splice(index, 1);\n\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\n\t\t\tthis.item = function (_node) {\n\t\t\t\tvar i, item;\n\t\n\t\t\t\tfor (i = 0; item = this[i]; i += 1) {\n\t\t\t\t\tif (item.node === _node) return item;\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.has = function (_node) {\n\t\t\t\treturn !!this.item(_node);\n\t\t\t};\n\t\n\t\t\treturn this;\n\t\t}).call([]);\n\t\n\t\tthis.TRANSCLUDE_REPLACE = 'replace';\n\t\tthis.TRANSCLUDE_PREPEND = 'prepend';\n\t\tthis.TRANSCLUDE_APPEND = 'append';\n\t\tthis.TRANSCLUDE_PLUCK = 'pluck';\n\t\n\t\tthis.baseType = 'TYPE_SCOPE';\n\t\tthis.actionables = null;\n\t\tthis.isReady = null;\n\t\tthis.isComponent = false;\n\t\tthis.entities = null;\n\t\tthis.audio = null;\n\t\tthis.properties = null;\n\t\tthis.propertyHandlers = null;\n\t\tthis.assetQueue = null;\n\t\tthis.event = null;\n\t\n\t\tthis.initialize = function (_node_selector, _componentName) {\n\t\t\tvar scope;\n\t\n\t\t\tscope = this;\n\t\n\t\t\tthis.isReady = false;\n\t\t\tthis.isComponent = !!_componentName;\n\t\t\tthis.event = null;\n\t\t\tthis.assetQueue = _typesQueue2['default'].create();\n\t\t\tthis.$els = _node_selector.jquery ? _node_selector : $(_node_selector);\n\t\n\t\t\tif (!this.$els.length) {\n\t\t\t\tthrow new ReferenceError('Unable to locate the element with selector ' + this.$els.selector + '.');\n\t\t\t}\n\t\n\t\t\tthis.addClass('pl-scope ' + (_componentName ? _componentName + '-component' : ''));\n\t\t\tthis.data('pl-scope', this);\n\t\t\tthis.data('pl-isComponent', !!_componentName);\n\t\n\t\t\tcaptureProperties.call(this);\n\t\n\t\t\tif (_componentName) {\n\t\t\t\tloadComponentAssets.call(this, _componentName, function () {\n\t\t\t\t\tinit.call(this);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tinit.call(this);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t// only for use in base types\n\t\tthis.__init = function () {\n\t\t\treturn this;\n\t\t};\n\t\tthis.__ready = function () {\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.willInit = function () {\n\t\t\treturn this;\n\t\t};\n\t\tthis.init = function () {\n\t\t\treturn this;\n\t\t};\n\t\tthis.ready = function () {\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.watchAssets = function (_nodes) {\n\t\t\tvar createHandler, watch;\n\t\n\t\t\tcreateHandler = this.bind(function (_node) {\n\t\t\t\treturn (function () {\n\t\t\t\t\tvar loadedEvent = $.Event('loaded', { targetScope: this });\n\t\n\t\t\t\t\tthis.assetQueue.ready(_node.src);\n\t\t\t\t\tthis.trigger(loadedEvent, [_node]);\n\t\n\t\t\t\t\t_node.onload = null;\n\t\t\t\t}).bind(this);\n\t\t\t});\n\t\n\t\t\twatch = this.bind(function (_index, _node) {\n\t\t\t\tvar node = typeof _index === 'number' ? _node : _index;\n\t\n\t\t\t\tif (node.nodeName !== 'IMG' || node.complete) return;\n\t\t\t\tif (this.assetQueue.add(node.src)) {\n\t\t\t\t\tnode.onload = createHandler(node);\n\t\t\t\t\tnode.onerror = function () {\n\t\t\t\t\t\tconsole.error('Image failed to load', node.src);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tif (_nodes) {\n\t\t\t\t_nodes.forEach(watch);\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\tthis.each(watch);\n\t\t\tthis.findOwn('img').each(watch);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.attachEvents = function () {\n\t\n\t\t\tthis.proto();\n\t\n\t\t\tthis.assetQueue.on('complete', this.bind(function () {\n\t\t\t\tthis.assetQueue.off();\n\t\t\t\tready.call(this);\n\t\t\t}));\n\t\n\t\t\tthis.on('ready', function (_event) {\n\t\t\t\tif (this.has(_event.targetScope) && this.assetQueue.has(_event.targetScope)) {\n\t\t\t\t\tthis.assetQueue.ready(_event.targetScope);\n\t\t\t\t}\n\t\n\t\t\t\tif (!this.assetQueue.length && this.isReady) this.off('ready');\n\t\t\t});\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.captureReferences = function () {\n\t\t\tthis.findOwn('[id], [pl-id]').each(this.bind(function (_index, _node) {\n\t\t\t\tvar $node, id;\n\t\n\t\t\t\tif (_node.nodeName === 'AUDIO') return;\n\t\n\t\t\t\t$node = $(_node);\n\t\t\t\tid = $node.attr('id') || $node.attr('pl-id');\n\t\n\t\t\t\tif (!this[id]) {\n\t\t\t\t\t_util2['default'].assignRef(this, id, $node.data('pl-scope') || $node);\n\t\t\t\t}\n\t\t\t}));\n\t\t};\n\t\n\t\tthis.captureAudioAssets = function () {\n\t\t\tvar deQ, $audio;\n\t\n\t\t\tif (!($audio = this.findOwn('audio')).length) return false;\n\t\n\t\t\tdeQ = (function (_item) {\n\t\t\t\t[this, this.screen].forEach(function (_scope) {\n\t\t\t\t\tif (_scope.requiredQueue && _scope.isMemberSafe('requiredQueue') && _scope.requiredQueue.has(_item)) {\n\t\t\t\t\t\t_scope.requiredQueue.ready(_item);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}).bind(this);\n\t\n\t\t\tthis.audio = _typesAudioManager.AudioManager.create(this.id());\n\t\n\t\t\t$audio.each((function (_index, _node) {\n\t\t\t\tthis.assetQueue.add(_node.src);\n\t\t\t\tthis.audio.watch(_node).then((function (_audio) {\n\t\t\t\t\tvar loadedEvent = $.Event('loaded', { target: _node, targetScope: this });\n\t\n\t\t\t\t\tif ($(_node).is('[pl-required]')) this.screen.require(_audio);\n\t\n\t\t\t\t\tif (this.assetQueue.has(_node.src)) this.assetQueue.ready(_node.src);\n\t\n\t\t\t\t\tthis.trigger(loadedEvent);\n\t\t\t\t}).bind(this));\n\t\t\t}).bind(this));\n\t\n\t\t\t// proxy events\n\t\t\tthis.audio.on('play pause ended stopped', this.bind(function (_event) {\n\t\t\t\tvar map = {\n\t\t\t\t\tbackground: 'BACKGROUND',\n\t\t\t\t\tvoiceOver: 'VOICE-OVER',\n\t\t\t\t\tsfx: 'SFX'\n\t\t\t\t};\n\t\n\t\t\t\tswitch (_event.type) {\n\t\t\t\t\tcase 'play':\n\t\t\t\t\t\t[this, this.screen].forEach(function (_scope, _index, _set) {\n\t\t\t\t\t\t\tif (_index === 1 && _scope === _set[0]) return;\n\t\t\t\t\t\t\tif (_scope.$els) _scope.addClass('PLAYING ' + map[_event.target.type]);\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t$(_event.targetNode).addClass('PLAYING');\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'pause':\n\t\t\t\t\tcase 'stopped':\n\t\t\t\t\tcase 'ended':\n\t\t\t\t\t\t[this, this.screen].forEach(function (_scope, _index, _set) {\n\t\t\t\t\t\t\tvar state;\n\t\n\t\t\t\t\t\t\tif (_index === 1 && _scope === _set[0]) return;\n\t\n\t\t\t\t\t\t\tif (_scope.$els) {\n\t\t\t\t\t\t\t\t_scope.removeClass(map[_event.target.type]);\n\t\t\t\t\t\t\t\tstate = _scope.attr('class');\n\t\t\t\t\t\t\t\tif (!/BACKGROUND|VOICE-OVER|SFX/.test(state)) _scope.removeClass('PLAYING');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t$(_event.targetNode).removeClass('PLAYING');\n\t\t\t\t\t\tif (_event.type === 'ended') deQ(_event.target);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\n\t\t\t\tvar audioEvent = $.Event('audio-' + _event.type, {\n\t\t\t\t\ttarget: _event.target,\n\t\t\t\t\ttargetSource: _event.targetSource,\n\t\t\t\t\ttargetNode: _event.targetNode,\n\t\t\t\t\ttargetScope: this\n\t\t\t\t});\n\t\n\t\t\t\tthis.trigger(audioEvent);\n\t\t\t}));\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.handleProperty = function (_implementation) {\n\t\t\tif (this.propertyHandlers) {\n\t\t\t\tif (this.hasOwnProperty('propertyHandlers')) {\n\t\t\t\t\tswitch (typeof _implementation) {\n\t\t\t\t\t\tcase 'function':\n\t\t\t\t\t\t\t_implementation.call(this.propertyHandlers);\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\t\tthis.propertyHandlers.mixin(_implementation);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.propertyHandlers = this.propertyHandlers.extend(_implementation);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.propertyHandlers = _typesBasic2['default'].extend(_implementation);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.entity = function (_selector, _implementation) {\n\t\t\tvar Entity, prototype, id;\n\t\n\t\t\tEntity = _playGame2['default'].provideEntityType();\n\t\n\t\t\tif (!this.hasOwnProperty('entities')) this.entities = [];\n\t\n\t\t\tif (this.hasOwnProperty('$els')) {\n\t\t\t\tthrow new Error('Wait this hasn\\'t been tested.');\n\t\t\t\tprototype = Entity.isPrototypeOf(this) ? this : Entity;\n\t\t\t\tinstance = prototype.extend(_implementation).initialize(this.find(_selector));\n\t\t\t\tid = _util2['default'].transformId(instance.id());\n\t\n\t\t\t\t// this.entities.push(instance);\n\t\t\t\tif (id) this[id] = instance;\n\t\t\t} else {\n\t\t\t\tthis.entities.push({\n\t\t\t\t\tselector: _selector,\n\t\t\t\t\timplementation: _implementation\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.has = function (_child) {\n\t\t\tvar child;\n\t\n\t\t\tchild = Scope.isPrototypeOf(_child) ? _child.$els : _child;\n\t\n\t\t\treturn !!this.$els.has(child).length;\n\t\t};\n\t\n\t\tthis.toString = function () {\n\t\t\tvar type;\n\t\n\t\t\ttype = this.baseType.replace('TYPE_', '');\n\t\t\ttype = type.slice(0, 1) + type.slice(1).toLowerCase();\n\t\n\t\t\treturn ['[', this.id() || this.address(), ' ', type, ']'].join('');\n\t\t};\n\t\n\t\tthis.log = function () {\n\t\t\tvar args;\n\t\n\t\t\targs = _util2['default'].toArray(arguments);\n\t\n\t\t\tconsole.log.apply(console, [this.id() || this.address(), '-'].concat(args));\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.handleProperty(function () {\n\t\n\t\t\tthis.component = function (_node, _name, _value, _property) {\n\t\t\t\tvar $node, record, scope, id;\n\t\n\t\t\t\t$node = $(_node);\n\t\n\t\t\t\tif (!$node.data('pl-isComponent')) {\n\t\t\t\t\trecord = _playGame2['default'].component.get(_value);\n\t\n\t\t\t\t\tif (record) {\n\t\t\t\t\t\tscope = createEntity.call(this, $node, record.implementation);\n\t\t\t\t\t\tid = _util2['default'].transformId(scope.id() || _value, true);\n\t\t\t\t\t\t_util2['default'].assignRef(this, id, scope);\n\t\n\t\t\t\t\t\tif (!scope.isReady) this.assetQueue.add(scope);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error('Ahh!');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.action = function (_node, _name, _value) {\n\t\t\t\tif (!this.hasOwnProperty('actionables')) {\n\t\t\t\t\tthis.actionables = Actionables.create();\n\t\t\t\t\tattachActionHandler.call(this);\n\t\t\t\t}\n\t\n\t\t\t\tthis.actionables.add(_node, _value);\n\t\t\t};\n\t\n\t\t\tthis.required = function (_node, _name, _value) {\n\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\tthis.screen.require(this);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.require = function (_node, _name, _value) {\n\t\t\t\tvar query, $node;\n\t\n\t\t\t\t// if the node with the attribute is the node for this scope\n\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\tquery = '#_value, [pl-id=_value], [pl-component=_value]'.replace(/_value/g, _value);\n\t\t\t\t\t$node = this.find(query);\n\t\n\t\t\t\t\t$node.on('ready', this.bind(function (_event) {\n\t\t\t\t\t\tif ($node.is(_event.target)) {\n\t\t\t\t\t\t\tthis.require(_event.targetScope);\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t});\n\t\n\texports['default'] = { Scope: Scope, createEntity: createEntity };\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _Object$keys = __webpack_require__(33)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t*  jQProxy\n\t*  @desc Contains all the jQuery methods targeted towards a property which references a jQuery object.\n\t*  @proto Basic\n\t*  \n\t*  NOTE: Custom events may trigger on scopes\n\t*  that also targets the same elments. Testing needed.\n\t*/\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesBasic = __webpack_require__(19);\n\t\n\tvar _typesBasic2 = _interopRequireDefault(_typesBasic);\n\t\n\tvar jQProxy = _typesBasic2['default'].extend(function () {\n\t\tvar method, exclude;\n\t\n\t\t/**\n\t *  @desc Creates a function with a proxy to the jQuery method.\n\t *  @param _name (String) The name of the method being proxied.\n\t *  @return (jQuery|*) Either a jQuery object or whatever the original method returns.\n\t *  @private\n\t */\n\t\tfunction createProxyFunction(_name) {\n\t\t\treturn function () {\n\t\t\t\tvar response;\n\t\n\t\t\t\t// This makes sure your not calling any jQuery methods before initialization.\n\t\t\t\tif (!this.hasOwnProperty('$els')) {\n\t\t\t\t\tif (_name === 'on') {\n\t\t\t\t\t\tregisterHandler.call(this, arguments);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new ReferenceError('Unable to invoke ' + _name + ' because the scope is not initialized.');\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tresponse = $.fn[_name].apply(this.$els, resolveEventHandler(this, _name, arguments));\n\t\n\t\t\t\tif (response === this.$els || response && response.jquery && response.is(this.$els)) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\n\t\t\t\treturn response;\n\t\t\t};\n\t\t}\n\t\n\t\tfunction resolveEventHandler(_scope, _method, _args) {\n\t\t\tvar i, arg, args;\n\t\n\t\t\targs = [];\n\t\n\t\t\tif (~['on', 'load'].indexOf(_method)) {\n\t\t\t\tfor (i = 0; arg = _args[i]; i += 1) {\n\t\t\t\t\tif (typeof arg === 'function') {\n\t\t\t\t\t\targs.push((function (_handler) {\n\t\t\t\t\t\t\treturn function () {\n\t\t\t\t\t\t\t\treturn _handler.apply(_scope, arguments);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t})(arg));\n\t\t\t\t\t} else {\n\t\t\t\t\t\targs.push(arg);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn args;\n\t\t\t}\n\t\n\t\t\treturn _args;\n\t\t}\n\t\n\t\tfunction registerHandler(_definition) {\n\t\t\tif (!this.hasOwnProperty('eventRegistry')) {\n\t\t\t\tif (this.eventRegistry && this.isMemberSafe('eventRegistry')) {\n\t\t\t\t\tthis.eventRegistry = this.eventRegistry.slice(0);\n\t\t\t\t} else {\n\t\t\t\t\tthis.eventRegistry = [];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tthis.eventRegistry.push(_definition);\n\t\n\t\t\treturn true;\n\t\t}\n\t\n\t\t// We don't want jQuery methods overridding our base type's methods.\n\t\texclude = ['constructor'].concat(_Object$keys(_typesBasic2['default']));\n\t\n\t\tthis.baseType = 'TYPE_JQPROXY';\n\t\tthis.$els = null;\n\t\tthis.eventRegistry = null;\n\t\n\t\tfor (method in $.fn) {\n\t\t\tif (!$.fn.hasOwnProperty(method) || ~exclude.indexOf(method)) continue;\n\t\t\tthis[method] = createProxyFunction(method);\n\t\t}\n\t\n\t\tthis.node = function () {\n\t\t\treturn this.$els[0];\n\t\t};\n\t\n\t\tthis.attachEvents = function () {\n\t\t\tvar self;\n\t\n\t\t\tself = this;\n\t\n\t\t\tif (this.eventRegistry && this.isMemberSafe('eventRegistry')) {\n\t\t\t\tthis.eventRegistry.forEach(function (_definition) {\n\t\t\t\t\tself.on.apply(self, _definition);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\n\t\tthis.listen = function (_name, _isCapure_handler, _handler) {\n\t\t\tvar _isCapture, node, handler;\n\t\n\t\t\t_isCapture = false;\n\t\n\t\t\t// resolve arguments\n\t\t\ttypeof _isCapure_handler === 'boolean' ? _isCapture = _isCapure_handler : _handler = _isCapure_handler;\n\t\n\t\t\t_handler.cb = _handler.bind(this);\n\t\n\t\t\tif (this.$els) {\n\t\t\t\tnode = this.$els[0];\n\t\t\t\tif (node) return node.addEventListener(_name, _handler.cb, _isCapture);\n\t\t\t} else {\n\t\t\t\treturn registerHandler([_name, _handler.cb, _isCapture]);\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t};\n\t\n\t\tthis.ignore = function (_name, _handler) {\n\t\t\tvar node = this.$els && this.$els[0];\n\t\n\t\t\tif (node) return node.removeEventListener(_name, _handler.cb || _handler);\n\t\n\t\t\treturn false;\n\t\t};\n\t\n\t\t// Wraps you function 'this' to the scope.\n\t\t//\n\t\tthis.bind = function (_handler) {\n\t\t\tvar args;\n\t\n\t\t\targs = [].map.call(arguments, function (m) {\n\t\t\t\treturn m;\n\t\t\t}).slice(1);\n\t\n\t\t\treturn _handler.bind.apply(_handler, [this].concat(args));\n\t\t};\n\t\n\t\tthis.findOwn = function (_selector) {\n\t\t\treturn this.find(_selector).filter(this.bind(function (_index, _node) {\n\t\t\t\tvar $node;\n\t\n\t\t\t\t$node = $(_node);\n\t\n\t\t\t\tif ($node.hasClass('pl-scope')) {\n\t\t\t\t\treturn $node.parent().scope() === this;\n\t\t\t\t}\n\t\n\t\t\t\treturn $node.scope() === this;\n\t\t\t}));\n\t\t};\n\t\n\t\tthis.isMemberSafe = function (_name) {\n\t\t\tvar owner, elOwner, prototype;\n\t\n\t\t\tif (this.hasOwnProperty(_name)) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tprototype = Object.getPrototypeOf(this);\n\t\t\t\towner = _util2['default'].getOwner(this, this[_name]);\n\t\n\t\t\t\tif (owner.object.hasOwnProperty('$els') || prototype.hasOwnProperty('$els')) return false;\n\t\n\t\t\t\tif (prototype.$els) {\n\t\t\t\t\telOwner = _util2['default'].getOwner(prototype, prototype.$els);\n\t\n\t\t\t\t\tif (owner.object.isPrototypeOf(elOwner.object)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn true;\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t};\n\t\n\t\tthis.is = function (_obj) {\n\t\t\tif (!_obj) return false;\n\t\t\tif (_obj.$els) return this.$els.is(_obj.$els);\n\t\n\t\t\treturn this.$els.is(_obj);\n\t\t};\n\t});\n\t\n\texports['default'] = jQProxy;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(34), __esModule: true };\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(35);\n\tmodule.exports = __webpack_require__(11).Object.keys;\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 19.1.2.14 Object.keys(O)\n\tvar toObject = __webpack_require__(36);\n\t\n\t__webpack_require__(38)('keys', function($keys){\n\t  return function keys(it){\n\t    return $keys(toObject(it));\n\t  };\n\t});\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 7.1.13 ToObject(argument)\n\tvar defined = __webpack_require__(37);\n\tmodule.exports = function(it){\n\t  return Object(defined(it));\n\t};\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tmodule.exports = function(it){\n\t  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n\t  return it;\n\t};\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// most Object methods by ES6 should accept primitives\n\tvar $export = __webpack_require__(9)\n\t  , core    = __webpack_require__(11)\n\t  , fails   = __webpack_require__(39);\n\tmodule.exports = function(KEY, exec){\n\t  var fn  = (core.Object || {})[KEY] || Object[KEY]\n\t    , exp = {};\n\t  exp[KEY] = exec(fn);\n\t  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n\t};\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(exec){\n\t  try {\n\t    return !!exec();\n\t  } catch(e){\n\t    return true;\n\t  }\n\t};\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t*  Queue\n\t*  @desc Contains...\n\t*  @proto Array, Events, Basic\n\t*/\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesCollection = __webpack_require__(29);\n\t\n\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\n\tvar _typesEvents = __webpack_require__(26);\n\t\n\tvar _typesEvents2 = _interopRequireDefault(_typesEvents);\n\t\n\tvar Queue = _typesCollection2['default'].extend(function () {\n\t\n\t\tthis.baseType = 'TYPE_QUEUE';\n\t\n\t\tthis.ready = function (_record) {\n\t\t\tif (_record != null) this.remove(_record);\n\t\n\t\t\tif (!this.length) {\n\t\t\t\tthis.trigger('complete');\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t_util2['default'].mixin(this, _typesEvents2['default']);\n\t\n\t\treturn this;\n\t});\n\t\n\texports['default'] = Queue;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\texports.__esModule = true;\n\t/**\n\t * @module evalAction\n\t */\n\t\n\t/**\n\t * Performs `eval()` on the value of an `action` attribute on an HTML element.\n\t * @arg {string} _source - JavaScript source code.\n\t * @arg {Scope} _scope - The context in which to run the source.\n\t * @returns {*} The result of the evaluated source.\n\t */\n\tfunction evalAction(_source, _scope) {\n\t\tvar error;\n\t\n\t\tfunction target(_selector) {\n\t\t\tif (_scope.event) {\n\t\t\t\treturn _selector ? $(_scope.event.target).closest(_selector) : $(_scope.event.target);\n\t\t\t}\n\t\t}\n\t\n\t\t// expose members of the object as if they were local variables.\n\t\t// NOTE: methods still retain their \"this\" binding to the object! :D\n\t\treturn eval(\"with (_scope) { try {\" + _source + \";} catch (error) { console.error('Error:', error.message, 'evaluating action', _source, 'in', _scope.id() || _scope.address()); } }\");\n\t}\n\t\n\texports[\"default\"] = evalAction;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _Promise = __webpack_require__(43)['default'];\n\t\n\tvar _Object$keys = __webpack_require__(33)['default'];\n\t\n\tvar _Object$create = __webpack_require__(20)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t\n\t/**\n\t * Contains classes for managing different media types.\n\t * Providing an API for referencing and control.\n\t * @module\n\t * @author Micah Rolon <micah@ginasink.com>\n\t */\n\t\n\tvar _typesType = __webpack_require__(90);\n\t\n\tvar _typesType2 = _interopRequireDefault(_typesType);\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesCollection = __webpack_require__(29);\n\t\n\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\n\t// Object type definitions are using  `$` as the augmentation method for Types.\n\t\"use strict\";var EventTargetInterface,\n\t    InspectorInterface,\n\t    PlayableInterface,\n\t    LegislatorInterface,\n\t    StateInterface,\n\t    $$ = window.jQuery;\n\t\n\t/**\n\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `MediaManager.create()`.</span>\n\t * Manages any playing media (Audio, Video).\n\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t * @classdesc Manages any playing media (Audio, Video).\n\t * <style>\n\t * .note {\n\t *   border: solid 1px;\n\t *   border-radius: 4px;\n\t *   padding: 1px 4px;\n\t *   color: #aaa;\n\t *   background-color: #eee;\n\t * }\n\t * \n\t * .note.important {\n\t *   color: #b55;\n\t *   background-color: #fee;\n\t * }\n\t * </style>\n\t *\n\t * @class\n\t */\n\tfunction MediaManager($, sup) {\n\t\t/**\n\t  * Duck typed multiple inheritance.\n\t  */\n\t\t_util2['default'].mixin(this, EventTargetInterface, InspectorInterface, LegislatorInterface, StateInterface);\n\t\t$('video', function alloc(_id) {\n\t\t\tsup(this, 'alloc', arguments);\n\t\t\tthis.video = _typesCollection2['default'].create();\n\t\t\tthis.initialize(_id, 'media manager');\n\t\t});\n\t}\n\t\n\t/**\n\t * The Scopes entry for its audio management interface. This gives access to collections of Audio objects grouped into three types.\n\t *\n\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioManager.create()`.</span>\n\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t * @classdesc The Scopes entry for its audio management interface. This gives access to collections of Audio objects grouped into three types.\n\t * - Background\n\t * - Voice Over\n\t * - SFX (Sound Effects)\n\t * These collections are filled by the HTML Audio elements which have classes corresponding to these types.\n\t * @class\n\t * @prop {type} member - Text.\n\t * @extends EventTargetInterface\n\t * @extends PlayableInterface\n\t * @extends InspectorInterface\n\t */\n\tfunction AudioManager($) {\n\t\tvar AUDIO_TYPES, BUFFER_CACHE;\n\t\n\t\t/**\n\t  * A record object for passing the MediaElement which got loaded as an `AudioBuffer`.\n\t  * @arg {HTMLAudioElement} _node - The loaded audio element.\n\t  * @arg {ArrayBuffer} _buffer - The array buffer loaded from XHR2.\n\t  */\n\t\tfunction AudioBufferRecord(_node, _buffer) {\n\t\t\tthis.node = _node;\n\t\t\tthis.type = getAudioType(_node);\n\t\t\tthis.buffer = _buffer;\n\t\t}\n\t\t/**\n\t  * Provides the classification an audio element falls into.\n\t  * - Background (`background`)\n\t  * - Voice Over (`voiceOver`)\n\t  * - Sound Effects (`sfx`)\n\t  * @protected\n\t  * @arg {HTMLAudioElement} _audio - The audio element.\n\t  * @returns {string} - The type.\n\t  */\n\t\tfunction getAudioType(_audio) {\n\t\t\treturn _util2['default'].transformId((_audio.className.match(AUDIO_TYPES) || [])[0], true);\n\t\t}\n\t\t/**\n\t  * Given an HTMLAudioElement, load its source as an `ArrayBuffer` with XHR2.\n\t  * @protected\n\t  * @arg {HTMLAudioElement} _audio - The audio element.\n\t  * @returns {Promise}\n\t  */\n\t\tfunction loadArrayBuffer(_audio) {\n\t\t\tvar xhr, manager, fileName;\n\t\n\t\t\txhr = new (XMLHttpRequest || _util2['default'].noop)();\n\t\t\tmanager = this;\n\t\t\tfileName = _util2['default'].resolveFileName(_audio.src);\n\t\n\t\t\tif (!xhr.open) _Promise.reject('This platfom does not support the XMLHttpRequest API.');\n\t\n\t\t\treturn new _Promise(function (resolve, reject) {\n\t\t\t\tvar cache = BUFFER_CACHE[fileName];\n\t\n\t\t\t\t// Decodes ArrayBuffer into an AudioBuffer.\n\t\t\t\tfunction onLoad() {\n\t\t\t\t\tvar ctx, promise;\n\t\n\t\t\t\t\tif (xhr.status >= 200 && xhr.status < 300) {\n\t\t\t\t\t\tif (ctx = pl.game.getAudioContext()) {\n\t\t\t\t\t\t\tpromise = new _Promise(function (resolveDecoding, rejectDecoding) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tctx.decodeAudioData(xhr.response, function (_buffer) {\n\t\t\t\t\t\t\t\t\t\tvar audio = manager.collect(new AudioBufferRecord(_audio, _buffer));\n\t\n\t\t\t\t\t\t\t\t\t\tresolveDecoding(audio);\n\t\t\t\t\t\t\t\t\t\t// Cache the AudioBuffer to resolve duplicates.\n\t\t\t\t\t\t\t\t\t\tBUFFER_CACHE[fileName] = _buffer;\n\t\t\t\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\t\t\t\trejectDecoding(\"Failed to decode ArrayBuffer for \" + fileName + \".\");\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\trejectDecoding(e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t\tpromise.then(resolve)['catch'](reject);\n\t\n\t\t\t\t\t\t\treturn promise;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t\t}\n\t\n\t\t\t\t\txhr.removeEventListener('load', onLoad);\n\t\t\t\t\txhr = null;\n\t\t\t\t}\n\t\n\t\t\t\tfunction onError() {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t\txhr.removeEventListener('error', onError);\n\t\t\t\t\txhr = null;\n\t\t\t\t}\n\t\n\t\t\t\tif (cache && cache !== 'loading') return resolve(manager.collect(new AudioBufferRecord(_audio, cache)));\n\t\n\t\t\t\tBUFFER_CACHE[fileName] = 'loading';\n\t\n\t\t\t\txhr.responseType = 'arraybuffer';\n\t\n\t\t\t\txhr.addEventListener('load', onLoad, false);\n\t\t\t\txhr.addEventListener('error', onError, false);\n\t\t\t\txhr.open('GET', _audio.src, true);\n\t\t\t\txhr.send();\n\t\t\t});\n\t\t}\n\t\t/**\n\t  * The CSS class names reconized as audio types.\n\t  */\n\t\tAUDIO_TYPES = /background|voice-over|sfx/i;\n\t\tBUFFER_CACHE = {};\n\t\t/**\n\t  * Duck typed multiple inheritance.\n\t  */\n\t\t_util2['default'].mixin(this, EventTargetInterface, PlayableInterface, InspectorInterface, LegislatorInterface, StateInterface);\n\t\n\t\t// A little ugg but define instance members.\n\t\t$(\n\t\t// Declare properties.\n\t\t'background, voiceOver, sfx, scope',\n\t\n\t\t/**\n\t  * Define instance properties.\n\t  */\n\t\tfunction alloc(_id) {\n\t\t\tthis.initialize(_id, 'audio manager');\n\t\n\t\t\t['background', 'voiceOver', 'sfx'].forEach((function (_type) {\n\t\t\t\tvar collection = this[_type] = AudioCollection.create(_type);\n\t\t\t\tthis.addShadow(collection);\n\t\t\t}).bind(this));\n\t\t},\n\t\n\t\t/**\n\t  * Given an audio element begin loading the asset.\n\t  * @arg {HTMLAudioElement} _audio - The HTML Audio element which to preload and add to the game audio context.\n\t  * @returns {Promise}\n\t  * @todo Support loading from node source or a string argument. - Micah:2/19/16\n\t  */\n\t\tfunction load(_audio) {\n\t\t\tvar manager, type;\n\t\n\t\t\tmanager = this;\n\t\t\ttype = getAudioType(_audio);\n\t\n\t\t\tif (!type) return _Promise.reject(\"Audio is missing a type. Please classify as 'background', 'voiceOver' or 'sfx'.\");\n\t\t\t// if (~['sfx', 'voiceOver'].indexOf(type))\n\t\t\treturn loadArrayBuffer.call(this, _audio);\n\t\n\t\t\t// return new Promise(function (resolve, reject) {\n\t\t\t// \t_audio.onloadeddata = function () { resolve(manager.collect(this)); };\n\t\t\t// \t_audio.onerror = reject;\n\t\t\t// \t_audio.load();\n\t\t\t// });\n\t\t},\n\t\n\t\t/**\n\t  * Begins loading an AudioElement waits for it to load.\n\t  * @arg {HTMLAudioElement} _audio - The HTML Audio element which to preload and add to the game audio context.\n\t  * @returns {Promise}\n\t  */\n\t\tfunction watch(_audio) {\n\t\t\tvar promise;\n\t\n\t\t\tif (_audio.nodeName !== 'AUDIO') return _Promise.reject('Invalid type for audio node. ' + typeof _audio + ' [' + _audio.protoype.constructor.name + ' ' + _audio.nodeName + '].');\n\t\n\t\t\tfunction reject(_error) {\n\t\t\t\tvar scope = $$(_audio).scope();\n\t\t\t\tconsole.warn(scope.id(), '-', _error);\n\t\t\t}\n\t\n\t\t\t(promise = this.load(_audio))['catch'](reject.bind(this));\n\t\n\t\t\treturn promise;\n\t\t},\n\t\n\t\t/**\n\t  * Adds a audio to the collection. You may also pass an itterable of items to add.\n\t  * @arg {Audio|HTMLAudioElement|AudioBufferRecord|Array} _audio - The HTML Audio element or `AudioBufferRecord` for addition to the collection.\n\t  * @returns {Promise}\n\t  */\n\t\tfunction collect(_audio) {\n\t\t\tvar type;\n\t\n\t\t\tif (!_audio) return false;\n\t\n\t\t\tif (_audio.length) {\n\t\t\t\treturn _audio.map(collect.bind(this));\n\t\t\t}\n\t\n\t\t\ttype = _audio.type || getAudioType(_audio);\n\t\n\t\t\tif (type && this[type]) return this[type].add(_audio);\n\t\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t  * Provides a collection of `AudioCollection` objects.\n\t  * @returns {array}\n\t  */\n\t\tfunction collections() {\n\t\t\tvar result, types;\n\t\n\t\t\tresult = [];\n\t\t\ttypes = _Object$keys(this);\n\t\n\t\t\ttypes.forEach((function (_type) {\n\t\t\t\tif (this[_type] instanceof AudioCollection) result.push(this[_type]);\n\t\t\t}).bind(this));\n\t\n\t\t\treturn result;\n\t\t},\n\t\t/**\n\t  * Proveds a string representation of the object type.\n\t  */\n\t\tfunction toString() {\n\t\t\treturn '[object ' + (this.constructor.name || 'Object') + ']';\n\t\t});\n\t}\n\t\n\t/**\n\t * An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n\t *\n\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioCollection.create()`.</span>\n\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t * @classdesc An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n\t * @extends Collection\n\t */\n\tfunction AudioCollection($, sup) {\n\t\t/**\n\t  * Duck typed multiple inheritance.\n\t  */\n\t\t_util2['default'].mixin(this, EventTargetInterface, PlayableInterface, InspectorInterface, StateInterface);\n\t\n\t\t$('type', function alloc(_type) {\n\t\t\tif (_type) this.type = _type;\n\t\t\tthis.initialize(_type, 'collection');\n\t\t},\n\t\t/**\n\t  * Adds an Audio object to the collection.\n\t  * @arg {HTMLAudioElement|Audio} _audio - Object to add.\n\t  * @override\n\t  * @returns {Audio}\n\t  */\n\t\tfunction add(_audio) {\n\t\t\tvar audio;\n\t\n\t\t\tif (!_audio) return false;\n\t\n\t\t\taudio = _audio instanceof Audio ? _audio : Audio.create(_audio, this.type);\n\t\n\t\t\tsup(this, 'add')(audio);\n\t\t\tthis.addShadow(audio);\n\t\t\tif (audio.id()) _util2['default'].assignRef(this, audio.id(), audio);\n\t\n\t\t\treturn audio;\n\t\t},\n\t\t/**\n\t  * Get the owning manager interface for an Audio object.\n\t  * @returns {AudioManager}\n\t  */\n\t\tfunction manager() {\n\t\t\treturn this.$el.closest('#man').data('context');\n\t\t},\n\t\t/**\n\t  * Proveds a string representation of the object type.\n\t  */\n\t\tfunction toString() {\n\t\t\treturn '[object ' + (this.constructor.name || 'Object') + ']';\n\t\t});\n\t}\n\t/**\n\t * Extend AudioCollection with Collection.\n\t */\n\tAudioCollection.prototype = _Object$create(_typesCollection2['default'], {\n\t\tconstructor: {\n\t\t\tvalue: AudioCollection,\n\t\t\tenumerable: false,\n\t\t\twriteable: false,\n\t\t\tconfigureable: false\n\t\t}\n\t});\n\t/**\n\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `MediaCollection.create()`.</span>\n\t * Returned as the result of some collection process.\n\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t * @classdesc Returned as the result of some collection process.\n\t *\n\t * @class\n\t * @extends AudioCollection\n\t * @extends EventTargetInterface\n\t * @extends InspectorInterface\n\t * @extends LegislatorInterface\n\t * @extends StateInterface\n\t */\n\tfunction MediaCollection($, sup) {\n\t\t$(\n\t\t/**\n\t  * @override\n\t  */\n\t\tfunction add(_media) {\n\t\t\tthis.addShadow(_media);\n\t\t\tif (_media.id()) _util2['default'].assignRef(this, _media.id(), _media);\n\t\t\treturn _typesCollection2['default'].add.call(this, _media);\n\t\t},\n\t\t/**\n\t  * @override\n\t  */\n\t\tfunction addShadow(_media) {\n\t\t\tvar $clone;\n\t\n\t\t\t$clone = _media.$el.clone();\n\t\t\t$clone.data(_media.$el.data());\n\t\n\t\t\tthis.$el.append($clone);\n\t\t\treturn this;\n\t\t});\n\t}\n\t\n\t/**\n\t * <span class=\"note important\">NOTE: This constructor is used to construct its protoype which we instatiate with `AudioCollection.create()`.</span>\n\t * An interface for controlling a MediaElement or AudioBuffer.\n\t * @arg {function} $ - Passed by `type()`, gives you a pritier interface for defining the instance members.\n\t * @classdesc An itterable with a collection of Audio objects. This interface also exposes methods for working with it members.\n\t */\n\tfunction Audio($) {\n\t\n\t\tfunction accessConfig(_augment, _val) {\n\t\t\tif (_val) {\n\t\t\t\treturn this[_augment] = _val;\n\t\t\t} else if (typeof _augment === 'string') {\n\t\t\t\treturn this[_augment];\n\t\t\t} else {\n\t\t\t\t_util2['default'].mixin(this, _augment);\n\t\t\t}\n\t\n\t\t\treturn _augment;\n\t\t}\n\t\n\t\t/**\n\t  * Duck typed multiple inheritance.\n\t  */\n\t\t_util2['default'].mixin(this, EventTargetInterface, PlayableInterface, StateInterface);\n\t\n\t\t$('type, media, activeSource, buffer, config, fileName, gain, delay, delayID',\n\t\n\t\t/**\n\t  * Allocates instance props.\n\t  * @arg {HTMLAudioElement|AudioBufferRecord} _audio - The object being wrapped.\n\t  * @arg {string} _type - The collection type.\n\t  */\n\t\tfunction alloc(_audio, _type) {\n\t\t\tvar $audio, config, ctx, readyEvent, id;\n\t\n\t\t\t$audio = $$(_audio.node || _audio);\n\t\t\tconfig = $audio.pl();\n\t\t\tctx = pl.game.getAudioContext();\n\t\t\treadyEvent = $$.Event('ready', { targetScope: this });\n\t\n\t\t\tif (!(id = $audio.id())) $audio.id(id = _util2['default'].createId());\n\t\n\t\t\tthis.type = _type || null;\n\t\t\tthis.fileName = _util2['default'].resolveFileName($audio.attr('src'));\n\t\t\tthis.media = $audio[0];\n\t\t\tthis.gain = ctx.createGain();\n\t\n\t\t\tthis.gain.connect(ctx.destination);\n\t\n\t\t\t$audio.data('context', this);\n\t\n\t\t\tif (_audio.buffer) this.buffer = _audio.buffer;\n\t\n\t\t\tObject.defineProperty(this, 'config', {\n\t\t\t\tvalue: accessConfig.bind(config),\n\t\t\t\twriteable: false\n\t\t\t});\n\t\n\t\t\tthis.initialize(id, 'audio ' + this.type);\n\t\n\t\t\t$$(this.media).trigger(readyEvent);\n\t\t},\n\t\t/**\n\t  * Provides an `AudioNode` for a particular audio source.\n\t  * @returns\n\t  *  - `MediaElementSouceNode` for audio elements.\n\t  *  - `AudioBufferSourceNode` for an ArrayBuffer.\n\t  */\n\t\tfunction getSource() {\n\t\t\tvar ctx, src;\n\t\n\t\t\tctx = pl.game.getAudioContext();\n\t\n\t\t\tif (ctx) {\n\t\t\t\tif (this.buffer) {\n\t\t\t\t\tsrc = ctx.createBufferSource();\n\t\t\t\t\tsrc.buffer = this.buffer;\n\t\t\t\t\tsrc.loop = this.media.loop;\n\t\n\t\t\t\t\treturn src;\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn this.activeSource || ctx.createMediaElementSource(this.media);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.warn(e.message, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\t},\n\t\t/**\n\t  * Get the owning collection interface for an Audio object.\n\t  * @returns {AudioCollection}\n\t  */\n\t\tfunction collection() {\n\t\t\treturn this.$el.closest('.collection').data('context');\n\t\t},\n\t\t/**\n\t  * Get the owning manager interface for an Audio object.\n\t  * @returns {AudioManager}\n\t  */\n\t\tfunction manager() {\n\t\t\treturn this.$el.closest('#man').data('context');\n\t\t},\n\t\t/**\n\t  * Proveds a string representation of the object type.\n\t  */\n\t\tfunction toString() {\n\t\t\treturn '[audio#' + this.id() + ' ' + this.fileName + ']';\n\t\t});\n\t}\n\t\n\t/**\n\t * A virtual DOM to handle navigation and propagation of events through the API interfaces.\n\t * For example an Audio object that triggers an event it should bubble up to its collection and on through to the manager.\n\t * That way you can listen for an event at any level of the interface.\n\t */\n\tEventTargetInterface = {\n\t\t/**\n\t  * The shadow node.\n\t  */\n\t\t$el: null,\n\t\t/**\n\t  * Define a node for the shadow DOM.\n\t  * @arg {string} _id - Idendifier for the node.\n\t  * @arg {string} _class - Classification of the node.\n\t  */\n\t\tinitialize: function initialize(_id, _class) {\n\t\t\tObject.defineProperty(this, '$el', {\n\t\t\t\tvalue: $$('<div ' + (_id ? 'id=\"' + _id + '\"' : '') + ' ' + (_class ? 'class=\"' + _class + '\"' : '') + '>'),\n\t\t\t\twriteable: false,\n\t\t\t\tconfigureable: false,\n\t\t\t\tenumerable: false\n\t\t\t});\n\t\n\t\t\tthis.$el.data('context', this);\n\t\t},\n\t\t/**\n\t  * Get/set the id of the interface.\n\t  * @arg {string} _id - A valid CSS ID.\n\t  */\n\t\tid: function id(_id) {\n\t\t\treturn this.$el.id(_id);\n\t\t},\n\t\t/**\n\t  * Add an interface to the shadow DOM.\n\t  * @arg {Audio|AudioCollection} _obj - The object to add.\n\t  * @returns this\n\t  */\n\t\taddShadow: function addShadow(_obj) {\n\t\t\tthis.$el.append(_obj.$el);\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * Provides the parent level interface.\n\t  * @returns {AudioManager|AudioCollection}\n\t  */\n\t\tparent: function parent() {\n\t\t\treturn this.$el.parent().data('context');\n\t\t},\n\t\t/**\n\t  * Find an interface in the API tree.\n\t  * @arg {string} _selector - A CSS selector to match a node in the shadow DOM API tree.\n\t  */\n\t\tfind: function find(_selector) {\n\t\t\tvar collection = MediaCollection.create();\n\t\n\t\t\tthis.$el.find(_selector).each(function () {\n\t\t\t\tcollection.add($$(this).data('context'));\n\t\t\t});\n\t\n\t\t\treturn collection;\n\t\t},\n\t\t/**\n\t  * \n\t  */\n\t\tfilter: function filter(_selector) {\n\t\t\tvar collection;\n\t\n\t\t\tif (!_selector) return this;\n\t\n\t\t\tcollection = MediaCollection.create();\n\t\n\t\t\tthis.$el.children().each(function () {\n\t\t\t\tvar $node = $$(this);\n\t\t\t\tif ($node.is(_selector)) collection.add($node.data('context'));\n\t\t\t});\n\t\n\t\t\treturn collection;\n\t\t},\n\t\t/**\n\t  * Attach events to a shadow node.\n\t  */\n\t\ton: function on() {\n\t\t\tthis.$el.on.apply(this.$el, arguments);\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * Remove events from a shadow node.\n\t  */\n\t\toff: function off() {\n\t\t\tthis.$el.off.apply(this.$el, arguments);\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * Dispatch a event from a shadow node.\n\t  */\n\t\ttrigger: function trigger() {\n\t\t\tthis.$el.trigger.apply(this.$el, arguments);\n\t\t\treturn this;\n\t\t}\n\t};\n\t/**\n\t * Interface for inspecting an API level (i.e. manager or collection).\n\t */\n\tInspectorInterface = {\n\t\tplaying: function playing(_filterSelector) {\n\t\t\tvar playing = this.find('.PLAYING').filter(_filterSelector);\n\t\t\treturn !!playing.length && playing;\n\t\t},\n\t\t/**\n\t  * Query a collection for ownership of an audio object.\n\t  * @arg {string|Audio|HTMLAudioElement} The validating reference.\n\t  * @returns {boolean}\n\t  */\n\t\thas: function has(_query) {\n\t\t\tif (this.background) {\n\t\t\t\treturn ['background', 'voiceOver', 'sfx'].some((function (_name) {\n\t\t\t\t\treturn this[_name].has(_query);\n\t\t\t\t}).bind(this));\n\t\t\t}\n\t\n\t\t\tif (this[_query]) return true;\n\t\n\t\t\treturn this.some(function (_audio) {\n\t\t\t\treturn _audio === _query || _audio.media === _query || _audio.fileName === _query || _audio.id() === _query;\n\t\t\t});\n\t\t}\n\t};\n\t\n\tLegislatorInterface = {\n\t\trule: function rule(_selector, _event, _handler) {\n\t\t\tvar handler, args;\n\t\n\t\t\thandler = [typeof _event, typeof _handler].indexOf('function');\n\t\t\targs = _util2['default'].toArray(arguments).slice(1);\n\t\n\t\t\tif (typeof _event === 'function') _event = 'play pause stopped ended';\n\t\n\t\t\tthis.on(_event, (function (_e) {\n\t\t\t\tif (_e.target.$el.is(_selector)) args[handler].apply(this, arguments);\n\t\t\t}).bind(this));\n\t\t}\n\t};\n\t\n\tStateInterface = {\n\t\tstate: function state() {\n\t\t\treturn this.$el.state.apply(this.$el, arguments);\n\t\t},\n\t\n\t\taddState: function addState(_state) {\n\t\t\treturn this.$el.addClass(_state.toUpperCase());\n\t\t},\n\t\n\t\tremoveState: function removeState(_state) {\n\t\t\treturn this.$el.removeClass(_state.toUpperCase());\n\t\t}\n\t};\n\t\n\t/**\n\t * Interface for methods involving audio control for any API level.\n\t */\n\tPlayableInterface = {\n\t\t/**\n\t  * Play an audio object.\n\t  */\n\t\tplay: function play(_selector) {\n\t\t\tvar ctx, src, proxyEvent, dest, delay, shouldPlay;\n\t\n\t\t\tfunction handler(_event) {\n\t\t\t\tif (_event.type === 'ended' && _event.activeSource) {\n\t\t\t\t\t_event.activeSource.disconnect();\n\t\t\t\t}\n\t\t\t\tproxyEvent(_event);\n\t\t\t}\n\t\n\t\t\tfunction playSource() {\n\t\t\t\tvar time;\n\t\t\t\tif (this.buffer) {\n\t\t\t\t\tthis.activeSource.start(0);\n\t\n\t\t\t\t\tif (!this.activeSource.loop) {\n\t\t\t\t\t\ttime = Math.ceil(this.buffer.duration * 1000) + 500;\n\t\t\t\t\t\tsetTimeout((function () {\n\t\t\t\t\t\t\tif (this.activeSource) {\n\t\t\t\t\t\t\t\tconsole.warn('Native `ended` failed to fire, simulating...');\n\t\t\t\t\t\t\t\thandler({ target: this.activeSource, type: 'ended' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).bind(this), time);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.media.play();\n\t\t\t\t}\n\t\n\t\t\t\tthis.delayID = null;\n\t\t\t}\n\t\n\t\t\tfunction response(_val) {\n\t\t\t\tshouldPlay = _val;\n\t\t\t}\n\t\n\t\t\tctx = pl.game.getAudioContext();\n\t\t\tshouldPlay = true;\n\t\n\t\t\t// if (ctx.state === 'suspended') return false;\n\t\n\t\t\tif (this.background) return this.background.play();\n\t\t\tif (this.length != null) {\n\t\t\t\tif (_selector) {\n\t\t\t\t\tif (this[_selector]) return this[_selector].play();\n\t\n\t\t\t\t\treturn this.find(_selector).play();\n\t\t\t\t}\n\t\t\t\treturn this[0] && this[0].play();\n\t\t\t}\n\t\n\t\t\tif (!(src = this.getSource())) return false;\n\t\t\tproxyEvent = (function (_event) {\n\t\t\t\tvar theEvent = $$.Event(_event.type, { target: this, targetSource: _event.target, targetNode: this.media });\n\t\n\t\t\t\t// proxy event to shadow DOM only when it has an active source.\n\t\t\t\tif (this.activeSource) {\n\t\t\t\t\tif (_event.type === 'ended') {\n\t\t\t\t\t\tthis.removeState('PLAYING');\n\t\t\t\t\t\tthis.activeSource = null;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tthis.trigger(theEvent);\n\t\t\t\t}\n\t\n\t\t\t\t_event.target.removeEventListener(_event.type, handler, false);\n\t\t\t}).bind(this);\n\t\n\t\t\tsrc.connect(this.gain);\n\t\t\tsrc.addEventListener('ended', handler, false);\n\t\n\t\t\tthis.trigger($$.Event('shouldPlay', { target: this, targetSource: src, targetNode: this.media, response: response }));\n\t\n\t\t\tif (shouldPlay) {\n\t\t\t\tthis.addState('PLAYING');\n\t\t\t\tthis.activeSource = src;\n\t\n\t\t\t\tif (delay = this.config('delay')) {\n\t\t\t\t\tthis.delayID = setTimeout(playSource.bind(this), _util2['default'].toMillisec(delay));\n\t\t\t\t} else {\n\t\t\t\t\tplaySource.call(this);\n\t\t\t\t}\n\t\n\t\t\t\thandler({ target: src, type: 'play' });\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * Pause an audio object.\n\t  */\n\t\tpause: function pause() {\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * Stop an audio object.\n\t  */\n\t\tstop: function stop(_filterSelector) {\n\t\t\tvar stopEvent = $$.Event('stopped', { target: this, targetSource: this.activeSource, targetNode: this.media });\n\t\n\t\t\tif (this.background) return this.background.stop(_filterSelector);\n\t\t\tif (this.length != null) {\n\t\t\t\tif (_filterSelector === '@ALL') {\n\t\t\t\t\tthis.forEach(function (_audio) {\n\t\t\t\t\t\t_audio.stop();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn this[0] && this[0].stop();\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (!this.activeSource) return false;\n\t\n\t\t\tif (this.buffer) {\n\t\t\t\tif (!this.delayID) this.activeSource.stop();\n\t\t\t} else {\n\t\t\t\tthis.media.pause();\n\t\t\t\tthis.media.currentTime = 0;\n\t\t\t}\n\t\n\t\t\tif (this.delayID) {\n\t\t\t\tclearTimeout(this.delayID);\n\t\t\t\tthis.delayID = null;\n\t\t\t}\n\t\n\t\t\tthis.activeSource = null;\n\t\n\t\t\tthis.removeState('PLAYING');\n\t\t\tthis.trigger(stopEvent);\n\t\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t  * @todo MGR, 2/9/2016: Pipe audio sources into gain nodes for each level of the API.\n\t  */\n\t\tvolume: function volume(_level, _filterSelector) {\n\t\t\tif (this.background) return this.background.volume(_level);\n\t\t\tif (this.length != null) {\n\t\t\t\tif (_filterSelector === '@ALL') {\n\t\t\t\t\tthis.forEach(function (_audio) {\n\t\t\t\t\t\t_audio.volume(_level);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn this[0] && this[0].volume(_level);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tthis.gain.gain.value = _level;\n\t\t}\n\t};\n\t\n\texports['default'] = _typesType2['default'](MediaManager, AudioManager, AudioCollection, Audio);\n\t\n\tAudioCollection.extend(MediaCollection);\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(44), __esModule: true };\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(45);\n\t__webpack_require__(46);\n\t__webpack_require__(62);\n\t__webpack_require__(69);\n\tmodule.exports = __webpack_require__(11).Promise;\n\n/***/ },\n/* 45 */\n/***/ function(module, exports) {\n\n\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar $at  = __webpack_require__(47)(true);\n\t\n\t// 21.1.3.27 String.prototype[@@iterator]()\n\t__webpack_require__(49)(String, 'String', function(iterated){\n\t  this._t = String(iterated); // target\n\t  this._i = 0;                // next index\n\t// 21.1.5.2.1 %StringIteratorPrototype%.next()\n\t}, function(){\n\t  var O     = this._t\n\t    , index = this._i\n\t    , point;\n\t  if(index >= O.length)return {value: undefined, done: true};\n\t  point = $at(O, index);\n\t  this._i += point.length;\n\t  return {value: point, done: false};\n\t});\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar toInteger = __webpack_require__(48)\n\t  , defined   = __webpack_require__(37);\n\t// true  -> String#at\n\t// false -> String#codePointAt\n\tmodule.exports = function(TO_STRING){\n\t  return function(that, pos){\n\t    var s = String(defined(that))\n\t      , i = toInteger(pos)\n\t      , l = s.length\n\t      , a, b;\n\t    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n\t    a = s.charCodeAt(i);\n\t    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n\t      ? TO_STRING ? s.charAt(i) : a\n\t      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n\t  };\n\t};\n\n/***/ },\n/* 48 */\n/***/ function(module, exports) {\n\n\t// 7.1.4 ToInteger\n\tvar ceil  = Math.ceil\n\t  , floor = Math.floor;\n\tmodule.exports = function(it){\n\t  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n\t};\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar LIBRARY        = __webpack_require__(50)\n\t  , $export        = __webpack_require__(9)\n\t  , redefine       = __webpack_require__(51)\n\t  , hide           = __webpack_require__(52)\n\t  , has            = __webpack_require__(55)\n\t  , Iterators      = __webpack_require__(56)\n\t  , $iterCreate    = __webpack_require__(57)\n\t  , setToStringTag = __webpack_require__(58)\n\t  , getProto       = __webpack_require__(8).getProto\n\t  , ITERATOR       = __webpack_require__(59)('iterator')\n\t  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n\t  , FF_ITERATOR    = '@@iterator'\n\t  , KEYS           = 'keys'\n\t  , VALUES         = 'values';\n\t\n\tvar returnThis = function(){ return this; };\n\t\n\tmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n\t  $iterCreate(Constructor, NAME, next);\n\t  var getMethod = function(kind){\n\t    if(!BUGGY && kind in proto)return proto[kind];\n\t    switch(kind){\n\t      case KEYS: return function keys(){ return new Constructor(this, kind); };\n\t      case VALUES: return function values(){ return new Constructor(this, kind); };\n\t    } return function entries(){ return new Constructor(this, kind); };\n\t  };\n\t  var TAG        = NAME + ' Iterator'\n\t    , DEF_VALUES = DEFAULT == VALUES\n\t    , VALUES_BUG = false\n\t    , proto      = Base.prototype\n\t    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n\t    , $default   = $native || getMethod(DEFAULT)\n\t    , methods, key;\n\t  // Fix native\n\t  if($native){\n\t    var IteratorPrototype = getProto($default.call(new Base));\n\t    // Set @@toStringTag to native iterators\n\t    setToStringTag(IteratorPrototype, TAG, true);\n\t    // FF fix\n\t    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n\t    // fix Array#{values, @@iterator}.name in V8 / FF\n\t    if(DEF_VALUES && $native.name !== VALUES){\n\t      VALUES_BUG = true;\n\t      $default = function values(){ return $native.call(this); };\n\t    }\n\t  }\n\t  // Define iterator\n\t  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n\t    hide(proto, ITERATOR, $default);\n\t  }\n\t  // Plug for library\n\t  Iterators[NAME] = $default;\n\t  Iterators[TAG]  = returnThis;\n\t  if(DEFAULT){\n\t    methods = {\n\t      values:  DEF_VALUES  ? $default : getMethod(VALUES),\n\t      keys:    IS_SET      ? $default : getMethod(KEYS),\n\t      entries: !DEF_VALUES ? $default : getMethod('entries')\n\t    };\n\t    if(FORCED)for(key in methods){\n\t      if(!(key in proto))redefine(proto, key, methods[key]);\n\t    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n\t  }\n\t  return methods;\n\t};\n\n/***/ },\n/* 50 */\n/***/ function(module, exports) {\n\n\tmodule.exports = true;\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(52);\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $          = __webpack_require__(8)\n\t  , createDesc = __webpack_require__(53);\n\tmodule.exports = __webpack_require__(54) ? function(object, key, value){\n\t  return $.setDesc(object, key, createDesc(1, value));\n\t} : function(object, key, value){\n\t  object[key] = value;\n\t  return object;\n\t};\n\n/***/ },\n/* 53 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(bitmap, value){\n\t  return {\n\t    enumerable  : !(bitmap & 1),\n\t    configurable: !(bitmap & 2),\n\t    writable    : !(bitmap & 4),\n\t    value       : value\n\t  };\n\t};\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// Thank's IE8 for his funny defineProperty\n\tmodule.exports = !__webpack_require__(39)(function(){\n\t  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n\t});\n\n/***/ },\n/* 55 */\n/***/ function(module, exports) {\n\n\tvar hasOwnProperty = {}.hasOwnProperty;\n\tmodule.exports = function(it, key){\n\t  return hasOwnProperty.call(it, key);\n\t};\n\n/***/ },\n/* 56 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {};\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar $              = __webpack_require__(8)\n\t  , descriptor     = __webpack_require__(53)\n\t  , setToStringTag = __webpack_require__(58)\n\t  , IteratorPrototype = {};\n\t\n\t// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n\t__webpack_require__(52)(IteratorPrototype, __webpack_require__(59)('iterator'), function(){ return this; });\n\t\n\tmodule.exports = function(Constructor, NAME, next){\n\t  Constructor.prototype = $.create(IteratorPrototype, {next: descriptor(1, next)});\n\t  setToStringTag(Constructor, NAME + ' Iterator');\n\t};\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar def = __webpack_require__(8).setDesc\n\t  , has = __webpack_require__(55)\n\t  , TAG = __webpack_require__(59)('toStringTag');\n\t\n\tmodule.exports = function(it, tag, stat){\n\t  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n\t};\n\n/***/ },\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar store  = __webpack_require__(60)('wks')\n\t  , uid    = __webpack_require__(61)\n\t  , Symbol = __webpack_require__(10).Symbol;\n\tmodule.exports = function(name){\n\t  return store[name] || (store[name] =\n\t    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n\t};\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar global = __webpack_require__(10)\n\t  , SHARED = '__core-js_shared__'\n\t  , store  = global[SHARED] || (global[SHARED] = {});\n\tmodule.exports = function(key){\n\t  return store[key] || (store[key] = {});\n\t};\n\n/***/ },\n/* 61 */\n/***/ function(module, exports) {\n\n\tvar id = 0\n\t  , px = Math.random();\n\tmodule.exports = function(key){\n\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t};\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(63);\n\tvar Iterators = __webpack_require__(56);\n\tIterators.NodeList = Iterators.HTMLCollection = Iterators.Array;\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar addToUnscopables = __webpack_require__(64)\n\t  , step             = __webpack_require__(65)\n\t  , Iterators        = __webpack_require__(56)\n\t  , toIObject        = __webpack_require__(66);\n\t\n\t// 22.1.3.4 Array.prototype.entries()\n\t// 22.1.3.13 Array.prototype.keys()\n\t// 22.1.3.29 Array.prototype.values()\n\t// 22.1.3.30 Array.prototype[@@iterator]()\n\tmodule.exports = __webpack_require__(49)(Array, 'Array', function(iterated, kind){\n\t  this._t = toIObject(iterated); // target\n\t  this._i = 0;                   // next index\n\t  this._k = kind;                // kind\n\t// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n\t}, function(){\n\t  var O     = this._t\n\t    , kind  = this._k\n\t    , index = this._i++;\n\t  if(!O || index >= O.length){\n\t    this._t = undefined;\n\t    return step(1);\n\t  }\n\t  if(kind == 'keys'  )return step(0, index);\n\t  if(kind == 'values')return step(0, O[index]);\n\t  return step(0, [index, O[index]]);\n\t}, 'values');\n\t\n\t// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n\tIterators.Arguments = Iterators.Array;\n\t\n\taddToUnscopables('keys');\n\taddToUnscopables('values');\n\taddToUnscopables('entries');\n\n/***/ },\n/* 64 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(){ /* empty */ };\n\n/***/ },\n/* 65 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(done, value){\n\t  return {value: value, done: !!done};\n\t};\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// to indexed object, toObject with fallback for non-array-like ES3 strings\n\tvar IObject = __webpack_require__(67)\n\t  , defined = __webpack_require__(37);\n\tmodule.exports = function(it){\n\t  return IObject(defined(it));\n\t};\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// fallback for non-array-like ES3 and non-enumerable old V8 strings\n\tvar cof = __webpack_require__(68);\n\tmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n\t  return cof(it) == 'String' ? it.split('') : Object(it);\n\t};\n\n/***/ },\n/* 68 */\n/***/ function(module, exports) {\n\n\tvar toString = {}.toString;\n\t\n\tmodule.exports = function(it){\n\t  return toString.call(it).slice(8, -1);\n\t};\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar $          = __webpack_require__(8)\n\t  , LIBRARY    = __webpack_require__(50)\n\t  , global     = __webpack_require__(10)\n\t  , ctx        = __webpack_require__(12)\n\t  , classof    = __webpack_require__(70)\n\t  , $export    = __webpack_require__(9)\n\t  , isObject   = __webpack_require__(71)\n\t  , anObject   = __webpack_require__(72)\n\t  , aFunction  = __webpack_require__(13)\n\t  , strictNew  = __webpack_require__(73)\n\t  , forOf      = __webpack_require__(74)\n\t  , setProto   = __webpack_require__(79).set\n\t  , same       = __webpack_require__(80)\n\t  , SPECIES    = __webpack_require__(59)('species')\n\t  , speciesConstructor = __webpack_require__(81)\n\t  , asap       = __webpack_require__(82)\n\t  , PROMISE    = 'Promise'\n\t  , process    = global.process\n\t  , isNode     = classof(process) == 'process'\n\t  , P          = global[PROMISE]\n\t  , Wrapper;\n\t\n\tvar testResolve = function(sub){\n\t  var test = new P(function(){});\n\t  if(sub)test.constructor = Object;\n\t  return P.resolve(test) === test;\n\t};\n\t\n\tvar USE_NATIVE = function(){\n\t  var works = false;\n\t  function P2(x){\n\t    var self = new P(x);\n\t    setProto(self, P2.prototype);\n\t    return self;\n\t  }\n\t  try {\n\t    works = P && P.resolve && testResolve();\n\t    setProto(P2, P);\n\t    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});\n\t    // actual Firefox has broken subclass support, test that\n\t    if(!(P2.resolve(5).then(function(){}) instanceof P2)){\n\t      works = false;\n\t    }\n\t    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162\n\t    if(works && __webpack_require__(54)){\n\t      var thenableThenGotten = false;\n\t      P.resolve($.setDesc({}, 'then', {\n\t        get: function(){ thenableThenGotten = true; }\n\t      }));\n\t      works = thenableThenGotten;\n\t    }\n\t  } catch(e){ works = false; }\n\t  return works;\n\t}();\n\t\n\t// helpers\n\tvar sameConstructor = function(a, b){\n\t  // library wrapper special case\n\t  if(LIBRARY && a === P && b === Wrapper)return true;\n\t  return same(a, b);\n\t};\n\tvar getConstructor = function(C){\n\t  var S = anObject(C)[SPECIES];\n\t  return S != undefined ? S : C;\n\t};\n\tvar isThenable = function(it){\n\t  var then;\n\t  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n\t};\n\tvar PromiseCapability = function(C){\n\t  var resolve, reject;\n\t  this.promise = new C(function($$resolve, $$reject){\n\t    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n\t    resolve = $$resolve;\n\t    reject  = $$reject;\n\t  });\n\t  this.resolve = aFunction(resolve),\n\t  this.reject  = aFunction(reject)\n\t};\n\tvar perform = function(exec){\n\t  try {\n\t    exec();\n\t  } catch(e){\n\t    return {error: e};\n\t  }\n\t};\n\tvar notify = function(record, isReject){\n\t  if(record.n)return;\n\t  record.n = true;\n\t  var chain = record.c;\n\t  asap(function(){\n\t    var value = record.v\n\t      , ok    = record.s == 1\n\t      , i     = 0;\n\t    var run = function(reaction){\n\t      var handler = ok ? reaction.ok : reaction.fail\n\t        , resolve = reaction.resolve\n\t        , reject  = reaction.reject\n\t        , result, then;\n\t      try {\n\t        if(handler){\n\t          if(!ok)record.h = true;\n\t          result = handler === true ? value : handler(value);\n\t          if(result === reaction.promise){\n\t            reject(TypeError('Promise-chain cycle'));\n\t          } else if(then = isThenable(result)){\n\t            then.call(result, resolve, reject);\n\t          } else resolve(result);\n\t        } else reject(value);\n\t      } catch(e){\n\t        reject(e);\n\t      }\n\t    };\n\t    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n\t    chain.length = 0;\n\t    record.n = false;\n\t    if(isReject)setTimeout(function(){\n\t      var promise = record.p\n\t        , handler, console;\n\t      if(isUnhandled(promise)){\n\t        if(isNode){\n\t          process.emit('unhandledRejection', value, promise);\n\t        } else if(handler = global.onunhandledrejection){\n\t          handler({promise: promise, reason: value});\n\t        } else if((console = global.console) && console.error){\n\t          console.error('Unhandled promise rejection', value);\n\t        }\n\t      } record.a = undefined;\n\t    }, 1);\n\t  });\n\t};\n\tvar isUnhandled = function(promise){\n\t  var record = promise._d\n\t    , chain  = record.a || record.c\n\t    , i      = 0\n\t    , reaction;\n\t  if(record.h)return false;\n\t  while(chain.length > i){\n\t    reaction = chain[i++];\n\t    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n\t  } return true;\n\t};\n\tvar $reject = function(value){\n\t  var record = this;\n\t  if(record.d)return;\n\t  record.d = true;\n\t  record = record.r || record; // unwrap\n\t  record.v = value;\n\t  record.s = 2;\n\t  record.a = record.c.slice();\n\t  notify(record, true);\n\t};\n\tvar $resolve = function(value){\n\t  var record = this\n\t    , then;\n\t  if(record.d)return;\n\t  record.d = true;\n\t  record = record.r || record; // unwrap\n\t  try {\n\t    if(record.p === value)throw TypeError(\"Promise can't be resolved itself\");\n\t    if(then = isThenable(value)){\n\t      asap(function(){\n\t        var wrapper = {r: record, d: false}; // wrap\n\t        try {\n\t          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n\t        } catch(e){\n\t          $reject.call(wrapper, e);\n\t        }\n\t      });\n\t    } else {\n\t      record.v = value;\n\t      record.s = 1;\n\t      notify(record, false);\n\t    }\n\t  } catch(e){\n\t    $reject.call({r: record, d: false}, e); // wrap\n\t  }\n\t};\n\t\n\t// constructor polyfill\n\tif(!USE_NATIVE){\n\t  // 25.4.3.1 Promise(executor)\n\t  P = function Promise(executor){\n\t    aFunction(executor);\n\t    var record = this._d = {\n\t      p: strictNew(this, P, PROMISE),         // <- promise\n\t      c: [],                                  // <- awaiting reactions\n\t      a: undefined,                           // <- checked in isUnhandled reactions\n\t      s: 0,                                   // <- state\n\t      d: false,                               // <- done\n\t      v: undefined,                           // <- value\n\t      h: false,                               // <- handled rejection\n\t      n: false                                // <- notify\n\t    };\n\t    try {\n\t      executor(ctx($resolve, record, 1), ctx($reject, record, 1));\n\t    } catch(err){\n\t      $reject.call(record, err);\n\t    }\n\t  };\n\t  __webpack_require__(87)(P.prototype, {\n\t    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n\t    then: function then(onFulfilled, onRejected){\n\t      var reaction = new PromiseCapability(speciesConstructor(this, P))\n\t        , promise  = reaction.promise\n\t        , record   = this._d;\n\t      reaction.ok   = typeof onFulfilled == 'function' ? onFulfilled : true;\n\t      reaction.fail = typeof onRejected == 'function' && onRejected;\n\t      record.c.push(reaction);\n\t      if(record.a)record.a.push(reaction);\n\t      if(record.s)notify(record, false);\n\t      return promise;\n\t    },\n\t    // 25.4.5.1 Promise.prototype.catch(onRejected)\n\t    'catch': function(onRejected){\n\t      return this.then(undefined, onRejected);\n\t    }\n\t  });\n\t}\n\t\n\t$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: P});\n\t__webpack_require__(58)(P, PROMISE);\n\t__webpack_require__(88)(PROMISE);\n\tWrapper = __webpack_require__(11)[PROMISE];\n\t\n\t// statics\n\t$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n\t  // 25.4.4.5 Promise.reject(r)\n\t  reject: function reject(r){\n\t    var capability = new PromiseCapability(this)\n\t      , $$reject   = capability.reject;\n\t    $$reject(r);\n\t    return capability.promise;\n\t  }\n\t});\n\t$export($export.S + $export.F * (!USE_NATIVE || testResolve(true)), PROMISE, {\n\t  // 25.4.4.6 Promise.resolve(x)\n\t  resolve: function resolve(x){\n\t    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n\t    if(x instanceof P && sameConstructor(x.constructor, this))return x;\n\t    var capability = new PromiseCapability(this)\n\t      , $$resolve  = capability.resolve;\n\t    $$resolve(x);\n\t    return capability.promise;\n\t  }\n\t});\n\t$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(89)(function(iter){\n\t  P.all(iter)['catch'](function(){});\n\t})), PROMISE, {\n\t  // 25.4.4.1 Promise.all(iterable)\n\t  all: function all(iterable){\n\t    var C          = getConstructor(this)\n\t      , capability = new PromiseCapability(C)\n\t      , resolve    = capability.resolve\n\t      , reject     = capability.reject\n\t      , values     = [];\n\t    var abrupt = perform(function(){\n\t      forOf(iterable, false, values.push, values);\n\t      var remaining = values.length\n\t        , results   = Array(remaining);\n\t      if(remaining)$.each.call(values, function(promise, index){\n\t        var alreadyCalled = false;\n\t        C.resolve(promise).then(function(value){\n\t          if(alreadyCalled)return;\n\t          alreadyCalled = true;\n\t          results[index] = value;\n\t          --remaining || resolve(results);\n\t        }, reject);\n\t      });\n\t      else resolve(results);\n\t    });\n\t    if(abrupt)reject(abrupt.error);\n\t    return capability.promise;\n\t  },\n\t  // 25.4.4.4 Promise.race(iterable)\n\t  race: function race(iterable){\n\t    var C          = getConstructor(this)\n\t      , capability = new PromiseCapability(C)\n\t      , reject     = capability.reject;\n\t    var abrupt = perform(function(){\n\t      forOf(iterable, false, function(promise){\n\t        C.resolve(promise).then(capability.resolve, reject);\n\t      });\n\t    });\n\t    if(abrupt)reject(abrupt.error);\n\t    return capability.promise;\n\t  }\n\t});\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// getting tag from 19.1.3.6 Object.prototype.toString()\n\tvar cof = __webpack_require__(68)\n\t  , TAG = __webpack_require__(59)('toStringTag')\n\t  // ES3 wrong here\n\t  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\t\n\tmodule.exports = function(it){\n\t  var O, T, B;\n\t  return it === undefined ? 'Undefined' : it === null ? 'Null'\n\t    // @@toStringTag case\n\t    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n\t    // builtinTag case\n\t    : ARG ? cof(O)\n\t    // ES3 arguments fallback\n\t    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n\t};\n\n/***/ },\n/* 71 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(it){\n\t  return typeof it === 'object' ? it !== null : typeof it === 'function';\n\t};\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isObject = __webpack_require__(71);\n\tmodule.exports = function(it){\n\t  if(!isObject(it))throw TypeError(it + ' is not an object!');\n\t  return it;\n\t};\n\n/***/ },\n/* 73 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(it, Constructor, name){\n\t  if(!(it instanceof Constructor))throw TypeError(name + \": use the 'new' operator!\");\n\t  return it;\n\t};\n\n/***/ },\n/* 74 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar ctx         = __webpack_require__(12)\n\t  , call        = __webpack_require__(75)\n\t  , isArrayIter = __webpack_require__(76)\n\t  , anObject    = __webpack_require__(72)\n\t  , toLength    = __webpack_require__(77)\n\t  , getIterFn   = __webpack_require__(78);\n\tmodule.exports = function(iterable, entries, fn, that){\n\t  var iterFn = getIterFn(iterable)\n\t    , f      = ctx(fn, that, entries ? 2 : 1)\n\t    , index  = 0\n\t    , length, step, iterator;\n\t  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n\t  // fast case for arrays with default iterator\n\t  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n\t    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n\t  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n\t    call(iterator, f, step.value, entries);\n\t  }\n\t};\n\n/***/ },\n/* 75 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// call something on iterator step with safe closing on error\n\tvar anObject = __webpack_require__(72);\n\tmodule.exports = function(iterator, fn, value, entries){\n\t  try {\n\t    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n\t  // 7.4.6 IteratorClose(iterator, completion)\n\t  } catch(e){\n\t    var ret = iterator['return'];\n\t    if(ret !== undefined)anObject(ret.call(iterator));\n\t    throw e;\n\t  }\n\t};\n\n/***/ },\n/* 76 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// check on default Array iterator\n\tvar Iterators  = __webpack_require__(56)\n\t  , ITERATOR   = __webpack_require__(59)('iterator')\n\t  , ArrayProto = Array.prototype;\n\t\n\tmodule.exports = function(it){\n\t  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n\t};\n\n/***/ },\n/* 77 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 7.1.15 ToLength\n\tvar toInteger = __webpack_require__(48)\n\t  , min       = Math.min;\n\tmodule.exports = function(it){\n\t  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n\t};\n\n/***/ },\n/* 78 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar classof   = __webpack_require__(70)\n\t  , ITERATOR  = __webpack_require__(59)('iterator')\n\t  , Iterators = __webpack_require__(56);\n\tmodule.exports = __webpack_require__(11).getIteratorMethod = function(it){\n\t  if(it != undefined)return it[ITERATOR]\n\t    || it['@@iterator']\n\t    || Iterators[classof(it)];\n\t};\n\n/***/ },\n/* 79 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// Works with __proto__ only. Old v8 can't work with null proto objects.\n\t/* eslint-disable no-proto */\n\tvar getDesc  = __webpack_require__(8).getDesc\n\t  , isObject = __webpack_require__(71)\n\t  , anObject = __webpack_require__(72);\n\tvar check = function(O, proto){\n\t  anObject(O);\n\t  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n\t};\n\tmodule.exports = {\n\t  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n\t    function(test, buggy, set){\n\t      try {\n\t        set = __webpack_require__(12)(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n\t        set(test, []);\n\t        buggy = !(test instanceof Array);\n\t      } catch(e){ buggy = true; }\n\t      return function setPrototypeOf(O, proto){\n\t        check(O, proto);\n\t        if(buggy)O.__proto__ = proto;\n\t        else set(O, proto);\n\t        return O;\n\t      };\n\t    }({}, false) : undefined),\n\t  check: check\n\t};\n\n/***/ },\n/* 80 */\n/***/ function(module, exports) {\n\n\t// 7.2.9 SameValue(x, y)\n\tmodule.exports = Object.is || function is(x, y){\n\t  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n\t};\n\n/***/ },\n/* 81 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 7.3.20 SpeciesConstructor(O, defaultConstructor)\n\tvar anObject  = __webpack_require__(72)\n\t  , aFunction = __webpack_require__(13)\n\t  , SPECIES   = __webpack_require__(59)('species');\n\tmodule.exports = function(O, D){\n\t  var C = anObject(O).constructor, S;\n\t  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n\t};\n\n/***/ },\n/* 82 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar global    = __webpack_require__(10)\n\t  , macrotask = __webpack_require__(83).set\n\t  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n\t  , process   = global.process\n\t  , Promise   = global.Promise\n\t  , isNode    = __webpack_require__(68)(process) == 'process'\n\t  , head, last, notify;\n\t\n\tvar flush = function(){\n\t  var parent, domain, fn;\n\t  if(isNode && (parent = process.domain)){\n\t    process.domain = null;\n\t    parent.exit();\n\t  }\n\t  while(head){\n\t    domain = head.domain;\n\t    fn     = head.fn;\n\t    if(domain)domain.enter();\n\t    fn(); // <- currently we use it only for Promise - try / catch not required\n\t    if(domain)domain.exit();\n\t    head = head.next;\n\t  } last = undefined;\n\t  if(parent)parent.enter();\n\t};\n\t\n\t// Node.js\n\tif(isNode){\n\t  notify = function(){\n\t    process.nextTick(flush);\n\t  };\n\t// browsers with MutationObserver\n\t} else if(Observer){\n\t  var toggle = 1\n\t    , node   = document.createTextNode('');\n\t  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n\t  notify = function(){\n\t    node.data = toggle = -toggle;\n\t  };\n\t// environments with maybe non-completely correct, but existent Promise\n\t} else if(Promise && Promise.resolve){\n\t  notify = function(){\n\t    Promise.resolve().then(flush);\n\t  };\n\t// for other environments - macrotask based on:\n\t// - setImmediate\n\t// - MessageChannel\n\t// - window.postMessag\n\t// - onreadystatechange\n\t// - setTimeout\n\t} else {\n\t  notify = function(){\n\t    // strange IE + webpack dev server bug - use .call(global)\n\t    macrotask.call(global, flush);\n\t  };\n\t}\n\t\n\tmodule.exports = function asap(fn){\n\t  var task = {fn: fn, next: undefined, domain: isNode && process.domain};\n\t  if(last)last.next = task;\n\t  if(!head){\n\t    head = task;\n\t    notify();\n\t  } last = task;\n\t};\n\n/***/ },\n/* 83 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar ctx                = __webpack_require__(12)\n\t  , invoke             = __webpack_require__(84)\n\t  , html               = __webpack_require__(85)\n\t  , cel                = __webpack_require__(86)\n\t  , global             = __webpack_require__(10)\n\t  , process            = global.process\n\t  , setTask            = global.setImmediate\n\t  , clearTask          = global.clearImmediate\n\t  , MessageChannel     = global.MessageChannel\n\t  , counter            = 0\n\t  , queue              = {}\n\t  , ONREADYSTATECHANGE = 'onreadystatechange'\n\t  , defer, channel, port;\n\tvar run = function(){\n\t  var id = +this;\n\t  if(queue.hasOwnProperty(id)){\n\t    var fn = queue[id];\n\t    delete queue[id];\n\t    fn();\n\t  }\n\t};\n\tvar listner = function(event){\n\t  run.call(event.data);\n\t};\n\t// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n\tif(!setTask || !clearTask){\n\t  setTask = function setImmediate(fn){\n\t    var args = [], i = 1;\n\t    while(arguments.length > i)args.push(arguments[i++]);\n\t    queue[++counter] = function(){\n\t      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n\t    };\n\t    defer(counter);\n\t    return counter;\n\t  };\n\t  clearTask = function clearImmediate(id){\n\t    delete queue[id];\n\t  };\n\t  // Node.js 0.8-\n\t  if(__webpack_require__(68)(process) == 'process'){\n\t    defer = function(id){\n\t      process.nextTick(ctx(run, id, 1));\n\t    };\n\t  // Browsers with MessageChannel, includes WebWorkers\n\t  } else if(MessageChannel){\n\t    channel = new MessageChannel;\n\t    port    = channel.port2;\n\t    channel.port1.onmessage = listner;\n\t    defer = ctx(port.postMessage, port, 1);\n\t  // Browsers with postMessage, skip WebWorkers\n\t  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n\t  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n\t    defer = function(id){\n\t      global.postMessage(id + '', '*');\n\t    };\n\t    global.addEventListener('message', listner, false);\n\t  // IE8-\n\t  } else if(ONREADYSTATECHANGE in cel('script')){\n\t    defer = function(id){\n\t      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n\t        html.removeChild(this);\n\t        run.call(id);\n\t      };\n\t    };\n\t  // Rest old browsers\n\t  } else {\n\t    defer = function(id){\n\t      setTimeout(ctx(run, id, 1), 0);\n\t    };\n\t  }\n\t}\n\tmodule.exports = {\n\t  set:   setTask,\n\t  clear: clearTask\n\t};\n\n/***/ },\n/* 84 */\n/***/ function(module, exports) {\n\n\t// fast apply, http://jsperf.lnkit.com/fast-apply/5\n\tmodule.exports = function(fn, args, that){\n\t  var un = that === undefined;\n\t  switch(args.length){\n\t    case 0: return un ? fn()\n\t                      : fn.call(that);\n\t    case 1: return un ? fn(args[0])\n\t                      : fn.call(that, args[0]);\n\t    case 2: return un ? fn(args[0], args[1])\n\t                      : fn.call(that, args[0], args[1]);\n\t    case 3: return un ? fn(args[0], args[1], args[2])\n\t                      : fn.call(that, args[0], args[1], args[2]);\n\t    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n\t                      : fn.call(that, args[0], args[1], args[2], args[3]);\n\t  } return              fn.apply(that, args);\n\t};\n\n/***/ },\n/* 85 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(10).document && document.documentElement;\n\n/***/ },\n/* 86 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isObject = __webpack_require__(71)\n\t  , document = __webpack_require__(10).document\n\t  // in old IE typeof document.createElement is 'object'\n\t  , is = isObject(document) && isObject(document.createElement);\n\tmodule.exports = function(it){\n\t  return is ? document.createElement(it) : {};\n\t};\n\n/***/ },\n/* 87 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar redefine = __webpack_require__(51);\n\tmodule.exports = function(target, src){\n\t  for(var key in src)redefine(target, key, src[key]);\n\t  return target;\n\t};\n\n/***/ },\n/* 88 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar core        = __webpack_require__(11)\n\t  , $           = __webpack_require__(8)\n\t  , DESCRIPTORS = __webpack_require__(54)\n\t  , SPECIES     = __webpack_require__(59)('species');\n\t\n\tmodule.exports = function(KEY){\n\t  var C = core[KEY];\n\t  if(DESCRIPTORS && C && !C[SPECIES])$.setDesc(C, SPECIES, {\n\t    configurable: true,\n\t    get: function(){ return this; }\n\t  });\n\t};\n\n/***/ },\n/* 89 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar ITERATOR     = __webpack_require__(59)('iterator')\n\t  , SAFE_CLOSING = false;\n\t\n\ttry {\n\t  var riter = [7][ITERATOR]();\n\t  riter['return'] = function(){ SAFE_CLOSING = true; };\n\t  Array.from(riter, function(){ throw 2; });\n\t} catch(e){ /* empty */ }\n\t\n\tmodule.exports = function(exec, skipClosing){\n\t  if(!skipClosing && !SAFE_CLOSING)return false;\n\t  var safe = false;\n\t  try {\n\t    var arr  = [7]\n\t      , iter = arr[ITERATOR]();\n\t    iter.next = function(){ safe = true; };\n\t    arr[ITERATOR] = function(){ return iter; };\n\t    exec(arr);\n\t  } catch(e){ /* empty */ }\n\t  return safe;\n\t};\n\n/***/ },\n/* 90 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/**\n\t * Defines an Object type using a named constructor function.\n\t * @module\n\t */\n\t\n\t/**\n\t * Constructs an object with methods bound to a context.\n\t * @arg {object} _from - Object with methods to bind.\n\t * @arg {object} _to - Context which methtods should be bound to.\n\t */\n\t\n\tvar _Object$defineProperty = __webpack_require__(91)['default'];\n\t\n\tvar _Object$keys = __webpack_require__(33)['default'];\n\t\n\tvar _Object$create = __webpack_require__(20)['default'];\n\t\n\texports.__esModule = true;\n\texports['default'] = type;\n\tfunction Bindings(_from, _to) {\n\t\tvar method;\n\t\n\t\t// pull all methods from the prototype chain.\n\t\tfor (method in _from) {\n\t\t\tif (typeof _from[method] !== 'function') continue;\n\t\t\tthis[method] = _from[method].bind(_to);\n\t\t}\n\t}\n\t\n\t/**\n\t * Takes an itterable object and convert it into an Array.\n\t * @arg {object} _itterable\n\t * @returns {array}\n\t */\n\tfunction toArray(_itterable) {\n\t\treturn [].map.call(_itterable, function (m) {\n\t\t\treturn m;\n\t\t});\n\t}\n\t\n\t/**\n\t * Converts a constructor function into an object \"type\". Which addapts the constructor with and interface for creating instsances and extension.\n\t * @arg {function} _constructor... - any number of constructor functions.\n\t * @returns The constructor or an object containing all the defined types.\n\t */\n\t\n\tfunction type() {\n\t\tvar defs, module;\n\t\n\t\t/**\n\t  * Constructs an interface which is accesed through the constructors arguments.\n\t  * These arguments are parsed from the function string and collected into an array.\n\t  * @arg {function} _constructor\n\t  * @returns {array} The collection of API functions requested by the constructor.\n\t  */\n\t\tfunction createApi(_constructor) {\n\t\t\tvar args, api;\n\t\n\t\t\t// Matches the names of the arguments defined in the source of the function.\n\t\t\t// [^\\(\\)\\.\\s,]+ captures one or more of any character which is NOT a parenthetical, period, white-space character, or comma.\n\t\t\t// It then takes that rule and looks for multiple intances w/o spaces or commas around it, which would be encased in parenthensies.\n\t\t\t// NOTE: since this regex is not matching globally, it will not match any argument clusters past the function definition.\n\t\t\targs = (Function.prototype.toString.call(_constructor).match(/\\(((?:\\s*[^\\(\\)\\.\\s,]+\\s*,?)+)\\)/) || ['', ''])[1].split(/\\s*,\\s*/);\n\t\t\tapi = {\n\t\t\t\t/**\n\t    * Invokes the specified method closest in the prototype chain. Allowing you to still invoke a method which was overridden.\n\t    *\n\t    * @arg {object} _obj - The context which to find the parent function.\n\t    * @arg {string} _name - The method name.\n\t    * @arg {array} _args - A collection of arguments to invoke the method with\n\t    * @returns {*} Whatever the caller returns.\n\t    *\n\t    * @example \n\t    * Car.extend(function Ford (proto) {\n\t    *     this.drive = function () {\n\t    *         proto(this, 'drive', arguments);\n\t    *         // do some opps.\n\t    *     };\n\t    * });\n\t    */\n\t\t\t\tproto: function proto(_obj, _name, _args) {\n\t\t\t\t\tvar proto, method;\n\t\n\t\t\t\t\tproto = Object.getPrototypeOf(this || _obj);\n\t\t\t\t\tmethod = proto[_name];\n\t\n\t\t\t\t\tif (typeof _obj[_name] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Member ' + _name + ' is not a function.');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (method) {\n\t\t\t\t\t\t// Does _obj's prototype have the method and it's not the same reference as _obj.\n\t\t\t\t\t\tif (proto.hasOwnProperty(_name) && _obj[_name] !== proto[_name]) {\n\t\t\t\t\t\t\treturn _args ? method.apply(_obj, _args) : method.bind(_obj);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Otherwise, walk the prototype chain to find the prototype that has the parent method.\n\t\t\t\t\t\twhile (proto) {\n\t\t\t\t\t\t\tif (proto.hasOwnProperty(_name) && _obj[_name] !== proto[_name]) {\n\t\t\t\t\t\t\t\treturn _args ? method.apply(_obj, _args) : method.bind(_obj);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tproto = Object.getPrototypeOf(proto);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn new Bindings(proto, _obj);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t/**\n\t    * Invokes the specified method which lives on the object type's prototype.\n\t    * If your instance overrides the object types method, or your many prototype\n\t    * levels away from the base prototype, this lets you track back to the original.\n\t    *\n\t    * @arg {object} _obj - The context which to find the parent function.\n\t    * @arg {string} _name - The method name.\n\t    * @arg {array} _args - A collection of arguments to invoke the method with\n\t    * @returns {*} Whatever the caller returns.\n\t    */\n\t\t\t\tbase: function base(_obj, _name, _args) {\n\t\t\t\t\tvar proto, method;\n\t\n\t\t\t\t\tproto = _constructor.prototype;\n\t\t\t\t\tmethod = proto[_name];\n\t\n\t\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Member ' + _name + ' is not a function.');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (method) {\n\t\t\t\t\t\treturn _args ? method.apply(_obj, _args) : method.bind(_obj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn new Bindings(proto, _obj);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t/**\n\t    * Invokes the specified method on the object type's super type or parent type (i.e. Ford extending Car).\n\t    * @arg {object} _obj - The context which to find the parent function.\n\t    * @arg {string} _name - The method name.\n\t    * @arg {array} _args - A collection of arguments to invoke the method with\n\t    * @returns {*} Whatever the caller returns.\n\t    */\n\t\t\t\tsup: function sup(_obj, _name, _args) {\n\t\t\t\t\treturn api.proto.apply(_constructor.prototype, arguments);\n\t\t\t\t},\n\t\t\t\t/**\n\t    * Defines a properpty which is configured `{configureable: false, writeable: false}`.\n\t    * @arg {object} _obj - The context which to define members.\n\t    * @arg {string} _name - The member name.\n\t    * @arg {*} _value - The value.\n\t    * @returns api\n\t    */\n\t\t\t\tconstant: function constant(_obj, _name, _value) {\n\t\t\t\t\t_Object$defineProperty(_obj, _name, {\n\t\t\t\t\t\tvalue: _value,\n\t\t\t\t\t\tconfigureable: false,\n\t\t\t\t\t\twriteable: false\n\t\t\t\t\t});\n\t\n\t\t\t\t\treturn api;\n\t\t\t\t},\n\t\t\t\t/**\n\t    * Defines members on the constructor.\n\t    * @function static\n\t    * @overload\n\t    * @arg {string} _name - The member name.\n\t    * @arg {*} _value - The value.\n\t    * @returns api\n\t    */\n\t\n\t\t\t\t/**\n\t    * Defines members on the constructor.\n\t    * @arg {object} _def - An object with members to mixin.\n\t    * @returns api\n\t    */\n\t\t\t\t'static': function _static(_name_def, _value) {\n\t\t\t\t\tvar member, _name, _def;\n\t\n\t\t\t\t\t_value ? _name = _name_def : _def = _name_def;\n\t\n\t\t\t\t\tif (_def) {\n\t\t\t\t\t\tfor (member in _def) {\n\t\t\t\t\t\t\tif (!_def.hasOwnProperty(member)) continue;\n\t\t\t\t\t\t\t_constructor[member] = _def[member];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (_name) {\n\t\t\t\t\t\t_constructor[_name] = _value;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn api;\n\t\t\t\t},\n\t\t\t\t/**\n\t    * A pretty way of define the interface of your object type.\n\t    *\n\t    * You may pass any number of arguments as functions or strings.\n\t    * \n\t    * **Example**\n\t    * ```javascript\n\t    * function Car ($) {$(\n\t    *     // Defines a member assigned to `null`.\n\t    *     'name',\n\t    *     // Defines members with values as a string and number. Keep in mind these are put on the prototype.\n\t    *     'engineType = \"standard\", speed = 0',\n\t    *\n\t    *     // Define instance members.\n\t    *     function alloc (_name) {\n\t    *         this.name = _name;\n\t    *     },\n\t    *\n\t    *     function drive () {\n\t    *         this.speed += 1;\n\t    *     }\n\t    * )}\n\t    * ```\n\t    *\n\t    * One benefit to this interface is that all your methods are named so you have easy access for recursive programs.\n\t    * @arg {string|function} _def - A string of property definitions or a named function.\n\t    * @todo Support property assignment in alloc. Micah: 2/24/2016\n\t    */\n\t\t\t\t$: function $() {\n\t\t\t\t\tvar args = toArray(arguments);\n\t\n\t\t\t\t\targs.forEach(function (_member) {\n\t\t\t\t\t\tvar memberType, props, key;\n\t\n\t\t\t\t\t\tmemberType = typeof _member;\n\t\n\t\t\t\t\t\tswitch (memberType) {\n\t\t\t\t\t\t\tcase 'string':\n\t\t\t\t\t\t\t\tprops = _member.split(/\\s*,\\s*/);\n\t\n\t\t\t\t\t\t\t\tif (props) {\n\t\t\t\t\t\t\t\t\tprops.forEach(function (_def) {\n\t\t\t\t\t\t\t\t\t\tvar prop, val;\n\t\n\t\t\t\t\t\t\t\t\t\tprop = _def.split(/\\s*[:=]\\s*/);\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tval = JSON.parse(prop[1]);\n\t\t\t\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t\t\t\t\t_constructor.prototype[prop[0]] = typeof prop[1] !== 'undefined' ? val || prop[1] : null;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\t\t\tfor (key in _member) {\n\t\t\t\t\t\t\t\t\tif (!_member.hasOwnProperty(key)) continue;\n\t\t\t\t\t\t\t\t\t_constructor.prototype[key] = _member[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\t\tcase 'function':\n\t\t\t\t\t\t\t\tif (!_member.name) throw TypeError('Member must be a named function.');\n\t\t\t\t\t\t\t\t_constructor.prototype[_member.name] = _member;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\treturn api;\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\treturn args.map(function (_call) {\n\t\t\t\treturn api[_call] || module[_call];\n\t\t\t});\n\t\t}\n\t\n\t\tdefs = toArray(arguments);\n\t\tmodule = !this ? {} : this;\n\t\n\t\tdefs.forEach(function (_constructor) {\n\t\t\tvar api;\n\t\n\t\t\tif (typeof _constructor === 'object') {\n\t\t\t\tvar Super,\n\t\t\t\t    keys = _Object$keys(_constructor);\n\t\n\t\t\t\tif (keys.length === 1 && module[keys[0]]) {\n\t\t\t\t\tSuper = module[keys[0]];\n\t\t\t\t\treturn Super.extend.call(module, _constructor[keys[0]]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tapi = createApi(_constructor);\n\t\n\t\t\t/**\n\t   * Creates a new instance of the constructor prototype.\n\t   * This also invokes the `alloc()` on the instance so you can define instance props.\n\t   * @arg {*} ... - Any number of arguments for `alloc()`.\n\t   * @returns instance\n\t   */\n\t\t\t_constructor.create = function () {\n\t\t\t\tvar instance = _Object$create(_constructor.prototype);\n\t\t\t\tif (typeof instance.alloc === 'function') instance.alloc.apply(instance, arguments);\n\t\t\t\treturn instance;\n\t\t\t};\n\t\n\t\t\t/**\n\t   * Extends the provided constructor prototype.\n\t   * @arg {function} _definition - Constructor for the object type.\n\t   * @returns _constructor\n\t   */\n\t\t\t_constructor.extend = function (_definition) {\n\t\t\t\t_definition.prototype = _Object$create(_constructor.prototype, {\n\t\t\t\t\tconstructor: {\n\t\t\t\t\t\tvalue: _definition,\n\t\t\t\t\t\tenumerable: false,\n\t\t\t\t\t\twriteable: false,\n\t\t\t\t\t\tconfigureable: false\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\treturn type.call(this === _constructor ? null : this, _definition);\n\t\t\t};\n\t\n\t\t\t_constructor.apply(_constructor.prototype, api);\n\t\n\t\t\tmodule[_constructor.name] = _constructor;\n\t\t});\n\t\n\t\treturn defs.length > 1 ? module : defs[0];\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 91 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(92), __esModule: true };\n\n/***/ },\n/* 92 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(8);\n\tmodule.exports = function defineProperty(it, key, desc){\n\t  return $.setDesc(it, key, desc);\n\t};\n\n/***/ },\n/* 93 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Base class for a scope acting as an \"entity\" with \"states\", \"behaviors\" and the ability to respond (responsibilities) to behaviors.\n\t *\n\t * @module\n\t */\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _typesGlobalScope = __webpack_require__(30);\n\t\n\tvar _typesGlobalScope2 = _interopRequireDefault(_typesGlobalScope);\n\t\n\tvar _typesCollection = __webpack_require__(29);\n\t\n\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\n\tvar _typesDimensions = __webpack_require__(14);\n\t\n\tvar _typesQueue = __webpack_require__(40);\n\t\n\tvar _typesQueue2 = _interopRequireDefault(_typesQueue);\n\t\n\tfunction invokeResponsibilities(_scope, _event) {\n\t\tif (_scope && _scope.responsibilities && _scope.isMemberSafe('responsibilities')) {\n\t\t\t_scope.responsibilities.forEach(function (_record) {\n\t\t\t\tif (_record.name === _event.name) {\n\t\n\t\t\t\t\t// console.log(_scope.id(), 'respond', _record.name, 'from', _event.targetScope.id());\n\t\t\t\t\t_record.ability.call(_scope, _event);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\t/**\n\t * <span class=\"note important\">NOTE: This is NOT a constructor. Use `Entity.create()` to get a new instance.</span>\n\t * @classdesc Base class for a scope acting as an \"entity\" with \"states\", \"behaviors\" and the ability to respond (responsibilities) to behaviors. For more information on these terms read [this]{@link module:types/Entity}.\n\t * <style>\n\t * .tag {\n\t *   padding: 1px 4px;\n\t *   border-radius: 4px;\n\t *\n\t *   color: #fff;\n\t *   background-color: #aaa;\n\t * }\n\t *\n\t * .tag.behavior {\n\t *\t background-color: #0ba;\n\t * }\n\t *\n\t * .tag.state {\n\t *\t background-color: #ba0;\n\t * }\n\t *\n\t * .note {\n\t *   border: solid 1px;\n\t *   border-radius: 4px;\n\t *   padding: 1px 4px;\n\t *   color: #aaa;\n\t *   background-color: #eee;\n\t * }\n\t * \n\t * .note.important {\n\t *   color: #b55;\n\t *   background-color: #fee;\n\t * }\n\t * </style>\n\t *\n\t * @class\n\t * @prop {module:types/Collection~Collection} responsibilities - A collection of ResponsibilityRecords for the scope.\n\t * @prop {boolean} isComplete - Marks a scope as \"complete\" via the [`complete()`]{@link module:types/Entity~Entity#complete} behavior.\n\t * @extends GlobalScope\n\t */\n\tvar Entity = _typesGlobalScope2['default'].extend(function () {\n\t\n\t\tfunction resolveTarget(_target) {\n\t\n\t\t\tswitch (typeof _target) {\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn this.findOwn(_target);\n\t\t\t\tcase 'object':\n\t\t\t\t\tif (_target.jquery) return _target;\n\t\t\t\t\tif (Entity.isPrototypeOf(_target)) return _target;\n\t\t\t\t\tif (_target.nodeType === document.ELEMENT_NODE) return $(_target);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t}\n\t\n\t\tfunction ResponsibilityRecord(_name, _ability) {\n\t\t\tthis.name = _name;\n\t\t\tthis.ability = _ability;\n\t\t}\n\t\n\t\tfunction dragGreeter(_event) {\n\t\t\tswitch (_event.type) {\n\t\t\t\tcase 'drag-start':\n\t\t\t\t\tthis.grab(_event.state);\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'drag-move':\n\t\t\t\t\tthis.dragging(_event.state);\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'drag-end':\n\t\t\t\t\tthis.release(_event.state);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\n\t\tfunction attachDragEvents() {\n\t\t\tif (this.draggables && this.isMemberSafe('draggables') && this.draggables.length) {\n\t\t\t\tthis.on('drag-start drag-move drag-end', dragGreeter);\n\t\t\t}\n\t\t}\n\t\n\t\tthis.baseType = 'TYPE_ENTITY';\n\t\tthis.STATE = {\n\t\t\tPLAYING: 'PLAYING',\n\t\t\tBACKGROUND: 'BACKGROUND',\n\t\t\tVOICE_OVER: 'VOICE-OVER',\n\t\t\tSFX: 'SFX'\n\t\t};\n\t\n\t\tthis.timeoutID = null;\n\t\tthis.intervalID = null;\n\t\tthis.responsibilities = null;\n\t\tthis.isComplete = false;\n\t\tthis.shouldInheritAbilities = true;\n\t\tthis.frameHandlers = null;\n\t\tthis.frameRate = 60; // 60fps\n\t\tthis.draggables = null;\n\t\tthis.requiredQueue = null;\n\t\tthis.bgImageCollection = null;\n\t\n\t\tthis.handleProperty({\n\t\t\tsize: function size(_node, _name, _value) {\n\t\t\t\tvar size;\n\t\n\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\tsize = _value.split(/\\s*[x,]\\s*/);\n\t\t\t\t\tthis.css({\n\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\theight: size[1] || size[0]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tposition: function position(_node, _name, _value) {\n\t\t\t\tvar size;\n\t\n\t\t\t\tif (this.is(_node)) {\n\t\t\t\t\tsize = _value.split(/\\s*[x,]\\s*/);\n\t\t\t\t\tthis.css({\n\t\t\t\t\t\ttop: size[1] || size[0],\n\t\t\t\t\t\tleft: size[0]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tdraggable: function draggable(_node, _name, _value) {\n\t\t\t\tif (!this.hasOwnProperty('draggables')) {\n\t\t\t\t\tthis.draggables = $();\n\t\t\t\t}\n\t\n\t\t\t\tthis.draggables.push(_node);\n\t\t\t},\n\t\n\t\t\tbg: function bg(_node, _name, _value) {\n\t\t\t\tvar img = new Image();\n\t\n\t\t\t\tif (!this.hasOwnProperty('bgImageCollection')) this.bgImageCollection = [];\n\t\n\t\t\t\tif (this.isMemberSafe('bgImageCollection')) {\n\t\t\t\t\timg.src = _value;\n\t\t\t\t\tthis.bgImageCollection.push(img);\n\t\t\t\t\t$(_node).css('background-image', 'url(' + _value + ')');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\tthis.__init = function (_event) {\n\t\t\tif (this.bgImageCollection && this.isMemberSafe('bgImageCollection')) {\n\t\t\t\tthis.watchAssets(this.bgImageCollection);\n\t\t\t}\n\t\t\tattachDragEvents.call(this);\n\t\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.size = function () {\n\t\t\tvar size;\n\t\n\t\t\tif (arguments.length) {\n\t\t\t\tsize = _typesDimensions.Size.create(arguments);\n\t\t\t\tthis.css(size);\n\t\t\t\treturn size;\n\t\t\t}\n\t\n\t\t\treturn _typesDimensions.Size.create().set(this.width(), this.height());\n\t\t};\n\t\n\t\tthis.propagateBehavior = function (_event) {\n\t\t\tvar ids;\n\t\n\t\t\tids = [];\n\t\n\t\t\tthis.findOwn('.pl-scope').each(function (_index, _node) {\n\t\t\t\tvar $node = $(_node);\n\t\t\t\tids.push($node.id() || $node.address());\n\t\t\t});\n\t\n\t\t\tif (this.hasOwnProperty('entities') && this.entities.length) {\n\t\t\t\t// console.log(this.id(), 'propagate', _event.name, 'to', this.entities.length, 'nodes', ids);\n\t\n\t\t\t\tthis.entities.forEach(function (_scope) {\n\t\t\t\t\tinvokeResponsibilities(_scope, _event);\n\t\t\t\t\t_scope.propagateBehavior(_event);\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.require = function (_entity) {\n\t\t\tif (!this.hasOwnProperty('requiredQueue')) {\n\t\t\t\tthis.requiredQueue = _typesQueue2['default'].create();\n\t\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\t\tthis.log('entity complete');\n\t\t\t\t\tthis.complete();\n\t\t\t\t}));\n\t\n\t\t\t\tthis.respond('complete', function (_event) {\n\t\t\t\t\tif (!this.has(_event.target)) return;\n\t\t\t\t\tif (_event.targetScope === this) return;\n\t\n\t\t\t\t\tthis.requiredQueue.ready(_event.behaviorTarget);\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tthis.requiredQueue.add(_entity);\n\t\t\tthis.gate();\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.behavior = function (_name, _behavior) {\n\t\t\t_behavior.method = this[_name] = function () {\n\t\t\t\tvar behaviorEvent, result;\n\t\n\t\t\t\tbehaviorEvent = {\n\t\t\t\t\tname: _name,\n\t\t\t\t\tmessage: '',\n\t\t\t\t\ttargetScope: this,\n\t\t\t\t\tbehaviorTarget: this\n\t\t\t\t};\n\t\n\t\t\t\tresult = _behavior.apply(this, arguments);\n\t\n\t\t\t\tif (typeof result === 'object') {\n\t\t\t\t\tbehaviorEvent = _util2['default'].mixin(behaviorEvent, result);\n\t\t\t\t}\n\t\n\t\t\t\tif (result !== false) {\n\t\t\t\t\tthis.trigger($.Event('behavior', behaviorEvent));\n\t\t\t\t}\n\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.respond = function () {\n\t\t\tvar name, ability, parentScope, abilities, protoAbilities;\n\t\n\t\t\tif (!this.hasOwnProperty('responsibilities')) {\n\t\t\t\tabilities = _typesCollection2['default'].create();\n\t\t\t\tprotoAbilities = this.provideAblilityPototype();\n\t\n\t\t\t\tif (this.shouldInheritAbilities && protoAbilities && protoAbilities.responsibilities) {\n\t\t\t\t\tabilities.push.apply(abilities, protoAbilities.responsibilities);\n\t\t\t\t}\n\t\n\t\t\t\tthis.responsibilities = abilities;\n\t\t\t}\n\t\n\t\t\tif (arguments.length === 1) {\n\t\t\t\tswitch (typeof arguments[0]) {\n\t\t\t\t\tcase 'string':\n\t\t\t\t\t\tname = arguments[0];break;\n\t\n\t\t\t\t\tcase 'function':\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tability = arguments[0];break;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tname = arguments[0];\n\t\t\t\tability = arguments[1];\n\t\t\t}\n\t\n\t\t\tswitch (typeof ability) {\n\t\t\t\tcase 'object':\n\t\t\t\t\tfor (name in ability) {\n\t\t\t\t\t\tif (!ability.hasOwnProperty(name)) continue;\n\t\n\t\t\t\t\t\tthis.respond(name, ability[name]);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'function':\n\t\t\t\t\tthis.responsibilities.add(new ResponsibilityRecord(name, ability));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.delay = function (_time, _cb) {\n\t\t\tvar time = _util2['default'].toMillisec(_time);\n\t\n\t\t\t_util2['default'].assignRef(this, 'timeoutID', setTimeout(_cb.bind(this), time));\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.repeat = function (_time, _cb) {\n\t\t\tvar time = _util2['default'].toMillisec(_time);\n\t\n\t\t\t_util2['default'].assignRef(this, 'intervalID', setInterval(_cb.bind(this), time));\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.kill = function (_timer) {\n\t\t\tvar id = _timer === 'repeat' ? this.intervalID : this.timeoutID;\n\t\n\t\t\tif (typeof id === 'number') {\n\t\t\t\t(_timer === 'repeat' ? clearInterval : clearTimeout)(id);\n\t\t\t\tthis[_timer === 'repeat' ? 'intervalID' : 'timeoutID'] = null;\n\t\t\t} else if (id) {\n\t\t\t\tid.forEach(function (_id) {\n\t\t\t\t\t(_timer === 'repeat' ? clearInterval : clearTimeout)(_id);\n\t\t\t\t});\n\t\n\t\t\t\t_timer === 'repeat' ? this.intervalID = null : this.timeoutID = null;\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.eachFrame = function (_handler, _on) {\n\t\t\tvar binder, frame, lastTime, rate, frames;\n\t\n\t\t\trate = this.frameRate || 1000;\n\t\t\tframes = 0;\n\t\t\tlastTime = 0;\n\t\n\t\t\tif (!this.hasOwnProperty('frameHandlers') || this.frameHandlers.length === 0) {\n\t\t\t\tframe = function (_time) {\n\t\t\t\t\tvar i, handler;\n\t\n\t\t\t\t\tif (rate) {\n\t\t\t\t\t\tif (_time - lastTime >= 1000 / rate) {\n\t\t\t\t\t\t\tfor (i = 0; handler = this.frameHandlers[i]; i += 1) {\n\t\t\t\t\t\t\t\thandler.call(this, _time, Math.round(1000 / (_time - lastTime)), rate);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (frames === rate) frames = 0;\n\t\n\t\t\t\t\t\t\tframes += 1;\n\t\t\t\t\t\t\tlastTime = _time;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (this.frameHandlers.length) {\n\t\t\t\t\t\twindow.requestAnimationFrame(binder);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\n\t\t\t\tbinder = this.bind(frame);\n\t\n\t\t\t\t// allows methods passed as _handler's to\n\t\t\t\t// be able to trace back for proto() callbacks.\n\t\t\t\tframe.method = this.eachFrame;\n\t\n\t\t\t\tthis.frameHandlers = _typesCollection2['default'].create();\n\t\t\t\twindow.requestAnimationFrame(binder);\n\t\t\t}\n\t\n\t\t\tif (_on !== false) {\n\t\t\t\tthis.frameHandlers.add(_handler);\n\t\t\t} else {\n\t\t\t\tthis.frameHandlers.remove(_handler);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.state = function (_flag, _definition, _imp) {\n\t\t\tvar flag, tester, setter, getter, STATE, def, opperations, names;\n\t\n\t\t\tif (!_definition) {\n\t\t\t\treturn this.proto(_flag);\n\t\t\t}\n\t\n\t\t\tdef = _definition.split(/\\s+/);\n\t\t\tnames = _flag.split(/\\s+/);\n\t\t\topperations = [];\n\t\n\t\t\tdef.forEach(this.bind(function (_opp) {\n\t\t\t\tvar method, flag;\n\t\n\t\t\t\tmethod = _opp.slice(0, 1) === '+' ? 'addClass' : 'removeClass';\n\t\n\t\t\t\topperations.push({\n\t\t\t\t\tmethod: method,\n\t\t\t\t\tflag: _opp.slice(1)\n\t\t\t\t});\n\t\n\t\t\t\tif (method === 'addClass') {\n\t\t\t\t\tflag = _opp.slice(1);\n\t\t\t\t\tSTATE = _util2['default'].transformId(flag);\n\t\t\t\t\tthis.STATE[STATE] = flag;\n\t\t\t\t}\n\t\t\t}));\n\t\n\t\t\tsetter = names[0];\n\t\t\ttester = names[1];\n\t\n\t\t\tthis[setter] = function (_target) {\n\t\t\t\tvar target, uiStateEvent, oppsPerformed;\n\t\n\t\t\t\ttarget = resolveTarget.call(this, _target);\n\t\t\t\tuiStateEvent = $.Event('ui-' + setter, {\n\t\t\t\t\ttarget: target.jquery ? target[0] : target,\n\t\t\t\t\ttargetScope: this\n\t\t\t\t});\n\t\t\t\toppsPerformed = 0;\n\t\n\t\t\t\tif (_imp && _imp.shouldSet && _imp.shouldSet.apply(this, arguments) === false) {\n\t\t\t\t\treturn !!(_imp && _imp.notSet) && _imp.notSet.apply(this, arguments);\n\t\t\t\t}\n\t\n\t\t\t\tif (_imp && _imp.willSet) _imp.willSet.apply(this, arguments);\n\t\n\t\t\t\topperations.forEach(function (_record) {\n\t\t\t\t\t// If we are adding or removing a class, test if the target already has/removed it.\n\t\t\t\t\t// If so, then bump \"oppsPerformed\".\n\t\t\t\t\toppsPerformed += Number(target.hasClass(_record.flag) === ! ~_record.method.indexOf('add'));\n\t\t\t\t\ttarget[_record.method](_record.flag);\n\t\t\t\t});\n\t\n\t\t\t\tif (_imp && _imp.didSet) _imp.didSet.apply(this, arguments);\n\t\n\t\t\t\tif (oppsPerformed) {\n\t\t\t\t\tthis.trigger(uiStateEvent);\n\t\t\t\t\treturn target;\n\t\t\t\t}\n\t\n\t\t\t\treturn false;\n\t\t\t};\n\t\n\t\t\tif (tester) {\n\t\t\t\tgetter = 'get' + tester.slice(0, 1).toUpperCase() + tester.slice(1);\n\t\n\t\t\t\tthis[tester] = function (_target) {\n\t\t\t\t\tvar target;\n\t\n\t\t\t\t\ttarget = resolveTarget.call(this, _target);\n\t\n\t\t\t\t\treturn target.hasClass(this.STATE[STATE]);\n\t\t\t\t};\n\t\n\t\t\t\tthis[getter] = function () {\n\t\t\t\t\treturn this.findOwn('.' + this.STATE[STATE]);\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.provideBehaviorEventScope = function () {\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.provideAblilityPototype = function () {\n\t\t\tvar owner;\n\t\n\t\t\towner = _util2['default'].getOwner(this, this.baseType);\n\t\n\t\t\treturn !!owner && owner.object;\n\t\t};\n\t\n\t\tthis.completed = function () {\n\t\t\treturn this.game.demoMode || this.hasOwnProperty('isComplete') && this.isComplete || !this.requiredQueue || this.hasOwnProperty('requiredQueue') && this.requiredQueue.length === 0;\n\t\t};\n\t\n\t\t/**\n\t  * <span class=\"tag behavior\">Behavior</span>\n\t  * Marks a scope \"complete\" by seting `isComplete` to `true` and add the `COMPLETE` state flag.\n\t  * @function module:types/Entity~Entity#complete\n\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t  */\n\t\tthis.behavior('complete', function () {\n\t\t\tif (this.hasOwnProperty('isComplete') && this.isComplete) return false;\n\t\n\t\t\tthis.isComplete = true;\n\t\t\tthis.addClass('COMPLETE');\n\t\n\t\t\treturn {\n\t\t\t\tbehaviorTarget: this\n\t\t\t};\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag behavior\">Behavior</span>\n\t  * Reports a drggable has been grabbed for dragging.\n\t  * @function module:types/Entity~Entity#grab\n\t  * @arg {object} _state - An object containing the state of a draggable.\n\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t  *\n\t  * @see module:play~pl.game.manager.draggable for more info on draggable state.\n\t  */\n\t\tthis.behavior('grab', function (_state) {\n\t\t\treturn {\n\t\t\t\tstate: _state,\n\t\t\t\tbehaviorTarget: _state.$draggable\n\t\t\t};\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag behavior\">Behavior</span>\n\t  * Reports a draggable as being dragged.\n\t  * @function module:types/Entity~Entity#dragging\n\t  * @arg {object} _state - An object containing the state of a draggable.\n\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t  *\n\t  * @see module:play~pl.game.manager.draggable for more info on draggable state.\n\t  */\n\t\tthis.behavior('dragging', function (_state) {\n\t\t\treturn {\n\t\t\t\tstate: _state,\n\t\t\t\tbehaviorTarget: _state.$draggable\n\t\t\t};\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag behavior\">Behavior</span>\n\t  * Reports a drggable as released or droped.\n\t  * @function module:types/Entity~Entity#release\n\t  * @arg {object} _state - An object containing the state of a draggable.\n\t  * @returns {object} A messages object with `behaviorTarget` set to the scope performing the behavior.\n\t  *\n\t  * @see module:play~pl.game.manager.draggable for more info on draggable state.\n\t  */\n\t\tthis.behavior('release', function (_state) {\n\t\t\treturn {\n\t\t\t\tstate: _state,\n\t\t\t\tbehaviorTarget: _state.$draggable\n\t\t\t};\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds `OPEN` and removes the `LEAVE` CSS class names from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#open\n\t  * @fires Entity#ui-open\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `OPEN` class name.\n\t  * @function module:types/Entity~Entity#opened\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Open'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `OPEN` class name.\n\t  * @function module:types/Entity~Entity#getOpened\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('open opened', '+OPEN -LEAVE');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Removes the `OPEN` CSS class name from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#close\n\t  * @fires Entity#ui-close\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\tthis.state('close', '-OPEN');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds the `LEAVE` CSS class name to the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#leave\n\t  * @fires Entity#ui-leave\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `LEAVE` class name.\n\t  * @function module:types/Entity~Entity#left\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Leave'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `LEAVE` class name.\n\t  * @function module:types/Entity~Entity#getLeft\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('leave left', '+LEAVE', {\n\t\t\twillSet: function willSet(_target) {\n\t\t\t\tthis.close(_target);\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds `ENABLED` and removes the `DISABLED` CSS class names from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#enable\n\t  * @fires Entity#ui-enable\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `ENABLED` class name.\n\t  * @function module:types/Entity~Entity#enabled\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Enabled'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `ENABLED` class name.\n\t  * @function module:types/Entity~Entity#getEnabled\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('enable enabled', '+ENABLED -DISABLED');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds `DISABLED` and removes the `ENABLED` CSS class names from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#disable\n\t  * @fires Entity#ui-disable\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `DISABLED` class name.\n\t  * @function module:types/Entity~Entity#disabled\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Disabled'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `DISABLED` class name.\n\t  * @function module:types/Entity~Entity#getDisabled\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('disable disabled', '+DISABLED -ENABLED');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds the `SELECTED` CSS class name to the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#select\n\t  * @fires Entity#ui-select\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `SELECTED` class name.\n\t  * @function module:types/Entity~Entity#selected\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Selected'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `SELECTED` class name.\n\t  * @function module:types/Entity~Entity#getDisabled\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('select selected', '+SELECTED', {\n\t\t\twillSet: function willSet(_target) {\n\t\t\t\tvar target, $parent;\n\t\n\t\t\t\ttarget = resolveTarget.call(this, _target);\n\t\t\t\t$parent = target.parent();\n\t\n\t\t\t\t$parent.find('> .SELECTED').each(this.bind(function (_index, _node) {\n\t\t\t\t\tthis.deselect(_node);\n\t\t\t\t}));\n\t\t\t\t$parent.find('> .HIGHLIGHTED').each(this.bind(function (_index, _node) {\n\t\t\t\t\tthis.unhighlight(_node);\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Removes the `SELECTED` CSS class name from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#deselect\n\t  * @fires Entity#ui-deselect\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\tthis.state('deselect', '-SELECTED');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds the `HIGHLIGHTED` CSS class name to the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#highlight\n\t  * @fires Entity#ui-highlight\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `HIGHLIGHTED` class name.\n\t  * @function module:types/Entity~Entity#highlighted\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Highlighted'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `HIGHLIGHTED` class name.\n\t  * @function module:types/Entity~Entity#getHighlighted\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('highlight highlighted', '+HIGHLIGHTED');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Removes the `HIGHLIGHTED` CSS class name from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#unhighlight\n\t  * @fires Entity#ui-unhighlight\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\tthis.state('unhighlight', '-HIGHLIGHTED');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds the `DRAGGABLE` CSS class name to the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#draggable\n\t  * @fires Entity#ui-draggable\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `DRAGGABLE` class name.\n\t  * @function module:types/Entity~Entity#dragEnabled\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Draggable'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `DRAGGABLE` class name.\n\t  * @function module:types/Entity~Entity#getDragEnabled\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('draggable dragEnabled', '+DRAGGABLE', {\n\t\t\tdidSet: function didSet(_target) {\n\t\t\t\tthis.translate(resolveTarget.call(this, _target));\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Removes the `DRAGGABLE` CSS class name from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#undraggable\n\t  * @fires Entity#ui-undraggable\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\tthis.state('undraggable', '-DRAGGABLE');\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds the `TRANSLATED` CSS class name to the scope or the given `_target`. The target also gets a 2d transform at the given `_point`.\n\t  * @function module:types/Entity~Entity#translate\n\t  * @fires Entity#ui-translate\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @arg {module:types/Dimensions~Point} _point - Point object with coordinates {x,y}.\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Adds the `TRANSLATED` CSS class name to the scope. The scope also gets a 2d transform at the given `_point`.\n\t  * @function module:types/Entity~Entity#translate\n\t  * @fires Entity#ui-translate\n\t  * @arg {module:types/Dimensions~Point} _point - Point object with coordinates {x,y}.\n\t  * @returns `this`\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Tests if the scope or given `_target` has the `TRANSLATED` class name.\n\t  * @function module:types/Entity~Entity#translated\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns {Boolean} Translate'ness.\n\t  */\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Provides the elements with the `TRANSLATED` class name.\n\t  * @function module:types/Entity~Entity#getTranslated\n\t  * @returns {jQuery} jQuery collection of matched nodes.\n\t  * @todo Return scope if available.\n\t  */\n\t\tthis.state('translate translated', '+TRANSLATED', {\n\t\t\twillSet: function willSet(_target_point, _point) {\n\t\t\t\tvar point, target;\n\t\n\t\t\t\ttarget = resolveTarget.call(this, _target_point);\n\t\t\t\tpoint = ! ~[_target_point.x, _target_point.y].indexOf(undefined) ? _target_point : _point;\n\t\n\t\t\t\tif (point) {\n\t\t\t\t\ttarget.css('transform', 'translateX(' + point.x + 'px) translateY(' + point.y + 'px)');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\t/**\n\t  * <span class=\"tag state\">State</span>\n\t  * Removes the `TRANSLATED` CSS class name and CSS transform from the scope or the given `_target`.\n\t  * @function module:types/Entity~Entity#untranslate\n\t  * @fires Entity#ui-untranslate\n\t  * @arg {string|Scope|jQuery|HTMLElement} _target - A CSS selector, DOM node reference or context object (i.e. Scope/jQuery).\n\t  * @returns `this`\n\t  */\n\t\tthis.state('untranslate', '-TRANSLATED', {\n\t\t\twillSet: function willSet() {\n\t\t\t\tthis.css('transform', 'none');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.state('gate gated', '+GATED');\n\t});\n\t\n\texports['default'] = { Entity: Entity, invokeResponsibilities: invokeResponsibilities };\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 94 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports.__esModule = true;\n\t/**\n\t*  Screen\n\t*  @desc Contains...\n\t*  @proto Entity\n\t*/\n\t\n\tvar _typesEntity = __webpack_require__(93);\n\t\n\tvar Screen = _typesEntity.Entity.extend(function () {\n\t\n\t\tfunction attachBehaviorEvent() {\n\t\t\tthis.on('behavior', function (_event) {\n\t\t\t\t// console.log('SCREEN GOT', _event.targetScope.id(), _event.name);\n\t\n\t\t\t\tif (this !== _event.targetScope) {\n\t\t\t\t\t_typesEntity.invokeResponsibilities(this, _event);\n\t\t\t\t}\n\t\n\t\t\t\tthis.propagateBehavior(_event);\n\t\t\t});\n\t\t}\n\t\n\t\tthis.baseType = 'TYPE_SCREEN';\n\t\tthis.game = null;\n\t\tthis.screen = null;\n\t\n\t\tthis.__init = function () {\n\t\t\tthis.proto();\n\t\n\t\t\tif (this.is(pl.game.config('screenSelector'))) {\n\t\t\t\tattachBehaviorEvent.call(this);\n\t\t\t}\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tthis.startAudio();\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tthis.stopAudio();\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.startAudio = function () {\n\t\t\tif (!this.audio) return;\n\t\t\tthis.audio.background.play();\n\t\t\tthis.audio.voiceOver.play();\n\t\t};\n\t\n\t\tthis.stopAudio = function () {\n\t\t\tif (!this.audio) return;\n\t\t\tthis.audio.voiceOver.stop('@ALL');\n\t\t};\n\t\n\t\tthis.index = function () {\n\t\t\tif (this === this.screen) return this.game.screens.indexOf(this);\n\t\t\treturn this.$els.index();\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tif (!this.completed()) return false;\n\t\t\treturn this.game.screens[this.screen.index() + 1];\n\t\t};\n\t\n\t\tthis.prev = function () {\n\t\t\treturn this.game.screens[this.screen.index() - 1];\n\t\t};\n\t\n\t\tthis.quit = function () {\n\t\t\tthis.game.quit.open();\n\t\t};\n\t\n\t\tthis.nextSib = function () {\n\t\t\treturn $.fn.next.apply(this.$els, arguments);\n\t\t};\n\t\n\t\tthis.prevSib = function () {\n\t\t\treturn $.fn.prev.apply(this.$els, arguments);\n\t\t};\n\t\n\t\tthis.isLast = function () {\n\t\t\treturn this.game.screens.indexOf(this.screen) === this.game.screens.length - 1;\n\t\t};\n\t});\n\t\n\texports['default'] = Screen;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 95 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _Object$defineProperties = __webpack_require__(15)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * Node scope for the top level game node.\n\t */\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _playGame = __webpack_require__(24);\n\t\n\tvar _playGame2 = _interopRequireDefault(_playGame);\n\t\n\tvar _typesGlobalScope = __webpack_require__(30);\n\t\n\tvar _typesGlobalScope2 = _interopRequireDefault(_typesGlobalScope);\n\t\n\tvar _typesScreen = __webpack_require__(94);\n\t\n\tvar _typesScreen2 = _interopRequireDefault(_typesScreen);\n\t\n\tvar _typesCollection = __webpack_require__(29);\n\t\n\tvar _typesCollection2 = _interopRequireDefault(_typesCollection);\n\t\n\tvar _typesScope = __webpack_require__(31);\n\t\n\tvar _typesDimensions = __webpack_require__(14);\n\t\n\tvar _typesAudioManager = __webpack_require__(42);\n\t\n\tvar Game = _typesGlobalScope2['default'].extend(function () {\n\t\n\t\tvar Viewport, screenPrototype, platformEventHandler;\n\t\n\t\t/**\n\t  * Scales the game view to fill the browser window.\n\t  */\n\t\tfunction scaleGame() {\n\t\t\tvar vpSize, gameDimensions, width, height, zoom;\n\t\n\t\t\tvpSize = this.viewport.size();\n\t\t\tgameDimensions = _playGame2['default'].config('dimensions');\n\t\t\twidth = gameDimensions.width || this.width();\n\t\t\theight = Math.round(gameDimensions.width / gameDimensions.ratio);\n\t\t\tzoom = this.viewport.width / width;\n\t\n\t\t\tif (Math.round(height * zoom) > this.viewport.height) {\n\t\t\t\tzoom = (this.viewport.height / height).toPrecision(4);\n\t\t\t}\n\t\n\t\t\t_util2['default'].mixin(this.node().style, {\n\t\t\t\twidth: width + 'px',\n\t\t\t\tzoom: zoom\n\t\t\t});\n\t\n\t\t\tif (!this.css('zoom')) {\n\t\t\t\tthis.css({\n\t\t\t\t\ttransform: 'scale(' + zoom + ')',\n\t\t\t\t\ttransformOrigin: (zoom < 1 ? '0px' : '50%') + ' 0px 0px',\n\t\t\t\t\theight: this.viewport.height / zoom\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tthis.zoom = zoom;\n\t\t}\n\t\n\t\tfunction demoMode(_set) {\n\t\t\tthis.demoMode = _set != null ? _set : !this.demoMode;\n\t\t\tthis[this.demoMode ? 'addClass' : 'removeClass']('DEMO');\n\t\n\t\t\tconsole.info(this.id(), 'is now ' + (this.demoMode ? 'in' : 'out of') + ' Demo Mode.');\n\t\t}\n\t\n\t\tfunction collectVideos() {\n\t\t\tthis.find('video').each((function (_index, _node) {\n\t\t\t\tthis.media.video.add(_node);\n\t\n\t\t\t\t_node.onplay = (function () {\n\t\t\t\t\tvar playing = this.media.playing('.background, .voiceOver');\n\t\t\t\t\tif (playing) playing.stop('@ALL');\n\t\t\t\t\tthis.log('video play', playing);\n\t\t\t\t}).bind(this);\n\t\t\t}).bind(this));\n\t\t}\n\t\n\t\tscreenPrototype = _typesScreen2['default'];\n\t\tplatformEventHandler = new function () {\n\t\n\t\t\tthis.invoke = function (_event, _ctx) {\n\t\t\t\tif (typeof this[_event.name] === 'function') {\n\t\t\t\t\tthis[_event.name].call(_ctx, _event);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis['toggle-demo-mode'] = function (_set) {\n\t\t\t\tdemoMode.call(this);\n\t\t\t};\n\t\t}();\n\t\n\t\tthis.baseType = 'TYPE_GAME';\n\t\tthis.screens = null;\n\t\tthis.zoom = 1;\n\t\tthis.keyCommands = null;\n\t\tthis.demoMode = false;\n\t\tthis.media = null;\n\t\tthis.viewport = new function () {\n\t\t\tvar vp, $html, RESIZE_HANDLERS;\n\t\n\t\t\tvp = this;\n\t\t\t$html = $('html');\n\t\t\tRESIZE_HANDLERS = [];\n\t\n\t\t\t$(window).on('resize', function (_event) {\n\t\t\t\tif (!$html.hasClass(vp.orientation)) {\n\t\t\t\t\t$html.removeClass('squareish landscape protrait').addClass(vp.orientation);\n\t\t\t\t}\n\t\n\t\t\t\tRESIZE_HANDLERS.forEach(function (_handler) {\n\t\t\t\t\t_handler(_event);\n\t\t\t\t});\n\t\t\t});\n\t\n\t\t\tthis.LANDSCAPE = 'landscape';\n\t\t\tthis.PROTRAIT = 'protrait';\n\t\t\tthis.SQUAREISH = 'squareish';\n\t\n\t\t\tthis.size = function () {\n\t\t\t\treturn _typesDimensions.Size.create().set(window.innerWidth, window.innerHeight);\n\t\t\t};\n\t\n\t\t\t_Object$defineProperties(this, {\n\t\t\t\twidth: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\treturn window.innerWidth;\n\t\t\t\t\t},\n\t\n\t\t\t\t\tconfigurable: false\n\t\t\t\t},\n\t\n\t\t\t\theight: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\treturn window.innerHeight;\n\t\t\t\t\t},\n\t\n\t\t\t\t\tconfigurable: false\n\t\t\t\t},\n\t\n\t\t\t\torientation: {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\tvar ratio = this.size().ratio();\n\t\n\t\t\t\t\t\tswitch (true) {\n\t\t\t\t\t\t\tcase ratio > 0.9 && ratio < 1.1:\n\t\t\t\t\t\t\t\treturn 'squareish';\n\t\t\t\t\t\t\tcase ratio > 1.1:\n\t\t\t\t\t\t\t\treturn 'landscape';\n\t\t\t\t\t\t\tcase ratio < 0.9:\n\t\t\t\t\t\t\t\treturn 'protrait';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.onResize = function (_handler) {\n\t\t\t\tRESIZE_HANDLERS.push(_handler);\n\t\t\t};\n\t\n\t\t\tthis.offResize = function (_handler) {\n\t\t\t\tvar index = RESIZE_HANDLERS.indexOf(_handler);\n\t\n\t\t\t\tif (~index) RESIZE_HANDLERS.splice(index, 1);\n\t\t\t};\n\t\n\t\t\t$html.addClass(this.orientation);\n\t\t}();;\n\t\n\t\tthis.willInit = function () {\n\t\t\tthis.addClass('pl-game');\n\t\n\t\t\tscaleGame.call(this);\n\t\t\tthis.watchAudio();\n\t\t\tthis.captureScreens();\n\t\n\t\t\tthis.viewport.onResize(this.bind(scaleGame));\n\t\n\t\t\tpl.game.on('platform-event', this.bind(function (_event) {\n\t\t\t\tplatformEventHandler.invoke(_event, this);\n\t\t\t}));\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * Watch for specific keys or combination of keys. NOTE: meta key commands DO NOT support chords (i.e. meta+K,B).\n\t  * ### Key Names\n\t  * - *meta*: Command (aka Apple  or win)\n\t  * - *alt*: Alt (aka Option )\n\t  * - *shift*: Shift \n\t  * - *ctrl*: Control ^\n\t  * - *enter*: Enter or Return\n\t  * - *esc*: Escape\n\t  * - *left*: Left arrow\n\t  * - *up*: Up arrow\n\t  * - *right*: Right arrow\n\t  * - *down*: Down arrow\n\t  *\n\t  * ### Example\n\t  * ```javascript\n\t  * // Overriding print.\n\t  * this.game.onKeys('cmd+P', printHandler);\n\t  *\n\t  * // Holding Control and pressing \"K\" then \"B\"\n\t  * this.game.onKeys('ctrl+K,B', handler);\n\t  * ```\n\t  * @arg {string} _commands - The key or sequence of keys.\n\t  * @arg {function} _handler - Your event handler for when you key pattern is matched.\n\t  * @returns `this`\n\t  */\n\t\tthis.onKeys = function (_commands, _handler) {\n\t\t\tvar sequence, chords, modifiers, map;\n\t\n\t\t\tif (!this.keyCommands) {\n\t\t\t\tthis.keyCommands = {};\n\t\n\t\t\t\tmap = {\n\t\t\t\t\t13: 'enter',\n\t\t\t\t\t16: 'shift',\n\t\t\t\t\t17: 'ctrl',\n\t\t\t\t\t18: 'alt',\n\t\t\t\t\t27: 'esc',\n\t\t\t\t\t37: 'left',\n\t\t\t\t\t38: 'up',\n\t\t\t\t\t39: 'right',\n\t\t\t\t\t40: 'down',\n\t\t\t\t\t91: 'meta',\n\t\t\t\t\tenter: 13,\n\t\t\t\t\tshift: 16,\n\t\t\t\t\tctrl: 17,\n\t\t\t\t\talt: 18,\n\t\t\t\t\tesc: 27,\n\t\t\t\t\tleft: 37,\n\t\t\t\t\tup: 38,\n\t\t\t\t\tright: 39,\n\t\t\t\t\tdown: 40,\n\t\t\t\t\tmeta: 91\n\t\t\t\t};\n\t\n\t\t\t\tmodifiers = [16, 17, 18, 91];\n\t\t\t\tsequence = [];\n\t\t\t\tchords = [];\n\t\n\t\t\t\tthis.on('keydown', function (_event) {\n\t\t\t\t\tvar modifier, key, eventMods, currentMods, command, handler;\n\t\n\t\t\t\t\tmodifier = !! ~modifiers.indexOf(_event.keyCode) && map[_event.keyCode];\n\t\t\t\t\tkey = modifier ? modifier : map[_event.keyCode] || String.fromCharCode(_event.keyCode);\n\t\t\t\t\teventMods = [_event.shiftKey, _event.ctrlKey, _event.altKey, _event.metaKey];\n\t\t\t\t\tcurrentMods = [];\n\t\n\t\t\t\t\t// Collect the modifiers the event says are still down.\n\t\t\t\t\teventMods.forEach(function (_modifierDown, _index) {\n\t\t\t\t\t\t// use the modifier name\n\t\t\t\t\t\tif (_modifierDown) currentMods.push(map[modifiers[_index]]);\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// Don't add keys we already have during rapid-fire events\n\t\t\t\t\tif (~chords.indexOf(key) || ~sequence.indexOf(key)) return;\n\t\n\t\t\t\t\t// Construct the command\n\t\t\t\t\tcommand = chords.length ? (chords.push(key), chords.join(',')) : (sequence.push(key), sequence.join('+'));\n\t\n\t\t\t\t\thandler = this.keyCommands[command];\n\t\n\t\t\t\t\tif (handler) {\n\t\t\t\t\t\thandler.call(this, _event, command);\n\t\t\t\t\t\t// Keep current modifiers.\n\t\t\t\t\t\tsequence = currentMods.map(function (_key, _index) {\n\t\t\t\t\t\t\tvar key = sequence[_index];\n\t\t\t\t\t\t\treturn currentMods[currentMods.indexOf(key)];\n\t\t\t\t\t\t});\n\t\t\t\t\t\tchords = [];\n\t\n\t\t\t\t\t\t// Override original key command (i.e. meta+Q).\n\t\t\t\t\t\t_event.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tthis.on('keyup', function (_event) {\n\t\t\t\t\tvar key, index, modifier, eventMods, currentMods;\n\t\n\t\t\t\t\tkey = modifier ? modifier : map[_event.keyCode] || String.fromCharCode(_event.keyCode);\n\t\t\t\t\tindex = sequence.indexOf(key);\n\t\t\t\t\tmodifier = !! ~modifiers.indexOf(_event.keyCode) && map[_event.keyCode];\n\t\t\t\t\t// Follows the same index order as \"modifiers\" [16, 17, 18, 91]\n\t\t\t\t\teventMods = [_event.shiftKey, _event.ctrlKey, _event.altKey, _event.metaKey];\n\t\t\t\t\tcurrentMods = [];\n\t\n\t\t\t\t\t// Collect the modifiers the event says are still down.\n\t\t\t\t\teventMods.forEach(function (_modifierDown, _index) {\n\t\t\t\t\t\t// use the modifier name\n\t\t\t\t\t\tif (_modifierDown) currentMods.push(map[modifiers[_index]]);\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// If the key released is a modifier...\n\t\t\t\t\tif (key === modifier) {\n\t\t\t\t\t\t// ...keep current modifiers...\n\t\t\t\t\t\tsequence = currentMods.map(function (_key, _index) {\n\t\t\t\t\t\t\tvar key = sequence[_index];\n\t\t\t\t\t\t\treturn currentMods[currentMods.indexOf(key)];\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// ...clear registered chords.\n\t\t\t\t\t\tchords = [];\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// If we had pressed more than one key...\n\t\t\t\t\t\tif (sequence.length > 1) {\n\t\t\t\t\t\t\t// Check if the first is a modifier then switch to chord capturing\n\t\t\t\t\t\t\tif (~modifiers.indexOf(map[sequence[0]])) {\n\t\t\t\t\t\t\t\tchords.push(sequence.join('+'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (~index) sequence.splice(index, 1);\n\t\t\t\t\t\tif (!sequence.length) chords = [];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tthis.keyCommands[_commands] = _handler;\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.screen = function (_id, _implementation) {\n\t\t\tvar prototype, selector, screenSelector, instance;\n\t\n\t\t\tif (arguments.length === 1 && typeof _id === 'function') {\n\t\t\t\tscreenPrototype = _typesScreen2['default'].extend(_id);\n\t\t\t\treturn this;\n\t\t\t}\n\t\n\t\t\tif (!this.hasOwnProperty('screens')) this.screens = _typesCollection2['default'].create();\n\t\n\t\t\tif (this.hasOwnProperty('$els')) {\n\t\t\t\tdebugger;\n\t\t\t\tscreenSelector = pl.game.config('screenSelector');\n\t\t\t\tprototype = screenPrototype.isPrototypeOf(this) ? this : screenPrototype;\n\t\t\t\tselector = typeof _id === 'number' ? screenSelector + ':nth-child(' + (_id + 1) + ')' : '#' + _id;\n\t\t\t\tinstance = prototype.extend(_implementation).initialize(this.find(selector));\n\t\n\t\t\t\tinstance.screen = instance;\n\t\t\t\tif (!instance.game) {\n\t\t\t\t\tinstance.game = instance.closest('.pl-game').scope();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.screens.push({\n\t\t\t\t\tindex: typeof _id === 'number' ? _id : null,\n\t\t\t\t\tname: typeof _id === 'string' ? _id : null,\n\t\t\t\t\timplementation: _implementation\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.captureScreens = function () {\n\t\t\tvar screenSelector, prototype, collection;\n\t\n\t\t\tscreenSelector = pl.game.config('screenSelector');\n\t\t\tprototype = screenPrototype.isPrototypeOf(this) ? this : screenPrototype;\n\t\t\tcollection = [];\n\t\n\t\t\tthis.findOwn(screenSelector).each(this.bind(function (_index, _node) {\n\t\t\t\tvar $node, screen, record, key, id, index, component;\n\t\n\t\t\t\t$node = $(_node);\n\t\t\t\tid = $node.id();\n\t\t\t\tkey = id ? 'name' : (id = _index, 'index');\n\t\t\t\trecord = this.screens && this.screens.get(id, key);\n\t\t\t\tcomponent = $node.attr('pl-component');\n\t\t\t\tscreen = _typesScope.createEntity.call(prototype, $node, record && record.implementation);\n\t\t\t\tscreen.screen = screen;\n\t\t\t\tscreen.game = this;\n\t\n\t\t\t\tif ($node.attr('pl-skip') == null) collection.push(screen);\n\t\n\t\t\t\tif (key === 'name' || component) {\n\t\t\t\t\t_util2['default'].assignRef(this, _util2['default'].transformId(key === 'name' && id || component, true), screen);\n\t\t\t\t}\n\t\t\t}));\n\t\n\t\t\tif (collection.length) this.screens = collection;\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.watchAudio = function () {\n\t\t\tthis.media = _typesAudioManager.MediaManager.create(this.id());\n\t\n\t\t\t/**\n\t   * Prevent duplicate playback of voiceOvers and backgrounds.\n\t   */\n\t\t\tthis.media.rule('.background, .voiceOver', 'shouldPlay', function (_event) {\n\t\t\t\tvar playing = this.playing() || [];\n\t\t\t\t// shouldPlay = false if _event.target is already playing.\n\t\t\t\t_event.response(!playing || !playing.length || ! ~playing.indexOf(_event.target) && !playing.has(_event.target.fileName));\n\t\t\t});\n\t\n\t\t\t/**\n\t   * \n\t   */\n\t\t\tthis.media.rule('.voiceOver', function (_event) {\n\t\t\t\tvar audio, playing;\n\t\n\t\t\t\taudio = _event.target;\n\t\t\t\tplaying = audio && this.playing('.audio:not(#' + audio.id() + ')');\n\t\n\t\t\t\tswitch (_event.type) {\n\t\t\t\t\tcase 'play':\n\t\t\t\t\t\tif (playing) {\n\t\t\t\t\t\t\tplaying.filter('.voiceOver').stop('@ALL');\n\t\t\t\t\t\t\tplaying.filter('.background').volume(_playGame2['default'].config('bgVolume.drop') || 0.2);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'pause':\n\t\t\t\t\tcase 'stopped':\n\t\t\t\t\tcase 'ended':\n\t\t\t\t\t\tif (playing) playing.filter('.background').volume(_playGame2['default'].config('bgVolume.max') || 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.media.rule('.background', 'play', function (_event) {\n\t\t\t\tvar playing = this.playing('.background:not(#' + _event.target.id() + ')');\n\t\t\t\tif (playing) playing.stop('@ALL');\n\t\t\t});\n\t\n\t\t\tif (~pl.EVENT.ACTION.indexOf('touch')) {\n\t\t\t\tthis.on(pl.EVENT.ACTION, function beginAudio(_event) {\n\t\t\t\t\tvar ctx, screen;\n\t\n\t\t\t\t\tctx = _playGame2['default'].getAudioContext();\n\t\t\t\t\tscreen = this.currentScreen();\n\t\n\t\t\t\t\tif (screen && ctx && ctx.state === 'suspended') {\n\t\t\t\t\t\t_playGame2['default'].enableAudioContext();\n\t\t\t\t\t\tthis.log('awesome!');\n\t\t\t\t\t\tscreen.startAudio();\n\t\t\t\t\t\tthis.off(pl.EVENT.ACTION, beginAudio);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tcollectVideos.call(this);\n\t\t};\n\t\n\t\tthis.progress = function () {\n\t\t\treturn {\n\t\t\t\tcurrentScreen: this.currentScreen().index()\n\t\t\t};\n\t\t};\n\t\n\t\tthis.currentScreen = function () {\n\t\t\treturn this.findOwn(pl.game.config('screenSelector') + '.OPEN').not('#quit').scope();\n\t\t};\n\t\n\t\tthis.flip = function () {\n\t\t\tconsole.log('THATS A FLIP!');\n\t\t\t_playGame2['default'].report.flip(this);\n\t\t};\n\t\n\t\tthis.exit = function () {\n\t\t\tconsole.log('GOODBYE!');\n\t\t\t_playGame2['default'].report.exit(this);\n\t\t};\n\t\n\t\t/**\n\t  * Demo mode key command\n\t  */\n\t\tthis.onKeys('ctrl+D,M', function () {\n\t\t\tdemoMode.call(this);\n\t\t});\n\t\n\t\t/**\n\t  * Keyboard screen navigation\n\t  */\n\t\tthis.onKeys('left', function () {\n\t\t\tvar current;\n\t\n\t\t\tcurrent = this.currentScreen();\n\t\n\t\t\tif (current) current.prev();\n\t\t});\n\t\n\t\tthis.onKeys('right', function () {\n\t\t\tvar current;\n\t\n\t\t\tcurrent = this.currentScreen();\n\t\n\t\t\tif (current) current.next();\n\t\t});\n\t});\n\t\n\texports['default'] = Game;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 96 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _interopRequireDefault = __webpack_require__(2)['default'];\n\t\n\texports.__esModule = true;\n\t/**\n\t * API for communicaion between a game and the platform.\n\t *\n\t * @module\n\t */\n\t\n\tvar _util = __webpack_require__(18);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar platform = new function () {\n\t\n\t\tfunction createEvent(_name, _props) {\n\t\t\tvar eventObject;\n\t\n\t\t\teventObject = _util2['default'].mixin(new Event('game-event', { bubbles: true, cancelable: false }), {\n\t\t\t\tname: _name,\n\t\t\t\trespond: function respond(_data) {\n\t\t\t\t\tvar platformEvent;\n\t\n\t\t\t\t\tplatformEvent = $.Event('platform-event', {\n\t\t\t\t\t\tname: _name,\n\t\t\t\t\t\tgameData: _data\n\t\t\t\t\t});\n\t\n\t\t\t\t\tpl.game.trigger(platformEvent);\n\t\t\t\t}\n\t\t\t}, _props);\n\t\n\t\t\treturn eventObject;\n\t\t}\n\t\n\t\tthis.EVENT_INIT = 'init';\n\t\tthis.EVENT_SAVE = 'save';\n\t\tthis.EVENT_EXIT = 'exit';\n\t\tthis.EVENT_FLIPPED = 'flipped';\n\t\n\t\tthis.emit = function (_name) {\n\t\t\tif (window.frameElement) window.frameElement.dispatchEvent(createEvent(_name));\n\t\t};\n\t\n\t\tthis.saveGameState = function (_data) {\n\t\t\tif (window.frameElement) window.frameElement.dispatchEvent(createEvent(this.EVENT_SAVE, { gameData: _data }));\n\t\t};\n\t\n\t\twindow.addEventListener('platform-event', function (_event) {\n\t\t\tvar platformEvent;\n\t\n\t\t\tplatformEvent = $.Event('platform-event', {\n\t\t\t\tname: _event.name\n\t\t\t});\n\t\n\t\t\tpl.game.trigger(platformEvent);\n\t\t});\n\t}();\n\t\n\texports['default'] = platform;\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ]);\n//# sourceMappingURL=play.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/adamwalzer/Sites/js-interactive-library/build/play.js\n ** module id = 15\n ** module chunks = 0\n **/"],"sourceRoot":""}