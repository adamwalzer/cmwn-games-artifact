{"version":3,"sources":["webpack:///polar-bear/ai.js","webpack:///webpack/bootstrap e6cbafca9533ca501885","webpack:///./polar-bear/source/js/components/cannon/behavior.js","webpack:///./polar-bear/source/js/components/carousel/behavior.js","webpack:///./polar-bear/source/js/components/frame/behavior.js","webpack:///./polar-bear/source/js/components/multiple-choice/behavior.js","webpack:///./polar-bear/source/js/components/reveal/behavior.js","webpack:///./polar-bear/source/js/components/score/behavior.js","webpack:///./polar-bear/source/js/components/screen-basic/behavior.js","webpack:///./polar-bear/source/js/components/screen-quit/behavior.js","webpack:///./polar-bear/source/js/components/selectable-reveal/behavior.js","webpack:///./polar-bear/source/js/components/selectable/behavior.js","webpack:///./polar-bear/source/js/components/slides/behavior.js","webpack:///./polar-bear/source/js/components/title/behavior.js","webpack:///./polar-bear/source/js/config.game.js","webpack:///./polar-bear/source/js/index.js","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","pl","game","component","this","entity","reloadRequest","isLaunchComplete","willInit","cannon","properties","ball","attr","on","assetQueue","ready","node","src","off","log","launched","playSFX","reload","state","didSet","shouldSet","behavior","launch","message","fire","_name","sfx","util","resolvePath","play","TYPE","SLIDE","CROSS_FADE","type","$images","nodes","shouldRandomize","isPlaying","find","has","every","bind","_type","hasClass","addClass","length","map","_index","_node","siblings","previousSibling","nextSibling","forEach","_n","nodeType","document","TEXT_NODE","$","remove","toArray","_item","_event","target","nodeName","STATE","LEAVE","recycle","provideBehaviorTarget","current","respond","hit","_message","behaviorTarget","first","leave","open","next","start","delay","toMillisec","isReady","repeat","beginShow","stop","kill","filter","$current","reloadWithNode","removeClass","shift","push","append","$clone","random","clone","join","isMemberSafe","requiredQueue","voSound","audio","voiceOver","background","config","hasOwnProperty","entities","targetScope","isComplete","complete","is","validateAnswer","_scope","$selected","answers","$correct","getSelected","correct","split","indexOf","String","index","inArray","_answer","playVO","vo","answer","$li","screen","VOICE_OVER","demoMode","event","closest","select","opened","item","_id","value","template","counter","html","render","replace","reset","board","up","_count","max","down","allowAction","OPEN","nextScreen","buttonSound","quit","okay","slides","isComponent","proto","prev","prevScreen","close","startAudio","isLast","pause","resume","init","exit","cancel","stateMethod","selectState","reveal","features","shouldSelect","_$target","HIGHLIGHTED","Queue","create","add","_target","$target","scope","i","n","nextSlide","completed","prevSlide","showTitle","image","screenSelector","componentDirectory","dimensions","width","ratio","shouldLoadComponentStyles","resetMultipleChoice","_e","deselect","SELECTED","iosSplash","READY","splash","title","stopAudio","SELECTOR","CORRECT","INCORRECT","buffer","bctx","countries","grayMap","iceland","russia","northPole","greenland","denmark","norway","canada","usa","sweden","finland","createElement","getContext","$countries","height","not","$node","transformId","isImageTarget","_image","_point","pixel","clearRect","drawImage","getImageData","x","y","fillStyle","fillRect","data","test","_cursor","offset","cursor","gameScale","absolutePosition","transformScale","dec","scale","zoom","math","_country","$country","carousel","score","willSet","unhighlight","highlight","eventCategory","ga","trigger","Event","name","gameData","findOwn","s","o","g","r","a","q","arguments","l","Date","getElementsByTagName","async","parentNode","insertBefore","window","loader","button","startGame","_env","parent","location","href","domain"],"mappings":"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","file":"polar-bear/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(14);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tpl.game.component('cannon', function () {\n\t\n\t  this.entity('ball', function () {\n\t\n\t    this.reloadRequest = false;\n\t    this.isLaunchComplete = false;\n\t\n\t    this.willInit = function () {\n\t      if (this.cannon.properties.ball) {\n\t        this.attr('src', this.cannon.properties.ball);\n\t        // I shouldn't have to do this\n\t        this.on('load', function () {\n\t          this.assetQueue.ready(this.node().src);\n\t          this.off('load');\n\t        });\n\t      }\n\t    };\n\t\n\t    this.on('transitionend', function () {\n\t      this.log('transitionend');\n\t\n\t      this.isLaunchComplete = true;\n\t\n\t      if (this.launched()) {\n\t        this.playSFX('hit');\n\t\n\t        if (this.reloadRequest) {\n\t          this.reload();\n\t        }\n\t      }\n\t    });\n\t\n\t    this.state('launch launched', '+LAUNCHED -RELOAD', {\n\t      didSet: function didSet() {\n\t        this.playSFX('fire');\n\t        this.isLaunchComplete = false;\n\t      }\n\t    });\n\t\n\t    this.state('reload', '+RELOAD -LAUNCHED', {\n\t      shouldSet: function shouldSet() {\n\t        if (!this.isLaunchComplete) {\n\t          this.reloadRequest = true;\n\t          return false;\n\t        }\n\t      },\n\t\n\t      didSet: function didSet() {\n\t        this.reloadRequest = false;\n\t      }\n\t    });\n\t  });\n\t\n\t  this.behavior('fire', function () {\n\t    this.ball.launch();\n\t    return {\n\t      message: this.cannon.properties.fire\n\t    };\n\t  });\n\t\n\t  this.reload = function () {\n\t    this.ball.reload();\n\t  };\n\t\n\t  this.playSFX = function (_name) {\n\t    var sfx;\n\t\n\t    sfx = pl.util.resolvePath(this, 'audio.sfx.' + _name);\n\t\n\t    if (sfx) sfx.play();\n\t\n\t    return this;\n\t  };\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('carousel', function () {\n\t\n\t  this.TYPE = (function () {\n\t\n\t    this.SLIDE = 'slide';\n\t    this.CROSS_FADE = 'cross-fade';\n\t\n\t    return this;\n\t  }).call(['slide', 'cross-fade']);\n\t\n\t  this.type = null;\n\t  this.$images = null;\n\t  this.nodes = null;\n\t  this.shouldRandomize = false;\n\t  this.isPlaying = false;\n\t\n\t  this.ready = function () {\n\t    this.$images = this.find('img');\n\t    this.shouldRandomize = this.properties.has('randomize');\n\t\n\t    if (this.TYPE.every(this.bind(function (_type) {\n\t      return !this.hasClass(_type);\n\t    }))) {\n\t      this.addClass(this.TYPE.CROSS_FADE);\n\t    }\n\t\n\t    if (this.$images.length) {\n\t      this.nodes = this.$images.map(this.bind(function (_index, _node) {\n\t        var siblings;\n\t\n\t        siblings = [_node.previousSibling, _node.nextSibling];\n\t\n\t        siblings.forEach(function (_n) {\n\t          if (_n.nodeType === document.TEXT_NODE) {\n\t            $(_n).remove();\n\t          }\n\t        });\n\t\n\t        return _node;\n\t      })).toArray();\n\t    }\n\t\n\t    this.TYPE.forEach(this.bind(function (_item) {\n\t      if (this.hasClass(_item)) this.type = _item;\n\t    }));\n\t\n\t    this.on('transitionend', function (_event) {\n\t      if (_event.target.nodeName === 'IMG' && $(_event.target).state(this.STATE.LEAVE)) {\n\t        this.recycle();\n\t      }\n\t    });\n\t  };\n\t\n\t  this.provideBehaviorTarget = function () {\n\t    return this.current();\n\t  };\n\t\n\t  this.respond('fire', function (_event) {\n\t    this.hit(_event.message);\n\t  });\n\t\n\t  this.behavior('hit', function (_message) {\n\t    return {\n\t      message: _message,\n\t      behaviorTarget: this.provideBehaviorTarget()\n\t    };\n\t  });\n\t\n\t  this.behavior('next', function () {\n\t    var current;\n\t\n\t    current = this.$images.first();\n\t\n\t    this.leave(current);\n\t    this.open(current.next());\n\t  });\n\t\n\t  this.start = function () {\n\t    var delay;\n\t\n\t    delay = pl.util.toMillisec(this.properties.delay) || 1000;\n\t\n\t    if (this.isReady && !this.isPlaying) {\n\t      this.isPlaying = true;\n\t      this.open(this.$images.first());\n\t      this.repeat(delay, this.next);\n\t    } else {\n\t      this.on('ready', this.beginShow);\n\t    }\n\t  };\n\t\n\t  this.stop = function () {\n\t    this.kill('repeat');\n\t    this.isPlaying = false;\n\t  };\n\t\n\t  this.current = function () {\n\t    return this.$images.filter('.OPEN');\n\t  };\n\t\n\t  this.recycle = function () {\n\t    var $current, reload;\n\t\n\t    $current = this.$images.first();\n\t    reload = this.reloadWithNode(this.$images[0]);\n\t\n\t    $current.removeClass(this.STATE.LEAVE);\n\t    $current.remove();\n\t\n\t    [].shift.call(this.$images);\n\t\n\t    this.$images.push(reload);\n\t    this.append(reload);\n\t\n\t    return this;\n\t  };\n\t\n\t  this.reloadWithNode = function (_item) {\n\t    var $clone, state;\n\t\n\t    if (this.shouldRandomize) {\n\t      $clone = $(pl.util.random(this.nodes)).clone();\n\t      state = $clone.state();\n\t\n\t      if (state) $clone.removeClass(state.join ? state.join(' ') : state);\n\t\n\t      return $clone[0];\n\t    }\n\t\n\t    return _item;\n\t  };\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tpl.game.component('frame', function () {\n\t\n\t  this.ready = function () {\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) sfx.play();\n\t      }));\n\t    }\n\t  };\n\t\n\t  this.start = function () {\n\t    var voSound;\n\t\n\t    if (this.audio) {\n\t      voSound = this.audio.voiceOver[0];\n\t\n\t      this.audio.background.play();\n\t      if (voSound && !voSound.config('dontautoplay')) voSound.play();\n\t    }\n\t\n\t    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t    return this;\n\t  };\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.isReady) {\n\t      this.start();\n\t    }\n\t\n\t    if (this === _event.targetScope) {\n\t      if (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && this.requiredQueue && this.requiredQueue.length)) {\n\t        this.complete();\n\t      }\n\t    }\n\t  });\n\t\n\t  this.on('ui-close', function (_event) {\n\t    if (this.isReady && this.is(_event.target)) {\n\t      this.stop();\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t  function validateAnswer(_scope) {\n\t    var $selected, answers, $correct;\n\t\n\t    $selected = _scope.getSelected();\n\t\n\t    if (_scope.properties.correct) {\n\t      answers = _scope.properties.correct.split(/\\s*,\\s*/);\n\t\n\t      if (~answers.indexOf(String($selected.index()))) {\n\t        if (_scope.isComplete) _scope.playSFX('correct');\n\t        _scope.complete();\n\t      } else {\n\t        _scope.playSFX('incorrect');\n\t      }\n\t    } else {\n\t      $correct = _scope.find('[pl-correct]');\n\t\n\t      if (~$.inArray($selected[0], $correct)) {\n\t        if (_scope.isComplete) _scope.playSFX('correct');\n\t        _scope.complete();\n\t      } else {\n\t        _scope.playSFX('incorrect');\n\t      }\n\t    }\n\t\n\t    return false;\n\t  }\n\t\n\t  this.playSFX = function (_answer) {\n\t    var sfx;\n\t\n\t    sfx = pl.util.resolvePath(this, 'audio.sfx.' + _answer);\n\t\n\t    if (sfx) sfx.play();\n\t\n\t    return sfx;\n\t  };\n\t\n\t  this.playVO = function (_name) {\n\t    var vo;\n\t\n\t    vo = pl.util.resolvePath(this, 'audio.voiceOver.' + _name);\n\t\n\t    if (vo) vo.play();\n\t\n\t    return vo;\n\t  };\n\t\n\t  this.answer = function () {\n\t    var $li;\n\t\n\t    if (this.screen.state(this.screen.STATE.VOICE_OVER) && !this.game.demoMode) return;\n\t\n\t    if (this.event) {\n\t      $li = $(this.event.target).closest('li');\n\t      this.playVO($li.id());\n\t\n\t      if (this.select($li)) {\n\t        validateAnswer(this);\n\t      }\n\t    }\n\t  };\n\t\n\t  this.start = function () {};\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t  this.on('transitionend', function () {\n\t    if (!this.opened()) {\n\t      this.addClass('ANIM-DONE');\n\t    }\n\t  });\n\t\n\t  this.item = function (_id) {\n\t    var vo, index;\n\t\n\t    this.removeClass('ANIM-DONE');\n\t    this.open();\n\t\n\t    if (typeof _id === 'number') {\n\t      this.select('li:nth-child(' + _id + ')');\n\t      this.audio.voiceOver[_id].play();\n\t    } else if (typeof _id === 'string') {\n\t      if (this[_id]) {\n\t        this.select(this[_id]);\n\t\n\t        if (this.audio) {\n\t          index = this[_id].index();\n\t          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t          if (vo) vo.play();\n\t        }\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('score', function () {\n\t\n\t  this.value = 0;\n\t\n\t  this.entity('board', function () {\n\t\n\t    this.template = null;\n\t\n\t    this.ready = function () {\n\t      this.template = this.counter.html();\n\t    };\n\t\n\t    this.render = function () {\n\t      this.counter.html(this.template.replace('{{score}}', this.value));\n\t      return this;\n\t    };\n\t  });\n\t\n\t  this.reset = function () {\n\t    this.value = 0;\n\t    this.ready();\n\t  };\n\t\n\t  this.ready = function () {\n\t    this.attr('value', this.value);\n\t    this.board.render();\n\t  };\n\t\n\t  this.up = function (_count) {\n\t    this.value += _count || 1;\n\t\n\t    this.attr('value', this.value);\n\t    this.board.render();\n\t\n\t    if (this.value >= this.properties.max) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.down = function (_count) {\n\t    this.value -= _count || 1;\n\t\n\t    this.attr('value', this.value);\n\t    this.board.render();\n\t\n\t    if (this.value >= this.properties.max) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\n\t  this.allowAction = function () {\n\t    return !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t  };\n\t\n\t  this.on('ready', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) sfx.play();\n\t      }));\n\t    }\n\t\n\t    if (this.state(this.STATE.OPEN)) this.start();\n\t  });\n\t\n\t  this.next = function () {\n\t    var current, nextScreen, buttonSound;\n\t\n\t    if (!this.state(this.STATE.OPEN)) return;\n\t\n\t    if (this.hasClass('last') && this.hasClass('COMPLETE')) this.game.quit.okay();\n\t\n\t    if (this !== this.screen) {\n\t      this.log('Not called on a screen');\n\t      return;\n\t    }\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    // delegate to a child \"slides\" component.\n\t    if (this.slides && this.slides.isComponent) {\n\t      current = this.slides.current();\n\t      nextScreen = current.next();\n\t\n\t      if (nextScreen == null) {\n\t        current = this;\n\t        nextScreen = this.proto();\n\t      }\n\t    } else {\n\t      current = this;\n\t      nextScreen = this.proto();\n\t    }\n\t\n\t    if (nextScreen) {\n\t      current.leave();\n\t      nextScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t\n\t  this.prev = function () {\n\t    var current, prevScreen, buttonSound;\n\t\n\t    if (!this.state(this.STATE.OPEN)) return;\n\t\n\t    if (this !== this.screen) {\n\t      this.log('Not called on a screen');\n\t      return;\n\t    }\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    // delegate to a child \"slides\" component.\n\t    if (this.slides && this.slides.isComponent) {\n\t      current = this.slides.current();\n\t      prevScreen = current.prev();\n\t\n\t      if (prevScreen == null) {\n\t        current = this;\n\t        prevScreen = this.proto();\n\t      }\n\t    } else {\n\t      current = this;\n\t      prevScreen = this.proto();\n\t    }\n\t\n\t    if (prevScreen) {\n\t      current.close();\n\t      prevScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return prevScreen;\n\t  };\n\t\n\t  this.start = function () {\n\t    this.startAudio();\n\t\n\t    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t    return this;\n\t  };\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this !== _event.targetScope) return;\n\t\n\t    if (this.isReady) {\n\t      this.start();\n\t    }\n\t\n\t    if (!this.isComplete) {\n\t      if (!this.requiredQueue || this.isMemberSafe('requiredQueue') && !this.requiredQueue.length) {\n\t        this.complete();\n\t      }\n\t    }\n\t\n\t    if (this.screen.isLast()) {\n\t      this.addClass('last');\n\t    }\n\t  });\n\t\n\t  this.on('ui-close', function (_event) {\n\t    if (this.isReady && this.is(_event.target)) {\n\t      this.stop();\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t  // TODO: Make an automated way to handle this\n\t  this.on('transitionend', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    if (this.state(this.STATE.LEAVE)) {\n\t      this.addClass('LEAVE-END');\n\t    }\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    this.game.addClass('QUIT-SCREEN');\n\t    this.removeClass('LEAVE-END');\n\t    this.game.pause(true);\n\t  });\n\t\n\t  this.on('ui-leave', function () {\n\t    this.game.removeClass('QUIT-SCREEN');\n\t    this.game.resume();\n\t  });\n\t\n\t  this.init = function () {\n\t    this.addClass('LEAVE LEAVE-END');\n\t  };\n\t\n\t  this.okay = function () {\n\t    this.game.exit();\n\t  };\n\t\n\t  this.cancel = function () {\n\t    this.leave();\n\t  };\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable-reveal', function () {\n\t\n\t  this.respond('select', function (_event) {\n\t    var index, stateMethod;\n\t\n\t    index = _event.message;\n\t    stateMethod = this.properties.selectState || 'select';\n\t\n\t    if (~index) {\n\t      this[stateMethod](_event.behaviorTarget);\n\t      this.reveal.item(index);\n\t      this.features.correct.ready(index);\n\t    }\n\t  });\n\t\n\t  this.entity('selectable', function () {\n\t\n\t    this.shouldSelect = function (_$target) {\n\t      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0 || _$target.is('[pl-always-selectable]')) {\n\t        return !this.screen.state(this.STATE.VOICE_OVER) && !_$target.state(this.STATE.HIGHLIGHTED);\n\t      }\n\t\n\t      return false;\n\t    };\n\t  });\n\t\n\t  this.ready = function () {\n\t    var correct;\n\t\n\t    correct = pl.Queue.create();\n\t\n\t    correct.on('complete', this.bind(function () {\n\t      this.complete();\n\t    }));\n\t\n\t    this.features = this.find('.items li').map(function (_index) {\n\t      correct.add(_index);\n\t      return _index;\n\t    }).toArray();\n\t\n\t    this.features.correct = correct;\n\t  };\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t  this.behavior('select', function (_target) {\n\t    var $target;\n\t\n\t    if (this.event) {\n\t      $target = $(this.event.target).closest('li');\n\t\n\t      if (this.shouldSelect($target) !== false) {\n\t        return {\n\t          message: $target.index(),\n\t          behaviorTarget: $target\n\t        };\n\t      }\n\t    } else {\n\t      this.proto(_target);\n\t    }\n\t\n\t    return false;\n\t  });\n\t\n\t  this.shouldSelect = function () {\n\t    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t      return true;\n\t    }\n\t\n\t    return false;\n\t  };\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('slides', function () {\n\t\n\t  this.slides = null;\n\t\n\t  this.ready = function () {\n\t    this.slides = this.find('> *').scope();\n\t  };\n\t\n\t  this.start = function () {\n\t    var current, i, n;\n\t\n\t    current = this.current();\n\t\n\t    if (current) {\n\t      current.start();\n\t    } else if (this.slides.length) {\n\t      this.slides[0].open();\n\t      for (i = 1, n = this.slides.length; i < n; i++) {\n\t        this.slides[i] && this.slides[i].close();\n\t      }\n\t    }\n\t  };\n\t\n\t  this.current = function () {\n\t    return this.find('> .OPEN').scope();\n\t  };\n\t\n\t  /*\n\t   * @this {frame-component-scope} called by the next button in a frame component.\n\t   */\n\t  this.next = function () {\n\t    var index, nextSlide, buttonSound;\n\t\n\t    if (!this.completed()) return false;\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    index = this.slides.indexOf(this);\n\t    if (~index) return this.slides[index + 1];\n\t\n\t    if (~index) nextSlide = this.slides[index + 1];\n\t\n\t    if (nextSlide) {\n\t      this.leave();\n\t      nextSlide.open();\n\t\n\t      if (buttonSound) buttonSound.play();\n\t\n\t      return nextSlide;\n\t    } else {\n\t      return this.proto();\n\t    }\n\t  };\n\t\n\t  /*\n\t   * @this {frame-component-scope} called by the next button in a frame component.\n\t   */\n\t  this.prev = function () {\n\t    var index, prevSlide, buttonSound;\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    index = this.slides.indexOf(this);\n\t    if (~index) return this.slides[index - 1];\n\t\n\t    if (~index) prevSlide = this.slides[index - 1];\n\t\n\t    if (prevSlide) {\n\t      this.close();\n\t      prevSlide.open();\n\t\n\t      if (buttonSound) buttonSound.play();\n\t\n\t      return prevSlide;\n\t    } else {\n\t      return this.proto();\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tpl.game.component('title', function () {\n\t\n\t  this.start = function () {\n\t    this.proto();\n\t    this.showTitle();\n\t  };\n\t\n\t  this.showTitle = function () {\n\t    this.image.addClass('animated ' + this.image.attr('pl-animation'));\n\t    this.complete();\n\t  };\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t  screenSelector: '.screen',\n\t  componentDirectory: 'components/',\n\t  dimensions: {\n\t    width: 960,\n\t    ratio: 16 / 9\n\t  },\n\t  shouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t\n\t__webpack_require__(13);\n\t\n\t__webpack_require__(16);\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(12);\n\t\n\t__webpack_require__(17);\n\t\n\t__webpack_require__(15);\n\t\n\tpl.game('polar-bear', function () {\n\t\n\t  var resetMultipleChoice = function resetMultipleChoice() {\n\t    this.on('ui-open', function (_e) {\n\t      if (!this.is(_e.target)) return;\n\t\n\t      if (this.isComplete) this.deselect(this.find('.' + this.STATE.SELECTED));\n\t    });\n\t  };\n\t\n\t  this.screen('title', function () {\n\t    this.on('ready', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t\n\t      if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t    });\n\t\n\t    this.startAudio = function () {\n\t      this.title.audio.background.play();\n\t      this.title.audio.voiceOver.play();\n\t    };\n\t\n\t    this.stopAudio = function () {\n\t      this.title.audio.voiceOver.stop('@ALL');\n\t    };\n\t  });\n\t\n\t  this.screen('what-color', function () {\n\t    this.entity('slides', function () {\n\t      this.entity('mc', resetMultipleChoice);\n\t    });\n\t  });\n\t\n\t  this.screen('map', function () {\n\t\n\t    this.entity('slides', function () {\n\t\n\t      this.entity('.map-entity', function () {\n\t\n\t        var SELECTOR;\n\t\n\t        SELECTOR = {\n\t          CORRECT: '[pl-correct]',\n\t          INCORRECT: '[pl-incorrect]'\n\t        };\n\t\n\t        this.buffer = null;\n\t        this.bctx = null;\n\t        this.countries = null;\n\t\n\t        // images\n\t        this.grayMap = null;\n\t        this.iceland = null;\n\t        this.russia = null;\n\t        this.northPole = null;\n\t        this.greenland = null;\n\t        this.denmark = null;\n\t        this.norway = null;\n\t        this.canada = null;\n\t        this.usa = null;\n\t        this.sweden = null;\n\t        this.finland = null;\n\t\n\t        this.init = function () {\n\t          this.buffer = document.createElement('canvas');\n\t          this.bctx = this.buffer.getContext('2d');\n\t        };\n\t\n\t        this.ready = function () {\n\t          var correct, $countries;\n\t\n\t          correct = pl.Queue.create();\n\t\n\t          correct.on('complete', this.bind(function () {\n\t            var sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t            if (sfx) sfx.play();\n\t            this.complete();\n\t          }));\n\t\n\t          this.buffer.width = 500;\n\t          this.buffer.height = 500;\n\t\n\t          $countries = this.find('.country');\n\t\n\t          $countries.not(SELECTOR.CORRECT).on('animationend', function () {\n\t            $(this).removeClass('flash').addClass('fadeIn');\n\t          });\n\t\n\t          this.countries = $countries.map(function (_index, _node) {\n\t            var $node, id;\n\t\n\t            $node = $(_node);\n\t            id = pl.util.transformId($node.id(), true);\n\t\n\t            if ($node.is(SELECTOR.CORRECT)) correct.add(id);\n\t\n\t            return id;\n\t          }).toArray();\n\t\n\t          this.countries.correct = correct;\n\t        };\n\t\n\t        this.isImageTarget = function (_image, _point) {\n\t          var pixel;\n\t\n\t          this.bctx.clearRect(0, 0, this.buffer.width, this.buffer.height);\n\t          this.bctx.drawImage(_image[0], 0, 0, _image.width(), _image.height());\n\t          pixel = this.bctx.getImageData(_point.x, _point.y, 1, 1);\n\t\n\t          this.bctx.fillStyle = 'white';\n\t          this.bctx.fillRect(_point.x, _point.y, 5, 5);\n\t\n\t          // opaque pixel\n\t          return pixel.data[3] > 0;\n\t        };\n\t\n\t        this.test = function (_cursor) {\n\t          var offset, cursor, gameScale;\n\t\n\t          if (!this.screen.allowAction()) return false;\n\t\n\t          offset = this.grayMap.absolutePosition();\n\t          gameScale = this.game.transformScale().x;\n\t\n\t          // FireFox uses transfom scale which\n\t          // does NOT produce scaled DOM values like `zoom`.\n\t          if (gameScale !== 1) {\n\t            cursor = _cursor.dec(offset).scale(1 / this.game.zoom).math('floor');\n\t          } else {\n\t            cursor = _cursor.scale(1 / this.game.zoom).math('floor').dec(offset);\n\t          }\n\t\n\t          this.countries.every(this.bind(function (_country) {\n\t            if (this.isImageTarget(this[_country], cursor)) {\n\t              this.answer(_country);\n\t              return false;\n\t            }\n\t\n\t            return true;\n\t          }));\n\t        };\n\t\n\t        this.answer = function (_country) {\n\t          var $country;\n\t\n\t          $country = this[_country];\n\t\n\t          if ($country.is(SELECTOR.CORRECT)) {\n\t\n\t            this.playSFX('correct');\n\t            this.playVO(_country);\n\t\n\t            $country.addClass('animated fadeIn');\n\t\n\t            if (!this.state('COMPLETE')) this.countries.correct.ready(_country);\n\t          } else {\n\t            this.playSFX('incorrect');\n\t            $country.addClass('animated flash');\n\t          }\n\t        };\n\t\n\t        this.playSFX = function (_answer) {\n\t          var sfx;\n\t\n\t          sfx = pl.util.resolvePath(this, 'audio.sfx.' + _answer);\n\t\n\t          if (sfx) sfx.play();\n\t\n\t          return sfx;\n\t        };\n\t\n\t        this.playVO = function (_name) {\n\t          var vo;\n\t\n\t          vo = pl.util.resolvePath(this, 'audio.voiceOver.' + _name);\n\t\n\t          if (vo) vo.play();\n\t\n\t          return vo;\n\t        };\n\t\n\t        this.on('ui-open', function (_e) {\n\t          if (!this.is(_e.target)) return;\n\t\n\t          if (this.isComplete) {\n\t            this.find('.fadeIn').removeClass('fadeIn');\n\t          }\n\t        });\n\t      });\n\t    });\n\t  });\n\t\n\t  this.screen('bears', function () {\n\t\n\t    this.start = function () {\n\t      this.proto();\n\t      this.carousel.start();\n\t    };\n\t\n\t    this.stop = function () {\n\t      this.carousel.stop();\n\t    };\n\t\n\t    this.on('ui-select', function (_event) {\n\t      if (_event.targetScope === this.reveal) {\n\t        this.reveal.delay('1s', function () {\n\t          var $selected;\n\t\n\t          $selected = this.getSelected();\n\t\n\t          this.close();\n\t          $selected.addClass('animated slideOutUp').on('animationend', function () {\n\t            $selected.removeClass('slideOutUp');\n\t            $selected.off();\n\t          });\n\t        });\n\t      }\n\t    });\n\t\n\t    this.on('ui-open', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t      this.carousel.start();\n\t\n\t      if (this.isComplete) this.score.reset();\n\t    });\n\t\n\t    this.state('incomplete', '-COMPLETE', {\n\t      willSet: function willSet() {\n\t        this.isComplete = false;\n\t      }\n\t    });\n\t\n\t    this.entity('carousel', function () {\n\t      // The event 'behaviorTarget' for this entities 'hit' behavior\n\t      this.provideBehaviorTarget = function () {\n\t        // Choose the item thats in the middle of the 3 visible.\n\t        return this.current().next();\n\t      };\n\t    });\n\t\n\t    this.respond('hit', function (_event) {\n\t      if (_event.message === _event.behaviorTarget.id()) {\n\t        this.score.up();\n\t        this.playSFX('correct');\n\t      } else {\n\t        this.playSFX('incorrect');\n\t      }\n\t\n\t      this.reveal.item(_event.behaviorTarget.id());\n\t    });\n\t\n\t    this.respond('next', function () {\n\t      this.cannon.ball.reload();\n\t    });\n\t\n\t    this.playSFX = function (_name) {\n\t      var sfx;\n\t\n\t      sfx = pl.util.resolvePath(this, 'audio.sfx.' + _name);\n\t\n\t      if (sfx) sfx.play();\n\t\n\t      return this;\n\t    };\n\t  });\n\t\n\t  this.screen('experiment-hands', resetMultipleChoice);\n\t  this.screen('experiment-why-warmer', resetMultipleChoice);\n\t  this.screen('experiment-how-warmer', resetMultipleChoice);\n\t\n\t  this.screen('experiment-discover', function () {\n\t    this.on('ui-open', function (_e) {\n\t      if (!this.is(_e.target)) return;\n\t\n\t      this.unhighlight(this.find('.' + this.STATE.HIGHLIGHTED));\n\t    });\n\t\n\t    this.respond('select', function (_event) {\n\t      var id = _event.message;\n\t\n\t      if (id) {\n\t        this.highlight(_event.behaviorTarget);\n\t        this.audio.voiceOver[id].play();\n\t      }\n\t    });\n\t\n\t    this.entity('selectable', function () {\n\t      this.behavior('select', function (_target) {\n\t        var $target;\n\t\n\t        if (this.event) {\n\t          $target = $(this.event.target).closest('li');\n\t\n\t          if (this.shouldSelect($target) !== false) {\n\t            return {\n\t              message: $target.id(),\n\t              behaviorTarget: $target\n\t            };\n\t          }\n\t        } else {\n\t          this.proto(_target);\n\t        }\n\t\n\t        return false;\n\t      });\n\t    });\n\t  });\n\t\n\t  this.screen('flip', function () {\n\t\n\t    this.complete = function () {\n\t      var eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t\n\t      ga('send', 'event', eventCategory, 'complete');\n\t\n\t      pl.game.trigger($.Event('platform-event', {\n\t        name: 'flip',\n\t        gameData: { id: this.game.id() }\n\t      }));\n\t\n\t      return this.proto();\n\t    };\n\t  });\n\t\n\t  this.exit = function () {\n\t    var screen, eventCategory;\n\t\n\t    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t    eventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t    ga('send', 'event', eventCategory, 'quit');\n\t\n\t    return this.proto();\n\t  };\n\t});\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\t\tthis.splash();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.splash = function () {\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tif (this.game.hasClass('iOS')) {\n\t\t\t\tthis.open();\n\t\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t\t} else {\n\t\t\t\tthis.game.title.open();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen = this.proto();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tthis.game.audio.sfx.button.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.play('screenComplete');\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.startGame = function () {\n\t\t\tif (!this.hasClass('FINISHED')) return;\n\t\t\tthis.game.addClass('STARTED');\n\t\t\tthis.delay('2.5s', function () {\n\t\t\t\tthis.next();\n\t\t\t});\n\t\t};\n\t\n\t\tthis.on('animationend', function (_e) {\n\t\t\tif (!this.ball.is(_e.target)) return;\n\t\t\tthis.addClass('FINISHED');\n\t\t});\n\t});\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\t(function test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t})();\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** polar-bear/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e6cbafca9533ca501885\n **/","pl.game.component('cannon', function () {\n\n  this.entity('ball', function () {\n\n    this.reloadRequest = false;\n    this.isLaunchComplete = false;\n\n    this.willInit = function () {\n      if (this.cannon.properties.ball) {\n        this.attr('src', this.cannon.properties.ball);\n        // I shouldn't have to do this\n        this.on('load', function () {\n          this.assetQueue.ready(this.node().src);\n          this.off('load');\n        });\n      }\n    };\n\n    this.on('transitionend', function () {\n      this.log('transitionend');\n\n      this.isLaunchComplete = true;\n\n      if (this.launched()) {\n        this.playSFX('hit');\n\n        if (this.reloadRequest) {\n          this.reload();\n        }\n      }\n    });\n\n    this.state('launch launched', '+LAUNCHED -RELOAD', {\n      didSet: function () {\n        this.playSFX('fire');\n        this.isLaunchComplete = false;\n      }\n    });\n\n    this.state('reload', '+RELOAD -LAUNCHED', {\n      shouldSet: function () {\n        if (!this.isLaunchComplete) {\n          this.reloadRequest = true;\n          return false;\n        }\n      },\n\n      didSet: function () {\n        this.reloadRequest = false;\n      }\n    });\n  });\n\n  this.behavior('fire', function () {\n    this.ball.launch();\n    return {\n      message: this.cannon.properties.fire\n    };\n  });\n\n  this.reload = function () {\n    this.ball.reload();\n  };\n\n  this.playSFX = function (_name) {\n    var sfx;\n\n    sfx = pl.util.resolvePath(this, 'audio.sfx.' + _name);\n\n    if (sfx) sfx.play();\n\n    return this;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/cannon/behavior.js\n **/","pl.game.component('carousel', function () {\n\n  this.TYPE = (function () {\n\n    this.SLIDE = 'slide';\n    this.CROSS_FADE = 'cross-fade';\n\n    return this;\n\n  }).call(['slide', 'cross-fade']);\n\n  this.type = null;\n  this.$images = null;\n  this.nodes = null;\n  this.shouldRandomize = false;\n  this.isPlaying = false;\n\n  this.ready = function () {\n    this.$images = this.find('img');\n    this.shouldRandomize = this.properties.has('randomize');\n\n    if (this.TYPE.every(this.bind(function (_type) {\n      return !this.hasClass(_type);\n    }))) {\n      this.addClass(this.TYPE.CROSS_FADE);\n    }\n\n    if (this.$images.length) {\n      this.nodes = this.$images.map(this.bind(function (_index, _node) {\n        var siblings;\n\n        siblings = [_node.previousSibling, _node.nextSibling];\n\n        siblings.forEach(function (_n) {\n          if (_n.nodeType === document.TEXT_NODE) {\n            $(_n).remove();\n          }\n        });\n\n        return _node;\n      })).toArray();\n    }\n\n    this.TYPE.forEach(this.bind(function (_item) {\n      if (this.hasClass(_item)) this.type = _item;\n    }));\n\n    this.on('transitionend', function (_event) {\n      if (_event.target.nodeName === 'IMG' && $(_event.target).state(this.STATE.LEAVE)) {\n        this.recycle();\n      }\n    });\n  };\n\n  this.provideBehaviorTarget = function () {\n    return this.current();\n  };\n\n  this.respond('fire', function (_event) {\n    this.hit(_event.message);\n  });\n\n  this.behavior('hit', function (_message) {\n    return {\n      message: _message,\n      behaviorTarget: this.provideBehaviorTarget()\n    };\n  });\n\n  this.behavior('next', function () {\n    var current;\n\n    current = this.$images.first();\n\n    this.leave(current);\n    this.open(current.next());\n  });\n\n  this.start = function () {\n    var delay;\n\n    delay = pl.util.toMillisec(this.properties.delay) || 1000;\n\n    if (this.isReady && !this.isPlaying) {\n      this.isPlaying = true;\n      this.open(this.$images.first());\n      this.repeat(delay, this.next);\n    } else {\n      this.on('ready', this.beginShow);\n    }\n  };\n\n  this.stop = function () {\n    this.kill('repeat');\n    this.isPlaying = false;\n  };\n\n  this.current = function () {\n    return this.$images.filter('.OPEN');\n  };\n\n  this.recycle = function () {\n    var $current, reload;\n\n    $current = this.$images.first();\n    reload = this.reloadWithNode(this.$images[0]);\n\n    $current.removeClass(this.STATE.LEAVE);\n    $current.remove();\n\n    [].shift.call(this.$images);\n\n    this.$images.push(reload);\n    this.append(reload);\n\n    return this;\n  };\n\n  this.reloadWithNode = function (_item) {\n    var $clone, state;\n\n    if (this.shouldRandomize) {\n      $clone = $(pl.util.random(this.nodes)).clone();\n      state = $clone.state();\n\n      if (state) $clone.removeClass(state.join ? state.join(' ') : state);\n\n      return $clone[0];\n    }\n\n    return _item;\n  };\n\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/carousel/behavior.js\n **/","pl.game.component('frame', function () {\n\n  this.ready = function () {\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) sfx.play();\n      }));\n    }\n  };\n\n  this.start = function () {\n    var voSound;\n\n    if (this.audio) {\n      voSound = this.audio.voiceOver[0];\n\n      this.audio.background.play();\n      if (voSound && !voSound.config('dontautoplay')) voSound.play();\n    }\n\n    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n    return this;\n  };\n\n  this.on('ui-open', function (_event) {\n    if (this.isReady) {\n      this.start();\n    }\n\n    if (this === _event.targetScope) {\n      if (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && (this.requiredQueue && this.requiredQueue.length))) {\n        this.complete();\n      }\n    }\n  });\n\n  this.on('ui-close', function (_event) {\n    if (this.isReady && this.is(_event.target)) {\n      this.stop();\n    }\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/frame/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n  function validateAnswer(_scope) {\n    var $selected, answers, $correct;\n\n    $selected = _scope.getSelected();\n\n    if (_scope.properties.correct) {\n      answers = _scope.properties.correct.split(/\\s*,\\s*/);\n\n      if (~answers.indexOf(String($selected.index()))) {\n        if (_scope.isComplete) _scope.playSFX('correct');\n        _scope.complete();\n      } else {\n        _scope.playSFX('incorrect');\n      }\n    } else {\n      $correct = _scope.find('[pl-correct]');\n\n      if (~$.inArray($selected[0], $correct)) {\n        if (_scope.isComplete) _scope.playSFX('correct');\n        _scope.complete();\n      } else {\n        _scope.playSFX('incorrect');\n      }\n    }\n\n    return false;\n  }\n\n  this.playSFX = function (_answer) {\n    var sfx;\n\n    sfx = pl.util.resolvePath(this, 'audio.sfx.' + _answer);\n\n    if (sfx) sfx.play();\n\n    return sfx;\n  };\n\n  this.playVO = function (_name) {\n    var vo;\n\n    vo = pl.util.resolvePath(this, 'audio.voiceOver.' + _name);\n\n    if (vo) vo.play();\n\n    return vo;\n  };\n\n  this.answer = function () {\n    var $li;\n\n    if (this.screen.state(this.screen.STATE.VOICE_OVER) && !this.game.demoMode) return;\n\n    if (this.event) {\n      $li = $(this.event.target).closest('li');\n      this.playVO($li.id());\n\n      if (this.select($li)) {\n        validateAnswer(this);\n      }\n    }\n  };\n\n  this.start = function () {};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n  this.on('transitionend', function () {\n    if (!this.opened()) {\n      this.addClass('ANIM-DONE');\n    }\n  });\n\n  this.item = function (_id) {\n    var vo, index;\n\n    this.removeClass('ANIM-DONE');\n    this.open();\n\n    if (typeof _id === 'number') {\n      this.select('li:nth-child(' + _id + ')');\n      this.audio.voiceOver[_id].play();\n    } else if (typeof _id === 'string') {\n      if (this[_id]) {\n        this.select(this[_id]);\n\n        if (this.audio) {\n          index = this[_id].index();\n          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\n          if (vo) vo.play();\n        }\n      }\n    }\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/reveal/behavior.js\n **/","pl.game.component('score', function () {\n\n  this.value = 0;\n\n  this.entity('board', function () {\n\n    this.template = null;\n\n    this.ready = function () {\n      this.template = this.counter.html();\n    };\n\n    this.render = function () {\n      this.counter.html(this.template.replace('{{score}}', this.value));\n      return this;\n    };\n\n  });\n\n  this.reset = function () {\n    this.value = 0;\n    this.ready();\n  };\n\n  this.ready = function () {\n    this.attr('value', this.value);\n    this.board.render();\n  };\n\n  this.up = function (_count) {\n    this.value += _count || 1;\n\n    this.attr('value', this.value);\n    this.board.render();\n\n    if (this.value >= this.properties.max) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n  this.down = function (_count) {\n    this.value -= _count || 1;\n\n    this.attr('value', this.value);\n    this.board.render();\n\n    if (this.value >= this.properties.max) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/score/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\n  this.allowAction = function () {\n    return !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n  };\n\n  this.on('ready', function (_event) {\n    if (!this.is(_event.target)) return;\n\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) sfx.play();\n      }));\n    }\n\n    if (this.state(this.STATE.OPEN)) this.start();\n  });\n\n  this.next = function () {\n    var current, nextScreen, buttonSound;\n\n    if (!this.state(this.STATE.OPEN)) return;\n\n    if (this.hasClass('last') && this.hasClass('COMPLETE')) this.game.quit.okay();\n\n    if (this !== this.screen) {\n      this.log('Not called on a screen');\n      return;\n    }\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    // delegate to a child \"slides\" component.\n    if (this.slides && this.slides.isComponent) {\n      current = this.slides.current();\n      nextScreen = current.next();\n\n      if (nextScreen == null) {\n        current = this;\n        nextScreen = this.proto();\n      }\n    } else {\n      current = this;\n      nextScreen = this.proto();\n    }\n\n    if (nextScreen) {\n      current.leave();\n      nextScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return nextScreen;\n  };\n\n  this.prev = function () {\n    var current, prevScreen, buttonSound;\n\n    if (!this.state(this.STATE.OPEN)) return;\n\n    if (this !== this.screen) {\n      this.log('Not called on a screen');\n      return;\n    }\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    // delegate to a child \"slides\" component.\n    if (this.slides && this.slides.isComponent) {\n      current = this.slides.current();\n      prevScreen = current.prev();\n\n      if (prevScreen == null) {\n        current = this;\n        prevScreen = this.proto();\n      }\n    } else {\n      current = this;\n      prevScreen = this.proto();\n    }\n\n    if (prevScreen) {\n      current.close();\n      prevScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return prevScreen;\n  };\n\n  this.start = function () {\n    this.startAudio();\n\n    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n    return this;\n  };\n\n  this.on('ui-open', function (_event) {\n    if (this !== _event.targetScope) return;\n\n    if (this.isReady) {\n      this.start();\n    }\n\n    if (!this.isComplete) {\n      if (!this.requiredQueue || (this.isMemberSafe('requiredQueue') && !this.requiredQueue.length)) {\n        this.complete();\n      }\n    }\n\n    if (this.screen.isLast()) {\n      this.addClass('last');\n    }\n  });\n\n  this.on('ui-close', function (_event) {\n    if (this.isReady && this.is(_event.target)) {\n      this.stop();\n    }\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n  // TODO: Make an automated way to handle this\n  this.on('transitionend', function (_event) {\n    if (!this.is(_event.target)) return;\n    if (this.state(this.STATE.LEAVE)) {\n      this.addClass('LEAVE-END');\n    }\n  });\n\n  this.on('ui-open', function (_event) {\n    if (!this.is(_event.target)) return;\n    this.game.addClass('QUIT-SCREEN');\n    this.removeClass('LEAVE-END');\n    this.game.pause(true);\n  });\n\n  this.on('ui-leave', function () {\n    this.game.removeClass('QUIT-SCREEN');\n    this.game.resume();\n  });\n\n  this.init = function () {\n    this.addClass('LEAVE LEAVE-END');\n  };\n\n  this.okay = function () {\n    this.game.exit();\n  };\n\n  this.cancel = function () {\n    this.leave();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('selectable-reveal', function () {\n\n  this.respond('select', function (_event) {\n    var index, stateMethod;\n\n    index = _event.message;\n    stateMethod = this.properties.selectState || 'select';\n\n    if (~index) {\n      this[stateMethod](_event.behaviorTarget);\n      this.reveal.item(index);\n      this.features.correct.ready(index);\n    }\n  });\n\n  this.entity('selectable', function () {\n\n    this.shouldSelect = function (_$target) {\n      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0 || _$target.is('[pl-always-selectable]')) {\n        return !this.screen.state(this.STATE.VOICE_OVER) && !_$target.state(this.STATE.HIGHLIGHTED);\n      }\n\n      return false;\n    };\n\n  });\n\n  this.ready = function () {\n    var correct;\n\n    correct = pl.Queue.create();\n\n    correct.on('complete', this.bind(function () {\n      this.complete();\n    }));\n\n    this.features = this\n      .find('.items li')\n      .map(function (_index) {\n        correct.add(_index);\n        return _index;\n      })\n      .toArray();\n\n    this.features.correct = correct;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/selectable-reveal/behavior.js\n **/","pl.game.component('selectable', function () {\n\n  this.behavior('select', function (_target) {\n    var $target;\n\n    if (this.event) {\n      $target = $(this.event.target).closest('li');\n\n      if (this.shouldSelect($target) !== false) {\n        return {\n          message: $target.index(),\n          behaviorTarget: $target\n        };\n      }\n    } else {\n      this.proto(_target);\n    }\n\n    return false;\n  });\n\n  this.shouldSelect = function () {\n    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n      return true;\n    }\n\n    return false;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/selectable/behavior.js\n **/","pl.game.component('slides', function () {\n\n  this.slides = null;\n\n  this.ready = function () {\n    this.slides = this.find('> *').scope();\n  };\n\n  this.start = function () {\n    var current, i, n;\n\n    current = this.current();\n\n    if (current) {\n      current.start();\n    } else if (this.slides.length) {\n      this.slides[0].open();\n      for (i = 1, n = this.slides.length; i < n; i++) {\n        this.slides[i] && this.slides[i].close();\n      }\n    }\n  };\n\n  this.current = function () {\n    return this.find('> .OPEN').scope();\n  };\n\n  /*\n   * @this {frame-component-scope} called by the next button in a frame component.\n   */\n  this.next = function () {\n    var index, nextSlide, buttonSound;\n\n    if (!this.completed()) return false;\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    index = this.slides.indexOf(this);\n    if (~index) return this.slides[index + 1];\n\n\n    if (~index) nextSlide = this.slides[index + 1];\n\n    if (nextSlide) {\n      this.leave();\n      nextSlide.open();\n\n      if (buttonSound) buttonSound.play();\n\n      return nextSlide;\n    } else {\n      return this.proto();\n    }\n  };\n\n  /*\n   * @this {frame-component-scope} called by the next button in a frame component.\n   */\n  this.prev = function () {\n    var index, prevSlide, buttonSound;\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    index = this.slides.indexOf(this);\n    if (~index) return this.slides[index - 1];\n\n\n    if (~index) prevSlide = this.slides[index - 1];\n\n    if (prevSlide) {\n      this.close();\n      prevSlide.open();\n\n      if (buttonSound) buttonSound.play();\n\n      return prevSlide;\n    } else {\n      return this.proto();\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/slides/behavior.js\n **/","pl.game.component('title', function () {\n\n  this.start = function () {\n    this.proto();\n    this.showTitle();\n  };\n\n  this.showTitle = function () {\n    this.image.addClass('animated ' + this.image.attr('pl-animation'));\n    this.complete();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/title/behavior.js\n **/","pl.game.config({\n  screenSelector: '.screen',\n  componentDirectory: 'components/',\n  dimensions: {\n    width: 960,\n    ratio: 16 / 9\n  },\n  shouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\nimport './config.game';\n\nimport '../../../shared/js/screen-ios-splash';\nimport './components/cannon/behavior';\nimport './components/carousel/behavior';\nimport './components/frame/behavior';\nimport './components/multiple-choice/behavior';\nimport './components/reveal/behavior';\nimport './components/score/behavior';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/selectable-reveal/behavior';\nimport './components/selectable/behavior';\nimport './components/slides/behavior';\nimport './components/title/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\npl.game('polar-bear', function () {\n\n  var resetMultipleChoice = function () {\n    this.on('ui-open', function (_e) {\n      if (!this.is(_e.target)) return;\n\n      if (this.isComplete) this.deselect(this.find('.' + this.STATE.SELECTED));\n    });\n  };\n\n  this.screen('title', function () {\n    this.on('ready', function (_event) {\n      if (!this.is(_event.target)) return;\n\n      if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n    });\n\n    this.startAudio = function () {\n      this.title.audio.background.play();\n      this.title.audio.voiceOver.play();\n    };\n\n    this.stopAudio = function () {\n      this.title.audio.voiceOver.stop('@ALL');\n    };\n  });\n\n  this.screen('what-color', function () {\n    this.entity('slides', function () {\n      this.entity('mc', resetMultipleChoice);\n    });\n  });\n\n  this.screen('map', function () {\n\n    this.entity('slides', function () {\n\n      this.entity('.map-entity', function () {\n\n        var SELECTOR;\n\n        SELECTOR = {\n          CORRECT: '[pl-correct]',\n          INCORRECT: '[pl-incorrect]'\n        };\n\n        this.buffer = null;\n        this.bctx = null;\n        this.countries = null;\n\n        // images\n        this.grayMap = null;\n        this.iceland = null;\n        this.russia = null;\n        this.northPole = null;\n        this.greenland = null;\n        this.denmark = null;\n        this.norway = null;\n        this.canada = null;\n        this.usa = null;\n        this.sweden = null;\n        this.finland = null;\n\n        this.init = function () {\n          this.buffer = document.createElement('canvas');\n          this.bctx = this.buffer.getContext('2d');\n        };\n\n        this.ready = function () {\n          var correct, $countries;\n\n          correct = pl.Queue.create();\n\n          correct.on('complete', this.bind(function () {\n            var sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n            if (sfx) sfx.play();\n            this.complete();\n          }));\n\n          this.buffer.width = 500;\n          this.buffer.height = 500;\n\n          $countries = this.find('.country');\n\n          $countries\n            .not(SELECTOR.CORRECT)\n            .on('animationend', function () {\n              $(this).removeClass('flash').addClass('fadeIn');\n            });\n\n          this.countries = $countries\n            .map(function (_index, _node) {\n              var $node, id;\n\n              $node = $(_node);\n              id = pl.util.transformId($node.id(), true);\n\n              if ($node.is(SELECTOR.CORRECT)) correct.add(id);\n\n              return id;\n            })\n            .toArray();\n\n          this.countries.correct = correct;\n\n        };\n\n        this.isImageTarget = function (_image, _point) {\n          var pixel;\n\n          this.bctx.clearRect(0, 0, this.buffer.width, this.buffer.height);\n          this.bctx.drawImage(_image[0], 0, 0, _image.width(), _image.height());\n          pixel = this.bctx.getImageData(_point.x, _point.y, 1, 1);\n\n          this.bctx.fillStyle = 'white';\n          this.bctx.fillRect(_point.x, _point.y, 5, 5);\n\n          // opaque pixel\n          return pixel.data[3] > 0;\n        };\n\n        this.test = function (_cursor) {\n          var offset, cursor, gameScale;\n\n          if (!this.screen.allowAction()) return false;\n\n          offset = this.grayMap.absolutePosition();\n          gameScale = this.game.transformScale().x;\n\n          // FireFox uses transfom scale which\n          // does NOT produce scaled DOM values like `zoom`.\n          if (gameScale !== 1) {\n            cursor = _cursor\n              .dec(offset)\n              .scale(1 / this.game.zoom)\n              .math('floor');\n          } else {\n            cursor = _cursor\n              .scale(1 / this.game.zoom)\n              .math('floor')\n              .dec(offset);\n          }\n\n          this.countries.every(this.bind(function (_country) {\n            if (this.isImageTarget(this[_country], cursor)) {\n              this.answer( _country);\n              return false;\n            }\n\n            return true;\n          }));\n        };\n\n        this.answer = function (_country) {\n          var $country;\n\n          $country = this[_country];\n\n          if ($country.is(SELECTOR.CORRECT)) {\n\n            this.playSFX('correct');\n            this.playVO(_country);\n\n            $country.addClass('animated fadeIn');\n\n            if (!this.state('COMPLETE')) this.countries.correct.ready(_country);\n          } else {\n            this.playSFX('incorrect');\n            $country.addClass('animated flash');\n          }\n        };\n\n        this.playSFX = function (_answer) {\n          var sfx;\n\n          sfx = pl.util.resolvePath(this, 'audio.sfx.' + _answer);\n\n          if (sfx) sfx.play();\n\n          return sfx;\n        };\n\n        this.playVO = function (_name) {\n          var vo;\n\n          vo = pl.util.resolvePath(this, 'audio.voiceOver.' + _name);\n\n          if (vo) vo.play();\n\n          return vo;\n        };\n\n        this.on('ui-open', function (_e) {\n          if (!this.is(_e.target)) return;\n\n          if (this.isComplete) {\n            this.find('.fadeIn').removeClass('fadeIn');\n          }\n        });\n      });\n\n    });\n\n  });\n\n  this.screen('bears', function () {\n\n    this.start = function () {\n      this.proto();\n      this.carousel.start();\n    };\n\n    this.stop = function () {\n      this.carousel.stop();\n    };\n\n    this.on('ui-select', function (_event) {\n      if (_event.targetScope === this.reveal) {\n        this.reveal.delay('1s', function () {\n          var $selected;\n\n          $selected = this.getSelected();\n\n          this.close();\n          $selected\n            .addClass('animated slideOutUp')\n            .on('animationend', function () {\n              $selected.removeClass('slideOutUp');\n              $selected.off();\n            });\n        });\n\n      }\n    });\n\n    this.on('ui-open', function (_event) {\n      if (!this.is(_event.target)) return;\n      this.carousel.start();\n\n      if (this.isComplete) this.score.reset();\n    });\n\n    this.state('incomplete', '-COMPLETE', {\n      willSet: function () {\n        this.isComplete = false;\n      }\n    });\n\n    this.entity('carousel', function () {\n      // The event 'behaviorTarget' for this entities 'hit' behavior\n      this.provideBehaviorTarget = function () {\n        // Choose the item thats in the middle of the 3 visible.\n        return this.current().next();\n      };\n\n    });\n\n    this.respond('hit', function (_event) {\n      if (_event.message === _event.behaviorTarget.id()) {\n        this.score.up();\n        this.playSFX('correct');\n      } else {\n        this.playSFX('incorrect');\n      }\n\n      this.reveal.item(_event.behaviorTarget.id());\n    });\n\n    this.respond('next', function () {\n      this.cannon.ball.reload();\n    });\n\n    this.playSFX = function (_name) {\n      var sfx;\n\n      sfx = pl.util.resolvePath(this, 'audio.sfx.' + _name);\n\n      if (sfx) sfx.play();\n\n      return this;\n    };\n\n  });\n\n  this.screen('experiment-hands', resetMultipleChoice);\n  this.screen('experiment-why-warmer', resetMultipleChoice);\n  this.screen('experiment-how-warmer', resetMultipleChoice);\n\n  this.screen('experiment-discover', function () {\n    this.on('ui-open', function (_e) {\n      if (!this.is(_e.target)) return;\n\n      this.unhighlight(this.find('.' + this.STATE.HIGHLIGHTED));\n    });\n\n    this.respond('select', function (_event) {\n      var id = _event.message;\n\n      if (id) {\n        this.highlight(_event.behaviorTarget);\n        this.audio.voiceOver[id].play();\n      }\n    });\n\n    this.entity('selectable', function () {\n      this.behavior('select', function (_target) {\n        var $target;\n\n        if (this.event) {\n          $target = $(this.event.target).closest('li');\n\n          if (this.shouldSelect($target) !== false) {\n            return {\n              message: $target.id(),\n              behaviorTarget: $target\n            };\n          }\n        } else {\n          this.proto(_target);\n        }\n\n        return false;\n      });\n    });\n  });\n\n  this.screen('flip', function () {\n\n    this.complete = function () {\n      var eventCategory = (['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')']).join(' ');\n\n      ga('send', 'event', eventCategory, 'complete');\n\n      pl.game.trigger($.Event('platform-event', {\n        name: 'flip',\n        gameData: {id: this.game.id()}\n      }));\n\n      return this.proto();\n    };\n\n  });\n\n  this.exit = function () {\n    var screen, eventCategory;\n\n    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n    eventCategory = (['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')']).join(' ');\n\n    ga('send', 'event', eventCategory, 'quit');\n\n    return this.proto();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/index.js\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n\tthis.on('ready', function (_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\tthis.splash();\n\t\t}\n\t});\n\n\tthis.splash = function() {\n\t\tthis.close(this.game.loader);\n\n\t\tif(this.game.hasClass('iOS')) {\n\t\t\tthis.open();\n\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t} else {\n\t\t\tthis.game.title.open();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen = this.proto();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tthis.game.audio.sfx.button.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.play('screenComplete');\n\t\treturn this.proto();\n\t};\n\n\tthis.startGame = function() {\n\t\tif(!this.hasClass('FINISHED')) return;\n\t\tthis.game.addClass('STARTED');\n\t\tthis.delay('2.5s', function() {\n\t\t\tthis.next();\n\t\t});\n\t};\n\n\tthis.on('animationend', function(_e) {\n\t\tif(!this.ball.is(_e.target)) return;\n\t\tthis.addClass('FINISHED');\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","(function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/"],"sourceRoot":""}