{"version":3,"sources":["webpack:///polar-bear/ai.js","webpack:///webpack/bootstrap ebf208cf457fe91dd083","webpack:///./polar-bear/source/js/components/cannon/behavior.js","webpack:///./polar-bear/source/js/components/carousel/behavior.js","webpack:///./polar-bear/source/js/components/frame/behavior.js","webpack:///./polar-bear/source/js/components/map/behavior.js","webpack:///./polar-bear/source/js/components/multiple-choice/behavior.js","webpack:///./polar-bear/source/js/components/reveal/behavior.js","webpack:///./polar-bear/source/js/components/score/behavior.js","webpack:///./polar-bear/source/js/components/screen-basic/behavior.js","webpack:///./polar-bear/source/js/components/screen-quit/behavior.js","webpack:///./polar-bear/source/js/components/selectable-reveal/behavior.js","webpack:///./polar-bear/source/js/components/selectable/behavior.js","webpack:///./polar-bear/source/js/components/slides/behavior.js","webpack:///./polar-bear/source/js/components/title/behavior.js","webpack:///./polar-bear/source/js/config.game.js","webpack:///./polar-bear/source/js/index.js","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","pl","game","component","this","entity","reloadRequest","isLaunchComplete","willInit","cannon","properties","ball","attr","on","assetQueue","ready","node","src","off","log","launched","playSFX","reload","state","didSet","shouldSet","behavior","launch","message","fire","_name","sfx","util","resolvePath","play","TYPE","SLIDE","CROSS_FADE","type","$images","nodes","shouldRandomize","isPlaying","hitTarget","find","has","every","bind","_type","hasClass","addClass","length","map","_index","_node","siblings","previousSibling","nextSibling","forEach","_n","nodeType","document","TEXT_NODE","$","remove","toArray","_item","_event","target","nodeName","STATE","LEAVE","recycle","provideBehaviorTarget","targetNext","current","next","respond","hit","_message","behaviorTarget","first","leave","open","start","delay","toMillisec","isReady","repeat","beginShow","stop","kill","filter","$current","reloadWithNode","removeClass","shift","push","append","$clone","random","clone","join","isMemberSafe","requiredQueue","voSound","audio","voiceOver","background","config","hasOwnProperty","entities","targetScope","isComplete","complete","is","SELECTOR","CORRECT","INCORRECT","buffer","bctx","countries","grayMap","iceland","russia","northPole","greenland","denmark","norway","canada","usa","sweden","finland","init","createElement","getContext","correct","$countries","Queue","create","width","height","not","$node","transformId","add","isImageTarget","_image","_point","pixel","clearRect","drawImage","getImageData","x","y","fillStyle","fillRect","data","test","_cursor","offset","cursor","gameScale","screen","allowAction","absolutePosition","transformScale","dec","scale","zoom","math","_country","answer","$country","playVO","_answer","vo","_e","validateAnswer","_scope","$selected","answers","$correct","getSelected","split","indexOf","String","index","inArray","$li","VOICE_OVER","demoMode","event","closest","select","opened","item","_id","value","template","counter","html","render","replace","reset","board","up","_count","max","down","OPEN","nextScreen","buttonSound","quit","okay","slides","isComponent","proto","prev","prevScreen","close","startAudio","isLast","pause","resume","exit","cancel","stateMethod","selectState","reveal","features","shouldSelect","_$target","HIGHLIGHTED","_target","$target","scope","i","n","nextSlide","completed","prevSlide","showTitle","image","screenSelector","componentDirectory","dimensions","ratio","shouldLoadComponentStyles","resetMultipleChoice","deselect","SELECTED","iosSplash","READY","splash","title","stopAudio","mc","carousel","score","willSet","unhighlight","highlight","eventCategory","ga","trigger","Event","name","gameData","findOwn","s","o","g","r","a","q","arguments","l","Date","getElementsByTagName","async","parentNode","insertBefore","window","loader","button","startGame","_env","parent","location","href","domain"],"mappings":"CAAS,SAAUA,SCInB,QAAAC,qBAAAC,UAGA,GAAAC,iBAAAD,UACA,MAAAC,kBAAAD,UAAAE,OAGA,IAAAC,QAAAF,iBAAAD,WACAE,WACAE,GAAAJ,SACAK,QAAA,EAUA,OANAP,SAAAE,UAAAM,KAAAH,OAAAD,QAAAC,cAAAD,QAAAH,qBAGAI,OAAAE,QAAA,EAGAF,OAAAD,QAvBA,GAAAD,oBAqCA,OATAF,qBAAAQ,EAAAT,QAGAC,oBAAAS,EAAAP,iBAGAF,oBAAAU,EAAA,UAGAV,oBAAA,KDMM,SAASI,OAAQD,QAASH,qBAE/BI,OAAOD,QAAUH,oBAAoB,KAKhC,SAASI,OAAQD,SEnDvBQ,GAAGC,KAAKC,UAAU,SAAU,WAE1BC,KAAKC,OAAO,OAAQ,WAElBD,KAAKE,eAAgB,EACrBF,KAAKG,kBAAmB,EAExBH,KAAKI,SAAW,WACVJ,KAAKK,OAAOC,WAAWC,OACzBP,KAAKQ,KAAK,MAAOR,KAAKK,OAAOC,WAAWC,MAExCP,KAAKS,GAAG,OAAQ,WACdT,KAAKU,WAAWC,MAAMX,KAAKY,OAAOC,KAClCb,KAAKc,IAAI,YAKfd,KAAKS,GAAG,gBAAiB,WACvBT,KAAKe,IAAI,iBAETf,KAAKG,kBAAmB,EAEpBH,KAAKgB,aACPhB,KAAKiB,QAAQ,OAETjB,KAAKE,eACPF,KAAKkB,YAKXlB,KAAKmB,MAAM,kBAAmB,qBAC5BC,OAAQ,QAAAA,UACNpB,KAAKiB,QAAQ,QACbjB,KAAKG,kBAAmB,KAI5BH,KAAKmB,MAAM,SAAU,qBACnBE,UAAW,QAAAA,aACT,MAAKrB,MAAKG,iBAAV,QACEH,KAAKE,eAAgB,GACd,IAIXkB,OAAQ,QAAAA,UACNpB,KAAKE,eAAgB,OAK3BF,KAAKsB,SAAS,OAAQ,WAEpB,MADAtB,MAAKO,KAAKgB,UAERC,QAASxB,KAAKK,OAAOC,WAAWmB,QAIpCzB,KAAKkB,OAAS,WACZlB,KAAKO,KAAKW,UAGZlB,KAAKiB,QAAU,SAAUS,OACvB,GAAIC,IAMJ,OAJAA,KAAM9B,GAAG+B,KAAKC,YAAY7B,KAAM,aAAe0B,OAE3CC,KAAKA,IAAIG,OAEN9B,SF2DL,SAASV,OAAQD,SGlIvBQ,GAAGC,KAAKC,UAAU,WAAY,WAE5BC,KAAK+B,KAAO,WAKV,MAHA/B,MAAKgC,MAAQ,QACbhC,KAAKiC,WAAa,aAEXjC,MAENP,MAAM,QAAS,eAElBO,KAAKkC,KAAO,KACZlC,KAAKmC,QAAU,KACfnC,KAAKoC,MAAQ,KACbpC,KAAKqC,iBAAkB,EACvBrC,KAAKsC,WAAY,EACjBtC,KAAKuC,UAAY,KAEjBvC,KAAKW,MAAQ,WACXX,KAAKmC,QAAUnC,KAAKwC,KAAK,OACzBxC,KAAKqC,gBAAkBrC,KAAKM,WAAWmC,IAAI,aAEvCzC,KAAK+B,KAAKW,MAAM1C,KAAK2C,KAAK,SAAUC,OACtC,OAAQ5C,KAAK6C,SAASD,WAEtB5C,KAAK8C,SAAS9C,KAAK+B,KAAKE,YAGtBjC,KAAKmC,QAAQY,SACf/C,KAAKoC,MAAQpC,KAAKmC,QAAQa,IAAIhD,KAAK2C,KAAK,SAAUM,OAAQC,OACxD,GAAIC,SAUJ,OARAA,WAAYD,MAAME,gBAAiBF,MAAMG,aAEzCF,SAASG,QAAQ,SAAUC,IACrBA,GAAGC,WAAaC,SAASC,WAC3BC,EAAEJ,IAAIK,WAIHV,SACLW,WAGN7D,KAAK+B,KAAKuB,QAAQtD,KAAK2C,KAAK,SAAUmB,OAChC9D,KAAK6C,SAASiB,SAAQ9D,KAAKkC,KAAO4B,UAGxC9D,KAAKS,GAAG,gBAAiB,SAAUsD,QACF,QAA3BA,OAAOC,OAAOC,UAAsBN,EAAEI,OAAOC,QAAQ7C,MAAMnB,KAAKkE,MAAMC,QACxEnE,KAAKoE,aAKXpE,KAAKqE,sBAAwB,WAC3B,MAAOrE,MAAKM,WAAWgE,WAAatE,KAAKuE,UAAUC,OAASxE,KAAKuE,WAGnEvE,KAAKyE,QAAQ,OAAQ,SAAUV,QAC7B/D,KAAK0E,IAAIX,OAAOvC,WAGlBxB,KAAKsB,SAAS,MAAO,SAAUqD,UAC7B,OACEnD,QAASmD,SACTC,eAAgB5E,KAAKqE,2BAIzBrE,KAAKsB,SAAS,OAAQ,WACpB,GAAIiD,QAEJA,SAAUvE,KAAKmC,QAAQ0C,QAEvB7E,KAAK8E,MAAMP,SACXvE,KAAK+E,KAAKR,QAAQC,UAGpBxE,KAAKgF,MAAQ,WACX,GAAIC,MAEJA,OAAQpF,GAAG+B,KAAKsD,WAAWlF,KAAKM,WAAW2E,QAAU,IAEjDjF,KAAKmF,UAAYnF,KAAKsC,WACxBtC,KAAKsC,WAAY,EACjBtC,KAAK+E,KAAK/E,KAAKmC,QAAQ0C,SACvB7E,KAAKoF,OAAOH,MAAOjF,KAAKwE,OAExBxE,KAAKS,GAAG,QAAST,KAAKqF,YAI1BrF,KAAKsF,KAAO,WACVtF,KAAKuF,KAAK,UACVvF,KAAKsC,WAAY,GAGnBtC,KAAKuE,QAAU,WACb,MAAOvE,MAAKmC,QAAQqD,OAAO,UAG7BxF,KAAKoE,QAAU,WACb,GAAIqB,UAAUvE,MAad,OAXAuE,UAAWzF,KAAKmC,QAAQ0C,QACxB3D,OAASlB,KAAK0F,eAAe1F,KAAKmC,QAAQ,IAE1CsD,SAASE,YAAY3F,KAAKkE,MAAMC,OAChCsB,SAAS7B,YAENgC,MAAMnG,KAAKO,KAAKmC,SAEnBnC,KAAKmC,QAAQ0D,KAAK3E,QAClBlB,KAAK8F,OAAO5E,QAELlB,MAGTA,KAAK0F,eAAiB,SAAU5B,OAC9B,GAAIiC,QAAQ5E,KAEZ,OAAInB,MAAKqC,iBACP0D,OAASpC,EAAE9D,GAAG+B,KAAKoE,OAAOhG,KAAKoC,QAAQ6D,QACvC9E,MAAQ4E,OAAO5E,QAEXA,OAAO4E,OAAOJ,YAAYxE,MAAM+E,KAAO/E,MAAM+E,KAAK,KAAO/E,OAEtD4E,OAAO,IAGTjC,UHyIL,SAASxE,OAAQD,SI5QvBQ,GAAGC,KAAKC,UAAU,QAAS,WAEzBC,KAAKW,MAAQ,WACPX,KAAKmG,aAAa,kBAAoBnG,KAAKoG,eAC7CpG,KAAKoG,cAAc3F,GAAG,WAAYT,KAAK2C,KAAK,WAC1C,GAAIhB,IAEJA,KAAM9B,GAAG+B,KAAKC,YAAY7B,KAAM,iCAE5B2B,KAAKA,IAAIG,WAKnB9B,KAAKgF,MAAQ,WACX,GAAIqB,QAWJ,OATIrG,MAAKsG,QACPD,QAAUrG,KAAKsG,MAAMC,UAAU,GAE/BvG,KAAKsG,MAAME,WAAW1E,OAClBuE,UAAYA,QAAQI,OAAO,iBAAiBJ,QAAQvE,QAGtD9B,KAAK0G,eAAe,aAAe1G,KAAK2G,SAAS,IAAI3G,KAAK2G,SAAS,GAAG3B,QAEnEhF,MAGTA,KAAKS,GAAG,UAAW,SAAUsD,QACvB/D,KAAKmF,SACPnF,KAAKgF,QAGHhF,OAAS+D,OAAO6C,cACZ5G,KAAK0G,eAAe,eAAiB1G,KAAK6G,YAAiB7G,KAAK0G,eAAe,kBAAqB1G,KAAKoG,eAAiBpG,KAAKoG,cAAcrD,QACjJ/C,KAAK8G,cAKX9G,KAAKS,GAAG,WAAY,SAAUsD,QACxB/D,KAAKmF,SAAWnF,KAAK+G,GAAGhD,OAAOC,SACjChE,KAAKsF,YJqRL,SAAShG,OAAQD,SKhUvBQ,GAAGC,KAAKC,UAAU,MAAO,WAEvB,GAAIiH,SAEJA,WACEC,QAAS,eACTC,UAAW,kBAGblH,KAAKmH,OAAS,KACdnH,KAAKoH,KAAO,KACZpH,KAAKqH,UAAY,KAGjBrH,KAAKsH,QAAU,KACftH,KAAKuH,QAAU,KACfvH,KAAKwH,OAAS,KACdxH,KAAKyH,UAAY,KACjBzH,KAAK0H,UAAY,KACjB1H,KAAK2H,QAAU,KACf3H,KAAK4H,OAAS,KACd5H,KAAK6H,OAAS,KACd7H,KAAK8H,IAAM,KACX9H,KAAK+H,OAAS,KACd/H,KAAKgI,QAAU,KAEfhI,KAAKiI,KAAO,WACVjI,KAAKmH,OAAS1D,SAASyE,cAAc,UACrClI,KAAKoH,KAAOpH,KAAKmH,OAAOgB,WAAW,OAGrCnI,KAAKW,MAAQ,WACX,GAAIyH,SAASC,UAEbD,SAAUvI,GAAGyI,MAAMC,SAEnBH,QAAQ3H,GAAG,WAAYT,KAAK2C,KAAK,WAC/B,GAAIhB,KAAM9B,GAAG+B,KAAKC,YAAY7B,KAAM,gCAChC2B,MAAKA,IAAIG,OACb9B,KAAK8G,cAGP9G,KAAKmH,OAAOqB,MAAQ,IACpBxI,KAAKmH,OAAOsB,OAAS,IAErBJ,WAAarI,KAAKwC,KAAK,YAEvB6F,WACGK,IAAI1B,SAASC,SACbxG,GAAG,eAAgB,WAClBkD,EAAE3D,MAAM2F,YAAY,SAAS7C,SAAS,YAG1C9C,KAAKqH,UAAYgB,WACdrF,IAAI,SAAUC,OAAQC,OACrB,GAAIyF,OAAOpJ,EAOX,OALAoJ,OAAQhF,EAAET,OACV3D,GAAKM,GAAG+B,KAAKgH,YAAYD,MAAMpJ,MAAM,GAEjCoJ,MAAM5B,GAAGC,SAASC,UAAUmB,QAAQS,IAAItJ,IAErCA,KAERsE,UAEH7D,KAAKqH,UAAUe,QAAUA,SAI3BpI,KAAK8I,cAAgB,SAAUC,OAAQC,QACrC,GAAIC,MAUJ,OARAjJ,MAAKoH,KAAK8B,UAAU,EAAG,EAAGlJ,KAAKmH,OAAOqB,MAAOxI,KAAKmH,OAAOsB,QACzDzI,KAAKoH,KAAK+B,UAAUJ,OAAO,GAAI,EAAG,EAAGA,OAAOP,QAASO,OAAON,UAC5DQ,MAAQjJ,KAAKoH,KAAKgC,aAAaJ,OAAOK,EAAGL,OAAOM,EAAG,EAAG,GAEtDtJ,KAAKoH,KAAKmC,UAAY,QACtBvJ,KAAKoH,KAAKoC,SAASR,OAAOK,EAAGL,OAAOM,EAAG,EAAG,GAGnCL,MAAMQ,KAAK,GAAK,GAGzBzJ,KAAK0J,KAAO,SAAUC,SACpB,GAAIC,QAAQC,OAAQC,SAEpB,OAAK9J,MAAK+J,OAAOC,eAEjBJ,OAAS5J,KAAKsH,QAAQ2C,mBACtBH,UAAY9J,KAAKF,KAAKoK,iBAAiBb,EAKrCQ,OADgB,IAAdC,UACOH,QACNQ,IAAIP,QACJQ,MAAM,EAAIpK,KAAKF,KAAKuK,MACpBC,KAAK,SAECX,QACNS,MAAM,EAAIpK,KAAKF,KAAKuK,MACpBC,KAAK,SACLH,IAAIP,YAGT5J,MAAKqH,UAAU3E,MAAM1C,KAAK2C,KAAK,SAAU4H,UACvC,MAAIvK,MAAK8I,cAAc9I,KAAKuK,UAAWV,SACrC7J,KAAKwK,OAAQD,WACN,IAGF,OAzB8B,GA6BzCvK,KAAKwK,OAAS,SAAUD,UACtB,GAAIE,SAEJA,UAAWzK,KAAKuK,UAEZE,SAAS1D,GAAGC,SAASC,UAEvBjH,KAAKiB,QAAQ,WACbjB,KAAK0K,OAAOH,UAEZE,SAAS3H,SAAS,mBAEb9C,KAAKmB,MAAM,aAAanB,KAAKqH,UAAUe,QAAQzH,MAAM4J,YAE1DvK,KAAKiB,QAAQ,aACbwJ,SAAS3H,SAAS,oBAItB9C,KAAKiB,QAAU,SAAU0J,SACvB,GAAIhJ,IAMJ,OAJAA,KAAM9B,GAAG+B,KAAKC,YAAY7B,KAAM,aAAe2K,SAE3ChJ,KAAKA,IAAIG,OAENH,KAGT3B,KAAK0K,OAAS,SAAUhJ,OACtB,GAAIkJ,GAMJ,OAJAA,IAAK/K,GAAG+B,KAAKC,YAAY7B,KAAM,mBAAqB0B,OAEhDkJ,IAAIA,GAAG9I,OAEJ8I,IAGT5K,KAAKS,GAAG,UAAW,SAAUoK,IACtB7K,KAAK+G,GAAG8D,GAAG7G,SAEZhE,KAAK6G,YACP7G,KAAKwC,KAAK,WAAWmD,YAAY,eL8TjC,SAASrG,OAAQD,SM7dvBQ,GAAGC,KAAKC,UAAU,kBAAmB,WAEnC,QAAS+K,gBAAeC,QACtB,GAAIC,WAAWC,QAASC,QAwBxB,OAtBAF,WAAYD,OAAOI,cAEfJ,OAAOzK,WAAW8H,SACpB6C,QAAUF,OAAOzK,WAAW8H,QAAQgD,MAAM,YAErCH,QAAQI,QAAQC,OAAON,UAAUO,WAChCR,OAAOlE,YAAYkE,OAAO9J,QAAQ,WACtC8J,OAAOjE,YAEPiE,OAAO9J,QAAQ,eAGjBiK,SAAWH,OAAOvI,KAAK,iBAElBmB,EAAE6H,QAAQR,UAAU,GAAIE,WACvBH,OAAOlE,YAAYkE,OAAO9J,QAAQ,WACtC8J,OAAOjE,YAEPiE,OAAO9J,QAAQ,eAIZ,EAGTjB,KAAKiB,QAAU,SAAU0J,SACvB,GAAIhJ,IAMJ,OAJAA,KAAM9B,GAAG+B,KAAKC,YAAY7B,KAAM,aAAe2K,SAE3ChJ,KAAKA,IAAIG,OAENH,KAGT3B,KAAK0K,OAAS,SAAUhJ,OACtB,GAAIkJ,GAMJ,OAJAA,IAAK/K,GAAG+B,KAAKC,YAAY7B,KAAM,mBAAqB0B,OAEhDkJ,IAAIA,GAAG9I,OAEJ8I,IAGT5K,KAAKwK,OAAS,WACZ,GAAIiB,IAEAzL,MAAK+J,OAAO5I,MAAMnB,KAAK+J,OAAO7F,MAAMwH,cAAgB1L,KAAKF,KAAK6L,UAE9D3L,KAAK4L,QACPH,IAAM9H,EAAE3D,KAAK4L,MAAM5H,QAAQ6H,QAAQ,MACnC7L,KAAK0K,OAAOe,IAAIlM,MAEZS,KAAK8L,OAAOL,MACdX,eAAe9K,QAKrBA,KAAKgF,MAAQ,gBNoeT,SAAS1F,OAAQD,SOriBvBQ,GAAGC,KAAKC,UAAU,SAAU,WAE1BC,KAAKS,GAAG,gBAAiB,WAClBT,KAAK+L,UACR/L,KAAK8C,SAAS,eAIlB9C,KAAKgM,KAAO,SAAUC,KACpB,GAAIrB,IAAIW,KAERvL,MAAK2F,YAAY,aACjB3F,KAAK+E,OAEc,gBAARkH,MACTjM,KAAK8L,OAAO,gBAAkBG,IAAM,KACpCjM,KAAKsG,MAAMC,UAAU0F,KAAKnK,QACF,gBAARmK,MACZjM,KAAKiM,OACPjM,KAAK8L,OAAO9L,KAAKiM,MAEbjM,KAAKsG,QACPiF,MAAQvL,KAAKiM,KAAKV,QAClBX,GAAK5K,KAAKsG,MAAMC,UAAU0F,MAAQjM,KAAKsG,MAAMC,UAAUgF,OAEnDX,IAAIA,GAAG9I,aPgjBf,SAASxC,OAAQD,SQzkBvBQ,GAAGC,KAAKC,UAAU,QAAS,WAEzBC,KAAKkM,MAAQ,EAEblM,KAAKC,OAAO,QAAS,WAEnBD,KAAKmM,SAAW,KAEhBnM,KAAKW,MAAQ,WACXX,KAAKmM,SAAWnM,KAAKoM,QAAQC,QAG/BrM,KAAKsM,OAAS,WAEZ,MADAtM,MAAKoM,QAAQC,KAAKrM,KAAKmM,SAASI,QAAQ,YAAavM,KAAKkM,QACnDlM,QAKXA,KAAKwM,MAAQ,WACXxM,KAAKkM,MAAQ,EACblM,KAAKW,SAGPX,KAAKW,MAAQ,WACXX,KAAKQ,KAAK,QAASR,KAAKkM,OACxBlM,KAAKyM,MAAMH,UAGbtM,KAAK0M,GAAK,SAAUC,QAUlB,MATA3M,MAAKkM,OAASS,QAAU,EAExB3M,KAAKQ,KAAK,QAASR,KAAKkM,OACxBlM,KAAKyM,MAAMH,SAEPtM,KAAKkM,OAASlM,KAAKM,WAAWsM,KAChC5M,KAAK8G,WAGA9G,MAGTA,KAAK6M,KAAO,SAAUF,QAUpB,MATA3M,MAAKkM,OAASS,QAAU,EAExB3M,KAAKQ,KAAK,QAASR,KAAKkM,OACxBlM,KAAKyM,MAAMH,SAEPtM,KAAKkM,OAASlM,KAAKM,WAAWsM,KAChC5M,KAAK8G,WAGA9G,SRglBL,SAASV,OAAQD,SSpoBvBQ,GAAGC,KAAKC,UAAU,eAAgB,WAEhCC,KAAKgK,YAAc,WACjB,OAAQhK,KAAK+J,OAAO5I,MAAMnB,KAAK+J,OAAO7F,MAAMwH,aAAe1L,KAAKF,KAAK6L,UAGvE3L,KAAKS,GAAG,QAAS,SAAUsD,QACpB/D,KAAK+G,GAAGhD,OAAOC,UAEhBhE,KAAKmG,aAAa,kBAAoBnG,KAAKoG,eAC7CpG,KAAKoG,cAAc3F,GAAG,WAAYT,KAAK2C,KAAK,WAC1C,GAAIhB,IAEJA,KAAM9B,GAAG+B,KAAKC,YAAY7B,KAAM,iCAE5B2B,KAAKA,IAAIG,UAIb9B,KAAKmB,MAAMnB,KAAKkE,MAAM4I,OAAO9M,KAAKgF,WAGxChF,KAAKwE,KAAO,WACV,GAAID,SAASwI,WAAYC,WAEzB,IAAKhN,KAAKmB,MAAMnB,KAAKkE,MAAM4I,MAI3B,MAFI9M,MAAK6C,SAAS,SAAW7C,KAAK6C,SAAS,aAAa7C,KAAKF,KAAKmN,KAAKC,OAEnElN,OAASA,KAAK+J,WAChB/J,MAAKe,IAAI,2BAIXiM,YAAcnN,GAAG+B,KAAKC,YAAY7B,KAAM,yBAGpCA,KAAKmN,QAAUnN,KAAKmN,OAAOC,aAC7B7I,QAAUvE,KAAKmN,OAAO5I,UACtBwI,WAAaxI,QAAQC,OAEH,MAAduI,aACFxI,QAAUvE,KACV+M,WAAa/M,KAAKqN,WAGpB9I,QAAUvE,KACV+M,WAAa/M,KAAKqN,SAGhBN,aACFxI,QAAQO,QACRiI,WAAWhI,OACPiI,aAAaA,YAAYlL,QAGxBiL,aAGT/M,KAAKsN,KAAO,WACV,GAAI/I,SAASgJ,WAAYP,WAEzB,IAAKhN,KAAKmB,MAAMnB,KAAKkE,MAAM4I,MAE3B,MAAI9M,QAASA,KAAK+J,WAChB/J,MAAKe,IAAI,2BAIXiM,YAAcnN,GAAG+B,KAAKC,YAAY7B,KAAM,yBAGpCA,KAAKmN,QAAUnN,KAAKmN,OAAOC,aAC7B7I,QAAUvE,KAAKmN,OAAO5I,UACtBgJ,WAAahJ,QAAQ+I,OAEH,MAAdC,aACFhJ,QAAUvE,KACVuN,WAAavN,KAAKqN,WAGpB9I,QAAUvE,KACVuN,WAAavN,KAAKqN,SAGhBE,aACFhJ,QAAQiJ,QACRD,WAAWxI,OACPiI,aAAaA,YAAYlL,QAGxByL,aAGTvN,KAAKgF,MAAQ,WAKX,MAJAhF,MAAKyN,aAEDzN,KAAK0G,eAAe,aAAe1G,KAAK2G,SAAS,IAAI3G,KAAK2G,SAAS,GAAG3B,QAEnEhF,MAGTA,KAAKS,GAAG,UAAW,SAAUsD,QACtB/D,KAAK+G,GAAGhD,OAAOC,UAEhBhE,KAAKmF,SACPnF,KAAKgF,QAGFhF,KAAK6G,cACH7G,KAAKoG,eAAkBpG,KAAKmG,aAAa,mBAAqBnG,KAAKoG,cAAcrD,SACpF/C,KAAK8G,WAIL9G,KAAK+J,OAAO2D,UACd1N,KAAK8C,SAAS,WAIlB9C,KAAKS,GAAG,WAAY,SAAUsD,QACxB/D,KAAKmF,SAAWnF,KAAK+G,GAAGhD,OAAOC,SACjChE,KAAKsF,YT6oBL,SAAShG,OAAQD,SUvwBvBQ,GAAGC,KAAKC,UAAU,cAAe,WAG/BC,KAAKS,GAAG,gBAAiB,SAAUsD,QAC5B/D,KAAK+G,GAAGhD,OAAOC,SAChBhE,KAAKmB,MAAMnB,KAAKkE,MAAMC,QACxBnE,KAAK8C,SAAS,eAIlB9C,KAAKS,GAAG,UAAW,SAAUsD,QACtB/D,KAAK+G,GAAGhD,OAAOC,UACpBhE,KAAKF,KAAKgD,SAAS,eACnB9C,KAAK2F,YAAY,aACjB3F,KAAKF,KAAK6N,OAAM,MAGlB3N,KAAKS,GAAG,WAAY,WAClBT,KAAKF,KAAK6F,YAAY,eACtB3F,KAAKF,KAAK8N,WAGZ5N,KAAKiI,KAAO,WACVjI,KAAK8C,SAAS,oBAGhB9C,KAAKkN,KAAO,WACVlN,KAAKF,KAAK+N,QAGZ7N,KAAK8N,OAAS,WACZ9N,KAAK8E,YV+wBH,SAASxF,OAAQD,SW9yBvBQ,GAAGC,KAAKC,UAAU,oBAAqB,WAErCC,KAAKyE,QAAQ,SAAU,SAAUV,QAC/B,GAAIwH,OAAOwC,WAEXxC,OAAQxH,OAAOvC,QACfuM,YAAc/N,KAAKM,WAAW0N,aAAe,UAExCzC,QACHvL,KAAK+N,aAAahK,OAAOa,gBACzB5E,KAAKiO,OAAOjC,KAAKT,OACjBvL,KAAKkO,SAAS9F,QAAQzH,MAAM4K,UAIhCvL,KAAKC,OAAO,aAAc,WAExBD,KAAKmO,aAAe,SAAUC,UAC5B,MAAIA,UAASd,OAAOzK,SAAS7C,KAAKkE,MAAMmK,cAAqC,IAArBD,SAAS7C,SAAiB6C,SAASrH,GAAG,2BACpF/G,KAAK+J,OAAO5I,MAAMnB,KAAKkE,MAAMwH,cAAgB0C,SAASjN,MAAMnB,KAAKkE,MAAMmK,cAG1E,KAKXrO,KAAKW,MAAQ,WACX,GAAIyH,QAEJA,SAAUvI,GAAGyI,MAAMC,SAEnBH,QAAQ3H,GAAG,WAAYT,KAAK2C,KAAK,WAC/B3C,KAAK8G,cAGP9G,KAAKkO,SAAWlO,KACbwC,KAAK,aACLQ,IAAI,SAAUC,QAEb,MADAmF,SAAQS,IAAI5F,QACLA,SAERY,UAEH7D,KAAKkO,SAAS9F,QAAUA,YXkzBtB,SAAS9I,OAAQD,SY91BvBQ,GAAGC,KAAKC,UAAU,aAAc,WAE9BC,KAAKsB,SAAS,SAAU,SAAUgN,SAChC,GAAIC,QAEJ,IAAIvO,KAAK4L,OAGP,GAFA2C,QAAU5K,EAAE3D,KAAK4L,MAAM5H,QAAQ6H,QAAQ,MAEnC7L,KAAKmO,aAAaI,YAAa,EACjC,OACE/M,QAAS+M,QAAQhD,QACjB3G,eAAgB2J,aAIpBvO,MAAKqN,MAAMiB,QAGb,QAAO,IAGTtO,KAAKmO,aAAe,WAClB,QAAKnO,KAAK+J,OAAO5I,MAAMnB,KAAK+J,OAAO7F,MAAMwH,cAAe1L,KAAKF,KAAK6L,cZ02BhE,SAASrM,OAAQD,Sah4BvBQ,GAAGC,KAAKC,UAAU,SAAU,WAE1BC,KAAKmN,OAAS,KAEdnN,KAAKW,MAAQ,WACXX,KAAKmN,OAASnN,KAAKwC,KAAK,OAAOgM,SAGjCxO,KAAKgF,MAAQ,WACX,GAAIT,SAASkK,EAAGC,CAIhB,IAFAnK,QAAUvE,KAAKuE,UAGbA,QAAQS,YACH,IAAIhF,KAAKmN,OAAOpK,OAErB,IADA/C,KAAKmN,OAAO,GAAGpI,OACV0J,EAAI,EAAGC,EAAI1O,KAAKmN,OAAOpK,OAAY2L,EAAJD,EAAOA,IACzCzO,KAAKmN,OAAOsB,IAAMzO,KAAKmN,OAAOsB,GAAGjB,SAKvCxN,KAAKuE,QAAU,WACb,MAAOvE,MAAKwC,KAAK,WAAWgM,SAM9BxO,KAAKwE,KAAO,WACV,GAAI+G,OAAOoD,UAAW3B,WAEtB,OAAKhN,MAAK4O,aAEV5B,YAAcnN,GAAG+B,KAAKC,YAAY7B,KAAM,yBACxCuL,MAAQvL,KAAKmN,OAAO9B,QAAQrL,OACvBuL,MAAcvL,KAAKmN,OAAO5B,MAAQ,KAGlCA,QAAOoD,UAAY3O,KAAKmN,OAAO5B,MAAQ,IAExCoD,WACF3O,KAAK8E,QACL6J,UAAU5J,OAENiI,aAAaA,YAAYlL,OAEtB6M,WAEA3O,KAAKqN,WAjBgB,GAwBhCrN,KAAKsN,KAAO,WACV,GAAI/B,OAAOsD,UAAW7B,WAItB,OAFAA,aAAcnN,GAAG+B,KAAKC,YAAY7B,KAAM,yBACxCuL,MAAQvL,KAAKmN,OAAO9B,QAAQrL,OACvBuL,MAAcvL,KAAKmN,OAAO5B,MAAQ,KAGlCA,QAAOsD,UAAY7O,KAAKmN,OAAO5B,MAAQ,IAExCsD,WACF7O,KAAKwN,QACLqB,UAAU9J,OAENiI,aAAaA,YAAYlL,OAEtB+M,WAEA7O,KAAKqN,abu4BZ,SAAS/N,OAAQD,Scl9BvBQ,GAAGC,KAAKC,UAAU,QAAS,WAEzBC,KAAKgF,MAAQ,WACXhF,KAAKqN,QACLrN,KAAK8O,aAGP9O,KAAK8O,UAAY,WACf9O,KAAK+O,MAAMjM,SAAS,YAAc9C,KAAK+O,MAAMvO,KAAK,iBAClDR,KAAK8G,ed09BH,SAASxH,OAAQD,Sen+BvBQ,GAAGC,KAAK2G,QACNuI,eAAgB,UAChBC,mBAAoB,cACpBC,YACE1G,MAAO,IACP2G,MAAO,GAAK,GAEdC,2BAA2B,Kf0+BvB,SAAS9P,OAAQD,QAASH,qBAO/BA,oBgBp/BM,IhBs/BNA,oBgBp/BM,IhBs/BNA,oBgBr/BM,GhBu/BNA,oBgBt/BM,GhBw/BNA,oBgBv/BM,GhBy/BNA,oBgBx/BM,GhB0/BNA,oBgBz/BM,GhB2/BNA,oBgB1/BM,GhB4/BNA,oBgB3/BM,GhB6/BNA,oBgB5/BM,GhB8/BNA,oBgB7/BM,GhB+/BNA,oBgB9/BM,IhBggCNA,oBgB//BM,IhBigCNA,oBgBhgCM,IhBkgCNA,oBgBjgCM,IhBmgCNA,oBgBjgCM,IhBmgCNA,oBgBlgCM,IAEPW,GAAGC,KAAK,aAAc,WAEpB,GAAIuP,qBAAsB,QAAtBA,uBACFrP,KAAKS,GAAG,UAAW,SAAUoK,IACtB7K,KAAK+G,GAAG8D,GAAG7G,SAEZhE,KAAK6G,YAAY7G,KAAKsP,SAAStP,KAAKwC,KAAK,IAAMxC,KAAKkE,MAAMqL,aAIlEvP,MAAK+J,OAAO,QAAS,WACnB/J,KAAKS,GAAG,QAAS,SAAUsD,QACpB/D,KAAK+G,GAAGhD,OAAOC,SAEhBhE,KAAKF,KAAK0P,UAAUrO,MAAMnB,KAAKkE,MAAMuL,QAAQzP,KAAKF,KAAK0P,UAAUE,WAGvE1P,KAAKyN,WAAa,WAChBzN,KAAK2P,MAAMrJ,MAAME,WAAW1E,OAC5B9B,KAAK2P,MAAMrJ,MAAMC,UAAUzE,QAG7B9B,KAAK4P,UAAY,WACf5P,KAAK2P,MAAMrJ,MAAMC,UAAUjB,KAAK,WAIpCtF,KAAK+J,OAAO,aAAc,WACxB/J,KAAKS,GAAG,UAAW,SAAUoK,IACtB7K,KAAKmN,OAAO0C,GAAG9I,GAAG8D,GAAG7G,SAEtBhE,KAAK6G,YAAY7G,KAAKsP,SAAStP,KAAKwC,KAAK,IAAMxC,KAAKkE,MAAMqL,eAIlEvP,KAAK+J,OAAO,QAAS,WAEnB/J,KAAKgF,MAAQ,WACXhF,KAAKqN,QACLrN,KAAK8P,SAAS9K,SAGhBhF,KAAKsF,KAAO,WACVtF,KAAK8P,SAASxK,QAGhBtF,KAAKS,GAAG,YAAa,SAAUsD,QACzBA,OAAO6C,cAAgB5G,KAAKiO,QAC9BjO,KAAKiO,OAAOhJ,MAAM,KAAM,WACtB,GAAI+F,UAEJA,WAAYhL,KAAKmL,cAEjBnL,KAAKwN,QACLxC,UACGlI,SAAS,uBACTrC,GAAG,eAAgB,WAClBuK,UAAUrF,YAAY,cACtBqF,UAAUlK,YAOpBd,KAAKS,GAAG,UAAW,SAAUsD,QACtB/D,KAAK+G,GAAGhD,OAAOC,SAEhBhE,KAAK6G,YAAY7G,KAAK+P,MAAMvD,UAGlCxM,KAAKmB,MAAM,aAAc,aACvB6O,QAAS,QAAAA,WACPhQ,KAAK6G,YAAa,KAItB7G,KAAKyE,QAAQ,MAAO,SAAUV,QACxBA,OAAOvC,UAAYuC,OAAOa,eAAerF,MAC3CS,KAAK+P,MAAMrD,KACX1M,KAAKiB,QAAQ,YAEbjB,KAAKiB,QAAQ,aAGfjB,KAAKiO,OAAOjC,KAAKjI,OAAOa,eAAerF,QAGzCS,KAAKyE,QAAQ,OAAQ,WACnBzE,KAAKK,OAAOE,KAAKW,WAGnBlB,KAAKiB,QAAU,SAAUS,OACvB,GAAIC,IAMJ,OAJAA,KAAM9B,GAAG+B,KAAKC,YAAY7B,KAAM,aAAe0B,OAE3CC,KAAKA,IAAIG,OAEN9B,QAKXA,KAAK+J,OAAO,mBAAoBsF,qBAChCrP,KAAK+J,OAAO,wBAAyBsF,qBACrCrP,KAAK+J,OAAO,wBAAyBsF,qBAErCrP,KAAK+J,OAAO,sBAAuB,WACjC/J,KAAKS,GAAG,UAAW,SAAUoK,IACtB7K,KAAK+G,GAAG8D,GAAG7G,SAEhBhE,KAAKiQ,YAAYjQ,KAAKwC,KAAK,IAAMxC,KAAKkE,MAAMmK,gBAG9CrO,KAAKyE,QAAQ,SAAU,SAAUV,QAC/B,GAAIxE,IAAKwE,OAAOvC,OAEZjC,MACFS,KAAKkQ,UAAUnM,OAAOa,gBACtB5E,KAAKsG,MAAMC,UAAUhH,IAAIuC,YA0B/B9B,KAAK+J,OAAO,OAAQ,WAElB/J,KAAK8G,SAAW,WACd,GAAIqJ,gBAAkB,OAAQnQ,KAAKF,KAAKP,KAAMS,KAAKT,KAAO,KAAOS,KAAKuL,QAAU,GAAK,KAAMrF,KAAK,IAShG,OAPAkK,IAAG,OAAQ,QAASD,cAAe,YAEnCtQ,GAAGC,KAAKuQ,QAAQ1M,EAAE2M,MAAM,kBACtBC,KAAM,OACNC,UAAWjR,GAAIS,KAAKF,KAAKP,SAGpBS,KAAKqN,WAKhBrN,KAAK6N,KAAO,WACV,GAAI9D,QAAQoG,aAOZ,OALApG,QAAS/J,KAAKyQ,QAAQ5Q,GAAGC,KAAK2G,OAAO,kBAAoB,oBAAoB+H,QAC7E2B,eAAkB,OAAQnQ,KAAKT,KAAMwK,OAAOxK,KAAO,KAAOwK,OAAOwB,QAAU,GAAK,KAAMrF,KAAK,KAE3FkK,GAAG,OAAQ,QAASD,cAAe,QAE5BnQ,KAAKqN,YhBmgCV,SAAS/N,OAAQD,UiBtsCvB,SAAUoP,EAAEiC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEpR,GAAG+O,EAAyB,sBAAEoC,EAAEpC,EAAEoC,GAAGpC,EAAEoC,IAAI,YAChEpC,EAAEoC,GAAGE,EAAEtC,EAAEoC,GAAGE,OAAOlL,KAAKmL,YAAYvC,EAAEoC,GAAGI,EAAE,EAAE,GAAIC,MAAOJ,EAAEJ,EAAExI,cAAcyI,GAC3EjR,EAAEgR,EAAES,qBAAqBR,GAAG,GAAGG,EAAEM,MAAM,EAAEN,EAAEjQ,IAAI+P,EAAElR,EAAE2R,WAAWC,aAAaR,EAAEpR,IAC1E6R,OAAO9N,SAAS,SAAS,0CAA0C,MAEtE2M,GAAG,SAAU,gBAAiB,QAC9BA,GAAG,OAAQ,ajB6sCL,SAAS9Q,OAAQD,SkBntCvBQ,GAAGC,KAAKC,UAAU,oBAAqB,WAEtCC,KAAKS,GAAG,QAAS,SAAUoK,IACtB7K,KAAK+G,GAAG8D,GAAG7G,SAEZhE,KAAKF,MAAQE,KAAKF,KAAK6P,MAAMxO,MAAMnB,KAAKkE,MAAMuL,QAChDzP,KAAK0P,WAIP1P,KAAK0P,OAAS,WACb1P,KAAKwN,MAAMxN,KAAKF,KAAK0R,QAElBxR,KAAKF,KAAK+C,SAAS,QACrB7C,KAAK+E,OACL/E,KAAKO,KAAK0E,MAAM,EAAGjF,KAAKO,KAAKwE,OAE7B/E,KAAKF,KAAK6P,MAAM5K,QAIlB/E,KAAKwE,KAAO,WACX,GAAIuI,YAAa/M,KAAKqN,OAQtB,OANIN,cACH/M,KAAK+J,OAAOjF,QACZiI,WAAWhI,OACX/E,KAAKF,KAAKwG,MAAM3E,IAAI8P,OAAO3P,QAGrBiL,YAGR/M,KAAK8G,SAAW,WAEf,MADA9G,MAAKF,KAAKwG,MAAM3E,IAAIG,KAAK,kBAClB9B,KAAKqN,SAGbrN,KAAK0R,UAAY,WACZ1R,KAAK6C,SAAS,cAClB7C,KAAKF,KAAKgD,SAAS,WACnB9C,KAAKiF,MAAM,OAAQ,WAClBjF,KAAKwE,WAIPxE,KAAKS,GAAG,eAAgB,SAASoK,IAC5B7K,KAAKO,KAAKwG,GAAG8D,GAAG7G,SACpBhE,KAAK8C,SAAS,iBlB2tCV,SAASxD,OAAQD,UmB3wCvB,QAAUqK,MAAMiI,MACXJ,OAAOK,SAAWL,OACrBA,OAAOM,SAASC,KAAO,oCAEvBrO,SAASsO,OAAS","file":"polar-bear/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(15);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tpl.game.component('cannon', function () {\n\t\n\t  this.entity('ball', function () {\n\t\n\t    this.reloadRequest = false;\n\t    this.isLaunchComplete = false;\n\t\n\t    this.willInit = function () {\n\t      if (this.cannon.properties.ball) {\n\t        this.attr('src', this.cannon.properties.ball);\n\t        // I shouldn't have to do this\n\t        this.on('load', function () {\n\t          this.assetQueue.ready(this.node().src);\n\t          this.off('load');\n\t        });\n\t      }\n\t    };\n\t\n\t    this.on('transitionend', function () {\n\t      this.log('transitionend');\n\t\n\t      this.isLaunchComplete = true;\n\t\n\t      if (this.launched()) {\n\t        this.playSFX('hit');\n\t\n\t        if (this.reloadRequest) {\n\t          this.reload();\n\t        }\n\t      }\n\t    });\n\t\n\t    this.state('launch launched', '+LAUNCHED -RELOAD', {\n\t      didSet: function didSet() {\n\t        this.playSFX('fire');\n\t        this.isLaunchComplete = false;\n\t      }\n\t    });\n\t\n\t    this.state('reload', '+RELOAD -LAUNCHED', {\n\t      shouldSet: function shouldSet() {\n\t        if (!this.isLaunchComplete) {\n\t          this.reloadRequest = true;\n\t          return false;\n\t        }\n\t      },\n\t\n\t      didSet: function didSet() {\n\t        this.reloadRequest = false;\n\t      }\n\t    });\n\t  });\n\t\n\t  this.behavior('fire', function () {\n\t    this.ball.launch();\n\t    return {\n\t      message: this.cannon.properties.fire\n\t    };\n\t  });\n\t\n\t  this.reload = function () {\n\t    this.ball.reload();\n\t  };\n\t\n\t  this.playSFX = function (_name) {\n\t    var sfx;\n\t\n\t    sfx = pl.util.resolvePath(this, 'audio.sfx.' + _name);\n\t\n\t    if (sfx) sfx.play();\n\t\n\t    return this;\n\t  };\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('carousel', function () {\n\t\n\t  this.TYPE = (function () {\n\t\n\t    this.SLIDE = 'slide';\n\t    this.CROSS_FADE = 'cross-fade';\n\t\n\t    return this;\n\t  }).call(['slide', 'cross-fade']);\n\t\n\t  this.type = null;\n\t  this.$images = null;\n\t  this.nodes = null;\n\t  this.shouldRandomize = false;\n\t  this.isPlaying = false;\n\t  this.hitTarget = null;\n\t\n\t  this.ready = function () {\n\t    this.$images = this.find('img');\n\t    this.shouldRandomize = this.properties.has('randomize');\n\t\n\t    if (this.TYPE.every(this.bind(function (_type) {\n\t      return !this.hasClass(_type);\n\t    }))) {\n\t      this.addClass(this.TYPE.CROSS_FADE);\n\t    }\n\t\n\t    if (this.$images.length) {\n\t      this.nodes = this.$images.map(this.bind(function (_index, _node) {\n\t        var siblings;\n\t\n\t        siblings = [_node.previousSibling, _node.nextSibling];\n\t\n\t        siblings.forEach(function (_n) {\n\t          if (_n.nodeType === document.TEXT_NODE) {\n\t            $(_n).remove();\n\t          }\n\t        });\n\t\n\t        return _node;\n\t      })).toArray();\n\t    }\n\t\n\t    this.TYPE.forEach(this.bind(function (_item) {\n\t      if (this.hasClass(_item)) this.type = _item;\n\t    }));\n\t\n\t    this.on('transitionend', function (_event) {\n\t      if (_event.target.nodeName === 'IMG' && $(_event.target).state(this.STATE.LEAVE)) {\n\t        this.recycle();\n\t      }\n\t    });\n\t  };\n\t\n\t  this.provideBehaviorTarget = function () {\n\t    return this.properties.targetNext ? this.current().next() : this.current();\n\t  };\n\t\n\t  this.respond('fire', function (_event) {\n\t    this.hit(_event.message);\n\t  });\n\t\n\t  this.behavior('hit', function (_message) {\n\t    return {\n\t      message: _message,\n\t      behaviorTarget: this.provideBehaviorTarget()\n\t    };\n\t  });\n\t\n\t  this.behavior('next', function () {\n\t    var current;\n\t\n\t    current = this.$images.first();\n\t\n\t    this.leave(current);\n\t    this.open(current.next());\n\t  });\n\t\n\t  this.start = function () {\n\t    var delay;\n\t\n\t    delay = pl.util.toMillisec(this.properties.delay) || 1000;\n\t\n\t    if (this.isReady && !this.isPlaying) {\n\t      this.isPlaying = true;\n\t      this.open(this.$images.first());\n\t      this.repeat(delay, this.next);\n\t    } else {\n\t      this.on('ready', this.beginShow);\n\t    }\n\t  };\n\t\n\t  this.stop = function () {\n\t    this.kill('repeat');\n\t    this.isPlaying = false;\n\t  };\n\t\n\t  this.current = function () {\n\t    return this.$images.filter('.OPEN');\n\t  };\n\t\n\t  this.recycle = function () {\n\t    var $current, reload;\n\t\n\t    $current = this.$images.first();\n\t    reload = this.reloadWithNode(this.$images[0]);\n\t\n\t    $current.removeClass(this.STATE.LEAVE);\n\t    $current.remove();\n\t\n\t    [].shift.call(this.$images);\n\t\n\t    this.$images.push(reload);\n\t    this.append(reload);\n\t\n\t    return this;\n\t  };\n\t\n\t  this.reloadWithNode = function (_item) {\n\t    var $clone, state;\n\t\n\t    if (this.shouldRandomize) {\n\t      $clone = $(pl.util.random(this.nodes)).clone();\n\t      state = $clone.state();\n\t\n\t      if (state) $clone.removeClass(state.join ? state.join(' ') : state);\n\t\n\t      return $clone[0];\n\t    }\n\t\n\t    return _item;\n\t  };\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tpl.game.component('frame', function () {\n\t\n\t  this.ready = function () {\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) sfx.play();\n\t      }));\n\t    }\n\t  };\n\t\n\t  this.start = function () {\n\t    var voSound;\n\t\n\t    if (this.audio) {\n\t      voSound = this.audio.voiceOver[0];\n\t\n\t      this.audio.background.play();\n\t      if (voSound && !voSound.config('dontautoplay')) voSound.play();\n\t    }\n\t\n\t    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t    return this;\n\t  };\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (this.isReady) {\n\t      this.start();\n\t    }\n\t\n\t    if (this === _event.targetScope) {\n\t      if (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && this.requiredQueue && this.requiredQueue.length)) {\n\t        this.complete();\n\t      }\n\t    }\n\t  });\n\t\n\t  this.on('ui-close', function (_event) {\n\t    if (this.isReady && this.is(_event.target)) {\n\t      this.stop();\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('map', function () {\n\t\n\t  var SELECTOR;\n\t\n\t  SELECTOR = {\n\t    CORRECT: '[pl-correct]',\n\t    INCORRECT: '[pl-incorrect]'\n\t  };\n\t\n\t  this.buffer = null;\n\t  this.bctx = null;\n\t  this.countries = null;\n\t\n\t  // images\n\t  this.grayMap = null;\n\t  this.iceland = null;\n\t  this.russia = null;\n\t  this.northPole = null;\n\t  this.greenland = null;\n\t  this.denmark = null;\n\t  this.norway = null;\n\t  this.canada = null;\n\t  this.usa = null;\n\t  this.sweden = null;\n\t  this.finland = null;\n\t\n\t  this.init = function () {\n\t    this.buffer = document.createElement('canvas');\n\t    this.bctx = this.buffer.getContext('2d');\n\t  };\n\t\n\t  this.ready = function () {\n\t    var correct, $countries;\n\t\n\t    correct = pl.Queue.create();\n\t\n\t    correct.on('complete', this.bind(function () {\n\t      var sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t      if (sfx) sfx.play();\n\t      this.complete();\n\t    }));\n\t\n\t    this.buffer.width = 500;\n\t    this.buffer.height = 500;\n\t\n\t    $countries = this.find('.country');\n\t\n\t    $countries.not(SELECTOR.CORRECT).on('animationend', function () {\n\t      $(this).removeClass('flash').addClass('fadeIn');\n\t    });\n\t\n\t    this.countries = $countries.map(function (_index, _node) {\n\t      var $node, id;\n\t\n\t      $node = $(_node);\n\t      id = pl.util.transformId($node.id(), true);\n\t\n\t      if ($node.is(SELECTOR.CORRECT)) correct.add(id);\n\t\n\t      return id;\n\t    }).toArray();\n\t\n\t    this.countries.correct = correct;\n\t  };\n\t\n\t  this.isImageTarget = function (_image, _point) {\n\t    var pixel;\n\t\n\t    this.bctx.clearRect(0, 0, this.buffer.width, this.buffer.height);\n\t    this.bctx.drawImage(_image[0], 0, 0, _image.width(), _image.height());\n\t    pixel = this.bctx.getImageData(_point.x, _point.y, 1, 1);\n\t\n\t    this.bctx.fillStyle = 'white';\n\t    this.bctx.fillRect(_point.x, _point.y, 5, 5);\n\t\n\t    // opaque pixel\n\t    return pixel.data[3] > 0;\n\t  };\n\t\n\t  this.test = function (_cursor) {\n\t    var offset, cursor, gameScale;\n\t\n\t    if (!this.screen.allowAction()) return false;\n\t\n\t    offset = this.grayMap.absolutePosition();\n\t    gameScale = this.game.transformScale().x;\n\t\n\t    // FireFox uses transfom scale which\n\t    // does NOT produce scaled DOM values like `zoom`.\n\t    if (gameScale !== 1) {\n\t      cursor = _cursor.dec(offset).scale(1 / this.game.zoom).math('floor');\n\t    } else {\n\t      cursor = _cursor.scale(1 / this.game.zoom).math('floor').dec(offset);\n\t    }\n\t\n\t    this.countries.every(this.bind(function (_country) {\n\t      if (this.isImageTarget(this[_country], cursor)) {\n\t        this.answer(_country);\n\t        return false;\n\t      }\n\t\n\t      return true;\n\t    }));\n\t  };\n\t\n\t  this.answer = function (_country) {\n\t    var $country;\n\t\n\t    $country = this[_country];\n\t\n\t    if ($country.is(SELECTOR.CORRECT)) {\n\t\n\t      this.playSFX('correct');\n\t      this.playVO(_country);\n\t\n\t      $country.addClass('animated fadeIn');\n\t\n\t      if (!this.state('COMPLETE')) this.countries.correct.ready(_country);\n\t    } else {\n\t      this.playSFX('incorrect');\n\t      $country.addClass('animated flash');\n\t    }\n\t  };\n\t\n\t  this.playSFX = function (_answer) {\n\t    var sfx;\n\t\n\t    sfx = pl.util.resolvePath(this, 'audio.sfx.' + _answer);\n\t\n\t    if (sfx) sfx.play();\n\t\n\t    return sfx;\n\t  };\n\t\n\t  this.playVO = function (_name) {\n\t    var vo;\n\t\n\t    vo = pl.util.resolvePath(this, 'audio.voiceOver.' + _name);\n\t\n\t    if (vo) vo.play();\n\t\n\t    return vo;\n\t  };\n\t\n\t  this.on('ui-open', function (_e) {\n\t    if (!this.is(_e.target)) return;\n\t\n\t    if (this.isComplete) {\n\t      this.find('.fadeIn').removeClass('fadeIn');\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t  function validateAnswer(_scope) {\n\t    var $selected, answers, $correct;\n\t\n\t    $selected = _scope.getSelected();\n\t\n\t    if (_scope.properties.correct) {\n\t      answers = _scope.properties.correct.split(/\\s*,\\s*/);\n\t\n\t      if (~answers.indexOf(String($selected.index()))) {\n\t        if (_scope.isComplete) _scope.playSFX('correct');\n\t        _scope.complete();\n\t      } else {\n\t        _scope.playSFX('incorrect');\n\t      }\n\t    } else {\n\t      $correct = _scope.find('[pl-correct]');\n\t\n\t      if (~$.inArray($selected[0], $correct)) {\n\t        if (_scope.isComplete) _scope.playSFX('correct');\n\t        _scope.complete();\n\t      } else {\n\t        _scope.playSFX('incorrect');\n\t      }\n\t    }\n\t\n\t    return false;\n\t  }\n\t\n\t  this.playSFX = function (_answer) {\n\t    var sfx;\n\t\n\t    sfx = pl.util.resolvePath(this, 'audio.sfx.' + _answer);\n\t\n\t    if (sfx) sfx.play();\n\t\n\t    return sfx;\n\t  };\n\t\n\t  this.playVO = function (_name) {\n\t    var vo;\n\t\n\t    vo = pl.util.resolvePath(this, 'audio.voiceOver.' + _name);\n\t\n\t    if (vo) vo.play();\n\t\n\t    return vo;\n\t  };\n\t\n\t  this.answer = function () {\n\t    var $li;\n\t\n\t    if (this.screen.state(this.screen.STATE.VOICE_OVER) && !this.game.demoMode) return;\n\t\n\t    if (this.event) {\n\t      $li = $(this.event.target).closest('li');\n\t      this.playVO($li.id());\n\t\n\t      if (this.select($li)) {\n\t        validateAnswer(this);\n\t      }\n\t    }\n\t  };\n\t\n\t  this.start = function () {};\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t  this.on('transitionend', function () {\n\t    if (!this.opened()) {\n\t      this.addClass('ANIM-DONE');\n\t    }\n\t  });\n\t\n\t  this.item = function (_id) {\n\t    var vo, index;\n\t\n\t    this.removeClass('ANIM-DONE');\n\t    this.open();\n\t\n\t    if (typeof _id === 'number') {\n\t      this.select('li:nth-child(' + _id + ')');\n\t      this.audio.voiceOver[_id].play();\n\t    } else if (typeof _id === 'string') {\n\t      if (this[_id]) {\n\t        this.select(this[_id]);\n\t\n\t        if (this.audio) {\n\t          index = this[_id].index();\n\t          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t          if (vo) vo.play();\n\t        }\n\t      }\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('score', function () {\n\t\n\t  this.value = 0;\n\t\n\t  this.entity('board', function () {\n\t\n\t    this.template = null;\n\t\n\t    this.ready = function () {\n\t      this.template = this.counter.html();\n\t    };\n\t\n\t    this.render = function () {\n\t      this.counter.html(this.template.replace('{{score}}', this.value));\n\t      return this;\n\t    };\n\t  });\n\t\n\t  this.reset = function () {\n\t    this.value = 0;\n\t    this.ready();\n\t  };\n\t\n\t  this.ready = function () {\n\t    this.attr('value', this.value);\n\t    this.board.render();\n\t  };\n\t\n\t  this.up = function (_count) {\n\t    this.value += _count || 1;\n\t\n\t    this.attr('value', this.value);\n\t    this.board.render();\n\t\n\t    if (this.value >= this.properties.max) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t\n\t  this.down = function (_count) {\n\t    this.value -= _count || 1;\n\t\n\t    this.attr('value', this.value);\n\t    this.board.render();\n\t\n\t    if (this.value >= this.properties.max) {\n\t      this.complete();\n\t    }\n\t\n\t    return this;\n\t  };\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\n\t  this.allowAction = function () {\n\t    return !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t  };\n\t\n\t  this.on('ready', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t\n\t    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t      this.requiredQueue.on('complete', this.bind(function () {\n\t        var sfx;\n\t\n\t        sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t        if (sfx) sfx.play();\n\t      }));\n\t    }\n\t\n\t    if (this.state(this.STATE.OPEN)) this.start();\n\t  });\n\t\n\t  this.next = function () {\n\t    var current, nextScreen, buttonSound;\n\t\n\t    if (!this.state(this.STATE.OPEN)) return;\n\t\n\t    if (this.hasClass('last') && this.hasClass('COMPLETE')) this.game.quit.okay();\n\t\n\t    if (this !== this.screen) {\n\t      this.log('Not called on a screen');\n\t      return;\n\t    }\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    // delegate to a child \"slides\" component.\n\t    if (this.slides && this.slides.isComponent) {\n\t      current = this.slides.current();\n\t      nextScreen = current.next();\n\t\n\t      if (nextScreen == null) {\n\t        current = this;\n\t        nextScreen = this.proto();\n\t      }\n\t    } else {\n\t      current = this;\n\t      nextScreen = this.proto();\n\t    }\n\t\n\t    if (nextScreen) {\n\t      current.leave();\n\t      nextScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return nextScreen;\n\t  };\n\t\n\t  this.prev = function () {\n\t    var current, prevScreen, buttonSound;\n\t\n\t    if (!this.state(this.STATE.OPEN)) return;\n\t\n\t    if (this !== this.screen) {\n\t      this.log('Not called on a screen');\n\t      return;\n\t    }\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t    // delegate to a child \"slides\" component.\n\t    if (this.slides && this.slides.isComponent) {\n\t      current = this.slides.current();\n\t      prevScreen = current.prev();\n\t\n\t      if (prevScreen == null) {\n\t        current = this;\n\t        prevScreen = this.proto();\n\t      }\n\t    } else {\n\t      current = this;\n\t      prevScreen = this.proto();\n\t    }\n\t\n\t    if (prevScreen) {\n\t      current.close();\n\t      prevScreen.open();\n\t      if (buttonSound) buttonSound.play();\n\t    }\n\t\n\t    return prevScreen;\n\t  };\n\t\n\t  this.start = function () {\n\t    this.startAudio();\n\t\n\t    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t    return this;\n\t  };\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t\n\t    if (this.isReady) {\n\t      this.start();\n\t    }\n\t\n\t    if (!this.isComplete) {\n\t      if (!this.requiredQueue || this.isMemberSafe('requiredQueue') && !this.requiredQueue.length) {\n\t        this.complete();\n\t      }\n\t    }\n\t\n\t    if (this.screen.isLast()) {\n\t      this.addClass('last');\n\t    }\n\t  });\n\t\n\t  this.on('ui-close', function (_event) {\n\t    if (this.isReady && this.is(_event.target)) {\n\t      this.stop();\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t  // TODO: Make an automated way to handle this\n\t  this.on('transitionend', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    if (this.state(this.STATE.LEAVE)) {\n\t      this.addClass('LEAVE-END');\n\t    }\n\t  });\n\t\n\t  this.on('ui-open', function (_event) {\n\t    if (!this.is(_event.target)) return;\n\t    this.game.addClass('QUIT-SCREEN');\n\t    this.removeClass('LEAVE-END');\n\t    this.game.pause(true);\n\t  });\n\t\n\t  this.on('ui-leave', function () {\n\t    this.game.removeClass('QUIT-SCREEN');\n\t    this.game.resume();\n\t  });\n\t\n\t  this.init = function () {\n\t    this.addClass('LEAVE LEAVE-END');\n\t  };\n\t\n\t  this.okay = function () {\n\t    this.game.exit();\n\t  };\n\t\n\t  this.cancel = function () {\n\t    this.leave();\n\t  };\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable-reveal', function () {\n\t\n\t  this.respond('select', function (_event) {\n\t    var index, stateMethod;\n\t\n\t    index = _event.message;\n\t    stateMethod = this.properties.selectState || 'select';\n\t\n\t    if (~index) {\n\t      this[stateMethod](_event.behaviorTarget);\n\t      this.reveal.item(index);\n\t      this.features.correct.ready(index);\n\t    }\n\t  });\n\t\n\t  this.entity('selectable', function () {\n\t\n\t    this.shouldSelect = function (_$target) {\n\t      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0 || _$target.is('[pl-always-selectable]')) {\n\t        return !this.screen.state(this.STATE.VOICE_OVER) && !_$target.state(this.STATE.HIGHLIGHTED);\n\t      }\n\t\n\t      return false;\n\t    };\n\t  });\n\t\n\t  this.ready = function () {\n\t    var correct;\n\t\n\t    correct = pl.Queue.create();\n\t\n\t    correct.on('complete', this.bind(function () {\n\t      this.complete();\n\t    }));\n\t\n\t    this.features = this.find('.items li').map(function (_index) {\n\t      correct.add(_index);\n\t      return _index;\n\t    }).toArray();\n\t\n\t    this.features.correct = correct;\n\t  };\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t  this.behavior('select', function (_target) {\n\t    var $target;\n\t\n\t    if (this.event) {\n\t      $target = $(this.event.target).closest('li');\n\t\n\t      if (this.shouldSelect($target) !== false) {\n\t        return {\n\t          message: $target.index(),\n\t          behaviorTarget: $target\n\t        };\n\t      }\n\t    } else {\n\t      this.proto(_target);\n\t    }\n\t\n\t    return false;\n\t  });\n\t\n\t  this.shouldSelect = function () {\n\t    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t      return true;\n\t    }\n\t\n\t    return false;\n\t  };\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tpl.game.component('slides', function () {\n\t\n\t  this.slides = null;\n\t\n\t  this.ready = function () {\n\t    this.slides = this.find('> *').scope();\n\t  };\n\t\n\t  this.start = function () {\n\t    var current, i, n;\n\t\n\t    current = this.current();\n\t\n\t    if (current) {\n\t      current.start();\n\t    } else if (this.slides.length) {\n\t      this.slides[0].open();\n\t      for (i = 1, n = this.slides.length; i < n; i++) {\n\t        this.slides[i] && this.slides[i].close();\n\t      }\n\t    }\n\t  };\n\t\n\t  this.current = function () {\n\t    return this.find('> .OPEN').scope();\n\t  };\n\t\n\t  /*\n\t   * @this {frame-component-scope} called by the next button in a frame component.\n\t   */\n\t  this.next = function () {\n\t    var index, nextSlide, buttonSound;\n\t\n\t    if (!this.completed()) return false;\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    index = this.slides.indexOf(this);\n\t    if (~index) return this.slides[index + 1];\n\t\n\t    if (~index) nextSlide = this.slides[index + 1];\n\t\n\t    if (nextSlide) {\n\t      this.leave();\n\t      nextSlide.open();\n\t\n\t      if (buttonSound) buttonSound.play();\n\t\n\t      return nextSlide;\n\t    } else {\n\t      return this.proto();\n\t    }\n\t  };\n\t\n\t  /*\n\t   * @this {frame-component-scope} called by the next button in a frame component.\n\t   */\n\t  this.prev = function () {\n\t    var index, prevSlide, buttonSound;\n\t\n\t    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t    index = this.slides.indexOf(this);\n\t    if (~index) return this.slides[index - 1];\n\t\n\t    if (~index) prevSlide = this.slides[index - 1];\n\t\n\t    if (prevSlide) {\n\t      this.close();\n\t      prevSlide.open();\n\t\n\t      if (buttonSound) buttonSound.play();\n\t\n\t      return prevSlide;\n\t    } else {\n\t      return this.proto();\n\t    }\n\t  };\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tpl.game.component('title', function () {\n\t\n\t  this.start = function () {\n\t    this.proto();\n\t    this.showTitle();\n\t  };\n\t\n\t  this.showTitle = function () {\n\t    this.image.addClass('animated ' + this.image.attr('pl-animation'));\n\t    this.complete();\n\t  };\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t  screenSelector: '.screen',\n\t  componentDirectory: 'components/',\n\t  dimensions: {\n\t    width: 960,\n\t    ratio: 16 / 9\n\t  },\n\t  shouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t\n\t__webpack_require__(14);\n\t\n\t__webpack_require__(17);\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(12);\n\t\n\t__webpack_require__(13);\n\t\n\t__webpack_require__(18);\n\t\n\t__webpack_require__(16);\n\t\n\tpl.game('polar-bear', function () {\n\t\n\t  var resetMultipleChoice = function resetMultipleChoice() {\n\t    this.on('ui-open', function (_e) {\n\t      if (!this.is(_e.target)) return;\n\t\n\t      if (this.isComplete) this.deselect(this.find('.' + this.STATE.SELECTED));\n\t    });\n\t  };\n\t\n\t  this.screen('title', function () {\n\t    this.on('ready', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t\n\t      if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t    });\n\t\n\t    this.startAudio = function () {\n\t      this.title.audio.background.play();\n\t      this.title.audio.voiceOver.play();\n\t    };\n\t\n\t    this.stopAudio = function () {\n\t      this.title.audio.voiceOver.stop('@ALL');\n\t    };\n\t  });\n\t\n\t  this.screen('what-color', function () {\n\t    this.on('ui-open', function (_e) {\n\t      if (!this.slides.mc.is(_e.target)) return;\n\t\n\t      if (this.isComplete) this.deselect(this.find('.' + this.STATE.SELECTED));\n\t    });\n\t  });\n\t\n\t  this.screen('bears', function () {\n\t\n\t    this.start = function () {\n\t      this.proto();\n\t      this.carousel.start();\n\t    };\n\t\n\t    this.stop = function () {\n\t      this.carousel.stop();\n\t    };\n\t\n\t    this.on('ui-select', function (_event) {\n\t      if (_event.targetScope === this.reveal) {\n\t        this.reveal.delay('1s', function () {\n\t          var $selected;\n\t\n\t          $selected = this.getSelected();\n\t\n\t          this.close();\n\t          $selected.addClass('animated slideOutUp').on('animationend', function () {\n\t            $selected.removeClass('slideOutUp');\n\t            $selected.off();\n\t          });\n\t        });\n\t      }\n\t    });\n\t\n\t    this.on('ui-open', function (_event) {\n\t      if (!this.is(_event.target)) return;\n\t\n\t      if (this.isComplete) this.score.reset();\n\t    });\n\t\n\t    this.state('incomplete', '-COMPLETE', {\n\t      willSet: function willSet() {\n\t        this.isComplete = false;\n\t      }\n\t    });\n\t\n\t    this.respond('hit', function (_event) {\n\t      if (_event.message === _event.behaviorTarget.id()) {\n\t        this.score.up();\n\t        this.playSFX('correct');\n\t      } else {\n\t        this.playSFX('incorrect');\n\t      }\n\t\n\t      this.reveal.item(_event.behaviorTarget.id());\n\t    });\n\t\n\t    this.respond('next', function () {\n\t      this.cannon.ball.reload();\n\t    });\n\t\n\t    this.playSFX = function (_name) {\n\t      var sfx;\n\t\n\t      sfx = pl.util.resolvePath(this, 'audio.sfx.' + _name);\n\t\n\t      if (sfx) sfx.play();\n\t\n\t      return this;\n\t    };\n\t  });\n\t\n\t  this.screen('experiment-hands', resetMultipleChoice);\n\t  this.screen('experiment-why-warmer', resetMultipleChoice);\n\t  this.screen('experiment-how-warmer', resetMultipleChoice);\n\t\n\t  this.screen('experiment-discover', function () {\n\t    this.on('ui-open', function (_e) {\n\t      if (!this.is(_e.target)) return;\n\t\n\t      this.unhighlight(this.find('.' + this.STATE.HIGHLIGHTED));\n\t    });\n\t\n\t    this.respond('select', function (_event) {\n\t      var id = _event.message;\n\t\n\t      if (id) {\n\t        this.highlight(_event.behaviorTarget);\n\t        this.audio.voiceOver[id].play();\n\t      }\n\t    });\n\t\n\t    // this.entity('selectable', function () {\n\t    //   this.behavior('select', function (_target) {\n\t    //     var $target;\n\t\n\t    //     if (this.event) {\n\t    //       $target = $(this.event.target).closest('li');\n\t\n\t    //       if (this.shouldSelect($target) !== false) {\n\t    //         return {\n\t    //           message: $target.id(),\n\t    //           behaviorTarget: $target\n\t    //         };\n\t    //       }\n\t    //     } else {\n\t    //       this.proto(_target);\n\t    //     }\n\t\n\t    //     return false;\n\t    //   });\n\t    // });\n\t  });\n\t\n\t  this.screen('flip', function () {\n\t\n\t    this.complete = function () {\n\t      var eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t\n\t      ga('send', 'event', eventCategory, 'complete');\n\t\n\t      pl.game.trigger($.Event('platform-event', {\n\t        name: 'flip',\n\t        gameData: { id: this.game.id() }\n\t      }));\n\t\n\t      return this.proto();\n\t    };\n\t  });\n\t\n\t  this.exit = function () {\n\t    var screen, eventCategory;\n\t\n\t    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t    eventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t    ga('send', 'event', eventCategory, 'quit');\n\t\n\t    return this.proto();\n\t  };\n\t});\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\t\tthis.splash();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.splash = function () {\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tif (this.game.hasClass('iOS')) {\n\t\t\t\tthis.open();\n\t\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t\t} else {\n\t\t\t\tthis.game.title.open();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen = this.proto();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tthis.game.audio.sfx.button.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.play('screenComplete');\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.startGame = function () {\n\t\t\tif (!this.hasClass('FINISHED')) return;\n\t\t\tthis.game.addClass('STARTED');\n\t\t\tthis.delay('2.5s', function () {\n\t\t\t\tthis.next();\n\t\t\t});\n\t\t};\n\t\n\t\tthis.on('animationend', function (_e) {\n\t\t\tif (!this.ball.is(_e.target)) return;\n\t\t\tthis.addClass('FINISHED');\n\t\t});\n\t});\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t(function test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t})();\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** polar-bear/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ebf208cf457fe91dd083\n **/","pl.game.component('cannon', function () {\n\n  this.entity('ball', function () {\n\n    this.reloadRequest = false;\n    this.isLaunchComplete = false;\n\n    this.willInit = function () {\n      if (this.cannon.properties.ball) {\n        this.attr('src', this.cannon.properties.ball);\n        // I shouldn't have to do this\n        this.on('load', function () {\n          this.assetQueue.ready(this.node().src);\n          this.off('load');\n        });\n      }\n    };\n\n    this.on('transitionend', function () {\n      this.log('transitionend');\n\n      this.isLaunchComplete = true;\n\n      if (this.launched()) {\n        this.playSFX('hit');\n\n        if (this.reloadRequest) {\n          this.reload();\n        }\n      }\n    });\n\n    this.state('launch launched', '+LAUNCHED -RELOAD', {\n      didSet: function () {\n        this.playSFX('fire');\n        this.isLaunchComplete = false;\n      }\n    });\n\n    this.state('reload', '+RELOAD -LAUNCHED', {\n      shouldSet: function () {\n        if (!this.isLaunchComplete) {\n          this.reloadRequest = true;\n          return false;\n        }\n      },\n\n      didSet: function () {\n        this.reloadRequest = false;\n      }\n    });\n  });\n\n  this.behavior('fire', function () {\n    this.ball.launch();\n    return {\n      message: this.cannon.properties.fire\n    };\n  });\n\n  this.reload = function () {\n    this.ball.reload();\n  };\n\n  this.playSFX = function (_name) {\n    var sfx;\n\n    sfx = pl.util.resolvePath(this, 'audio.sfx.' + _name);\n\n    if (sfx) sfx.play();\n\n    return this;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/cannon/behavior.js\n **/","pl.game.component('carousel', function () {\n\n  this.TYPE = (function () {\n\n    this.SLIDE = 'slide';\n    this.CROSS_FADE = 'cross-fade';\n\n    return this;\n\n  }).call(['slide', 'cross-fade']);\n\n  this.type = null;\n  this.$images = null;\n  this.nodes = null;\n  this.shouldRandomize = false;\n  this.isPlaying = false;\n  this.hitTarget = null;\n\n  this.ready = function () {\n    this.$images = this.find('img');\n    this.shouldRandomize = this.properties.has('randomize');\n\n    if (this.TYPE.every(this.bind(function (_type) {\n      return !this.hasClass(_type);\n    }))) {\n      this.addClass(this.TYPE.CROSS_FADE);\n    }\n\n    if (this.$images.length) {\n      this.nodes = this.$images.map(this.bind(function (_index, _node) {\n        var siblings;\n\n        siblings = [_node.previousSibling, _node.nextSibling];\n\n        siblings.forEach(function (_n) {\n          if (_n.nodeType === document.TEXT_NODE) {\n            $(_n).remove();\n          }\n        });\n\n        return _node;\n      })).toArray();\n    }\n\n    this.TYPE.forEach(this.bind(function (_item) {\n      if (this.hasClass(_item)) this.type = _item;\n    }));\n\n    this.on('transitionend', function (_event) {\n      if (_event.target.nodeName === 'IMG' && $(_event.target).state(this.STATE.LEAVE)) {\n        this.recycle();\n      }\n    });\n  };\n\n  this.provideBehaviorTarget = function () {\n    return this.properties.targetNext ? this.current().next() : this.current();\n  };\n\n  this.respond('fire', function (_event) {\n    this.hit(_event.message);\n  });\n\n  this.behavior('hit', function (_message) {\n    return {\n      message: _message,\n      behaviorTarget: this.provideBehaviorTarget()\n    };\n  });\n\n  this.behavior('next', function () {\n    var current;\n\n    current = this.$images.first();\n\n    this.leave(current);\n    this.open(current.next());\n  });\n\n  this.start = function () {\n    var delay;\n\n    delay = pl.util.toMillisec(this.properties.delay) || 1000;\n\n    if (this.isReady && !this.isPlaying) {\n      this.isPlaying = true;\n      this.open(this.$images.first());\n      this.repeat(delay, this.next);\n    } else {\n      this.on('ready', this.beginShow);\n    }\n  };\n\n  this.stop = function () {\n    this.kill('repeat');\n    this.isPlaying = false;\n  };\n\n  this.current = function () {\n    return this.$images.filter('.OPEN');\n  };\n\n  this.recycle = function () {\n    var $current, reload;\n\n    $current = this.$images.first();\n    reload = this.reloadWithNode(this.$images[0]);\n\n    $current.removeClass(this.STATE.LEAVE);\n    $current.remove();\n\n    [].shift.call(this.$images);\n\n    this.$images.push(reload);\n    this.append(reload);\n\n    return this;\n  };\n\n  this.reloadWithNode = function (_item) {\n    var $clone, state;\n\n    if (this.shouldRandomize) {\n      $clone = $(pl.util.random(this.nodes)).clone();\n      state = $clone.state();\n\n      if (state) $clone.removeClass(state.join ? state.join(' ') : state);\n\n      return $clone[0];\n    }\n\n    return _item;\n  };\n\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/carousel/behavior.js\n **/","pl.game.component('frame', function () {\n\n  this.ready = function () {\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) sfx.play();\n      }));\n    }\n  };\n\n  this.start = function () {\n    var voSound;\n\n    if (this.audio) {\n      voSound = this.audio.voiceOver[0];\n\n      this.audio.background.play();\n      if (voSound && !voSound.config('dontautoplay')) voSound.play();\n    }\n\n    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n    return this;\n  };\n\n  this.on('ui-open', function (_event) {\n    if (this.isReady) {\n      this.start();\n    }\n\n    if (this === _event.targetScope) {\n      if (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && (this.requiredQueue && this.requiredQueue.length))) {\n        this.complete();\n      }\n    }\n  });\n\n  this.on('ui-close', function (_event) {\n    if (this.isReady && this.is(_event.target)) {\n      this.stop();\n    }\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/frame/behavior.js\n **/","pl.game.component('map', function () {\n\n  var SELECTOR;\n\n  SELECTOR = {\n    CORRECT: '[pl-correct]',\n    INCORRECT: '[pl-incorrect]'\n  };\n\n  this.buffer = null;\n  this.bctx = null;\n  this.countries = null;\n\n  // images\n  this.grayMap = null;\n  this.iceland = null;\n  this.russia = null;\n  this.northPole = null;\n  this.greenland = null;\n  this.denmark = null;\n  this.norway = null;\n  this.canada = null;\n  this.usa = null;\n  this.sweden = null;\n  this.finland = null;\n\n  this.init = function () {\n    this.buffer = document.createElement('canvas');\n    this.bctx = this.buffer.getContext('2d');\n  };\n\n  this.ready = function () {\n    var correct, $countries;\n\n    correct = pl.Queue.create();\n\n    correct.on('complete', this.bind(function () {\n      var sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n      if (sfx) sfx.play();\n      this.complete();\n    }));\n\n    this.buffer.width = 500;\n    this.buffer.height = 500;\n\n    $countries = this.find('.country');\n\n    $countries\n      .not(SELECTOR.CORRECT)\n      .on('animationend', function () {\n        $(this).removeClass('flash').addClass('fadeIn');\n      });\n\n    this.countries = $countries\n      .map(function (_index, _node) {\n        var $node, id;\n\n        $node = $(_node);\n        id = pl.util.transformId($node.id(), true);\n\n        if ($node.is(SELECTOR.CORRECT)) correct.add(id);\n\n        return id;\n      })\n      .toArray();\n\n    this.countries.correct = correct;\n\n  };\n\n  this.isImageTarget = function (_image, _point) {\n    var pixel;\n\n    this.bctx.clearRect(0, 0, this.buffer.width, this.buffer.height);\n    this.bctx.drawImage(_image[0], 0, 0, _image.width(), _image.height());\n    pixel = this.bctx.getImageData(_point.x, _point.y, 1, 1);\n\n    this.bctx.fillStyle = 'white';\n    this.bctx.fillRect(_point.x, _point.y, 5, 5);\n\n    // opaque pixel\n    return pixel.data[3] > 0;\n  };\n\n  this.test = function (_cursor) {\n    var offset, cursor, gameScale;\n\n    if (!this.screen.allowAction()) return false;\n\n    offset = this.grayMap.absolutePosition();\n    gameScale = this.game.transformScale().x;\n\n    // FireFox uses transfom scale which\n    // does NOT produce scaled DOM values like `zoom`.\n    if (gameScale !== 1) {\n      cursor = _cursor\n        .dec(offset)\n        .scale(1 / this.game.zoom)\n        .math('floor');\n    } else {\n      cursor = _cursor\n        .scale(1 / this.game.zoom)\n        .math('floor')\n        .dec(offset);\n    }\n\n    this.countries.every(this.bind(function (_country) {\n      if (this.isImageTarget(this[_country], cursor)) {\n        this.answer( _country);\n        return false;\n      }\n\n      return true;\n    }));\n  };\n\n  this.answer = function (_country) {\n    var $country;\n\n    $country = this[_country];\n\n    if ($country.is(SELECTOR.CORRECT)) {\n\n      this.playSFX('correct');\n      this.playVO(_country);\n\n      $country.addClass('animated fadeIn');\n\n      if (!this.state('COMPLETE')) this.countries.correct.ready(_country);\n    } else {\n      this.playSFX('incorrect');\n      $country.addClass('animated flash');\n    }\n  };\n\n  this.playSFX = function (_answer) {\n    var sfx;\n\n    sfx = pl.util.resolvePath(this, 'audio.sfx.' + _answer);\n\n    if (sfx) sfx.play();\n\n    return sfx;\n  };\n\n  this.playVO = function (_name) {\n    var vo;\n\n    vo = pl.util.resolvePath(this, 'audio.voiceOver.' + _name);\n\n    if (vo) vo.play();\n\n    return vo;\n  };\n\n  this.on('ui-open', function (_e) {\n    if (!this.is(_e.target)) return;\n\n    if (this.isComplete) {\n      this.find('.fadeIn').removeClass('fadeIn');\n    }\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/map/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n  function validateAnswer(_scope) {\n    var $selected, answers, $correct;\n\n    $selected = _scope.getSelected();\n\n    if (_scope.properties.correct) {\n      answers = _scope.properties.correct.split(/\\s*,\\s*/);\n\n      if (~answers.indexOf(String($selected.index()))) {\n        if (_scope.isComplete) _scope.playSFX('correct');\n        _scope.complete();\n      } else {\n        _scope.playSFX('incorrect');\n      }\n    } else {\n      $correct = _scope.find('[pl-correct]');\n\n      if (~$.inArray($selected[0], $correct)) {\n        if (_scope.isComplete) _scope.playSFX('correct');\n        _scope.complete();\n      } else {\n        _scope.playSFX('incorrect');\n      }\n    }\n\n    return false;\n  }\n\n  this.playSFX = function (_answer) {\n    var sfx;\n\n    sfx = pl.util.resolvePath(this, 'audio.sfx.' + _answer);\n\n    if (sfx) sfx.play();\n\n    return sfx;\n  };\n\n  this.playVO = function (_name) {\n    var vo;\n\n    vo = pl.util.resolvePath(this, 'audio.voiceOver.' + _name);\n\n    if (vo) vo.play();\n\n    return vo;\n  };\n\n  this.answer = function () {\n    var $li;\n\n    if (this.screen.state(this.screen.STATE.VOICE_OVER) && !this.game.demoMode) return;\n\n    if (this.event) {\n      $li = $(this.event.target).closest('li');\n      this.playVO($li.id());\n\n      if (this.select($li)) {\n        validateAnswer(this);\n      }\n    }\n  };\n\n  this.start = function () {};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n  this.on('transitionend', function () {\n    if (!this.opened()) {\n      this.addClass('ANIM-DONE');\n    }\n  });\n\n  this.item = function (_id) {\n    var vo, index;\n\n    this.removeClass('ANIM-DONE');\n    this.open();\n\n    if (typeof _id === 'number') {\n      this.select('li:nth-child(' + _id + ')');\n      this.audio.voiceOver[_id].play();\n    } else if (typeof _id === 'string') {\n      if (this[_id]) {\n        this.select(this[_id]);\n\n        if (this.audio) {\n          index = this[_id].index();\n          vo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\n          if (vo) vo.play();\n        }\n      }\n    }\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/reveal/behavior.js\n **/","pl.game.component('score', function () {\n\n  this.value = 0;\n\n  this.entity('board', function () {\n\n    this.template = null;\n\n    this.ready = function () {\n      this.template = this.counter.html();\n    };\n\n    this.render = function () {\n      this.counter.html(this.template.replace('{{score}}', this.value));\n      return this;\n    };\n\n  });\n\n  this.reset = function () {\n    this.value = 0;\n    this.ready();\n  };\n\n  this.ready = function () {\n    this.attr('value', this.value);\n    this.board.render();\n  };\n\n  this.up = function (_count) {\n    this.value += _count || 1;\n\n    this.attr('value', this.value);\n    this.board.render();\n\n    if (this.value >= this.properties.max) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n  this.down = function (_count) {\n    this.value -= _count || 1;\n\n    this.attr('value', this.value);\n    this.board.render();\n\n    if (this.value >= this.properties.max) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/score/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\n  this.allowAction = function () {\n    return !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n  };\n\n  this.on('ready', function (_event) {\n    if (!this.is(_event.target)) return;\n\n    if (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n      this.requiredQueue.on('complete', this.bind(function () {\n        var sfx;\n\n        sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n        if (sfx) sfx.play();\n      }));\n    }\n\n    if (this.state(this.STATE.OPEN)) this.start();\n  });\n\n  this.next = function () {\n    var current, nextScreen, buttonSound;\n\n    if (!this.state(this.STATE.OPEN)) return;\n\n    if (this.hasClass('last') && this.hasClass('COMPLETE')) this.game.quit.okay();\n\n    if (this !== this.screen) {\n      this.log('Not called on a screen');\n      return;\n    }\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    // delegate to a child \"slides\" component.\n    if (this.slides && this.slides.isComponent) {\n      current = this.slides.current();\n      nextScreen = current.next();\n\n      if (nextScreen == null) {\n        current = this;\n        nextScreen = this.proto();\n      }\n    } else {\n      current = this;\n      nextScreen = this.proto();\n    }\n\n    if (nextScreen) {\n      current.leave();\n      nextScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return nextScreen;\n  };\n\n  this.prev = function () {\n    var current, prevScreen, buttonSound;\n\n    if (!this.state(this.STATE.OPEN)) return;\n\n    if (this !== this.screen) {\n      this.log('Not called on a screen');\n      return;\n    }\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n    // delegate to a child \"slides\" component.\n    if (this.slides && this.slides.isComponent) {\n      current = this.slides.current();\n      prevScreen = current.prev();\n\n      if (prevScreen == null) {\n        current = this;\n        prevScreen = this.proto();\n      }\n    } else {\n      current = this;\n      prevScreen = this.proto();\n    }\n\n    if (prevScreen) {\n      current.close();\n      prevScreen.open();\n      if (buttonSound) buttonSound.play();\n    }\n\n    return prevScreen;\n  };\n\n  this.start = function () {\n    this.startAudio();\n\n    if (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n    return this;\n  };\n\n  this.on('ui-open', function (_event) {\n    if (!this.is(_event.target)) return;\n\n    if (this.isReady) {\n      this.start();\n    }\n\n    if (!this.isComplete) {\n      if (!this.requiredQueue || (this.isMemberSafe('requiredQueue') && !this.requiredQueue.length)) {\n        this.complete();\n      }\n    }\n\n    if (this.screen.isLast()) {\n      this.addClass('last');\n    }\n  });\n\n  this.on('ui-close', function (_event) {\n    if (this.isReady && this.is(_event.target)) {\n      this.stop();\n    }\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n  // TODO: Make an automated way to handle this\n  this.on('transitionend', function (_event) {\n    if (!this.is(_event.target)) return;\n    if (this.state(this.STATE.LEAVE)) {\n      this.addClass('LEAVE-END');\n    }\n  });\n\n  this.on('ui-open', function (_event) {\n    if (!this.is(_event.target)) return;\n    this.game.addClass('QUIT-SCREEN');\n    this.removeClass('LEAVE-END');\n    this.game.pause(true);\n  });\n\n  this.on('ui-leave', function () {\n    this.game.removeClass('QUIT-SCREEN');\n    this.game.resume();\n  });\n\n  this.init = function () {\n    this.addClass('LEAVE LEAVE-END');\n  };\n\n  this.okay = function () {\n    this.game.exit();\n  };\n\n  this.cancel = function () {\n    this.leave();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('selectable-reveal', function () {\n\n  this.respond('select', function (_event) {\n    var index, stateMethod;\n\n    index = _event.message;\n    stateMethod = this.properties.selectState || 'select';\n\n    if (~index) {\n      this[stateMethod](_event.behaviorTarget);\n      this.reveal.item(index);\n      this.features.correct.ready(index);\n    }\n  });\n\n  this.entity('selectable', function () {\n\n    this.shouldSelect = function (_$target) {\n      if (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0 || _$target.is('[pl-always-selectable]')) {\n        return !this.screen.state(this.STATE.VOICE_OVER) && !_$target.state(this.STATE.HIGHLIGHTED);\n      }\n\n      return false;\n    };\n\n  });\n\n  this.ready = function () {\n    var correct;\n\n    correct = pl.Queue.create();\n\n    correct.on('complete', this.bind(function () {\n      this.complete();\n    }));\n\n    this.features = this\n      .find('.items li')\n      .map(function (_index) {\n        correct.add(_index);\n        return _index;\n      })\n      .toArray();\n\n    this.features.correct = correct;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/selectable-reveal/behavior.js\n **/","pl.game.component('selectable', function () {\n\n  this.behavior('select', function (_target) {\n    var $target;\n\n    if (this.event) {\n      $target = $(this.event.target).closest('li');\n\n      if (this.shouldSelect($target) !== false) {\n        return {\n          message: $target.index(),\n          behaviorTarget: $target\n        };\n      }\n    } else {\n      this.proto(_target);\n    }\n\n    return false;\n  });\n\n  this.shouldSelect = function () {\n    if (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n      return true;\n    }\n\n    return false;\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/selectable/behavior.js\n **/","pl.game.component('slides', function () {\n\n  this.slides = null;\n\n  this.ready = function () {\n    this.slides = this.find('> *').scope();\n  };\n\n  this.start = function () {\n    var current, i, n;\n\n    current = this.current();\n\n    if (current) {\n      current.start();\n    } else if (this.slides.length) {\n      this.slides[0].open();\n      for (i = 1, n = this.slides.length; i < n; i++) {\n        this.slides[i] && this.slides[i].close();\n      }\n    }\n  };\n\n  this.current = function () {\n    return this.find('> .OPEN').scope();\n  };\n\n  /*\n   * @this {frame-component-scope} called by the next button in a frame component.\n   */\n  this.next = function () {\n    var index, nextSlide, buttonSound;\n\n    if (!this.completed()) return false;\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    index = this.slides.indexOf(this);\n    if (~index) return this.slides[index + 1];\n\n\n    if (~index) nextSlide = this.slides[index + 1];\n\n    if (nextSlide) {\n      this.leave();\n      nextSlide.open();\n\n      if (buttonSound) buttonSound.play();\n\n      return nextSlide;\n    } else {\n      return this.proto();\n    }\n  };\n\n  /*\n   * @this {frame-component-scope} called by the next button in a frame component.\n   */\n  this.prev = function () {\n    var index, prevSlide, buttonSound;\n\n    buttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n    index = this.slides.indexOf(this);\n    if (~index) return this.slides[index - 1];\n\n\n    if (~index) prevSlide = this.slides[index - 1];\n\n    if (prevSlide) {\n      this.close();\n      prevSlide.open();\n\n      if (buttonSound) buttonSound.play();\n\n      return prevSlide;\n    } else {\n      return this.proto();\n    }\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/slides/behavior.js\n **/","pl.game.component('title', function () {\n\n  this.start = function () {\n    this.proto();\n    this.showTitle();\n  };\n\n  this.showTitle = function () {\n    this.image.addClass('animated ' + this.image.attr('pl-animation'));\n    this.complete();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/title/behavior.js\n **/","pl.game.config({\n  screenSelector: '.screen',\n  componentDirectory: 'components/',\n  dimensions: {\n    width: 960,\n    ratio: 16 / 9\n  },\n  shouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\nimport './config.game';\n\nimport '../../../shared/js/screen-ios-splash';\nimport './components/cannon/behavior';\nimport './components/carousel/behavior';\nimport './components/frame/behavior';\nimport './components/map/behavior';\nimport './components/multiple-choice/behavior';\nimport './components/reveal/behavior';\nimport './components/score/behavior';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/selectable-reveal/behavior';\nimport './components/selectable/behavior';\nimport './components/slides/behavior';\nimport './components/title/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\npl.game('polar-bear', function () {\n\n  var resetMultipleChoice = function () {\n    this.on('ui-open', function (_e) {\n      if (!this.is(_e.target)) return;\n\n      if (this.isComplete) this.deselect(this.find('.' + this.STATE.SELECTED));\n    });\n  };\n\n  this.screen('title', function () {\n    this.on('ready', function (_event) {\n      if (!this.is(_event.target)) return;\n\n      if (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n    });\n\n    this.startAudio = function () {\n      this.title.audio.background.play();\n      this.title.audio.voiceOver.play();\n    };\n\n    this.stopAudio = function () {\n      this.title.audio.voiceOver.stop('@ALL');\n    };\n  });\n\n  this.screen('what-color', function () {\n    this.on('ui-open', function (_e) {\n      if (!this.slides.mc.is(_e.target)) return;\n\n      if (this.isComplete) this.deselect(this.find('.' + this.STATE.SELECTED));\n    });\n  });\n\n  this.screen('bears', function () {\n\n    this.start = function () {\n      this.proto();\n      this.carousel.start();\n    };\n\n    this.stop = function () {\n      this.carousel.stop();\n    };\n\n    this.on('ui-select', function (_event) {\n      if (_event.targetScope === this.reveal) {\n        this.reveal.delay('1s', function () {\n          var $selected;\n\n          $selected = this.getSelected();\n\n          this.close();\n          $selected\n            .addClass('animated slideOutUp')\n            .on('animationend', function () {\n              $selected.removeClass('slideOutUp');\n              $selected.off();\n            });\n        });\n\n      }\n    });\n\n    this.on('ui-open', function (_event) {\n      if (!this.is(_event.target)) return;\n\n      if (this.isComplete) this.score.reset();\n    });\n\n    this.state('incomplete', '-COMPLETE', {\n      willSet: function () {\n        this.isComplete = false;\n      }\n    });\n\n    this.respond('hit', function (_event) {\n      if (_event.message === _event.behaviorTarget.id()) {\n        this.score.up();\n        this.playSFX('correct');\n      } else {\n        this.playSFX('incorrect');\n      }\n\n      this.reveal.item(_event.behaviorTarget.id());\n    });\n\n    this.respond('next', function () {\n      this.cannon.ball.reload();\n    });\n\n    this.playSFX = function (_name) {\n      var sfx;\n\n      sfx = pl.util.resolvePath(this, 'audio.sfx.' + _name);\n\n      if (sfx) sfx.play();\n\n      return this;\n    };\n\n  });\n\n  this.screen('experiment-hands', resetMultipleChoice);\n  this.screen('experiment-why-warmer', resetMultipleChoice);\n  this.screen('experiment-how-warmer', resetMultipleChoice);\n\n  this.screen('experiment-discover', function () {\n    this.on('ui-open', function (_e) {\n      if (!this.is(_e.target)) return;\n\n      this.unhighlight(this.find('.' + this.STATE.HIGHLIGHTED));\n    });\n\n    this.respond('select', function (_event) {\n      var id = _event.message;\n\n      if (id) {\n        this.highlight(_event.behaviorTarget);\n        this.audio.voiceOver[id].play();\n      }\n    });\n\n    // this.entity('selectable', function () {\n    //   this.behavior('select', function (_target) {\n    //     var $target;\n\n    //     if (this.event) {\n    //       $target = $(this.event.target).closest('li');\n\n    //       if (this.shouldSelect($target) !== false) {\n    //         return {\n    //           message: $target.id(),\n    //           behaviorTarget: $target\n    //         };\n    //       }\n    //     } else {\n    //       this.proto(_target);\n    //     }\n\n    //     return false;\n    //   });\n    // });\n  });\n\n  this.screen('flip', function () {\n\n    this.complete = function () {\n      var eventCategory = (['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')']).join(' ');\n\n      ga('send', 'event', eventCategory, 'complete');\n\n      pl.game.trigger($.Event('platform-event', {\n        name: 'flip',\n        gameData: {id: this.game.id()}\n      }));\n\n      return this.proto();\n    };\n\n  });\n\n  this.exit = function () {\n    var screen, eventCategory;\n\n    screen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n    eventCategory = (['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')']).join(' ');\n\n    ga('send', 'event', eventCategory, 'quit');\n\n    return this.proto();\n  };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/index.js\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n\tthis.on('ready', function (_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\tthis.splash();\n\t\t}\n\t});\n\n\tthis.splash = function() {\n\t\tthis.close(this.game.loader);\n\n\t\tif(this.game.hasClass('iOS')) {\n\t\t\tthis.open();\n\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t} else {\n\t\t\tthis.game.title.open();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen = this.proto();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tthis.game.audio.sfx.button.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.play('screenComplete');\n\t\treturn this.proto();\n\t};\n\n\tthis.startGame = function() {\n\t\tif(!this.hasClass('FINISHED')) return;\n\t\tthis.game.addClass('STARTED');\n\t\tthis.delay('2.5s', function() {\n\t\t\tthis.next();\n\t\t});\n\t};\n\n\tthis.on('animationend', function(_e) {\n\t\tif(!this.ball.is(_e.target)) return;\n\t\tthis.addClass('FINISHED');\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","(function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/"],"sourceRoot":""}