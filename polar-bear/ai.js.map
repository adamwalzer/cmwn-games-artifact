{"version":3,"sources":["webpack:///polar-bear/ai.js","webpack:///webpack/bootstrap 34946c33ff05a667608a","webpack:///./polar-bear/source/js/components/cannon/behavior.js","webpack:///./polar-bear/source/js/components/carousel/behavior.js","webpack:///./polar-bear/source/js/components/frame/behavior.js","webpack:///./polar-bear/source/js/components/multiple-choice/behavior.js","webpack:///./polar-bear/source/js/components/reveal/behavior.js","webpack:///./polar-bear/source/js/components/score/behavior.js","webpack:///./polar-bear/source/js/components/screen-basic/behavior.js","webpack:///./polar-bear/source/js/components/screen-quit/behavior.js","webpack:///./polar-bear/source/js/components/selectable-reveal/behavior.js","webpack:///./polar-bear/source/js/components/selectable/behavior.js","webpack:///./polar-bear/source/js/components/slides/behavior.js","webpack:///./polar-bear/source/js/components/title/behavior.js","webpack:///./polar-bear/source/js/config.game.js","webpack:///./polar-bear/source/js/index.js","webpack:///./shared/js/google-analytics.js","webpack:///./shared/js/screen-ios-splash.js","webpack:///./shared/js/test-platform-integration.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","pl","game","component","this","entity","reloadRequest","isLaunchComplete","willInit","cannon","properties","ball","attr","on","assetQueue","ready","node","src","off","log","launched","playSFX","reload","state","didSet","shouldSet","behavior","launch","message","fire","_name","sfx","util","resolvePath","play","TYPE","SLIDE","CROSS_FADE","type","$images","nodes","shouldRandomize","isPlaying","find","has","every","bind","_type","hasClass","addClass","length","map","_index","_node","siblings","previousSibling","nextSibling","forEach","nodeType","document","TEXT_NODE","$","remove","toArray","_item","_event","target","nodeName","STATE","LEAVE","recycle","provideBehaviorTarget","current","respond","hit","_message","behaviorTarget","first","leave","open","next","start","delay","toMillisec","isReady","repeat","beginShow","stop","kill","filter","$current","reloadWithNode","removeClass","shift","push","append","$clone","random","clone","join","isMemberSafe","requiredQueue","voSound","audio","voiceOver","background","config","hasOwnProperty","entities","targetScope","isComplete","complete","is","validateAnswer","_scope","$selected","answers","$correct","correctCount","getSelected","correct","split","indexOf","String","index","inArray","_answer","playVO","vo","answer","screen","VOICE_OVER","demoMode","event","$li","closest","select","opened","item","_id","value","template","counter","html","render","replace","reset","board","up","_count","console","max","down","allowAction","OPEN","nextScreen","buttonSound","quit","okay","trace","slides","isComponent","proto","prev","prevScreen","close","startAudio","isLast","pause","resume","init","exit","cancel","stateMethod","selectState","reveal","features","shouldSelect","_$target","HIGHLIGHTED","Queue","create","add","_target","$target","scope","i","n","nextSlide","completed","prevSlide","showTitle","image","screenSelector","componentDirectory","dimensions","width","ratio","shouldLoadComponentStyles","resetMultipleChoice","_e","deselect","SELECTED","iosSplash","READY","splash","title","stopAudio","isCorrect","_element","$el","jquery","SELECTOR","CORRECT","INCORRECT","buffer","bctx","countries","grayMap","iceland","russia","northPole","greenland","denmark","norway","canada","usa","sweden","finland","createElement","getContext","$countries","height","not","$node","transformId","isImageTarget","_image","_point","clearRect","drawImage","pixel","getImageData","x","y","fillStyle","fillRect","data","test","_cursor","offset","cursor","gameScale","absolutePosition","transformScale","dec","scale","zoom","math","_country","$country","carousel","score","willSet","unhighlight","highlight","eventCategory","ga","findOwn","s","o","g","r","a","q","arguments","l","Date","getElementsByTagName","async","parentNode","insertBefore","window","loader","button","startGame","_env","parent","location","href","domain"],"mappings":"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","file":"polar-bear/ai.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(14);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tpl.game.component('cannon', function () {\n\t\n\t\tthis.entity('ball', function () {\n\t\n\t\t\tthis.reloadRequest = false;\n\t\t\tthis.isLaunchComplete = false;\n\t\n\t\t\tthis.willInit = function () {\n\t\t\t\tif (this.cannon.properties.ball) {\n\t\t\t\t\tthis.attr('src', this.cannon.properties.ball);\n\t\t\t\t\t// I shouldn't have to do this\n\t\t\t\t\tthis.on('load', function () {\n\t\t\t\t\t\tthis.assetQueue.ready(this.node().src);\n\t\t\t\t\t\tthis.off('load');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.on('transitionend', function () {\n\t\t\t\tthis.log('transitionend');\n\t\n\t\t\t\tthis.isLaunchComplete = true;\n\t\n\t\t\t\tif (this.launched()) {\n\t\t\t\t\tthis.playSFX('hit');\n\t\n\t\t\t\t\tif (this.reloadRequest) {\n\t\t\t\t\t\tthis.reload();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.state('launch launched', '+LAUNCHED -RELOAD', {\n\t\t\t\tdidSet: function didSet() {\n\t\t\t\t\tthis.playSFX('fire');\n\t\t\t\t\tthis.isLaunchComplete = false;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.state('reload', '+RELOAD -LAUNCHED', {\n\t\t\t\tshouldSet: function shouldSet() {\n\t\t\t\t\tif (!this.isLaunchComplete) {\n\t\t\t\t\t\tthis.reloadRequest = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tdidSet: function didSet() {\n\t\t\t\t\tthis.reloadRequest = false;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\n\t\tthis.behavior('fire', function () {\n\t\t\tthis.ball.launch();\n\t\t\treturn {\n\t\t\t\tmessage: this.cannon.properties.fire\n\t\t\t};\n\t\t});\n\t\n\t\tthis.reload = function () {\n\t\t\tthis.ball.reload();\n\t\t};\n\t\n\t\tthis.playSFX = function (_name) {\n\t\t\tvar sfx;\n\t\n\t\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.' + _name);\n\t\n\t\t\tif (sfx) sfx.play();\n\t\n\t\t\treturn this;\n\t\t};\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tpl.game.component('carousel', function () {\n\t\n\t\tthis.TYPE = (function () {\n\t\n\t\t\tthis.SLIDE = 'slide';\n\t\t\tthis.CROSS_FADE = 'cross-fade';\n\t\n\t\t\treturn this;\n\t\t}).call(['slide', 'cross-fade']);\n\t\n\t\tthis.type = null;\n\t\tthis.$images = null;\n\t\tthis.nodes = null;\n\t\tthis.shouldRandomize = false;\n\t\tthis.isPlaying = false;\n\t\n\t\tthis.ready = function () {\n\t\t\tthis.$images = this.find('img');\n\t\t\tthis.shouldRandomize = this.properties.has('randomize');\n\t\n\t\t\tif (this.TYPE.every(this.bind(function (_type) {\n\t\t\t\treturn !this.hasClass(_type);\n\t\t\t}))) {\n\t\t\t\tthis.addClass(this.TYPE.CROSS_FADE);\n\t\t\t}\n\t\n\t\t\tif (this.$images.length) {\n\t\t\t\tthis.nodes = this.$images.map(this.bind(function (_index, _node) {\n\t\t\t\t\tvar siblings;\n\t\n\t\t\t\t\tsiblings = [_node.previousSibling, _node.nextSibling];\n\t\n\t\t\t\t\tsiblings.forEach(function (_node) {\n\t\t\t\t\t\tif (_node.nodeType === document.TEXT_NODE) {\n\t\t\t\t\t\t\t$(_node).remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\treturn _node;\n\t\t\t\t})).toArray();\n\t\t\t}\n\t\n\t\t\tthis.TYPE.forEach(this.bind(function (_item) {\n\t\t\t\tif (this.hasClass(_item)) this.type = _item;\n\t\t\t}));\n\t\n\t\t\tthis.on('transitionend', function (_event) {\n\t\t\t\tif (_event.target.nodeName === 'IMG' && $(_event.target).state(this.STATE.LEAVE)) {\n\t\t\t\t\tthis.recycle();\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\n\t\tthis.provideBehaviorTarget = function () {\n\t\t\treturn this.current();\n\t\t};\n\t\n\t\tthis.respond('fire', function (_event) {\n\t\t\tthis.hit(_event.message);\n\t\t});\n\t\n\t\tthis.behavior('hit', function (_message) {\n\t\t\treturn {\n\t\t\t\tmessage: _message,\n\t\t\t\tbehaviorTarget: this.provideBehaviorTarget()\n\t\t\t};\n\t\t});\n\t\n\t\tthis.behavior('next', function () {\n\t\t\tvar current;\n\t\n\t\t\tcurrent = this.$images.first();\n\t\n\t\t\tthis.leave(current);\n\t\t\tthis.open(current.next());\n\t\t});\n\t\n\t\tthis.start = function () {\n\t\t\tvar delay;\n\t\n\t\t\tdelay = pl.util.toMillisec(this.properties.delay) || 1000;\n\t\n\t\t\tif (this.isReady && !this.isPlaying) {\n\t\t\t\tthis.isPlaying = true;\n\t\t\t\tthis.open(this.$images.first());\n\t\t\t\tthis.repeat(delay, this.next);\n\t\t\t} else {\n\t\t\t\tthis.on('ready', this.beginShow);\n\t\t\t}\n\t\t};\n\t\n\t\tthis.stop = function () {\n\t\t\tthis.kill('repeat');\n\t\t\tthis.isPlaying = false;\n\t\t};\n\t\n\t\tthis.current = function () {\n\t\t\treturn this.$images.filter('.OPEN');\n\t\t};\n\t\n\t\tthis.recycle = function () {\n\t\t\tvar $current, reload;\n\t\n\t\t\t$current = this.$images.first();\n\t\t\treload = this.reloadWithNode(this.$images[0]);\n\t\n\t\t\t$current.removeClass(this.STATE.LEAVE);\n\t\t\t$current.remove();\n\t\n\t\t\t[].shift.call(this.$images);\n\t\n\t\t\tthis.$images.push(reload);\n\t\t\tthis.append(reload);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.reloadWithNode = function (_item) {\n\t\t\tvar $clone, state;\n\t\n\t\t\tif (this.shouldRandomize) {\n\t\t\t\t$clone = $(pl.util.random(this.nodes)).clone();\n\t\t\t\tstate = $clone.state();\n\t\n\t\t\t\tif (state) $clone.removeClass(state.join ? state.join(' ') : state);\n\t\n\t\t\t\treturn $clone[0];\n\t\t\t}\n\t\n\t\t\treturn _item;\n\t\t};\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tpl.game.component('frame', function () {\n\t\n\t\tthis.ready = function () {\n\t\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\t\tvar sfx;\n\t\n\t\t\t\t\tsfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t\t\t\t\tif (sfx) sfx.play();\n\t\t\t\t}));\n\t\t\t}\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tvar voSound;\n\t\n\t\t\tif (this.audio) {\n\t\t\t\tvoSound = this.audio.voiceOver[0];\n\t\n\t\t\t\tthis.audio.background.play();\n\t\t\t\tif (voSound && !voSound.config(\"dontautoplay\")) voSound.play();\n\t\t\t}\n\t\n\t\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (this.isReady) {\n\t\t\t\tthis.start();\n\t\t\t}\n\t\n\t\t\tif (this === _event.targetScope) {\n\t\t\t\tif (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && this.requiredQueue && this.requiredQueue.length)) {\n\t\t\t\t\tthis.complete();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-close', function (_event) {\n\t\t\tif (this.isReady && this.is(_event.target)) {\n\t\t\t\tthis.stop();\n\t\t\t}\n\t\t});\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tpl.game.component('multiple-choice', function () {\n\t\n\t\tfunction validateAnswer(_scope) {\n\t\t\tvar $selected, answers, $correct, correctCount;\n\t\n\t\t\t$selected = _scope.getSelected();\n\t\n\t\t\tif (_scope.properties.correct) {\n\t\t\t\tanswers = _scope.properties.correct.split(/\\s*,\\s*/);\n\t\n\t\t\t\tif (~answers.indexOf(String($selected.index()))) {\n\t\t\t\t\tif (_scope.isComplete) _scope.playSFX('correct');\n\t\t\t\t\t_scope.complete();\n\t\t\t\t} else {\n\t\t\t\t\t_scope.playSFX('incorrect');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcorrectCount = 0;\n\t\t\t\t$correct = _scope.find('[pl-correct]');\n\t\n\t\t\t\tif (~$.inArray($selected[0], $correct)) {\n\t\t\t\t\tif (_scope.isComplete) _scope.playSFX('correct');\n\t\t\t\t\t_scope.complete();\n\t\t\t\t} else {\n\t\t\t\t\t_scope.playSFX('incorrect');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t}\n\t\n\t\tthis.playSFX = function (_answer) {\n\t\t\tvar sfx;\n\t\n\t\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.' + _answer);\n\t\n\t\t\tif (sfx) sfx.play();\n\t\n\t\t\treturn sfx;\n\t\t};\n\t\n\t\tthis.playVO = function (_name) {\n\t\t\tvar vo;\n\t\n\t\t\tvo = pl.util.resolvePath(this, 'audio.voiceOver.' + _name);\n\t\n\t\t\tif (vo) vo.play();\n\t\n\t\t\treturn vo;\n\t\t};\n\t\n\t\tthis.answer = function () {\n\t\t\tif (this.screen.state(this.screen.STATE.VOICE_OVER) && !this.game.demoMode) return;\n\t\n\t\t\tif (this.event) {\n\t\t\t\t$li = $(this.event.target).closest('li');\n\t\t\t\tthis.playVO($li.id());\n\t\n\t\t\t\tif (this.select($li)) {\n\t\t\t\t\tvalidateAnswer(this);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tthis.start = function () {};\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tpl.game.component('reveal', function () {\n\t\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (!this.opened()) {\n\t\t\t\tthis.addClass('ANIM-DONE');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.item = function (_id) {\n\t\t\tvar vo, index;\n\t\n\t\t\tthis.removeClass('ANIM-DONE');\n\t\t\tthis.open();\n\t\n\t\t\tif (typeof _id === 'number') {\n\t\t\t\tthis.select('li:nth-child(' + _id + ')');\n\t\t\t\tthis.audio.voiceOver[_id].play();\n\t\t\t} else if (typeof _id === 'string') {\n\t\t\t\tif (this[_id]) {\n\t\t\t\t\tthis.select(this[_id]);\n\t\n\t\t\t\t\tif (this.audio) {\n\t\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\n\t\t\t\t\t\tif (vo) vo.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tpl.game.component('score', function () {\n\t\n\t\tthis.value = 0;\n\t\n\t\tthis.entity('board', function () {\n\t\n\t\t\tthis.template = null;\n\t\n\t\t\tthis.ready = function () {\n\t\t\t\tthis.template = this.counter.html();\n\t\t\t};\n\t\n\t\t\tthis.render = function () {\n\t\t\t\tthis.counter.html(this.template.replace('{{score}}', this.value));\n\t\t\t\treturn this;\n\t\t\t};\n\t\t});\n\t\n\t\tthis.reset = function () {\n\t\t\tthis.value = 0;\n\t\t\tthis.ready();\n\t\t};\n\t\n\t\tthis.ready = function () {\n\t\t\tthis.attr('value', this.value);\n\t\t\tthis.board.render();\n\t\t};\n\t\n\t\tthis.up = function (_count) {\n\t\t\tthis.value += _count || 1;\n\t\n\t\t\tthis.attr('value', this.value);\n\t\t\tthis.board.render();\n\t\n\t\t\tconsole.log('score', this.value, this.properties.max);\n\t\n\t\t\tif (this.value >= this.properties.max) {\n\t\t\t\tconsole.log('oh word');\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.down = function (_count) {\n\t\t\tthis.value -= _count || 1;\n\t\n\t\t\tthis.attr('value', this.value);\n\t\t\tthis.board.render();\n\t\n\t\t\tif (this.value >= this.properties.max) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-basic', function () {\n\t\n\t\tthis.allowAction = function () {\n\t\t\treturn !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t\t};\n\t\n\t\tthis.on('ready', function (_event) {\n\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\t\tvar sfx;\n\t\n\t\t\t\t\tsfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\n\t\t\t\t\tif (sfx) sfx.play();\n\t\t\t\t}));\n\t\t\t}\n\t\n\t\t\tif (this.state(this.STATE.OPEN)) this.start();\n\t\t});\n\t\n\t\tthis.next = function () {\n\t\t\tvar current, nextScreen, buttonSound;\n\t\n\t\t\tif (!this.state(this.STATE.OPEN)) return;\n\t\n\t\t\tif (this.hasClass('last') && this.hasClass('COMPLETE')) this.game.quit.okay();\n\t\n\t\t\tif (this !== this.screen) {\n\t\t\t\tthis.log('Not called on a screen');\n\t\t\t\tconsole.trace();\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\t// delegate to a child \"slides\" component.\n\t\t\tif (this.slides && this.slides.isComponent) {\n\t\t\t\tcurrent = this.slides.current();\n\t\t\t\tnextScreen = current.next();\n\t\n\t\t\t\tif (nextScreen == null) {\n\t\t\t\t\tcurrent = this;\n\t\t\t\t\tnextScreen = this.proto();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrent = this;\n\t\t\t\tnextScreen = this.proto();\n\t\t\t}\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tcurrent.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.prev = function () {\n\t\t\tvar current, prevScreen, buttonSound;\n\t\n\t\t\tif (!this.state(this.STATE.OPEN)) return;\n\t\n\t\t\tif (this !== this.screen) {\n\t\t\t\tthis.log('Not called on a screen');\n\t\t\t\tconsole.trace();\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\n\t\t\t// delegate to a child \"slides\" component.\n\t\t\tif (this.slides && this.slides.isComponent) {\n\t\t\t\tcurrent = this.slides.current();\n\t\t\t\tprevScreen = current.prev();\n\t\n\t\t\t\tif (prevScreen == null) {\n\t\t\t\t\tcurrent = this;\n\t\t\t\t\tprevScreen = this.proto();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrent = this;\n\t\t\t\tprevScreen = this.proto();\n\t\t\t}\n\t\n\t\t\tif (prevScreen) {\n\t\t\t\tcurrent.close();\n\t\t\t\tprevScreen.open();\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\t\t}\n\t\n\t\t\treturn prevScreen;\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tthis.startAudio();\n\t\n\t\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tif (this !== _event.targetScope) return;\n\t\n\t\t\tif (this.isReady) {\n\t\t\t\tthis.start();\n\t\t\t}\n\t\n\t\t\tif (!this.isComplete) {\n\t\t\t\tif (!this.requiredQueue || this.isMemberSafe('requiredQueue') && !this.requiredQueue.length) {\n\t\t\t\t\tthis.complete();\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (this.screen.isLast()) {\n\t\t\t\tthis.addClass('last');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-close', function (_event) {\n\t\t\tif (this.isReady && this.is(_event.target)) {\n\t\t\t\tthis.stop();\n\t\t\t}\n\t\t});\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-quit', function () {\n\t\n\t\t// TODO: Make an automated way to handle this\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\t\tthis.addClass('LEAVE-END');\n\t\t\t}\n\t\t});\n\t\n\t\tthis.on('ui-open', function (_event) {\n\t\t\tthis.game.addClass('QUIT-SCREEN');\n\t\t\tthis.removeClass('LEAVE-END');\n\t\t\tthis.game.pause(true);\n\t\t});\n\t\n\t\tthis.on('ui-leave', function () {\n\t\t\tthis.game.removeClass('QUIT-SCREEN');\n\t\t\tthis.game.resume();\n\t\t});\n\t\n\t\tthis.init = function () {\n\t\t\tthis.addClass('LEAVE LEAVE-END');\n\t\t};\n\t\n\t\tthis.okay = function () {\n\t\t\tthis.game.exit();\n\t\t};\n\t\n\t\tthis.cancel = function () {\n\t\t\tthis.leave();\n\t\t};\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable-reveal', function () {\n\t\n\t\tthis.respond('select', function (_event) {\n\t\t\tvar index, stateMethod;\n\t\n\t\t\tindex = _event.message;\n\t\t\tstateMethod = this.properties.selectState || 'select';\n\t\n\t\t\tif (~index) {\n\t\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\t\tthis.reveal.item(index);\n\t\t\t\tthis.features.correct.ready(index);\n\t\t\t}\n\t\t});\n\t\n\t\tthis.entity('selectable', function () {\n\t\n\t\t\tthis.shouldSelect = function (_$target) {\n\t\t\t\tif (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0 || _$target.is('[pl-always-selectable]')) {\n\t\t\t\t\treturn !this.screen.state(this.STATE.VOICE_OVER) && !_$target.state(this.STATE.HIGHLIGHTED);\n\t\t\t\t}\n\t\n\t\t\t\treturn false;\n\t\t\t};\n\t\t});\n\t\n\t\tthis.ready = function () {\n\t\t\tvar correct;\n\t\n\t\t\tcorrect = pl.Queue.create();\n\t\n\t\t\tcorrect.on('complete', this.bind(function () {\n\t\t\t\tthis.complete();\n\t\t\t}));\n\t\n\t\t\tthis.features = this.find('.items li').map(function (_index, _node) {\n\t\t\t\tcorrect.add(_index);\n\t\t\t\treturn _index;\n\t\t\t}).toArray();\n\t\n\t\t\tthis.features.correct = correct;\n\t\t};\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tpl.game.component('selectable', function () {\n\t\n\t\tthis.behavior('select', function (_target) {\n\t\t\tvar $target;\n\t\n\t\t\tif (this.event) {\n\t\t\t\t$target = $(this.event.target).closest('li');\n\t\n\t\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: $target.index(),\n\t\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.proto(_target);\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t});\n\t\n\t\tthis.shouldSelect = function (_target) {\n\t\t\tif (!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\t};\n\t});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tpl.game.component('slides', function () {\n\t\n\t\tthis.slides = null;\n\t\n\t\tthis.ready = function () {\n\t\t\tthis.slides = this.find('> *').scope();\n\t\t};\n\t\n\t\tthis.start = function () {\n\t\t\tvar current, i, n;\n\t\n\t\t\tcurrent = this.current();\n\t\n\t\t\tif (current) {\n\t\t\t\tcurrent.start();\n\t\t\t} else if (this.slides.length) {\n\t\t\t\tthis.slides[0].open();\n\t\t\t\tfor (i = 1, n = this.slides.length; i < n; i++) {\n\t\t\t\t\tthis.slides[i] && this.slides[i].close();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tthis.current = function () {\n\t\t\treturn this.find('> .OPEN').scope();\n\t\t};\n\t\n\t\t/*\n\t  * @this {frame-component-scope} called by the next button in a frame component.\n\t  */\n\t\tthis.next = function () {\n\t\t\tvar index, nextSlide, buttonSound;\n\t\n\t\t\tif (!this.completed()) return false;\n\t\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\t\tindex = this.slides.indexOf(this);\n\t\t\tif (~index) return this.slides[index + 1];\n\t\n\t\t\tif (~index) nextSlide = this.slides[index + 1];\n\t\n\t\t\tif (nextSlide) {\n\t\t\t\tthis.leave();\n\t\t\t\tnextSlide.open();\n\t\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\n\t\t\t\treturn nextSlide;\n\t\t\t} else {\n\t\t\t\treturn this.proto();\n\t\t\t}\n\t\t};\n\t\n\t\t/*\n\t  * @this {frame-component-scope} called by the next button in a frame component.\n\t  */\n\t\tthis.prev = function () {\n\t\t\tvar index, prevSlide, buttonSound;\n\t\n\t\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\t\tindex = this.slides.indexOf(this);\n\t\t\tif (~index) return this.slides[index - 1];\n\t\n\t\t\tif (~index) prevSlide = this.slides[index - 1];\n\t\n\t\t\tif (prevSlide) {\n\t\t\t\tthis.close();\n\t\t\t\tprevSlide.open();\n\t\n\t\t\t\tif (buttonSound) buttonSound.play();\n\t\n\t\t\t\treturn prevSlide;\n\t\t\t} else {\n\t\t\t\treturn this.proto();\n\t\t\t}\n\t\t};\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tpl.game.component('title', function () {\n\t\n\t\tthis.start = function () {\n\t\t\tthis.proto();\n\t\t\tthis.showTitle();\n\t\t};\n\t\n\t\tthis.showTitle = function () {\n\t\t\tthis.image.addClass('animated ' + this.image.attr('pl-animation'));\n\t\t\tthis.complete();\n\t\t};\n\t});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tpl.game.config({\n\t\tscreenSelector: '.screen',\n\t\tcomponentDirectory: 'components/',\n\t\tdimensions: {\n\t\t\twidth: 960,\n\t\t\tratio: 16 / 9\n\t\t},\n\t\tshouldLoadComponentStyles: false\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Index script\n\t * @module\n\t */\n\t\n\t__webpack_require__(13);\n\t\n\t__webpack_require__(16);\n\t\n\t__webpack_require__(7);\n\t\n\t__webpack_require__(8);\n\t\n\t__webpack_require__(12);\n\t\n\t__webpack_require__(3);\n\t\n\t__webpack_require__(11);\n\t\n\t__webpack_require__(2);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(5);\n\t\n\t__webpack_require__(4);\n\t\n\t__webpack_require__(10);\n\t\n\t__webpack_require__(9);\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(17);\n\t\n\t__webpack_require__(15);\n\t\n\tpl.game('polar-bear', function () {\n\t\n\t\tvar resetMultipleChoice = function resetMultipleChoice() {\n\t\t\tthis.on('ui-open', function (_e) {\n\t\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\t\tif (this.isComplete) this.deselect(this.find('.' + this.STATE.SELECTED));\n\t\t\t});\n\t\t};\n\t\n\t\tthis.screen('title', function () {\n\t\t\tthis.on('ready', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\n\t\t\t\tif (this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t\t\t});\n\t\n\t\t\tthis.startAudio = function () {\n\t\t\t\tthis.title.audio.background.play();\n\t\t\t\tthis.title.audio.voiceOver.play();\n\t\t\t};\n\t\n\t\t\tthis.stopAudio = function () {\n\t\t\t\tthis.title.audio.voiceOver.stop('@ALL');\n\t\t\t};\n\t\t});\n\t\n\t\tthis.screen('what-color', function () {\n\t\t\tthis.entity('slides', function () {\n\t\t\t\tthis.entity('mc', resetMultipleChoice);\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('map', function () {\n\t\n\t\t\tthis.entity('slides', function () {\n\t\n\t\t\t\tthis.entity('.map-entity', function () {\n\t\n\t\t\t\t\tvar SELECTOR;\n\t\n\t\t\t\t\tfunction isCorrect(_element) {\n\t\t\t\t\t\tvar $el;\n\t\n\t\t\t\t\t\t$el = _element.jquery ? _element : $(_element);\n\t\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tSELECTOR = {\n\t\t\t\t\t\tCORRECT: '[pl-correct]',\n\t\t\t\t\t\tINCORRECT: '[pl-incorrect]'\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.buffer = null;\n\t\t\t\t\tthis.bctx = null;\n\t\t\t\t\tthis.countries = null;\n\t\n\t\t\t\t\t// images\n\t\t\t\t\tthis.grayMap = null;\n\t\t\t\t\tthis.iceland = null;\n\t\t\t\t\tthis.russia = null;\n\t\t\t\t\tthis.northPole = null;\n\t\t\t\t\tthis.greenland = null;\n\t\t\t\t\tthis.denmark = null;\n\t\t\t\t\tthis.norway = null;\n\t\t\t\t\tthis.canada = null;\n\t\t\t\t\tthis.usa = null;\n\t\t\t\t\tthis.sweden = null;\n\t\t\t\t\tthis.finland = null;\n\t\n\t\t\t\t\tthis.init = function () {\n\t\t\t\t\t\tthis.buffer = document.createElement('canvas');\n\t\t\t\t\t\tthis.bctx = this.buffer.getContext('2d');\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.ready = function () {\n\t\t\t\t\t\tvar correct, $countries;\n\t\n\t\t\t\t\t\tcorrect = pl.Queue.create();\n\t\n\t\t\t\t\t\tcorrect.on('complete', this.bind(function () {\n\t\t\t\t\t\t\tvar sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\t\t\t\t\t\tif (sfx) sfx.play();\n\t\t\t\t\t\t\tthis.complete();\n\t\t\t\t\t\t}));\n\t\n\t\t\t\t\t\tthis.buffer.width = 500;\n\t\t\t\t\t\tthis.buffer.height = 500;\n\t\n\t\t\t\t\t\t$countries = this.find('.country');\n\t\n\t\t\t\t\t\t$countries.not(SELECTOR.CORRECT).on('animationend', function () {\n\t\t\t\t\t\t\t$(this).removeClass('flash').addClass('fadeIn');\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\tthis.countries = $countries.map(function (_index, _node) {\n\t\t\t\t\t\t\tvar $node, id;\n\t\n\t\t\t\t\t\t\t$node = $(_node);\n\t\t\t\t\t\t\tid = pl.util.transformId($node.id(), true);\n\t\n\t\t\t\t\t\t\tif ($node.is(SELECTOR.CORRECT)) correct.add(id);\n\t\n\t\t\t\t\t\t\treturn id;\n\t\t\t\t\t\t}).toArray();\n\t\n\t\t\t\t\t\tthis.countries.correct = correct;\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.isImageTarget = function (_image, _point) {\n\t\t\t\t\t\tthis.bctx.clearRect(0, 0, this.buffer.width, this.buffer.height);\n\t\t\t\t\t\tthis.bctx.drawImage(_image[0], 0, 0, _image.width(), _image.height());\n\t\t\t\t\t\tpixel = this.bctx.getImageData(_point.x, _point.y, 1, 1);\n\t\n\t\t\t\t\t\tthis.bctx.fillStyle = 'white';\n\t\t\t\t\t\tthis.bctx.fillRect(_point.x, _point.y, 5, 5);\n\t\n\t\t\t\t\t\t// opaque pixel\n\t\t\t\t\t\treturn pixel.data[3] > 0;\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.test = function (_cursor) {\n\t\t\t\t\t\tvar offset, cursor, pixel, gameScale;\n\t\n\t\t\t\t\t\tif (!this.screen.allowAction()) return false;\n\t\n\t\t\t\t\t\toffset = this.grayMap.absolutePosition();\n\t\t\t\t\t\tgameScale = this.game.transformScale().x;\n\t\n\t\t\t\t\t\t// FireFox uses transfom scale which\n\t\t\t\t\t\t// does NOT produce scaled DOM values like `zoom`.\n\t\t\t\t\t\tif (gameScale !== 1) {\n\t\t\t\t\t\t\tcursor = _cursor.dec(offset).scale(1 / this.game.zoom).math('floor');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcursor = _cursor.scale(1 / this.game.zoom).math('floor').dec(offset);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tthis.countries.every(this.bind(function (_country) {\n\t\t\t\t\t\t\tif (this.isImageTarget(this[_country], cursor)) {\n\t\t\t\t\t\t\t\tthis.answer(_country);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}));\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.answer = function (_country) {\n\t\t\t\t\t\tvar $country, index;\n\t\n\t\t\t\t\t\t$country = this[_country];\n\t\n\t\t\t\t\t\tif ($country.is(SELECTOR.CORRECT)) {\n\t\n\t\t\t\t\t\t\tthis.playSFX('correct');\n\t\t\t\t\t\t\tthis.playVO(_country);\n\t\n\t\t\t\t\t\t\t$country.addClass('animated fadeIn');\n\t\n\t\t\t\t\t\t\tif (!this.state('COMPLETE')) this.countries.correct.ready(_country);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.playSFX('incorrect');\n\t\t\t\t\t\t\t$country.addClass('animated flash');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.playSFX = function (_answer) {\n\t\t\t\t\t\tvar sfx;\n\t\n\t\t\t\t\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.' + _answer);\n\t\n\t\t\t\t\t\tif (sfx) sfx.play();\n\t\n\t\t\t\t\t\treturn sfx;\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.playVO = function (_name) {\n\t\t\t\t\t\tvar vo;\n\t\n\t\t\t\t\t\tvo = pl.util.resolvePath(this, 'audio.voiceOver.' + _name);\n\t\n\t\t\t\t\t\tif (vo) vo.play();\n\t\n\t\t\t\t\t\treturn vo;\n\t\t\t\t\t};\n\t\n\t\t\t\t\tthis.on('ui-open', function (_e) {\n\t\t\t\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\t\t\t\tif (this.isComplete) {\n\t\t\t\t\t\t\tthis.find('.fadeIn').removeClass('fadeIn');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('bears', function () {\n\t\n\t\t\tthis.start = function (_event) {\n\t\t\t\tthis.proto();\n\t\t\t\tthis.carousel.start();\n\t\t\t};\n\t\n\t\t\tthis.stop = function () {\n\t\t\t\tthis.carousel.stop();\n\t\t\t};\n\t\n\t\t\tthis.on('ui-select', function (_event) {\n\t\t\t\tif (_event.targetScope === this.reveal) {\n\t\t\t\t\tthis.reveal.delay('1s', function () {\n\t\t\t\t\t\tvar $selected;\n\t\n\t\t\t\t\t\t$selected = this.getSelected();\n\t\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t\t$selected.addClass('animated slideOutUp').on('animationend', function () {\n\t\t\t\t\t\t\t$selected.removeClass('slideOutUp');\n\t\t\t\t\t\t\t$selected.off();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.on('ui-open', function (_event) {\n\t\t\t\tif (!this.is(_event.target)) return;\n\t\t\t\tthis.carousel.start();\n\t\n\t\t\t\tif (this.isComplete) this.score.reset();\n\t\t\t});\n\t\n\t\t\tthis.state('incomplete', '-COMPLETE', {\n\t\t\t\twillSet: function willSet(_target) {\n\t\t\t\t\tthis.isComplete = false;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.entity('carousel', function () {\n\t\t\t\t// The event 'behaviorTarget' for this entities 'hit' behavior\n\t\t\t\tthis.provideBehaviorTarget = function () {\n\t\t\t\t\t// Choose the item thats in the middle of the 3 visible.\n\t\t\t\t\treturn this.current().next();\n\t\t\t\t};\n\t\t\t});\n\t\n\t\t\tthis.respond('hit', function (_event) {\n\t\t\t\tif (_event.message === _event.behaviorTarget.id()) {\n\t\t\t\t\tthis.score.up();\n\t\t\t\t\tthis.playSFX('correct');\n\t\t\t\t} else {\n\t\t\t\t\tthis.playSFX('incorrect');\n\t\t\t\t}\n\t\n\t\t\t\tthis.reveal.item(_event.behaviorTarget.id());\n\t\t\t});\n\t\n\t\t\tthis.respond('next', function () {\n\t\t\t\tthis.cannon.ball.reload();\n\t\t\t});\n\t\n\t\t\tthis.playSFX = function (_name) {\n\t\t\t\tvar sfx;\n\t\n\t\t\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.' + _name);\n\t\n\t\t\t\tif (sfx) sfx.play();\n\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\t});\n\t\n\t\tthis.screen('experiment-hands', resetMultipleChoice);\n\t\tthis.screen('experiment-why-warmer', resetMultipleChoice);\n\t\tthis.screen('experiment-how-warmer', resetMultipleChoice);\n\t\n\t\tthis.screen('experiment-discover', function () {\n\t\t\tthis.on('ui-open', function (_e) {\n\t\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\t\tthis.unhighlight(this.find('.' + this.STATE.HIGHLIGHTED));\n\t\t\t});\n\t\n\t\t\tthis.respond('select', function (_event) {\n\t\t\t\tvar id = _event.message;\n\t\n\t\t\t\tif (id) {\n\t\t\t\t\tthis.highlight(_event.behaviorTarget);\n\t\t\t\t\tthis.audio.voiceOver[id].play();\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tthis.entity('selectable', function () {\n\t\t\t\tthis.behavior('select', function (_target) {\n\t\t\t\t\tvar $target;\n\t\n\t\t\t\t\tif (this.event) {\n\t\t\t\t\t\t$target = $(this.event.target).closest('li');\n\t\n\t\t\t\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tmessage: $target.id(),\n\t\t\t\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.proto(_target);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\n\t\tthis.screen('flip', function () {\n\t\n\t\t\tthis.complete = function (_event) {\n\t\t\t\tvar eventCategory = ['game', this.game.id(), this.id() + '(' + (this.index() + 1) + ')'].join(' ');\n\t\n\t\t\t\tga('send', 'event', eventCategory, 'complete');\n\t\n\t\t\t\treturn this.proto();\n\t\t\t};\n\t\t});\n\t\n\t\tthis.exit = function () {\n\t\t\tvar screen, eventCategory;\n\t\n\t\t\tscreen = this.findOwn(pl.game.config('screenSelector') + '.OPEN:not(#quit)').scope();\n\t\t\teventCategory = ['game', this.id(), screen.id() + '(' + (screen.index() + 1) + ')'].join(' ');\n\t\n\t\t\tga('send', 'event', eventCategory, 'quit');\n\t\n\t\t\treturn this.proto();\n\t\t};\n\t});\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t(function (i, s, o, g, r, a, m) {\n\t  i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {\n\t    (i[r].q = i[r].q || []).push(arguments);\n\t  }, i[r].l = 1 * new Date();a = s.createElement(o), m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m);\n\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\n\tga('create', 'UA-26000499-1', 'auto');\n\tga('send', 'pageview');\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tpl.game.component('screen-ios-splash', function () {\n\t\n\t\tthis.on('ready', function (_e) {\n\t\t\tif (!this.is(_e.target)) return;\n\t\n\t\t\tif (this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\t\tthis.splash();\n\t\t\t}\n\t\t});\n\t\n\t\tthis.splash = function () {\n\t\t\tthis.close(this.game.loader);\n\t\n\t\t\tif (this.game.hasClass('iOS')) {\n\t\t\t\tthis.open();\n\t\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t\t} else {\n\t\t\t\tthis.game.title.open();\n\t\t\t}\n\t\t};\n\t\n\t\tthis.next = function () {\n\t\t\tvar nextScreen = this.proto();\n\t\n\t\t\tif (nextScreen) {\n\t\t\t\tthis.screen.leave();\n\t\t\t\tnextScreen.open();\n\t\t\t\tthis.game.audio.sfx.button.play();\n\t\t\t}\n\t\n\t\t\treturn nextScreen;\n\t\t};\n\t\n\t\tthis.complete = function () {\n\t\t\tthis.game.audio.sfx.play('screenComplete');\n\t\t\treturn this.proto();\n\t\t};\n\t\n\t\tthis.startGame = function () {\n\t\t\tif (!this.hasClass('FINISHED')) return;\n\t\t\tthis.game.addClass('STARTED');\n\t\t\tthis.delay('2.5s', function () {\n\t\t\t\tthis.next();\n\t\t\t});\n\t\t};\n\t\n\t\tthis.on('animationend', function (_e) {\n\t\t\tif (!this.ball.is(_e.target)) return;\n\t\t\tthis.addClass('FINISHED');\n\t\t});\n\t});\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\t(function test(_env) {\n\t\tif (window.parent === window) {\n\t\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t\t} else {\n\t\t\tdocument.domain = 'changemyworldnow.com';\n\t\t}\n\t})();\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** polar-bear/ai.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 34946c33ff05a667608a\n **/","pl.game.component('cannon', function () {\n\n\tthis.entity('ball', function () {\n\t\t\n\t\tthis.reloadRequest = false;\n\t\tthis.isLaunchComplete = false;\n\n\t\tthis.willInit = function () {\n\t\t\tif (this.cannon.properties.ball) {\n\t\t\t\tthis.attr('src', this.cannon.properties.ball);\n\t\t\t\t// I shouldn't have to do this\n\t\t\t\tthis.on('load', function () {\n\t\t\t\t\tthis.assetQueue.ready(this.node().src);\n\t\t\t\t\tthis.off('load');\n\t\t\t\t})\n\t\t\t}\n\t\t};\n\n\t\tthis.on('transitionend', function () {\n\t\t\tthis.log('transitionend');\n\n\t\t\tthis.isLaunchComplete = true;\n\n\t\t\tif (this.launched()) {\n\t\t\t\tthis.playSFX('hit');\n\n\t\t\t\tif (this.reloadRequest) {\n\t\t\t\t\tthis.reload();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.state('launch launched', '+LAUNCHED -RELOAD', {\n\t\t\tdidSet: function () {\n\t\t\t\tthis.playSFX('fire');\n\t\t\t\tthis.isLaunchComplete = false;\n\t\t\t}\n\t\t});\n\n\t\tthis.state('reload', '+RELOAD -LAUNCHED', {\n\t\t\tshouldSet: function () {\n\t\t\t\tif (!this.isLaunchComplete) {\n\t\t\t\t\tthis.reloadRequest = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdidSet: function () {\n\t\t\t\tthis.reloadRequest = false;\n\t\t\t}\n\t\t});\n\t});\n\n\tthis.behavior('fire', function () {\n\t\tthis.ball.launch();\n\t\treturn {\n\t\t\tmessage: this.cannon.properties.fire\n\t\t};\n\t});\n\n\tthis.reload = function () {\n\t\tthis.ball.reload();\n\t};\n\n\tthis.playSFX = function (_name) {\n\t\tvar sfx;\n\n\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.'+_name);\n\n\t\tif (sfx) sfx.play();\n\n\t\treturn this;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/cannon/behavior.js\n **/","pl.game.component('carousel', function () {\n\n\tthis.TYPE = (function () {\n\t\t\n\t\tthis.SLIDE = 'slide';\n\t\tthis.CROSS_FADE = 'cross-fade';\n\n\t\treturn this;\n\n\t}).call(['slide', 'cross-fade']);\n\n\tthis.type = null\n\tthis.$images = null;\n\tthis.nodes = null;\n\tthis.shouldRandomize = false;\n\tthis.isPlaying = false;\n\n\tthis.ready = function () {\n\t\tthis.$images = this.find('img');\n\t\tthis.shouldRandomize = this.properties.has('randomize');\n\n\t\tif (this.TYPE.every(this.bind(function (_type) {\n\t\t\treturn !this.hasClass(_type);\n\t\t}))) {\n\t\t\tthis.addClass(this.TYPE.CROSS_FADE);\n\t\t}\n\n\t\tif (this.$images.length) {\n\t\t\tthis.nodes = this.$images.map(this.bind(function (_index, _node) {\n\t\t\t\tvar siblings;\n\t\t\t\t\n\t\t\t\tsiblings = [_node.previousSibling, _node.nextSibling];\n\n\t\t\t\tsiblings.forEach(function (_node) {\n\t\t\t\t\tif (_node.nodeType === document.TEXT_NODE) {\n\t\t\t\t\t\t$(_node).remove();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn _node;\n\t\t\t})).toArray();\n\t\t}\n\t\t\n\t\tthis.TYPE.forEach(this.bind(function (_item) {\n\t\t\tif (this.hasClass(_item)) this.type = _item;\n\t\t}));\n\n\t\tthis.on('transitionend', function (_event) {\n\t\t\tif (_event.target.nodeName === 'IMG' && $(_event.target).state(this.STATE.LEAVE)) {\n\t\t\t\tthis.recycle();\n\t\t\t}\n\t\t});\n\t};\n\n\tthis.provideBehaviorTarget = function () {\n\t\treturn this.current();\n\t};\n\n\tthis.respond('fire', function (_event) {\n\t\tthis.hit(_event.message);\n\t});\n\n\tthis.behavior('hit', function (_message) {\n\t\treturn {\n\t\t\tmessage: _message,\n\t\t\tbehaviorTarget: this.provideBehaviorTarget()\n\t\t};\n\t});\n\n\tthis.behavior('next', function () {\n\t\tvar current;\n\n\t\tcurrent = this.$images.first();\n\n\t\tthis.leave(current);\n\t\tthis.open(current.next());\n\t});\n\n\tthis.start = function () {\n\t\tvar delay;\n\n\t\tdelay = pl.util.toMillisec(this.properties.delay) || 1000;\n\n\t\tif (this.isReady && !this.isPlaying) {\n\t\t\tthis.isPlaying = true;\n\t\t\tthis.open(this.$images.first());\n\t\t\tthis.repeat(delay, this.next);\n\t\t}\n\t\t\n\t\telse {\n\t\t\tthis.on('ready', this.beginShow);\n\t\t}\n\t};\n\n\tthis.stop = function () {\n\t\tthis.kill('repeat');\n\t\tthis.isPlaying = false;\n\t};\n\n\tthis.current = function () {\n\t\treturn this.$images.filter('.OPEN');\n\t};\n\n\tthis.recycle = function () {\n\t\tvar $current, reload;\n\n\t\t$current = this.$images.first();\n\t\treload = this.reloadWithNode(this.$images[0]);\n\n\t\t$current.removeClass(this.STATE.LEAVE);\n\t\t$current.remove();\n\n\t\t[].shift.call(this.$images);\n\n\t\tthis.$images.push(reload);\n\t\tthis.append(reload);\n\n\t\treturn this;\n\t};\n\n\tthis.reloadWithNode = function (_item) {\n\t\tvar $clone, state;\n\n\t\tif (this.shouldRandomize) {\n\t\t\t$clone = $(pl.util.random(this.nodes)).clone();\n\t\t\tstate = $clone.state();\n\n\t\t\tif (state) $clone.removeClass(state.join ? state.join(' ') : state);\n\n\t\t\treturn $clone[0];\n\t\t}\n\n\t\treturn _item;\n\t};\n\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/carousel/behavior.js\n **/","pl.game.component('frame', function () {\n\t\n\tthis.ready = function () {\n\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\tvar sfx;\n\n\t\t\t\tsfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n\t\t\t\tif (sfx) sfx.play();\n\t\t\t}));\n\t\t}\n\t};\n\n\tthis.start = function () {\n\t\tvar voSound;\n\n\t\tif (this.audio) {\n\t\t\tvoSound = this.audio.voiceOver[0];\n\n\t\t\tthis.audio.background.play();\n\t\t\tif (voSound && !voSound.config(\"dontautoplay\")) voSound.play();\n\t\t}\n\n\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n\t\treturn this;\n\t};\n\n\tthis.on('ui-open', function (_event) {\n\t\tif (this.isReady) {\n\t\t\tthis.start();\n\t\t}\n\n\t\tif (this === _event.targetScope) {\n\t\t\tif (!(this.hasOwnProperty('isComplete') && this.isComplete) && !(this.hasOwnProperty('requiredQueue') && (this.requiredQueue && this.requiredQueue.length))) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\t}\n\t});\n\n\tthis.on('ui-close', function (_event) {\n\t\tif (this.isReady && this.is(_event.target)) {\n\t\t\tthis.stop();\n\t\t}\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/frame/behavior.js\n **/","pl.game.component('multiple-choice', function () {\n\n\tfunction validateAnswer (_scope) {\n\t\tvar $selected, answers, $correct, correctCount;\n\n\t\t$selected = _scope.getSelected();\n\n\t\tif (_scope.properties.correct) {\n\t\t\tanswers = _scope.properties.correct.split(/\\s*,\\s*/);\n\n\t\t\tif (~answers.indexOf(String($selected.index()))) {\n\t\t\t\tif(_scope.isComplete) _scope.playSFX('correct');\n\t\t\t\t_scope.complete();\n\t\t\t} else {\n\t\t\t\t_scope.playSFX('incorrect');\n\t\t\t}\n\t\t} else {\n\t\t\tcorrectCount = 0;\n\t\t\t$correct = _scope.find('[pl-correct]');\n\n\t\t\tif (~$.inArray($selected[0], $correct)) {\n\t\t\t\tif(_scope.isComplete) _scope.playSFX('correct');\n\t\t\t\t_scope.complete();\n\t\t\t} else {\n\t\t\t\t_scope.playSFX('incorrect');\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tthis.playSFX = function (_answer) {\n\t\tvar sfx;\n\n\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.'+_answer);\n\n\t\tif (sfx) sfx.play();\n\n\t\treturn sfx;\n\t};\n\n\tthis.playVO = function (_name) {\n\t\tvar vo;\n\n\t\tvo = pl.util.resolvePath(this, 'audio.voiceOver.'+_name);\n\n\t\tif (vo) vo.play();\n\n\t\treturn vo;\n\t};\n\n\tthis.answer = function () {\n\t\tif (this.screen.state(this.screen.STATE.VOICE_OVER) && !this.game.demoMode) return;\n\n\t\tif (this.event) {\n\t\t\t$li = $(this.event.target).closest('li');\n\t\t\tthis.playVO($li.id());\n\n\t\t\tif (this.select($li)) {\n\t\t\t\tvalidateAnswer(this);\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.start = function() {};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/multiple-choice/behavior.js\n **/","pl.game.component('reveal', function () {\n\n\tthis.on('transitionend', function (_event) {\n\t\tif (!this.opened()) {\n\t\t\tthis.addClass('ANIM-DONE');\n\t\t}\n\t});\n\n\tthis.item = function (_id) {\n\t\tvar vo, index;\n\n\t\tthis.removeClass('ANIM-DONE');\n\t\tthis.open();\n\n\t\tif (typeof _id === 'number') {\n\t\t\tthis.select('li:nth-child('+_id+')');\n\t\t\tthis.audio.voiceOver[_id].play();\n\t\t}\n\t\t\t\n\t\telse if (typeof _id === 'string') {\n\t\t\tif (this[_id]) {\n\t\t\t\tthis.select(this[_id]);\n\n\t\t\t\tif (this.audio) {\n\t\t\t\t\tindex = this[_id].index();\n\t\t\t\t\tvo = this.audio.voiceOver[_id] || this.audio.voiceOver[index];\n\t\t\t\t\t\n\t\t\t\t\tif (vo) vo.play();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/reveal/behavior.js\n **/","pl.game.component('score', function () {\n\n\tthis.value = 0;\n\n\tthis.entity('board', function () {\n\t\t\n\t\tthis.template = null;\n\n\t\tthis.ready = function () {\n\t\t\tthis.template = this.counter.html();\n\t\t};\n\n\t\tthis.render = function () {\n\t\t\tthis.counter.html(this.template.replace('{{score}}', this.value));\n\t\t\treturn this;\n\t\t};\n\n\t});\n\n\tthis.reset = function() {\n\t\tthis.value = 0;\n\t\tthis.ready();\n\t};\n\n\tthis.ready = function () {\n\t\tthis.attr('value',this.value);\n\t\tthis.board.render();\n\t};\n\n\tthis.up = function (_count) {\n\t\tthis.value+= _count || 1;\n\n\t\tthis.attr('value',this.value);\n\t\tthis.board.render();\n\n\t\tconsole.log('score', this.value, this.properties.max)\n\n\t\tif (this.value >= this.properties.max) {\n\t\t\tconsole.log('oh word');\n\t\t\tthis.complete();\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.down = function (_count) {\n\t\tthis.value-= _count || 1;\n\n\t\tthis.attr('value',this.value);\n\t\tthis.board.render();\n\t\t\n\t\tif (this.value >= this.properties.max) {\n\t\t\tthis.complete();\n\t\t}\n\n\t\treturn this;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/score/behavior.js\n **/","pl.game.component('screen-basic', function () {\n\n\tthis.allowAction = function() {\n\t\treturn !this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode;\n\t};\n\n\tthis.on('ready', function (_event) {\n\t\tif(!this.is(_event.target)) return;\n\n\t\tif (this.isMemberSafe('requiredQueue') && this.requiredQueue) {\n\t\t\tthis.requiredQueue.on('complete', this.bind(function () {\n\t\t\t\tvar sfx;\n\n\t\t\t\tsfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\n\t\t\t\tif (sfx) sfx.play();\n\t\t\t}));\n\t\t}\n\n\t\tif(this.state(this.STATE.OPEN)) this.start();\n\t});\n\t\n\tthis.next = function () {\n\t\tvar current, nextScreen, buttonSound;\n\n\t\tif(!this.state(this.STATE.OPEN)) return;\n\n\t\tif(this.hasClass('last') && this.hasClass('COMPLETE')) this.game.quit.okay();\n\n\t\tif (this !== this.screen) {\n\t\t\tthis.log('Not called on a screen');\n\t\t\tconsole.trace();\n\t\t\treturn;\n\t\t}\n\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\t// delegate to a child \"slides\" component.\n\t\tif (this.slides && this.slides.isComponent) {\n\t\t\tcurrent = this.slides.current();\n\t\t\tnextScreen = current.next();\n\n\t\t\tif (nextScreen == null) {\n\t\t\t\tcurrent = this;\n\t\t\t\tnextScreen = this.proto();\n\t\t\t}\n\t\t}\n\n\t\telse {\n\t\t\tcurrent = this;\n\t\t\tnextScreen = this.proto();\n\t\t}\n\n\t\tif (nextScreen) {\n\t\t\tcurrent.leave();\n\t\t\tnextScreen.open();\n\t\t\tif (buttonSound) buttonSound.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.prev = function () {\n\t\tvar current, prevScreen, buttonSound;\n\n\t\tif(!this.state(this.STATE.OPEN)) return;\n\n\t\tif (this !== this.screen) {\n\t\t\tthis.log('Not called on a screen');\n\t\t\tconsole.trace();\n\t\t\treturn;\n\t\t}\n\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\n\t\t// delegate to a child \"slides\" component.\n\t\tif (this.slides && this.slides.isComponent) {\n\t\t\tcurrent = this.slides.current();\n\t\t\tprevScreen = current.prev();\n\n\t\t\tif (prevScreen == null) {\n\t\t\t\tcurrent = this;\n\t\t\t\tprevScreen = this.proto();\n\t\t\t}\n\t\t}\n\n\t\telse {\n\t\t\tcurrent = this;\n\t\t\tprevScreen = this.proto();\n\t\t}\n\n\t\tif (prevScreen) {\n\t\t\tcurrent.close();\n\t\t\tprevScreen.open();\n\t\t\tif (buttonSound) buttonSound.play();\n\t\t}\n\n\t\treturn prevScreen;\n\t};\n\n\tthis.start = function () {\n\t\tthis.startAudio();\n\n\t\tif (this.hasOwnProperty('entities') && this.entities[0]) this.entities[0].start();\n\n\t\treturn this;\n\t};\n\n\tthis.on('ui-open', function (_event) {\n\t\tif (this !== _event.targetScope) return;\n\n\t\tif (this.isReady) {\n\t\t\tthis.start();\n\t\t}\n\n\t\tif (!this.isComplete) {\n\t\t\tif (!this.requiredQueue || (this.isMemberSafe('requiredQueue') && !this.requiredQueue.length)) {\n\t\t\t\tthis.complete();\n\t\t\t}\n\t\t}\n\n\t\tif (this.screen.isLast()) {\n\t\t\tthis.addClass('last');\n\t\t}\n\t});\n\n\tthis.on('ui-close', function (_event) {\n\t\tif (this.isReady && this.is(_event.target)) {\n\t\t\tthis.stop();\n\t\t}\n\t});\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/screen-basic/behavior.js\n **/","pl.game.component('screen-quit', function () {\n\n\t// TODO: Make an automated way to handle this\n\tthis.on('transitionend', function (_event) {\n\t\tif (this.state(this.STATE.LEAVE)) {\n\t\t\tthis.addClass('LEAVE-END');\t\n\t\t}\n\t});\n\n\tthis.on('ui-open', function (_event) {\n\t\tthis.game.addClass('QUIT-SCREEN');\n\t\tthis.removeClass('LEAVE-END');\n\t\tthis.game.pause(true);\n\t});\n\n\tthis.on('ui-leave', function () {\n\t\tthis.game.removeClass('QUIT-SCREEN');\n\t\tthis.game.resume();\n\t});\n\n\tthis.init = function () {\n\t\tthis.addClass('LEAVE LEAVE-END');\n\t};\n\t\n\tthis.okay = function () {\n\t\tthis.game.exit();\n\t};\n\n\tthis.cancel = function () {\n\t\tthis.leave();\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/screen-quit/behavior.js\n **/","pl.game.component('selectable-reveal', function () {\n\t\n\tthis.respond('select', function (_event) {\n\t\tvar index, stateMethod;\n\n\t\tindex = _event.message;\n\t\tstateMethod = this.properties.selectState || 'select';\n\n\t\tif (~index) {\n\t\t\tthis[stateMethod](_event.behaviorTarget);\n\t\t\tthis.reveal.item(index);\n\t\t\tthis.features.correct.ready(index);\n\t\t}\n\t});\n\n\tthis.entity('selectable', function () {\n\t\t\n\t\tthis.shouldSelect = function (_$target) {\n\t\t\tif (_$target.prev().hasClass(this.STATE.HIGHLIGHTED) || _$target.index() === 0 || _$target.is('[pl-always-selectable]')) {\n\t\t\t\treturn !this.screen.state(this.STATE.VOICE_OVER) && !_$target.state(this.STATE.HIGHLIGHTED);\n\t\t\t}\n\n\t\t\treturn false; \n\t\t};\n\n\t});\n\n\tthis.ready = function () {\n\t\tvar correct;\n\n\t\tcorrect = pl.Queue.create();\n\n\t\tcorrect.on('complete', this.bind(function () {\n\t\t\tthis.complete();\n\t\t}));\n\n\t\tthis.features = this\n\t\t\t.find('.items li')\n\t\t\t.map(function (_index, _node) {\n\t\t\t\tcorrect.add(_index);\n\t\t\t\treturn _index;\n\t\t\t})\n\t\t\t.toArray();\n\n\t\tthis.features.correct = correct;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/selectable-reveal/behavior.js\n **/","pl.game.component('selectable', function () {\n\n\tthis.behavior('select', function (_target) {\n\t\tvar $target;\n\n\t\tif (this.event) {\n\t\t\t$target = $(this.event.target).closest('li');\n\n\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: $target.index(),\n\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t};\n\t\t\t}\t\n\t\t}\n\n\t\telse {\n\t\t\tthis.proto(_target);\n\t\t}\n\n\t\treturn false;\n\t});\n\n\tthis.shouldSelect = function (_target) {\n\t\tif(!this.screen.state(this.screen.STATE.VOICE_OVER) || this.game.demoMode) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/selectable/behavior.js\n **/","pl.game.component('slides', function () {\n\t\n\tthis.slides = null;\n\n\tthis.ready = function () {\n\t\tthis.slides = this.find('> *').scope();\n\t};\n\n\tthis.start = function () {\n\t\tvar current, i, n;\n\n\t\tcurrent = this.current();\n\n\t\tif (current) {\n\t\t\tcurrent.start();\n\t\t}\n\n\t\telse if (this.slides.length) {\n\t\t\tthis.slides[0].open();\n\t\t\tfor(i = 1, n = this.slides.length; i < n; i++) {\n\t\t\t\tthis.slides[i] && this.slides[i].close();\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.current = function () {\n\t\treturn this.find('> .OPEN').scope();\n\t};\n\n\t/*\n\t * @this {frame-component-scope} called by the next button in a frame component.\n\t */\n\tthis.next = function () {\n\t\tvar index, nextSlide, buttonSound;\n\n\t\tif (!this.completed()) return false;\n\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\tindex = this.slides.indexOf(this);\n\t\tif (~index) return this.slides[index+1];\n\n\n\t\tif (~index) nextSlide = this.slides[index+1];\n\t\t\n\t\tif (nextSlide) {\n\t\t\tthis.leave();\n\t\t\tnextSlide.open();\n\n\t\t\tif (buttonSound) buttonSound.play();\n\n\t\t\treturn nextSlide;\n\t\t}\n\n\t\telse {\n\t\t\treturn this.proto();\n\t\t}\n\t};\n\n\t/*\n\t * @this {frame-component-scope} called by the next button in a frame component.\n\t */\n\tthis.prev = function () {\n\t\tvar index, prevSlide, buttonSound;\n\n\t\tbuttonSound = pl.util.resolvePath(this, 'game.audio.sfx.button');\n\t\tindex = this.slides.indexOf(this);\n\t\tif (~index) return this.slides[index-1];\n\n\n\t\tif (~index) prevSlide = this.slides[index-1];\n\t\t\n\t\tif (prevSlide) {\n\t\t\tthis.close();\n\t\t\tprevSlide.open();\n\n\t\t\tif (buttonSound) buttonSound.play();\n\n\t\t\treturn prevSlide;\n\t\t}\n\n\t\telse {\n\t\t\treturn this.proto();\n\t\t}\n\t};\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/slides/behavior.js\n **/","pl.game.component('title', function () {\n\n\tthis.start = function () {\n\t\tthis.proto();\n\t\tthis.showTitle();\n\t};\n\n\tthis.showTitle = function () {\n\t\tthis.image.addClass('animated '+this.image.attr('pl-animation'));\n\t\tthis.complete();\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/components/title/behavior.js\n **/","pl.game.config({\n\tscreenSelector: '.screen',\n\tcomponentDirectory: 'components/',\n\tdimensions: {\n\t\twidth: 960,\n\t\tratio: 16/9\n\t},\n\tshouldLoadComponentStyles: false\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/config.game.js\n **/","/**\n * Index script\n * @module\n */\nimport './config.game';\n\nimport '../../../shared/js/screen-ios-splash';\nimport './components/screen-basic/behavior';\nimport './components/screen-quit/behavior';\nimport './components/title/behavior';\nimport './components/frame/behavior';\nimport './components/slides/behavior';\nimport './components/carousel/behavior';\nimport './components/score/behavior';\nimport './components/reveal/behavior';\nimport './components/multiple-choice/behavior';\nimport './components/selectable/behavior';\nimport './components/selectable-reveal/behavior';\nimport './components/cannon/behavior';\n\nimport '../../../shared/js/test-platform-integration';\nimport '../../../shared/js/google-analytics';\n\npl.game('polar-bear', function () {\n\n\tvar resetMultipleChoice = function() {\n\t\tthis.on('ui-open', function(_e) {\n\t\t\tif(!this.is(_e.target)) return;\n\n\t\t\tif(this.isComplete) this.deselect(this.find('.'+this.STATE.SELECTED));\n\t\t});\n\t};\n\n\tthis.screen('title', function () {\n\t\tthis.on('ready', function(_event) {\n\t\t\tif(!this.is(_event.target)) return;\n\n\t\t\tif(this.game.iosSplash.state(this.STATE.READY)) this.game.iosSplash.splash();\n\t\t});\n\n\t\tthis.startAudio = function () {\n\t\t\tthis.title.audio.background.play();\n\t\t\tthis.title.audio.voiceOver.play();\n\t\t};\n\n\t\tthis.stopAudio = function () {\n\t\t\tthis.title.audio.voiceOver.stop('@ALL');\n\t\t};\n\t});\n\n\tthis.screen('what-color', function() {\n\t\tthis.entity('slides', function() {\n\t\t\tthis.entity('mc', resetMultipleChoice);\n\t\t});\n\t});\n\n\tthis.screen('map', function () {\n\n\t\tthis.entity('slides', function () {\n\t\t\t\n\t\t\tthis.entity('.map-entity', function () {\n\n\t\t\t\tvar SELECTOR;\n\n\t\t\t\tfunction isCorrect (_element) {\n\t\t\t\t\tvar $el;\n\n\t\t\t\t\t$el = _element.jquery ? _element : $(_element);\n\n\t\t\t\t\treturn \n\t\t\t\t}\n\n\t\t\t\tSELECTOR = {\n\t\t\t\t\tCORRECT: '[pl-correct]',\n\t\t\t\t\tINCORRECT: '[pl-incorrect]'\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.buffer = null;\n\t\t\t\tthis.bctx = null;\n\t\t\t\tthis.countries = null;\n\n\t\t\t\t// images\n\t\t\t\tthis.grayMap = null;\n\t\t\t\tthis.iceland = null;\n\t\t\t\tthis.russia = null;\n\t\t\t\tthis.northPole = null;\n\t\t\t\tthis.greenland = null;\n\t\t\t\tthis.denmark = null;\n\t\t\t\tthis.norway = null;\n\t\t\t\tthis.canada = null;\n\t\t\t\tthis.usa = null;\n\t\t\t\tthis.sweden = null;\n\t\t\t\tthis.finland = null;\n\n\t\t\t\tthis.init = function () {\n\t\t\t\t\tthis.buffer = document.createElement('canvas');\n\t\t\t\t\tthis.bctx = this.buffer.getContext('2d');\n\t\t\t\t};\n\n\t\t\t\tthis.ready = function () {\n\t\t\t\t\tvar correct, $countries;\n\n\t\t\t\t\tcorrect = pl.Queue.create();\n\n\t\t\t\t\tcorrect.on('complete', this.bind(function () {\n\t\t\t\t\t\tvar sfx = pl.util.resolvePath(this, 'game.audio.sfx.screenComplete');\n\t\t\t\t\t\tif (sfx) sfx.play();\n\t\t\t\t\t\tthis.complete();\n\t\t\t\t\t}));\n\n\t\t\t\t\tthis.buffer.width = 500;\n\t\t\t\t\tthis.buffer.height = 500;\n\n\t\t\t\t\t$countries = this.find('.country');\n\n\t\t\t\t\t$countries\n\t\t\t\t\t\t.not(SELECTOR.CORRECT)\n\t\t\t\t\t\t.on('animationend', function () {\n\t\t\t\t\t\t\t$(this).removeClass('flash').addClass('fadeIn');\n\t\t\t\t\t\t});\n\n\t\t\t\t\tthis.countries = $countries\n\t\t\t\t\t\t.map(function (_index, _node) {\n\t\t\t\t\t\t\tvar $node, id;\n\n\t\t\t\t\t\t\t$node = $(_node);\n\t\t\t\t\t\t\tid = pl.util.transformId($node.id(), true);\n\n\t\t\t\t\t\t\tif ($node.is(SELECTOR.CORRECT)) correct.add(id);\n\n\t\t\t\t\t\t\treturn id;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.toArray();\n\n\t\t\t\t\tthis.countries.correct = correct;\n\n\t\t\t\t};\n\n\t\t\t\tthis.isImageTarget = function (_image, _point) {\n\t\t\t\t\tthis.bctx.clearRect(0,0, this.buffer.width, this.buffer.height);\n\t\t\t\t\tthis.bctx.drawImage(_image[0], 0,0, _image.width(), _image.height());\n\t\t\t\t\tpixel = this.bctx.getImageData(_point.x, _point.y, 1,1);\n\n\t\t\t\t\tthis.bctx.fillStyle = 'white';\n\t\t\t\t\tthis.bctx.fillRect(_point.x, _point.y, 5,5);\n\n\t\t\t\t\t// opaque pixel\n\t\t\t\t\treturn pixel.data[3] > 0;\n\t\t\t\t};\n\n\t\t\t\tthis.test = function (_cursor) {\n\t\t\t\t\tvar offset, cursor, pixel, gameScale;\n\n\t\t\t\t\tif(!this.screen.allowAction()) return false;\n\n\t\t\t\t\toffset = this.grayMap.absolutePosition();\n\t\t\t\t\tgameScale = this.game.transformScale().x;\n\t\t\t\t\t\n\t\t\t\t\t// FireFox uses transfom scale which\n\t\t\t\t\t// does NOT produce scaled DOM values like `zoom`.\n\t\t\t\t\tif (gameScale !== 1) {\n\t\t\t\t\t\tcursor = _cursor\n\t\t\t\t\t\t\t.dec(offset)\n\t\t\t\t\t\t\t.scale(1/this.game.zoom)\n\t\t\t\t\t\t\t.math('floor');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcursor = _cursor\n\t\t\t\t\t\t\t.scale(1/this.game.zoom)\n\t\t\t\t\t\t\t.math('floor')\n\t\t\t\t\t\t\t.dec(offset);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.countries.every(this.bind(function (_country) {\n\t\t\t\t\t\tif (this.isImageTarget(this[_country], cursor)) {\n\t\t\t\t\t\t\tthis.answer( _country);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}));\n\t\t\t\t};\n\n\t\t\t\tthis.answer = function (_country) {\n\t\t\t\t\tvar $country, index;\n\n\t\t\t\t\t$country = this[_country];\n\n\t\t\t\t\tif ($country.is(SELECTOR.CORRECT)) {\n\n\t\t\t\t\t\tthis.playSFX('correct');\n\t\t\t\t\t\tthis.playVO(_country);\n\n\t\t\t\t\t\t$country.addClass('animated fadeIn');\n\n\t\t\t\t\t\tif(!this.state('COMPLETE')) this.countries.correct.ready(_country);\n\t\t\t\t\t}\n\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.playSFX('incorrect');\n\t\t\t\t\t\t$country.addClass('animated flash');\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.playSFX = function (_answer) {\n\t\t\t\t\tvar sfx;\n\n\t\t\t\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.'+_answer);\n\n\t\t\t\t\tif (sfx) sfx.play();\n\n\t\t\t\t\treturn sfx;\n\t\t\t\t};\n\n\t\t\t\tthis.playVO = function (_name) {\n\t\t\t\t\tvar vo;\n\n\t\t\t\t\tvo = pl.util.resolvePath(this, 'audio.voiceOver.'+_name);\n\n\t\t\t\t\tif (vo) vo.play();\n\n\t\t\t\t\treturn vo;\n\t\t\t\t};\n\n\t\t\t\tthis.on('ui-open', function(_e) {\n\t\t\t\t\tif(!this.is(_e.target)) return;\n\n\t\t\t\t\tif(this.isComplete) {\n\t\t\t\t\t\tthis.find('.fadeIn').removeClass('fadeIn');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t});\n\n\t});\n\n\tthis.screen('bears', function () {\n\n\t\tthis.start = function (_event) {\n\t\t\tthis.proto();\n\t\t\tthis.carousel.start();\n\t\t};\n\n\t\tthis.stop = function () {\n\t\t\tthis.carousel.stop();\n\t\t};\n\n\t\tthis.on('ui-select', function (_event) {\n\t\t\tif (_event.targetScope === this.reveal) {\n\t\t\t\tthis.reveal.delay('1s', function () {\n\t\t\t\t\tvar $selected;\n\n\t\t\t\t\t$selected = this.getSelected();\n\n\t\t\t\t\tthis.close();\n\t\t\t\t\t$selected\n\t\t\t\t\t\t.addClass('animated slideOutUp')\n\t\t\t\t\t\t.on('animationend', function () {\n\t\t\t\t\t\t\t$selected.removeClass('slideOutUp');\n\t\t\t\t\t\t\t$selected.off();\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t});\n\n\t\tthis.on('ui-open', function(_event) {\n\t\t\tif(!this.is(_event.target)) return;\n\t\t\tthis.carousel.start();\n\n\t\t\tif(this.isComplete) this.score.reset();\n\t\t});\n\n\t\tthis.state('incomplete','-COMPLETE', {\n\t\t\twillSet: function (_target) {\n\t\t\t\tthis.isComplete = false;\n\t\t\t}\n\t\t});\n\n\t\tthis.entity('carousel', function () {\n\t\t\t// The event 'behaviorTarget' for this entities 'hit' behavior\n\t\t\tthis.provideBehaviorTarget = function () {\n\t\t\t\t// Choose the item thats in the middle of the 3 visible.\n\t\t\t\treturn this.current().next();\n\t\t\t};\n\n\t\t});\n\n\t\tthis.respond('hit', function (_event) {\n\t\t\tif (_event.message === _event.behaviorTarget.id()) {\n\t\t\t\tthis.score.up();\n\t\t\t\tthis.playSFX('correct');\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\tthis.playSFX('incorrect');\n\t\t\t}\n\n\t\t\tthis.reveal.item(_event.behaviorTarget.id());\n\t\t});\n\n\t\tthis.respond('next', function () {\n\t\t\tthis.cannon.ball.reload();\n\t\t});\n\n\t\tthis.playSFX = function (_name) {\n\t\t\tvar sfx;\n\n\t\t\tsfx = pl.util.resolvePath(this, 'audio.sfx.'+_name);\n\n\t\t\tif (sfx) sfx.play();\n\n\t\t\treturn this;\n\t\t};\n\n\t});\n\n\tthis.screen('experiment-hands', resetMultipleChoice);\n\tthis.screen('experiment-why-warmer', resetMultipleChoice);\n\tthis.screen('experiment-how-warmer', resetMultipleChoice);\n\n\tthis.screen('experiment-discover', function() {\n\t\tthis.on('ui-open', function(_e) {\n\t\t\tif(!this.is(_e.target)) return;\n\n\t\t\tthis.unhighlight(this.find('.'+this.STATE.HIGHLIGHTED));\n\t\t});\n\n\t\tthis.respond('select', function (_event) {\n\t\t\tvar id = _event.message;\n\n\t\t\tif (id) {\n\t\t\t\tthis.highlight(_event.behaviorTarget);\n\t\t\t\tthis.audio.voiceOver[id].play();\n\t\t\t}\n\t\t});\n\n\t\tthis.entity('selectable', function() {\n\t\t\tthis.behavior('select', function (_target) {\n\t\t\t\tvar $target;\n\n\t\t\t\tif (this.event) {\n\t\t\t\t\t$target = $(this.event.target).closest('li');\n\n\t\t\t\t\tif (this.shouldSelect($target) !== false) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tmessage: $target.id(),\n\t\t\t\t\t\t\tbehaviorTarget: $target\n\t\t\t\t\t\t};\n\t\t\t\t\t}\t\n\t\t\t\t}\n\n\t\t\t\telse {\n\t\t\t\t\tthis.proto(_target);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t});\n\t\t});\n\t});\n\n\tthis.screen('flip', function () {\n\n\t\tthis.complete = function (_event) {\n\t\t\tvar eventCategory = (['game', this.game.id(), this.id()+'('+(this.index()+1)+')']).join(' ');\n\n\t\t\tga('send', 'event', eventCategory, 'complete');\n\n\t\t\treturn this.proto();\n\t\t};\n\n\t});\n\n\tthis.exit = function () {\n\t\tvar screen, eventCategory;\n\n\t\tscreen = this.findOwn(pl.game.config('screenSelector')+'.OPEN:not(#quit)').scope();\n\t\teventCategory = (['game', this.id(), screen.id()+'('+(screen.index()+1)+')']).join(' ');\n\n\t\tga('send', 'event', eventCategory, 'quit');\n\n\t\treturn this.proto();\n\t};\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./polar-bear/source/js/index.js\n **/","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-26000499-1', 'auto');\nga('send', 'pageview');\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/google-analytics.js\n **/","pl.game.component('screen-ios-splash', function () {\n\n\tthis.on('ready', function (_e) {\n\t\tif(!this.is(_e.target)) return;\n\n\t\tif(this.game && this.game.title.state(this.STATE.READY)) {\n\t\t\tthis.splash();\n\t\t}\n\t});\n\n\tthis.splash = function() {\n\t\tthis.close(this.game.loader);\n\n\t\tif(this.game.hasClass('iOS')) {\n\t\t\tthis.open();\n\t\t\tthis.ball.delay(0, this.ball.open);\n\t\t} else {\n\t\t\tthis.game.title.open();\n\t\t}\n\t};\n\n\tthis.next = function () {\n\t\tvar nextScreen = this.proto();\n\n\t\tif (nextScreen) {\n\t\t\tthis.screen.leave();\n\t\t\tnextScreen.open();\n\t\t\tthis.game.audio.sfx.button.play();\n\t\t}\n\n\t\treturn nextScreen;\n\t};\n\n\tthis.complete = function () {\n\t\tthis.game.audio.sfx.play('screenComplete');\n\t\treturn this.proto();\n\t};\n\n\tthis.startGame = function() {\n\t\tif(!this.hasClass('FINISHED')) return;\n\t\tthis.game.addClass('STARTED');\n\t\tthis.delay('2.5s', function() {\n\t\t\tthis.next();\n\t\t});\n\t};\n\n\tthis.on('animationend', function(_e) {\n\t\tif(!this.ball.is(_e.target)) return;\n\t\tthis.addClass('FINISHED');\n\t});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/screen-ios-splash.js\n **/","(function test (_env) {\n\tif (window.parent === window) {\n\t\twindow.location.href = 'https://www.changemyworldnow.com/';\n\t} else {\n\t\tdocument.domain = 'changemyworldnow.com';\n\t}\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/js/test-platform-integration.js\n **/"],"sourceRoot":""}